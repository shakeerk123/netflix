R7xOY[556858]=(function(){var z9E=2;for(;z9E !== 9;){switch(z9E){case 1:return globalThis;break;case 2:z9E=typeof globalThis === '\u006f\x62\x6a\u0065\u0063\u0074'?1:5;break;case 5:var Q0O;try{var D1A=2;for(;D1A !== 6;){switch(D1A){case 2:Object['\u0064\u0065\x66\u0069\u006e\u0065\x50\x72\u006f\x70\u0065\u0072\u0074\x79'](Object['\x70\x72\x6f\x74\u006f\u0074\x79\x70\x65'],'\x65\u0061\u004e\u0057\u006d',{'\x67\x65\x74':function(){var e$3=2;for(;e$3 !== 1;){switch(e$3){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});Q0O=eaNWm;Q0O['\x4e\x75\x5a\x68\x56']=Q0O;D1A=4;break;case 4:D1A=typeof NuZhV === '\u0075\x6e\u0064\x65\x66\x69\u006e\u0065\x64'?3:9;break;case 3:throw "";D1A=9;break;case 9:delete Q0O['\x4e\x75\x5a\x68\x56'];var R_r=Object['\x70\x72\x6f\u0074\x6f\u0074\x79\u0070\u0065'];delete R_r['\u0065\x61\u004e\x57\x6d'];D1A=6;break;}}}catch(n2D){Q0O=window;}return Q0O;break;}}})();R7xOY.o4M=function(){return typeof R7xOY[1229].j0d3p1f === 'function'?R7xOY[1229].j0d3p1f.apply(R7xOY[1229],arguments):R7xOY[1229].j0d3p1f;};R7xOY[100390]=false;R7xOY.e_n=function(){return typeof R7xOY[1229].j0d3p1f === 'function'?R7xOY[1229].j0d3p1f.apply(R7xOY[1229],arguments):R7xOY[1229].j0d3p1f;};R7xOY[184705]=R7xOY[556858];R7xOY[622647]=R7xOY[556858];R7xOY[556858].R6dd=R7xOY;R7xOY[368622]="Gb_";R7xOY.h1T=function(){return typeof R7xOY[1229].L$q3dyn === 'function'?R7xOY[1229].L$q3dyn.apply(R7xOY[1229],arguments):R7xOY[1229].L$q3dyn;};R7xOY.p3p=function(){return typeof R7xOY[1229].L$q3dyn === 'function'?R7xOY[1229].L$q3dyn.apply(R7xOY[1229],arguments):R7xOY[1229].L$q3dyn;};R7xOY[644066]=true;R7xOY[386924]=826;function R7xOY(){}R7xOY[304603]=false;R7xOY[269951]=true;R7xOY[1229]=(function(a2W){return {L$q3dyn:function(){var x9d,L7v=arguments;switch(a2W){case 19:x9d=L7v[1] - L7v[0] - L7v[2];break;case 16:x9d=L7v[0] + L7v[3] / L7v[1] * L7v[2];break;case 13:x9d=L7v[1] * L7v[0] - L7v[2];break;case 20:x9d=L7v[4] / L7v[2] + L7v[0] - L7v[3] + L7v[1];break;case 27:x9d=L7v[1] / L7v[4] / L7v[0] / L7v[2] - L7v[3];break;case 1:x9d=L7v[0] / L7v[1];break;case 14:x9d=L7v[1] * L7v[0];break;case 29:x9d=L7v[0] > L7v[1];break;case 17:x9d=L7v[1] / L7v[0] | L7v[2];break;case 26:x9d=(L7v[1] + L7v[4]) * L7v[0] - L7v[2] - L7v[3];break;case 5:x9d=L7v[1] < L7v[0];break;case 3:x9d=L7v[0] - L7v[2] - L7v[1] - L7v[3];break;case 22:x9d=L7v[1] - L7v[2] - L7v[0] - L7v[4] + L7v[3];break;case 24:x9d=L7v[2] * L7v[1] * L7v[0] / L7v[4] - L7v[3];break;case 18:x9d=(L7v[4] + L7v[2]) / L7v[3] / L7v[0] + L7v[1];break;case 15:x9d=(L7v[1] / L7v[2] | L7v[0]) * L7v[3];break;case 30:x9d=L7v[1] <= L7v[0];break;case 0:x9d=L7v[0] - L7v[1];break;case 7:x9d=(L7v[0] - L7v[1]) * L7v[2];break;case 4:x9d=L7v[3] / L7v[2] - L7v[0] + L7v[1];break;case 9:x9d=L7v[0] + L7v[1] + L7v[2] + L7v[3] + L7v[4];break;case 25:x9d=-L7v[1] + L7v[0];break;case 21:x9d=(L7v[0] + L7v[4] - L7v[1]) / L7v[2] + L7v[3];break;case 8:x9d=void L7v[0] !== L7v[1];break;case 11:x9d=L7v[1] === L7v[0];break;case 23:x9d=L7v[0] + L7v[2] - L7v[1];break;case 6:x9d=L7v[1] + L7v[0];break;case 2:x9d=L7v[1] * L7v[2] / L7v[0];break;case 10:x9d=L7v[1] + L7v[2] + L7v[0];break;case 12:x9d=(L7v[1] - L7v[2]) * L7v[0] - L7v[3];break;case 28:x9d=L7v[0] >= L7v[1];break;}return x9d;},j0d3p1f:function(f4w){a2W=f4w;}};})();(function(){(function(mb,Bb){var lc,vc,Pb,fd,Fb,Gb,Xb,ee,fe,Mb,Kb,Ec,ge,gd,he,ie,zd,Ia,Cb,Tc,je,Ad,eb,ub,Db,mc,fc,Ub,vb,Yb,Nb,Vc,Ib,wc,Jb,$b,hd,nc,jc,kc,id,Bd,ke,xc,yc,Gc,Cd,Wc,oc,jd,Dc,Dd,le,Mc,Ed,Fd,Gd,Hd,pc,Id,Jd,Kd,Oc,qc,rc,Pc,kd,ld,md,hc,lf,Qb,Fc,me,nd,sc,ne,mf,tc,oe,nf,od,pe,of,Sc,qe,kf,pf,Ld,pd,qf,rf,be,sf,ce,re,gc,Xc,se,Yc,te,ic,ue,ve,we,xe,uf,de,ye,yd,ze,tf,Ae,Md,Be,Ce,De,Nd,Cc,Fe,Ee,vf,$c,Ge,Pd,ad,He,Od,Ie,Je,Qd,Le,Me,td,Hc,Qc,Ic,Ne,Oe,Pe,Qe,Re,Se,ud,wf,Te,Ue,Sd,Ve,ec,Zc,Nc,qd,zc,uc,rd,Ac,Uc,Ke,We,bd,Xe,xf,cd,Ye,yf,zf,Ze,Rd,sd,$e,Bf,Af,Rc,ed,Cf,ae,Df,Ef;function ac(gb,fb){if(!fb || "utf-8" === fb)return vd(gb);throw Error("unsupported encoding");}function bc(gb,fb){if(!fb || "utf-8" === fb)return wd(gb);throw Error("unsupported encoding");}function vd(gb){for(var fb=0,db,$a=gb.length,kb="";fb < $a;){db=gb[fb++];if(db & 128)if(192 === (db & 224))db=((db & 31) << 6) + (gb[fb++] & 63);else if(224 === (db & 240))db=((db & 15) << 12) + ((gb[fb++] & 63) << 6) + (gb[fb++] & 63);else throw Error("unsupported character");kb+=String.fromCharCode(db);}return kb;}function wd(gb){var fb,db,$a,kb,rb;fb=gb.length;db=0;kb=0;for($a=fb;$a--;){rb=gb.charCodeAt($a);128 > rb?db++:db=2048 > rb?db + 2:db + 3;}db=new Uint8Array(db);for($a=0;$a < fb;$a++){rb=gb.charCodeAt($a);128 > rb?db[kb++]=rb:(2048 > rb?db[kb++]=192 | rb >>> 6:(db[kb++]=224 | rb >>> 12,db[kb++]=128 | rb >>> 6 & 63),db[kb++]=128 | rb & 63);}return db;}function cc(gb,fb){if(gb === fb)return !0;if(!gb || !fb || gb.length != fb.length)return !1;for(var db=0;db < gb.length;++db){if(gb[db] != fb[db])return !1;}return !0;}function dc(gb){var $a;if(!(gb && gb.constructor == Uint8Array || Array.isArray(gb)))throw new TypeError("Cannot compute the hash code of " + gb);for(var fb=1,db=0;db < gb.length;++db){$a=gb[db];if("number" !== typeof $a)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + $a);fb=31 * fb + $a & 4294967295;}return fb;}function Wd(gb,fb){var ib;if(gb === fb)return !0;if(!gb || !fb)return !1;fb instanceof Array || (fb=[fb]);for(var db=0;db < fb.length;++db){for(var $a=fb[db],kb=!1,rb=0;rb < gb.length;++rb){ib=gb[rb];if($a.equals && "function" === typeof $a.equals && $a.equals(ib) || $a == ib){kb=!0;break;}}if(!kb)return !1;}return !0;}function Xd(gb,fb){return Wd(gb,fb) && (gb.length == fb.length || Wd(fb,gb));}function Na(gb,fb,db){var $a,kb;db && ($a=db);if("object" !== typeof gb || "function" !== typeof gb.result || "function" !== typeof gb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{kb=fb.call($a,gb);kb !== Bb && gb.result(kb);}catch(rb){try{gb.error(rb);}catch(ib){}}}function bb(gb,fb,db){if("object" !== typeof gb || "function" !== typeof gb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Na(gb,fb,db);}function Y(gb,fb,db){1E5 > gb && (gb=1E5 + gb);Object.defineProperties(this,{internalCode:{value:gb,writable:!1,configurable:!1},responseCode:{value:fb,writable:!1,configurable:!1},message:{value:db,writable:!1,configurable:!1}});}function xd(gb){switch(gb){case Qb.PSK:case Qb.MGK:return !0;default:return !1;}}function Yd(gb){switch(gb){case Qb.PSK:case Qb.MGK:case Qb.X509:case Qb.RSA:case Qb.NPTICKET:case Qb.ECC:return !0;default:return !1;}}function ff(gb){return gb.toJSON();}function Zd(gb,fb){ed?fb.result(ed):Promise.resolve().then(function(){return Jb.getKeyByName(gb);}).catch(function(){return Jb.generateKey({name:gb},!1,["wrapKey","unwrapKey"]);}).then(function(db){ed=db;fb.result(ed);}).catch(function(db){fb.error(new eb(Y.INTERNAL_EXCEPTION,"Unable to get system key"));});}function $d(gb,fb){var db,$a;db=fb.masterToken;$a=fb.userIdToken;fb=fb.serviceTokens;return {NccpMethod:gb.method,UserId:gb.userId,UT:$a && $a.serialNumber,MT:db && db.serialNumber + ":" + db.sequenceNumber,STCount:fb && fb.length};}function gf(gb){return gb.uniqueKey();}function hf(gb,fb,db,$a,kb){var Qa;function rb(ya,pa){ya.errorCode === Ia.ENTITY_REAUTH || ya.errorCode === Ia.ENTITYDATA_REAUTH?($a.clearCryptoContexts(),La()):ya.errorCode !== Ia.USER_REAUTH && ya.errorCode !== Ia.USERDATA_REAUTH || ib(pa);}function ib(ya){if(ya=$a.getUserIdToken(ya))($a.removeUserIdToken(ya),La());}function Ga(ya,pa,ja){var ca;ca=[];(function aa(){ya.read(-1,pa,{result:function(ea){Na(ja,function(){var ba,ma,za,ua,na;if(ea)(ca.push(ea),aa());else switch(ca.length){case 0:return new Uint8Array(0);case 1:return ca[0];default:(za=ca.length,ua=0);for(ma=ba=0;ma < za;ma++){ba+=ca[ma].length;}ba=new Uint8Array(ba);for(ma=0;ma < za;ma++){na=ca[ma];ba.set(na,ua);ua+=na.length;}return ba;}});},timeout:function(){ja.timeout();},error:function(ea){ja.error(ea);}});})();}function La(){$a.getStoreState({result:function(ya){for(var pa=Qa.slice(),ja=0;ja < pa.length;ja++){pa[ja]({storeState:ya});}},timeout:function(){gb.error("Timeout getting store state","" + e);},error:function(ya){gb.error("Error getting store state","" + ya);}});}Qa=[];this.addEventHandler=function(ya,pa){switch(ya){case "shouldpersist":Qa.push(pa);}};this.send=function(ya){return new Promise(function(pa,ja){var ca,Z,aa;ca=ya.timeout;Z=new ae(gb,db,ya,$a.getKeyRequestData());aa=new be(ya.url);gb.trace("Sending MSL request");fb.request(db,Z,aa,ca,{result:function(ea){var ba;gb.trace("Received MSL response",{Method:ya.method});if(ea){ya.allowTokenRefresh && La();ba=ea.getErrorHeader();ba?(rb(ba,ya.profileGuid || ya.userId),ja({success:!1,error:ba})):Ga(ea,ca,{result:function(ma){pa({success:!0,body:ac(ma)});},timeout:function(){ja({success:!1,subCode:kb.MSL_READ_TIMEOUT});},error:function(ma){ja({success:!1,error:ma});}});}else ja({success:!1,error:new eb(Y.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ja({success:!1,subCode:kb.MSL_REQUEST_TIMEOUT});},error:function(ea){ja({success:!1,error:ea});}});});};this.hasUserIdToken=function(ya){return !!$a.getUserIdToken(ya);};this.getUserIdTokenKeys=function(){return $a.getUserIdTokenKeys();};this.removeUserIdToken=ib;this.clearUserIdTokens=function(){$a.clearUserIdTokens();La();};this.isErrorReauth=function(ya){return ya && ya.errorCode == Ia.USERDATA_REAUTH;};this.isErrorHeader=function(ya){return ya instanceof Cc;};this.getErrorCode=function(ya){return ya && ya.errorCode;};this.getStateForMdx=function(ya){var pa,ja;pa=$a.getMasterToken();ya=$a.getUserIdToken(ya);ja=$a.getCryptoContext(pa);return {masterToken:pa,userIdToken:ya,cryptoContext:ja};};this.buildPlayDataRequest=function(ya,pa){var ja;ja=new ce();fb.request(db,new ae(gb,db,ya),ja,ya.timeout,{result:function(){pa.result(ja.getRequest());},error:function(){pa.result(ja.getRequest());},timeout:function(){pa.timeout();}});};this.rekeyUserIdToken=function(ya,pa){$a.rekeyUserIdToken(ya,pa);La();};this.getServiceTokens=function(ya){var pa;pa=$a.getMasterToken();(ya=$a.getUserIdToken(ya)) && !ya.isBoundTo(pa) && (ya=Bb);return $a.getServiceTokens(pa,ya);};this.removeServiceToken=function(ya){var pa;pa=$a.getMasterToken();$a.getServiceTokens(pa).find(function(ja){return ja.name === ya;}) && ($a.removeServiceTokens(ya,pa),La());};}function jf(gb,fb,db){var rb;function $a(){return Promise.resolve().then(function(){return Jb.generateKey(fb,!1,["wrapKey","unwrapKey"]);}).then(function(ib){return kb(ib.publicKey,ib.privateKey);});}function kb(ib,Ga){return Promise.all([new Promise(function(La,Qa){Dc(ib,{result:La,error:function(ya){Qa(new eb(Y.INTERNAL_EXCEPTION,"Unable to create keyx public key",ya));}});}),new Promise(function(La,Qa){Mc(Ga,{result:La,error:function(ya){Qa(new eb(Y.INTERNAL_EXCEPTION,"Unable to create keyx private key",ya));}});})]).then(function(La){La=new yd("rsaKeypairId",db,La[0],La[1]);rb && (La.storeData={keyxPublicKey:ib,keyxPrivateKey:Ga});return La;});}rb=!gb.systemKeyWrapFormat;return Promise.resolve().then(function(){var ib,Ga;ib=gb.storeState;Ga=ib && ib.keyxPublicKey;ib=ib && ib.keyxPrivateKey;return rb && Ga && ib?kb(Ga,ib):$a();}).then(function(ib){var Ga,La,Qa;Ga={};Ga[Qb.NONE]=new kf();La=new Sc(gb.esn);Qa=[new de()];return {entityAuthFactories:Ga,entityAuthData:La,keyExchangeFactories:Qa,keyRequestData:ib,createKeyRequestData:rb?$a:Bb};});}vc=mb.nfCrypto || mb.msCrypto || mb.webkitCrypto || mb.crypto;Pb=vc && (vc.webkitSubtle || vc.subtle);fd=mb.nfCryptokeys || mb.msCryptokeys || mb.webkitCryptokeys || mb.cryptokeys;(function(gb){var fb,db;fb=(function(){function $a(kb,rb){kb instanceof fb?(this.abv=kb.abv,this.position=kb.position):(this.abv=kb,this.position=rb || 0);}$a.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(kb){this.abv[this.position++]=kb;},peekByte:function(kb){return this.abv[kb];},copyBytes:function(kb,rb,ib){var Ga;Ga=new Uint8Array(this.abv.buffer,this.position,ib);kb=new Uint8Array(kb.buffer,rb,ib);Ga.set(kb);this.position+=ib;},seek:function(kb){this.position=kb;},skip:function(kb){this.position+=kb;},getPosition:function(){return this.position;},setPosition:function(kb){this.position=kb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return $a;})();db={};(function(){var ea,ba,ma,za,ua,na,ta,Da,oa;function $a(da,ia){var la;ia.writeByte(da.tagClass << 6 | da.constructed << 5 | da.tag);la=da.payloadLen;if(128 > la)ia.writeByte(la);else {for(var Ba=la,Sa=0;Ba;){++Sa;Ba>>=8;}ia.writeByte(128 | Sa);for(Ba=0;Ba < Sa;++Ba){ia.writeByte(la >> 8 * (Sa - Ba - 1) & 255);}}if(da.child)for((da.tag == ea.BIT_STRING && ia.writeByte(0),da=da._child);da;){if(!$a(da,ia))return !1;da=da.next;}else switch(da.tag){case ea.INTEGER:da.backingStore[da.dataIdx] >> 7 && ia.writeByte(0);ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.BIT_STRING:ia.writeByte(0);ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OCTET_STRING:ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OBJECT_IDENTIFIER:ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);}return !0;}function kb(da){var ia,la;ia=da.readByte();la=ia & 127;if(la == ia)return la;if(3 < la || 0 === la)return -1;for(var Ba=ia=0;Ba < la;++Ba){ia=ia << 8 | da.readByte();}return ia;}function rb(da,ia,la){var Ba,Sa,Ma,Ra,Ta,sa,Ca;Ba=da.backingStore;Sa=new fb(Ba,ia);ia+=la;la=da;if(8 < ua++)return Bb;for(;Sa.getPosition() < ia;){Sa.getPosition();Ra=Sa.readByte();if(31 == (Ra & 31)){for(Ma=0;Ra & 128;){Ma<<=8;Ma|=Ra & 127;}Ra=Ma;}Ta=Ra;Ma=Ta & 31;if(0 > Ma || 30 < Ma)return Bb;Ra=kb(Sa);if(0 > Ra || Ra > Sa.getRemaining())return Bb;la.constructed=Ta & 32;la.tagClass=(Ta & 192) >> 6;la.tag=Ma;la.dataLen=Ra;la.dataIdx=Sa.getPosition();Ma=Sa;sa=Ta;Ta=Ra;if(sa & 32)Ma=!0;else if(sa < ea.BIT_STRING || sa > ea.OCTET_STRING)Ma=!1;else {Ca=new fb(Ma);sa == ea.BIT_STRING && Ca.skip(1);Ca.readByte() >> 6 & 1?Ma=!1:(sa=kb(Ca),Ma=Ca.getPosition() - Ma.getPosition() + sa == Ta);}Ma && (Ma=Sa.getPosition(),Ta=Ra,la.tag == ea.BIT_STRING && (la.dataIdx++,la.dataLen--,Ma++,Ta--),la.child=new ba(Ba,la),rb(la.child,Ma,Ta));la.tag == ea.INTEGER && (Ma=Sa.getPosition(),0 == Sa.peekByte(Ma) && Sa.peekByte(Ma + 1) >> 7 && (la.dataIdx++,la.dataLen--));Sa.skip(Ra);Sa.getPosition() < ia && (la.next=new ba(Ba,la.parent),la=la.next);}ua--;return da;}function ib(da,ia,la){if(9 != la)return !1;for(la=0;9 > la;++la){if(da[ia++] != na[la])return !1;}return !0;}function Ga(da){var ia;if(!(da && da.child && da.child.next && da.child.child && da.child.next.child))return !1;ia=da.child.child;return ib(ia.backingStore,ia.dataIdx,ia.dataLen) && 2 == da.nChildren && 2 == da.child.nChildren && 2 == da.child.next.child.nChildren?!0:!1;}function La(da){var ia;if(!(da && da.child && da.child.next && da.child.next.child && da.child.next.next && da.child.next.next.child))return !1;ia=da.child.next.child;return ib(ia.backingStore,ia.dataIdx,ia.dataLen) && 3 == da.nChildren && 2 == da.child.next.nChildren && 9 == da.child.next.next.child.nChildren?!0:!1;}function Qa(da){var ia,la;ia=ma.createSequenceNode();la=new za(ia);la.addChild(ma.createSequenceNode());la.addChild(ma.createOidNode(na));la.addSibling(ma.createNullNode());la.addToParent(ia,ma.createBitStringNode(null));la.addChild(ma.createSequenceNode());la.addChild(ma.createIntegerNode(da.n));la.addSibling(ma.createIntegerNode(da.e));return ia;}function ya(da){var ia;da=da.child.next.child.child;ia=da.data;da=da.next;return new ta(ia,da.data,null,null);}function pa(da){var ia,la;ia=ma.createSequenceNode();la=new za(ia);la.addChild(ma.createIntegerNode(new Uint8Array([0])));la.addSibling(ma.createSequenceNode());la.addChild(ma.createOidNode(na));la.addSibling(ma.createNullNode());la.addToParent(ia,ma.createOctetStringNode(null));la.addChild(ma.createSequenceNode());la.addChild(ma.createIntegerNode(new Uint8Array([0])));la.addSibling(ma.createIntegerNode(da.n));la.addSibling(ma.createIntegerNode(da.e));la.addSibling(ma.createIntegerNode(da.d));la.addSibling(ma.createIntegerNode(da.p));la.addSibling(ma.createIntegerNode(da.q));la.addSibling(ma.createIntegerNode(da.dp));la.addSibling(ma.createIntegerNode(da.dq));la.addSibling(ma.createIntegerNode(da.qi));return ia;}function ja(da){var ia;ia=[];da=da.child.next.next.child.child.next;for(var la=0;8 > la;la++){ia.push(da.data);da=da.next;}return new Da(ia[0],ia[1],ia[2],ia[3],ia[4],ia[5],ia[6],ia[7]);}function ca(da,ia,la,Ba){if(!(da instanceof ta || da instanceof Da))return Bb;if(la)for(var Sa=0;Sa < la.length;++Sa){if(-1 == oa.indexOf(la[Sa]))return Bb;}ia={kty:"RSA",alg:ia,key_ops:la || [],ext:Ba == Bb?!1:Ba,n:Fb(da.n,!0),e:Fb(da.e,!0)};da instanceof Da && (ia.d=Fb(da.d,!0),ia.p=Fb(da.p,!0),ia.q=Fb(da.q,!0),ia.dp=Fb(da.dp,!0),ia.dq=Fb(da.dq,!0),ia.qi=Fb(da.qi,!0));return ia;}function Z(da){var ia,la,Ba,Sa,Ma,Ra,Ta,sa,Ca,Ha;if(!da.kty || "RSA" != da.kty || !da.n || !da.e)return Bb;ia=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(da.alg && -1 == ia.indexOf(da.alg))return Bb;ia=[];da.use?"enc" == da.use?ia=["encrypt","decrypt","wrap","unwrap"]:"sig" == da.use && (ia=["sign","verify"]):ia=da.key_ops;la=da.ext;Ba=Gb(da.n,!0);Sa=Gb(da.e,!0);if(da.d){Ma=Gb(da.d,!0);Ra=Gb(da.p,!0);Ta=Gb(da.q,!0);sa=Gb(da.dp,!0);Ca=Gb(da.dq,!0);Ha=Gb(da.qi,!0);return new Da(Ba,Sa,Ma,Ra,Ta,sa,Ca,Ha,da.alg,ia,la);}return new ta(Ba,Sa,la,ia);}function aa(da,ia,la,Ba){this.der=da;this.type=ia;this.keyOps=la;this.extractable=Ba;}ea={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};ba=function(da,ia,la,Ba,Sa,Ma){this._data=da;this._parent=ia || Bb;this._constructed=la || !1;this._tagClass=0;this._tag=Ba || 0;this._dataIdx=Sa || 0;this._dataLen=Ma || 0;};ba.prototype={_child:Bb,_next:Bb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(da) {this._constructed=0 != da?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(da) {this._tagClass=da;},get tag() {return this._tag;},set tag(da) {this._tag=da;},get dataIdx() {return this._dataIdx;},set dataIdx(da) {this._dataIdx=da;},get dataLen() {return this._dataLen;},set dataLen(da) {this._dataLen=da;},get child() {return this._child;},set child(da) {this._child=da;this._child.parent=this;},get next() {return this._next;},set next(da) {this._next=da;},get parent() {return this._parent;},set parent(da) {this._parent=da;},get payloadLen() {var da;da=0;if(this._child){for(var ia=this._child;ia;){da+=ia.length;ia=ia.next;}this._tag == ea.BIT_STRING && da++;}else switch(this._tag){case ea.INTEGER:da=this._dataLen;this._data[this._dataIdx] >> 7 && da++;break;case ea.BIT_STRING:da=this._dataLen + 1;break;case ea.OCTET_STRING:da=this._dataLen;break;case ea.NULL:da=0;break;case ea.OBJECT_IDENTIFIER:ib(this._data,this._dataIdx,this._dataLen) && (da=9);}return da;},get length() {var da,ia;da=this.payloadLen;if(127 < da)for(ia=da;ia;){ia>>=8;++da;}return da + 2;},get der() {var da,ia;da=this.length;if(!da)return Bb;da=new Uint8Array(da);ia=new fb(da);return $a(this,ia)?da:Bb;},get nChildren() {for(var da=0,ia=this._child;ia;){da++;ia=ia.next;}return da;}};ma={createSequenceNode:function(){return new ba(null,null,!0,ea.SEQUENCE,null,null);},createOidNode:function(da){return new ba(da,null,!1,ea.OBJECT_IDENTIFIER,0,da?da.length:0);},createNullNode:function(){return new ba(null,null,!1,ea.NULL,null,null);},createBitStringNode:function(da){return new ba(da,null,!1,ea.BIT_STRING,0,da?da.length:0);},createIntegerNode:function(da){return new ba(da,null,!1,ea.INTEGER,0,da?da.length:0);},createOctetStringNode:function(da){return new ba(da,null,!1,ea.OCTET_STRING,0,da?da.length:0);}};za=function(da){this._currentNode=this._rootNode=da;};za.prototype={addChild:function(da){this.addTo(this._currentNode,da);},addSibling:function(da){this.addTo(this._currentNode.parent,da);},addTo:function(da,ia){this._currentNode=ia;this._currentNode.parent=da;if(da.child){for(da=da.child;da.next;){da=da.next;}da.next=ia;}else da.child=ia;},addToParent:function(da,ia){this.findNode(da) && this.addTo(da,ia);},findNode:function(da){for(var ia=this._currentNode;ia;){if(da == ia)return !0;ia=ia.parent;}return !1;}};ua=0;na=new Uint8Array([42,134,72,134,247,13,1,1,1]);ta=function(da,ia,la,Ba){this.n=da;this.e=ia;this.ext=la;this.keyOps=Ba;};Da=function(da,ia,la,Ba,Sa,Ma,Ra,Ta,sa,Ca,Ha){this.n=da;this.e=ia;this.d=la;this.p=Ba;this.q=Sa;this.dp=Ma;this.dq=Ra;this.qi=Ta;this.alg=sa;this.keyOps=Ca;this.ext=Ha;};oa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");aa.prototype.getDer=function(){return this.der;};aa.prototype.getType=function(){return this.type;};aa.prototype.getKeyOps=function(){return this.keyOps;};aa.prototype.getExtractable=function(){return this.extractable;};db.parse=function(da){ua=0;return rb(new ba(da),0,da.length);};db.show=function(da,ia){};db.isRsaSpki=Ga;db.isRsaPkcs8=La;db.NodeFactory=ma;db.Builder=za;db.tagVal=ea;db.RsaPublicKey=ta;db.RsaPrivateKey=Da;db.buildRsaSpki=Qa;db.parseRsaSpki=function(da){da=db.parse(da);return Ga?ya(da):Bb;};db.buildRsaPkcs8=pa;db.parseRsaPkcs8=function(da){da=db.parse(da);return La(da)?ja(da):Bb;};db.buildRsaJwk=ca;db.parseRsaJwk=Z;db.RsaDer=aa;db.rsaDerToJwk=function(da,ia,la,Ba){da=db.parse(da);if(!da)return Bb;if(Ga(da))da=ya(da);else if(La(da))da=ja(da);else return Bb;return ca(da,ia,la,Ba);};db.jwkToRsaDer=function(da){var ia,la;da=Z(da);if(!da)return Bb;if(da instanceof ta){ia="spki";la=Qa(da).der;}else if(da instanceof Da)(ia="pkcs8",la=pa(da).der);else return Bb;return new aa(la,ia,da.keyOps,da.ext);};db.webCryptoAlgorithmToJwkAlg=function(da){return "RSAES-PKCS1-v1_5" == da.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == da.name?"SHA-256" == da.hash.name?"RS256":"SHA-384" == da.hash.name?"RS384":"SHA-512" == da.hash.name?"RS512":Bb:Bb;};db.webCryptoUsageToJwkKeyOps=function(da){return da.map(function(ia){return "wrapKey" == ia?"wrap":"unwrapKey" == ia?"unwrap":ia;});};})();gb.ASN1=db;})(mb);(function(){for(var gb={},fb={},db={"=":0,".":0},$a={"=":0,".":0},kb=/\s+/g,rb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,ib=64;ib--;){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=262144 * ib;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=4096 * ib;db[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=64 * ib;$a[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=ib;}for(ib=64;ib-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib];){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=262144 * ib;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=4096 * ib;db[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=64 * ib;$a[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=ib;}Fb=function(Ga,La){for(var Qa="",ya=0,pa=Ga.length,ja=pa - 2,ca=La?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z=La?"":"=";ya < ja;){La=65536 * Ga[ya++] + 256 * Ga[ya++] + Ga[ya++];Qa+=ca[La >>> 18] + ca[La >>> 12 & 63] + ca[La >>> 6 & 63] + ca[La & 63];}ya == ja?(La=65536 * Ga[ya++] + 256 * Ga[ya++],Qa+=ca[La >>> 18] + ca[La >>> 12 & 63] + ca[La >>> 6 & 63] + Z):ya == pa - 1 && (La=65536 * Ga[ya++],Qa+=ca[La >>> 18] + ca[La >>> 12 & 63] + Z + Z);return Qa;};Gb=function(Ga,La){Ga=Ga.replace(kb,"");if(La && (La=Ga.length % 4)){La=4 - La;for(var Qa=0;Qa < La;++Qa){Ga+="=";}}La=Ga.length;if(0 != La % 4 || !rb.test(Ga))throw Error("bad base64: " + Ga);for(var ya=La / 4 * 3 - ("=" == Ga[La - 1]?1:0) - ("=" == Ga[La - 2]?1:0),pa=new Uint8Array(ya),ja=0,ca=0;ja < La;){Qa=gb[Ga[ja++]] + fb[Ga[ja++]] + db[Ga[ja++]] + $a[Ga[ja++]];pa[ca++]=Qa >>> 16;ca < ya && (pa[ca++]=Qa >>> 8 & 255,ca < ya && (pa[ca++]=Qa & 255));}return pa;};})();Xb={};(function(){var rb,ib,Ga,Qa;function gb(ya){if(!(this instanceof gb))return new gb(ya);for(var pa=0,ja=ib.length;pa < ja;pa++){this[ib[pa]]="";}this.bufferCheckPosition=Xb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=ya || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ga.BEGIN;this.stack=new rb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;fb(this,"onready");}function fb(ya,pa,ja){if(ya[pa])ya[pa](ja);}function db(ya,pa){var ja,ca;ja=ya.opt;ca=ya.textNode;ja.trim && (ca=ca.trim());ja.normalize && (ca=ca.replace(/\s+/g," "));ya.textNode=ca;ya.textNode && fb(ya,pa?pa:"onvalue",ya.textNode);ya.textNode="";}function $a(ya,pa){db(ya);pa+="\nLine: " + ya.line + "\nColumn: " + ya.column + "\nChar: " + ya.c;pa=Error(pa);ya.error=pa;fb(ya,"onerror",pa);return ya;}function kb(ya){ya.state !== Ga.VALUE && $a(ya,"Unexpected end");db(ya);ya.c="";ya.closed=!0;fb(ya,"onend");gb.call(ya,ya.opt);return ya;}rb=Array;Xb.parser=function(ya){return new gb(ya);};Xb.CParser=gb;Xb.MAX_BUFFER_LENGTH=65536;Xb.DEBUG=!1;Xb.INFO=!1;Xb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");ib=["textNode","numberNode"];Xb.EVENTS.filter(function(ya){return "error" !== ya && "end" !== ya;});Ga=0;Xb.STATE={BEGIN:Ga++,VALUE:Ga++,OPEN_OBJECT:Ga++,CLOSE_OBJECT:Ga++,OPEN_ARRAY:Ga++,CLOSE_ARRAY:Ga++,TEXT_ESCAPE:Ga++,STRING:Ga++,BACKSLASH:Ga++,END:Ga++,OPEN_KEY:Ga++,CLOSE_KEY:Ga++,TRUE:Ga++,TRUE2:Ga++,TRUE3:Ga++,FALSE:Ga++,FALSE2:Ga++,FALSE3:Ga++,FALSE4:Ga++,NULL:Ga++,NULL2:Ga++,NULL3:Ga++,NUMBER_DECIMAL_POINT:Ga++,NUMBER_DIGIT:Ga++};for(var La in Xb.STATE){Xb.STATE[Xb.STATE[La]]=La;}Ga=Xb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(ya){return ya.__proto__;});Qa=/[\\"\n]/g;gb.prototype={end:function(){kb(this);},write:function(ya){var ca,Z,aa;if(this.error)throw this.error;if(this.closed)return $a(this,"Cannot write after close. Assign an onready handler.");if(null === ya)return kb(this);for(var pa=ya[0],ja;pa;){ja=pa;this.c=pa=ya.charAt(this.index++);ja !== pa?this.p=ja:ja=this.p;if(!pa)break;this.position++;"\n" === pa?(this.line++,this.column=0):this.column++;switch(this.state){case Ga.BEGIN:"{" === pa?this.state=Ga.OPEN_OBJECT:"[" === pa?this.state=Ga.OPEN_ARRAY:"\r" !== pa && "\n" !== pa && " " !== pa && "\t" !== pa && $a(this,"Non-whitespace before {[.");continue;case Ga.OPEN_KEY:case Ga.OPEN_OBJECT:if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;if(this.state === Ga.OPEN_KEY)this.stack.push(Ga.CLOSE_KEY);else if("}" === pa){fb(this,"onopenobject");fb(this,"oncloseobject");this.state=this.stack.pop() || Ga.VALUE;continue;}else this.stack.push(Ga.CLOSE_OBJECT);'"' === pa?this.state=Ga.STRING:$a(this,'Malformed object key should start with "');continue;case Ga.CLOSE_KEY:case Ga.CLOSE_OBJECT:if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;":" === pa?(this.state === Ga.CLOSE_OBJECT?(this.stack.push(Ga.CLOSE_OBJECT),db(this,"onopenobject")):db(this,"onkey"),this.state=Ga.VALUE):"}" === pa?(db(this),fb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ga.VALUE):"," === pa?(this.state === Ga.CLOSE_OBJECT && this.stack.push(Ga.CLOSE_OBJECT),db(this),this.state=Ga.OPEN_KEY):$a(this,"Bad object");continue;case Ga.OPEN_ARRAY:case Ga.VALUE:if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;if(this.state === Ga.OPEN_ARRAY)if((fb(this,"onopenarray"),this.state=Ga.VALUE,"]" === pa)){fb(this,"onclosearray");this.state=this.stack.pop() || Ga.VALUE;continue;}else this.stack.push(Ga.CLOSE_ARRAY);'"' === pa?this.state=Ga.STRING:"{" === pa?this.state=Ga.OPEN_OBJECT:"[" === pa?this.state=Ga.OPEN_ARRAY:"t" === pa?this.state=Ga.TRUE:"f" === pa?this.state=Ga.FALSE:"n" === pa?this.state=Ga.NULL:"-" === pa?this.numberNode+=pa:"0" === pa?(this.numberNode+=pa,this.state=Ga.NUMBER_DIGIT):-1 !== ("123456789").indexOf(pa)?(this.numberNode+=pa,this.state=Ga.NUMBER_DIGIT):$a(this,"Bad value");continue;case Ga.CLOSE_ARRAY:if("," === pa)(this.stack.push(Ga.CLOSE_ARRAY),db(this,"onvalue"),this.state=Ga.VALUE);else if("]" === pa)(db(this),fb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ga.VALUE);else if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;else $a(this,"Bad array");continue;case Ga.STRING:ja=this.index - 1;(ca=this.slashed,Z=this.unicodeI);a:for(;;){if(Xb.DEBUG)for(;0 < Z;){if((this.unicodeS+=pa,pa=ya.charAt(this.index++),4 === Z?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),Z=0,ja=this.index - 1):Z++,!pa))break a;}if('"' === pa && !ca){this.state=this.stack.pop() || Ga.VALUE;(this.textNode+=ya.substring(ja,this.index - 1)) || fb(this,"onvalue","");break;}if("\\" === pa && !ca && (ca=!0,this.textNode+=ya.substring(ja,this.index - 1),pa=ya.charAt(this.index++),!pa))break;if(ca)if((ca=!1,"n" === pa?this.textNode+="\n":"r" === pa?this.textNode+="\r":"t" === pa?this.textNode+="\t":"f" === pa?this.textNode+="\f":"b" === pa?this.textNode+="\b":"u" === pa?(Z=1,this.unicodeS=""):this.textNode+=pa,pa=ya.charAt(this.index++),ja=this.index - 1,pa))continue;else break;Qa.lastIndex=this.index;aa=Qa.exec(ya);if(null === aa){this.index=ya.length + 1;this.textNode+=ya.substring(ja,this.index - 1);break;}this.index=aa.index + 1;pa=ya.charAt(aa.index);if(!pa){this.textNode+=ya.substring(ja,this.index - 1);break;}}this.slashed=ca;this.unicodeI=Z;continue;case Ga.TRUE:if("" === pa)continue;"r" === pa?this.state=Ga.TRUE2:$a(this,"Invalid true started with t" + pa);continue;case Ga.TRUE2:if("" === pa)continue;"u" === pa?this.state=Ga.TRUE3:$a(this,"Invalid true started with tr" + pa);continue;case Ga.TRUE3:if("" === pa)continue;"e" === pa?(fb(this,"onvalue",!0),this.state=this.stack.pop() || Ga.VALUE):$a(this,"Invalid true started with tru" + pa);continue;case Ga.FALSE:if("" === pa)continue;"a" === pa?this.state=Ga.FALSE2:$a(this,"Invalid false started with f" + pa);continue;case Ga.FALSE2:if("" === pa)continue;"l" === pa?this.state=Ga.FALSE3:$a(this,"Invalid false started with fa" + pa);continue;case Ga.FALSE3:if("" === pa)continue;"s" === pa?this.state=Ga.FALSE4:$a(this,"Invalid false started with fal" + pa);continue;case Ga.FALSE4:if("" === pa)continue;"e" === pa?(fb(this,"onvalue",!1),this.state=this.stack.pop() || Ga.VALUE):$a(this,"Invalid false started with fals" + pa);continue;case Ga.NULL:if("" === pa)continue;"u" === pa?this.state=Ga.NULL2:$a(this,"Invalid null started with n" + pa);continue;case Ga.NULL2:if("" === pa)continue;"l" === pa?this.state=Ga.NULL3:$a(this,"Invalid null started with nu" + pa);continue;case Ga.NULL3:if("" === pa)continue;"l" === pa?(fb(this,"onvalue",null),this.state=this.stack.pop() || Ga.VALUE):$a(this,"Invalid null started with nul" + pa);continue;case Ga.NUMBER_DECIMAL_POINT:"." === pa?(this.numberNode+=pa,this.state=Ga.NUMBER_DIGIT):$a(this,"Leading zero not followed by .");continue;case Ga.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(pa)?this.numberNode+=pa:"." === pa?(-1 !== this.numberNode.indexOf(".") && $a(this,"Invalid number has two dots"),this.numberNode+=pa):"e" === pa || "E" === pa?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || $a(this,"Invalid number has two exponential"),this.numberNode+=pa):"+" === pa || "-" === pa?("e" !== ja && "E" !== ja && $a(this,"Invalid symbol in number"),this.numberNode+=pa):(this.numberNode && fb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ga.VALUE);continue;default:$a(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){ya=Math.max(Xb.MAX_BUFFER_LENGTH,10);ja=pa=0;for(ca=ib.length;ja < ca;ja++){Z=this[ib[ja]].length;if(Z > ya)switch(ib[ja]){case "text":break;default:$a(this,"Max buffer length exceeded: " + ib[ja]);}pa=Math.max(pa,Z);}this.bufferCheckPosition=Xb.MAX_BUFFER_LENGTH - pa + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var $a,kb,rb;function gb(ib,Ga){Ga || (Ga=ib.length);return ib.reduce(function(La,Qa,ya){return ya < Ga?La + String.fromCharCode(Qa):La;},"");}for(var fb={},db=0;256 > db;++db){$a=gb([db]);fb[$a]=db;}kb=Object.keys(fb).length;rb=[];for(db=0;256 > db;++db){rb[db]=[db];}ee=function(ib,Ga){var ba,ma;function La(za,ua){var na;for(;0 < ua;){if(Z >= ca.length)return !1;if(ua > aa){na=za;na>>>=ua - aa;ca[Z]|=na & 255;ua-=aa;aa=8;++Z;}else ua <= aa && (na=za,na<<=aa - ua,na&=255,na>>>=8 - aa,ca[Z]|=na & 255,aa-=ua,ua=0,0 == aa && (aa=8,++Z));}return !0;}for(var Qa in fb){Ga[Qa]=fb[Qa];}for(var ya=kb,pa=[],ja=8,ca=new Uint8Array(ib.length),Z=0,aa=8,ea=0;ea < ib.length;++ea){ba=ib[ea];pa.push(ba);Qa=gb(pa);ma=Ga[Qa];if(!ma){pa=gb(pa,pa.length - 1);if(!La(Ga[pa],ja))return null;0 != ya >> ja && ++ja;Ga[Qa]=ya++;pa=[ba];}}return 0 < pa.length && (Qa=gb(pa),ma=Ga[Qa],!La(ma,ja))?null:ca.subarray(0,8 > aa?Z + 1:Z);};fe=function(ib){var ea,ba;for(var Ga=rb.slice(),La=0,Qa=0,ya=8,pa=new Uint8Array(Math.ceil(1.5 * ib.length)),ja=0,ca,Z=[];La < ib.length && !(8 * (ib.length - La) - Qa < ya);){for(var aa=ca=0;aa < ya;){ea=Math.min(ya - aa,8 - Qa);ba=ib[La];ba<<=Qa;ba&=255;ba>>>=8 - ea;aa+=ea;Qa+=ea;8 == Qa && (Qa=0,++La);ca|=(ba & 255) << ya - aa;}aa=Ga[ca];0 == Z.length?++ya:(aa?Z.push(aa[0]):Z.push(Z[0]),Ga[Ga.length]=Z,Z=[],Ga.length == 1 << ya && ++ya,aa || (aa=Ga[ca]));ca=ja + aa.length;ca >= pa.length && (ea=new Uint8Array(Math.ceil(1.5 * ca)),ea.set(pa),pa=ea);pa.set(aa,ja);ja=ca;Z=Z.concat(aa);}return pa.subarray(0,ja);};})();(function(){var gb,fb,db;Mb="utf-8";Kb=9007199254740992;gb=Ec={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Ec);ge=function($a){for(var kb=[gb.GZIP,gb.LZW],rb=0;rb < kb.length && 0 < $a.length;++rb){for(var ib=kb[rb],Ga=0;Ga < $a.length;++Ga){if($a[Ga] == ib)return ib;}}return null;};fb=gd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(gd);he=function($a){return fb.AES_CBC_PKCS5Padding == $a?fb.AES_CBC_PKCS5Padding:fb.RSA_ECB_PKCS1Padding == $a?fb.RSA_ECB_PKCS1Padding:fb[$a];};db=ie={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(ie);zd=function($a){return db[$a];};Ia={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ia);})();Cb={isObjectLiteral:function(gb){return null !== gb && "object" === typeof gb && gb.constructor === Object;},extendDeep:function(){var gb,fb,db,$a,kb,rb,ib,Ga;gb=arguments[0];fb=1;db=arguments.length;$a=!1;"boolean" === typeof gb && ($a=gb,gb=arguments[1],fb=2);for(;fb < db;fb++){if(null != (kb=arguments[fb]))for(rb in kb){if(!($a && (rb in gb))){ib=kb[rb];if(gb !== ib && ib !== Bb){Ga=gb[rb];gb[rb]=null !== Ga && null !== ib && "object" === typeof Ga && "object" === typeof ib?Cb.extendDeep($a,{},Ga,ib):ib;}}}}return gb;}};(function(){var ib,Ga;function gb(La,Qa){return function(){var ya,pa;ya=La.base;La.base=Qa;pa=La.apply(this,arguments);La.base=ya;return pa;};}function fb(La,Qa,ya){var pa,ja,ca,Z;ya=ya || Ga;ja=!!ya.extendAll;for(pa in Qa){ca=Qa.__lookupGetter__(pa);Z=Qa.__lookupSetter__(pa);ca || Z?(ca && La.__defineGetter__(pa,ca),Z && La.__defineSetter__(pa,Z)):(ca=Qa[pa],Z=La[pa],"function" === typeof ca && "function" === typeof Z && ca !== Z?(ca.base !== Function.prototype.base && (ca=gb(ca,Z)),ca.base=Z):(ja || ya[pa]) && Cb.isObjectLiteral(ca) && Cb.isObjectLiteral(Z) && (ca=Cb.extendDeep({},Z,ca)),La[pa]=ca);}}function db(){var La,Qa;La=Array.prototype.slice;Qa=La.call(arguments,1);return this.extend({init:function pa(){var ja;ja=La.call(arguments,0);pa.base.apply(this,Qa.concat(ja));}});}function $a(La,Qa){var ya;ya=new this(ib);fb(ya,La,Qa);return rb(ya);}function kb(La,Qa){fb(this.prototype,La,Qa);return this;}function rb(La){var Qa;Qa=function(){var ya;ya=this.init;ya && arguments[0] !== ib && ya.apply(this,arguments);};La && (Qa.prototype=La);Qa.prototype.constructor=Qa;Qa.extend=$a;Qa.bind=db;Qa.mixin=kb;return Qa;}ib={};Ga={actions:!0};Function.prototype.base=function(){};Cb.Class={create:rb,mixin:fb,extend:function(La,Qa){var ya;ya=rb();ya.prototype=new La();return ya.extend(Qa);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){var ib,Ga,La;function gb(Qa,ya){return function(){var pa,ja;pa=Qa.base;Qa.base=ya;ja=Qa.apply(this,arguments);Qa.base=pa;return ja;};}function fb(Qa,ya,pa){var ja,ca,Z,aa;pa=pa || Ga;ca=!!pa.extendAll;for(ja in ya){Z=ya.__lookupGetter__(ja);aa=ya.__lookupSetter__(ja);Z || aa?(Z && Qa.__defineGetter__(ja,Z),aa && Qa.__defineSetter__(ja,aa)):(Z=ya[ja],aa=Qa[ja],"function" === typeof Z && "function" === typeof aa && Z !== aa?(Z.base !== La && (Z=gb(Z,aa)),Z.base=aa):(ca || pa[ja]) && Cb.isObjectLiteral(Z) && Cb.isObjectLiteral(aa) && (Z=Cb.extendDeep({},aa,Z)),Qa[ja]=Z);}}function db(){var Qa,ya;Qa=Array.prototype.slice;ya=Qa.call(arguments,1);return this.extend({init:function ja(){var ca;ca=Qa.call(arguments,0);ja.base.apply(this,ya.concat(ca));}});}function $a(Qa,ya){var pa;pa=new this(ib);fb(pa,Qa,ya);return rb(pa);}function kb(Qa,ya){fb(this.prototype,Qa,ya);return this;}function rb(Qa){var ya;ya=function(){var pa;pa=this.init;pa && arguments[0] !== ib && pa.apply(this,arguments);};Qa && (ya.prototype=Qa);ya.prototype.constructor=ya;ya.extend=$a;ya.bind=db;ya.mixin=kb;return ya;}ib={};Ga={actions:!0};La=function(){};Function.prototype.base=La;Cb.Class={create:rb,mixin:fb,extend:function(Qa,ya){var pa;pa=rb();pa.prototype=new Qa();return pa.extend(ya);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){function gb(db){return db == Kb?1:db + 1;}function fb(db){if(0 === Object.keys(db._waiters).length)return 0;for(var $a=gb(db._nextWaiter);!db._waiters[$a];){$a=gb($a);}return $a;}Tc=Cb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(db){var $a;if(this._waiters[db]){$a=this._waiters[db];delete this._waiters[db];db == this._nextWaiter && (this._nextWaiter=fb(this));$a.call(this,Bb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(db,$a){var kb,rb;kb=this;rb=gb(this._lastWaiter);this._lastWaiter=rb;bb($a,function(){var ib,Ga;if(0 < this._queue.length){ib=this._queue.shift();setTimeout(function(){$a.result(ib);},0);}else {-1 != db && (Ga=setTimeout(function(){delete kb._waiters[rb];rb == kb._nextWaiter && (kb._nextWaiter=fb(kb));$a.timeout();},db));this._waiters[rb]=function(La){clearTimeout(Ga);setTimeout(function(){$a.result(La);},0);};this._nextWaiter || (this._nextWaiter=rb);}},kb);return rb;},add:function(db){var $a;if(this._nextWaiter){$a=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=fb(this);$a.call(this,db);}else this._queue.push(db);}});})();(function(){var gb;gb=0 - Kb;je=Cb.Class.create({nextBoolean:function(){var fb;fb=new Uint8Array(1);vc.getRandomValues(fb);return fb[0] & 1?!0:!1;},nextInt:function(fb){var db;if(null !== fb && fb !== Bb){if("number" !== typeof fb)throw new TypeError("n must be of type number");if(1 > fb)throw new RangeError("n must be greater than zero");--fb;db=new Uint8Array(4);vc.getRandomValues(db);return Math.floor(((db[3] & 127) << 24 | db[2] << 16 | db[1] << 8 | db[0]) / 2147483648 * (fb - 0 + 1));}fb=new Uint8Array(4);vc.getRandomValues(fb);db=(fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0];return fb[3] & 128?-db:db;},nextLong:function(){var db;for(var fb=gb;fb == gb;){fb=new Uint8Array(7);vc.getRandomValues(fb);db=16777216 * ((fb[6] & 31) << 24 | fb[5] << 16 | fb[4] << 8 | fb[3]) + (fb[2] << 16 | fb[1] << 8 | fb[0]);fb=fb[6] & 128?-db - 1:db;}return fb;},nextBytes:function(fb){vc.getRandomValues(fb);}});})();(function(){function gb($a){return $a == Kb?1:$a + 1;}function fb($a){if(0 === Object.keys($a._waitingReaders).length)return 0;for(var kb=gb($a._nextReader);!$a._waitingReaders[kb];){kb=gb(kb);}return kb;}function db($a){if(0 === Object.keys($a._waitingWriters).length)return 0;for(var kb=gb($a._nextWriter);!$a._waitingWriters[kb];){kb=gb(kb);}return kb;}Ad=Cb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function($a){var kb;if(this._waitingReaders[$a]){kb=this._waitingReaders[$a];delete this._waitingReaders[$a];$a == this._nextReader && (this._nextReader=fb(this));kb.call(this,!0);}this._waitingWriters[$a] && (kb=this._waitingWriters[$a],delete this._waitingWriters[$a],$a == this._nextWriter && (this._nextWriter=db(this)),kb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function($a,kb){var rb,ib;rb=this;ib=gb(this._lastNumber);this._lastNumber=ib;bb(kb,function(){var Ga;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[ib]=!0,ib);-1 != $a && (Ga=setTimeout(function(){delete rb._waitingReaders[ib];ib == rb._nextReader && (rb._nextReader=fb(rb));kb.timeout();},$a));this._waitingReaders[ib]=function(La){clearTimeout(Ga);La?setTimeout(function(){kb.result(Bb);},0):(rb._readers[ib]=!0,setTimeout(function(){kb.result(ib);},0));};this._nextReader || (this._nextReader=ib);},rb);return ib;},writeLock:function($a,kb){var rb,ib;rb=this;ib=gb(this._lastNumber);this._lastNumber=ib;bb(kb,function(){var Ga;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=ib;-1 != $a && (Ga=setTimeout(function(){delete rb._waitingWriters[ib];ib == rb._nextWriter && (rb._nextWriter=db(rb));kb.timeout();},$a));this._waitingWriters[ib]=function(La){clearTimeout(Ga);La?setTimeout(function(){kb.result(Bb);},0):(rb._writer=ib,setTimeout(function(){kb.result(ib);},0));};this._nextWriter || (this._nextWriter=ib);},rb);return ib;},unlock:function($a){if($a == this._writer)this._writer=null;else {if(!this._readers[$a])throw new vb("There is no reader or writer with ticket number " + $a + ".");delete this._readers[$a];}if(this._nextWriter)0 < Object.keys(this._readers).length || ($a=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=db(this),$a.call(this,!1));else {for(var kb=this._nextReader;0 < Object.keys(this._waitingReaders).length;kb=gb(kb)){this._waitingReaders[kb] && ($a=this._waitingReaders[kb],delete this._waitingReaders[kb],$a.call(this,!1));}this._nextReader=0;}}});})();Cb.Class.mixin(Y,{JSON_PARSE_ERROR:new Y(0,Ia.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new Y(1,Ia.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new Y(2,Ia.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new Y(3,Ia.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new Y(4,Ia.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new Y(5,Ia.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new Y(6,Ia.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new Y(7,Ia.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new Y(8,Ia.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new Y(9,Ia.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new Y(10,Ia.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new Y(11,Ia.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new Y(12,Ia.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new Y(13,Ia.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new Y(14,Ia.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new Y(15,Ia.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new Y(16,Ia.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new Y(17,Ia.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new Y(18,Ia.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new Y(19,Ia.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new Y(20,Ia.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new Y(21,Ia.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new Y(22,Ia.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new Y(23,Ia.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new Y(24,Ia.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new Y(25,Ia.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new Y(26,Ia.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new Y(27,Ia.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new Y(28,Ia.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new Y(29,Ia.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new Y(30,Ia.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new Y(31,Ia.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new Y(32,Ia.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new Y(33,Ia.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new Y(34,Ia.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new Y(35,Ia.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new Y(36,Ia.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new Y(37,Ia.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new Y(38,Ia.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new Y(39,Ia.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new Y(40,Ia.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new Y(41,Ia.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new Y(42,Ia.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new Y(43,Ia.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new Y(44,Ia.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new Y(45,Ia.FAIL,"Error exporting key."),DIGEST_ERROR:new Y(46,Ia.FAIL,"Error in digest."),UNSUPPORTED_KEY:new Y(47,Ia.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new Y(48,Ia.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new Y(49,Ia.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new Y(50,Ia.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new Y(51,Ia.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new Y(52,Ia.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new Y(53,Ia.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new Y(54,Ia.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new Y(55,Ia.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new Y(56,Ia.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new Y(57,Ia.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new Y(58,Ia.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new Y(59,Ia.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new Y(60,Ia.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new Y(61,Ia.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new Y(62,Ia.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new Y(1E3,Ia.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new Y(1001,Ia.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new Y(1002,Ia.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new Y(1003,Ia.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new Y(1004,Ia.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(1005,Ia.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new Y(1006,Ia.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new Y(1007,Ia.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new Y(1008,Ia.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new Y(1009,Ia.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new Y(1010,Ia.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new Y(1011,Ia.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new Y(1012,Ia.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new Y(1013,Ia.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new Y(1014,Ia.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new Y(2E3,Ia.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new Y(2001,Ia.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new Y(2002,Ia.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new Y(2003,Ia.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new Y(2004,Ia.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new Y(2005,Ia.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(2006,Ia.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(2007,Ia.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new Y(2008,Ia.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new Y(2009,Ia.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new Y(2010,Ia.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new Y(2011,Ia.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new Y(2012,Ia.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new Y(2013,Ia.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new Y(2014,Ia.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new Y(2015,Ia.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new Y(2016,Ia.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new Y(2017,Ia.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new Y(2018,Ia.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new Y(2019,Ia.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new Y(2020,Ia.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new Y(3E3,Ia.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new Y(3001,Ia.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new Y(3002,Ia.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new Y(3003,Ia.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new Y(3004,Ia.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(3005,Ia.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new Y(3006,Ia.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new Y(3007,Ia.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new Y(3008,Ia.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new Y(3009,Ia.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new Y(4E3,Ia.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new Y(4001,Ia.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new Y(4002,Ia.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new Y(4003,Ia.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new Y(4004,Ia.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new Y(4005,Ia.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new Y(4006,Ia.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new Y(4007,Ia.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new Y(4008,Ia.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new Y(4009,Ia.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new Y(4010,Ia.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new Y(4011,Ia.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new Y(4012,Ia.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new Y(4013,Ia.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new Y(4014,Ia.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new Y(4015,Ia.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new Y(4016,Ia.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new Y(4017,Ia.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new Y(4018,Ia.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new Y(4019,Ia.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new Y(4020,Ia.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new Y(4021,Ia.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new Y(4022,Ia.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new Y(4023,Ia.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new Y(4024,Ia.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new Y(4025,Ia.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new Y(4026,Ia.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new Y(5E3,Ia.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new Y(5001,Ia.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new Y(5002,Ia.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new Y(5003,Ia.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new Y(5004,Ia.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new Y(5005,Ia.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new Y(5006,Ia.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new Y(5007,Ia.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new Y(5008,Ia.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new Y(5009,Ia.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new Y(5010,Ia.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new Y(5011,Ia.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new Y(5012,Ia.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new Y(5013,Ia.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new Y(5014,Ia.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new Y(5015,Ia.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new Y(5016,Ia.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new Y(5017,Ia.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new Y(5018,Ia.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new Y(5019,Ia.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new Y(5020,Ia.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new Y(5021,Ia.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new Y(5022,Ia.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new Y(5023,Ia.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new Y(5024,Ia.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new Y(5025,Ia.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new Y(5026,Ia.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new Y(5027,Ia.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new Y(5028,Ia.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new Y(5029,Ia.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new Y(5030,Ia.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new Y(5031,Ia.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new Y(5032,Ia.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new Y(5033,Ia.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new Y(5034,Ia.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new Y(5035,Ia.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new Y(5036,Ia.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new Y(5037,Ia.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new Y(5038,Ia.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new Y(5039,Ia.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new Y(5040,Ia.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new Y(6E3,Ia.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new Y(6001,Ia.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new Y(6002,Ia.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new Y(6003,Ia.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new Y(6004,Ia.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new Y(6005,Ia.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new Y(6006,Ia.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new Y(6007,Ia.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new Y(6008,Ia.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new Y(6009,Ia.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new Y(6010,Ia.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new Y(6011,Ia.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new Y(6012,Ia.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new Y(6013,Ia.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new Y(6014,Ia.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new Y(6015,Ia.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new Y(6016,Ia.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new Y(6017,Ia.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new Y(6018,Ia.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new Y(6019,Ia.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new Y(6020,Ia.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new Y(6021,Ia.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new Y(6022,Ia.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new Y(6023,Ia.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new Y(6024,Ia.FAIL,"Invalid header data."),PAYLOAD_INVALID:new Y(6025,Ia.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new Y(6026,Ia.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new Y(6027,Ia.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new Y(6028,Ia.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new Y(6029,Ia.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new Y(6030,Ia.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new Y(6031,Ia.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new Y(6032,Ia.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new Y(6033,Ia.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new Y(6034,Ia.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new Y(6035,Ia.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new Y(6036,Ia.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new Y(6037,Ia.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new Y(7E3,Ia.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new Y(7001,Ia.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new Y(7002,Ia.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new Y(7003,Ia.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new Y(7004,Ia.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new Y(7005,Ia.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new Y(7006,Ia.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new Y(7007,Ia.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new Y(7008,Ia.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new Y(7009,Ia.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new Y(7010,Ia.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new Y(7011,Ia.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new Y(7012,Ia.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new Y(7013,Ia.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new Y(7014,Ia.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new Y(7015,Ia.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new Y(7016,Ia.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new Y(8E3,Ia.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new Y(8001,Ia.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new Y(8002,Ia.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new Y(8003,Ia.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new Y(8004,Ia.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new Y(8005,Ia.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new Y(8006,Ia.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new Y(8007,Ia.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new Y(8008,Ia.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new Y(8009,Ia.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new Y(8010,Ia.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new Y(8011,Ia.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new Y(8012,Ia.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new Y(9E3,Ia.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new Y(9001,Ia.FAIL,"Error communicating with MSL entity."),NONE:new Y(9999,Ia.FAIL,"Special unit test error.")});Object.freeze(Y);(function(){eb=Cb.Class.create(Error());eb.mixin({init:function(gb,fb,db){var kb,rb,ib;function $a(){return rb?rb:this.cause && this.cause instanceof eb?this.cause.messageId:Bb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);kb=gb.message;fb && (kb+=" [" + fb + "]");ib=this.stack;Object.defineProperties(this,{message:{value:kb,writable:!1,configurable:!0},error:{value:gb,writable:!1,configurable:!0},cause:{value:db,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:$a,set:function(Ga){if(0 > Ga || Ga > Kb)throw new RangeError("Message ID " + Ga + " is outside the valid range.");$a() || (rb=Ga);},configurable:!0},stack:{get:function(){var Ga;Ga=this.toString();ib && (Ga+="\n" + ib);db && db.stack && (Ga+="\nCaused by " + db.stack);return Ga;},configurable:!0}});},setEntity:function(gb){!gb || this.masterToken || this.entityAuthenticationData || (gb instanceof ec?this.masterToken=gb:gb instanceof Fc && (this.entityAuthenticationData=gb));return this;},setUser:function(gb){!gb || this.userIdToken || this.userAuthenticationData || (gb instanceof Nc?this.userIdToken=gb:gb instanceof Uc && (this.userAuthenticationData=gb));return this;},setMessageId:function(gb){this.messageId=gb;return this;},toString:function(){return this.name + ": " + this.message;}});})();ub=eb.extend({init:function kb(fb,db,$a){kb.base.call(this,fb,db,$a);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Db=eb.extend({init:function rb(db,$a,kb){rb.base.call(this,db,$a,kb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});mc=eb.extend({init:function ib($a,kb,rb){ib.base.call(this,$a,kb,rb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){fc=Cb.Class.create(Error());fc.mixin({init:function($a,kb,rb){var ib;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ib=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},requestCause:{value:rb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ga;Ga=this.toString();ib && (Ga+="\n" + ib);kb && kb.stack && (Ga+="\nCaused by " + kb.stack);return Ga;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Ub=Cb.Class.create(Error());Ub.mixin({init:function($a,kb){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var ib;ib=this.toString();rb && (ib+="\n" + rb);kb && kb.stack && (ib+="\nCaused by " + kb.stack);return ib;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Cb.Class.create(Error());vb.mixin({init:function($a,kb){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var ib;ib=this.toString();rb && (ib+="\n" + rb);kb && kb.stack && (ib+="\nCaused by " + kb.stack);return ib;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Yb=Cb.Class.create(Error());Yb.mixin({init:function($a,kb){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var ib;ib=this.toString();rb && (ib+="\n" + rb);kb && kb.stack && (ib+="\nCaused by " + kb.stack);return ib;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Nb=eb.extend({init:function Ga(kb,rb,ib){Ga.base.call(this,kb,rb,ib);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Vc=eb.extend({init:function Ga(rb,ib){Ga.base.call(this,rb);Object.defineProperties(this,{masterToken:{value:ib,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=eb.extend({init:function Qa(ib,Ga,La){Qa.base.call(this,ib,Ga,La);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});wc=eb.extend({init:function ya(Ga,La,Qa){ya.base.call(this,Ga,La,Qa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var pa;function Ga(ja){return "undefined" === typeof ja?!1:ja;}function La(ja){return ja && ja.length?($b === pa.V2014_02 && (ja=ja.map(function(ca){return "wrap" == ca?"wrapKey":"unwrap" == ca?"unwrapKey":ca;})),ja):$b === pa.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Qa(ja,ca,Z,aa,ea){return Promise.resolve().then(function(){return Pb.importKey(ja,ca,Z,aa,ea);}).catch(function(ba){var ma;if("spki" !== ja && "pkcs8" !== ja)throw ba;ba=ASN1.webCryptoAlgorithmToJwkAlg(Z);ma=ASN1.webCryptoUsageToJwkKeyOps(ea);ba=ASN1.rsaDerToJwk(ca,ba,ma,aa);if(!ba)throw Error("Could not make valid JWK from DER input");ba=JSON.stringify(ba);return Pb.importKey("jwk",wd(ba),Z,aa,ea);});}function ya(ja,ca){return Promise.resolve().then(function(){return Pb.exportKey(ja,ca);}).catch(function(Z){if("spki" !== ja && "pkcs8" !== ja)throw Z;return Pb.exportKey("jwk",ca).then(function(aa){aa=JSON.parse(vd(new Uint8Array(aa)));aa=ASN1.jwkToRsaDer(aa);if(!aa)throw Error("Could not make valid DER from JWK input");return aa.getDer().buffer;});});}pa=hd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(hd);$b=pa.LATEST;Jb={encrypt:function(ja,ca,Z){switch($b){case pa.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.encrypt(ja,ca,Z);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ea(ma);};});case pa.V2014_01:case pa.V2014_02:return Pb.encrypt(ja,ca,Z).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ja,ca,Z){switch($b){case pa.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.decrypt(ja,ca,Z);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ea(ma);};});case pa.V2014_01:case pa.V2014_02:return Pb.decrypt(ja,ca,Z).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ja,ca,Z){switch($b){case pa.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.sign(ja,ca,Z);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ea(ma);};});case pa.V2014_01:case pa.V2014_02:return Pb.sign(ja,ca,Z).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ja,ca,Z,aa){switch($b){case pa.LEGACY:return new Promise(function(ea,ba){var ma;ma=Pb.verify(ja,ca,Z,aa);ma.oncomplete=function(za){ea(za.target.result);};ma.onerror=function(za){ba(za);};});case pa.V2014_01:case pa.V2014_02:return Pb.verify(ja,ca,Z,aa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ja,ca){switch($b){case pa.LEGACY:return new Promise(function(Z,aa){var ea;ea=Pb.digest(ja,ca);ea.oncomplete=function(ba){Z(ba.target.result);};ea.onerror=function(ba){aa(ba);};});case pa.V2014_01:case pa.V2014_02:return Pb.digest(ja,ca).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ja,ca,Z){var aa,ea;aa=Ga(ca);ea=La(Z);switch($b){case pa.LEGACY:return new Promise(function(ba,ma){var za;za=Pb.generateKey(ja,aa,ea);za.oncomplete=function(ua){ba(ua.target.result);};za.onerror=function(ua){ma(ua);};});case pa.V2014_01:case pa.V2014_02:return Pb.generateKey(ja,aa,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ja,ca,Z,aa,ea){var ba,ma;ba=Ga(aa);ma=La(ea);switch($b){case pa.LEGACY:return new Promise(function(za,ua){var na;na=Pb.deriveKey(ja,ca,Z,ba,ma);na.oncomplete=function(ta){za(ta.target.result);};na.onerror=function(ta){ua(ta);};});case pa.V2014_01:case pa.V2014_02:return Pb.deriveKey(ja,ca,Z,ba,ma);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ja,ca,Z,aa,ea){var ba,ma;ba=Ga(aa);ma=La(ea);switch($b){case pa.LEGACY:return new Promise(function(za,ua){var na;na=Pb.importKey(ja,ca,Z,ba,ma);na.oncomplete=function(ta){za(ta.target.result);};na.onerror=function(ta){ua(ta);};});case pa.V2014_01:case pa.V2014_02:return Qa(ja,ca,Z,ba,ma);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ja,ca){switch($b){case pa.LEGACY:return new Promise(function(Z,aa){var ea;ea=Pb.exportKey(ja,ca);ea.oncomplete=function(ba){Z(ba.target.result);};ea.onerror=function(ba){aa(ba);};});case pa.V2014_01:case pa.V2014_02:return ya(ja,ca).then(function(Z){return new Uint8Array(Z);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ja,ca,Z,aa){switch($b){case pa.LEGACY:return new Promise(function(ea,ba){var ma;ma=Pb.wrapKey(ca,Z,aa);ma.oncomplete=function(za){ea(za.target.result);};ma.onerror=function(za){ba(za);};});case pa.V2014_01:case pa.V2014_02:return Pb.wrapKey(ja,ca,Z,aa).then(function(ea){return new Uint8Array(ea);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ja,ca,Z,aa,ea,ba,ma){switch($b){case pa.LEGACY:return new Promise(function(za,ua){var na;na=Pb.unwrapKey(ca,ea,Z);na.oncomplete=function(ta){za(ta.target.result);};na.onerror=function(ta){ua(ta);};});case pa.V2014_01:case pa.V2014_02:return Pb.unwrapKey(ja,ca,Z,aa,ea,Ga(ba),La(ma));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};fd && fd.getKeyByName && (Jb.getKeyByName=function(ja){switch($b){case pa.LEGACY:return new Promise(function(ca,Z){var aa;aa=fd.getKeyByName(ja);aa.oncomplete=function(ea){ca(ea.target.result);};aa.onerror=function(ea){Z(ea);};});case pa.V2014_01:case pa.V2014_02:return fd.getKeyByName(ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});mb.netflix=mb.netflix || ({});mb.netflix.crypto=Jb;})();nc={name:"AES-KW"};jc={name:"AES-CBC"};kc={name:"HMAC",hash:{name:"SHA-256"}};id={name:"RSA-OAEP",hash:{name:"SHA-1"}};Bd={name:"RSAES-PKCS1-v1_5"};ke={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};xc=["encrypt","decrypt"];yc=["wrap","unwrap"];Gc=["sign","verify"];(function(){Cd=Cb.Class.create({init:function(Ga,La,Qa){var pa;function ya(ja){Na(La,function(){var ca;ca=ja?Fb(ja):Bb;Object.defineProperties(pa,{rawKey:{value:Ga,writable:!1,configurable:!1},keyData:{value:ja,writable:!1,configurable:!1},keyDataB64:{value:ca,writable:!1,configurable:!1}});return this;},pa);}pa=this;Na(La,function(){if(!Ga || "object" != typeof Ga)throw new ub(Y.INVALID_SYMMETRIC_KEY);!Qa && Ga.extractable?Jb.exportKey("raw",Ga).then(function(ja){ya(new Uint8Array(ja));},function(ja){La.error(new ub(Y.KEY_EXPORT_ERROR,"raw"));}):ya(Qa);},pa);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Wc=function(Ga,La){new Cd(Ga,La);};oc=function(Ga,La,Qa,ya){Na(ya,function(){try{Ga="string" == typeof Ga?Gb(Ga):Ga;}catch(pa){throw new ub(Y.INVALID_SYMMETRIC_KEY,"keydata " + Ga,pa);}Jb.importKey("raw",Ga,La,!0,Qa).then(function(pa){new Cd(pa,ya,Ga);},function(pa){ya.error(new ub(Y.INVALID_SYMMETRIC_KEY));});});};})();(function(){jd=Cb.Class.create({init:function(Ga,La,Qa){var pa;function ya(ja){Na(La,function(){Object.defineProperties(pa,{rawKey:{value:Ga,writable:!1,configurable:!1},encoded:{value:ja,writable:!1,configurable:!1}});return this;},pa);}pa=this;Na(La,function(){if(!Ga || "object" != typeof Ga || "public" != Ga.type)throw new TypeError("Only original public crypto keys are supported.");!Qa && Ga.extractable?Jb.exportKey("spki",Ga).then(function(ja){ya(new Uint8Array(ja));},function(ja){La.error(new ub(Y.KEY_EXPORT_ERROR,"spki"));}):ya(Qa);});},getEncoded:function(){return this.encoded;}});Dc=function(Ga,La){new jd(Ga,La);};Dd=function(Ga,La,Qa,ya){Na(ya,function(){try{Ga="string" == typeof Ga?Gb(Ga):Ga;}catch(pa){throw new ub(Y.INVALID_PUBLIC_KEY,"spki " + Ga,pa);}Jb.importKey("spki",Ga,La,!0,Qa).then(function(pa){new jd(pa,ya,Ga);},function(pa){ya.error(new ub(Y.INVALID_PUBLIC_KEY));});});};})();(function(){le=Cb.Class.create({init:function(Ga,La,Qa){var pa;function ya(ja){Na(La,function(){Object.defineProperties(pa,{rawKey:{value:Ga,writable:!1,configurable:!1},encoded:{value:ja,writable:!1,configurable:!1}});return this;},pa);}pa=this;Na(La,function(){if(!Ga || "object" != typeof Ga || "private" != Ga.type)throw new TypeError("Only original private crypto keys are supported.");!Qa && Ga.extractable?Jb.exportKey("pkcs8",Ga).then(function(ja){ya(new Uint8Array(ja));},function(ja){La.error(new ub(Y.KEY_EXPORT_ERROR,"pkcs8"));}):ya(Qa);});},getEncoded:function(){return this.encoded;}});Mc=function(Ga,La){new le(Ga,La);};})();(function(){var Ga;Ga=Hd={V1:1,V2:2};Ed=Cb.Class.create({init:function(La,Qa,ya,pa){Na(pa,function(){var ja,ca,Z,aa;ja=Ga.V1;ca=La;Z=null;for(aa in gd){if(gd[aa] == La){ja=Ga.V2;ca=null;Z=La;break;}}Object.defineProperties(this,{version:{value:ja,writable:!1,enumerable:!1,configurable:!1},keyId:{value:ca,writable:!1,configurable:!1},cipherSpec:{value:Z,writable:!1,configurable:!1},iv:{value:Qa,writable:!1,configurable:!1},ciphertext:{value:ya,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var La;La={};switch(this.version){case Ga.V1:La.keyid=this.keyId;this.iv && (La.iv=Fb(this.iv));La.ciphertext=Fb(this.ciphertext);La.sha256="AA==";break;case Ga.V2:La.version=this.version;La.cipherspec=this.cipherSpec;this.iv && (La.iv=Fb(this.iv));La.ciphertext=Fb(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return La;}});Fd=function(La,Qa,ya,pa){new Ed(La,Qa,ya,pa);};Gd=function(La,Qa,ya){Na(ya,function(){var pa,ja,ca,Z,aa,ea,ba;pa=La.keyid;ja=La.cipherspec;ca=La.iv;Z=La.ciphertext;aa=La.sha256;if(!Qa)if((Qa=La.version) && "number" === typeof Qa && Qa === Qa){ea=!1;for(ba in Ga){if(Ga[ba] == Qa){ea=!0;break;}}if(!ea)throw new ub(Y.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}else Qa=Ga.V1;switch(Qa){case Ga.V1:if("string" !== typeof pa || ca && "string" !== typeof ca || "string" !== typeof Z || "string" !== typeof aa)throw new Db(Y.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));break;case Ga.V2:ba=La.version;if(ba != Ga.V2)throw new ub(Y.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));if("string" !== typeof ja || ca && "string" !== typeof ca || "string" !== typeof Z)throw new Db(Y.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));ja=he(ja);if(!ja)throw new ub(Y.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(La));pa=ja;break;default:throw new ub(Y.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}try{ca && (ca=Gb(ca));Z=Gb(Z);}catch(ma){throw new ub(Y.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(La),ma);}new Ed(pa,ca,Z,ya);});};})();(function(){var Ga;Ga=Kd={V1:1,V2:2};pc=Cb.Class.create({init:function(La,Qa,ya){var pa;switch(La){case Ga.V1:pa=ya;break;case Ga.V2:pa={};pa.version=La;pa.algorithm=Qa;pa.signature=Fb(ya);pa=bc(JSON.stringify(pa),Mb);break;default:throw new vb("Signature envelope version " + La + " encoding unsupported.");}Object.defineProperties(this,{version:{value:La,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Qa,writable:!1,configurable:!1},signature:{value:ya,writable:!1,configurable:!1},bytes:{value:pa,writable:!1,configurable:!1}});}});Id=function(){var La,Qa,ya,pa;if(2 == arguments.length){La=Ga.V1;Qa=arguments[0];ya=null;pa=arguments[1];}else 3 == arguments.length && (La=Ga.V2,ya=arguments[0],Qa=arguments[1],pa=arguments[2]);Na(pa,function(){return new pc(La,ya,Qa);});};Jd=function(La,Qa,ya){Na(ya,function(){var pa,ja,ca,Z,aa,ea,ba;if(Qa)switch(Qa){case Ga.V1:return new pc(Ga.V1,null,La);case Ga.V2:try{pa=ac(La,Mb);ja=JSON.parse(pa);ca=parseInt(ja.version);Z=ja.algorithm;aa=ja.signature;if(!ca || "number" !== typeof ca || ca != ca || "string" !== typeof Z || "string" !== typeof aa)throw new Db(Y.JSON_PARSE_ERROR,"signature envelope " + Fb(La));if(Ga.V2 != ca)throw new ub(Y.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Fb(La));ea=zd(Z);if(!ea)throw new ub(Y.UNIDENTIFIED_ALGORITHM,"signature envelope " + Fb(La));ba=Gb(aa);if(!ba)throw new ub(Y.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(La));return new pc(Ga.V2,ea,ba);}catch(ma){if(ma instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"signature envelope " + Fb(La),ma);throw ma;}default:throw new ub(Y.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Fb(La));}try{pa=ac(La,Mb);ja=JSON.parse(pa);}catch(ma){ja=null;}if(ja && ja.version){if((pa=ja.version,"number" !== typeof pa || pa !== pa))pa=Ga.V1;}else pa=Ga.V1;switch(pa){case Ga.V1:return new pc(pa,null,La);case Ga.V2:ea=ja.algorithm;aa=ja.signature;if("string" !== typeof ea || "string" !== typeof aa)return new pc(Ga.V1,null,La);ea=zd(ea);if(!ea)return new pc(Ga.V1,null,La);try{ba=Gb(aa);}catch(ma){return new pc(Ga.V1,null,La);}return new pc(pa,ea,ba);default:throw new ub(Y.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + La);}});};})();Oc=Cb.Class.create({encrypt:function(Ga,La){},decrypt:function(Ga,La){},wrap:function(Ga,La){},unwrap:function(Ga,La,Qa,ya){},sign:function(Ga,La){},verify:function(Ga,La,Qa){}});(function(){var Ga;Ga=rc={RSA_OAEP:id.name,A128KW:nc.name};lc="A128GCM";qc=Cb.Class.create({init:function(La,Qa,ya,pa,ja){switch(Qa){case Ga.RSA_OAEP:ja=ja && (ja.rawKey || ja);pa=pa && (pa.rawKey || pa);break;case Ga.A128KW:ja=pa=pa && (pa.rawKey || pa);break;default:throw new vb("Unsupported algorithm: " + Qa);}Object.defineProperties(this,{_ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Qa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:ya,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ja,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:pa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Qa){Qa.error(new ub(Y.ENCRYPT_NOT_SUPPORTED));},decrypt:function(La,Qa){Qa.error(new ub(Y.DECRYPT_NOT_SUPPORTED));},wrap:function(La,Qa){Na(Qa,function(){Jb.wrapKey("jwe+jwk",La.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(ya){Qa.result(ya);},function(ya){Qa.error(new ub(Y.WRAP_ERROR));});},this);},unwrap:function(La,Qa,ya,pa){function ja(ca){Na(pa,function(){switch(ca.type){case "secret":Wc(ca,pa);break;case "public":Dc(ca,pa);break;case "private":Mc(ca,pa);break;default:throw new ub(Y.UNSUPPORTED_KEY,"type: " + ca.type);}});}Na(pa,function(){Jb.unwrapKey("jwe+jwk",La,this._unwrapKey,this._unwrapKey.algorithm,Qa,!1,ya).then(function(ca){ja(ca);},function(){pa.error(new ub(Y.UNWRAP_ERROR));});},this);},sign:function(La,Qa){Qa.error(new ub(Y.SIGN_NOT_SUPPORTED));},verify:function(La,Qa,ya){ya.error(new ub(Y.VERIFY_NOT_SUPPORTED));}});})();Pc=Oc.extend({encrypt:function(Ga,La){La.result(Ga);},decrypt:function(Ga,La){La.result(Ga);},wrap:function(Ga,La){La.result(Ga);},unwrap:function(Ga,La,Qa,ya){ya.result(Ga);},sign:function(Ga,La){La.result(new Uint8Array(0));},verify:function(Ga,La,Qa){Qa.result(!0);}});(function(){var Ga;Ga=ld={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};kd=Oc.extend({init:function Z(Qa,ya,pa,ja,ca){Z.base.call(this);pa && (pa=pa.rawKey);ja && (ja=ja.rawKey);Object.defineProperties(this,{id:{value:ya,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:pa,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ja,writable:!1,enumerable:!1,configurable:!1},transform:{value:ca == Ga.ENCRYPT_DECRYPT_PKCS1?Bd:ca == Ga.ENCRYPT_DECRYPT_OAEP?id:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:ca == Ga.WRAP_UNWRAP_PKCS1?Bd:ca == Ga.WRAP_UNWRAP_OAEP?id:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:ca == Ga.SIGN_VERIFY?ke:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Qa,ya){var pa;pa=this;Na(ya,function(){if("nullOp" == this.transform)return Qa;if(!this.publicKey)throw new ub(Y.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Qa.length)return Qa;Jb.encrypt(pa.transform,pa.publicKey,Qa).then(function(ja){Fd(pa.id,null,ja,{result:function(ca){var Z;try{Z=JSON.stringify(ca);ya.result(bc(Z,Mb));}catch(aa){ya.error(new ub(Y.ENCRYPT_ERROR,null,aa));}},error:function(ca){ca instanceof eb || (ca=new ub(Y.ENCRYPT_ERROR,null,ca));ya.error(ca);}});},function(ja){ya.error(new ub(Y.ENCRYPT_ERROR));});},this);},decrypt:function(Qa,ya){var pa;pa=this;Na(ya,function(){var ja,ca;if("nullOp" == this.transform)return Qa;if(!this.privateKey)throw new ub(Y.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Qa.length)return Qa;try{ja=ac(Qa,Mb);ca=JSON.parse(ja);}catch(Z){if(Z instanceof SyntaxError)throw new ub(Y.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Z);throw new ub(Y.DECRYPT_ERROR,null,Z);}Gd(ca,Hd.V1,{result:function(Z){var aa;try{if(Z.keyId != pa.id)throw new ub(Y.ENVELOPE_KEY_ID_MISMATCH);aa=ya.result;Jb.decrypt(pa.transform,pa.privateKey,Z.ciphertext).then(aa,function(ea){ya.error(new ub(Y.DECRYPT_ERROR));});}catch(ea){ea instanceof eb?ya.error(ea):ya.error(new ub(Y.DECRYPT_ERROR,null,ea));}},error:function(Z){Z instanceof Db && (Z=new ub(Y.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Z));Z instanceof eb || (Z=new ub(Y.DECRYPT_ERROR,null,Z));ya.error(Z);}});},this);},wrap:function(Qa,ya){Na(ya,function(){var pa;if("nullOp" == this.wrapTransform || !this.publicKey)throw new ub(Y.WRAP_NOT_SUPPORTED,"no public key");pa=ya.result;Jb.wrapKey("jwk",Qa.rawKey,this.publicKey,this.wrapTransform).then(pa,function(ja){ya.error(new ub(Y.WRAP_ERROR));});},this);},unwrap:function(Qa,ya,pa,ja){function ca(Z){Na(ja,function(){switch(Z.type){case "secret":Wc(Z,ja);break;case "public":Dc(Z,ja);break;case "private":Mc(Z,ja);break;default:throw new ub(Y.UNSUPPORTED_KEY,"type: " + Z.type);}});}Na(ja,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new ub(Y.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Qa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},ya,!1,pa).then(ca,function(Z){ja.error(new ub(Y.UNWRAP_ERROR));});},this);},sign:function(Qa,ya){Na(ya,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new ub(Y.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Qa).then(function(pa){Id(pa,{result:function(ja){ya.result(ja.bytes);},error:ya.error});},function(pa){ya.error(new ub(Y.SIGNATURE_ERROR));});},this);},verify:function(Qa,ya,pa){var ja;ja=this;Na(pa,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new ub(Y.VERIFY_NOT_SUPPORTED,"no public key");Jd(ya,Kd.V1,{result:function(ca){Na(pa,function(){var Z;Z=pa.result;Jb.verify(this.algo,this.publicKey,ca.signature,Qa).then(Z,function(aa){pa.error(new ub(Y.SIGNATURE_ERROR));});},ja);},error:pa.error});},this);}});})();(function(){md=Oc.extend({init:function ca(La,Qa,ya,pa,ja){ca.base.call(this);ya=ya && ya.rawKey;pa=pa && pa.rawKey;ja=ja && ja.rawKey;Object.defineProperties(this,{ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},id:{value:Qa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:ya,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:pa,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ja,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Qa){var ya;ya=this;Na(Qa,function(){var pa;if(!this.encryptionKey)throw new ub(Y.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;pa=new Uint8Array(16);this.ctx.getRandom().nextBytes(pa);Jb.encrypt({name:jc.name,iv:pa},ya.encryptionKey,La).then(function(ja){ja=new Uint8Array(ja);Fd(ya.id,pa,ja,{result:function(ca){var Z;try{Z=JSON.stringify(ca);Qa.result(bc(Z,Mb));}catch(aa){Qa.error(new ub(Y.ENCRYPT_ERROR,null,aa));}},error:function(ca){ca instanceof eb || (ca=new ub(Y.ENCRYPT_ERROR,null,ca));Qa.error(ca);}});},function(ja){Qa.error(new ub(Y.ENCRYPT_ERROR));});},this);},decrypt:function(La,Qa){var ya;ya=this;Na(Qa,function(){var pa,ja;if(!this.encryptionKey)throw new ub(Y.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;try{pa=ac(La,Mb);ja=JSON.parse(pa);}catch(ca){if(ca instanceof SyntaxError)throw new ub(Y.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ca);throw new ub(Y.DECRYPT_ERROR,null,ca);}Gd(ja,Hd.V1,{result:function(ca){try{if(ca.keyId != ya.id)throw new ub(Y.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:jc.name,iv:ca.iv},ya.encryptionKey,ca.ciphertext).then(function(Z){Z=new Uint8Array(Z);Qa.result(Z);},function(){Qa.error(new ub(Y.DECRYPT_ERROR));});}catch(Z){Z instanceof eb?Qa.error(Z):Qa.error(new ub(Y.DECRYPT_ERROR,null,Z));}},error:function(ca){ca instanceof Db && (ca=new ub(Y.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ca));ca instanceof eb || (ca=new ub(Y.DECRYPT_ERROR,null,ca));Qa.error(ca);}});},this);},wrap:function(La,Qa){Na(Qa,function(){if(!this.wrapKey)throw new ub(Y.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",La.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(ya){Qa.result(ya);},function(ya){Qa.error(new ub(Y.WRAP_ERROR));});},this);},unwrap:function(La,Qa,ya,pa){function ja(ca){Na(pa,function(){switch(ca.type){case "secret":Wc(ca,pa);break;case "public":Dc(ca,pa);break;case "private":Mc(ca,pa);break;default:throw new ub(Y.UNSUPPORTED_KEY,"type: " + ca.type);}});}Na(pa,function(){if(!this.wrapKey)throw new ub(Y.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",La,this.wrapKey,this.wrapKey.algorithm,Qa,!1,ya).then(function(ca){ja(ca);},function(ca){pa.error(new ub(Y.UNWRAP_ERROR));});},this);},sign:function(La,Qa){var ya;ya=this;Na(Qa,function(){if(!this.hmacKey)throw new ub(Y.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(kc,this.hmacKey,La).then(function(pa){Na(Qa,function(){var ja;ja=new Uint8Array(pa);Id(ja,{result:function(ca){Qa.result(ca.bytes);},error:Qa.error});},ya);},function(){Qa.error(new ub(Y.HMAC_ERROR));});},this);},verify:function(La,Qa,ya){var pa;pa=this;Na(ya,function(){if(!this.hmacKey)throw new ub(Y.VERIFY_NOT_SUPPORTED,"no HMAC key.");Jd(Qa,Kd.V1,{result:function(ja){Na(ya,function(){Jb.verify(kc,this.hmacKey,ja.signature,La).then(function(ca){ya.result(ca);},function(ca){ya.error(new ub(Y.HMAC_ERROR));});},pa);},error:ya.error});},this);}});})();hc=md.extend({init:function ca(La,Qa,ya,pa,ja){if(ya || pa || ja)ca.base.call(this,La,ya + "_" + Qa.sequenceNumber,pa,ja,null);else {if(!Qa.isDecrypted())throw new Vc(Y.MASTERTOKEN_UNTRUSTED,Qa);ca.base.call(this,La,Qa.identity + "_" + Qa.sequenceNumber,Qa.encryptionKey,Qa.hmacKey,null);}}});lf=Oc.extend({encrypt:function(La,Qa){Qa.result(La);},decrypt:function(La,Qa){Qa.result(La);},wrap:function(La,Qa){Qa.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(La,Qa,ya,pa){pa.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(La,Qa){Qa.result(new Uint8Array(0));},verify:function(La,Qa,ya){ya.result(!1);}});Qb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Qb);(function(){Fc=Cb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(La){return this === La?!0:La instanceof Fc?this.scheme == La.scheme:!1;},toJSON:function(){var La;La={};La.scheme=this.scheme;La.authdata=this.getAuthData();return La;}});me=function(La,Qa){var ya,pa;ya=Qa.scheme;pa=Qa.authdata;if(!ya || !pa)throw new Db(Y.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Qa));if(!Qb[ya])throw new mc(Y.UNIDENTIFIED_ENTITYAUTH_SCHEME,ya);Qa=La.getEntityAuthenticationFactory(ya);if(!Qa)throw new mc(Y.ENTITYAUTH_FACTORY_NOT_FOUND,ya);return Qa.createData(La,pa);};})();nd=Cb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},createData:function(La,Qa){},getCryptoContext:function(La,Qa){}});(function(){sc=Fc.extend({init:function ya(Qa){ya.base.call(this,Qb.MGK);Object.defineProperties(this,{identity:{value:Qa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Qa;Qa={};Qa.identity=this.identity;return Qa;},equals:function pa(ya){return this === ya?!0:ya instanceof sc?pa.base.call(this,this,ya) && this.identity == ya.identity:!1;}});ne=function(ya){var pa;pa=ya.identity;if(!pa)throw new Db(Y.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(ya));return new sc(pa);};})();mf=nd.extend({init:function ya(Qa){ya.base.call(this,Qb.MGK);Object.defineProperties(this,{localIdentity:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Qa,ya){return ne(ya);},getCryptoContext:function(Qa,ya){if(!(ya instanceof sc))throw new vb("Incorrect authentication data type " + JSON.stringify(ya) + ".");if(ya.identity != this.localIdentity)throw new mc(Y.ENTITY_NOT_FOUND,"mgk " + ya.identity).setEntity(ya);return new Pc();}});(function(){tc=Fc.extend({init:function pa(ya){pa.base.call(this,Qb.PSK);Object.defineProperties(this,{identity:{value:ya,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ya;ya={};ya.identity=this.identity;return ya;},equals:function ja(pa){return this === pa?!0:pa instanceof tc?ja.base.call(this,this,pa) && this.identity == pa.identity:!1;}});oe=function(pa){var ja;ja=pa.identity;if(!ja)throw new Db(Y.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(pa));return new tc(ja);};})();nf=nd.extend({init:function pa(ya){pa.base.call(this,Qb.PSK);Object.defineProperties(this,{localIdentity:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},createData:function(ya,pa){return oe(pa);},getCryptoContext:function(ya,pa){if(!(pa instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(pa) + ".");if(pa.getIdentity() != this.localIdentity)throw new mc(Y.ENTITY_NOT_FOUND,"psk " + pa.identity).setEntity(pa);return new Pc();}});(function(){od=Fc.extend({init:function ca(pa,ja){ca.base.call(this,Qb.RSA);Object.defineProperties(this,{identity:{value:pa,writable:!1,configurable:!1},publicKeyId:{value:ja,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var pa;pa={};pa.identity=this.identity;pa.pubkeyid=this.publicKeyId;return pa;},equals:function ca(ja){return this === ja?!0:ja instanceof od?ca.base.call(this,this,ja) && this.identity == ja.identity && this.publicKeyId == ja.publicKeyId:!1;}});pe=function(ja){var ca,Z;ca=ja.identity;Z=ja.pubkeyid;if(!ca || "string" !== typeof ca || !Z || "string" !== typeof Z)throw new Db(Y.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ja));return new od(ca,Z);};})();of=nd.extend({init:function ja(pa){ja.base.call(this,Qb.RSA);Object.defineProperties(this,{store:{value:pa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(pa,ja){return pe(ja);},getCryptoContext:function(pa,ja){var ca,Z,aa;if(!(ja instanceof od))throw new vb("Incorrect authentication data type " + ja + ".");ca=ja.identity;Z=ja.publicKeyId;aa=this.store.getPublicKey(Z);if(!aa)throw new mc(Y.RSA_PUBLICKEY_NOT_FOUND,Z).setEntity(ja);return new kd(pa,ca,null,aa,ld.SIGN_VERIFY);}});(function(){Sc=Fc.extend({init:function ca(ja){ca.base.call(this,Qb.NONE);Object.defineProperties(this,{identity:{value:ja,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ja;ja={};ja.identity=this.identity;return ja;},equals:function Z(ca){return this === ca?!0:ca instanceof Sc?Z.base.call(this,this,ca) && this.identity == ca.identity:!1;}});qe=function(ca){var Z;Z=ca.identity;if(!Z)throw new Db(Y.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(ca));return new Sc(Z);};})();kf=nd.extend({init:function ja(){ja.base.call(this,Qb.NONE);},createData:function(ja,ca){return qe(ca);},getCryptoContext:function(ja,ca){if(!(ca instanceof Sc))throw new vb("Incorrect authentication data type " + JSON.stringify(ca) + ".");return new Pc();}});pf=Cb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ja,ca){if(!(ca instanceof jd))throw new vb("Incorrect key data type " + ca + ".");this.rsaKeys[ja]=ca;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ja){delete this.rsaKeys[ja];},getPublicKey:function(ja){return this.rsaKeys[ja];}});Ld=Cb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ja,ca,Z){}});pd=Cb.Class.create({abort:function(){},close:function(ja,ca){},write:function(ja,ca,Z,aa,ea){},flush:function(ja,ca){}});qf=Cb.Class.create({init:function(ja){Object.defineProperties(this,{_data:{value:ja,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Ub("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ja,ca,Z){bb(Z,function(){var aa;if(this._closed)throw new Ub("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ja && (ja=this._data.length - this._currentPosition);aa=this._data.subarray(this._currentPosition,this._currentPosition + ja);this._currentPosition+=aa.length;return aa;},this);}});rf=Cb.Class.create({init:function(){var ja;ja={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ja);},abort:function(){},close:function(ja,ca){this._closed=!0;ca.result(!0);},write:function(ja,ca,Z,aa,ea){bb(ea,function(){var ba;if(this._closed)throw new Ub("Stream is already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Z)throw new RangeError("Length cannot be negative.");if(ca + Z > ja.length)throw new RangeError("Offset plus length cannot be greater than the array length.");ba=ja.subarray(ca,Z);this._buffered.push(ba);return ba.length;},this);},flush:function(ja,ca){var Z;for(;0 < this._buffered.length;){if((ja=this._buffered.shift(),this._result)){Z=new Uint8Array(this._result.length + ja.length);Z.set(this._result);Z.set(ja,this._result.length);this._result=Z;}else this._result=new Uint8Array(ja);}ca.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});sf=Cb.Class.create({getResponse:function(ja,ca,Z){}});(function(){var ja,ca;ja=pd.extend({init:function(Z,aa){Z={_httpLocation:{value:Z,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new rf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Tc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},setTimeout:function(Z){this._timeout=Z;},getResponse:function(Z,aa){var ea;ea=this;this._responseQueue.poll(Z,{result:function(ba){bb(aa,function(){ba && this._responseQueue.add(ba);return ba;},ea);},timeout:function(){bb(aa,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();aa.timeout();},ea);},error:function(ba){bb(aa,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw ba;},ea);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(Z,aa){var ea;ea=this;bb(aa,function(){var ba;if(this._response)return !0;ba=this._buffer.toByteArray();0 < ba.length && (this._abortToken=this._httpLocation.getResponse({body:ba},this._timeout,{result:function(ma){ea._response={response:ma};ea._responseQueue.add(ea._response);},timeout:function(){ea._response={isTimeout:!0};ea._responseQueue.add(ea._response);},error:function(ma){ea._response={isError:!0,error:ma};ea._responseQueue.add(ea._response);}}));return !0;},this);},write:function(Z,aa,ea,ba,ma){bb(ma,function(){if(this._response)throw new Ub("HttpOutputStream already closed.");this._buffer.write(Z,aa,ea,ba,ma);},this);},flush:function(Z,aa){bb(aa,function(){if(this._response)return !0;this._buffer.flush(Z,aa);},this);}});ca=Ld.extend({init:function(Z){Object.defineProperties(this,{_out:{value:Z,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(Z,aa,ea){var ma;function ba(za){bb(ea,function(){if(!za)return new Uint8Array(0);this._out.getResponse(aa,{result:function(ua){bb(ea,function(){var na;if(ua.isTimeout)(this._timedout=!0,ea.timeout());else {if(ua.isError)throw (this._exception=ua.error || new Ub("Unknown HTTP exception."),this._exception);if(!ua.response)throw (this._exception=new Ub("Missing HTTP response."),this._exception);ua.response.json !== Bb && (this._json=ua.response.json,this.getJSON=function(){return ma._json;});na=ua.response.content || wd("string" === typeof ua.response.body?ua.response.body:JSON.stringify(this._json));this._buffer=new qf(na);this._buffer.read(Z,aa,ea);}},ma);},timeout:function(){ea.timeout();},error:function(ua){ea.error(ua);}});},ma);}ma=this;bb(ea,function(){if(this._exception)throw this._exception;if(this._timedout)ea.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(Z,aa,ea):this._out.close(aa,{result:function(za){ba(za);},timeout:function(){ea.timeout();},error:function(za){ea.error(za);}});}},ma);}});be=Cb.Class.create({init:function(Z,aa){Object.defineProperties(this,{_httpLocation:{value:Z,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(Z){this._timeout=Z;},openConnection:function(){var Z;Z=new ja(this._httpLocation,this._timeout);return {input:new ca(Z),output:Z};}});})();(function(){var ja,ca;ja=pd.extend({init:function(){var Z;Z={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},setTimeout:function(){},getResponse:function(Z,aa){aa.result({success:!1,content:null,errorHttpCode:Bb,errorSubCode:Bb});},abort:function(){},close:function(Z,aa){aa.result(!0);},write:function(Z,aa,ea,ba,ma){var za,ua;try{if(0 > aa)throw new RangeError("Offset cannot be negative.");if(0 > ea)throw new RangeError("Length cannot be negative.");if(aa + ea > Z.length)throw new RangeError("Offset plus length cannot be greater than the array length.");za=Z.subarray(aa,ea);ua=new Uint8Array(this._buffer.length + za.length);ua.set(this._buffer);ua.set(za,this._buffer.length);this._buffer=ua;ma.result(za.length);}catch(na){ma.error(na);}},flush:function(Z,aa){aa.result(!0);},request:function(){return this._buffer;}});ca=Ld.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(Z,aa,ea){ea.result(new Uint8Array(16));}});ce=Cb.Class.create({init:function(){var Z;Z={output:{value:new ja(),writable:!1,enumerable:!1,configurable:!1},input:{value:new ca(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return vd(this.output.request());}});})();re=function(ja,ca,Z){(function(aa,ea,ba){aa.read(-1,ea,{result:function(ma){ma && ma.length?ba(null,ma):ba(null,null);},timeout:function(){Z.timeout();},error:function(ma){ba(ma,null);}});})(ja,ca,function(aa,ea){var ba,ma;if(aa)Z.error(aa);else if(ea){if(ja.getJSON !== Bb && "function" === typeof ja.getJSON)Z.result(ja.getJSON());else {aa=Z.result;ea=new tf(ac(ea,"utf-8"));ba=[];for(ma=ea.nextValue();ma !== Bb;){ba.push(ma);ma=ea.nextValue();}aa.call(Z,ba);}}else Z.result(null);});};gc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(gc);(function(){Xc=Cb.Class.create({init:function(ja){Object.defineProperties(this,{keyExchangeScheme:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ja;ja={};ja.scheme=this.keyExchangeScheme;ja.keydata=this.getKeydata();return ja;},equals:function(ja){return this === ja?!0:ja instanceof Xc?this.keyExchangeScheme == ja.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});se=function(ja,ca,Z){Na(Z,function(){var aa,ea,ba;aa=ca.scheme;ea=ca.keydata;if(!aa || !ea || "object" !== typeof ea)throw new Db(Y.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(ca));if(!gc[aa])throw new Nb(Y.UNIDENTIFIED_KEYX_SCHEME,aa);ba=ja.getKeyExchangeFactory(aa);if(!ba)throw new Nb(Y.KEYX_FACTORY_NOT_FOUND,aa);ba.createRequestData(ja,ea,Z);});};})();(function(){Yc=Cb.Class.create({init:function(ja,ca){Object.defineProperties(this,{masterToken:{value:ja,writable:!1,configurable:!1},keyExchangeScheme:{value:ca,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ja;ja={};ja.mastertoken=this.masterToken;ja.scheme=this.keyExchangeScheme;ja.keydata=this.getKeydata();return ja;},equals:function(ja){return this === ja?!0:ja instanceof Yc?this.masterToken.equals(ja.masterToken) && this.keyExchangeScheme == ja.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});te=function(ja,ca,Z){Na(Z,function(){var aa,ea,ba;aa=ca.mastertoken;ea=ca.scheme;ba=ca.keydata;if(!ea || !aa || "object" !== typeof aa || !ba || "object" !== typeof ba)throw new Db(Y.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(ca));if(!gc[ea])throw new Nb(Y.UNIDENTIFIED_KEYX_SCHEME,ea);Zc(ja,aa,{result:function(ma){Na(Z,function(){var za;za=ja.getKeyExchangeFactory(ea);if(!za)throw new Nb(Y.KEYX_FACTORY_NOT_FOUND,ea);return za.createResponseData(ja,ma,ba);});},error:function(ma){Z.error(ma);}});});};})();(function(){var ja;ja=Cb.Class.create({init:function(ca,Z){Object.defineProperties(this,{keyResponseData:{value:ca,writable:!1,configurable:!1},cryptoContext:{value:Z,writable:!1,configurable:!1}});}});ic=Cb.Class.create({init:function(ca){Object.defineProperties(this,{scheme:{value:ca,writable:!1,configurable:!1}});},createRequestData:function(ca,Z,aa){},createResponseData:function(ca,Z,aa){},generateResponse:function(ca,Z,aa,ea){},getCryptoContext:function(ca,Z,aa,ea,ba){},generateSessionKeys:function(ca,Z){Na(Z,function(){var aa,ea;aa=new Uint8Array(16);ea=new Uint8Array(32);ca.getRandom().nextBytes(aa);ca.getRandom().nextBytes(ea);oc(aa,jc,xc,{result:function(ba){oc(ea,kc,Gc,{result:function(ma){Z.result({encryptionKey:ba,hmacKey:ma});},error:function(ma){Z.error(new ub(Y.SESSION_KEY_CREATION_FAILURE,null,ma));}});},error:function(ba){Z.error(new ub(Y.SESSION_KEY_CREATION_FAILURE,null,ba));}});});},importSessionKeys:function(ca,Z,aa){oc(ca,jc,xc,{result:function(ea){oc(Z,kc,Gc,{result:function(ba){aa.result({encryptionKey:ea,hmacKey:ba});},error:function(ba){aa.error(ba);}});},error:function(ea){aa.error(ea);}});}});ic.KeyExchangeData=ja;})();(function(){var ca,Z,aa;function ja(ea,ba,ma,za,ua){Na(ua,function(){var na,ta;switch(ba){case ca.PSK:(na=new tc(za),ta=ea.getEntityAuthenticationFactory(Qb.PSK));if(!ta)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ba);na=ta.getCryptoContext(ea,na);return new qc(ea,rc.A128KW,lc,Bb);case ca.MGK:na=new sc(za);ta=ea.getEntityAuthenticationFactory(Qb.MGK);if(!ta)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ba);na=ta.getCryptoContext(ea,na);return new qc(ea,rc.A128KW,lc,Bb);case ca.WRAP:na=ea.getMslCryptoContext();na.unwrap(ma,nc,yc,{result:function(Da){Na(ua,function(){return new qc(ea,rc.A128KW,lc,Da);});},error:ua.error});break;default:throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ba);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Z=ue=Xc.extend({init:function za(ba,ma){za.base.call(this,gc.JWE_LADDER);switch(ba){case ca.WRAP:if(!ma)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ma=null;}Object.defineProperties(this,{mechanism:{value:ba,writable:!1,configurable:!1},wrapdata:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var ba;ba={};ba.mechanism=this.mechanism;this.wrapdata && (ba.wrapdata=Fb(this.wrapdata));return ba;},equals:function za(ma){return ma === this?!0:ma instanceof ue?za.base.call(this,ma) && this.mechanism == ma.mechanism && cc(this.wrapdata,ma.wrapdata):!1;},uniqueKey:function za(){var ua;ua=za.base.call(this) + ":" + this.mechanism;this.wrapdata && (ua+=":" + dc(this.wrapdata));return ua;}});aa=ve=Yc.extend({init:function da(ua,na,ta,Da,oa){da.base.call(this,ua,gc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:na,writable:!1,configurable:!1},wrapdata:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:Da,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var ua;ua={};ua.wrapkey=Fb(this.wrapKey);ua.wrapdata=Fb(this.wrapdata);ua.encryptionkey=Fb(this.encryptionKey);ua.hmackey=Fb(this.hmacKey);return ua;},equals:function ta(na){return this === na?!0:na instanceof ve?ta.base.call(this,na) && cc(this.wrapKey,na.wrapKey) && cc(this.wrapdata,na.wrapdata) && cc(this.encryptionKey,na.encryptionKey) && cc(this.hmacKey,na.hmacKey):!1;},uniqueKey:function ta(){return ta.base.call(this) + ":" + dc(this.wrapKey) + ":" + dc(this.wrapdata) + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});ic.extend({init:function oa(Da){oa.base.call(this,gc.JWE_LADDER);Object.defineProperties(this,{repository:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(Da,oa,da){Na(da,function(){var ia,la,Ba;ia=oa.mechanism;la=oa.wrapdata;if(!ia || ia == ca.WRAP && (!la || "string" !== typeof la))throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(oa));if(!ca[ia])throw new Nb(Y.UNIDENTIFIED_KEYX_MECHANISM,ia);switch(ia){case ca.WRAP:try{Ba=Gb(la);}catch(Sa){throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());}if(null == Ba || 0 == Ba.length)throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());break;default:Ba=null;}return new Z(ia,Ba);});},createResponseData:function(Da,oa,da){var ia,la,Ba,Sa,Ma,Ra,Ta;Da=da.wrapkey;ia=da.wrapdata;la=da.encryptionkey;Ba=da.hmackey;if(!(Da && "string" === typeof Da && ia && "string" === typeof ia && la && "string" === typeof la && Ba) || "string" !== typeof Ba)throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));try{Sa=Gb(Da);Ma=Gb(ia);}catch(sa){throw new ub(Y.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(da),sa);}try{Ra=Gb(la);}catch(sa){throw new ub(Y.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(da),sa);}try{Ta=Gb(Ba);}catch(sa){throw new ub(Y.INVALID_HMAC_KEY,"keydata " + JSON.stringify(da),sa);}return new aa(oa,Sa,Ma,Ra,Ta);},generateResponse:function(Da,oa,da,ia){var Ra,Ta;function la(sa,Ca,Ha){Ra.generateSessionKeys(Da,{result:function(Ka){Na(ia,function(){Ba(sa,Ca,Ha,Ka.encryptionKey,Ka.hmacKey);},Ra);},error:function(Ka){Na(ia,function(){Ka instanceof eb && Ka.setEntity(Ta);throw Ka;});}});}function Ba(sa,Ca,Ha,Ka,Fa){Na(ia,function(){ja(Da,oa.mechanism,oa.wrapdata,sa,{result:function(Ua){Ua.wrap(Ca,{result:function(Ja){Sa(Ca,Ha,Ka,Fa,Ja);},error:function(Ja){Na(ia,function(){Ja instanceof eb && Ja.setEntity(Ta);throw Ja;});}});},error:function(Ua){Na(ia,function(){Ua instanceof eb && Ua.setEntity(Ta);throw Ua;});}});},Ra);}function Sa(sa,Ca,Ha,Ka,Fa){Na(ia,function(){var Ua;Ua=new qc(Da,rc.A128KW,lc,sa);Ua.wrap(Ha,{result:function(Ja){Ua.wrap(Ka,{result:function(Wa){Ma(Ca,Fa,Ha,Ja,Ka,Wa);},error:function(Wa){Na(ia,function(){Wa instanceof eb && Wa.setEntity(Ta);throw Wa;});}});},error:function(Ja){Na(ia,function(){Ja instanceof eb && Ja.setEntity(Ta);throw Ja;});}});},Ra);}function Ma(sa,Ca,Ha,Ka,Fa,Ua){Na(ia,function(){var Ja;Ja=Da.getTokenFactory();Ta?Ja.renewMasterToken(Da,Ta,Ha,Fa,{result:function(Wa){Na(ia,function(){var ab,Va;ab=new hc(Da,Wa);Va=new aa(Wa,Ca,sa,Ka,Ua);return new ic.KeyExchangeData(Va,ab,ia);},Ra);},error:function(Wa){Na(ia,function(){Wa instanceof eb && Wa.setEntity(Ta);throw Wa;});}}):Ja.createMasterToken(Da,da,Ha,Fa,{result:function(Wa){Na(ia,function(){var ab,Va;ab=new hc(Da,Wa);Va=new aa(Wa,Ca,sa,Ka,Ua);return new ic.KeyExchangeData(Va,ab,ia);},Ra);},error:ia.error});},Ra);}Ra=this;Na(ia,function(){var sa,Ca;if(!(oa instanceof Z))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");sa=da;if(da instanceof ec){if(!da.isVerified())throw new Vc(Y.MASTERTOKEN_UNTRUSTED,da);Ta=da;sa=da.identity;}Ca=new Uint8Array(16);Da.getRandom().nextBytes(Ca);oc(Ca,nc,yc,{result:function(Ha){Na(ia,function(){Da.getMslCryptoContext().wrap(Ha,{result:function(Ka){la(sa,Ha,Ka);},error:function(Ka){Na(ia,function(){Ka instanceof eb && Ka.setEntity(Ta);throw Ka;},Ra);}});},Ra);},error:function(Ha){Na(ia,function(){throw new ub(Y.WRAP_KEY_CREATION_FAILURE,null,Ha).setEntity(Ta);},Ra);}});},Ra);},getCryptoContext:function(Da,oa,da,ia,la){var Sa;function Ba(Ma,Ra,Ta,sa,Ca){Na(la,function(){var Ha;Ha=new qc(Da,rc.A128KW,lc,Ca);Ha.unwrap(Ra.encryptionKey,jc,xc,{result:function(Ka){Ha.unwrap(Ra.hmacKey,kc,Gc,{result:function(Fa){Na(la,function(){this.repository.addCryptoContext(Ra.wrapdata,Ha);this.repository.removeCryptoContext(Ta);return new hc(Da,Ra.masterToken,sa,Ka,Fa);},Sa);},error:function(Fa){Na(la,function(){Fa instanceof eb && Fa.setEntity(Ma);throw Fa;});}});},error:function(Ka){Na(la,function(){Ka instanceof eb && Ka.setEntity(Ma);throw Ka;});}});},Sa);}Sa=this;Na(la,function(){var Ma,Ra;if(!(oa instanceof Z))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");if(!(da instanceof aa))throw new vb("Key response data " + JSON.stringify(da) + " was not created by this factory.");Ma=oa.mechanism;Ra=oa.wrapdata;Da.getEntityAuthenticationData(null,{result:function(Ta){Na(la,function(){var sa,Ca,Ha;sa=Ta.getIdentity();switch(Ma){case ca.PSK:Ca=new tc(sa);Ha=Da.getEntityAuthenticationFactory(Qb.PSK);if(!Ha)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ta);Ca=Ha.getCryptoContext(Da,Ca);Ca=new qc(Da,rc.A128KW,lc,Bb);break;case ca.MGK:Ca=new sc(sa);Ha=Da.getEntityAuthenticationFactory(Qb.MGK);if(!Ha)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ta);Ca=Ha.getCryptoContext(Da,Ca);Ca=new qc(Da,rc.A128KW,lc,Ca.wrapKey);break;case ca.WRAP:Ca=this.repository.getCryptoContext(Ra);if(!Ca)throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,Fb(Ra)).setEntity(Ta);break;default:throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ta);}Ca.unwrap(da.wrapKey,nc,yc,{result:function(Ka){Ba(Ta,da,Ra,sa,Ka);},error:function(Ka){Na(la,function(){Ka instanceof eb && Ka.setEntity(Ta);throw Ka;});}});},Sa);},error:la.error});},Sa);}});})();(function(){var ca,Z,aa,ea;function ja(ba,ma,za,ua,na){Na(na,function(){var ta,Da;switch(ma){case ca.PSK:(ta=new tc(ua),Da=ba.getEntityAuthenticationFactory(Qb.PSK));if(!Da)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ma);ta=Da.getCryptoContext(ba,ta);return new ea(Bb);case ca.MGK:ta=new sc(ua);Da=ba.getEntityAuthenticationFactory(Qb.MGK);if(!Da)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ma);ta=Da.getCryptoContext(ba,ta);return new ea(Bb);case ca.WRAP:ta=ba.getMslCryptoContext();ta.unwrap(za,nc,yc,{result:function(oa){Na(na,function(){return new ea(oa);});},error:na.error});break;default:throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,ma);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Z=we=Xc.extend({init:function ua(ma,za){ua.base.call(this,gc.JWK_LADDER);switch(ma){case ca.WRAP:if(!za)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:za=null;}Object.defineProperties(this,{mechanism:{value:ma,writable:!1,configurable:!1},wrapdata:{value:za,writable:!1,configurable:!1}});},getKeydata:function(){var ma;ma={};ma.mechanism=this.mechanism;this.wrapdata && (ma.wrapdata=Fb(this.wrapdata));return ma;},equals:function ua(za){return za === this?!0:za instanceof we?ua.base.call(this,za) && this.mechanism == za.mechanism && cc(this.wrapdata,za.wrapdata):!1;},uniqueKey:function ua(){var na;na=ua.base.call(this) + ":" + this.mechanism;this.wrapdata && (na+=":" + dc(this.wrapdata));return na;}});aa=xe=Yc.extend({init:function ia(na,ta,Da,oa,da){ia.base.call(this,na,gc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:ta,writable:!1,configurable:!1},wrapdata:{value:Da,writable:!1,configurable:!1},encryptionKey:{value:oa,writable:!1,configurable:!1},hmacKey:{value:da,writable:!1,configurable:!1}});},getKeydata:function(){var na;na={};na.wrapkey=Fb(this.wrapKey);na.wrapdata=Fb(this.wrapdata);na.encryptionkey=Fb(this.encryptionKey);na.hmackey=Fb(this.hmacKey);return na;},equals:function Da(ta){return this === ta?!0:ta instanceof xe?Da.base.call(this,ta) && cc(this.wrapKey,ta.wrapKey) && cc(this.wrapdata,ta.wrapdata) && cc(this.encryptionKey,ta.encryptionKey) && cc(this.hmacKey,ta.hmacKey):!1;},uniqueKey:function Da(){return Da.base.call(this) + ":" + dc(this.wrapKey) + ":" + dc(this.wrapdata) + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});ea=Oc.extend({init:function(Da){Da && Da.rawKey && (Da=Da.rawKey);Object.defineProperties(this,{_wrapKey:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Da,oa){oa.error(new ub(Y.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Da,oa){oa.error(new ub(Y.DECRYPT_NOT_SUPPORTED));},wrap:function(Da,oa){Na(oa,function(){Jb.wrapKey("jwk",Da.rawKey,this._wrapKey,nc).then(function(da){oa.result(da);},function(da){oa.error(new ub(Y.WRAP_ERROR));});},this);},unwrap:function(Da,oa,da,ia){function la(Ba){Na(ia,function(){switch(Ba.type){case "secret":Wc(Ba,ia);break;case "public":Dc(Ba,ia);break;case "private":Mc(Ba,ia);break;default:throw new ub(Y.UNSUPPORTED_KEY,"type: " + Ba.type);}});}Na(ia,function(){Jb.unwrapKey("jwk",Da,this._wrapKey,nc,oa,!1,da).then(function(Ba){la(Ba);},function(Ba){ia.error(new ub(Y.UNWRAP_ERROR));});},this);},sign:function(Da,oa){oa.error(new ub(Y.SIGN_NOT_SUPPORTED));},verify:function(Da,oa,da){da.error(new ub(Y.VERIFY_NOT_SUPPORTED));}});ic.extend({init:function da(oa){da.base.call(this,gc.JWK_LADDER);Object.defineProperties(this,{repository:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(oa,da,ia){Na(ia,function(){var la,Ba,Sa;la=da.mechanism;Ba=da.wrapdata;if(!la || la == ca.WRAP && (!Ba || "string" !== typeof Ba))throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));if(!ca[la])throw new Nb(Y.UNIDENTIFIED_KEYX_MECHANISM,la);switch(la){case ca.WRAP:try{Sa=Gb(Ba);}catch(Ma){throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());}if(null == Sa || 0 == Sa.length)throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());break;default:Sa=null;}return new Z(la,Sa);});},createResponseData:function(oa,da,ia){var la,Ba,Sa,Ma,Ra,Ta,sa;oa=ia.wrapkey;la=ia.wrapdata;Ba=ia.encryptionkey;Sa=ia.hmackey;if(!(oa && "string" === typeof oa && la && "string" === typeof la && Ba && "string" === typeof Ba && Sa) || "string" !== typeof Sa)throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ia));try{Ma=Gb(oa);Ra=Gb(la);}catch(Ca){throw new ub(Y.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ia),Ca);}try{Ta=Gb(Ba);}catch(Ca){throw new ub(Y.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ia),Ca);}try{sa=Gb(Sa);}catch(Ca){throw new ub(Y.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ia),Ca);}return new aa(da,Ma,Ra,Ta,sa);},generateResponse:function(oa,da,ia,la){var Ta,sa;function Ba(Ca,Ha,Ka){Ta.generateSessionKeys(oa,{result:function(Fa){Na(la,function(){Sa(Ca,Ha,Ka,Fa.encryptionKey,Fa.hmacKey);},Ta);},error:function(Fa){Na(la,function(){Fa instanceof eb && Fa.setEntity(sa);throw Fa;});}});}function Sa(Ca,Ha,Ka,Fa,Ua){Na(la,function(){ja(oa,da.mechanism,da.wrapdata,Ca,{result:function(Ja){Ja.wrap(Ha,{result:function(Wa){Ma(Ha,Ka,Fa,Ua,Wa);},error:function(Wa){Na(la,function(){Wa instanceof eb && Wa.setEntity(sa);throw Wa;});}});},error:function(Ja){Na(la,function(){Ja instanceof eb && Ja.setEntity(sa);throw Ja;});}});},Ta);}function Ma(Ca,Ha,Ka,Fa,Ua){Na(la,function(){var Ja;Ja=new ea(Ca);Ja.wrap(Ka,{result:function(Wa){Ja.wrap(Fa,{result:function(ab){Ra(Ha,Ua,Ka,Wa,Fa,ab);},error:function(ab){Na(la,function(){ab instanceof eb && ab.setEntity(sa);throw ab;});}});},error:function(Wa){Na(la,function(){Wa instanceof eb && Wa.setEntity(sa);throw Wa;});}});},Ta);}function Ra(Ca,Ha,Ka,Fa,Ua,Ja){Na(la,function(){var Wa;Wa=oa.getTokenFactory();sa?Wa.renewMasterToken(oa,sa,Ka,Ua,{result:function(ab){Na(la,function(){var Va,jb;Va=new hc(oa,ab);jb=new aa(ab,Ha,Ca,Fa,Ja);return new ic.KeyExchangeData(jb,Va,la);},Ta);},error:function(ab){Na(la,function(){ab instanceof eb && ab.setEntity(sa);throw ab;});}}):Wa.createMasterToken(oa,ia,Ka,Ua,{result:function(ab){Na(la,function(){var Va,jb;Va=new hc(oa,ab);jb=new aa(ab,Ha,Ca,Fa,Ja);return new ic.KeyExchangeData(jb,Va,la);},Ta);},error:la.error});},Ta);}Ta=this;Na(la,function(){var Ca,Ha;if(!(da instanceof Z))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");Ca=ia;if(ia instanceof ec){if(!ia.isVerified())throw new Vc(Y.MASTERTOKEN_UNTRUSTED,ia);sa=ia;Ca=ia.identity;}Ha=new Uint8Array(16);oa.getRandom().nextBytes(Ha);oc(Ha,nc,yc,{result:function(Ka){Na(la,function(){oa.getMslCryptoContext().wrap(Ka,{result:function(Fa){Ba(Ca,Ka,Fa);},error:function(Fa){Na(la,function(){Fa instanceof eb && Fa.setEntity(sa);throw Fa;},Ta);}});},Ta);},error:function(Ka){Na(la,function(){throw new ub(Y.WRAP_KEY_CREATION_FAILURE,null,Ka).setEntity(sa);},Ta);}});},Ta);},getCryptoContext:function(oa,da,ia,la,Ba){var Ma;function Sa(Ra,Ta,sa,Ca,Ha){Na(Ba,function(){var Ka;Ka=new ea(Ha);Ka.unwrap(Ta.encryptionKey,jc,xc,{result:function(Fa){Ka.unwrap(Ta.hmacKey,kc,Gc,{result:function(Ua){Na(Ba,function(){this.repository.addCryptoContext(Ta.wrapdata,Ka);this.repository.removeCryptoContext(sa);return new hc(oa,Ta.masterToken,Ca,Fa,Ua);},Ma);},error:function(Ua){Na(Ba,function(){Ua instanceof eb && Ua.setEntity(Ra);throw Ua;});}});},error:function(Fa){Na(Ba,function(){Fa instanceof eb && Fa.setEntity(Ra);throw Fa;});}});},Ma);}Ma=this;Na(Ba,function(){var Ra,Ta;if(!(da instanceof Z))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ia instanceof aa))throw new vb("Key response data " + JSON.stringify(ia) + " was not created by this factory.");Ra=da.mechanism;Ta=da.wrapdata;oa.getEntityAuthenticationData(null,{result:function(sa){Na(Ba,function(){var Ca,Ha,Ka;Ca=sa.getIdentity();switch(Ra){case ca.PSK:Ha=new tc(Ca);Ka=oa.getEntityAuthenticationFactory(Qb.PSK);if(!Ka)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(sa);Ha=Ka.getCryptoContext(oa,Ha);Ha=new ea(Ha.wrapKey);break;case ca.MGK:Ha=new sc(Ca);Ka=oa.getEntityAuthenticationFactory(Qb.MGK);if(!Ka)throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(sa);Ha=Ka.getCryptoContext(oa,Ha);Ha=new ea(Ha.wrapKey);break;case ca.WRAP:Ha=this.repository.getCryptoContext(Ta);if(!Ha)throw new Nb(Y.KEYX_WRAPPING_KEY_MISSING,Fb(Ta)).setEntity(sa);break;default:throw new Nb(Y.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(sa);}Ha.unwrap(ia.wrapKey,nc,yc,{result:function(Fa){Sa(sa,ia,Ta,Ca,Fa);},error:function(Fa){Na(Ba,function(){Fa instanceof eb && Fa.setEntity(sa);throw Fa;});}});},Ma);},error:Ba.error});},Ma);}});})();uf=Cb.Class.create({addCryptoContext:function(ja,ca){},getCryptoContext:function(ja){},removeCryptoContext:function(ja){}});(function(){var ca,Z,aa,ea;function ja(ba,ma,za,ua,na){switch(za){case ca.JWE_RSA:case ca.JWEJS_RSA:return new qc(ba,rc.RSA_OAEP,lc,ua,na);case ca.JWK_RSA:return new kd(ba,ma,ua,na,ld.WRAP_UNWRAP_OAEP);case ca.JWK_RSAES:return new kd(ba,ma,ua,na,ld.WRAP_UNWRAP_PKCS1);default:throw new ub(Y.UNSUPPORTED_KEYX_MECHANISM,za);}}ca=ye={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};Z=yd=Xc.extend({init:function ta(ma,za,ua,na){ta.base.call(this,gc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ma,writable:!1,configurable:!1},mechanism:{value:za,writable:!1,configurable:!1},publicKey:{value:ua,writable:!1,configurable:!1},privateKey:{value:na,writable:!1,configurable:!1}});},getKeydata:function(){var ma;ma={};ma.keypairid=this.keyPairId;ma.mechanism=this.mechanism;ma.publickey=Fb(this.publicKey.getEncoded());return ma;},equals:function ua(za){var na;if(za === this)return !0;if(!(za instanceof yd))return !1;na=this.privateKey === za.privateKey || this.privateKey && za.privateKey && cc(this.privateKey.getEncoded(),za.privateKey.getEncoded());return ua.base.call(this,za) && this.keyPairId == za.keyPairId && this.mechanism == za.mechanism && cc(this.publicKey.getEncoded(),za.publicKey.getEncoded()) && na;},uniqueKey:function ua(){var na,ta;na=this.publicKey.getEncoded();ta=this.privateKey && this.privateKey.getEncoded();na=ua.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + dc(na);ta && (na+=":" + dc(ta));return na;}});aa=function(ua,na){Na(na,function(){var ta,Da,oa,da;ta=ua.keypairid;Da=ua.mechanism;oa=ua.publickey;if(!ta || "string" !== typeof ta || !Da || !oa || "string" !== typeof oa)throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ua));if(!ca[Da])throw new Nb(Y.UNIDENTIFIED_KEYX_MECHANISM,Da);try{da=Gb(oa);switch(Da){case ca.JWE_RSA:case ca.JWEJS_RSA:case ca.JWK_RSA:Dd(da,id,yc,{result:function(ia){na.result(new Z(ta,Da,ia,null));},error:function(ia){na.error(ia);}});break;case ca.JWK_RSAES:Dd(da,Bd,yc,{result:function(ia){na.result(new Z(ta,Da,ia,null));},error:function(ia){na.error(ia);}});break;default:throw new ub(Y.UNSUPPORTED_KEYX_MECHANISM,Da);}}catch(ia){if(!(ia instanceof eb))throw new ub(Y.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ua),ia);throw ia;}});};ea=ze=Yc.extend({init:function da(na,ta,Da,oa){da.base.call(this,na,gc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:Da,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var na;na={};na.keypairid=this.keyPairId;na.encryptionkey=Fb(this.encryptionKey);na.hmackey=Fb(this.hmacKey);return na;},equals:function Da(ta){return this === ta?!0:ta instanceof ze?Da.base.call(this,ta) && this.keyPairId == ta.keyPairId && cc(this.encryptionKey,ta.encryptionKey) && cc(this.hmacKey,ta.hmacKey):!1;},uniqueKey:function Da(){return Da.base.call(this) + ":" + this.keyPairId + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});de=ic.extend({init:function oa(){oa.base.call(this,gc.ASYMMETRIC_WRAPPED);},createRequestData:function(oa,da,ia){aa(da,ia);},createResponseData:function(oa,da,ia){var la,Ba,Sa,Ma;oa=ia.keypairid;la=ia.encryptionkey;Ba=ia.hmackey;if(!oa || "string" !== typeof oa || !la || "string" !== typeof la || !Ba || "string" !== typeof Ba)throw new Db(Y.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ia));try{Sa=Gb(la);}catch(Ra){throw new ub(Y.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ia),Ra);}try{Ma=Gb(Ba);}catch(Ra){throw new ub(Y.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ia),Ra);}return new ea(da,oa,Sa,Ma);},generateResponse:function(oa,da,ia,la){var Ma;function Ba(Ra,Ta){Na(la,function(){var sa;sa=ja(oa,da.keyPairId,da.mechanism,null,da.publicKey);sa.wrap(Ra,{result:function(Ca){Na(la,function(){sa.wrap(Ta,{result:function(Ha){Sa(Ra,Ca,Ta,Ha);},error:function(Ha){Na(la,function(){Ha instanceof eb && ia instanceof ec && Ha.setEntity(ia);throw Ha;},Ma);}});},Ma);},error:function(Ca){Na(la,function(){Ca instanceof eb && ia instanceof ec && Ca.setEntity(ia);throw Ca;},Ma);}});},Ma);}function Sa(Ra,Ta,sa,Ca){Na(la,function(){var Ha;Ha=oa.getTokenFactory();ia instanceof ec?Ha.renewMasterToken(oa,ia,Ra,sa,{result:function(Ka){Na(la,function(){var Fa,Ua;Fa=new hc(oa,Ka);Ua=new ea(Ka,da.keyPairId,Ta,Ca);return new ic.KeyExchangeData(Ua,Fa,la);},Ma);},error:function(Ka){Na(la,function(){Ka instanceof eb && Ka.setEntity(ia);throw Ka;},Ma);}}):Ha.createMasterToken(oa,ia,Ra,sa,{result:function(Ka){Na(la,function(){var Fa,Ua;Fa=new hc(oa,Ka);Ua=new ea(Ka,da.keyPairId,Ta,Ca);return new ic.KeyExchangeData(Ua,Fa,la);},Ma);},error:la.error});},Ma);}Ma=this;Na(la,function(){if(!(da instanceof Z))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");this.generateSessionKeys(oa,{result:function(Ra){Ba(Ra.encryptionKey,Ra.hmacKey);},error:function(Ra){Na(la,function(){Ra instanceof eb && ia instanceof ec && Ra.setEntity(ia);throw Ra;},Ma);}});},Ma);},getCryptoContext:function(oa,da,ia,la,Ba){var Sa;Sa=this;Na(Ba,function(){var Ma,Ra,Ta;if(!(da instanceof Z))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ia instanceof ea))throw new vb("Key response data " + JSON.stringify(ia) + " was not created by this factory.");Ma=da.keyPairId;Ra=ia.keyPairId;if(Ma != Ra)throw new Nb(Y.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ma + "; response " + Ra).setEntity(la);Ra=da.privateKey;if(!Ra)throw new Nb(Y.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(la);Ta=ja(oa,Ma,da.mechanism,Ra,null);Ta.unwrap(ia.encryptionKey,jc,xc,{result:function(sa){Ta.unwrap(ia.hmacKey,kc,Gc,{result:function(Ca){oa.getEntityAuthenticationData(null,{result:function(Ha){Na(Ba,function(){var Ka;Ka=Ha.getIdentity();return new hc(oa,ia.masterToken,Ka,sa,Ca);},Sa);},error:function(Ha){Na(Ba,function(){Ha instanceof eb && Ha.setEntity(la);throw Ha;},Sa);}});},error:function(Ca){Na(Ba,function(){Ca instanceof eb && Ca.setEntity(la);throw Ca;},Sa);}});},error:function(sa){Na(Ba,function(){sa instanceof eb && sa.setEntity(la);throw sa;},Sa);}});},Sa);}});})();tf=Cb.Class.create({init:function(ja){var ca,Z,aa,ea,ba,ma,za,ua;ca=Xb.parser();Z=[];aa=[];za=0;ua=!1;ca.onerror=function(na){ua || (ua=!0,ca.end());};ca.onopenobject=function(na){var ta;if(ea)(ea[ma]={},aa.push(ea),ea=ea[ma]);else if(ba){ta={};aa.push(ba);ba.push(ta);ea=ta;ba=Bb;}else ea={};ma=na;};ca.oncloseobject=function(){var na;na=aa.pop();na?"object" === typeof na?ea=na:(ea=Bb,ba=na):(Z.push(ea),za=ca.index,ea=Bb);};ca.onopenarray=function(){var na;if(ea)(ea[ma]=[],aa.push(ea),ba=ea[ma],ea=Bb);else if(ba){na=[];aa.push(ba);ba.push(na);ba=na;}else ba=[];};ca.onclosearray=function(){var na;na=aa.pop();na?"object" === typeof na?(ea=na,ba=Bb):ba=na:(Z.push(ba),za=ca.index,ba=Bb);};ca.onkey=function(na){ma=na;};ca.onvalue=function(na){ea?ea[ma]=na:ba?ba.push(na):(Z.push(na),za=ca.index);};ca.write(ja).close();Object.defineProperties(this,{_values:{value:Z,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:za,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Bb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ja,ca,Z,aa,ea;ja=Md="entityauthdata";ca=Be="mastertoken";Z=Ce="headerdata";aa=De="errordata";ea=Nd="signature";Ae=function(ba,ma,za,ua){Na(ua,function(){var na,ta,Da,oa,da,ia;na=ma[ja];ta=ma[ca];Da=ma[ea];if(na && "object" !== typeof na || ta && "object" !== typeof ta || "string" !== typeof Da)throw new Db(Y.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));try{oa=Gb(Da);}catch(la){throw new Ib(Y.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ma),la);}da=null;na && (da=me(ba,na));ia=ma[Z];if(ia != Bb && null != ia){if("string" !== typeof ia)throw new Db(Y.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));ta?Zc(ba,ta,{result:function(la){Od(ba,ia,da,la,oa,za,ua);},error:function(la){ua.error(la);}}):Od(ba,ia,da,null,oa,za,ua);}else if((na=ma[aa],na != Bb && null != na)){if("string" !== typeof na)throw new Db(Y.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));Ee(ba,na,da,oa,ua);}else throw new Db(Y.JSON_PARSE_ERROR,JSON.stringify(ma));});};})();(function(){function ja(ca,Z){this.errordata=ca;this.signature=Z;}Cc=Cb.Class.create({init:function(ca,Z,aa,ea,ba,ma,za,ua,na,ta){var Da;Da=this;Na(ta,function(){var oa,da;0 > ma && (ma=-1);if(0 > ea || ea > Kb)throw new vb("Message ID " + ea + " is out of range.");if(!Z)throw new Ib(Y.MESSAGE_ENTITY_NOT_FOUND);if(na)return (Object.defineProperties(this,{entityAuthenticationData:{value:Z,writable:!1,configurable:!1},recipient:{value:aa,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:ba,writable:!1,configurable:!1},internalCode:{value:ma,writable:!1,configurable:!1},errorMessage:{value:za,writable:!1,configurable:!1},userMessage:{value:ua,writable:!1,configurable:!1},errordata:{value:na.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:na.signature,writable:!1,enumerable:!1,configurable:!1}}),this);oa={};aa && (oa.recipient=aa);oa.messageid=ea;oa.errorcode=ba;0 < ma && (oa.internalcode=ma);za && (oa.errormsg=za);ua && (oa.usermsg=ua);try{da=ca.getEntityAuthenticationFactory(Z.scheme).getCryptoContext(ca,Z);}catch(ia){throw (ia instanceof eb && (ia.setEntity(Z),ia.setMessageId(ea)),ia);}oa=bc(JSON.stringify(oa),Mb);da.encrypt(oa,{result:function(ia){Na(ta,function(){da.sign(ia,{result:function(la){Na(ta,function(){Object.defineProperties(this,{entityAuthenticationData:{value:Z,writable:!1,configurable:!1},recipient:{value:aa,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:ba,writable:!1,configurable:!1},internalCode:{value:ma,writable:!1,configurable:!1},errorMessage:{value:za,writable:!1,configurable:!1},userMessage:{value:ua,writable:!1,configurable:!1},errordata:{value:ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});return this;},Da);},error:function(la){Na(ta,function(){la instanceof eb && (la.setEntity(Z),la.setMessageId(ea));throw la;},Da);}});},Da);},error:function(ia){Na(ta,function(){ia instanceof eb && (ia.setEntity(Z),ia.setMessageId(ea));throw ia;},Da);}});},Da);},toJSON:function(){var ca;ca={};ca[Md]=this.entityAuthenticationData;ca[De]=Fb(this.errordata);ca[Nd]=Fb(this.signature);return ca;}});Fe=function(ca,Z,aa,ea,ba,ma,za,ua,na){new Cc(ca,Z,aa,ea,ba,ma,za,ua,null,na);};Ee=function(ca,Z,aa,ea,ba){Na(ba,function(){var ma,za,ua;if(!aa)throw new Ib(Y.MESSAGE_ENTITY_NOT_FOUND);try{ma=aa.scheme;za=ca.getEntityAuthenticationFactory(ma);if(!za)throw new mc(Y.ENTITYAUTH_FACTORY_NOT_FOUND,ma);ua=za.getCryptoContext(ca,aa);}catch(na){throw (na instanceof eb && na.setEntity(aa),na);}try{Z=Gb(Z);}catch(na){throw new Ib(Y.HEADER_DATA_INVALID,Z,na).setEntity(aa);}if(!Z || 0 == Z.length)throw new Ib(Y.HEADER_DATA_MISSING,Z).setEntity(aa);ua.verify(Z,ea,{result:function(na){Na(ba,function(){if(!na)throw new ub(Y.MESSAGE_VERIFICATION_FAILED).setEntity(aa);ua.decrypt(Z,{result:function(ta){Na(ba,function(){var Da,oa,da,ia,la,Ba,Sa,Ma;Da=ac(ta,Mb);try{oa=JSON.parse(Da);}catch(Ta){if(Ta instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"errordata " + Da,Ta).setEntity(aa);throw Ta;}da=oa.recipient !== Bb?oa.recipient:null;ia=parseInt(oa.messageid);la=parseInt(oa.errorcode);Ba=parseInt(oa.internalcode);Sa=oa.errormsg;Ma=oa.usermsg;if(da && "string" !== typeof da || !ia || ia != ia || !la || la != la || oa.internalcode && Ba != Ba || Sa && "string" !== typeof Sa || Ma && "string" !== typeof Ma)throw new Db(Y.JSON_PARSE_ERROR,"errordata " + Da).setEntity(aa);if(0 > ia || ia > Kb)throw new Ib(Y.MESSAGE_ID_OUT_OF_RANGE,"errordata " + Da).setEntity(aa);oa=!1;for(var Ra in Ia){if(Ia[Ra] == la){oa=!0;break;}}oa || (la=Ia.FAIL);if(Ba){if(0 > Ba)throw new Ib(Y.INTERNAL_CODE_NEGATIVE,"errordata " + Da).setEntity(aa).setMessageId(ia);}else Ba=-1;Da=new ja(Z,ea);new Cc(ca,aa,da,ia,la,Ba,Sa,Ma,Da,ba);});},error:function(ta){Na(ba,function(){ta instanceof eb && ta.setEntity(aa);throw ta;});}});});},error:function(na){Na(ba,function(){na instanceof eb && na.setEntity(aa);throw na;});}});});};})();vf=Cb.Class.create({getUserMessage:function(ja,ca){}});(function(){Pd=function(ja,ca){var Z;if(!ja || !ca)return null;Z=ja.compressionAlgorithms.filter(function(aa){for(var ea=0;ea < ca.compressionAlgorithms.length;++ea){if(aa == ca.compressionAlgorithms[ea])return !0;}return !1;});ja=ja.languages.filter(function(aa){for(var ea=0;ea < ca.languages.length;++ea){if(aa == ca.languages[ea])return !0;}return !1;});return new $c(Z,ja);};$c=Cb.Class.create({init:function(ja,ca){ja || (ja=[]);ca || (ca=[]);ja.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ja,writable:!1,enumerable:!0,configurable:!1},languages:{value:ca,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ja;ja={};ja.compressionalgos=this.compressionAlgorithms;ja.languages=this.languages;return ja;},equals:function(ja){return this === ja?!0:ja instanceof $c?Xd(this.compressionAlgorithms,ja.compressionAlgorithms) && Xd(this.languages,ja.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Ge=function(ja){var ca,Z,ea;ca=ja.compressionalgos;Z=ja.languages;if(ca && !(ca instanceof Array) || Z && !(Z instanceof Array))throw new Db(Y.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ja));ja=[];for(var aa=0;ca && aa < ca.length;++aa){ea=ca[aa];Ec[ea] && ja.push(ea);}return new $c(ja,Z);};})();(function(){var ta,Da;function ja(oa,da,ia,la,Ba){this.customer=oa;this.sender=da;this.messageCryptoContext=ia;this.headerdata=la;this.signature=Ba;}function ca(oa,da,ia,la,Ba,Sa,Ma,Ra,Ta,sa,Ca,Ha,Ka,Fa,Ua,Ja,Wa,ab,Va,jb){return {cryptoContext:{value:da,writable:!1,configurable:!1},customer:{value:ia,writable:!1,configurable:!1},entityAuthenticationData:{value:la,writable:!1,configurable:!1},masterToken:{value:Ba,writable:!1,configurable:!1},sender:{value:Sa,writable:!1,configurable:!1},messageId:{value:Ma,writable:!1,configurable:!1},nonReplayableId:{value:Ja,writable:!1,configurable:!1},keyRequestData:{value:Ra,writable:!1,configurable:!1},keyResponseData:{value:Ta,writable:!1,configurable:!1},userAuthenticationData:{value:sa,writable:!1,configurable:!1},userIdToken:{value:Ca,writable:!1,configurable:!1},serviceTokens:{value:Ha,writable:!1,configurable:!1},peerMasterToken:{value:Ka,writable:!1,configurable:!1},peerUserIdToken:{value:Fa,writable:!1,configurable:!1},peerServiceTokens:{value:Ua,writable:!1,configurable:!1},messageCapabilities:{value:ab,writable:!1,configurable:!1},renewable:{value:Wa,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:jb,writable:!1,enumerable:!1,configurable:!1}};}function Z(oa,da,ia){var la;if(ia){if(da=oa.getMslStore().getCryptoContext(ia))return da;if(!ia.isVerified() || !ia.isDecrypted())throw new Vc(Y.MASTERTOKEN_UNTRUSTED,ia);return new hc(oa,ia);}ia=da.scheme;la=oa.getEntityAuthenticationFactory(ia);if(!la)throw new mc(Y.ENTITYAUTH_FACTORY_NOT_FOUND,ia);return la.getCryptoContext(oa,da);}function aa(oa,da,ia,la,Ba){Na(Ba,function(){da.verify(ia,la,{result:function(Sa){Na(Ba,function(){if(!Sa)throw new ub(Y.MESSAGE_VERIFICATION_FAILED);da.decrypt(ia,{result:function(Ma){Na(Ba,function(){return ac(Ma,Mb);});},error:function(Ma){Ba.error(Ma);}});});},error:function(Sa){Ba.error(Sa);}});});}function ea(oa,da,ia){Na(ia,function(){if(da)te(oa,da,ia);else return null;});}function ba(oa,da,ia,la){Na(la,function(){if(da)qd(oa,da,ia,la);else return null;});}function ma(oa,da,ia,la){Na(la,function(){if(ia)Ke(oa,da,ia,la);else return null;});}function za(oa,da,ia,la,Ba,Sa,Ma){var Ta;function Ra(sa,Ca,Ha){var Ka,Fa;if(Ca >= sa.length){Ka=[];for(Fa in Ta){Ka.push(Ta[Fa]);}Ha.result(Ka);}else {Ka=sa[Ca];if("object" !== typeof Ka)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + Sa);rd(oa,Ka,ia,la,Ba,{result:function(Ua){Na(Ha,function(){Ta[Ua.uniqueKey()]=Ua;Ra(sa,Ca + 1,Ha);});},error:function(Ua){Ha.error(Ua);}});}}Ta={};Na(Ma,function(){if(da){if(!(da instanceof Array))throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + Sa);Ra(da,0,Ma);}else return [];});}function ua(oa,da,ia,la,Ba,Sa){function Ma(Ta,sa,Ca){Na(Ca,function(){var Ha;Ha=sa.peermastertoken;if(Ha && "object" !== typeof Ha)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + Ba);if(!Ha)return null;Zc(Ta,Ha,Ca);});}function Ra(Ta,sa,Ca,Ha){Na(Ha,function(){var Ka;Ka=sa.peeruseridtoken;if(Ka && "object" !== typeof Ka)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + Ba);if(!Ka)return null;qd(Ta,Ka,Ca,Ha);});}Na(Sa,function(){if(!oa.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ma(oa,da,{result:function(Ta){Na(Sa,function(){var sa;sa=ia?ia.masterToken:Ta;Ra(oa,da,sa,{result:function(Ca){Na(Sa,function(){za(oa,da.peerservicetokens,sa,Ca,la,Ba,{result:function(Ha){Na(Sa,function(){return {peerMasterToken:Ta,peerUserIdToken:Ca,peerServiceTokens:Ha};});},error:function(Ha){Na(Sa,function(){Ha instanceof eb && (Ha.setEntity(sa),Ha.setUser(Ca));throw Ha;});}});});},error:function(Ca){Na(Sa,function(){Ca instanceof eb && Ca.setEntity(sa);throw Ca;});}});});},error:Sa.error});});}function na(oa,da,ia,la){var Sa;function Ba(Ma,Ra){Na(la,function(){if(Ra >= Ma.length)return Sa;se(oa,Ma[Ra],{result:function(Ta){Na(la,function(){Sa.push(Ta);Ba(Ma,Ra + 1);});},error:function(Ta){la.error(Ta);}});});}Sa=[];Na(la,function(){var Ma;Ma=da.keyrequestdata;if(!Ma)return Sa;if(!(Ma instanceof Array))throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + ia);Ba(Ma,0);});}ta=Ie=Cb.Class.create({init:function(oa,da,ia,la,Ba,Sa,Ma,Ra,Ta){Object.defineProperties(this,{messageId:{value:oa,writable:!1,configurable:!1},nonReplayableId:{value:da,writable:!1,configurable:!1},renewable:{value:ia,writable:!1,configurable:!1},capabilities:{value:la,writable:!1,configurable:!1},keyRequestData:{value:Ba,writable:!1,configurable:!1},keyResponseData:{value:Sa,writable:!1,configurable:!1},userAuthData:{value:Ma,writable:!1,configurable:!1},userIdToken:{value:Ra,writable:!1,configurable:!1},serviceTokens:{value:Ta,writable:!1,configurable:!1}});}});Da=Je=Cb.Class.create({init:function(oa,da,ia){Object.defineProperties(this,{peerMasterToken:{value:oa,writable:!1,configurable:!1},peerUserIdToken:{value:da,writable:!1,configurable:!1},peerServiceTokens:{value:ia,writable:!1,configurable:!1}});}});ad=Cb.Class.create({init:function(oa,da,ia,la,Ba,Sa,Ma){var Ta;function Ra(sa){Na(Ma,function(){var Ca,Ha,Ka,Fa,Ua,Ja,Wa,ab,Va,jb,lb,ob,pb,qb,Ab,yb,r;da=ia?null:da;Ca=la.nonReplayableId;Ha=la.renewable;Ka=la.capabilities;Fa=la.messageId;Ua=la.keyRequestData?la.keyRequestData:[];Ja=la.keyResponseData;Wa=la.userAuthData;ab=la.userIdToken;Va=la.serviceTokens?la.serviceTokens:[];if(oa.isPeerToPeer()){jb=Ba.peerMasterToken;lb=Ba.peerUserIdToken;ob=Ba.peerServiceTokens?Ba.peerServiceTokens:[];}else (lb=jb=null,ob=[]);if(0 > Fa || Fa > Kb)throw new vb("Message ID " + Fa + " is out of range.");if(!da && !ia)throw new vb("Message entity authentication data or master token must be provided.");if(Ja){if(oa.isPeerToPeer()){pb=ia;qb=Ja.masterToken;}else (pb=Ja.masterToken,qb=jb);}else (pb=ia,qb=jb);if(ab && (!pb || !ab.isBoundTo(pb)))throw new vb("User ID token must be bound to a master token.");if(lb && (!qb || !lb.isBoundTo(qb)))throw new vb("Peer user ID token must be bound to a peer master token.");Va.forEach(function(b){if(b.isMasterTokenBound() && (!pb || !b.isBoundTo(pb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!ab || !b.isBoundTo(ab)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!qb || !b.isBoundTo(qb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!lb || !b.isBoundTo(lb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Sa){r=Sa.customer;Ab=Sa.messageCryptoContext;yb=ca(oa,Ab,r,da,ia,sa,Fa,Ua,Ja,Wa,ab,Va,jb,lb,ob,Ca,Ha,Ka,Sa.headerdata,Sa.signature);Object.defineProperties(this,yb);return this;}r=ab?ab.customer:null;yb={};sa && (yb.sender=sa);yb.messageid=Fa;"number" === typeof Ca && (yb.nonreplayableid=Ca);yb.renewable=Ha;Ka && (yb.capabilities=Ka);0 < Ua.length && (yb.keyrequestdata=Ua);Ja && (yb.keyresponsedata=Ja);Wa && (yb.userauthdata=Wa);ab && (yb.useridtoken=ab);0 < Va.length && (yb.servicetokens=Va);jb && (yb.peermastertoken=jb);lb && (yb.peeruseridtoken=lb);0 < ob.length && (yb.peerservicetokens=ob);try{Ab=Z(oa,da,ia);}catch(b){throw (b instanceof eb && (b.setEntity(ia),b.setEntity(da),b.setUser(ab),b.setUser(Wa),b.setMessageId(Fa)),b);}yb=bc(JSON.stringify(yb),Mb);Ab.encrypt(yb,{result:function(b){Na(Ma,function(){Ab.sign(b,{result:function(a){Na(Ma,function(){var c;c=ca(oa,Ab,r,da,ia,sa,Fa,Ua,Ja,Wa,ab,Va,jb,lb,ob,Ca,Ha,Ka,b,a);Object.defineProperties(this,c);return this;},Ta);},error:function(a){Na(Ma,function(){a instanceof eb && (a.setEntity(ia),a.setEntity(da),a.setUser(ab),a.setUser(Wa),a.setMessageId(Fa));throw a;},Ta);}});},Ta);},error:function(b){Na(Ma,function(){b instanceof eb && (b.setEntity(ia),b.setEntity(da),b.setUser(ab),b.setUser(Wa),b.setMessageId(Fa));throw b;},Ta);}});},Ta);}Ta=this;Na(Ma,function(){Sa?Ra(Sa.sender):ia?oa.getEntityAuthenticationData(null,{result:function(sa){sa=sa.getIdentity();Ra(sa);},error:Ma.error}):Ra(null);},Ta);},isEncrypting:function(){return this.masterToken || xd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var oa;oa={};this.masterToken?oa[Be]=this.masterToken:oa[Md]=this.entityAuthenticationData;oa[Ce]=Fb(this.headerdata);oa[Nd]=Fb(this.signature);return oa;}});He=function(oa,da,ia,la,Ba,Sa){new ad(oa,da,ia,la,Ba,null,Sa);};Od=function(oa,da,ia,la,Ba,Sa,Ma){Na(Ma,function(){var Ra,Ta;ia=la?null:ia;if(!ia && !la)throw new Ib(Y.MESSAGE_ENTITY_NOT_FOUND);Ra=da;try{da=Gb(Ra);}catch(sa){throw new Ib(Y.HEADER_DATA_INVALID,Ra,sa);}if(!da || 0 == da.length)throw new Ib(Y.HEADER_DATA_MISSING,Ra);try{Ta=Z(oa,ia,la);}catch(sa){throw (sa instanceof eb && (sa.setEntity(la),sa.setEntity(ia)),sa);}aa(oa,Ta,da,Ba,{result:function(sa){Na(Ma,function(){var Ca,Ha,Ka,Fa,Ua;try{Ca=JSON.parse(sa);}catch(Ja){if(Ja instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + sa,Ja).setEntity(la).setEntity(ia);throw Ja;}Ha=parseInt(Ca.messageid);if(!Ha || Ha != Ha)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + sa).setEntity(la).setEntity(ia);if(0 > Ha || Ha > Kb)throw new Ib(Y.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + sa).setEntity(la).setEntity(ia);Ka=la?Ca.sender:null;if(la && (!Ka || "string" !== typeof Ka))throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + sa).setEntity(la).setEntity(ia).setMessageId(Ha);Fa=Ca.keyresponsedata;if(Fa && "object" !== typeof Fa)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + sa).setEntity(la).setEntity(ia).setMessageId(Ha);Ua=Ma;Ma={result:function(Ja){Ua.result(Ja);},error:function(Ja){Ja instanceof eb && (Ja.setEntity(la),Ja.setEntity(ia),Ja.setMessageId(Ha));Ua.error(Ja);}};ea(oa,Fa,{result:function(Ja){Na(Ma,function(){var Wa,ab;Wa=!oa.isPeerToPeer() && Ja?Ja.masterToken:la;ab=Ca.useridtoken;if(ab && "object" !== typeof ab)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + sa);ba(oa,ab,Wa,{result:function(Va){Na(Ma,function(){var jb;jb=Ca.userauthdata;if(jb && "object" !== typeof jb)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + sa);ma(oa,Wa,jb,{result:function(lb){Na(Ma,function(){var ob,pb,qb;if(lb){ob=lb.scheme;pb=oa.getUserAuthenticationFactory(ob);if(!pb)throw new wc(Y.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Va).setUser(lb);ob=la?la.identity:ia.getIdentity();qb=pb.authenticate(oa,ob,lb,Va);}else qb=Va?Va.customer:null;za(oa,Ca.servicetokens,Wa,Va,Sa,sa,{result:function(Ab){Na(Ma,function(){var yb,r,b,a;yb=Ca.nonreplayableid !== Bb?parseInt(Ca.nonreplayableid):null;r=Ca.renewable;if(yb != yb || "boolean" !== typeof r)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + sa);if(0 > yb || yb > Kb)throw new Ib(Y.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + sa);b=null;a=Ca.capabilities;if(a){if("object" !== typeof a)throw new Db(Y.JSON_PARSE_ERROR,"headerdata " + sa);b=Ge(a);}na(oa,Ca,sa,{result:function(c){ua(oa,Ca,Ja,Sa,sa,{result:function(l){Na(Ma,function(){var g,m,d,f;g=l.peerMasterToken;m=l.peerUserIdToken;d=l.peerServiceTokens;f=new ta(Ha,yb,r,b,c,Ja,lb,Va,Ab);g=new Da(g,m,d);m=new ja(qb,Ka,Ta,da,Ba);new ad(oa,ia,la,f,g,m,Ma);});},error:Ma.error});},error:function(c){Na(Ma,function(){c instanceof eb && (c.setUser(Va),c.setUser(lb));throw c;});}});});},error:function(Ab){Na(Ma,function(){Ab instanceof eb && (Ab.setEntity(Wa),Ab.setUser(Va),Ab.setUser(lb));throw Ab;});}});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});};})();(function(){function ja(ca,Z){this.payload=ca;this.signature=Z;}Qd=Cb.Class.create({init:function(ca,Z,aa,ea,ba,ma,za,ua){var na;na=this;Na(ua,function(){var ta,Da;if(0 > ca || ca > Kb)throw new vb("Sequence number " + ca + " is outside the valid range.");if(0 > Z || Z > Kb)throw new vb("Message ID " + Z + " is outside the valid range.");if(za)return (Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Z,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},endofmsg:{value:aa,writable:!1,enumerable:!1,configurable:!1},payload:{value:za.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:za.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ea){ta=Rd(ea,ba);ta || (ea=null,ta=ba);}else (ea=null,ta=ba);Da={};Da.sequencenumber=ca;Da.messageid=Z;aa && (Da.endofmsg=aa);ea && (Da.compressionalgo=ea);Da.data=Fb(ta);ta=bc(JSON.stringify(Da),Mb);ma.encrypt(ta,{result:function(oa){Na(ua,function(){ma.sign(oa,{result:function(da){Na(ua,function(){Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Z,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},endofmsg:{value:aa,writable:!1,enumerable:!1,configurable:!1},payload:{value:oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:da,writable:!1,enumerable:!1,configurable:!1}});return this;},na);},error:function(da){ua.error(da);}});},na);},error:function(oa){ua.error(oa);}});},na);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var ca;ca={};ca.payload=Fb(this.payload);ca.signature=Fb(this.signature);return ca;}});Le=function(ca,Z,aa,ea,ba,ma,za){new Qd(ca,Z,aa,ea,ba,ma,null,za);};Me=function(ca,Z,aa){Na(aa,function(){var ea,ba,ma,za;ea=ca.payload;ba=ca.signature;if(!ea || "string" !== typeof ea || "string" !== typeof ba)throw new Db(Y.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(ca));try{ma=Gb(ea);}catch(ua){throw new Ib(Y.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(ca),ua);}try{za=Gb(ba);}catch(ua){throw new Ib(Y.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(ca),ua);}Z.verify(ma,za,{result:function(ua){Na(aa,function(){if(!ua)throw new ub(Y.PAYLOAD_VERIFICATION_FAILED);Z.decrypt(ma,{result:function(na){Na(aa,function(){var ta,Da,oa,da,ia,la,Ba;ta=ac(na,Mb);try{Da=JSON.parse(ta);}catch(Sa){if(Sa instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"payload chunk payload " + ta,Sa);throw Sa;}oa=parseInt(Da.sequencenumber);da=parseInt(Da.messageid);ia=Da.endofmsg;la=Da.compressionalgo;Da=Da.data;if(!oa || oa != oa || !da || da != da || ia && "boolean" !== typeof ia || la && "string" !== typeof la || "string" !== typeof Da)throw new Db(Y.JSON_PARSE_ERROR,"payload chunk payload " + ta);if(0 > oa || oa > Kb)throw new eb(Y.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + ta);if(0 > da || da > Kb)throw new eb(Y.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + ta);ia || (ia=!1);if(la && !Ec[la])throw new Ib(Y.UNIDENTIFIED_COMPRESSION,la);try{Ba=Gb(Da);}catch(Sa){throw new Ib(Y.PAYLOAD_DATA_CORRUPT,Da,Sa);}if(Ba && 0 != Ba.length)ta=la?sd(la,Ba):Ba;else {if(0 < Da.length)throw new Ib(Y.PAYLOAD_DATA_CORRUPT,Da);if(ia)ta=new Uint8Array(0);else throw new Ib(Y.PAYLOAD_DATA_MISSING,Da);}Ba=new ja(ma,za);new Qd(oa,da,ia,la,ta,Z,Ba,aa);});},error:function(na){aa.error(na);}});});},error:function(ua){aa.error(ua);}});});};})();(function(){var aa,ea;function ja(ba,ma,za,ua,na){var Da,oa,da,ia,la;function ta(){Na(na,function(){var Ba,Sa;oa >= ma.length && (oa=0,++Da);if(Da >= da.length){if(ia)throw ia;throw new Nb(Y.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ma));}Ba=da[Da];Sa=ma[oa];Ba.scheme != Sa.keyExchangeScheme?(++oa,ta()):Ba.generateResponse(ba,Sa,la,{result:function(Ma){na.result(Ma);},error:function(Ma){Na(na,function(){if(!(Ma instanceof eb))throw Ma;ia=Ma;++oa;ta();});}});});}Da=0;oa=0;da=ba.getKeyExchangeFactories();la=za?za:ua;ta();}function ca(ba,ma,za,ua,na){Na(na,function(){var ta;ta=ma.keyRequestData;if(ma.isRenewable() && 0 < ta.length)ua?ua.isRenewable() || ua.isExpired()?ja(ba,ta,ua,null,na):ba.getTokenFactory().isNewestMasterToken(ba,ua,{result:function(Da){Na(na,function(){if(Da)return null;ja(ba,ta,ua,null,na);});},error:na.error}):ja(ba,ta,null,za.getIdentity(),na);else return null;});}function Z(ba,ma,za,ua){Na(ua,function(){var na,ta,Da,oa;na=ma.userIdToken;ta=ma.userAuthenticationData;Da=ma.messageId;if(na && na.isVerified()){if(na.isRenewable() && ma.isRenewable() || na.isExpired() || !na.isBoundTo(za)){ta=ba.getTokenFactory();ta.renewUserIdToken(ba,na,za,ua);return;}}else if(ma.isRenewable() && za && ta){na=ma.customer;if(!na){na=ta.scheme;oa=ba.getUserAuthenticationFactory(na);if(!oa)throw new wc(Y.USERAUTH_FACTORY_NOT_FOUND,na).setEntity(za).setUser(ta).setMessageId(Da);na=oa.authenticate(ba,za.identity,ta,null);}ta=ba.getTokenFactory();ta.createUserIdToken(ba,na,za,ua);return;}return na;});}aa=new Uint8Array(0);ea=Hc=function(ba){if(0 > ba || ba > Kb)throw new vb("Message ID " + ba + " is outside the valid range.");return ba == Kb?0:ba + 1;};Qc=function(ba){if(0 > ba || ba > Kb)throw new vb("Message ID " + ba + " is outside the valid range.");return 0 == ba?Kb:ba - 1;};Ic=function(ba,ma,za,ua,na){Na(na,function(){var ta;if(ua == Bb || null == ua){ta=ba.getRandom();do {ua=ta.nextLong();}while(0 > ua || ua > Kb);}else if(0 > ua || ua > Kb)throw new vb("Message ID " + ua + " is outside the valid range.");ba.getEntityAuthenticationData(null,{result:function(Da){Na(na,function(){var oa;oa=ba.getMessageCapabilities();return new td(ba,ua,oa,Da,ma,za,null,null,null,null,null);});},error:function(Da){na.error(Da);}});});};Ne=function(ba,ma,za){Na(za,function(){var na,ta,Da,oa,da,ia;function ua(la){Na(za,function(){la instanceof eb && (la.setEntity(na),la.setEntity(ta),la.setUser(Da),la.setUser(oa),la.setMessageId(da));throw la;});}na=ma.masterToken;ta=ma.entityAuthenticationData;Da=ma.userIdToken;oa=ma.userAuthenticationData;da=ma.messageId;ia=ea(da);ca(ba,ma,ta,na,{result:function(la){Na(za,function(){var Ba;Ba=la?la.keyResponseData.masterToken:Ba=na;ba.getEntityAuthenticationData(null,{result:function(Sa){Na(za,function(){Z(ba,ma,Ba,{result:function(Ma){Na(za,function(){var Ra,Ta,sa;Da=Ma;Ra=Pd(ma.messageCapabilities,ba.getMessageCapabilities());Ta=ma.keyResponseData;sa=ma.serviceTokens;return ba.isPeerToPeer()?new td(ba,ia,Ra,Sa,Ta?Ta.masterToken:ma.peerMasterToken,ma.peerUserIdToken,ma.peerServiceTokens,na,Da,sa,la):new td(ba,ia,Ra,Sa,Ta?Ta.masterToken:na,Da,sa,null,null,null,la);});},error:ua});});},error:ua});});},error:ua});});};Oe=function(ba,ma,za,ua,na){Na(na,function(){ba.getEntityAuthenticationData(null,{result:function(ta){Na(na,function(){var Da,oa;if(ma != Bb && null != ma)Da=ea(ma);else {oa=ba.getRandom();do {Da=oa.nextInt();}while(0 > Da || Da > Kb);}Fe(ba,ta,Da,za.responseCode,za.internalCode,za.message,ua,na);});},error:function(ta){na.error(ta);}});});};td=Cb.Class.create({init:function(ba,ma,za,ua,na,ta,Da,oa,da,ia,la){var Ba,Sa,Ma,Ra,Ta;if(!ba.isPeerToPeer() && (oa || da))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");Ba=la && !ba.isPeerToPeer()?la.keyResponseData.masterToken:na;Sa=[];Ba=ba.getMslStore().getServiceTokens(Ba,ta);Sa.push.apply(Sa,Ba);Da && Da.forEach(function(sa){Sa.push(sa);},this);Ma=[];if(ba.isPeerToPeer()){Ra=oa;Ta=da;Da=la?la.keyResponseData.masterToken:oa;da=ba.getMslStore().getServiceTokens(Da,da);Ma.push.apply(Ma,da);ia && ia.forEach(function(sa){Ma.push(sa);},this);}Object.defineProperties(this,{_ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ua,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:na,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ma,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:za,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:la,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:ta,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || xd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || xd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || Yd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Yd(this._entityAuthData.scheme);},getHeader:function(ba){Na(ba,function(){var ma,za,ua;ma=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;za=[];for(ua in this._keyRequestData){za.push(this._keyRequestData[ua]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(Y.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ua=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ua=null;ma=new Ie(this._messageId,ua,this._renewable,this._capabilities,za,ma,this._userAuthData,this._userIdToken,this._serviceTokens);za=new Je(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);He(this._ctx,this._entityAuthData,this._masterToken,ma,za,ba);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(ba){this._nonReplayable=ba;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(ba){this._renewable=ba;return this;},setAuthTokens:function(ba,ma){var za,na;if(ma && !ma.isBoundTo(ba))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{za=this._ctx.getMslStore().getServiceTokens(ba,ma);}catch(ta){if(ta instanceof eb)throw new vb("Invalid master token and user ID token combination despite checking above.",ta);throw ta;}for(var ua=this._serviceTokens.length - 1;0 <= ua;--ua){na=this._serviceTokens[ua];(na.isUserIdTokenBound() && !na.isBoundTo(ma) || na.isMasterTokenBound() && !na.isBoundTo(ba)) && this._serviceTokens.splice(ua,1);}za.forEach(function(ta){this.excludeServiceToken(ta.name,ta.isMasterTokenBound(),ta.isUserIdTokenBound());this._serviceTokens.push(ta);},this);this._masterToken=ba;this._userIdToken=ma;},setUserAuthenticationData:function(ba){this._userAuthData=ba;return this;},setCustomer:function(ba,ma){var za;za=this;Na(ma,function(){var ua;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");ua=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ua)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,ba,ua,{result:function(na){Na(ma,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=na:(this._userIdToken=na,this._userAuthData=null);return !0;},za);},error:function(na){ma.error(na);}});},za);},addKeyRequestData:function(ba){this._keyRequestData[ba.uniqueKey()]=ba;return this;},removeKeyRequestData:function(ba){delete this._keyRequestData[ba.uniqueKey()];return this;},addServiceToken:function(ba){var ma;ma=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(ba.isMasterTokenBound() && !ba.isBoundTo(ma))throw new Ib(Y.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; mt " + JSON.stringify(ma)).setEntity(ma);if(ba.isUserIdTokenBound() && !ba.isBoundTo(this._userIdToken))throw new Ib(Y.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ma).setUser(this._userIdToken);this.excludeServiceToken(ba.name,ba.isMasterTokenBound(),ba.isUserIdTokenBound());this._serviceTokens.push(ba);return this;},addServiceTokenIfAbsent:function(ba){var za;for(var ma=this._serviceTokens.length - 1;0 <= ma;--ma){za=this._serviceTokens[ma];if(za.name == ba.name && za.isMasterTokenBound() == ba.isMasterTokenBound() && za.isUserIdTokenBound() == ba.isUserIdTokenBound())return this;}this.addServiceToken(ba);return this;},excludeServiceToken:function(){var ba,ma,za,na;if(1 == arguments.length){ba=arguments[0];ma=ba.name;za=ba.isMasterTokenBound();ba=ba.isUserIdTokenBound();}else (arguments.length=3,ma=arguments[0],za=arguments[1],ba=arguments[2]);for(var ua=this._serviceTokens.length - 1;0 <= ua;--ua){na=this._serviceTokens[ua];na.name == ma && na.isMasterTokenBound() == za && na.isUserIdTokenBound() == ba && this._serviceTokens.splice(ua,1);}return this;},deleteServiceToken:function(){var ba,ma,za,ua;if(2 == arguments.length){ba=arguments[0];ma=ba.name;ba.isMasterTokenBound();ba.isUserIdTokenBound();za=arguments[1];}else (arguments.length=4,ma=arguments[0],za=arguments[3]);ua=this;Na(za,function(){var na,ta;na=originalToken.isMasterTokenBound()?this._masterToken:null;ta=originalToken.isUserIdTokenBound()?this._userIdToken:null;uc(this._ctx,ma,aa,na,ta,!1,null,new Pc(),{result:function(Da){Na(za,function(){return this.addServiceToken(Da);},ua);},error:function(Da){Da instanceof eb && (Da=new vb("Failed to create and add empty service token to message.",Da));za.error(Da);}});},ua);},getServiceTokens:function(){var ba;ba=[];ba.push.apply(ba,this._serviceTokens);return ba;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(ba,ma){var za,na;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ma && !ba)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(ma && !ma.isBoundTo(ba))throw new Ib(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ma + "; mt " + ba).setEntity(ba).setUser(ma);try{za=this._ctx.getMslStore().getServiceTokens(ba,ma);}catch(ta){if(ta instanceof eb)throw new vb("Invalid peer master token and user ID token combination despite proper check.",ta);throw ta;}for(var ua=this._peerServiceTokens.length - 1;0 <= ua;--ua){na=this._peerServiceTokens[ua];(na.isUserIdTokenBound() && !na.isBoundTo(ma) || na.isMasterTokenBound() && !na.isBoundTo(ba)) && this._peerServiceTokens.slice(ua,1);}za.forEach(function(ta){this.excludePeerServiceToken(ta.name,ta.isMasterTokenBound(),ta.isUserIdTokenBound());this._peerServiceTokens.push(ta);},this);this._peerUserIdToken=ma;this._peerMasterToken=ba;return this;},addPeerServiceToken:function(ba){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(ba.isMasterTokenBound() && !ba.isBoundTo(this._peerMasterToken))throw new Ib(Y.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(ba.isUserIdTokenBound() && !ba.isBoundTo(this._peerUserIdToken))throw new Ib(Y.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(ba.name,ba.isMasterTokenBound(),ba.isUserIdTokenBound());this._peerServiceTokens.push(ba);return this;},addPeerServiceTokenIfAbsent:function(ba){var za;for(var ma=this._peerServiceTokens.length - 1;0 <= ma;--ma){za=this._peerServiceTokens[ma];if(za.name == ba.name && za.isMasterTokenBound() == ba.isMasterTokenBound() && za.isUserIdTokenBound() == ba.isUserIdTokenBound())return this;}this.addPeerServiceToken(ba);return this;},excludePeerServiceToken:function(){var ba,ma,za,na;if(1 == arguments.length){ba=arguments[0];ma=ba.name;za=ba.isMasterTokenBound();ba=ba.isUserIdTokenBound();}else (arguments.length=3,ma=arguments[0],za=arguments[1],ba=arguments[2]);for(var ua=this._peerServiceTokens.length - 1;0 <= ua;--ua){na=this._peerServiceTokens[ua];na.name == ma && na.isMasterTokenBound() == za && na.isUserIdTokenBound() == ba && this._peerServiceTokens.splice(ua,1);}return this;},deletePeerServiceToken:function(){var ba,ma,za,ua,na,ta;if(2 == arguments.length){ba=arguments[0];ma=ba.name;za=ba.isMasterTokenBound();ua=ba.isUserIdTokenBound();na=arguments[1];}else (arguments.length=4,ma=arguments[0],za=arguments[1],ua=arguments[2],na=arguments[3]);ta=this;Na(na,function(){uc(this._ctx,ma,aa,za?this._peerMasterToken:null,ua?this._peerUserIdToken:null,!1,null,new Pc(),{result:function(Da){Na(na,function(){return this.addPeerServiceToken(Da);},ta);},error:function(Da){Da instanceof eb && (Da=new vb("Failed to create and add empty peer service token to message.",Da));na.error(Da);}});},ta);},getPeerServiceTokens:function(){var ba;ba=[];ba.push.apply(ba,this._peerServiceTokens);return ba;}});})();(function(){function ja(Z,aa){return aa[Z]?aa[Z]:aa[""];}function ca(Z){var aa;aa=Z.builder.getKeyExchangeData();return aa && !Z.ctx.isPeerToPeer()?aa.keyResponseData.masterToken:Z.builder.getMasterToken();}Pe=Cb.Class.create({init:function(Z,aa,ea){Z={ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:aa.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ea,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,Z);},isPrimaryMasterTokenAvailable:function(){return ca(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(Z){try{return (this.builder.addServiceToken(Z),!0);}catch(aa){if(aa instanceof Ib)return !1;throw aa;}},addPeerServiceToken:function(Z){try{return (this.builder.addPeerServiceToken(Z),!0);}catch(aa){if(aa instanceof Ib)return !1;throw aa;}},addUnboundPrimaryServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Na(ma,function(){var ua;ua=ja(Z,this.cryptoContexts);if(!ua)return !1;uc(this.ctx,Z,aa,null,null,ea,ba,ua,{result:function(na){Na(ma,function(){try{this.builder.addServiceToken(na);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",ta);throw ta;}return !0;},za);},error:function(na){ma.error(na);}});},za);},addUnboundPeerServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Na(ma,function(){var ua;ua=ja(Z,this.cryptoContexts);if(!ua)return !1;uc(this.ctx,Z,aa,null,null,ea,ba,ua,{result:function(na){Na(ma,function(){try{this.builder.addPeerServiceToken(na);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",ta);throw ta;}return !0;},za);},error:function(na){ma.error(na);}});},za);},addMasterBoundPrimaryServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Na(ma,function(){var ua,na;ua=ca(this);if(!ua)return !1;na=ja(Z,this.cryptoContexts);if(!na)return !1;uc(this.ctx,Z,aa,ua,null,ea,ba,na,{result:function(ta){Na(ma,function(){try{this.builder.addServiceToken(ta);}catch(Da){if(Da instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",Da);throw Da;}return !0;},za);},error:function(ta){ma.error(ta);}});},za);},addMasterBoundPeerServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Na(ma,function(){var ua,na;ua=this.builder.getPeerMasterToken();if(!ua)return !1;na=ja(Z,this.cryptoContexts);if(!na)return !1;uc(this.ctx,Z,aa,ua,null,ea,ba,na,{result:function(ta){Na(ma,function(){try{this.builder.addPeerServiceToken(ta);}catch(Da){if(Da instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",Da);throw Da;}return !0;},za);},error:function(ta){ma.error(ta);}});},za);},addUserBoundPrimaryServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Na(ma,function(){var ua,na,ta;ua=ca(this);if(!ua)return !1;na=this.builder.getUserIdToken();if(!na)return !1;ta=ja(Z,this.cryptoContexts);if(!ta)return !1;uc(this.ctx,Z,aa,ua,na,ea,ba,ta,{result:function(Da){Na(ma,function(){try{this.builder.addServiceToken(Da);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},za);},error:function(Da){ma.error(Da);}});},za);},addUserBoundPeerServiceToken:function(Z,aa,ea,ba,ma){var za;za=this;Na(ma,function(){var ua,na,ta;ua=this.builder.getPeerMasterToken();if(!ua)return !1;na=this.builder.getPeerUserIdToken();if(!na)return !1;ta=ja(Z,this.cryptoContexts);if(!ta)return !1;uc(this.ctx,Z,aa,ua,na,ea,ba,ta,{result:function(Da){Na(ma,function(){try{this.builder.addPeerServiceToken(Da);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},za);},error:function(Da){ma.error(Da);}});},za);},excludePrimaryServiceToken:function(){var Z,aa,ea,ba;if(1 == arguments.length){Z=arguments[0];aa=Z.name;ea=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ea=arguments[1],ba=arguments[2]);for(var ma=this.builder.getServiceTokens(),za=0;za < ma.length;++za){if((Z=ma[za],Z.name == aa && Z.isMasterTokenBound() == ea && Z.isUserIdTokenBound() == ba))return (this.builder.excludeServiceToken(aa,ea,ba),!0);}return !1;},excludePeerServiceToken:function(){var Z,aa,ea,ba;if(1 == arguments.length){Z=arguments[0];aa=Z.name;ea=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ea=arguments[1],ba=arguments[2]);for(var ma=this.builder.getPeerServiceTokens(),za=0;za < ma.length;++za){if((Z=ma[za],Z.name == aa && Z.isMasterTokenBound() == ea && Z.isUserIdTokenBound() == ba))return (this.builder.excludePeerServiceToken(aa,ea,ba),!0);}return !1;},deletePrimaryServiceToken:function(){var Z,aa,ea,ba,ma;if(2 == arguments.length){Z=arguments[0];aa=Z.name;ea=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();ma=arguments[1];}else 4 == arguments.length && (aa=arguments[0],ea=arguments[1],ba=arguments[2],ma=arguments[3]);Na(ma,function(){var na;for(var za=this.builder.getServiceTokens(),ua=0;ua < za.length;++ua){na=za[ua];if(na.name == aa && na.isMasterTokenBound() == ea && na.isUserIdTokenBound() == ba){this.builder.deleteServiceToken(aa,ea,ba,{result:function(){ma.result(!0);},error:function(ta){ma.error(ta);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var Z,aa,ea,ba,ma;if(2 == arguments.length){Z=arguments[0];aa=Z.name;ea=Z.isMasterTokenBound();ba=Z.isUserIdTokenBound();ma=arguments[1];}else 4 == arguments.length && (aa=arguments[0],ea=arguments[1],ba=arguments[2],ma=arguments[3]);Na(ma,function(){var na;for(var za=this.builder.getPeerServiceTokens(),ua=0;ua < za.length;++ua){na=za[ua];if(na.name == aa && na.isMasterTokenBound() == ea && na.isUserIdTokenBound() == ba){this.builder.deletePeerServiceToken(aa,ea,ba,{result:function(){ma.result(!0);},error:function(ta){ma.error(ta);}});return;}}return !1;},this);}});})();(function(){function ja(ca,Z,aa,ea){Na(ea,function(){var ma,za,ua,na,ta,Da;function ba(){Na(ea,function(){var oa;if(Da >= aa.length){if(ta)throw ta;throw new Nb(Y.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(aa));}oa=aa[Da];ua != oa.keyExchangeScheme?(++Da,ba()):na.getCryptoContext(ca,oa,za,ma,{result:ea.result,error:function(da){Na(ea,function(){if(!(da instanceof eb))throw da;ta=da;++Da;ba();});}});});}ma=Z.masterToken;za=Z.keyResponseData;if(!za)return null;ua=za.keyExchangeScheme;na=ca.getKeyExchangeFactory(ua);if(!na)throw new Nb(Y.KEYX_FACTORY_NOT_FOUND,ua);Da=0;ba();});}Qe=Ld.extend({init:function(ca,Z,aa,ea,ba,ma,za){var ua;ua=this;bb(za,function(){var ia;function na(){ua._ready=!0;ua._readyQueue.add(!0);}function ta(la,Ba){var Sa;try{Sa=Ba.masterToken;la.getTokenFactory().isMasterTokenRevoked(la,Sa,{result:function(Ma){Ma?(ua._errored=new Vc(Ma,Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):Da(la,Ba);},error:function(Ma){Ma instanceof eb && (Ma.setEntity(Ba.masterToken),Ma.setUser(Ba.userIdToken),Ma.setUser(Ba.userAuthenticationData),Ma.setMessageId(Ba.messageId));ua._errored=Ma;na();}});}catch(Ma){Ma instanceof eb && (Ma.setEntity(Ba.masterToken),Ma.setUser(Ba.userIdToken),Ma.setUser(Ba.userAuthenticationData),Ma.setMessageId(Ba.messageId));ua._errored=Ma;na();}}function Da(la,Ba){var Sa,Ma;try{Sa=Ba.masterToken;Ma=Ba.userIdToken;Ma?la.getTokenFactory().isUserIdTokenRevoked(la,Sa,Ma,{result:function(Ra){Ra?(ua._errored=new MslUserIdTokenException(Ra,Ma).setEntity(Sa).setUser(Ma).setMessageId(Ba.messageId),na()):oa(la,Ba);},error:function(Ra){Ra instanceof eb && (Ra.setEntity(Ba.masterToken),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));ua._errored=Ra;na();}}):oa(la,Ba);}catch(Ra){Ra instanceof eb && (Ra.setEntity(Ba.masterToken),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));ua._errored=Ra;na();}}function oa(la,Ba){var Sa;try{Sa=Ba.masterToken;Sa.isExpired()?Ba.isRenewable() && 0 != Ba.keyRequestData.length?la.getTokenFactory().isMasterTokenRenewable(la,Sa,{result:function(Ma){Ma?(ua._errored=new Ib(Ma,"Master token is expired and not renewable.").setEntity(Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):da(la,Ba);},error:function(Ma){Ma instanceof eb && (Ma.setEntity(Ba.masterToken),Ma.setUser(Ba.userIdToken),Ma.setUser(Ba.userAuthenticationData),Ma.setMessageId(Ba.messageId));ua._errored=Ma;na();}}):(ua._errored=new Ib(Y.MESSAGE_EXPIRED,JSON.stringify(Ba)).setEntity(Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):da(la,Ba);}catch(Ma){Ma instanceof eb && (Ma.setEntity(Ba.masterToken),Ma.setUser(Ba.userIdToken),Ma.setUser(Ba.userAuthenticationData),Ma.setMessageId(Ba.messageId));ua._errored=Ma;na();}}function da(la,Ba){var Sa,Ma;try{Sa=Ba.masterToken;Ma=Ba.nonReplayableId;"number" === typeof Ma?Sa?la.getTokenFactory().acceptNonReplayableId(la,Sa,Ma,{result:function(Ra){Ra || (ua._errored=new Ib(Y.MESSAGE_REPLAYED,JSON.stringify(Ba)).setEntity(Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId));na();},error:function(Ra){Ra instanceof eb && (Ra.setEntity(Sa),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));ua._errored=Ra;na();}}):(ua._errored=new Ib(Y.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(Ba)).setEntity(Ba.entityAuthenticationData).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):na();}catch(Ra){Ra instanceof eb && (Ra.setEntity(Ba.masterToken),Ra.setEntity(Ba.entityAuthenticationData),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));ua._errored=Ra;na();}}ia={_source:{value:Z,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:aa,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ma,writable:!1,enumerable:!1,configurable:!1},_header:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Tc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);re(ua._source,ma,{result:function(la){ua._json=la;ua._jsonIndex=0;null === ua._json?(ua._errored=new Db(Y.MESSAGE_DATA_MISSING),na()):Ae(ca,ua._json[ua._jsonIndex++],ba,{result:function(Ba){var Sa;ua._header=Ba;if(ua._header instanceof Cc)(ua._keyxCryptoContext=null,ua._cryptoContext=null,na());else {Sa=ua._header;ja(ca,Sa,ea,{result:function(Ma){var Ra;try{ua._keyxCryptoContext=Ma;ca.isPeerToPeer() || !ua._keyxCryptoContext?ua._cryptoContext=Sa.cryptoContext:ua._cryptoContext=ua._keyxCryptoContext;try{Ra=Sa.masterToken;Ra && (ca.isPeerToPeer() || Ra.isVerified())?ta(ca,Sa):da(ca,Sa);}catch(Ta){Ta instanceof eb && (Ta.setEntity(Sa.masterToken),Ta.setUser(Sa.userIdToken),Ta.setUser(Sa.userAuthenticationData),Ta.setMessageId(Sa.messageId));ua._errored=Ta;na();}}catch(Ta){Ta instanceof eb && (Ta.setEntity(Sa.masterToken),Ta.setEntity(Sa.entityAuthenticationData),Ta.setUser(Sa.userIdToken),Ta.setUser(Sa.userAuthenticationData),Ta.setMessageId(Sa.messageId));ua._errored=Ta;na();}},error:function(Ma){Ma instanceof eb && (Ma.setEntity(Sa.masterToken),Ma.setEntity(Sa.entityAuthenticationData),Ma.setUser(Sa.userIdToken),Ma.setUser(Sa.userAuthenticationData),Ma.setMessageId(Sa.messageId));ua._errored=Ma;na();}});}},error:function(Ba){ua._errored=Ba;na();}});},timeout:function(){ua._timedout=!0;na();},error:function(la){ua._errored=la;na();}});return this;},ua);},nextData:function(ca,Z){var aa;aa=this;bb(Z,function(){var ba;function ea(ma){bb(ma,function(){var za;if(this._jsonIndex < this._json.length)return za=this._json[this._jsonIndex++];re(this._source,this._timeout,{result:function(ua){ua && ua.length && 0 < ua.length?(ua.forEach(function(na){this._json.push(na);}),ea(ma)):(this._eom=!0,ma.result(null));},timeout:function(){ma.timeout();},error:function(ua){ma.error(ua);}});},aa);}ba=this.getMessageHeader();if(!ba)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ea({result:function(ma){bb(Z,function(){if(!ma)return null;if("object" !== typeof ma)throw new Db(Y.MESSAGE_FORMAT_ERROR);Me(ma,this._cryptoContext,{result:function(za){bb(Z,function(){var ua,na,ta,Da;ua=ba.masterToken;na=ba.entityAuthenticationData;ta=ba.userIdToken;Da=ba.getUserAuthenticationData;if(za.messageId != ba.messageId)throw new Ib(Y.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + za.messageId + " header mid " + ba.messageId).setEntity(ua).setEntity(na).setUser(ta).setUser(Da);if(za.sequenceNumber != this._payloadSequenceNumber)throw new Ib(Y.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + za.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ua).setEntity(na).setUser(ta).setUser(Da);++this._payloadSequenceNumber;za.isEndOfMessage() && (this._eom=!0);ua=za.data;this._payloads.push(ua);this._payloadIndex=-1;return ua;},aa);},error:function(za){za instanceof SyntaxError && (za=new Db(Y.JSON_PARSE_ERROR,"payloadchunk",za));Z.error(za);}});},aa);},timeout:function(){Z.timeout();},error:function(ma){Z.error(ma);}});},aa);},isReady:function(ca,Z){var ea;function aa(){bb(Z,function(){if(this._aborted)return !1;if(this._timedout)Z.timeout();else {if(this._errored)throw this._errored;return !0;}},ea);}ea=this;bb(Z,function(){this._ready?aa():this._readyQueue.poll(ca,{result:function(ba){bb(Z,function(){if(ba === Bb)return !1;aa();},ea);},timeout:function(){Z.timeout();},error:function(ba){Z.error(ba);}});},ea);},getMessageHeader:function(){return this._header instanceof ad?this._header:null;},getErrorHeader:function(){return this._header instanceof Cc?this._header:null;},getIdentity:function(){var ca,Z;ca=this.getMessageHeader();if(ca){Z=ca.masterToken;return Z?Z.identity:ca.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var ca;ca=this.getMessageHeader();return ca?ca.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(ca){this._closeSource=ca;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(ca,Z,aa){var ba;function ea(){bb(aa,function(){var za,ua,na,ta;function ma(Da){bb(Da,function(){var oa,da,ia;if(ua && ta >= ua.length)return ua.subarray(0,ta);oa=-1;if(this._currentPayload){da=this._currentPayload.length - this._payloadOffset;if(!ua){ia=da;if(-1 != this._payloadIndex)for(var la=this._payloadIndex;la < this._payloads.length;++la){ia+=this._payloads[la].length;}0 < ia && (ua=new Uint8Array(ia));}da=Math.min(da,ua?ua.length - ta:0);0 < da && (oa=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + da),ua.set(oa,na),oa=da,na+=da,this._payloadOffset+=da);}-1 != oa?(ta+=oa,ma(Da)):this.nextData(Z,{result:function(Ba){bb(Da,function(){if(this._aborted)return ua?ua.subarray(0,ta):new Uint8Array(0);this._currentPayload=Ba;this._payloadOffset=0;if(this._currentPayload)ma(Da);else return 0 == ta && 0 != ca?null:ua?ua.subarray(0,ta):new Uint8Array(0);},ba);},timeout:function(){Da.timeout(ua?ua.subarray(0,ta):new Uint8Array(0));},error:function(Ba){bb(Da,function(){Ba instanceof eb && (Ba=new Ub("Error reading the payload chunk.",Ba));if(0 < ta)return (ba._readException=Ba,ua.subarray(0,ta));throw Ba;},ba);}});},ba);}if(this._aborted)return new Uint8Array(0);if(this._timedout)aa.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){za=this._readException;this._readException=null;throw za;}ua=-1 != ca?new Uint8Array(ca):Bb;na=0;ta=0;ma(aa);}},ba);}ba=this;bb(aa,function(){if(-1 > ca)throw new RangeError("read requested with illegal length " + ca);this._ready?ea():this._readyQueue.poll(Z,{result:function(ma){ma === Bb?aa.result(!1):ea();},timeout:function(){aa.timeout(new Uint8Array(0));},error:function(ma){aa.error(ma);}});},ba);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Re=function(ca,Z,aa,ea,ba,ma,za){new Qe(ca,Z,aa,ea,ba,ma,za);};})();(function(){Se=pd.extend({init:function(ja,ca,Z,aa,ea,ba,ma){var za;za=this;bb(ma,function(){var na,ta,Da;function ua(){za._ready=!0;za._readyQueue.add(!0);}na=Pd(ja.getMessageCapabilities(),aa.messageCapabilities);ta=null;na && (ta=ge(na.compressionAlgorithms));na={_destination:{value:ca,writable:!1,enumerable:!1,configurable:!1},_charset:{value:Z,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:na,writable:!1,enumerable:!1,configurable:!1},_header:{value:aa,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:ta,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ea,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Tc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,na);Da=bc(JSON.stringify(aa),Z);ca.write(Da,0,Da.length,ba,{result:function(oa){try{za._aborted?ua():oa < Da.length?(za._timedout=!0,ua()):ca.flush(ba,{result:function(da){za._aborted || (za._timedout=!da);ua();},timeout:function(){za._timedout=!0;ua();},error:function(da){za._errored=da;ua();}});}catch(da){za._errored=da;ua();}},timeout:function(){za._timedout=!0;ua();},error:function(oa){za._errored=oa;ua();}});return this;},za);},setCompressionAlgorithm:function(ja,ca,Z){var ea;function aa(){ea.flush(ca,{result:function(ba){bb(Z,function(){if(!ba)throw new Ub("flush() aborted");this._compressionAlgo=ja;return !0;},ea);},timeout:function(){Z.timeout();},error:function(ba){Z.error(ba);}});}ea=this;bb(Z,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == ja)return !0;if(ja){if(!this._capabilities)return !1;for(var ba=this._capabilities.compressionAlgorithms,ma=0;ma < ba.length;++ma){if(ba[ma] == ja){aa();return;}}return !1;}aa();},ea);},getMessageHeader:function(){return this._header instanceof ad?this._header:null;},getErrorMessage:function(){return this._header instanceof Cc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ja,ca){var Z;Z=this;bb(ca,function(){if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ja,{result:function(aa){bb(ca,function(){aa && (this._currentPayload=null);return aa;},Z);},timeout:function(){ca.timeout();},error:function(aa){ca.error(aa);}});}},Z);},flush:function(ja,ca){var aa;function Z(){bb(ca,function(){var ea,ba,na;if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ea=this.getMessageHeader();if(!ea)return !0;ba=0;this._currentPayload && this._currentPayload.forEach(function(ta){ba+=ta.length;});for(var ma=new Uint8Array(ba),za=0,ua=0;this._currentPayload && ua < this._currentPayload.length;++ua){na=this._currentPayload[ua];ma.set(na,za);za+=na.length;}Le(this._payloadSequenceNumber,ea.messageId,this._closed,this._compressionAlgo,ma,this._cryptoContext,{result:function(ta){bb(ca,function(){var Da;this._payloads.push(ta);Da=bc(JSON.stringify(ta),this._charset);this._destination.write(Da,0,Da.length,ja,{result:function(oa){bb(ca,function(){if(this._aborted)return !1;oa < ta.length?ca.timeout():this._destination.flush(ja,{result:function(da){bb(ca,function(){if(this._aborted)return !1;if(da)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);ca.timeout();},aa);},timeout:function(){ca.timeout();},error:function(da){da instanceof eb && (da=new Ub("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",da));ca.error(da);}});},aa);},timeout:function(oa){ca.timeout();},error:function(oa){oa instanceof eb && (oa=new Ub("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",oa));ca.error(oa);}});},aa);},error:function(ta){ta instanceof eb && (ta=new Ub("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",ta));ca.error(ta);}});}},aa);}aa=this;bb(ca,function(){this._ready?Z():this._readyQueue.poll(ja,{result:function(ea){ea === Bb?ca.result(!1):Z();},timeout:function(){ca.timeout();},error:function(ea){ca.error(ea);}});},aa);},write:function(ja,ca,Z,aa,ea){bb(ea,function(){var ba;if(this._aborted)return !1;if(this._timedout)ea.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Ub("Message output stream already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Z)throw new RangeError("Length cannot be negative.");if(ca + Z > ja.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");ba=ja.subarray(ca,ca + Z);this._currentPayload.push(ba);return ba.length;}},this);}});ud=function(ja,ca,Z,aa,ea,ba,ma){new Se(ja,ca,Z,aa,ea,ba,ma);};})();wf=Cb.Class.create({sentHeader:function(ja){},receivedHeader:function(ja){}});Object.freeze({USERDATA_REAUTH:Ia.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ia.SSOTOKEN_REJECTED});Te=Cb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ja,ca,Z,aa){},getCustomer:function(){},getKeyRequestData:function(ja){},updateServiceTokens:function(ja,ca,Z){},write:function(ja,ca,Z){},getDebugContext:function(){}});Cb.Class.create({getInputStream:function(ja){},getOutputStream:function(ja){}});(function(){var za,ua,na,ta,Da,oa,da,ia,la,Ba,Sa,Ma;function ja(Ra){return function(){Ra.abort();};}function ca(Ra,Ta){Object.defineProperties(this,{masterToken:{value:Ra,writable:!1,configurable:!1},ticket:{value:Ta,writable:!1,configurable:!1}});}function Z(Ra,Ta){Object.defineProperties(this,{builder:{value:Ra,writable:!1,configurable:!1},msgCtx:{value:Ta,writable:!1,configurable:!1}});}function aa(Ra,Ta,sa){Object.defineProperties(this,{requestHeader:{value:Ra,writable:!1,configurable:!1},payloads:{value:Ta,writable:!1,configurable:!1},handshake:{value:sa,writable:!1,configurable:!1}});}function ea(Ra,Ta){Object.defineProperties(this,{requestHeader:{value:Ta.requestHeader,writable:!1,configurable:!1},payloads:{value:Ta.payloads,writable:!1,configurable:!1},handshake:{value:Ta.handshake,writable:!1,configurable:!1},response:{value:Ra,writable:!1,configurable:!1}});}function ba(Ra){for(;Ra;){if(Ra instanceof Yb)return !0;Ra=Ra instanceof eb?Ra.cause:Bb;}return !1;}function ma(Ra,Ta,sa,Ca,Ha,Ka,Fa,Ua,Ja){Oe(Ta,Ca,Ha,Ka,{result:function(Wa){sa && sa.sentHeader(Wa);ud(Ta,Fa,Mb,Wa,null,null,Ua,{result:function(ab){Ra.setAbort(function(){ab.abort();});ab.close(Ua,{result:function(Va){bb(Ja,function(){if(!Va)throw new Yb("sendError aborted.");return Va;});},timeout:function(){Ja.timeout();},error:function(Va){Ja.error(Va);}});},timeout:function(){},error:function(ab){Ja.error(ab);}});},error:function(Wa){Ja.error(Wa);}});}za=pd.extend({close:function(Ra,Ta){Ta.result(!0);},write:function(Ra,Ta,sa,Ca,Ha){Na(Ha,function(){return Math.min(Ra.length - Ta,sa);});},flush:function(Ra,Ta){Ta.result(!0);}});ua=vf.extend({getUserMessage:function(Ra,Ta){return null;}});na=Te.extend({init:function(Ra){Object.defineProperties(this,{_appCtx:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Ra,Ta,sa,Ca){this._appCtx.getUserAuthData(Ra,Ta,sa,Ca);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Ra){this._appCtx.getKeyRequestData(Ra);},updateServiceTokens:function(Ra,Ta,sa){this._appCtx.updateServiceTokens(Ra,Ta,sa);},write:function(Ra,Ta,sa){this._appCtx.write(Ra,Ta,sa);},getDebugContext:function(){return this._appCtx.getDebugContext();}});ta=na.extend({init:function Ca(Ta,sa){Ca.base.call(this,sa);Object.defineProperties(this,{_payloads:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ta,sa,Ca){var Ka;function Ha(Fa,Ua){var Ja;if(Fa == Ka._payloads.length)Ca.result(!0);else {Ja=Ka._payloads[Fa];Ta.setCompressionAlgorithm(Ja.compressionAlgo,sa,{result:function(Wa){Ta.write(Ja.data,0,Ja.data.length,sa,{result:function(ab){bb(Ca,function(){Ja.isEndOfMessage()?Ha(Fa + 1,Ua):Ta.flush(sa,{result:function(Va){Ca.result(Va);},timeout:function(){Ca.timeout();},error:function(Va){Ca.error(Va);}});},Ka);},timeout:function(ab){Ca.timeout(ab);},error:function(ab){Ca.error(ab);}});},timeout:function(){},error:function(Wa){Ca.error(Wa);}});}}Ka=this;Ha(0);}});Da=na.extend({init:function Ca(sa){Ca.base.call(this,sa);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(sa,Ca,Ha){Ha.result(!0);}});oa={};da=Cb.Class.create({init:function(sa){sa || (sa=new ua());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:sa,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(sa){this._filterFactory=sa;},getNewestMasterToken:function(sa,Ca,Ha,Ka){var Fa;Fa=this;bb(Ka,function(){var Ua,Ja,Wa,ab,Va;Ua=Ca.getMslStore();Ja=Ua.getMasterToken();if(!Ja)return null;Wa=Ja.uniqueKey();ab=this._masterTokenLocks[Wa];ab || (ab=new Ad(),this._masterTokenLocks[Wa]=ab);Va=ab.readLock(Ha,{result:function(jb){bb(Ka,function(){var lb;if(jb === Bb)throw new Yb("getNewestMasterToken aborted.");lb=Ua.getMasterToken();if(Ja.equals(lb))return new ca(Ja,jb);ab.unlock(jb);ab.writeLock(Ha,{result:function(ob){bb(Ka,function(){if(ob === Bb)throw new Yb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Wa];ab.unlock(ob);return this.getNewestMasterToken(sa,Ca,Ha,Ka);},Fa);},timeout:function(){Ka.timeout();},error:function(ob){Ka.error(ob);}});},Fa);},timeout:function(){Ka.timeout();},error:function(jb){Ka.error(jb);}});sa.setAbort(function(){Va && (ab.cancel(Va),Va=Bb);});},Fa);},deleteMasterToken:function(sa,Ca){var Ha;if(Ca){Ha=this;setTimeout(function(){var Ka,Fa;Ka=Ca.uniqueKey();Fa=Ha._masterTokenLocks[Ka];Fa || (Fa=new Ad(),Ha._masterTokenLocks[Ka]=Fa);Fa.writeLock(-1,{result:function(Ua){sa.getMslStore().removeCryptoContext(Ca);delete Ha._masterTokenLocks[Ka];Fa.unlock(Ua);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Ua){throw Ua;}});},0);}},releaseMasterToken:function(sa){var Ca;if(sa && sa.masterToken){Ca=sa.masterToken.uniqueKey();Ca=this._masterTokenLocks[Ca];if(!Ca)throw new vb("Master token read/write lock does not exist when it should.");Ca.unlock(sa.ticket);}},updateOutgoingCryptoContexts:function(sa,Ca,Ha){var Ka;Ka=sa.getMslStore();!sa.isPeerToPeer() && Ha && (Ka.setCryptoContext(Ha.keyResponseData.masterToken,Ha.cryptoContext),this.deleteMasterToken(sa,Ca.masterToken));},updateIncomingCryptoContexts:function(sa,Ca,Ha){var Ka,Fa;Ka=Ha.getMessageHeader();if(Ka){Fa=sa.getMslStore();if(Ka=Ka.keyResponseData)(Fa.setCryptoContext(Ka.masterToken,Ha.getKeyExchangeCryptoContext()),this.deleteMasterToken(sa,Ca.masterToken));}},storeServiceTokens:function(sa,Ca,Ha,Ka){var Ja,Wa;sa=sa.getMslStore();for(var Fa=[],Ua=0;Ua < Ka.length;++Ua){Ja=Ka[Ua];if(!Ja.isBoundTo(Ca) || !Ca.isVerified()){Wa=Ja.data;Wa && 0 == Wa.length?sa.removeServiceTokens(Ja.name,Ja.isMasterTokenBound()?Ca:null,Ja.isUserIdTokenBound()?Ha:null):Fa.push(Ja);}}0 < Fa.length && sa.addServiceTokens(Fa);},buildRequest:function(sa,Ca,Ha,Ka,Fa){var Ua;Ua=this;this.getNewestMasterToken(sa,Ca,Ka,{result:function(Ja){Na(Fa,function(){var Wa,ab,Va;Wa=Ja && Ja.masterToken;if(Wa){ab=Ha.getUserId();Va=Ca.getMslStore();ab=(ab=ab?Va.getUserIdToken(ab):null) && ab.isBoundTo(Wa)?ab:null;}else ab=null;Ic(Ca,Wa,ab,null,{result:function(jb){Na(Fa,function(){jb.setNonReplayable(Ha.isNonReplayable());return {builder:jb,tokenTicket:Ja};});},error:function(jb){Na(Fa,function(){this.releaseMasterToken(Ja);jb instanceof eb && (jb=new vb("User ID token not bound to master token despite internal check.",jb));throw jb;},Ua);}});},Ua);},timeout:function(){Fa.timeout();},error:function(Ja){Fa.error(Ja);}});},buildResponse:function(sa,Ca,Ha,Ka,Fa,Ua){var Ja;Ja=this;Ne(Ca,Ka,{result:function(Wa){bb(Ua,function(){Wa.setNonReplayable(Ha.isNonReplayable());if(!Ca.isPeerToPeer() && !Ka.keyResponseData)return {builder:Wa,tokenTicket:null};this.getNewestMasterToken(sa,Ca,Fa,{result:function(ab){bb(Ua,function(){var Va,jb,lb;Va=ab && ab.masterToken;if(Va){jb=Ha.getUserId();lb=Ca.getMslStore();jb=(jb=jb?lb.getUserIdToken(jb):null) && jb.isBoundTo(Va)?jb:null;}else jb=null;Wa.setAuthTokens(Va,jb);return {builder:Wa,tokenTicket:ab};},Ja);},timeout:function(){Ua.timeout();},error:function(ab){Ua.error(ab);}});},Ja);},error:function(Wa){Ua.error(Wa);}});},buildErrorResponse:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){var Va;function Wa(jb,lb){bb(Ja,function(){var ob,pb;ob=Hc(Fa.messageId);pb=new ta(lb,Ha);Ic(Ca,null,null,ob,{result:function(qb){bb(Ja,function(){Ca.isPeerToPeer() && qb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new Z(qb,pb),tokenTicket:null};},Va);},error:function(qb){Ja.error(qb);}});},Va);}function ab(jb,lb){Va.getNewestMasterToken(sa,Ca,Ua,{result:function(ob){bb(Ja,function(){var pb,qb,Ab;pb=ob && ob.masterToken;qb=Hc(Fa.messageId);Ab=new ta(lb,Ha);Ic(Ca,pb,null,qb,{result:function(yb){bb(Ja,function(){Ca.isPeerToPeer() && yb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);yb.setNonReplayable(Ab.isNonReplayable());return {errorResult:new Z(yb,Ab),tokenTicket:ob};},Va);},error:function(yb){Ja.error(yb);}});},Va);},timeout:function(){Ja.timeout();},error:function(ob){Ja.error(ob);}});}Va=this;bb(Ja,function(){var jb,lb,ob,pb;jb=Ka.requestHeader;lb=Ka.payloads;ob=Fa.errorCode;switch(ob){case Ia.ENTITYDATA_REAUTH:case Ia.ENTITY_REAUTH:Ca.getEntityAuthenticationData(ob,{result:function(qb){bb(Ja,function(){if(!qb)return null;Wa(jb,lb);},Va);},error:function(qb){Ja.error(qb);}});break;case Ia.USERDATA_REAUTH:case Ia.SSOTOKEN_REJECTED:Ha.getUserAuthData(ob,!1,!0,{result:function(qb){bb(Ja,function(){if(!qb)return null;ab(jb,lb);},Va);},error:function(qb){Ja.error(qb);}});break;case Ia.USER_REAUTH:ab(jb,lb);break;case Ia.KEYX_REQUIRED:ob=Hc(Fa.messageId);pb=new ta(lb,Ha);Ic(Ca,null,null,ob,{result:function(qb){bb(Ja,function(){Ca.isPeerToPeer() && qb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);qb.setRenewable(!0);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new Z(qb,pb),tokenTicket:null};},Va);},error:function(qb){Ja.error(qb);}});break;case Ia.EXPIRED:this.getNewestMasterToken(sa,Ca,Ua,{result:function(qb){bb(Ja,function(){var Ab,yb,r,b;Ab=qb && qb.masterToken;yb=jb.userIdToken;r=Hc(Fa.messageId);b=new ta(lb,Ha);Ic(Ca,Ab,yb,r,{result:function(a){bb(Ja,function(){Ca.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(Ab) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new Z(a,b),tokenTicket:qb};},Va);},error:function(a){Ja.error(a);}},Va);},Va);},timeout:function(){Ja.timeout();},error:function(qb){Ja.error(qb);}});break;case Ia.REPLAYED:this.getNewestMasterToken(sa,Ca,Ua,{result:function(qb){bb(Ja,function(){var Ab,yb,r,b;Ab=qb && qb.masterToken;yb=jb.userIdToken;r=Hc(Fa.messageId);b=new ta(lb,Ha);Ic(Ca,Ab,yb,r,{result:function(a){bb(Ja,function(){Ca.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(Ab)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new Z(a,b),tokenTicket:qb};},Va);},error:function(a){Ja.error(a);}});},Va);},timeout:function(){Ja.timeout();},error:function(qb){Ja.error(qb);}});break;default:return null;}},Va);},cleanupContext:function(sa,Ca,Ha){switch(Ha.errorCode){case Ia.ENTITY_REAUTH:this.deleteMasterToken(sa,Ca.masterToken);break;case Ia.USER_REAUTH:(Ha=Ca.userIdToken,Ca.masterToken && Ha && sa.getMslStore().removeUserIdToken(Ha));}},send:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){var ob;function Wa(pb,qb,Ab){bb(Ja,function(){var yb;yb=Fa.getPeerUserIdToken();!Ca.isPeerToPeer() && !qb || Ca.isPeerToPeer() && !yb?(yb=Ha.getCustomer())?Fa.setCustomer(yb,{result:function(r){bb(Ja,function(){qb=Fa.getUserIdToken();ab(pb,qb,Ab);},ob);},error:function(r){Ja.error(r);}}):ab(pb,qb,Ab):ab(pb,qb,Ab);},ob);}function ab(pb,qb,Ab){bb(Ja,function(){var yb,r;yb=!Ab && (!Ha.isEncrypted() || Fa.willEncryptPayloads()) && (!Ha.isIntegrityProtected() || Fa.willIntegrityProtectPayloads()) && (!Ha.isNonReplayable() || Fa.isNonReplayable() && pb);yb || Fa.setNonReplayable(!1);r=[];Fa.isRenewable() && (!pb || pb.isRenewable() || Ha.isNonReplayable())?Ha.getKeyRequestData({result:function(b){bb(Ja,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);Fa.addKeyRequestData(c);}Va(pb,qb,yb,r);},ob);},error:function(b){Ja.error(b);}}):Va(pb,qb,yb,r);},ob);}function Va(pb,qb,Ab,yb){bb(Ja,function(){var r;r=new Pe(Ca,Ha,Fa);Ha.updateServiceTokens(r,!Ab,{result:function(b){Fa.getHeader({result:function(a){bb(Ja,function(){var c,l;c=Ha.getDebugContext();c && c.sentHeader(a);c=Fa.getKeyExchangeData();this.updateOutgoingCryptoContexts(Ca,a,c);this.storeServiceTokens(Ca,pb,qb,a.serviceTokens);c=!Ca.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(sa.isAborted())throw new Yb("send aborted.");l=null != this._filterFactory?this._filterFactory.getOutputStream(Ka):Ka;ud(Ca,l,Mb,a,c,Ua,{result:function(g){sa.setAbort(function(){g.abort();});jb(g,a,Ab);},timeout:function(){Ja.timeout();},error:function(g){Ja.error(g);}});},ob);},timeout:function(){Ja.timeout();},error:function(a){Ja.error(a);}});},error:function(b){Ja.error(b);}});},ob);}function jb(pb,qb,Ab){var yb,r;if(Ab)Ha.write(pb,Ua,{result:function(b){bb(Ja,function(){if(sa.isAborted())throw new Yb("MessageOutputStream write aborted.");lb(pb,qb,Ab);},ob);},timeout:function(){Ja.timeout();},error:function(b){Ja.error(b);}});else {yb=new za();r=new Pc();ud(Ca,yb,Mb,qb,r,Ua,{result:function(b){Ha.write(b,Ua,{result:function(a){bb(Ja,function(){if(sa.isAborted())throw new Yb("MessageOutputStream proxy write aborted.");b.close(Ua,{result:function(c){bb(Ja,function(){var l;if(!c)throw new Yb("MessageOutputStream proxy close aborted.");l=b.getPayloads();lb(pb,qb,Ab,l);},ob);},timeout:function(){Ja.timeout();},error:function(c){Ja.error(c);}});},ob);},timeout:function(){Ja.timeout();},error:function(a){Ja.error(a);}});},timeout:function(){Ja.timeout();},error:function(b){Ja.error(b);}});}}function lb(pb,qb,Ab,yb){pb.close(Ua,{result:function(r){bb(Ja,function(){if(!r)throw new Yb("MessageOutputStream close aborted.");yb || (yb=pb.getPayloads());return new aa(qb,yb,!Ab);},ob);},timeout:function(){Ja.timeout();},error:function(r){Ja.error(r);}});}ob=this;bb(Ja,function(){var pb,qb,Ab,yb;pb=Fa.getMasterToken();qb=Fa.getUserIdToken();Ab=!1;if(Ha.getUserId()){yb=!qb;Ha.getUserAuthData(null,Fa.isRenewable(),yb,{result:function(r){bb(Ja,function(){r && (Fa.willEncryptHeader() && Fa.willIntegrityProtectHeader()?Fa.setUserAuthenticationData(r):Ab=!0);Wa(pb,qb,Ab);},ob);},error:function(r){Ja.error(r);}});}else Wa(pb,qb,Ab);},ob);},receive:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){var Wa;Wa=this;bb(Ja,function(){var ab,Va,jb;if(sa.isAborted())throw new Yb("receive aborted.");ab=[];Fa && (ab=Fa.keyRequestData.filter(function(){return !0;}));Va=Ha.getCryptoContexts();jb=this._filterFactory?this._filterFactory.getInputStream(Ka):Ka;Re(Ca,jb,Mb,ab,Va,Ua,{result:function(lb){sa.setAbort(function(){lb.abort();});lb.isReady(Ua,{result:function(ob){bb(Ja,function(){var pb,qb,Ab,yb;if(!ob)throw new Yb("MessageInputStream aborted.");pb=lb.getMessageHeader();qb=lb.getErrorHeader();Ab=Ha.getDebugContext();Ab && Ab.receivedHeader(pb?pb:qb);if(Fa && (Ab=qb?qb.errorCode:null,pb || Ab != Ia.FAIL && Ab != Ia.TRANSIENT_FAILURE && Ab != Ia.ENTITY_REAUTH && Ab != Ia.ENTITYDATA_REAUTH)){Ab=pb?pb.messageId:qb.messageId;yb=Hc(Fa.messageId);if(Ab != yb)throw new Ib(Y.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + yb + "; received " + Ab);}Ca.getEntityAuthenticationData(null,{result:function(r){bb(Ja,function(){var b,a,c,l;b=r.getIdentity();if(pb){a=pb.entityAuthenticationData;c=pb.masterToken;a=c?pb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(Y.UNEXPECTED_MESSAGE_SENDER,a);Fa && this.updateIncomingCryptoContexts(Ca,Fa,lb);b=pb.keyResponseData;Ca.isPeerToPeer()?(b=b?b.masterToken:pb.peerMasterToken,c=pb.peerUserIdToken,a=pb.peerServiceTokens):(b=b?b.masterToken:pb.masterToken,c=pb.userIdToken,a=pb.serviceTokens);l=Ha.getUserId();l && c && !c.isVerified() && Ca.getMslStore().addUserIdToken(l,c);this.storeServiceTokens(Ca,b,c,a);}else if((a=qb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(Y.UNEXPECTED_MESSAGE_SENDER,a);return lb;},Wa);},error:Ja.error});},Wa);},timeout:function(){Ja.timeout();},error:function(ob){Ja.error(ob);}});},timeout:function(){Ja.timeout();},error:function(lb){Ja.error(lb);}});},Wa);},sendReceive:function(sa,Ca,Ha,Ka,Fa,Ua,Ja,Wa,ab){var jb;function Va(lb,ob){bb(ab,function(){Ua.setRenewable(ob);this.send(sa,Ca,Ha,Fa,Ua,Ja,{result:function(pb){bb(ab,function(){var qb;qb=pb.requestHeader.keyRequestData;Wa || pb.handshake || !qb.isEmpty()?this.receive(sa,Ca,Ha,Ka,pb.requestHeader,Ja,{result:function(Ab){bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,Ab);return new ea(Ab,pb);},jb);},timeout:function(){bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,null);ab.timeout();},jb);},error:function(Ab){bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,null);throw Ab;},jb);}}):bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,null);return new ea(null,pb);},jb);},jb);},timeout:function(){bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,null);ab.timeout();},jb);},error:function(pb){bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,null);throw pb;},jb);}});},jb);}jb=this;bb(ab,function(){var lb;lb=new Tc();this.acquireRenewalLock(sa,Ca,Ha,lb,Ua,Ja,{result:function(ob){Va(lb,ob);},timeout:function(){ab.timeout();},error:function(ob){ob instanceof Yb?ab.result(null):ab.error(ob);}});},jb);},acquireRenewalLock:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){var Va;function Wa(jb,lb,ob){bb(Ja,function(){var Ab,yb;if(sa.isAborted())throw new Yb("acquireRenewalLock aborted.");for(var pb=null,qb=0;qb < this._renewingContexts.length;++qb){Ab=this._renewingContexts[qb];if(Ab.ctx === Ca){pb=Ab.queue;break;}}if(!pb)return (this._renewingContexts.push({ctx:Ca,queue:Ka}),!0);yb=pb.poll(Ua,{result:function(r){bb(Ja,function(){var b;if(r === Bb)throw new Yb("acquireRenewalLock aborted.");pb.add(r);if(r === oa || r.isExpired())Wa(r,lb,ob);else {if(ob && !lb || lb && !lb.isBoundTo(r)){b=Ca.getMslStore().getUserIdToken(ob);lb=b && b.isBoundTo(r)?b:null;}Fa.setAuthTokens(r,lb);Fa.isRenewable() && r.equals(jb)?Wa(r,lb,ob):Ha.isRequestingTokens() && !lb?Wa(r,lb,ob):ab(r,lb);}},Va);},timeout:function(){},error:function(r){}});sa.setAbort(function(){yb && (pb.cancel(yb),yb=Bb);});},Va);}function ab(jb,lb){bb(Ja,function(){var qb;if(sa.isAborted())throw new Yb("acquireRenewalLock aborted.");if(!jb || jb.isRenewable() || !lb && Ha.getUserId() || lb && lb.isRenewable()){for(var ob=null,pb=0;pb < this._renewingContexts.length;++pb){qb=this._renewingContexts[pb];if(qb.ctx === Ca){ob=qb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:Ca,queue:Ka}),!0);}return !1;},Va);}Va=this;bb(Ja,function(){var jb,lb,ob;jb=Fa.getMasterToken();lb=Fa.getUserIdToken();ob=Ha.getUserId();Ha.isEncrypted() && !Fa.willEncryptPayloads() || Ha.isIntegrityProtected() && !Fa.willIntegrityProtectPayloads() || Fa.isRenewable() || !jb && Ha.isNonReplayable() || jb && jb.isExpired() || !(lb || !ob || Fa.willEncryptHeader() && Fa.willIntegrityProtectHeader()) || Ha.isRequestingTokens() && (!jb || ob && !lb)?Wa(jb,lb,ob):ab(jb,lb);},Va);},releaseRenewalLock:function(sa,Ca,Ha){var Ja;for(var Ka,Fa,Ua=0;Ua < this._renewingContexts.length;++Ua){Ja=this._renewingContexts[Ua];if(Ja.ctx === sa){Ka=Ua;Fa=Ja.queue;break;}}if(Fa !== Ca)throw new vb("Attempt to release renewal lock that is not owned by this queue.");Ha?(Ha=Ha.messageHeader)?(Fa=Ha.keyResponseData)?Ca.add(Fa.masterToken):(sa=sa.isPeerToPeer()?Ha.peerMasterToken:Ha.masterToken)?Ca.add(sa):Ca.add(oa):Ca.add(oa):Ca.add(oa);this._renewingContexts.splice(Ka,1);}});Ue=Cb.Class.create({init:function(){var sa;sa={_impl:{value:new da(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,sa);},setFilterFactory:function(sa){this._impl.setFilterFactory(sa);},shutdown:function(){this._shutdown=!0;},receive:function(sa,Ca,Ha,Ka,Fa,Ua){var Ja;if(this._shutdown)throw new eb("MslControl is shutdown.");Ja=new ia(this._impl,sa,Ca,Ha,Ka,Fa);setTimeout(function(){Ja.call(Ua);},0);return ja(Ja);},respond:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){var Wa;if(this._shutdown)throw new eb("MslControl is shutdown.");Wa=new la(this._impl,sa,Ca,Ha,Ka,Fa,Ua);setTimeout(function(){Wa.call(Ja);},0);return ja(Wa);},error:function Ha(sa,Ca,Ha,Ka,Fa,Ua,Ja){var Wa;if(this._shutdown)throw new eb("MslControl is shutdown.");Wa=new Ba(this._impl,sa,Ca,Ha,Ka,Fa,Ua);setTimeout(function(){Wa.call(Ja);},0);return ja(Wa);},request:function(sa,Ca){var Ha,Ka,Fa,Ua,Ja,Wa;if(this._shutdown)throw new eb("MslControl is shutdown.");if(5 == arguments.length){Ka=arguments[2];Fa=Ha=null;Ua=arguments[3];Ja=arguments[4];if(sa.isPeerToPeer()){Ja.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ka=null,Ha=arguments[2],Fa=arguments[3],Ua=arguments[4],Ja=arguments[5],!sa.isPeerToPeer())){Ja.error(new vb("This method cannot be used in trusted network mode."));return;}Wa=new Ma(this._impl,sa,Ca,Ka,Ha,Fa,null,0,Ua);setTimeout(function(){Wa.call(Ja);},0);return ja(Wa);}});ia=Cb.Class.create({init:function(sa,Ca,Ha,Ka,Fa,Ua){Object.defineProperties(this,{_ctrl:{value:sa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_output:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(sa){this._abortFunc=sa;},call:function(sa){var Fa;function Ca(Ua){bb(sa,function(){var Ja;Ja=Ua.messageHeader;if(!Ja)return Ua;this.setAbort(function(){Ua.abort();});Ua.mark(Number.MAX_VALUE);Ua.read(1,Fa._timeout,{result:function(Wa){bb(sa,function(){if(Wa && 0 == Wa.length)return null;if(Wa)return (Ua.reset(),Ua);Ha(Ua);},Fa);},timeout:function(){sa.timeout();},error:function(Wa){bb(sa,function(){var ab,Va,jb;if(ba(Wa))return null;ab=Ja?Ja.messageId:null;if(Wa instanceof Ub){Va=Y.MSL_COMMS_FAILURE;jb=Wa;}else (Va=Y.INTERNAL_EXCEPTION,jb=new vb("Error peeking into the message payloads."));ma(this,this._ctx,this._msgCtx.getDebugContext(),ab,Va,null,this._output,this._timeout,{result:function(lb){sa.error(jb);},timeout:function(){sa.timeout();},error:function(lb){bb(sa,function(){if(ba(lb))return null;throw new fc("Error peeking into the message payloads.",lb,Wa);},Fa);}});},Fa);}});},Fa);}function Ha(Ua){bb(sa,function(){Ua.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Ua.messageHeader,this._timeout,{result:function(Ja){bb(sa,function(){var Wa,ab,Va,jb,lb;Wa=Ja.builder;ab=Ja.tokenTicket;Va=Ua.messageHeader;jb=new Da(this._msgCtx);if(!this._ctx.isPeerToPeer() || Va.isEncrypting() || Va.keyResponseData)Ka(Va,Wa,jb,ab);else {lb=new Ma(this._ctrl,this._ctx,jb,null,this._input,this._output,Ja,1,this._timeout);this.setAbort(function(){lb.abort();});lb.call(sa);}},Fa);},timeout:function(){sa.timeout();},error:function(Ja){bb(sa,function(){var Wa,ab,Va,jb;if(ba(Ja))return null;if(Ja instanceof eb){Wa=Ja.messageId;ab=Ja.error;Va=Ua.messageHeader.messageCapabilities;Va=this._ctrl.messageRegistry.getUserMessage(ab,Va?Va.languages:null);jb=Ja;}else (Wa=requestHeader?requestHeader.messageId:null,ab=Y.INTERNAL_EXCEPTION,Va=null,jb=new vb("Error creating an automatic handshake response.",Ja));ma(this,this._ctx,this._msgCtx.getDebugContext(),Wa,ab,Va,this._output,this._timeout,{result:function(lb){sa.error(jb);},timeout:function(){sa.timeout();},error:function(lb){bb(sa,function(){if(ba(lb))return null;throw new fc("Error creating an automatic handshake response.",lb,Ja);},Fa);}});},Fa);}});},Fa);}function Ka(Ua,Ja,Wa,ab){bb(sa,function(){Ja.setRenewable(!1);this._ctrl.send(this._ctx,Wa,this._output,Ja,this._timeout,{result:function(Va){bb(sa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);return null;},Fa);},timeout:function(){bb(sa,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);sa.timeout();},Fa);},error:function(Va){bb(sa,function(){var jb,lb,ob,pb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);if(ba(Va))return null;if(Va instanceof eb){jb=Va.messageId;lb=Va.error;ob=Ua?Ua.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(lb,ob?ob.languages:null);pb=Va;}else Va instanceof Ub?(jb=Ua?Ua.messageId:null,lb=Y.MSL_COMMS_FAILURE,ob=null,pb=Va):(jb=Ua?Ua.messageId:null,lb=Y.INTERNAL_EXCEPTION,ob=null,pb=new vb("Error sending an automatic handshake response.",Va));ma(this,this._ctx,this._msgCtx.getDebugContext(),jb,lb,ob,this._output,this._timeout,{result:function(qb){sa.error(pb);},timeout:function(){sa.timeout();},error:function(qb){bb(sa,function(){if(ba(qb))return null;throw new fc("Error sending an automatic handshake response.",qb,Va);},Fa);}});},Fa);}});},Fa);}Fa=this;bb(sa,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Ua){Ca(Ua);},timeout:function(){sa.timeout();},error:function(Ua){bb(sa,function(){var Ja,Wa,ab,Va;if(ba(Ua))return null;if(Ua instanceof eb){Ja=Ua.messageId;Wa=Ua.error;ab=this._ctrl.messageRegistry.getUserMessage(Wa,null);Va=Ua;}else (Ja=null,Wa=Y.INTERNAL_EXCEPTION,ab=null,Va=new vb("Error receiving the message header.",Ua));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Wa,ab,this._output,this._timeout,{result:function(jb){sa.error(Va);},timeout:function(){sa.timeout();},error:function(jb){bb(sa,function(){if(ba(jb))return null;throw new fc("Error receiving the message header.",jb,Ua);},Fa);}});},Fa);}});},Fa);}});la=Cb.Class.create({init:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){Object.defineProperties(this,{_ctrl:{value:sa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_output:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(sa){this._abortFunc=sa;},trustedNetworkExecute:function(sa,Ca,Ha){var Ka;Ka=this;bb(Ha,function(){var Fa,Ua;if(12 < Ca + 1)return !1;if(Fa=this._msgCtx.isIntegrityProtected() && !sa.willIntegrityProtectHeader()?Y.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !sa.willEncryptPayloads()?Y.RESPONSE_REQUIRES_ENCRYPTION:null){Ua=Qc(sa.getMessageId());ma(this,this._ctx,this._msgCtx.getDebugContext(),Ua,Fa,null,this._output,this._timeout,{result:function(Ja){Ha.result(!1);},timeout:function(){Ha.timeout();},error:function(Ja){bb(Ha,function(){if(ba(Ja))return !1;throw new fc("Response requires encryption or integrity protection but cannot be protected: " + Fa,Ja,null);},Ka);}});}else !this._msgCtx.getCustomer() || sa.getMasterToken() || sa.getKeyExchangeData()?(sa.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,sa,this._timeout,{result:function(Ja){Ha.result(!0);},timeout:function(){Ha.timeout();},error:function(Ja){Ha.error(Ja);}})):(Ua=Qc(sa.getMessageId()),ma(this,this._ctx,this._msgCtx.getDebugContext(),Ua,Y.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ja){Ha.result(!1);},timeout:function(){Ha.timeout();},error:function(Ja){bb(Ha,function(){if(ba(Ja))return !1;throw new fc("Response wishes to attach a user ID token but there is no master token.",Ja,null);},Ka);}}));},Ka);},peerToPeerExecute:function(sa,Ca,Ha,Ka){var Ua;function Fa(Ja){bb(Ka,function(){var Wa;Wa=Ja.response;Wa.close();Wa=Wa.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ja.requestHeader,Wa);this._ctrl.buildErrorResponse(this,this._ctx,sa,Ja,Wa,{result:function(ab){bb(Ka,function(){var Va,jb;if(!ab)return !1;Va=ab.errorResult;jb=ab.tokenTicket;this.peerToPeerExecute(Va.msgCtx,Va.builder,Ha,{result:function(lb){bb(Ka,function(){this._ctrl.releaseMasterToken(jb);return lb;},Ua);},timeout:function(){bb(Ka,function(){this._ctrl.releaseMasterToken(jb);Ka.timeout();},Ua);},error:function(lb){bb(Ka,function(){this._ctrl.releaseMasterToken(jb);throw lb;},Ua);}});},Ua);}});},Ua);}Ua=this;bb(Ka,function(){var Ja;if(12 < Ha + 2)return !1;if(null != sa.getCustomer() && null == Ca.getPeerMasterToken() && null == Ca.getKeyExchangeData()){Ja=Qc(Ca.getMessageId());ma(this,this._ctx,sa.getDebugContext(),Ja,Y.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Wa){Ka.result(!1);},timeout:function(){Ka.timeout();},error:function(Wa){bb(Ka,function(){if(ba(Wa))return !1;throw new fc("Response wishes to attach a user ID token but there is no master token.",Wa,null);},Ua);}});}else this._ctrl.sendReceive(this._ctx,sa,this._input,this._output,Ca,this._timeout,!1,{result:function(Wa){bb(Ka,function(){var jb,lb,ob;function ab(){jb.read(32768,Ua._timeout,{result:function(pb){bb(Ka,function(){pb?ab():Va();},Ua);},timeout:function(){Ka.timeout();},error:function(pb){Ka.error(pb);}});}function Va(){bb(Ka,function(){var pb;pb=new ta(Wa.payloads,sa);this._ctrl.buildResponse(this,this._ctx,pb,lb,this._timeout,{result:function(qb){bb(Ka,function(){var Ab;Ab=qb.tokenTicket;this.peerToPeerExecute(pb,qb.builder,Ha,{result:function(yb){bb(Ka,function(){this._ctrl.releaseMasterToken(Ab);return yb;},Ua);},timeout:function(){bb(Ka,function(){this._ctrl.releaseMasterToken(Ab);Ka.timeout();},Ua);},error:function(yb){bb(Ka,function(){this._ctrl.releaseMasterToken(Ab);throw yb;},Ua);}});},Ua);},timeout:function(){Ka.timeout();},error:function(qb){Ka.error(qb);}});},Ua);}jb=Wa.response;Ha+=2;if(!jb)return !0;lb=jb.getMessageHeader();if(lb){ob=Wa.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(Wa.handshake && ob)ab();else return !0;}else Fa(Wa);},Ua);},timeout:function(){Ka.timeout();},error:function(Wa){Ka.error(Wa);}});},Ua);},call:function(sa){var Ca;Ca=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ha){bb(sa,function(){var Ka,Fa;Ka=Ha.builder;Fa=Ha.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ka,3,{result:function(Ua){bb(sa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);return Ua;},Ca);},timeout:function(){bb(sa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);sa.timeout();},Ca);},error:function(Ua){bb(sa,function(){var Ja,Wa,ab,Va;this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);if(ba(Ua))return !1;Ja=Qc(Ka.getMessageId());if(Ua instanceof eb){Wa=Ua.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Wa,ab?ab.languages:null);Va=Ua;}else Ua instanceof Ub?(Wa=Y.MSL_COMMS_FAILURE,ab=null,Va=Ua):(Wa=Y.INTERNAL_EXCEPTION,ab=null,Va=new vb("Error sending the response.",Ua));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Wa,ab,this._output,this._timeout,{result:function(jb){sa.error(Va);},timeout:function(){sa.timeout();},error:function(jb){bb(sa,function(){if(ba(jb))return !1;throw new fc("Error sending the response.",jb,null);},Ca);}});},Ca);}}):this.trustedNetworkExecute(Ka,3,{result:function(Ua){bb(sa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);return Ua;},Ca);},timeout:function(){bb(sa,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);sa.timeout();},Ca);},error:function(Ua){bb(sa,function(){var Ja,Wa,ab,Va;this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);if(ba(Ua))return !1;Ja=Qc(Ka.getMessageId());if(Ua instanceof eb){Wa=Ua.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Wa,ab?ab.languages:null);Va=Ua;}else Ua instanceof Ub?(Wa=Y.MSL_COMMS_FAILURE,ab=null,Va=Ua):(Wa=Y.INTERNAL_EXCEPTION,ab=null,Va=new vb("Error sending the response.",Ua));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Wa,ab,this._output,this._timeout,{result:function(jb){sa.error(Va);},timeout:function(){sa.timeout();},error:function(jb){bb(sa,function(){if(ba(jb))return !1;throw new fc("Error sending the response.",jb,null);},Ca);}});},Ca);}});},Ca);},timeout:function(){sa.timeout();},error:function(Ha){bb(sa,function(){var Ka,Fa,Ua,Ja;if(ba(Ha))return !1;if(Ha instanceof eb){Ka=Ha.messageId;Fa=Ha.error;Ua=this._request.messageCapabilities;Ua=this._ctrl.messageRegistry.getUserMessage(Fa,Ua?Ua.languages:null);Ja=Ha;}else (Ka=null,Fa=Y.INTERNAL_EXCEPTION,Ua=null,Ja=new vb("Error building the response.",Ha));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ka,Fa,Ua,this._output,this._timeout,{result:function(Wa){sa.error(Ja);},timeout:function(){sa.timeout();},error:function(Wa){bb(sa,function(){if(ba(Wa))return null;throw new fc("Error building the response.",Wa,Ha);},Ca);}});},Ca);}});}});Ba=Cb.Class.create({init:function(sa,Ca,Ha,Ka,Fa,Ua,Ja){Object.defineProperties(this,{_ctrl:{value:sa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(sa){this._abortFunc=sa;},call:function(sa){var Ca;Ca=this;bb(sa,function(){var Ha,Ka;if(this._appError == ENTITY_REJECTED)Ha=this._request.masterToken?Y.MASTERTOKEN_REJECTED_BY_APP:Y.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ha=this._request.userIdToken?Y.USERIDTOKEN_REJECTED_BY_APP:Y.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ka=this._request.messageCapabilities;Ka=this._ctrl.messageRegistry.getUserMessage(Ha,Ka?Ka.languages:null);ma(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ha,Ka,this._output,this._timeout,{result:function(Fa){sa.result(Fa);},timeout:sa.timeout,error:function(Fa){bb(sa,function(){if(ba(Fa))return !1;if(Fa instanceof eb)throw Fa;throw new vb("Error building the error response.",Fa);},Ca);}});},Ca);}});Sa={result:function(){},timeout:function(){},error:function(){}};Ma=Cb.Class.create({init:function(sa,Ca,Ha,Ka,Fa,Ua,Ja,Wa,ab){var Va;if(Ja){Va=Ja.builder;Ja=Ja.tokenTicket;}else Ja=Va=null;Object.defineProperties(this,{_ctrl:{value:sa,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_input:{value:Fa,writable:!0,enumerable:!1,configurable:!1},_output:{value:Ua,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Va,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ja,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ab,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(sa){this._abortFunc=sa;},execute:function(sa,Ca,Ha,Ka,Fa){var Wa;function Ua(ab){function Va(jb){bb(Fa,function(){var lb;lb=ab.response;return jb?jb:lb;},Wa);}bb(Fa,function(){var jb,lb;jb=ab.response;jb.close();lb=jb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,ab.requestHeader,lb);this._ctrl.buildErrorResponse(this,this._ctx,sa,ab,lb,Ha,{result:function(ob){bb(Fa,function(){var pb,qb,Ab,yb;if(!ob)return jb;pb=ob.errorResult;qb=ob.tokenTicket;Ab=pb.builder;pb=pb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(pb,Ab,this._timeout,Ka,{result:function(r){bb(Fa,function(){this._ctrl.releaseMasterToken(qb);Va(r);},Wa);},timeout:function(){bb(Fa,function(){this._ctrl.releaseMasterToken(qb);Fa.timeout();},Wa);},error:function(r){bb(Fa,function(){this._ctrl.releaseMasterToken(qb);Fa.error(r);},Wa);}});else {this._openedStreams && (this._input.close(),this._output.close(Ha,Sa));yb=new Ma(this._ctrl,this._ctx,pb,this._remoteEntity,null,null,{builder:Ab,tokenTicket:qb},Ka,this._timeout);this.setAbort(function(){yb.abort();});yb.call({result:function(r){Va(r);},timeout:function(){Fa.timeout();},error:function(r){Fa.error(r);}});}},Wa);},timeout:function(){Fa.timeout();},error:function(ob){Fa.error(ob);}});},Wa);}function Ja(ab){bb(Fa,function(){var lb,ob,pb,qb,Ab;function Va(){lb.read(32768,Wa._timeout,{result:function(yb){yb?Va():jb();},timeout:function(){Fa.timeout();},error:function(yb){Fa.error(yb);}});}function jb(){bb(Fa,function(){var yb;yb=new ta(ab.payloads,sa);this._ctrl.buildResponse(this,this._ctx,sa,ob,Ha,{result:function(r){bb(Fa,function(){var b;b=r.tokenTicket;this.execute(yb,r.builder,this._timeout,Ka,{result:function(a){bb(Fa,function(){this._ctrl.releaseMasterToken(b);return a;},Wa);},timeout:function(){bb(Fa,function(){this._ctrl.releaseMasterToken(b);Fa.timeout();},Wa);},error:function(a){bb(Fa,function(){this._ctrl.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Fa.timeout();},error:function(r){Fa.error(r);}});},Wa);}lb=ab.response;ob=lb.getMessageHeader();pb=ab.payloads;pb=0 < pb.length && 0 < pb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!ab.handshake || !pb)return lb;this._openedStreams && (this._input.close(),this._output.close(Ha,Sa));qb=new ta(ab.payloads,sa);this._ctrl.buildResponse(this,this._ctx,sa,ob,Ha,{result:function(yb){bb(Fa,function(){var r;r=new Ma(this._ctrl,this._ctx,qb,this._remoteEntity,null,null,yb,Ka,this._timeout);this.setAbort(function(){r.abort();});r.call(Fa);},Wa);},timeout:function(){Fa.timeout();},error:function(yb){Fa.error(yb);}});}else if(ab.handshake && pb)Va();else if(0 < ob.keyRequestData.length){Ab=new Da(sa);this._ctrl.buildResponse(this,this._ctx,Ab,ob,Ha,{result:function(yb){bb(Fa,function(){var r,b;r=yb.builder;b=yb.tokenTicket;lb.mark();lb.read(1,this._timeout,{result:function(a){bb(Fa,function(){function c(){lb.read(32768,Wa._timeout,{result:function(g){g?c():l();},timeout:function(){Fa.timeout();},error:function(g){Fa.error(g);}});}function l(){Wa.execute(Ab,r,Wa._timeout,Ka,{result:function(g){bb(Fa,function(){this._ctrl.releaseMasterToken(b);return g;},Wa);},timeout:function(){bb(Fa,function(){this._ctrl.releaseMasterToken(b);Fa.timeout();},Wa);},error:function(g){bb(Fa,function(){this._ctrl.releaseMasterToken(b);throw g;},Wa);}});}if(a){if((lb.reset(),12 >= Ka + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,Ab,this._output,r,this._timeout,{result:function(g){bb(Fa,function(){this.releaseMasterToken(b);return lb;},Wa);},timeout:function(){Fa.timeout();},error:function(g){Fa.error(g);}}));else return (this.releaseMasterToken(b),lb);}else c();},Wa);},timeout:function(){bb(Fa,function(){this.releaseMasterToken(b);Fa.timeout();},Wa);},error:function(a){bb(Fa,function(){this.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Fa.timeout();},error:function(yb){Fa.error(yb);}});}},Wa);}Wa=this;bb(Fa,function(){if(12 < Ka + 2)return null;this._ctrl.sendReceive(this,this._ctx,sa,this._input,this._output,Ca,Ha,!0,{result:function(ab){bb(Fa,function(){var Va;if(!ab)return null;Va=ab.response;Ka+=2;Va.getMessageHeader()?Ja(ab):Ua(ab);},Wa);},timeout:function(){Fa.timeout();},error:function(ab){Fa.error(ab);}});},Wa);},call:function(sa){var Ha;function Ca(Ka,Fa,Ua){bb(sa,function(){this.execute(this._msgCtx,Ka,Ua,this._msgCount,{result:function(Ja){bb(sa,function(){this._ctrl.releaseMasterToken(Fa);this._openedStreams && this._output.close(Ua,Sa);Ja && Ja.closeSource(this._openedStreams);return Ja;},Ha);},timeout:function(){bb(sa,function(){this._ctrl.releaseMasterToken(Fa);this._openedStreams && (this._output.close(Ua,Sa),this._input.close());sa.timeout();},Ha);},error:function(Ja){bb(sa,function(){this._ctrl.releaseMasterToken(Fa);this._openedStreams && (this._output.close(Ua,Sa),this._input.close());if(ba(Ja))return null;throw Ja;},Ha);}});},Ha);}Ha=this;bb(sa,function(){var Ka,Fa,Ua;Ka=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Fa=Date.now();Ua=this._remoteEntity.openConnection();this._output=Ua.output;this._input=Ua.input;-1 != Ka && (Ka=this._timeout - (Date.now() - Fa));this._openedStreams=!0;}catch(Ja){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Sa);this._input && this._input.close();if(ba(Ja))return null;throw Ja;}this._builder?Ca(this._builder,this._tokenTicket,Ka):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ja){bb(sa,function(){Ca(Ja.builder,Ja.tokenTicket,Ka);},Ha);},timeout:function(){bb(sa,function(){this._openedStreams && (this._output.close(this._timeout,Sa),this._input.close());sa.timeout();},Ha);},error:function(Ja){bb(sa,function(){this._openedStreams && (this._output.close(this._timeout,Sa),this._input.close());if(ba(Ja))return null;throw Ja;},Ha);}});},Ha);}});})();(function(){Sd=Cb.Class.create({init:function(ja){Object.defineProperties(this,{id:{value:ja,writable:!1,configurable:!1}});},toJSON:function(){var ja;ja={};ja.id=this.id;return ja;},equals:function(ja){return this === ja?!0:ja instanceof Sd?this.id == ja.id:!1;},uniqueKey:function(){return this.id;}});Ve=function(ja){var ca;ca=ja.id;if(!ca)throw new Db(Y.JSON_PARSE_ERROR,JSON.stringify(ja));return new Sd(ca);};})();Cb.Class.create({isNewestMasterToken:function(ja,ca,Z){},isMasterTokenRevoked:function(ja,ca){},acceptNonReplayableId:function(ja,ca,Z,aa){},createMasterToken:function(ja,ca,Z,aa,ea){},isMasterTokenRenewable:function(ja,ca,Z){},renewMasterToken:function(ja,ca,Z,aa,ea){},isUserIdTokenRevoked:function(ja,ca,Z,aa){},createUserIdToken:function(ja,ca,Z,aa){},renewUserIdToken:function(ja,ca,Z,aa){}});(function(){function ja(ca,Z,aa,ea){this.sessiondata=ca;this.tokendata=Z;this.signature=aa;this.verified=ea;}ec=Cb.Class.create({init:function(ca,Z,aa,ea,ba,ma,za,ua,na,ta,Da){var oa;oa=this;Na(Da,function(){var da,ia,la,Ba,Sa;if(aa.getTime() < Z.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ea || ea > Kb)throw new vb("Sequence number " + ea + " is outside the valid range.");if(0 > ba || ba > Kb)throw new vb("Serial number " + ba + " is outside the valid range.");da=Math.floor(Z.getTime() / 1E3);ia=Math.floor(aa.getTime() / 1E3);if(ta)la=ta.sessiondata;else {Ba={};ma && (Ba.issuerdata=ma);Ba.identity=za;Ba.encryptionkey=Fb(ua.toByteArray());Ba.hmackey=Fb(na.toByteArray());la=bc(JSON.stringify(Ba),Mb);}if(ta)return (Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ia,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},identity:{value:za,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:na,writable:!1,configurable:!1},sessiondata:{value:la,writable:!1,enumerable:!1,configurable:!1},verified:{value:ta.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ta.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Sa=ca.getMslCryptoContext();Sa.encrypt(la,{result:function(Ma){Na(Da,function(){var Ra,Ta;Ra={};Ra.renewalwindow=da;Ra.expiration=ia;Ra.sequencenumber=ea;Ra.serialnumber=ba;Ra.sessiondata=Fb(Ma);Ta=bc(JSON.stringify(Ra),Mb);Sa.sign(Ta,{result:function(sa){Na(Da,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ia,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},identity:{value:za,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:na,writable:!1,configurable:!1},sessiondata:{value:la,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(sa){Da.error(sa);}});},oa);},error:function(Ma){Da.error(Ma);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(ca){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(ca){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(ca){var Z;if(this.sequenceNumber == ca.sequenceNumber)return this.expiration > ca.expiration;if(this.sequenceNumber > ca.sequenceNumber){Z=this.sequenceNumber - Kb + 127;return ca.sequenceNumber >= Z;}Z=ca.sequenceNumber - Kb + 127;return this.sequenceNumber < Z;},toJSON:function(){var ca;ca={};ca.tokendata=Fb(this.tokendata);ca.signature=Fb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof ec?this.serialNumber == ca.serialNumber && this.sequenceNumber == ca.sequenceNumber && this.expiration.getTime() == ca.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Zc=function(ca,Z,aa){Na(aa,function(){var ea,ba,ma,za,ua;ea=ca.getMslCryptoContext();ba=Z.tokendata;ma=Z.signature;if("string" !== typeof ba || "string" !== typeof ma)throw new Db(Y.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(Z));try{za=Gb(ba);}catch(na){throw new eb(Y.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(Z),na);}if(!za || 0 == za.length)throw new Db(Y.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(Z));try{ua=Gb(ma);}catch(na){throw new eb(Y.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(Z),na);}ea.verify(za,ua,{result:function(na){Na(aa,function(){var ta,Da,oa,da,ia,la,Ba,Sa,Ma,Ra;ta=ac(za,Mb);try{Da=JSON.parse(ta);oa=parseInt(Da.renewalwindow);da=parseInt(Da.expiration);ia=parseInt(Da.sequencenumber);la=parseInt(Da.serialnumber);Ba=Da.sessiondata;}catch(Ta){if(Ta instanceof SyntaxError)throw new Db(Y.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + ta,Ta);throw Ta;}if(!oa || oa != oa || !da || da != da || "number" !== typeof ia || ia != ia || "number" !== typeof la || la != la || "string" !== typeof Ba)throw new Db(Y.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + ta);if(da < oa)throw new eb(Y.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ta);if(0 > ia || ia > Kb)throw new eb(Y.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + ta);if(0 > la || la > Kb)throw new eb(Y.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + ta);Sa=new Date(1E3 * oa);Ma=new Date(1E3 * da);try{Ra=Gb(Ba);}catch(Ta){throw new eb(Y.MASTERTOKEN_SESSIONDATA_INVALID,Ba,Ta);}if(!Ra || 0 == Ra.length)throw new eb(Y.MASTERTOKEN_SESSIONDATA_MISSING,Ba);na?ea.decrypt(Ra,{result:function(Ta){Na(aa,function(){var sa,Ca,Ha,Ka,Fa,Ua;sa=ac(Ta,Mb);try{Ca=JSON.parse(sa);Ha=Ca.issuerdata;Ka=Ca.identity;Fa=Ca.encryptionkey;Ua=Ca.hmackey;}catch(Ja){if(Ja instanceof SyntaxError)throw new Db(Y.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + sa,Ja);throw Ja;}if(Ha && "object" !== typeof Ha || !Ka || "string" !== typeof Fa || "string" !== typeof Ua)throw new Db(Y.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + sa);oc(Fa,jc,xc,{result:function(Ja){oc(Ua,kc,Gc,{result:function(Wa){Na(aa,function(){var ab;ab=new ja(Ta,za,ua,na);new ec(ca,Sa,Ma,ia,la,Ha,Ka,Ja,Wa,ab,aa);});},error:function(Wa){aa.error(new ub(Y.MASTERTOKEN_KEY_CREATION_ERROR,Wa));}});},error:function(Ja){aa.error(new ub(Y.MASTERTOKEN_KEY_CREATION_ERROR,Ja));}});});},error:function(Ta){aa.error(Ta);}}):(oa=new ja(null,za,ua,na),new ec(ca,Sa,Ma,ia,la,null,null,null,null,oa,aa));});},error:function(na){aa.error(na);}});});};})();(function(){function ja(ca,Z,aa){this.tokendata=ca;this.signature=Z;this.verified=aa;}Nc=Cb.Class.create({init:function(ca,Z,aa,ea,ba,ma,za,ua,na){var ta;ta=this;Na(na,function(){var Da,oa,da,ia,la,Ba,Sa;if(aa.getTime() < Z.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ea)throw new vb("Cannot construct a user ID token without a master token.");if(0 > ba || ba > Kb)throw new vb("Serial number " + ba + " is outside the valid range.");Da=Math.floor(Z.getTime() / 1E3);oa=Math.floor(aa.getTime() / 1E3);da=ea.serialNumber;if(ua){ia=ua.tokendata;la=ua.signature;Ba=ua.verified;da=ea.serialNumber;Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},customer:{value:za,writable:!1,configurable:!1},verified:{value:Ba,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:la,writable:!1,enumerable:!1,configurable:!1}});return this;}ia={};ma && (ia.issuerdata=ma);ia.identity=za;ia=bc(JSON.stringify(ia),Mb);Sa=ca.getMslCryptoContext();Sa.encrypt(ia,{result:function(Ma){Na(na,function(){var Ra,Ta;Ra={};Ra.renewalwindow=Da;Ra.expiration=oa;Ra.mtserialnumber=da;Ra.serialnumber=ba;Ra.userdata=Fb(Ma);Ta=bc(JSON.stringify(Ra),Mb);Sa.sign(Ta,{result:function(sa){Na(na,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ea.serialNumber,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},customer:{value:za,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(sa){Na(na,function(){sa instanceof eb && sa.setEntity(ea);throw sa;},ta);}});},ta);},error:function(Ma){Na(na,function(){Ma instanceof eb && Ma.setEntity(ea);throw Ma;},ta);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(ca){return ca && ca.serialNumber == this.mtSerialNumber;},toJSON:function(){var ca;ca={};ca.tokendata=Fb(this.tokendata);ca.signature=Fb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof Nc?this.serialNumber == ca.serialNumber && this.mtSerialNumber == ca.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});qd=function(ca,Z,aa,ea){Na(ea,function(){var ba,ma,za,ua,na;ba=ca.getMslCryptoContext();ma=Z.tokendata;za=Z.signature;if("string" !== typeof ma || "string" !== typeof za)throw new Db(Y.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(Z)).setEntity(aa);try{ua=Gb(ma);}catch(ta){throw new eb(Y.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Z),ta).setEntity(aa);}if(!ua || 0 == ua.length)throw new Db(Y.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(Z)).setEntity(aa);try{na=Gb(za);}catch(ta){throw new eb(Y.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Z),ta).setEntity(aa);}ba.verify(ua,na,{result:function(ta){Na(ea,function(){var Da,oa,da,ia,la,Ba,Sa,Ma,Ra,Ta;Da=ac(ua,Mb);try{oa=JSON.parse(Da);da=parseInt(oa.renewalwindow);ia=parseInt(oa.expiration);la=parseInt(oa.mtserialnumber);Ba=parseInt(oa.serialnumber);Sa=oa.userdata;}catch(sa){if(sa instanceof SyntaxError)throw new Db(Y.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Da,sa).setEntity(aa);throw sa;}if(!da || da != da || !ia || ia != ia || "number" !== typeof la || la != la || "number" !== typeof Ba || Ba != Ba || "string" !== typeof Sa)throw new Db(Y.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Da).setEntity(aa);if(ia < da)throw new eb(Y.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Da).setEntity(aa);if(0 > la || la > Kb)throw new eb(Y.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Da).setEntity(aa);if(0 > Ba || Ba > Kb)throw new eb(Y.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Da).setEntity(aa);Ma=new Date(1E3 * da);Ra=new Date(1E3 * ia);if(!aa || la != aa.serialNumber)throw new eb(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + la + "; mt " + JSON.stringify(aa)).setEntity(aa);try{Ta=Gb(Sa);}catch(sa){throw new eb(Y.USERIDTOKEN_USERDATA_INVALID,Sa,sa).setEntity(aa);}if(!Ta || 0 == Ta.length)throw new eb(Y.USERIDTOKEN_USERDATA_MISSING,Sa).setEntity(aa);ta?ba.decrypt(Ta,{result:function(sa){Na(ea,function(){var Ca,Ha,Ka,Fa,Ua;Ca=ac(sa,Mb);try{Ha=JSON.parse(Ca);Ka=Ha.issuerdata;Fa=Ha.identity;}catch(Ja){if(Ja instanceof SyntaxError)throw new Db(Y.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Ca).setEntity(aa);throw Ja;}if(Ka && "object" !== typeof Ka || "object" !== typeof Fa)throw new Db(Y.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Ca).setEntity(aa);try{Ua=Ve(Fa);}catch(Ja){throw new eb(Y.USERIDTOKEN_IDENTITY_INVALID,"userdata " + Ca,Ja).setEntity(aa);}Fa=new ja(ua,na,ta);new Nc(ca,Ma,Ra,aa,Ba,Ka,Ua,Fa,ea);});},error:function(sa){Na(ea,function(){sa instanceof eb && sa.setEntity(aa);throw sa;});}}):(da=new ja(ua,na,ta),new Nc(ca,Ma,Ra,aa,Ba,null,null,da,ea));});},error:function(ta){Na(ea,function(){ta instanceof eb && ta.setEntity(aa);throw ta;});}});});};})();(function(){function ja(Z,aa){var ea,ba,ma;ea=Z.tokendata;if("string" !== typeof ea)throw new Db(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Z));try{ba=Gb(ea);}catch(za){throw new eb(Y.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(Z),za);}if(!ba || 0 == ba.length)throw new Db(Y.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(Z));try{ma=JSON.parse(ac(ba,Mb)).name;}catch(za){if(za instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Z),za);throw za;}if(!ma)throw new Db(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Z));return aa[ma]?aa[ma]:aa[""];}function ca(Z,aa,ea){this.tokendata=Z;this.signature=aa;this.verified=ea;}zc=Cb.Class.create({init:function(Z,aa,ea,ba,ma,za,ua,na,ta,Da){var oa;oa=this;Na(Da,function(){var da,ia,la,Ba,Sa;if(ba && ma && !ma.isBoundTo(ba))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");da=ba?ba.serialNumber:-1;ia=ma?ma.serialNumber:-1;if(ta)return (Sa=ta.tokendata,Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:za,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:ta.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ua){la=Rd(ua,ea);la.length < ea.length || (ua=null,la=ea);}else (ua=null,la=ea);Ba={};Ba.name=aa;-1 != da && (Ba.mtserialnumber=da);-1 != ia && (Ba.uitserialnumber=ia);Ba.encrypted=za;ua && (Ba.compressionalgo=ua);if(za && 0 < la.length)na.encrypt(la,{result:function(Ma){Na(Da,function(){var Ra;Ba.servicedata=Fb(Ma);Ra=bc(JSON.stringify(Ba),Mb);na.sign(Ra,{result:function(Ta){Na(Da,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:za,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Ta){Na(Da,function(){Ta instanceof eb && (Ta.setEntity(ba),Ta.setUser(ma));throw Ta;});}});},oa);},error:function(Ma){Na(Da,function(){Ma instanceof eb && (Ma.setEntity(ba),Ma.setUser(ma));throw Ma;});}});else {Ba.servicedata=Fb(la);Sa=bc(JSON.stringify(Ba),Mb);na.sign(Sa,{result:function(Ma){Na(Da,function(){Object.defineProperties(this,{ctx:{value:Z,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:za,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Ma){Na(Da,function(){Ma instanceof eb && (Ma.setEntity(ba),Ma.setUser(ma));throw Ma;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(Z){return Z?Z instanceof ec?Z.serialNumber == this.mtSerialNumber:Z instanceof Nc?Z.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var Z;Z={};Z.tokendata=Fb(this.tokendata);Z.signature=Fb(this.signature);return Z;},equals:function(Z){return this === Z?!0:Z instanceof zc?this.name == Z.name && this.mtSerialNumber == Z.mtSerialNumber && this.uitSerialNumber == Z.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});uc=function(Z,aa,ea,ba,ma,za,ua,na,ta){new zc(Z,aa,ea,ba,ma,za,ua,na,null,ta);};rd=function(Z,aa,ea,ba,ma,za){Na(za,function(){var ua,na,ta,Da,oa,da,ia,la,Ba,Sa,Ma,Ra,Ta;!ma || ma instanceof Oc || (ma=ja(aa,ma));ua=aa.tokendata;na=aa.signature;if("string" !== typeof ua || "string" !== typeof na)throw new Db(Y.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(aa)).setEntity(ea).setEntity(ba);try{ta=Gb(ua);}catch(sa){throw new eb(Y.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(aa),sa).setEntity(ea).setEntity(ba);}if(!ta || 0 == ta.length)throw new Db(Y.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(aa)).setEntity(ea).setEntity(ba);try{Da=Gb(na);}catch(sa){throw new eb(Y.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(aa),sa).setEntity(ea).setEntity(ba);}oa=ac(ta,Mb);try{da=JSON.parse(oa);ia=da.name;la=da.mtserialnumber?parseInt(da.mtserialnumber):-1;Ba=da.uitserialnumber?parseInt(da.uitserialnumber):-1;Sa=da.encrypted;Ma=da.compressionalgo;Ra=da.servicedata;}catch(sa){if(sa instanceof SyntaxError)throw new Db(Y.JSON_PARSE_ERROR,"servicetokendata " + oa,sa).setEntity(ea).setEntity(ba);throw sa;}if(!ia || "number" !== typeof la || la != la || "number" !== typeof Ba || Ba != Ba || "boolean" !== typeof Sa || Ma && "string" !== typeof Ma || "string" !== typeof Ra)throw new Db(Y.JSON_PARSE_ERROR,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(da.mtserialnumber && 0 > la || la > Kb)throw new eb(Y.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(da.uitserialnumber && 0 > Ba || Ba > Kb)throw new eb(Y.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(-1 != la && (!ea || la != ea.serialNumber))throw new eb(Y.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + la + "; mt " + ea).setEntity(ea).setEntity(ba);if(-1 != Ba && (!ba || Ba != ba.serialNumber))throw new eb(Y.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + Ba + "; uit " + ba).setEntity(ea).setEntity(ba);Sa=!0 === Sa;if(Ma){if(!Ec[Ma])throw new eb(Y.UNIDENTIFIED_COMPRESSION,Ma);Ta=Ma;}else Ta=null;ma?ma.verify(ta,Da,{result:function(sa){Na(za,function(){var Ca,Ha;if(sa){try{Ca=Gb(Ra);}catch(Ka){throw new eb(Y.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa,Ka).setEntity(ea).setEntity(ba);}if(!Ca || 0 != Ra.length && 0 == Ca.length)throw new eb(Y.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(Sa && 0 < Ca.length)ma.decrypt(Ca,{result:function(Ka){Na(za,function(){var Fa,Ua;Fa=Ta?sd(Ta,Ka):Ka;Ua=new ca(ta,Da,sa);new zc(Z,ia,Fa,-1 != la?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,Ua,za);});},error:function(Ka){Na(za,function(){Ka instanceof eb && (Ka.setEntity(ea),Ka.setUser(ba));throw Ka;});}});else {Ca=Ta?sd(Ta,Ca):Ca;Ha=new ca(ta,Da,sa);new zc(Z,ia,Ca,-1 != la?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,Ha,za);}}else (Ca="" == Ra?new Uint8Array(0):null,Ha=new ca(ta,Da,sa),new zc(Z,ia,Ca,-1 != la?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,Ha,za));});},error:function(sa){Na(za,function(){sa instanceof eb && (sa.setEntity(ea),sa.setUser(ba));throw sa;});}}):(ua="" == Ra?new Uint8Array(0):null,na=new ca(ta,Da,!1),new zc(Z,ia,ua,-1 != la?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,na,za));});};})();Ac={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Ac);(function(){Uc=Cb.Class.create({init:function(ja){Object.defineProperties(this,{scheme:{value:ja,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ja){return this === ja?!0:ja instanceof Uc?this.scheme == ja.scheme:!1;},toJSON:function(){var ja;ja={};ja.scheme=this.scheme;ja.authdata=this.getAuthData();return ja;}});Ke=function(ja,ca,Z,aa){Na(aa,function(){var ea,ba,ma;ea=Z.scheme;ba=Z.authdata;if(!ea || !ba)throw new Db(Y.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(Z));if(!Ac[ea])throw new wc(Y.UNIDENTIFIED_USERAUTH_SCHEME,ea);ma=ja.getUserAuthenticationFactory(ea);if(!ma)throw new wc(Y.USERAUTH_FACTORY_NOT_FOUND,ea);ma.createData(ja,ca,ba,aa);});};})();We=Cb.Class.create({init:function(ja){Object.defineProperties(this,{scheme:{value:ja,writable:!1,configurable:!1}});},createData:function(ja,ca,Z,aa){},authenticate:function(ja,ca,Z,aa){}});(function(){bd=Uc.extend({init:function aa(ca,Z){aa.base.call(this,Ac.NETFLIXID);Object.defineProperties(this,{netflixId:{value:ca,writable:!1,configurable:!1},secureNetflixId:{value:Z,writable:!1,configurable:!1}});},getAuthData:function(){var ca;ca={};ca.netflixid=this.netflixId;this.secureNetflixId && (ca.securenetflixid=this.secureNetflixId);return ca;},equals:function aa(Z){return this === Z?!0:Z instanceof bd?aa.base.call(this,Z) && this.netflixId == Z.netflixId && this.secureNetflixId == Z.secureNetflixId:!1;}});Xe=function(Z){var aa,ea;aa=Z.netflixid;ea=Z.securenetflixid;if(!aa)throw new Db(Y.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(Z));return new bd(aa,ea);};})();xf=We.extend({init:function ca(){ca.base.call(this,Ac.NETFLIXID);},createData:function(ca,Z,aa,ea){Na(ea,function(){return Xe(aa);});},authenticate:function(ca,Z,aa,ea){if(!(aa instanceof bd))throw new vb("Incorrect authentication data type " + aa + ".");ca=aa.secureNetflixId;if(!aa.netflixId || !ca)throw new wc(Y.NETFLIXID_COOKIES_BLANK).setUser(aa);throw new wc(Y.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(aa);}});(function(){cd=Uc.extend({init:function ea(Z,aa){ea.base.call(this,Ac.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:Z,writable:!1,configurable:!1},password:{value:aa,writable:!1,configurable:!1}});},getAuthData:function(){var Z;Z={};Z.email=this.email;Z.password=this.password;return Z;},equals:function ea(aa){return this === aa?!0:aa instanceof cd?ea.base.call(this,this,aa) && this.email == aa.email && this.password == aa.password:!1;}});Ye=function(aa){var ea,ba;ea=aa.email;ba=aa.password;if(!ea || !ba)throw new Db(Y.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(aa));return new cd(ea,ba);};})();yf=We.extend({init:function Z(){Z.base.call(this,Ac.EMAIL_PASSWORD);},createData:function(Z,aa,ea,ba){Na(ba,function(){return Ye(ea);});},authenticate:function(Z,aa,ea,ba){if(!(ea instanceof cd))throw new vb("Incorrect authentication data type " + ea + ".");Z=ea.password;if(!ea.email || !Z)throw new wc(Y.EMAILPASSWORD_BLANK).setUser(ea);throw new wc(Y.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ea);}});Object.freeze({ENTITY_REAUTH:Ia.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ia.ENTITYDATA_REAUTH});zf=Cb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(Z,aa){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(Z){},getUserAuthenticationFactory:function(Z){},getTokenFactory:function(){},getKeyExchangeFactory:function(Z){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ze=Cb.Class.create({setCryptoContext:function(Z,aa){},getMasterToken:function(){},getNonReplayableId:function(Z){},getCryptoContext:function(Z){},removeCryptoContext:function(Z){},clearCryptoContexts:function(){},addUserIdToken:function(Z,aa){},getUserIdToken:function(Z){},removeUserIdToken:function(Z){},clearUserIdTokens:function(){},addServiceTokens:function(Z){},getServiceTokens:function(Z,aa){},removeServiceTokens:function(Z,aa,ea){},clearServiceTokens:function(){}});(function(){var Z;Z=Ec;Rd=function(aa,ea){var ba;ba={};switch(aa){case Z.LZW:return ee(ea,ba);case Z.GZIP:return gzip$compress(ea);default:throw new eb(Y.UNSUPPORTED_COMPRESSION,aa);}};sd=function(aa,ea,ba){switch(aa){case Z.LZW:return fe(ea);case Z.GZIP:return gzip$uncompress(ea);default:throw new eb(Y.UNSUPPORTED_COMPRESSION,aa.name());}};})();Ze.extend({setCryptoContext:function(Z,aa){},getMasterToken:function(){return null;},getNonReplayableId:function(Z){return 1;},getCryptoContext:function(Z){return null;},removeCryptoContext:function(Z){},clearCryptoContexts:function(){},addUserIdToken:function(Z,aa){},getUserIdToken:function(Z){return null;},removeUserIdToken:function(Z){},clearUserIdTokens:function(){},addServiceTokens:function(Z){},getServiceTokens:function(Z,aa){if(aa){if(!Z)throw new eb(Y.USERIDTOKEN_MASTERTOKEN_NULL);if(!aa.isBoundTo(Z))throw new eb(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.mtSerialNumber + "; mt " + Z.serialNumber);}return [];},removeServiceTokens:function(Z,aa,ea){if(ea && aa && !ea.isBoundTo(aa))throw new eb(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.masterTokenSerialNumber + "; mt " + aa.serialNumber);},clearServiceTokens:function(){}});(function(){$e=Ze.extend({init:function aa(){aa.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(aa,ea){var ba;if(ea){ba=aa.uniqueKey();this.masterTokens[ba]=aa;this.cryptoContexts[ba]=ea;}else this.removeCryptoContext(aa);},getMasterToken:function(){var aa,ea,ba;aa=null;for(ea in this.masterTokens){ba=this.masterTokens[ea];if(!aa || ba.isNewerThan(aa))aa=ba;}return aa;},getNonReplayableId:function(aa){var ea;aa=aa.serialNumber;ea=this.nonReplayableIds[aa] !== Bb?this.nonReplayableIds[aa]:0;if(0 > ea || ea > Kb)throw new vb("Non-replayable ID " + ea + " is outside the valid range.");ea=ea == Kb?0:ea + 1;return this.nonReplayableIds[aa]=ea;},getCryptoContext:function(aa){return this.cryptoContexts[aa.uniqueKey()];},removeCryptoContext:function(aa){var ea,ba,ma,za;ea=aa.uniqueKey();if(this.masterTokens[ea]){ba=aa.serialNumber;for(ma in this.masterTokens){za=this.masterTokens[ma];if(!za.equals(aa) && za.serialNumber == ba){delete this.masterTokens[ea];delete this.cryptoContexts[ea];return;}}Object.keys(this.userIdTokens).forEach(function(ua){ua=this.userIdTokens[ua];ua.isBoundTo(aa) && this.removeUserIdToken(ua);},this);try{this.removeServiceTokens(null,aa,null);}catch(ua){if(ua instanceof eb)throw new vb("Unexpected exception while removing master token bound service tokens.",ua);throw ua;}delete this.nonReplayableIds[ba];delete this.masterTokens[ea];delete this.cryptoContexts[ea];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(aa){for(var ea in aa){delete aa[ea];}},this);},addUserIdToken:function(aa,ea){var ba,ma;ba=!1;for(ma in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ma])){ba=!0;break;}}if(!ba)throw new eb(Y.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ea.mtSerialNumber);this.userIdTokens[aa]=ea;},getUserIdToken:function(aa){return this.userIdTokens[aa];},removeUserIdToken:function(aa){var ea,ba,ma;ea=null;for(ba in this.masterTokens){ma=this.masterTokens[ba];if(aa.isBoundTo(ma)){ea=ma;break;}}Object.keys(this.userIdTokens).forEach(function(za){if(this.userIdTokens[za].equals(aa)){try{this.removeServiceTokens(null,ea,aa);}catch(ua){if(ua instanceof eb)throw new vb("Unexpected exception while removing user ID token bound service tokens.",ua);throw ua;}delete this.userIdTokens[za];}},this);},clearUserIdTokens:function(){for(var aa in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[aa]);}},addServiceTokens:function(aa){aa.forEach(function(ea){var ba,ma;if(ea.isMasterTokenBound()){ba=!1;for(ma in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ma])){ba=!0;break;}}if(!ba)throw new eb(Y.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ea.mtSerialNumber);}if(ea.isUserIdTokenBound()){ba=!1;for(var za in this.userIdTokens){if(ea.isBoundTo(this.userIdTokens[za])){ba=!0;break;}}if(!ba)throw new eb(Y.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ea.uitSerialNumber);}},this);aa.forEach(function(ea){var ba;if(ea.isUnbound())this.unboundServiceTokens[ea.uniqueKey()]=ea;else {if(ea.isMasterTokenBound()){ba=this.mtServiceTokens[ea.mtSerialNumber];ba || (ba={});ba[ea.uniqueKey()]=ea;this.mtServiceTokens[ea.mtSerialNumber]=ba;}ea.isUserIdTokenBound() && ((ba=this.uitServiceTokens[ea.uitSerialNumber]) || (ba={}),ba[ea.uniqueKey()]=ea,this.uitServiceTokens[ea.uitSerialNumber]=ba);}},this);},getServiceTokens:function(aa,ea){var ba,ma,za;if(ea){if(!aa)throw new eb(Y.USERIDTOKEN_MASTERTOKEN_NULL);if(!ea.isBoundTo(aa))throw new eb(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.mtSerialNumber + "; mt " + aa.serialNumber);}ba={};for(ma in this.unboundServiceTokens){za=this.unboundServiceTokens[ma];ba[za.uniqueKey()]=za;}if(aa && (ma=this.mtServiceTokens[aa.serialNumber]))for(var ua in ma){za=ma[ua];za.isUserIdTokenBound() || (ba[ua]=za);}if(ea && (ea=this.uitServiceTokens[ea.serialNumber]))for(var na in ea){ua=ea[na];ua.isBoundTo(aa) && (ba[na]=ua);}aa=[];for(var ta in ba){aa.push(ba[ta]);}return aa;},removeServiceTokens:function(aa,ea,ba){var ma,za,ua;if(ba && ea && !ba.isBoundTo(ea))throw new eb(Y.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + ea.serialNumber);!aa || ea || ba || Object.keys(this.unboundServiceTokens).forEach(function(na){this.unboundServiceTokens[na].name == aa && delete this.unboundServiceTokens[na];},this);if(ea && !ba && (ma=this.mtServiceTokens[ea.serialNumber])){ua=Object.keys(ma);ua.forEach(function(na){var ta;ta=ma[na];aa && ta.name != aa || delete ma[na];},this);this.mtServiceTokens[ea.serialNumber]=ma;}ba && (za=this.uitServiceTokens[ba.serialNumber]) && (ea=Object.keys(za),ea.forEach(function(na){var ta;ta=za[na];aa && ta.name != aa || delete za[na];},this),this.uitServiceTokens[ba.serialNumber]=za);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(aa){for(var ea in aa){delete aa[ea];}},this);}});})();uf.extend({init:function aa(){aa.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(aa,ea){ea && aa && aa.length && (aa=Fb(aa),this._contextMap[aa]=ea);},getCryptoContext:function(aa){return aa && aa.length?(aa=Fb(aa),this._contextMap[aa] || null):null;},removeCryptoContext:function(aa){aa && aa.length && (aa=Fb(aa),delete this._contextMap[aa]);}});mf.extend({init:function ua(ea,ba,ma,za){ua.base.call(this,ea);Object.defineProperties(this,{_kde:{value:ba,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ma,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:za,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ea,ba){if(!(ba instanceof sc))throw new vb("Incorrect authentication data type " + JSON.stringify(ba) + ".");if(ba.identity != this.localIdentity)throw new mc(Y.ENTITY_NOT_FOUND,"mgk " + ba.identity);return new md(ea,this.localIdentity,this._kde,this._kdh,this._kdw);}});nf.extend({init:function na(ba,ma,za,ua){na.base.call(this,ba);Object.defineProperties(this,{_kpe:{value:ma,writable:!1,enumerable:!1,configurable:!1},_kph:{value:za,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,ma){if(!(ma instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.identity != this.localIdentity)throw new mc(Y.ENTITY_NOT_FOUND,"psk " + ma.identity);return new md(ba,this.localIdentity,this._kpe,this._kph,this._kpw);}});Bf=$e.extend({init:function oa(ma,za,ua,na,ta,Da){oa.base.call(this);this._log=ma;this._esn=za;this._keyRequestData=ua;this._createKeyRequestData=na;this._systemKeyName=ta;this._systemKeyWrapFormat=Da;},setCryptoContext:function ta(za,ua,na){var Da;Da=this;Da._log.trace("Adding MasterToken",{SequenceNumber:za.sequenceNumber,SerialNumber:za.serialNumber,Expiration:za.expiration.getTime()});ta.base.call(this,za,ua);!na && (za=Da._createKeyRequestData) && (Da._log.trace("Generating new keyx request data"),za().then(function(oa){Da._keyRequestData=oa;},function(oa){Da._log.error("Unable to generate new keyx request data","" + oa);}));},addUserIdToken:function ta(ua,na){this._log.trace("Adding UserIdToken",{UserId:ua,SerialNumber:na.serialNumber,MTSerialNumber:na.mtSerialNumber,Expiration:na.expiration.getTime()});ta.base.call(this,ua,na);},addServiceTokens:function ta(na){ta.base.call(this,na.filter(function(Da){return !Af[Da.name];}));},getUserIdTokenKeys:function(){var na,ta;na=[];for(ta in this.userIdTokens){na.push(ta);}return na;},rekeyUserIdToken:function(na,ta){this.userIdTokens[na] && (this.userIdTokens[ta]=this.userIdTokens[na],delete this.userIdTokens[na]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(na){var ta;ta=this;Na(na,function(){var Da;Da=ta.getMasterToken();Da?ta.getKeysForStore(Da,{result:function(oa){Na(na,function(){var da,ia,la;da=ta.userIdTokens;ia=Object.keys(da).map(function(Ba){var Sa;Sa=da[Ba];return {userId:Ba,userIdTokenJSON:da[Ba].toJSON(),serviceTokenJSONList:ta.getServiceTokens(Da,Sa).map(ff)};});oa.esn=ta._esn;oa.masterTokenJSON=Da.toJSON();oa.userList=ia;la=ta._keyRequestData.storeData;la && Object.keys(la).forEach(function(Ba){oa[Ba]=la[Ba];});return oa;});},timeout:na.timeout,error:na.error}):na.result(null);});},getKeysForStore:function(na,ta){var Da;Da=this;Na(ta,function(){var oa;oa=Da.getCryptoContext(na);oa={encryptionKey:oa.encryptionKey,hmacKey:oa.hmacKey};if(oa.encryptionKey && oa.hmacKey){if(Da._systemKeyWrapFormat)Da.wrapKeysWithSystemKey(oa,ta);else return oa;}else throw new eb(Y.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(na,ta){var Da;Da=this;Zd(this._systemKeyName,{result:function(oa){Na(ta,function(){var da,ia,la,Ba;da=na.encryptionKey;ia=na.hmacKey;la=da[Rc];Ba=ia[Rc];if(la && Ba)return {wrappedEncryptionKey:la,wrappedHmacKey:Ba};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(Da._systemKeyWrapFormat,da,oa,oa.algorithm),Jb.wrapKey(Da._systemKeyWrapFormat,ia,oa,oa.algorithm)]);}).then(function(Sa){la=Fb(Sa[0]);da[Rc]=la;Ba=Fb(Sa[1]);ia[Rc]=Ba;ta.result({wrappedEncryptionKey:la,wrappedHmacKey:Ba});}).catch(function(Sa){ta.error(new eb(Y.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Sa));});});},timeout:ta.timeout,error:ta.error});},unwrapKeysWithSystemKey:function(na,ta){var Da;Da=this;Zd(this._systemKeyName,{result:function(oa){Na(ta,function(){var da,ia;da=Gb(na.wrappedEncryptionKey);ia=Gb(na.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(Da._systemKeyWrapFormat,da,oa,oa.algorithm,jc,!1,xc),Jb.unwrapKey(Da._systemKeyWrapFormat,ia,oa,oa.algorithm,kc,!1,Gc)]);}).then(function(la){var Ba;Ba=la[0];la=la[1];Ba[Rc]=na.wrappedEncryptionKey;la[Rc]=na.wrappedHmacKey;ta.result({encryptionKey:Ba,hmacKey:la});}).catch(function(la){ta.error(new eb(Y.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",la));});});},timeout:ta.timeout,error:ta.error});},loadStoreState:function(na,ta,Da,oa){var la,Ba;function da(Sa,Ma){var Ra;try{Ra=Da.userList.slice();}catch(Ta){}Ra?(function sa(){var Ca;Ca=Ra.shift();Ca?qd(ta,Ca.userIdTokenJSON,Sa,{result:function(Ha){try{la.addUserIdToken(Ca.userId,Ha);ia(Sa,Ha,Ca.serviceTokenJSONList,{result:sa,timeout:sa,error:sa});}catch(Ka){sa();}},timeout:sa,error:sa}):Ma.result();})():Ma.result();}function ia(Sa,Ma,Ra,Ta){var sa,Ca;try{sa=Ra.slice();}catch(Ha){}if(sa){Ca=la.getCryptoContext(Sa);(function Ka(){var Fa;Fa=sa.shift();Fa?rd(ta,Fa,Sa,Ma,Ca,{result:function(Ua){la.addServiceTokens([Ua]);Ka();},timeout:function(){Ka();},error:function(){Ka();}}):Ta.result();})();}else Ta.result();}la=this;Ba=la._log;Da.esn != la._esn?(Ba.error("Esn mismatch, starting fresh"),oa.error()):(function(Sa){var Ta,sa,Ca,Ha;function Ma(){var Ka;if(!Ta && sa && Ca && Ha){Ta=!0;Ka=new hc(ta,sa,na.esn,{rawKey:Ca},{rawKey:Ha});la.setCryptoContext(sa,Ka,!0);Sa.result(sa);}}function Ra(Ka,Fa){Ba.error(Ka,Fa && "" + Fa);Ta || (Ta=!0,Sa.error());}Da.masterTokenJSON?(Zc(ta,Da.masterTokenJSON,{result:function(Ka){sa=Ka;Ma();},timeout:function(){Ra("Timeout parsing MasterToken");},error:function(Ka){Ra("Error parsing MasterToken",Ka);}}),la._systemKeyWrapFormat?la.unwrapKeysWithSystemKey(Da,{result:function(Ka){Ca=Ka.encryptionKey;Ha=Ka.hmacKey;Ma();},timeout:function(){Ra("Timeout unwrapping keys");},error:function(Ka){Ra("Error unwrapping keys",Ka);}}):Promise.resolve().then(function(){return Jb.encrypt({name:jc.name,iv:new Uint8Array(16)},Da.encryptionKey,new Uint8Array(1));}).then(function(Ka){Ca=Da.encryptionKey;}).catch(function(Ka){Ra("Error loading encryptionKey");}).then(function(){return Jb.sign(kc,Da.hmacKey,new Uint8Array(1));}).then(function(Ka){Ha=Da.hmacKey;Ma();}).catch(function(Ka){Ra("Error loading hmacKey");})):Ra("Persisted store is corrupt");})({result:function(Sa){da(Sa,oa);},timeout:oa.timeout,error:oa.error});}});Af={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Rc="$netflix$msl$wrapsys";Cf=zf.extend({init:function(na,ta,Da,oa,da,ia){var la,Ba;la=new $c([Ec.LZW]);Ba=new pf();Ba.addPublicKey(ta,Da);oa[Qb.RSA]=new of(Ba);ta={};ta[Ac.EMAIL_PASSWORD]=new yf();ta[Ac.NETFLIXID]=new xf();na={_mslCryptoContext:{value:new lf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:la,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:da,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:oa,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:ta,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ia,writable:!1,enumerable:!1,configurable:!1},_store:{value:na,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,na);},getTime:function(){return Date.now();},getRandom:function(){return new je();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(na,ta){ta.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(na){return this._entityAuthFactories[na];},getUserAuthenticationFactory:function(na){return this._userAuthFactories[na];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(na){return this._keyExchangeFactories.filter(function(ta){return ta.scheme == na;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ae=Te.extend({init:function(na,ta,Da,oa){this._log=na;this._mslContext=ta;this._mslRequest=Da;this._keyRequestData=oa;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(na,ta,Da,oa){var da;da=this._mslRequest;Na(oa,function(){return na || !da.shouldSendUserAuthData?null:da.email?new cd(da.email,da.password):da.useNetflixUserAuthData || Da && da.sendUserAuthIfRequired?new bd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(na){na.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(na,ta,Da){var oa,da,ia,la,Ba,Sa;oa=this._log;da=(this._mslRequest.serviceTokens || []).slice();ia=this._mslContext;ta=ia.getMslStore();la=na.builder.getMasterToken();Ba=this.getUserId();Sa=ta.getUserIdToken(Ba);(function Ra(){var Ta;Ta=da.shift();if(Ta)try{Ta instanceof zc?(na.addPrimaryServiceToken(Ta),Ra()):rd(ia,Ta,la,Sa,null,{result:function(sa){try{na.addPrimaryServiceToken(sa);}catch(Ca){oa.warn("Exception adding service token","" + Ca);}Ra();},timeout:function(){oa.warn("Timeout parsing service token");Ra();},error:function(sa){oa.warn("Error parsing service token","" + sa);Ra();}});}catch(sa){oa.warn("Exception processing service token","" + sa);Ra();}else Da.result(!0);})();},write:function(na,ta,Da){var oa;oa=bc(this._mslRequest.body);na.write(oa,0,oa.length,ta,{result:function(da){da != oa.length?Da.error(new Ub("Not all data was written to output.")):na.flush(ta,{result:function(){Da.result(!0);},timeout:function(){Da.timeout();},error:function(ia){Da.error(ia);}});},timeout:function(){Da.timeout();},error:function(da){Da.error(da);}});},getDebugContext:function(){this._dc || (this._dc=new Df(this._log,this._mslRequest));return this._dc;}});Df=wf.extend({init:function(na,ta){this._log=na;this._mslRequest=ta;},sentHeader:function(na){this._log.trace("Sent MSL header",$d(this._mslRequest,na),na.serviceTokens && na.serviceTokens.map(gf).join("\n"));},receivedHeader:function(na){var ta,Da;ta=$d(this._mslRequest,na);Da=na.errorCode;Da?this._log.warn("Received MSL error header",ta,{errorCode:Da,errorMessage:na.errorMessage,internalCode:na.internalCode}):this._log.trace("Received MSL header",ta);}});Ef={JWK_RSA:function(na){return jf(na,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},ye.JWK_RSA);}};mb.netflix=mb.netflix || ({});mb.netflix.msl={createMslClient:function(na,ta){var Da,oa,da,ia,la;Da=na.log;la=na.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Pb && Pb.generateKey && Pb.importKey && Pb.unwrapKey))throw new eb(Y.INTERNAL_EXCEPTION,"No WebCrypto");$b=Pb.generateKey({name:"AES-CBC",length:128},!0,xc).then?hd.V2014_02:hd.LEGACY;la("mslisik");return Jb.importKey("spki",na.serverIdentityKeyData,ke,!1,["verify"]);}).then(function(Ba){return new Promise(function(Sa,Ma){Dc(Ba,{result:Sa,error:function(){Ma(new eb(Y.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Ba){oa=Ba;if(Ba=Ef.JWK_RSA)return (la("mslcc"),Ba(na));throw new eb(Y.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(Ba){var Sa;da=new Bf(Da,na.esn,Ba.keyRequestData,Ba.createKeyRequestData,na.authenticationKeyNames.s,na.systemKeyWrapFormat);ia=new Cf(da,na.serverIdentityId,oa,Ba.entityAuthFactories,Ba.entityAuthData,Ba.keyExchangeFactories);Sa=na.storeState;if(Sa)return (la("mslss"),Da.info("Loading store state"),new Promise(function(Ma,Ra){da.loadStoreState(na,ia,Sa,{result:Ma,timeout:Ma,error:Ma});}));Da.info("No store state, starting fresh");}).then(function(){var Ba;Ba=new Ue();la("msldone");ta.result(new hf(Da,Ba,ia,da,na.ErrorSubCodes));}).catch(function(Ba){ta.error(Ba);});},IHttpLocation:sf,MslIoException:Ub};(function(){var ab,Va,jb,lb,ob,pb,qb,Ab,yb;function na(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function ta(r,b){var a,l;if(b)a:{a=Va;r=r.split(".");for(var c=0;c < r.length - 1;c++){l=r[c];if(!((l in a)))break a;a=a[l];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && ab(a,r,{configurable:!0,writable:!0,value:b});}}function Da(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function oa(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:na(r)};}function da(r){for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}return a;}function ia(r){return r instanceof Array?r:da(oa(r));}function la(r,b){var c;r.prototype=jb(b.prototype);r.prototype.constructor=r;if(Ab)Ab(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.jyc=b.prototype;}function Ba(){this.OZ=!1;this.$G=null;this.Jha=void 0;this.dG=1;this.m7a=this.vKb=0;this.nW=null;}function Sa(r){if(r.OZ)throw new TypeError("Generator is already running");r.OZ=!0;}function Ma(r,b){r.dG=2;return {value:b};}function Ra(r){this.og=new Ba();this.Pbc=r;}function Ta(r,b){var a;Sa(r.og);a=r.og.$G;if(a)return sa(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.og.return);r.og.return(b);return Ca(r);}function sa(r,b,a,c){var l,g;try{l=b.call(r.og.$G,a);if(!(l instanceof Object))throw new TypeError("Iterator result " + l + " is not an object");if(!l.done)return (r.og.OZ=!1,l);g=l.value;}catch(m){return (r.og.$G=null,r.og.p2(m),Ca(r));}r.og.$G=null;c.call(r.og,g);return Ca(r);}function Ca(r){var b;for(;r.og.dG;){try{b=r.Pbc(r.og);if(b)return (r.og.OZ=!1,{value:b.value,done:!1});}catch(a){r.og.Jha=void 0;r.og.p2(a);}}r.og.OZ=!1;if(r.og.nW){b=r.og.nW;r.og.nW=null;if(b.u2b)throw b.zP;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function Ha(r){this.next=function(b){return r.S_(b);};this.throw=function(b){return r.p2(b);};this.return=function(b){return Ta(r,b);};this[Symbol.iterator]=function(){return this;};}function Ka(r,b){b=new Ha(new Ra(b));Ab && r.prototype && Ab(b,r.prototype);return b;}function Fa(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Ua(r,b){var a,c,l;r instanceof String && (r+="");a=0;c=!1;l={next:function(){var g;if(!c && a < r.length){g=a++;return {value:b(g,r[g]),done:!1};}c=!0;return {done:!0,value:void 0};}};l[Symbol.iterator]=function(){return l;};return l;}function Ja(r,b,a){var g;r instanceof String && (r=String(r));for(var c=r.length,l=0;l < c;l++){g=r[l];if(b.call(a,g,l,r))return {exa:l,tha:g};}return {exa:-1,tha:void 0};}function Wa(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}ab="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Va=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof mb && mb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);ta("Symbol",function(r){var c;function b(l){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (l || "") + "_" + c++,l);}function a(l,g){this.crb=l;ab(this,"description",{configurable:!0,writable:!0,value:g});}if(r)return r;a.prototype.toString=function(){return this.crb;};c=0;return b;});ta("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Va[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && ab(c.prototype,r,{configurable:!0,writable:!0,value:function(){return Da(na(this));}});}return r;});jb="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};lb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,l){a=b(a,c);l && Reflect.setPrototypeOf(a,l.prototype);return a;};}return function(a,c,l){void 0 === l && (l=a);l=jb(l.prototype || Object.prototype);return Function.prototype.apply.call(a,l,c) || l;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{pb={a:!0};qb={};try{qb.__proto__=pb;ob=qb.a;break a;}catch(r){}ob=!1;}ob=ob?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}Ab=ob;Ba.prototype.S_=function(r){this.Jha=r;};Ba.prototype.p2=function(r){this.nW={zP:r,u2b:!0};this.dG=this.vKb || this.m7a;};Ba.prototype.return=function(r){this.nW={return:r};this.dG=this.m7a;};Ra.prototype.S_=function(r){Sa(this.og);if(this.og.$G)return sa(this,this.og.$G.next,r,this.og.S_);this.og.S_(r);return Ca(this);};Ra.prototype.p2=function(r){Sa(this.og);if(this.og.$G)return sa(this,this.og.$G["throw"],r,this.og.S_);this.og.p2(r);return Ca(this);};ta("Reflect",function(r){return r?r:{};});ta("Reflect.construct",function(){return lb;});ta("Reflect.setPrototypeOf",function(r){return r?r:Ab?function(b,a){try{return (Ab(b,a),!0);}catch(c){return !1;}}:null;});ta("Object.setPrototypeOf",function(r){return r || Ab;});yb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var l in c){Fa(c,l) && (r[l]=c[l]);}}return r;};ta("Object.assign",function(r){return r || yb;});ta("Promise",function(r){var l,g;function b(m){var d;this.vS=0;this.r1=void 0;this.kR=[];this.ocb=!1;d=this.esa();try{m(d.resolve,d.reject);}catch(f){d.reject(f);}}function a(){this.BE=null;}function c(m){return m instanceof b?m:new b(function(d){d(m);});}if(r)return r;a.prototype.W0a=function(m){var d;if(null == this.BE){this.BE=[];d=this;this.X0a(function(){d.DTb();});}this.BE.push(m);};l=Va.setTimeout;a.prototype.X0a=function(m){l(m,0);};a.prototype.DTb=function(){var m,f;for(;this.BE && this.BE.length;){m=this.BE;this.BE=[];for(var d=0;d < m.length;++d){f=m[d];m[d]=null;try{f();}catch(h){this.$Hb(h);}}}this.BE=null;};a.prototype.$Hb=function(m){this.X0a(function(){throw m;});};b.prototype.esa=function(){var d,f;function m(h){return function(k){f || (f=!0,h.call(d,k));};}d=this;f=!1;return {resolve:m(this.oec),reject:m(this.iDa)};};b.prototype.oec=function(m){var d;if(m === this)this.iDa(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof b)this.Agc(m);else {a:switch(typeof m){case "object":d=null != m;break a;case "function":d=!0;break a;default:d=!1;}d?this.nec(m):this.h8a(m);}};b.prototype.nec=function(m){var d;d=void 0;try{d=m.then;}catch(f){this.iDa(f);return;}"function" == typeof d?this.Bgc(d,m):this.h8a(m);};b.prototype.iDa=function(m){this.pmb(2,m);};b.prototype.h8a=function(m){this.pmb(1,m);};b.prototype.pmb=function(m,d){if(0 != this.vS)throw Error("Cannot settle(" + m + ", " + d + "): Promise already settled in state" + this.vS);this.vS=m;this.r1=d;2 === this.vS && this.afc();this.ETb();};b.prototype.afc=function(){var m;m=this;l(function(){var d;if(m.$7b()){d=Va.console;"undefined" !== typeof d && d.error(m.r1);}},1);};b.prototype.$7b=function(){var m,d,f;if(this.ocb)return !1;m=Va.CustomEvent;d=Va.Event;f=Va.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof m?m=new m("unhandledrejection",{cancelable:!0}):"function" === typeof d?m=new d("unhandledrejection",{cancelable:!0}):(m=Va.document.createEvent("CustomEvent"),m.initCustomEvent("unhandledrejection",!1,!0,m));m.promise=this;m.reason=this.r1;return f(m);};b.prototype.ETb=function(){if(null != this.kR){for(var m=0;m < this.kR.length;++m){g.W0a(this.kR[m]);}this.kR=null;}};g=new a();b.prototype.Agc=function(m){var d;d=this.esa();m.n9(d.resolve,d.reject);};b.prototype.Bgc=function(m,d){var f;f=this.esa();try{m.call(d,f.resolve,f.reject);}catch(h){f.reject(h);}};b.prototype.then=function(m,d){var h,k,n;function f(p,q){return "function" == typeof p?function(v){try{h(p(v));}catch(t){k(t);}}:q;}n=new b(function(p,q){h=p;k=q;});this.n9(f(m,h),f(d,k));return n;};b.prototype.catch=function(m){return this.then(void 0,m);};b.prototype.n9=function(m,d){var h;function f(){switch(h.vS){case 1:m(h.r1);break;case 2:d(h.r1);break;default:throw Error("Unexpected state: " + h.vS);}}h=this;null == this.kR?g.W0a(f):this.kR.push(f);this.ocb=!0;};b.resolve=c;b.reject=function(m){return new b(function(d,f){f(m);});};b.race=function(m){return new b(function(d,f){for(var h=oa(m),k=h.next();!k.done;k=h.next()){c(k.value).n9(d,f);}});};b.all=function(m){var d,f;d=oa(m);f=d.next();return f.done?c([]):new b(function(h,k){var p,q;function n(v){return function(t){p[v]=t;q--;0 == q && h(p);};}p=[];q=0;do {p.push(void 0);q++;c(f.value).n9(n(p.length - 1),k);f=d.next();}while(!f.done);});};return b;});ta("Array.prototype.keys",function(r){return r?r:function(){return Ua(this,function(b){return b;});};});ta("Array.prototype.find",function(r){return r?r:function(b,a){return Ja(this,b,a).tha;};});ta("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});ta("Array.prototype.includes",function(r){return r?r:function(b,a){var c,l,g;c=this;c instanceof String && (c=String(c));l=c.length;a=a || 0;for(0 > a && (a=Math.max(a + l,0));a < l;a++){g=c[a];if(g === b || Object.is(g,b))return !0;}return !1;};});ta("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Wa(this,b,"includes").indexOf(b,a || 0);};});ta("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ta("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});ta("WeakMap",function(r){var m,d;function b(f){this.tZ=(d+=Math.random() + 1).toString();if(f){f=oa(f);for(var h;!(h=f.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(f){var h;h=typeof f;return "object" === h && null !== f || "function" === h;}function l(f){var h;if(!Fa(f,m)){h=new a();ab(f,m,{value:h});}}function g(f){var h;h=Object[f];h && (Object[f]=function(k){if(k instanceof a)return k;Object.isExtensible(k) && l(k);return h(k);});}if((function(){var f,h,k;if(!r || !Object.seal)return !1;try{f=Object.seal({});h=Object.seal({});k=new r([[f,2],[h,3]]);if(2 != k.get(f) || 3 != k.get(h))return !1;k.delete(f);k.set(h,4);return !k.has(f) && 4 == k.get(h);}catch(n){return !1;}})())return r;m="$jscomp_hidden_" + Math.random();g("freeze");g("preventExtensions");g("seal");d=0;b.prototype.set=function(f,h){if(!c(f))throw Error("Invalid WeakMap key");l(f);if(!Fa(f,m))throw Error("WeakMap key fail: " + f);f[m][this.tZ]=h;return this;};b.prototype.get=function(f){return c(f) && Fa(f,m)?f[m][this.tZ]:void 0;};b.prototype.has=function(f){return c(f) && Fa(f,m) && Fa(f[m],this.tZ);};b.prototype.delete=function(f){return c(f) && Fa(f,m) && Fa(f[m],this.tZ)?delete f[m][this.tZ]:!1;};return b;});ta("Map",function(r){var g,m;function b(){var d;d={};return d.ko=d.next=d.head=d;}function a(d,f){var h;h=d.SB;return Da(function(){if(h){for(;h.head != d.SB;){h=h.ko;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:f(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,f){var h,k,n;h=f && typeof f;"object" == h || "function" == h?g.has(f)?h=g.get(f):(h="" + ++m,g.set(f,h)):h="p_" + f;k=d.xB[h];if(k && Fa(d.xB,h))for(d=0;d < k.length;d++){n=k[d];if(f !== f && n.key !== n.key || f === n.key)return {id:h,list:k,index:d,entry:n};}return {id:h,list:k,index:-1,entry:void 0};}function l(d){this.xB={};this.SB=b();this.size=0;if(d){d=oa(d);for(var f;!(f=d.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var d,f,h,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});f=new r(oa([[d,"s"]]));if("s" != f.get(d) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;h=f.entries();k=h.next();if(k.done || k.value[0] != d || "s" != k.value[1])return !1;k=h.next();return k.done || 4 != k.value[0].x || "t" != k.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return r;g=new WeakMap();l.prototype.set=function(d,f){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.xB[h.id]=[]);h.entry?h.entry.value=f:(h.entry={next:this.SB,ko:this.SB.ko,head:this.SB,key:d,value:f},h.list.push(h.entry),this.SB.ko.next=h.entry,this.SB.ko=h.entry,this.size++);return this;};l.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.xB[d.id],d.entry.ko.next=d.entry.next,d.entry.next.ko=d.entry.ko,d.entry.head=null,this.size--,!0):!1;};l.prototype.clear=function(){this.xB={};this.SB=this.SB.ko=b();this.size=0;};l.prototype.has=function(d){return !!c(this,d).entry;};l.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};l.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};l.prototype.keys=function(){return a(this,function(d){return d.key;});};l.prototype.values=function(){return a(this,function(d){return d.value;});};l.prototype.forEach=function(d,f){for(var h=this.entries(),k;!(k=h.next()).done;){k=k.value;d.call(f,k[1],k[0],this);}};l.prototype[Symbol.iterator]=l.prototype.entries;m=0;return l;});ta("Set",function(r){function b(a){this.Ly=new Map();if(a){a=oa(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.Ly.size;}if((function(){var a,c,l,g;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(oa([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;l=c.entries();g=l.next();if(g.done || g.value[0] != a || g.value[1] != a)return !1;g=l.next();return g.done || g.value[0] == a || 4 != g.value[0].x || g.value[1] != g.value[0]?!1:l.next().done;}catch(m){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.Ly.set(a,a);this.size=this.Ly.size;return this;};b.prototype.delete=function(a){a=this.Ly.delete(a);this.size=this.Ly.size;return a;};b.prototype.clear=function(){this.Ly.clear();this.size=0;};b.prototype.has=function(a){return this.Ly.has(a);};b.prototype.entries=function(){return this.Ly.entries();};b.prototype.values=function(){return this.Ly.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var l;l=this;this.Ly.forEach(function(g){return a.call(c,g,g,l);});};return b;});ta("Array.prototype.entries",function(r){return r?r:function(){return Ua(this,function(b,a){return [b,a];});};});ta("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Fa(b,c) && a.push([c,b[c]]);}return a;};});ta("Object.getOwnPropertySymbols",function(r){return r?r:function(){return [];};});ta("Reflect.apply",function(r){var b;if(r)return r;b=Function.prototype.apply;return function(a,c,l){return b.call(a,c,l);};});ta("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Wa(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var l=b.length;0 < l && 0 < a;){if(c[--a] != b[--l])return !1;}return 0 >= l;};});ta("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Wa(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});ta("Array.prototype.values",function(r){return r?r:function(){return Ua(this,function(b,a){return a;});};});ta("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ta("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Ja(this,b,a).exa;};});ta("String.fromCodePoint",function(r){return r?r:function(b){var l;for(var a="",c=0;c < arguments.length;c++){l=Number(arguments[c]);if(0 > l || 1114111 < l || l !== Math.floor(l))throw new RangeError("invalid_code_point " + l);65535 >= l?a+=String.fromCharCode(l):(l-=65536,a+=String.fromCharCode(l >>> 10 & 1023 | 55296),a+=String.fromCharCode(l & 1023 | 56320));}return a;};});ta("Array.from",function(r){return r?r:function(b,a,c){var l,g;a=null != a?a:function(d){return d;};l=[];g="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof g){b=g.call(b);for(var m=0;!(g=b.next()).done;){l.push(a.call(c,g.value,m++));}}else for((g=b.length,m=0);m < g;m++){l.push(a.call(c,b[m],m));}return l;};});ta("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Fa(b,c) && a.push(b[c]);}return a;};});ta("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,l,g;c=Wa(this,b,"startsWith");b+="";l=c.length;g=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < g && a < l;){if(c[a++] != b[m++])return !1;}return m >= g;};});ta("Promise.prototype.finally",function(r){return r?r:function(b){return this.then(function(a){return Promise.resolve(b()).then(function(){return a;});},function(a){return Promise.resolve(b()).then(function(){throw a;});});};});ta("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});ta("Number.parseInt",function(r){return r || parseInt;});(function(r){var a;function b(c){var l;if(a[c])return a[c].exports;l=a[c]={exa:c,F3b:!1,exports:{}};r[c].call(l.exports,l,l.exports,b);l.F3b=!0;return l.exports;}a={};b.Xvc=r;b.c=a;b.d=function(c,l,g){b.j8b(c,l) || Object.defineProperty(c,l,{enumerable:!0,get:g});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,l){var g;l & 1 && (c=b(c));if(l & 8 || l & 4 && "object" === typeof c && c && c.__esModule)return c;g=Object.create(null);b.r(g);Object.defineProperty(g,"default",{enumerable:!0,value:c});if(l & 2 && "string" != typeof c)for(var m in c){b.d(g,m,(function(d){return c[d];}).bind(null,m));}return g;};b.n=function(c){var l;l=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(l,"a",l);return l;};b.j8b=function(c,l){return Object.prototype.hasOwnProperty.call(c,l);};b.p="";return b(b.Iec=605);})([function(r,b,a){var L,O;function c(){c=Object.assign || (function(K){for(var I,M=1,H=arguments.length;M < H;M++){I=arguments[M];for(var J in I){Object.prototype.hasOwnProperty.call(I,J) && (K[J]=I[J]);}}return K;});return c.apply(this,arguments);}function l(K,I){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(M,H){M.__proto__=H;}) || (function(M,H){for(var J in H){Object.prototype.hasOwnProperty.call(H,J) && (M[J]=H[J]);}});return l(K,I);}function g(K,I){function M(){this.constructor=K;}if("function" !== typeof I && null !== I)throw new TypeError("Class extends value " + String(I) + " is not a constructor or null");l(K,I);K.prototype=null === I?Object.create(I):(M.prototype=I.prototype,new M());}function m(K,I){var M,H,J;M={};for(H in K){Object.prototype.hasOwnProperty.call(K,H) && 0 > I.indexOf(H) && (M[H]=K[H]);}if(null != K && "function" === typeof Object.getOwnPropertySymbols){J=0;for(H=Object.getOwnPropertySymbols(K);J < H.length;J++){0 > I.indexOf(H[J]) && Object.prototype.propertyIsEnumerable.call(K,H[J]) && (M[H[J]]=K[H[J]]);}}return M;}function d(K,I,M,H){var J,N,P;J=arguments.length;N=3 > J?I:null === H?H=Object.getOwnPropertyDescriptor(I,M):H;if("object" === typeof Reflect && "function" === typeof Reflect.RE)N=Reflect.RE(K,I,M,H);else for(var W=K.length - 1;0 <= W;W--){if(P=K[W])N=(3 > J?P(N):3 < J?P(I,M,N):P(I,M)) || N;}return (3 < J && N && Object.defineProperty(I,M,N),N);}function f(K,I){return function(M,H){I(M,H,K);};}function h(K,I){if("object" === typeof Reflect && "function" === typeof Reflect.gd)return Reflect.gd(K,I);}function k(K,I,M,H){function J(N){return N instanceof M?N:new M(function(P){P(N);});}return new (M || (M=Promise))(function(N,P){function W(U){try{S(H.next(U));}catch(fa){P(fa);}}function V(U){try{S(H["throw"](U));}catch(fa){P(fa);}}function S(U){U.done?N(U.value):J(U.value).then(W,V);}S((H=H.apply(K,I || [])).next());});}function n(K,I){var J,N,P,W,V;function M(S){return function(U){return H([S,U]);};}function H(S){if(N)throw new TypeError("Generator is already executing.");for(;(V && (V=0,S[0] && (J=0)),J);){try{if((N=1,P && (W=S[0] & 2?P["return"]:S[0]?P["throw"] || ((W=P["return"]) && W.call(P),0):P.next) && !(W=W.call(P,S[1])).done))return W;if((P=0,W))S=[S[0] & 2,W.value];switch(S[0]){case 0:case 1:W=S;break;case 4:return (J.label++,{value:S[1],done:!1});case 5:J.label++;P=S[1];S=[0];continue;case 7:S=J.TK.pop();J.$q.pop();continue;default:if(!(W=J.$q,W=0 < W.length && W[W.length - 1]) && (6 === S[0] || 2 === S[0])){J=0;continue;}if(3 === S[0] && (!W || S[1] > W[0] && S[1] < W[3]))J.label=S[1];else if(6 === S[0] && J.label < W[1])(J.label=W[1],W=S);else if(W && J.label < W[2])(J.label=W[2],J.TK.push(S));else {W[2] && J.TK.pop();J.$q.pop();continue;}}S=I.call(K,J);}catch(U){S=[6,U];P=0;}finally{N=W=0;}}if(S[0] & 5)throw S[1];return {value:S[0]?S[1]:void 0,done:!0};}J={label:0,ub:function(){if(W[0] & 1)throw W[1];return W[1];},$q:[],TK:[]};return (V={next:M(0),"throw":M(1),"return":M(2)},"function" === typeof Symbol && (V[Symbol.iterator]=function(){return this;}),V);}function p(K,I){for(var M in K){"default" === M || Object.prototype.hasOwnProperty.call(I,M) || L(I,K,M);}}function q(K){var I,M,H;I="function" === typeof Symbol && Symbol.iterator;M=I && K[I];H=0;if(M)return M.call(K);if(K && "number" === typeof K.length)return {next:function(){K && H >= K.length && (K=void 0);return {value:K && K[H++],done:!K};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(K,I){var M,H,J;M="function" === typeof Symbol && K[Symbol.iterator];if(!M)return K;K=M.call(K);J=[];try{for(;(void 0 === I || 0 < I--) && !(H=K.next()).done;){J.push(H.value);}}catch(P){var N;N={error:P};}finally{try{H && !H.done && (M=K["return"]) && M.call(K);}finally{if(N)throw N.error;}}return J;}function t(){for(var K=[],I=0;I < arguments.length;I++){K=K.concat(v(arguments[I]));}return K;}function w(){var H;for(var K=0,I=0,M=arguments.length;I < M;I++){K+=arguments[I].length;}K=Array(K);H=0;for(I=0;I < M;I++){for(var J=arguments[I],N=0,P=J.length;N < P;(N++,H++)){K[H]=J[N];}}return K;}function u(K,I,M){if(M || 2 === arguments.length)for(var H=0,J=I.length,N;H < J;H++){!N && (H in I) || (N || (N=Array.prototype.slice.call(I,0,H)),N[H]=I[H]);}return K.concat(N || Array.prototype.slice.call(I));}function x(K){return this instanceof x?(this.tha=K,this):new x(K);}function y(K,I,M){var V,S,U;function H(fa){V[fa] && (S[fa]=function(qa){return new Promise(function(xa,Aa){1 < U.push([fa,qa,xa,Aa]) || J(fa,qa);});});}function J(fa,qa){var xa;try{xa=V[fa](qa);xa.value instanceof x?Promise.resolve(xa.value.tha).then(N,P):W(U[0][2],xa);}catch(Aa){W(U[0][3],Aa);}}function N(fa){J("next",fa);}function P(fa){J("throw",fa);}function W(fa,qa){(fa(qa),U.shift(),U.length) && J(U[0][0],U[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");V=M.apply(K,I || []);U=[];return (S={},H("next"),H("throw"),H("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function z(K){var M,H;function I(J,N){M[J]=K[J]?function(P){return (H=!H)?{value:x(K[J](P)),done:"return" === J}:N?N(P):P;}:N;}return (M={},I("next"),I("throw",function(J){throw J;}),I("return"),M[Symbol.iterator]=function(){return this;},M);}function B(K){var H,J;function I(N){J[N]=K[N] && (function(P){return new Promise(function(W,V){P=K[N](P);M(W,V,P.done,P.value);});});}function M(N,P,W,V){Promise.resolve(V).then(function(S){N({value:S,done:W});},P);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=K[Symbol.asyncIterator];return H?H.call(K):(K="function" === typeof q?q(K):K[Symbol.iterator](),J={},I("next"),I("throw"),I("return"),J[Symbol.asyncIterator]=function(){return this;},J);}function A(K,I){Object.defineProperty?Object.defineProperty(K,"raw",{value:I}):K.raw=I;return K;}function C(K){var I;if(K && K.__esModule)return K;I={};if(null != K)for(var M in K){"default" !== M && Object.prototype.hasOwnProperty.call(K,M) && L(I,K,M);}O(I,K);return I;}function D(K){return K && K.__esModule?K:{default:K};}function E(K,I,M,H){if("a" === M && !H)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof I?K !== I || !H:!I.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === M?H:"a" === M?H.call(K):H?H.value:I.get(K);}function G(K,I,M,H,J){if("m" === H)throw new TypeError("Private method is not writable");if("a" === H && !J)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof I?K !== I || !J:!I.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === H?J.call(K,M):J?J.value=M:I.set(K,M),M);}function F(K,I){if(null === I || "object" !== typeof I && "function" !== typeof I)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof K?I === K:K.has(I);}a.r(b);a.d(b,"__extends",function(){return g;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return L;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return t;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__spreadArray",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return B;});a.d(b,"__makeTemplateObject",function(){return A;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return E;});a.d(b,"__classPrivateFieldSet",function(){return G;});a.d(b,"__classPrivateFieldIn",function(){return F;});L=Object.create?function(K,I,M,H){var J;void 0 === H && (H=M);J=Object.getOwnPropertyDescriptor(I,M);if(!J || (("get" in J)?!I.__esModule:J.writable || J.configurable))J={enumerable:!0,get:function(){return I[M];}};Object.defineProperty(K,H,J);}:function(K,I,M,H){void 0 === H && (H=M);K[H]=I[M];};O=Object.create?function(K,I){Object.defineProperty(K,"default",{enumerable:!0,value:I});}:function(K,I){K["default"]=I;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(41);b.Wpc=r;r=a(654);b.B3=r.B3;r=a(79);b.Wu=r.Wu;b.Hk=r.Hk;b.lA=r.lA;r=a(670);b.LIa=r.LIa;b.Gd=r.Gd;r=a(671);b.$=r.$;r=a(672);b.Pnb=r.Pnb;r=a(673);b.Ofb=r.Ofb;r=a(328);b.l=r.l;b.Yja=r.Yja;r=a(674);b.optional=r.optional;r=a(675);b.Jp=r.Jp;r=a(676);b.KK=r.KK;r=a(677);b.l2=r.l2;r=a(678);b.sib=r.sib;r=a(326);b.xka=r.xka;r=a(109);b.id=r.id;r=a(97);b.RE=r.RE;r=a(331);b.Pob=r.Pob;b.Qnb=r.Qnb;b.Pfb=r.Pfb;b.Xob=r.Xob;r=a(143);b.WP=r.WP;a=a(679);b.Kfb=a.Kfb;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(0);l=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);return m;})(Error);b.assert=function(g,m){var d;if(!g){d=new l(m || "Assertion failed");a(117).qn.H.error("Assertion failed",{value:g,message:m,stack:d.stack});throw d;}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={wZ:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Uz=b.aMa=b.$La=b.oja=b.ZLa=b.Y3=b.h5=b.Y4=b.YLa=b.Y=b.aa=void 0;(function(l){l[l.Ho=7001]="UNKNOWN";l[l.wWa=7002]="UNHANDLED_EXCEPTION";l[l.Dvb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";l[l.bvb=7004]="HLS_NOT_SUPPORTED";l[l.Ija=7010]="INIT_ASYNCCOMPONENT";l[l.Hvb=7011]="INIT_HTTP";l[l.Bvb=7014]="INIT_BADMOVIEID";l[l.SNa=7020]="INIT_PLAYBACK_LOCK";l[l.TNa=7022]="INIT_SESSION_LOCK";l[l.Ivb=7029]="INIT_POSTAUTHORIZE";l[l.RNa=7031]="INIT_HEADER_MEDIA";l[l.Jvb=7034]="INIT_TIMEDTEXT_TRACK";l[l.lrb=7037]="ASE_SESSION_ERROR";l[l.krb=7038]="ASE_SEEK_THREW";l[l.mrb=7039]="ASE_SKIPPED_THREW";l[l.Evb=7041]="INIT_CORE_OBJECTS1";l[l.Fvb=7042]="INIT_CORE_OBJECTS2";l[l.Gvb=7043]="INIT_CORE_OBJECTS3";l[l.LNa=7053]="INIT_COMPONENT_STORAGE";l[l.MNa=7054]="INIT_COMPONENT_STORAGELOCK";l[l.INa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";l[l.Jja=7059]="INIT_COMPONENT_DEVICE";l[l.JNa=7063]="INIT_COMPONENT_MSL";l[l.HNa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";l[l.yD=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";l[l.QNa=7083]="INIT_COMPONENT_WEBCRYPTO";l[l.GNa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";l[l.ENa=7088]="INIT_COMPONENT_BATTERY_MANAGER";l[l.DNa=7089]="INIT_COMPONENT_ASE";l[l.BM=7091]="INIT_COMPONENT_DRM_CACHE";l[l.Cvb=7092]="INIT_COMPONENT_DRM";l[l.FNa=7094]="INIT_COMPONENT_FTL";l[l.KNa=7095]="INIT_COMPONENT_PREPARE_MODEL";l[l.NNa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";l[l.ONa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";l[l.PNa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";l[l.GM=7111]="MANIFEST";l[l.kwb=7114]="MANIFEST_MISTMATCH";l[l.uPa=7117]="MANIFEST_VERIFY";l[l.Tyb=7120]="START";l[l.DM=7121]="LICENSE";l[l.Ela=7122]="RELEASE";l[l.Uyb=7123]="STOP";l[l.Sja=7125]="KEEPALIVE";l[l.Jxb=7131]="PING";l[l.Hub=7134]="ENGAGE";l[l.fwb=7137]="LOGBLOB";l[l.Xqc=7138]="PAUSE";l[l.orc=7139]="RESUME";l[l.GUa=7140]="SPLICE";l[l.Qrb=7142]="BIND";l[l.Rrb=7144]="BIND_DEVICE";l[l.Wub=7145]="GENERATE_SCREENSHOTS";l[l.vHa=7146]="AD_EVENT";l[l.Nxb=7202]="PLAY_INIT_EXCEPTION";l[l.Pka=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";l[l.Txb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";l[l.yRa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";l[l.Uxb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";l[l.Qka=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";l[l.Sxb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";l[l.CRa=7351]="PLAY_MSE_NOTSUPPORTED";l[l.xRa=7353]="PLAY_MSE_DECODER_TIMEOUT";l[l.Rka=7355]="PLAY_MSE_SOURCEADD";l[l.wRa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";l[l.zU=7357]="PLAY_MSE_GENERATEKEYREQUEST";l[l.BRa=7361]="PLAY_MSE_EVENT_ERROR";l[l.OM=7362]="PLAY_MSE_SETMEDIAKEYS";l[l.Ts=7363]="PLAY_MSE_EVENT_KEYERROR";l[l.Wxb=7364]="PLAY_MSE_EME_SESSION_CLOSE";l[l.Xxb=7365]="PLAY_MSE_GETCURRENTTIME";l[l.Yxb=7367]="PLAY_MSE_SETCURRENTTIME";l[l.Zxb=7371]="PLAY_MSE_SOURCEAPPEND";l[l.cyb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";l[l.byb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";l[l.ayb=7377]="PLAY_MSE_UNEXPECTED_REWIND";l[l.$xb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";l[l.DRa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";l[l.Oxb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";l[l.Pxb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";l[l.Qxb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";l[l.zRa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";l[l.Vxb=7395]="PLAY_MSE_EME_MISSING_PSSH";l[l.ARa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";l[l.Rxb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";l[l.u5=7399]="PLAY_MSE_SET_LICENSE_ERROR";l[l.KLa=7400]="EXTERNAL";l[l.t5=7500]="PAUSE_TIMEOUT";l[l.a5=7502]="INACTIVITY_TIMEOUT";l[l.vrb=7510]="AUTHORIZATION_EXPIRED";l[l.zub=7700]="EME_INVALID_KEYSYSTEM";l[l.wLa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";l[l.MT=7702]="EME_CREATE_MEDIAKEYS_FAILED";l[l.W3=7703]="EME_GENERATEREQUEST_FAILED";l[l.DLa=7704]="EME_UPDATE_FAILED";l[l.BLa=7705]="EME_KEYSESSION_ERROR";l[l.ALa=7706]="EME_KEYMESSAGE_EMPTY";l[l.Dub=7707]="EME_REMOVE_FAILED";l[l.Bub=7708]="EME_LOAD_FAILED";l[l.vub=7709]="EME_CREATE_SESSION_FAILED";l[l.jja=7710]="EME_LDL_RENEWAL_ERROR";l[l.yLa=7711]="EME_INVALID_INITDATA_DATA";l[l.zLa=7712]="EME_INVALID_LICENSE_DATA";l[l.Aub=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";l[l.vLa=7716]="EME_CLOSE_FAILED";l[l.kja=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";l[l.Fub=7718]="EME_SET_SERVER_CERTIFICATE";l[l.Kxb=7800]="PLAYDATA_STORE_FAILURE";l[l.sT=7900]="BRANCH_PLAY_FAILURE";l[l.tT=7901]="BRANCH_QUEUE_FAILURE";l[l.VIa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";l[l.Yrb=7903]="BRANCH_CHOICE_MAP_MISSING";l[l.uxb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.aa || (b.aa={}));(function(l){l[l.Ho=1001]="UNKNOWN";l[l.rn=1003]="EXCEPTION";l[l.Mvb=1004]="INVALID_DI";l[l.prb=1011]="ASYNCLOAD_EXCEPTION";l[l.qrb=1013]="ASYNCLOAD_TIMEOUT";l[l.ync=1015]="ASYNCLOAD_BADCONFIG";l[l.nrb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";l[l.orb=1017]="ASYNCLOAD_COMPONENT_MISSING";l[l.YT=1101]="HTTP_UNKNOWN";l[l.Fja=1102]="HTTP_XHR";l[l.VT=1103]="HTTP_PROTOCOL";l[l.UT=1104]="HTTP_OFFLINE";l[l.XT=1105]="HTTP_TIMEOUT";l[l.nH=1106]="HTTP_READTIMEOUT";l[l.xD=1107]="HTTP_ABORT";l[l.dNa=1108]="HTTP_PARSE";l[l.$Ma=1110]="HTTP_BAD_URL";l[l.WT=1111]="HTTP_PROXY";l[l.pka=1203]="MSE_AUDIO";l[l.qka=1204]="MSE_VIDEO";l[l.wwb=1250]="MSE_MEDIA_ERR_BASE";l[l.Ypc=1251]="MSE_MEDIA_ERR_ABORTED";l[l.aqc=1252]="MSE_MEDIA_ERR_NETWORK";l[l.Zpc=1253]="MSE_MEDIA_ERR_DECODE";l[l.bqc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";l[l.$pc=1255]="MSE_MEDIA_ERR_ENCRYPTED";l[l.Yu=1260]="EME_MEDIA_KEYERR_BASE";l[l.Uoc=1261]="EME_MEDIA_KEYERR_UNKNOWN";l[l.Poc=1262]="EME_MEDIA_KEYERR_CLIENT";l[l.Toc=1263]="EME_MEDIA_KEYERR_SERVICE";l[l.Soc=1264]="EME_MEDIA_KEYERR_OUTPUT";l[l.Roc=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";l[l.Qoc=1266]="EME_MEDIA_KEYERR_DOMAIN";l[l.Voc=1269]="EME_MEDIA_UNAVAILABLE_CDM";l[l.yub=1270]="EME_INTERNAL_ERROR";l[l.uub=1271]="EME_CLOSED_BY_APPLICATION";l[l.Cub=1272]="EME_RELEASE_ACKNOWLEDGED";l[l.ija=1273]="EME_HARDWARE_CONTEXT_RESET";l[l.Eub=1274]="EME_RESOURCE_EVICTED";l[l.xub=1280]="EME_ERROR_NODRMSESSSION";l[l.wub=1281]="EME_ERROR_NODRMREQUESTS";l[l.Moc=1282]="EME_ERROR_INDIV_FAILED";l[l.Noc=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";l[l.Gub=1284]="EME_TIMEOUT_MESSAGE";l[l.Woc=1285]="EME_TIMEOUT_KEYCHANGE";l[l.CLa=1286]="EME_UNDEFINED_DATA";l[l.wM=1287]="EME_INVALID_STATE";l[l.Ooc=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";l[l.xLa=1289]="EME_EMPTY_DATA";l[l.NT=1290]="EME_TIMEOUT";l[l.pqc=1303]="NCCP_METHOD_NOT_SUPPORTED";l[l.sqc=1305]="NCCP_PARSEXML";l[l.fyb=1309]="PROCESS_EXCEPTION";l[l.rqc=1311]="NCCP_NETFLIXID_MISSING";l[l.tqc=1312]="NCCP_SECURENETFLIXID_MISSING";l[l.mqc=1313]="NCCP_HMAC_MISSING";l[l.lqc=1315]="NCCP_HMAC_MISMATCH";l[l.kqc=1317]="NCCP_HMAC_FAILED";l[l.jqc=1321]="NCCP_CLIENTTIME_MISSING";l[l.iqc=1323]="NCCP_CLIENTTIME_MISMATCH";l[l.vMa=1331]="GENERIC";l[l.Owb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";l[l.Pwb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";l[l.uqc=1341]="NCCP_TRANSACTION";l[l.nqc=1343]="NCCP_INVALID_DRMTYPE";l[l.oqc=1344]="NCCP_INVALID_LICENCE_RESPONSE";l[l.qqc=1345]="NCCP_MISSING_PAYLOAD";l[l.crc=1346]="PROTOCOL_NOT_INITIALIZED";l[l.brc=1347]="PROTOCOL_MISSING_FIELD";l[l.$qc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";l[l.kA=1402]="STORAGE_NODATA";l[l.zrc=1403]="STORAGE_EXCEPTION";l[l.Hrc=1405]="STORAGE_QUOTA_NOT_GRANTED";l[l.Irc=1407]="STORAGE_QUOTA_TO_SMALL";l[l.JUa=1411]="STORAGE_LOAD_ERROR";l[l.Wyb=1412]="STORAGE_LOAD_TIMEOUT";l[l.KUa=1414]="STORAGE_SAVE_ERROR";l[l.Zyb=1415]="STORAGE_SAVE_TIMEOUT";l[l.Nla=1417]="STORAGE_DELETE_ERROR";l[l.IUa=1418]="STORAGE_DELETE_TIMEOUT";l[l.Grc=1421]="STORAGE_FS_REQUESTFILESYSTEM";l[l.Drc=1423]="STORAGE_FS_GETDIRECTORY";l[l.Frc=1425]="STORAGE_FS_READENTRIES";l[l.Arc=1427]="STORAGE_FS_FILEREAD";l[l.Crc=1429]="STORAGE_FS_FILEWRITE";l[l.Brc=1431]="STORAGE_FS_FILEREMOVE";l[l.Erc=1432]="STORAGE_FS_PARSEJSON";l[l.Yyb=1451]="STORAGE_NO_LOCALSTORAGE";l[l.Xyb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";l[l.Dqc=1501]="NTBA_UNKNOWN";l[l.Cqc=1502]="NTBA_EXCEPTION";l[l.yqc=1504]="NTBA_CRYPTO_KEY";l[l.Aqc=1506]="NTBA_CRYPTO_OPERATION";l[l.zqc=1508]="NTBA_CRYPTO_KEYEXCHANGE";l[l.Bqc=1515]="NTBA_DECRYPT_UNSUPPORTED";l[l.xKa=1553]="DEVICE_NO_ESN";l[l.Atb=1555]="DEVICE_ERROR_GETTING_ESN";l[l.xpc=1701]="FORMAT_UNKNOWN";l[l.Pub=1713]="FORMAT_XML";l[l.ypc=1715]="FORMAT_XML_CONTENT";l[l.vpc=1721]="FORMAT_BASE64";l[l.wpc=1723]="FORMAT_DFXP";l[l.nvb=1801]="INDEXDB_OPEN_EXCEPTION";l[l.BNa=1802]="INDEXDB_NOT_SUPPORTED";l[l.mvb=1803]="INDEXDB_OPEN_ERROR";l[l.CNa=1804]="INDEXDB_OPEN_NULL";l[l.lvb=1805]="INDEXDB_OPEN_BLOCKED";l[l.ovb=1807]="INDEXDB_OPEN_TIMEOUT";l[l.kvb=1808]="INDEXDB_INVALID_STORE_STATE";l[l.b5=1809]="INDEXDB_ACCESS_EXCEPTION";l[l.Gwb=1901]="MSL_UNKNOWN";l[l.zwb=1911]="MSL_INIT_NO_MSL";l[l.EPa=1913]="MSL_INIT_ERROR";l[l.Awb=1915]="MSL_INIT_NO_WEBCRYPTO";l[l.xwb=1931]="MSL_ERROR";l[l.Fwb=1933]="MSL_REQUEST_TIMEOUT";l[l.Ewb=1934]="MSL_READ_TIMEOUT";l[l.ywb=1935]="MSL_ERROR_HEADER";l[l.cqc=1936]="MSL_ERROR_ENVELOPE";l[l.dqc=1937]="MSL_ERROR_MISSING_PAYLOAD";l[l.DPa=1957]="MSL_ERROR_REAUTH";l[l.nma=2103]="WEBCRYPTO_MISSING";l[l.msc=2105]="WEBCRYPTOKEYS_MISSING";l[l.Czb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";l[l.goc=2200]="CACHEDDATA_PARSEJSON";l[l.sJa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";l[l.hoc=2202]="CACHEDDATA_UPGRADE_FAILED";l[l.sD=2203]="CACHEDDATA_INVALID_FORMAT";l[l.vnc=3E3]="ACCOUNT_CHANGE_INFLIGHT";l[l.wnc=3001]="ACCOUNT_INVALID";l[l.Eoc=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";l[l.Doc=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";l[l.Boc=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";l[l.Coc=3201]="DOWNLOADED_LICENSE_UNUSEABLE";l[l.Aoc=3202]="DOWNLOADED_LICENSE_EXCEPTION";l[l.Jrc=3300]="STORAGE_VA_LOAD_ERROR";l[l.Krc=3301]="STORAGE_VA_LOAD_TIMEOUT";l[l.Nrc=3302]="STORAGE_VA_SAVE_ERROR";l[l.Orc=3303]="STORAGE_VA_SAVE_TIMEOUT";l[l.Lrc=3304]="STORAGE_VA_REMOVE_ERROR";l[l.Mrc=3305]="STORAGE_VA_REMOVE_TIMEOUT";l[l.Mka=3077]="PBO_DEVICE_EOL_WARNING";l[l.oRa=3078]="PBO_DEVICE_EOL_FINAL";l[l.rRa=3100]="PBO_DEVICE_RESET";l[l.qRa=3101]="PBO_DEVICE_RELOAD";l[l.pRa=3102]="PBO_DEVICE_EXIT";l[l.Hxb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.kxb=5005]="PBO_ACCOUNT_ON_HOLD";l[l.txb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.sRa=5007]="PBO_INCORRECT_PIN";l[l.Exb=5008]="PBO_MOBILE_ONLY";l[l.Ixb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";l[l.lxb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";l[l.oxb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";l[l.mxb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";l[l.nxb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";l[l.pxb=5014]="PBO_ADS_VPN_USE_DETECTED";l[l.Bxb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";l[l.Axb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";l[l.yxb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";l[l.rxb=5059]="PBO_BLACKLISTED_IP";l[l.qxb=5070]="PBO_AGE_VERIFICATION_REQUIRED";l[l.sxb=5080]="PBO_CHOICE_MAP_ERROR";l[l.Fxb=5090]="PBO_RESTRICTED_TO_TESTERS";l[l.Cxb=5091]="PBO_MALFORMED_REQUEST";l[l.zxb=5092]="PBO_INVALID_SERVICE_VERSION";l[l.Dxb=5093]="PBO_MDX_INVALID_CTICKET";l[l.xxb=5094]="PBO_FREE_PREVIEW_ENDED";l[l.Gxb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";l[l.wxb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";l[l.vxb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";l[l.itb=5100]="DECODER_TIMEOUT_BUFFERING";l[l.ktb=5101]="DECODER_TIMEOUT_PRESENTING";l[l.jtb=5102]="DECODER_TIMEOUT_PLAYING";l[l.aub=5200]="DOWNLOADER_IO_ERROR";l[l.UIa=5300]="BRANCHING_SEGMENT_NOTFOUND";l[l.Urb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";l[l.Lnc=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";l[l.tia=5303]="BRANCHING_ASE_UNINITIALIZED";l[l.Hnc=5304]="BRANCHING_ASE_FAILURE";l[l.Inc=5305]="BRANCHING_MOMENT_FAILURE";l[l.Srb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";l[l.Knc=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";l[l.Vrb=5308]="BRANCHING_SEEK_THREW";l[l.Jnc=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";l[l.Trb=5310]="BRANCHING_PLAY_TIMEDOUT";l[l.Wrb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";l[l.Xrb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";l[l.$yb=5500]="STUDIO_MUXED_MANIFEST";l[l.kka=5600]="MANIFEST_HYDRATION_FAILURE";l[l.wrb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";l[l.xrb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.Y || (b.Y={}));(function(l){l[l.Wnc=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.Mnc=5005]="BR_ACCOUNT_ON_HOLD";l[l.Qnc=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.Tnc=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";l[l.Pnc=5059]="BR_BLACKLISTED_IP";l[l.Nnc=5070]="BR_AGE_VERIFICATION_REQUIRED";l[l.Unc=2204]="BR_PLAYBACK_CONTEXT_CREATION";l[l.Rnc=2205]="BR_DRM_LICENSE_AQUISITION";l[l.Vnc=2206]="BR_PLAYBACK_SERVICE_ERROR";l[l.Snc=2207]="BR_ENDPOINT_ERROR";l[l.Onc=2208]="BR_AUTHORIZATION_ERROR";})(b.YLa || (b.YLa={}));b.Y4={fsb:"400",hsc:"401",LRa:"413"};b.h5={tpc:1,$rc:2,Zoc:3,fsc:4,Opc:5,Yoc:6,hma:7,apc:8,mrc:9,wrc:10};b.Y3=function(l,g,m,d){return l == a.t5 || l == a.a5 || l == a.Pka && 432E5 <= m || l == a.kja && g === c.ija && 0 < Number(d);};b.ZLa=function(l){return 1100 <= l && 1199 >= l;};b.oja=function(l,g){return 1 <= l && 9 >= l?g + l:g;};b.$La=function(l){return (0,b.oja)(l,c.wwb);};b.aMa=function(l){return (0,b.oja)(l,c.Yu);};b.Uz=function(l){var g,m,d;g={};m=l.errorExternalCode || l.Sf;d=l.errorDetails || l.Ub;g.ErrorSubCode=l.errorSubCode || l.Ca || c.Ho;m && (g.ErrorExternalCode=m);d && (g.ErrorDetails=d);return g;};},function(r,b,a){var g;function c(){return g.QU.apply(this,arguments) || this;}function l(m){return new g.cv(m,b.va);}Object.defineProperty(b,"__esModule",{value:!0});b.Pa=b.pNa=b.zka=b.Go=b.va=b.xH=b.timestamp=b.E0b=b.zda=b.Vi=b.$b=b.wib=b.z6b=b.pzb=void 0;g=a(332);la(c,g.QU);b.pzb=c;b.z6b=function(m){return new g.cv(m,b.xH);};b.wib=function(m){return new g.cv(m * b.Go.kh,b.xH);};b.$b=l;b.Vi=function(m){return new g.cv(m,b.Go);};b.zda=function(m){return new g.cv(m,b.zka);};b.E0b=function(m){return new g.cv(m,b.pNa);};b.timestamp=function(m){return l(m);};b.xH=new c(1,"\u03bcs");b.va=new c(1E3,"ms",b.xH);b.Go=new c(1E3 * b.va.kh,"s",b.xH);b.zka=new c(60 * b.Go.kh,"min",b.xH);b.pNa=new c(60 * b.zka.kh,"hr",b.xH);b.Pa=l(0);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(847),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LT=b.jb=b.dka=b.Jk=void 0;r=b.Jk || (b.Jk={});r[r.Nub=0]="FATAL";r[r.Cg=1]="ERROR";r[r.mma=2]="WARN";r[r.Hja=3]="INFO";r[r.PVa=4]="TRACE";r[r.M=5]="DEBUG";b.dka="LogFieldBuilderFactorySymbol";b.jb="LoggerFactorySymbol";b.LT={};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.CU=b.wMa=void 0;r=a(0);r.__exportStar(a(401),b);r.__exportStar(a(104),b);r.__exportStar(a(20),b);r.__exportStar(a(934),b);r.__exportStar(a(935),b);r.__exportStar(a(936),b);r.__exportStar(a(937),b);r.__exportStar(a(938),b);r.__exportStar(a(939),b);r.__exportStar(a(940),b);r.__exportStar(a(415),b);c=r.__importDefault(a(941));b.wMa=c.default;a=r.__importDefault(a(417));b.CU=a.default;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ha=b.mTa=b.BY=b.lj=b.nk=b.log=b.vg=b.MP=b.r1a=b.st=b.ZA=b.yc=b.QIb=b.hqa=b.OIb=b.PIb=b.ik=b.VS=b.I2=b.Ai=b.Jc=b.za=void 0;c=a(219);r=a(7);l=a(26);g=a(69);m=a(82);d=a(32);f=a(15);h=a(148);k=a(27);a=a(48);b.za=c.uc.get(k.Jh);b.Jc=c.uc.get(a.ak);b.Ai=c.uc.get(g.Vs);b.I2=b.Ai.encode.bind(b.Ai);b.VS=b.Ai.decode.bind(b.Ai);b.ik=c.uc.get(m.Kz);b.PIb=b.ik.encode.bind(b.ik);b.OIb=b.ik.decode.bind(b.ik);b.hqa=b.ik.FJ.bind(b.ik);b.QIb=b.ik.xob.bind(b.ik);b.yc=c.uc.get(d.Zi);b.ZA=function(n){n=(0,f.Og)(n)?(0,b.VS)(n):n;return b.yc.encode(n);};b.st=b.yc.decode.bind(b.yc);b.r1a=function(n){return (0,b.I2)((0,b.st)(n));};b.MP=function(){return c.uc.get(l.Pz);};b.vg=c.uc.get(r.jb);b.log=b.vg.fb("General");b.nk=function(n,p){return b.vg.fb(n,void 0,p);};b.lj=function(n,p,q){return b.vg.fb(p,n,q);};b.BY=function(n,p,q,v){return b.vg.fb(n,void 0,v,p,q);};b.mTa=function(n,p,q){return c.uc.get(h.DU)(n,p,q).v2();};b.Ha=c.uc;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.M=!1;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Co={stc:"casttv",mra:"chrome",ztc:"chromecast",Sr:"edge",$5a:"edgeoss",D7a:"firefox",wvc:"ie",opera:"opera",Vkb:"safari",Unb:"tesla"};b.Pp={v8:"android",Hbb:"ios",K2a:"chromeos",vdb:"linux",Ydb:"mac",qHa:"windows"};b.X4={eMb:"computer",phone:"phone",Wic:"tablet"};b.wc="ConfigSymbol";},function(r){var b;b={Oa:function(a){return "number" === typeof a;},qk:function(a){return "object" === typeof a;},Og:function(a){return "string" === typeof a;},wa:function(a){return "undefined" === typeof a;},Cvc:function(a){return "boolean" === typeof a;},qd:function(a){return "function" === typeof a;},wb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},Z9b:function(a){var c,l;l=[];if(!b.qk(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && l.push([c,a[c]]);}return l;}};b.qg=b.forEach=function(a,c,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var g=0,m=a.length;g < m;g++){c.call(l,a[g],g,a);}else for(g in a){b.has(a,g) && c.call(l,a[g],g,a);}return a;};r.exports=b;},function(r,b,a){b=a(105);b.iQb=0;r.exports={EventEmitter:b,gf:a(916)};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aza=b.localStorage=b.t1b=b.indexedDB=b.KQa=b.Rr=b.ED=b.DD=b.URL=b.m5=b.Swb=b.TPa=b.SPa=b.g5=b.lU=b.Zz=b.bv=b.Op=b.Iwb=b.IM=b.IVa=b.EKa=b.hxb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.XA=b.Rwb=b.Xh=b.ox=b.LQa=b.px=b.l5=b.AH=void 0;r=mb;b.hf=r.navigator;b.AH=null === b.hf || void 0 === b.hf?void 0:b.hf.userAgent;b.l5=r.location;b.px=r.screen;b.LQa=r.devicePixelRatio;b.ox=r.performance;b.Xh=r.document;b.Rwb=b.Xh.documentElement;b.XA=Array.prototype;b.sort=b.XA.sort;b.map=b.XA.map;b.slice=b.XA.slice;b.every=b.XA.every;b.reduce=b.XA.reduce;b.filter=b.XA.filter;b.forEach=b.XA.forEach;b.pop=b.XA.pop;b.hxb=Object.create;b.EKa=Date.now;b.IVa=String.fromCharCode;b.IM=Math.floor;b.Iwb=Math.ceil;b.Op=Math.round;b.bv=Math.max;b.Zz=Math.min;b.lU=Math.random;b.g5=Math.abs;b.SPa=Math.pow;b.TPa=Math.sqrt;b.Swb=r.escape;b.m5=r.unescape;b.URL=r.URL || r.webkitURL;b.DD=r.MediaSource || r.WebKitMediaSource;b.ED=r.webkitCrypto || r.msCrypto || r.crypto;b.Rr=b.ED && (b.ED.webkitSubtle || b.ED.subtle);b.KQa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.t1b=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.aza=a || "noex";}},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.qd=b.Mbb=b.vQ=b.Og=b.oya=b.y2b=b.l2b=b.eya=b.LF=b.$bb=b.Oa=b.mya=b.isArray=b.zcb=b.qk=b.xd=b.is=void 0;r=a(218);b.is=r.pH;b.xd=function(c){return b.is.wh(c);};b.qk=function(c){return b.is.AW(c);};b.zcb=function(c){return b.is.Toa(c);};b.isArray=function(c){return b.is.vE(c);};b.mya=function(c){return b.is.t0a(c);};b.Oa=function(c,l,g){return b.is.Rl(c,l,g);};b.$bb=function(c,l,g){return b.is.Bpa(c,l,g);};b.LF=function(c,l,g){return b.is.BW(c,l,g);};b.eya=function(c){return b.is.lW(c);};b.l2b=function(c){return b.is.GFb(c);};b.y2b=function(c){return b.is.HFb(c);};b.oya=function(c){return b.is.u0a(c);};b.Og=function(c){return b.is.Ir(c);};b.vQ=function(c){return b.is.So(c);};b.Mbb=function(c){return b.is.c8(c);};b.qd=function(c){return b.is.e8(c);};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Hd=b.nb=b.ig=b.jc=b.n3=b.ka=b.Oja=b.GH=b.Qa=void 0;(function(c){c.Fdb="loadedtracks";c.Edb="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.rq="currenttimechanged";c.gpb="unthrottledcurrenttimechanged";c.g9="bufferedtimechanged";c.cta="durationchanged";c.iHa="videosizechanged";c.Ghb="pausedchanged";c.hCa="playingchanged";c.H6a="endedchanged";c.FO="busychanged";c.S8="audiotracklistchanged";c.Jn="audiotrackchanged";c.Uw="timedtexttracklistchanged";c.jn="timedtexttrackchanged";c.x2="trickplayframeschanged";c.Mfb="mutedchanged";c.Bqb="volumechanged";c.aFa="showsubtitle";c.kDa="removesubtitle";c.Dmc="watermark";c.iya="isReadyToTransition";c.hQ="inactivated";c.Ebb="internalPlaybackError";c.ofc="segmentmaploaded";c.pfc="segmentpresenting";c.i1a="autoplaywasallowed";c.V8="autoplaywasblocked";c.fHb="adsstatechanged";c.vK="livestatechanged";})(b.Qa || (b.Qa={}));(b.GH || (b.GH={})).w1="playgraphsegmenttransition";b.Oja=a;a.ylb="serverTimeChanged";(function(c){c.HI="aseReport";c.Hca="liveReport";c.Gca="livePipelineFailover";c.Ypa="autoplayWasAllowed";c.gj="autoplayWasBlocked";c.aB="bufferUnderrun";c.closed="closed";c.uh="closing";c.rq="currentTimeChanged";c.BB="downloadComplete";c.hQ="inactivated";c.odb="licenseAdded";c.f_="licensed";c.l_="locationSelected";c.Bza="manifestClosing";c.xK="manifestPresenting";c.eda="mediaBufferChanged";c.Lda="nextBranchingSegmentChosen";c.zw="playbackStart";c.Zm="playbackReady";c.sl="repositioned";c.xG="repositioning";c.Xkb="safePlayRequested";c.vL="segmentPresenting";c.A1="serverSwitch";c.xmb="shouldUpdateVideoDiagInfo";c.zS="subtitleError";c.aGa="throttledMediaTimeChanged";c.hpb="unthrottledMediaTimeChanged";c.GS="timedTextRebuffer";c.Uw="timedTextTrackListChanged";c.x2="trickPlayFramesChanged";c.MGa="updateNextBranchingSegmentWeights";c.dqb="userInitiatedPause";c.eqb="userInitiatedResume";c.Hob="tracksHydrated";c.vK="livestatechanged";})(b.ka || (b.ka={}));(b.n3 || (b.n3={})).sE="adBreakComplete";(function(c){c[c.LM=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.Ue=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.jc || (b.jc={}));(function(c){c[c.Ue=1]="NORMAL";c[c.ae=2]="BUFFERING";c[c.HUa=3]="STALLED";})(b.ig || (b.ig={}));(function(c){c[c.Dg=1]="WAITING";c[c.Xc=2]="PLAYING";c[c.bj=3]="PAUSED";c[c.Os=4]="ENDED";})(b.nb || (b.nb={}));(function(c){c[c.Zu=0]="INITIAL";c[c.LD=1]="SEEK";c[c.bU=2]="LIVE_EDGE";c[c.a6=3]="TRACK_CHANGED";c[c.XM=4]="SEGMENT_CHANGED";c[c.a4=5]="FORCE_REBUFFER";})(b.Hd || (b.Hd={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kU=b.f5=b.qsb=b.lsb=b.nsb=b.osb=b.gJa=b.ksb=b.msb=b.fJa=b.psb=b.xsb=b.usb=b.wsb=b.tsb=b.oub=b.nub=b.mub=b.nwb=b.pwb=b.owb=b.zPa=b.BPa=b.APa=b.oLa=b.pub=b.hja=b.V3=b.dxb=b.Pyb=b.wPa=b.esb=b.uKa=b.s5=b.NM=b.r5=b.vPa=b.Yz=b.dsb=b.TIa=b.awb=b.xzb=b.mwb=b.lwb=b.Iyb=b.Hyb=b.av=b.mh=b.gUa=b.dA=void 0;b.RIa=b.Fla=void 0;b.dA=function(){};b.gUa=function(){return !0;};b.mh={ja:!0};b.av=1E3;b.Hyb=86400;b.Iyb=604800;b.lwb=1E4;b.mwb=1E7;b.xzb=1.5;b.awb=.128;b.TIa=7.8125;b.dsb=128;b.Yz=145152E5;b.vPa=1E5;b.r5="$netflix$player$order";b.NM=-1;b.s5=1;b.uKa=["en-US"];b.esb=8;b.wPa=65535;b.Pyb=65536;b.dxb=Number.MAX_VALUE;b.V3="playready";b.hja="widevine";b.pub="fps";b.oLa="clearkey";b.APa='audio/mp4; codecs="mp4a.40.5"';b.BPa='audio/mp4; codecs="mp4a.40.42"';b.zPa='audio/mp4; codecs="mp4a.a6"';b.owb='video/mp4; codecs="avc1.640028"';b.pwb='video/mp4; codecs="hev1.2.6.L153.B0"';b.nwb='video/mp4; codecs="dvhe.01000000"';b.mub="9A04F079-9840-4286-AB92-E65BE0885F95";b.nub="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.oub="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.tsb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.wsb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.usb="4E657466-6C69-7846-7261-6D6552617465";b.xsb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.psb="mp4a";b.fJa="enca";b.msb="ec-3";b.ksb="avc1";b.gJa="encv";b.osb="hvcC";b.nsb="hev1";b.lsb="dvhe";b.qsb="vp09";b.f5=0;b.kU=1;b.Fla="position:relative;width:100%;height:100%;overflow:hidden";b.RIa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jd="ApplicationSymbol";},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C;function c(D){return (D=b.config.vkc[l(D)])?D:{};}function l(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.fMb=b.gMb=b.x3a=b.y9=b.y3a=b.Nra=b.config=void 0;g=a(17);m=a(44);d=a(9);f=a(39);h=a(22);k=a(26);n=a(42);p=a(23);a(7);q=a(14);v=a(15);t=a(178);w=a(50);u=a(87);x=a(110);y=a(52);z=a(5);B=a(45);A=a(18);C=a(123);b.y3a=function(D,E){var xa,Aa,Oa,T,X,Q,ka,ra,R;function G(ha,wa){(0,p.zh)(ha,function(va,Ea){(0,v.qd)(Ea)?wa[va]=Ea.call(void 0,wa[va]):(0,v.qk)(Ea) && (wa[va]=wa[va] || ({}),G(Ea,wa[va]));});}function F(ha,wa,va,Ea){for(var Ya=[],wb=3;wb < arguments.length;++wb){Ya[wb - 3]=arguments[wb];}return function(nb){(0,v.xd)(nb) && (va=nb);(0,h.ya)((0,v.qd)(ha));return ha.apply(void 0,[wa,va].concat(ia(Ya)));};}function L(ha){ha=ha.toLowerCase();T.hasOwnProperty(ha) && (Oa[ha]=T[ha],X[ha]=T[ha]);return ha;}function O(ha,wa,va){var Ea;ha=ha.toLowerCase();if(Oa.hasOwnProperty(ha)){Ea=Oa[ha];try{Ea=va?va(Ea):Ea;}catch(Ya){Ea=void 0;}if(void 0 !== Ea)return Ea;(0,h.ya)(!1);d.log.error("Invalid configuration value. Name: " + ha);}return wa;}function K(ha,wa,va,Ea){return O(ha,wa,function(Ya){(0,v.Og)(Ya) && (Ya=(0,p.Ck)(Ya));if((0,v.$bb)(Ya,va,Ea))return Ya;});}function I(ha,wa,va,Ea){return O(ha,wa,function(Ya){(0,v.Og)(Ya) && (Ya=(0,p.Ck)(Ya));if((0,v.LF)(Ya,va,Ea))return Ya;});}function M(ha,wa,va,Ea){return O(ha,wa,function(Ya){(0,v.Og)(Ya) && (Ya=parseFloat(Ya));if((0,v.Oa)(Ya,va,Ea))return Ya;});}function H(ha,wa,va){return O(ha,wa,function(Ea){if(va?va.test(Ea):(0,v.Og)(Ea))return Ea;});}function J(ha,wa){return O(ha,wa,function(va){if("true" == va || !0 === va)return !0;if("false" == va || !1 === va)return !1;});}function N(ha,wa){return O(ha,wa,function(va){if((0,v.Og)(va))return JSON.parse((0,q.m5)(va));if((0,v.qk)(va))return va;});}function P(ha,wa,va,Ea,Ya,wb){var nb;ha=ha.toLowerCase();Oa.hasOwnProperty(ha) && (nb=Oa[ha]);if(!(0,v.xd)(nb))return wa;if((0,v.Og)(nb))if(nb[0] !== va)nb=Ea(nb);else try{nb=JSON.parse((0,q.m5)(nb));}catch(zb){nb=void 0;}if(void 0 === nb)return wa;for(ha=0;ha < Ya.length;ha++){if(!Ya[ha](nb))return wa;}return wb?wb(nb):nb;}function W(ha,wa,va,Ea,Ya){return P(ha,wa,"[",function(wb){wb=wb.split("|");for(var nb=wb.length;nb--;){wb[nb]=(0,p.Ck)(wb[nb]);}return wb;},[function(wb){return (0,v.isArray)(wb) && 0 < wb.length;},function(wb){for(var nb=wb.length;nb--;){if(!(0,v.LF)(wb[nb],va,Ea))return !1;}return !0;},function(wb){return void 0 === Ya || wb.length >= Ya;}]);}function V(ha,wa){return P(ha,wa,"[",function(va){va=(0,v.isArray)(va)?va:va.split("|");for(var Ea=va.length;Ea--;){try{va[Ea]=JSON.parse((0,q.m5)(va[Ea]));}catch(Ya){va=void 0;break;}}return va;},[function(va){return (0,v.isArray)(va) && 0 < va.length;},function(va){for(var Ea=va.length;Ea--;){if(!(0,v.xd)(va[Ea]) || !(0,v.qk)(va[Ea]))return !1;}return !0;}]);}function S(ha,wa){var va;va=U(ha,[]);return va && 0 < va.length?(0,C.Ti)(va):V(ha,wa);}function U(ha,wa,va,Ea){return P(ha,wa,"[",function(Ya){return (0,v.isArray)(Ya)?Ya:Ya.split("|");},[function(Ya){return (0,v.isArray)(Ya) && 0 < Ya.length;},function(Ya){for(var wb=Ya.length;wb--;){if(va?!va.test(Ya[wb]):!(0,v.vQ)(Ya[wb]))return !1;}return !0;},function(Ya){return void 0 === Ea || Ya.length >= Ea;}]);}function fa(ha,wa,va){return P(ha,wa,"{",function(Ea){var Ya,nb,zb;Ya={};Ea=Ea.split(";");for(var wb=Ea.length;wb--;){nb=Ea[wb];zb=nb.indexOf(":");if(0 >= zb)return;Ya[nb.substring(0,zb)]=nb.substring(zb + 1);}return Ya;},[function(Ea){return (0,v.qk)(Ea) && 0 < Object.keys(Ea).length;},function(Ea){if(va)for(var Ya in Ea){if(!va.test(Ea[Ya]))return !1;}return !0;}],function(Ea){var Ya;Ya={};(0,p.Pe)(Ya,wa);(0,p.Pe)(Ya,Ea);return Ya;});}function qa(ha){var wa;wa=[];(0,p.zh)(ha,function(va,Ea){var Ya;try{Ya="videoapp" === va.toLowerCase()?"[object object]":JSON.stringify(Ea);}catch(wb){Ya="cantparse";}wa.push(va + "=" + Ya);});return wa.join("\n");}xa=/^[0-9]+[%]?$/;Aa=/^[0-9]*$/;X={};Q=d.Ha.get(f.Lp);ka=d.Ha.get(x.DH);(function(ha){function wa(va){va.split(",").forEach(function(Ea){var Ya;Ya=Ea.indexOf("=");0 < Ya && (Oa[Ea.substring(0,Ya).toLowerCase()]=Ea.substring(Ya + 1));});}Oa={};(0,p.Pe)(Oa,ha);D && D.length && q.forEach.call(D,function(va){(0,v.Og)(va)?wa(va):(0,v.qk)(va) && (0,p.Pe)(Oa,va,{r_:!0});});T=(0,p.Pe)({},(0,m.Saa)(),{r_:!0});if(ha=(0,m.pjb)().cadmiumconfig)(d.log.info("Config cookie loaded",ha),wa(ha));if(d.Ha.get(B.Rp).r8 || Oa.istestaccount)((0,p.Pe)(Oa,T),X=T);})(E);b.config={};ra={XSb:F(J,L("enableXHEAAC"),!1),l6a:F(J,L("enableDDPlus20"),!0),k6a:F(J,L("enableDDPlus"),!0),oP:F(J,L("enableDDPlusAtmos"),!1),CSb:F(J,L("enableLSSDH"),!0),ySb:F(J,L("enableHEVC"),!1),nhb:F(J,L("overrideEnableHEVC"),!1),mta:F(J,L("enableHDR"),!1),mhb:F(J,L("overrideEnableHDR"),!1),lhb:F(J,L("overrideEnableDV"),!1),mP:F(J,L("enableAVCHigh"),ka.mP),jhb:F(J,L("overrideEnableAVCHigh"),!1),lta:F(J,L("enableAVCHighLive"),ka.lta),khb:F(J,L("overrideEnableAVCHighLive"),!0),TSb:F(J,L("enableVP9"),!1),ohb:F(J,L("overrideEnableVP9"),!1),mSb:F(J,L("enableAV1"),!1),ihb:F(J,L("overrideEnableAV1"),!1),S9b:F(J,L("overrideEnableXHEAAC"),!1),Q9b:F(J,"overrideEnableAllAudioProfiles",!1),R9b:F(J,"overrideEnableAllVideoProfiles",!1),JSb:F(J,L("enablePRK"),!1),vSb:F(J,L("enableDV"),!1),p6a:F(J,L("enableHWDRM"),!1),ASb:F(J,L("enableImageSubs"),!0),II:F(S,L("audioProfiles"),ka.II),xSb:F(J,L("enableFullHdForWidevineL3"),!1),o6a:F(J,L("enableFullHdForWidevineL1"),!1),RSb:F(J,L("enableUHD"),!0),wha:F(I,"videoCapabilityDetectorType",k.wn.Oz),Tpa:F(I,"audioCapabilityDetectorType",k.dx.Oz),Bo:F(S,L("videoProfiles"),ka.Bo),bu:F(S,L("liveVideoProfiles"),ka.bu),h0a:F(S,L("additionalVideoProfiles"),[]),eFb:F(U,L("timedTextProfiles"),ka.Tw),Tw:function(){return ra.eFb().filter(function(ha){return ha === n.un.Ria?ra.CSb():ha === n.un.KM?ra.ASb():!0;});},endpoint:F(J,L("endpoint"),!1),version:F(H,"version","unknown"),zSb:F(J,L("enableHdcp"),!1),qu:F(J,L("prepareCadmium"),!1),LFb:F(J,L("acceptManifestOnPrepareItemParams"),!0),Cac:F(N,"ppmconfig",{maxNumberTitlesScheduled:1}),aY:F(J,L("enableLdlPrefetch"),!1),w6a:F(J,L("enableMediaPrefetch"),!1),ESb:F(J,L("enableManifestCache"),!0),DQb:F(J,L("deleteCachedManifestOnPlayback"),!1),CQb:F(J,L("deleteCachedManifestOnCreate"),!1),GQb:F(J,L("deleteOtherManifestCacheOnCreate"),!1),FQb:F(J,L("deleteOtherLdlCacheOnCreate"),!1),Xwc:F(I,L("periodicPrepareLogsIntervalMilliseconds"),36E5),Zac:F(I,L("prepareManifestCacheMaxCount"),50),Xac:F(I,L("prepareLdlCacheMaxCount"),30),Aib:F(I,L("prepareManifestExpiryMilliseconds"),12E5),Yac:F(I,L("prepareLdlExpiryMilliseconds"),78E4),Rac:F(I,L("prefetcherMaxWishlistSize"),10),Qac:F(I,L("prefetcherBudgetInBytes"),Infinity),Sac:F(J,L("prefetcherOverrideItemPriority"),!0),Wac:F(H,L("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Pyc:F(N,"videoApp"),KG:F(N,"storageRules"),maa:F(J,"ftlEnabled",ka.maa),gxa:F(I,L("imageSubsResolution"),0),d1b:F(I,L("imageSubsMaxBuffer"),ka.R5b.ia(y.ex),0),eX:F(J,L("captureBatteryStatus"),!1),EWb:F(I,L("getBatteryApiTimeoutMilliseconds"),5E3),bo:F(H,L("keySystemId"),ka.bo),Tcb:F(U,L("keySystemList"),void 0,void 0),cHa:F(J,L("validateKeySystemAccess"),!1),D6b:F(I,L("hdcpGlobalTimeout1"),1E4),E6b:F(I,L("hdcpGlobalTimeout2"),1E4),pwc:F(I,L("hdcpQueryTimeout1"),1E3),qwc:F(I,L("hdcpQueryTimeout2"),1E3),hfb:F(I,L("hdcpQueryTimeout2"),100),F6b:F(J,L("microsoftHwdrmRequiresHevc"),!1),gfb:F(J,L("microsoftClearLeadRequiresSwdrm"),!1),A6b:F(J,L("microsoftEnableDeviceInfo"),!1),B6b:F(J,L("microsoftEnableHardwareInfo"),!1),C6b:F(J,L("microsoftEnableHardwareReset"),!1),Blc:F(J,L("useHevcCodecForDolbyVision"),!1),GSb:F(J,L("enableMediaCapabilities"),!1),Bac:F(J,L("powerEfficientForVideo"),!1),HSb:F(J,L("enableMediaCapabilitiesSourceBufferCheck"),!1),U4b:F(J,"logMediaPipelineStatus",!1),d1:F(J,L("renderDomDiagnostics"),!0),Ndb:function(){return -1;},DQ:F(K,L("logDisplayMaxEntryCount"),ka.DQ,-1),$4b:F(K,L("logToConsoleLevel"),-1),htc:F(K,L("bladerunnerCmdHistorySize"),10),FB:function(){return Q.FB;},eza:F(J,"logErrorIfEsnNotProvided",!0),sta:F(J,"enforceSinglePlayback",ka.sta),y$:F(J,"enforceSingleSession",ka.y$),zra:F(J,"closeOtherPlaybacks",!0),ZHb:F(I,"asyncLoadTimeout",15E3,1),j5b:F(I,"mainThreadMonitorPollRate",0),WJ:function(){return Q.WJ;},LO:function(){return Q.LO;},A2:function(){return Q.A2;},lqb:F(I,L("verbosePlaybackInfoDenominator"),0),pfa:F(J,"renderTimedText",!0),Dac:F(J,"preBufferTimedText",!0),eUb:F(J,"fatalOnTimedTextLoadError",!0),oob:F(fa,"timedTextStyleDefaults",{}),fGa:F(fa,"timedTextStyleOverrides",{}),Qga:F(fa,"timedTextFontFamilyMapping",ka.Qga || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),HS:F(I,"timedTextSimpleFallbackThreshold",ka.HS.ia(y.ex)),gQ:F(U,L("imscLanguageList"),ka.gQ,[]),Cca:F(U,L("lessBoldLanguageList"),ka.Cca,[]),qsa:F(H,L("customDfxpUrl")),QSb:F(J,L("enableSubtitleTrackerLogging"),!1),Dfc:F(J,L("sendSubtitleQoeLogblobOnMidplay"),!1),Vqa:F(W,"cdnIdWhiteList",[]),Uqa:F(W,"cdnIdBlackList",[]),wua:F(H,L("forceAudioTrack")),Cua:F(H,L("forceTimedTextTrack")),Z5b:F(I,L("maxRetriesTimedTextDownload"),0),yjc:F(I,L("timedTextRetryInterval"),8E3),aic:F(H,"storageType","idb",/^(none|fs|idb|ls)$/),Kdb:F(I,"lockExpiration",1E4),S4b:F(I,"lockRefresh",3E3),uKb:F(J,"captureUnhandledExceptions",!0),c1b:F(J,"ignoreUnhandledExceptionDuringPlayback",!0),ykc:F(J,"unhandledExceptionsArePlaybackErrors",!1),cpb:F(H,"unhandledExceptionSource",""),ibc:F(J,"preserveLastFrame",!1),M6b:F(I,"minBufferingTimeInMilliseconds",4E3),Qbc:F(I,"progressBackwardsGraceTimeMilliseconds",4E3),Rbc:F(I,"progressBackwardsMinPercent",10),cJb:F(H,L("bookmarkIgnoreBeginning"),"0",xa),dJb:F(H,L("bookmarkIgnoreEnd"),"5%",xa),eJb:F(H,L("bookmarkIgnoreEndForBranching"),"60000",xa),JQ:F(I,"maxParallelConnections",3),uDa:F(J,"reportThroughputInLogblobs",!0),Qy:F(I,"minAudioMediaRequestDuration",16E3),K6b:F(I,"minAudioMediaRequestDurationBranching",0),qC:F(I,"minVideoMediaRequestDuration",4E3),V6b:F(I,"minVideoMediaRequestDurationVariableGOP",0),T6b:F(I,"minVideoMediaRequestDurationBranching",0),oda:F(I,"minAudioMediaRequestSizeBytes",0),xda:F(I,"minVideoMediaRequestSizeBytes",0),QRb:F(J,"droppedFrameRateFilterEnabled",!1),RRb:F(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),TRb:F(function(ha,wa,va,Ea,Ya,wb){return P(ha,wa,"[",function(nb){nb=nb.split(";");for(var zb=nb.length;zb--;){nb[zb]=nb[zb].split("|");for(var Pa=nb[zb].length;Pa--;){nb[zb][Pa]=(0,p.Ck)(nb[zb][Pa]);}}return nb;},[function(nb){return (0,v.isArray)(nb) && 0 < nb.length;},function(nb){for(var zb=nb.length;zb-- && void 0 !== nb;){if(!(0,v.isArray)(nb[zb]))return !1;for(var Pa=nb[zb].length;Pa--;){if(!(0,v.LF)(nb[zb][Pa],va,Ea))return !1;}}return !0;},function(nb){if(void 0 !== Ya)for(var zb=nb.length;zb--;){if(Ya !== nb[zb].length)return !1;}return !0;},function(nb){return void 0 === wb || nb.length >= wb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),SRb:F(I,"droppedFrameRateFilterMinHeight",384),URb:F(W,"droppedFramesPercentilesList",[]),G6b:F(J,"microsoftScreenSizeFilterEnabled",!1),x3b:F(J,"keyStatusFilterEnabled",!1),xab:F(I,"hdcpEngagementWaitTime",0),ukc:F(J,"uiLabelFilterEnabled",!0),tkc:F(N,"uiLabelFilter",{}),nQb:F(I,L("defaultVolume"),100,0,100),Qza:F(I,L("maxPlaybackRate"),2,0,16),d7a:F(J,"fastForwardAds",!1),y5a:F(J,"disableVideoRightClickMenu",!1),sda:F(I,"minDecoderBufferMilliseconds",1E3,0,g.Yz),fG:F(I,"optimalDecoderBufferMilliseconds",5E3,0,g.Yz),qBa:F(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,g.Yz),UQ:F(I,"minimumTimeBeforeBranchDecision",3E3,0,g.Yz),xfb:F(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,g.Yz),jC:F(I,"maxDecoderBufferMilliseconds",ka.jC.ia(z.va),0,g.Yz),U4a:F(I,"decoderTimeoutMilliseconds",1E4,1),egb:F(I,"noRenderTimeoutMilliseconds",0),oqb:F(I,"videoGapsTimeoutMilliseconds",500),t$b:F(I,"pauseTimeoutLimitMilliseconds",18E5),jxa:F(I,"inactivityMonitorInterval",3E4,0),KFb:F(W,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),qP:F(J,"enableTrickPlay",!1),XGb:F(W,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),dkc:F(I,"trickPlayHighResolutionBitrateThreshold",1E3),ekc:F(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),hkc:F(M,"trickplayBufferFactor",.5),ckc:F(I,"trickPlayDownloadRetryCount",1),Fza:F(H,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),JTb:F(U,"experimentalFilter",["throughput-wssl"]),nra:F(H,"ciPredictorSource","throughput-ci"),kFa:F(H,"simulationDurationStrategy","default"),yAa:F(H,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),nNa:F(N,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),Beb:F(K,"maxIQRSamples",Infinity),pfb:F(K,"minIQRSamples",5),Zpb:F(J,"useResourceTimingAPI",!1),$0b:F(J,"ignoreFirstByte",!0),$za:F(J,"mediaRequestAsyncLoadStart",ka.$za),Klc:F(J,"useXHROnLoadStart",!1),Uta:F(W,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),A9:F(I,"connectTimeoutMilliseconds",8E3,500),FAa:F(I,"noProgressTimeoutMilliseconds",8E3,500),nob:F(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Dwc:F(I,"netflixRequestExpiryTimeout",0),Emc:F(J,"webkitDecodedFrameCountIncorrectlyReported",!1),efc:F(I,"seekBackOnAudioTrackChangeMilliseconds",8E3),Hga:F(U,L("supportedAudioTrackTypes"),[],void 0,1),Nba:F(I,"initialLogFlushTimeout",5E3),eib:F(H,"playdataPersistKey",Q.FB?"unsentplaydatatest":"unsentplaydata"),Nxc:F(J,"sendPersistedPlaydata",!0),aac:F(I,"playdataPersistIntervalMilliseconds",4E3),Zwc:F(I,"playdataSendDelayMilliseconds",1E4),Oxc:F(J,"sendPlaydataBackupOnInit",!0),X4b:F(U,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),ifb:F(J,"midplayEnabled",!0),mda:F(I,"midplayIntervalMilliseconds",3E5),jfb:F(W,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),m$:F(I,"downloadReportDenominator",0),ERb:F(I,"downloadReportInterval",3E5),Mdb:F(I,"logConfigApplyDenominator",0),B1a:F(fa,L("bookmarkByMovieId"),{}),wY:F(J,L("forceLimitedDurationLicense"),!1),QF:F(I,L("licenseRenewalRequestDelay"),0),QBa:F(I,L("persistedReleaseDelay"),1E4),Qvc:F(J,L("limitedDurationFlagOverride"),void 0),Wkb:F(I,"safariPlayPauseWorkaroundDelay",100),Pmc:F(I,"workaroundValueForSeekIssue",1200),Rqa:F(J,L("callEndOfStream"),ka.Rqa),F$b:F(J,"performRewindCheck",!0),gUb:F(J,"fatalOnUnexpectedSeeking",!0),fUb:F(J,"fatalOnUnexpectedSeeked",!0),dUb:F(J,"fatalOnManifestMistmatch",!0),ygc:F(J,L("setVideoElementSize")),BLb:F(J,L("clearVideoSrc"),!0),i5a:F(I,L("delayPlayPause"),0),Pu:F(J,L("useTypescriptEme"),!1),Qpb:F(J,L("useEncryptedEvent"),!0),UX:F(H,L("drmPersistKey"),"unsentDrmData"),Uib:F(J,L("promiseBasedEme"),!1),c8b:F(J,L("nudgeSourceBuffer"),!1),kEa:F(K,L("seekDelta"),1),F0:F(J,L("preciseSeeking"),!1),Fac:F(J,L("preciseSeekingOnTwoCoreDevice"),!1),h5a:F(fa,L("delayErrorHandling")),Yl:F(H,"esn",""),g7a:F(H,"fesn",""),LSb:F(J,L("enablePerformanceLogging"),!1),n6a:F(J,L("enableEmeVerboseLogging"),!1),appId:F(H,"appId","",Aa),sessionId:F(H,"sessionId","",Aa),Xqa:F(H,"cdnProxyUrl"),Hlc:F(J,"usePlayReadyHeaderObject",!1),Q7a:F(I,"forceXhrErrorResponseCode",void 0),Sr:{Awc:F(H,"mslApiPath","/msl/"),gxc:F(H,"proxyPath",""),xz:F(H,"uiVersion"),eha:F(H,"uiPlatform"),utc:function(){return "0";},nCa:F(U,"preferredLanguages",g.uKa,/^[a-zA-Z-]{2,5}$/,1),rVb:F(H,L("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),Hic:F(J,"supportPreviewContentPin",!0),Iic:F(J,"supportWatermarking",!0),chc:F(J,"showAllSubDubTracks",!1),Fuc:F(J,L("failOnGuidMismatch"),!1)},Yea:{enabled:F(J,"qcEnabled",!1),Bp:F(H,"qcPackageId","")},Ou:F(J,"useRangeHeader",!1),bY:F(J,"enableMilestoneEventList",!0),AIb:F(fa,"authenticationKeyNames",(0,p.Pe)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),Tic:F(H,"systemKeyWrapFormat"),Xgc:F(J,"shouldSendUserAuthData",!0),yEa:F(J,"sendUserAuthIfRequired",ka.yEa),Rgc:F(J,"shouldClearUserData",!1),US:F(J,"usesMsl",!0),m7b:F(J,"mslDeleteStore",!1),o7b:F(J,"mslPersistStore",!0),DMb:F(J,"correctNetworkForShortTitles",!0),Aac:F(J,"postplayHighInitBitrate",!1),Nic:F(J,"supportsUnequalizedDownloadables",!0),O4a:F(I,L("debugAseDenominator"),100),E8:F(I,"aseAudioBufferSizeBytes",ka.E8.ia(y.ex)),I8:F(I,"aseVideoBufferSizeBytes",ka.I8.ia(y.ex)),uw:F(I,"minInitVideoBitrate",560),lAa:F(I,"minHCInitVideoBitrate",560),lC:F(I,"maxInitVideoBitrate",Infinity),M_:F(I,"minInitAudioBitrate",0),K_:F(I,"minHCInitAudioBitrate",0),x_:F(I,"maxInitAudioBitrate",65535),nda:F(I,"minAcceptableVideoBitrate",235),YF:F(I,"minRequiredBuffer",3E4),Ak:F(I,"minPrebufSize",7800),rda:F(I,"minCheckBufferingCompleteInterval",999999),ZCa:F(M,"rebufferingFactor",1),fu:F(I,"maxBufferingTime",2600),YGa:F(J,"useMaxPrebufSize",!0),WF:F(I,"maxPrebufSize",45E3),Sza:F(I,"maxRebufSize",Infinity),Kba:F(V,"initialBitrateSelectionCurve",null),lbb:F(I,"initSelectionLowerBound",560),mbb:F(I,"initSelectionUpperBound",1050),n2:F(I,"throughputPercentForAudio",15),eqa:F(I,"bandwidthMargin",10),fqa:F(J,"bandwidthMarginContinuous",!1),gqa:F(V,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Pra:F(I,"conservBandwidthMargin",20),UFa:F(J,"switchConfigBasedOnInSessionTput",!1),oX:F(I,"conservBandwidthMarginTputThreshold",0),Qra:F(V,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),Nnb:F(J,"switchAlgoBasedOnHistIQR",!1),MG:F(H,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Rza:F(K,"maxPlayerStateToSwitchConfig",-1),qza:F(H,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Kja:F(M,"IQRThreshold",.5),Wwa:F(H,"histIQRCalcToUse","simple"),gu:F(I,"maxTotalBufferLevelPerSession",0),ZX:F(J,"enableCombinedPlaygraphs",!0),uJ:F(J,"enableAdPlaygraphs",!0),Afa:F(J,"retainSbrOnFade",!1),Nta:F(U,"excludedContentPlaygraphIds",[]),u$:F(J,"enableDiscontiguousBuffering",!1),Aua:F(W,"forceImmediateTransitionTypeForTitles",[]),zua:F(I,"forceImmediateTransitionExitZone",0),nha:F(J,"useBufferSizeLimiter",!1),XGa:F(J,"useLegacyFragmentRounding",!1),Fab:F(I,"highWatermarkLevel",3E4),wob:F(I,"toStableThreshold",3E4),Uga:F(I,"toUnstableThreshold",ka.Uga.ia(z.va)),mFa:F(J,"skipBitrateInUpswitch",!1),oHa:F(I,"watermarkLevelForSkipStart",8E3),Qwa:F(I,"highStreamRetentionWindow",9E4),rza:F(I,"lowStreamTransitionWindow",51E4),Swa:F(I,"highStreamRetentionWindowUp",3E5),tza:F(I,"lowStreamTransitionWindowUp",3E5),Rwa:F(I,"highStreamRetentionWindowDown",6E5),sza:F(I,"lowStreamTransitionWindowDown",0),Pwa:F(M,"highStreamInfeasibleBitrateFactor",.5),fC:F(I,"lowestBufForUpswitch",15E3),m_:F(I,"lockPeriodAfterDownswitch",15E3),vza:F(I,"lowWatermarkLevel",25E3),gC:F(I,"lowestWaterMarkLevel",2E4),wza:F(J,"lowestWaterMarkLevelBufferRelaxed",!1),ida:F(M,"mediaRate",1),Zca:F(I,"maxTrailingBufferLen",1E4),HW:F(I,"audioBufferTargetAvailableSize",262144),M2:F(I,"videoBufferTargetAvailableSize",1048576),Peb:F(I,"maxVideoTrailingBufferSize",8388608),teb:F(I,"maxAudioTrailingBufferSize",393216),N$:F(M,"fastUpswitchFactor",3),Vta:F(M,"fastDownswitchFactor",1),qw:F(I,"maxMediaBufferAllowed",24E4),jFa:F(J,"simulatePartialBlocks",!0),Amb:F(J,"simulateBufferFull",!0),Rra:F(J,"considerConnectTime",!1),Ora:F(M,"connectTimeMultiplier",1),Sdb:F(I,"lowGradeModeEnterThreshold",12E4),Tdb:F(I,"lowGradeModeExitThreshold",9E4),web:F(I,"maxDomainFailureWaitDuration",3E4),seb:F(I,"maxAttemptsOnFailure",18),U6a:F(J,"exhaustAllLocationsForFailure",!0),Eeb:F(I,"maxNetworkErrorsDuringBuffering",20),Rca:F(I,"maxBufferingTimeAllowedWithNetworkError",12E4),c7a:F(I,"fastDomainSelectionBwThreshold",2E3),aob:F(I,"throughputProbingEnterThreshold",4E4),bob:F(I,"throughputProbingExitThreshold",34E3),Idb:F(I,"locationProbingTimeout",1E4),j7a:F(I,"finalLocationSelectionBwThreshold",1E4),Znb:F(M,"throughputHighConfidenceLevel",.75),$nb:F(M,"throughputLowConfidenceLevel",.4),y6a:F(J,"enablePerfBasedLocationSwitch",!1),Fw:F(J,"probeServerWhenError",!0),zCa:F(I,"probeRequestTimeoutMilliseconds",8E3),TA:F(J,"allowSwitchback",!0),ER:F(I,"probeDetailDenominator",100),Sca:F(I,"maxDelayToReportFailure",300),bza:F(I,"locationStatisticsUpdateInterval",6E4),Q3a:F(J,"countGapInBuffer",!1),o0a:F(J,"allowCallToStreamSelector",!0),K1a:F(I,"bufferThresholdForAbort",1E4),Y5b:F(I,"maxResponsesInitialTput",6),r6a:F(J,"enableInitialTputLogging",!1),SBa:F(I,"pipelineScheduleTimeoutMs",2),mC:F(I,"maxPartialBuffersAtBufferingStart",2),Uza:F(I,"maxStreamingSkew",4E3),Pza:F(I,"maxPendingBufferPercentage",10),uba:F(I,"headerRequestSize",4096),zta:F(J,"estimateHeaderSize",!1),J_:F(I,"minBufferLenForHeaderDownloading",1E4),o1:F(I,"reserveForSkipbackBufferMs",1E4),QAa:F(I,"numExtraFragmentsAllowed",2),nj:F(J,"pipelineEnabled",!1),Kmb:F(I,"socketReceiveBufferSize",0),P8:F(I,"audioSocketReceiveBufferSize",32768),YS:F(I,"videoSocketReceiveBufferSize",65536),Nwa:F(I,"headersSocketReceiveBufferSize",32768),kha:F(I,"updatePtsIntervalMs",1E3),sqa:F(I,"bufferTraceDenominator",100),XW:F(I,"bufferLevelNotifyIntervalMs",2E3),yO:F(I,"aseReportDenominator",0),G8:F(I,"aseReportIntervalMs",3E5),nSb:F(J,"enableAbortTesting",!1),IFb:F(I,"abortRequestFrequency",8),LFa:F(I,"streamingStatusIntervalMs",2E3),DC:F(I,"prebufferTimeLimit",24E4),qda:F(I,"minBufferLevelForTrackSwitch",2E3),KBa:F(I,"penaltyFactorForLongConnectTime",2),nza:F(I,"longConnectTimeThreshold",200),tpa:F(I,"additionalBufferingLongConnectTime",2E3),upa:F(I,"additionalBufferingPerFailure",8E3),W0:F(I,"rebufferCheckDuration",6E4),v6a:F(J,"enableLookaheadHints",!1),Qdb:F(I,"lookaheadFragments",2),$E:F(J,"enableOCSideChannel",!0),p5:F(N,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),qpb:F(J,"updateDrmRequestOnNetworkFailure",!1),g5a:F(J,"deferAseScheduling",!1),veb:F(I,"maxDiffAudioVideoEndPtsMs",16E3),X9:F(I,"defaultHeaderCacheSize",4),W9:F(I,"defaultHeaderCacheDataPrefetchMs",8E3),Jda:F(J,"neverWipeHeaderCache",!0),xAa:F(I,"networkFailureResetWaitMs",2E3),wAa:F(I,"networkFailureAbandonMs",6E4),Yca:F(I,"maxThrottledNetworkFailures",3),Mga:F(I,"throttledNetworkFailureThresholdMs",200),uza:F(K,"lowThroughputThreshold",400),Mta:F(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),Gfb:F(J,"mp4ParsingInNative",!1),Nmb:F(J,"sourceBufferInOrderAppend",!0),nL:F(J,"requireAudioStreamToEncompassVideo",!0),n0a:F(J,"allowAudioToStreamPastVideo",!0),kj:F(J,"enableManagerDebugTraces",!1),eeb:F(I,"managerDebugMessageInterval",1E3),deb:F(I,"managerDebugMessageCount",20),sgb:F(J,"notifyManifestCacheEom",!1),rqa:F(I,"bufferThresholdToSwitchToSingleConnMs",18E4),qqa:F(I,"bufferThresholdToSwitchToParallelConnMs",12E4),xea:F(I,"periodicHistoryPersistMs",3E5),Mfa:F(I,"saveVideoBitrateMs",18E4),C0a:F(J,"appendMediaRequestOnComplete",!0),Cha:F(J,"waitForDrmToAppendMedia",!1),baa:F(J,L("forceAppendHeadersAfterDrm"),!1),pVb:F(J,L("forceAppendEncryptedStreamHeaderFirst"),!0),ucc:F(J,L("reappendRequestsOnSkip"),!1),s7b:F(I,"netIntrStoreWindow",36E3),P6b:F(I,"minNetIntrDuration",8E3),ZTb:F(I,"fastHistoricBandwidthExpirationTime",10368E3),JIb:F(I,"bandwidthExpirationTime",5184E3),XTb:F(I,"failureExpirationTime",86400),z0b:F(I,"historyTimeOfDayGranularity",4),ITb:F(J,"expandDownloadTime",!1),b7b:F(I,"minimumMeasurementTime",500),a7b:F(I,"minimumMeasurementBytes",131072),ojc:F(I,"throughputMeasurementTimeout",2E3),F1b:F(I,"initThroughputMeasureDataSize",262144),pjc:F(H,"throughputPredictor","ewma"),njc:F(I,"throughputMeasureWindow",5E3),tjc:F(I,"throughputWarmupTime",5E3),mjc:F(I,"throughputIQRMeasureWindow",5E3),Yvb:F(I,"IQRBucketizerWindow",15E3),jMb:F(I,"connectTimeHalflife",10),pec:F(I,"responseTimeHalflife",10),y0b:F(I,"historicBandwidthUpdateInterval",2E3),$6b:F(I,"minimumBufferToStopProbing",1E4),jEa:F(H,"secondThroughputEstimator","none"),hlb:F(K,"secondThroughputMeasureWindowInMs",Infinity),wSb:F(U,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),uUb:F(N,"filterDefinitionOverrides",{}),gQb:F(H,"defaultFilter","throughput-ewma"),dfc:F(H,"secondaryFilter","none"),hQb:F(N,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),R_:F(J,"needMinimumNetworkConfidence",!0),jqa:F(J,"biasTowardHistoricalThroughput",!0),hpa:F(J,"addHeaderDataToNetworkMonitor",!1),uFa:F(J,"startMonitorOnLoadStart",!1),tDa:F(J,"reportFailedRequestsToNetworkMonitor",!1),Tca:F(K,"maxFastPlayBufferInMs",Infinity),Mza:F(K,"maxFastPlayBitThreshold",Infinity),Epa:F(J,"appendFirstHeaderOnComplete",!0),MHb:F(H,"ase_stream_selector","optimized"),vxa:F(H,"initBitrateSelectorAlgorithm","default"),wqa:F(H,"bufferingSelectorAlgorithm","default"),P4a:F(H,"ase_ls_failure_simulation",""),usa:F(J,"ase_dump_fragments",!1),wsa:F(I,"ase_location_history",0),Q4a:F(I,"ase_throughput",0),S4a:F(J,"ase_simulate_verbose",!1),vac:F(I,"pollingPeriod",150),L4b:F(I,"loadTimeMs",18E4),C5b:F(I,"marginTimeMs",1E4),gva:F(J,"getDeviceIdFromBindDevice",!1),gpa:F(J,"addFailedLogBlobsToQueue",!0),vkc:{"content-sampling":{fu:F(I,"contentSamplingMaxBufferingTime",3E3),cS:F(H,"contentSamplingSelectStartingVMAFMethod","fallback"),pW:F(J,"contentSamplingActivateSelectStartingVMAF",!0),vw:F(I,"contentSamplingMinStartingVideoVMAF",80),I_:F(I,"contentSamplingMinAcceptableVMAF",70),GK:F(I,"contentSamplingMinAllowedVmaf",60)},billboard:{uw:F(I,"billboardMinInitVideoBitrate",1050),lC:F(I,"billboardMaxInitVideoBitrate",null),Ak:F(I,"billboardMinPrebufSize",null),WF:F(I,"billboardMaxPrebufSize",null),fu:F(I,"billboardMaxBufferingTime",null),mC:F(I,"billboardMaxPartialBuffersAtBufferingStart",null),gC:F(I,"billboardLowestWaterMarkLevel",6E3),fC:F(I,"billboardLowestBufForUpswitch",25E3),MG:F(H,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{uw:F(I,"preplayMinInitVideoBitrate",1050),lC:F(I,"preplayMaxInitVideoBitrate",null),Ak:F(I,"preplayMinPrebufSize",null),WF:F(I,"preplayMaxPrebufSize",null),fu:F(I,"preplayMaxBufferingTime",null),mC:F(I,"preplayMaxPartialBuffersAtBufferingStart",null),gC:F(I,"preplayLowestWaterMarkLevel",6E3),fC:F(I,"preplayLowestBufForUpswitch",25E3)},embedded:{uw:F(I,"embeddedMinInitVideoBitrate",1050),lC:F(I,"embeddedMaxInitVideoBitrate",null),Ak:F(I,"embeddedMinPrebufSize",null),WF:F(I,"embeddedMaxPrebufSize",null),fu:F(I,"embeddedMaxBufferingTime",null),mC:F(I,"embeddedMaxPartialBuffersAtBufferingStart",null),gC:F(I,"embeddedLowestWaterMarkLevel",6E3),fC:F(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{uw:F(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),lC:F(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Ak:F(I,"videoMerchBobHorizontalMinPrebufSize",null),WF:F(I,"videoMerchBobHorizontalMaxPrebufSize",null),fu:F(I,"videoMerchBobHorizontalMaxBufferingTime",null),mC:F(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),gC:F(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),fC:F(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{uw:F(I,"miniModalHorizontalMinInitVideoBitrate",null),lC:F(I,"miniModalHorizontalMaxInitVideoBitrate",null),Ak:F(I,"miniModalHorizontalMinPrebufSize",null),WF:F(I,"miniModalHorizontalMaxPrebufSize",null),fu:F(I,"miniModalHorizontalMaxBufferingTime",500),mC:F(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),gC:F(I,"miniModalHorizontalLowestWaterMarkLevel",null),fC:F(I,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},USb:F(J,"enableVerbosePlaydelayLogging",!1),OSb:F(J,"enableSeamless",!1),Vwa:F(I,"hindsightDenominator",0),Uwa:F(I,"hindsightDebugDenominator",0),yba:F(N,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),cY:F(J,"enableSessionHistoryReport",!1),hta:F(I,"earlyStageEstimatePeriod",1E4),ldb:F(I,"lateStageEstimatePeriod",3E4),Wca:F(I,"maxNumSessionHistoryStored",30),wda:F(I,"minSessionHistoryDuration",3E4),My:F(I,"maxActiveRequestsPerSession",3),Pca:F(I,"maxActiveRequestsSABCell100",2),Tya:F(J,"limitAudioDiscountByMaxAudioBitrate",!0),Kd:F(N,"browserInfo",{}),zJb:F(I,L("busyGracePeriod"),199),Efc:F(J,L("sendTransitionLogblob"),!0),cSb:F(J,L("editVideoFragments"),!0),r$:F(J,L("earlyAppendSingleChildBranch"),!0),l1b:F(J,L("includeSegmentInfoOnLogblobs"),!0),OTb:F(J,"exposeTestData",!1),NTb:F(J,L("exposeErrorData"),!1),xsa:F(J,"declareBufferingCompleteAtSegmentEnd",!0),GI:F(J,L("applyProfileTimestampOffset"),!1),Hm:F(J,L("applyProfileStreamingOffset"),!1),F_:F(J,L("mediaSourceSupportsNegativePts"),!1),mHb:F(J,L("allowSmallSeekDelta"),!1),thc:F(I,L("smallSeekDeltaThresholdMilliseconds"),t.P5),sSb:F(J,"enableCDMAttestedDescriptors",!1),ufa:F(J,"requireDownloadDataAtBuffering",!1),vfa:F(J,"requireSetupConnectionDuringBuffering",!1),aDa:F(J,"recordFirstFragmentOnSubBranchCreate",!1),kJb:F(J,"branchingAudioTrackFrameDropSmallSeekFix",!0),Upb:F(J,"useMobileVMAF",!1),p5a:F(H,"desiredVMAFTypeMobile","phone_plus_lts"),q5a:F(H,"desiredVMAFTypeNonMobile","plus_lts"),pW:F(J,"activateSelectStartingVMAF",!1),vw:F(I,"minStartingVideoVMAF",1),I_:F(I,"minAcceptableVMAF",1),GK:F(I,"minAllowedVmaf",1),pHb:F(J,"alwaysNotifyEOSForPlaygraph",!0),w$:F(J,"enableNewAse",!0),pha:F(J,"useNewApi",!0),Qca:F(I,"maxAllowedOutstandingRequests",4),vO:F(J,"alwaysRunUnderflowTimer",!0),mAa:F(I,"minStreamableConcurrencyWindow",3E3),IFa:F(M,"streamableConcurrencyFactor",.3),$W:F(I,"bufferingConcurrencyWindow",7800),mhc:F(J,"singleStreamablePerBranch",!0),x$:F(J,"enableResolutionVMAFStreamFilter",!1),zfa:F(N,"resolutionVMAFCappingRuleList",{}),NBa:F(K,"percentCapTitlesForResolutionVMAFStreamFilter",100),jRb:F(J,"disableSkipping",!1),oha:F(J,"useHLSPlayer",ka.oha),VGa:F(J,L("useExitZones"),!0),Xdc:F(J,"requestSegmentVmaf",!1),rR:F(N,"perFragmentVMAFConfig",{enabled:!1}),vBa:F(I,"paddingDurationMs",1E3),wBa:F(H,"paddingMediaType","padding"),Lnb:F(J,"supportsPtsChanged",!1),Jac:F(J,L("preferUnletterboxed"),!1),s6a:F(J,"enableKeySystemRestrictor",!1),wTb:F(I,"errorEventToRestrict",2),vTb:F(W,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),uTb:F(W,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),j6a:F(J,"enableCachedErrors",!1),JJb:F(I,"cachedErrorCountLimit",20),LJb:F(I,"cachedErrorExpirationSeconds",604800),MJb:F(I,"cachedErrorsStorageTimeoutSeconds",2E3),i_:F(I,"liveTargetBufferDuration",1E4),Eca:F(I,"liveEdgeCushion",6E3),v4b:F(K,"liveEdgeThreshold",1E4),xua:F(J,"forceDisableLiveUI",!1),yua:F(W,"forceDisableLiveUIByMovieIds",[]),qVb:F(K,"forceAstRelativeLiveBookmark",void 0),sVb:F(K,"forceEstRelativeLiveBookmark",void 0),Rhc:F(K,"startSlateMs",void 0),y4b:F(K,"liveSlateMs",void 0)};R=!0;b.Nra=function(ha){var wa,va,Ea;wa=d.Ha.get(A.jd).id;if(0 < b.config.Mdb && 0 === wa % b.config.Mdb)try{va=d.Ha.get(w.Fo);Ea=d.Ha.get(u.Xz).Iv("config","info",{params:ha});va.Dc(Ea);}catch(Ya){d.log.error("Failed to log config$apply",Ya);}mb._cad_global.config=b.config;(0,h.ya)(ha);ha && (Oa=(0,p.Pe)({},ha,{r_:!0}),(0,p.Pe)(Oa,X,{r_:!0}),G(ra,b.config),Oa.istestaccount && d.log.trace("Config applied for",qa(R?Oa:ha)),R=!1);};(0,b.Nra)(Oa);};b.y9=function(D){D=c(D);return (0,p.Pe)({},a(179)(D),{jea:!0});};b.x3a=function(D,E,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={Qy:D?b.config.K6b:b.config.Qy,qC:D?b.config.T6b:G?b.config.V6b:b.config.qC,r$:!E};return (0,p.Pe)({},a(179)(D),{jea:!0});};b.gMb=c;b.fMb=l;},function(r,b,a){var l;function c(g,m){return g && m?Math.abs(g * m / (0,l.jF)(g,m)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.P=void 0;l=a(402);r=(function(){function g(m,d){"object" === typeof m?(this.Bc=m.Fa,this.ob=m.W):(this.Bc=m,this.ob=d);isFinite(this.Bc) || (this.ob=1);}g.compare=function(m,d){return m.Jm(d);};g.abs=function(m){return new g(Math.abs(m.Bc),m.ob);};g.Na=function(m){return 0 === m?g.Pa:new g(m,1E3);};g.Tga=function(m,d){return Math.floor(1E3 * m / d);};g.Ifb=function(m,d){return Math.floor(m * d / 1E3);};g.max=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}return m.reduce(function(f,h){return f.greaterThan(h)?f:h;});};g.min=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}return m.reduce(function(f,h){return f.lessThan(h)?f:h;});};g.jF=function(m,d){var f;if(m.ob === d.ob)return new g((0,l.jF)(m.Bc,d.Bc),m.ob);f=c(m.ob,d.ob);return new g((0,l.jF)(m.Bc * f / m.ob,d.Bc * f / d.ob),f);};Object.defineProperties(g.prototype,{Fa:{get:function(){return this.Bc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Z:{get:function(){return g.Tga(this.Bc,this.ob);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{EC:{get:function(){return 1E3 * this.Bc / this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{rL:{get:function(){var m;m=this.EC;return 0 > m?Math.ceil(m):Math.floor(m);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Vi:{get:function(){return this.Bc / this.ob;},enumerable:!1,configurable:!0}});g.prototype.Zf=function(m){m/=this.ob;return new g(Math.floor(this.Bc * m),Math.floor(this.ob * m));};g.prototype.add=function(m){var d;if(this.ob === m.ob)return new g(this.Bc + m.Bc,this.ob);d=c(this.ob,m.ob);return new g(this.Bc * d / this.ob + m.Bc * d / m.ob,d);};g.prototype.Ea=function(m){var d;if(this.ob === m.ob)return new g(this.Bc - m.Bc,this.ob);d=c(this.ob,m.ob);return new g(this.Bc * d / this.ob - m.Bc * d / m.ob,d);};g.prototype.Ry=function(m){return new g(this.Bc * m,this.ob);};g.prototype.mk=function(m){var d;if("number" === typeof m){if(Math.floor(m) === m){d=c(this.Bc,m);if(d !== this.Bc)return this.Zf(d / this.Bc * this.ob).mk(m);}return new g(Math.floor(this.Bc / m),this.ob);}if(this.ob === m.ob)return this.Bc / m.Bc;d=c(this.ob,m.ob);return this.Bc * d / this.ob / (m.Bc * d / m.ob);};g.prototype.dP=function(m){var d;if(this.ob === m.ob)return new g(Math.abs(this.Bc - m.Bc),this.ob);d=c(this.ob,m.ob);return new g(Math.abs(this.Bc * d / this.ob - m.Bc * d / m.ob),d);};g.prototype.Jjb=function(){return new g(this.ob,this.Bc);};g.prototype.compare=function(m,d){var f;if(this.ob === d.ob)return m(this.Bc,d.Bc);f=c(this.ob,d.ob);return m(this.Bc * f / this.ob,d.Bc * f / d.ob);};g.prototype.Jm=function(m){var d;if(this.ob === m.ob)return this.Fa === m.Bc?0:this.Bc - m.Bc;d=c(this.ob,m.ob);return this.Bc * d / this.ob - m.Bc * d / m.ob;};g.prototype.equal=function(m){return this.compare(function(d,f){return d === f;},m);};g.prototype.Qda=function(m){return this.compare(function(d,f){return d !== f;},m);};g.prototype.lessThan=function(m){return this.compare(function(d,f){return d < f;},m);};g.prototype.greaterThan=function(m){return this.compare(function(d,f){return d > f;},m);};g.prototype.PF=function(m){return this.compare(function(d,f){return d <= f;},m);};g.prototype.pk=function(m){return this.compare(function(d,f){return d >= f;},m);};g.prototype.isFinite=function(){return !!this.ob && isFinite(this.Bc);};g.prototype.O$a=function(m){return c(this.W,m);};g.prototype.toJSON=function(){return {ticks:this.Bc,timescale:this.ob};};g.prototype.toString=function(){return ("").concat(this.Bc,"/").concat(this.ob);};g.prototype.Fb=function(){return ("").concat(this.Bc,"/").concat(this.ob," (").concat(this.Z,"ms)");};g.Pa=new g(0,1E3);g.vC=new g(1,1E3);g.Ut=new g(Infinity,1);return g;})();b.P=r;},function(r,b,a){var l;function c(g){return g.filter(function(m,d){return g.indexOf(m) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.M0a=b.Pda=b.w_b=b.EMb=b.flatten=b.nfb=b.VLb=b.D8=b.zv=b.O0a=b.FW=b.Lpa=b.ot=b.Mpa=b.Oc=void 0;l=a(0);b.Oc=function(g,m){for(var d=0;d < g.length;d++){if(m(g[d],d,g))return g[d];}};b.Mpa=function(g,m){for(var d=g.length - 1;0 <= d;--d){if(m(g[d],d,g))return g[d];}};b.ot=function(g,m){var d;d=-1;return g.some(function(f,h,k){d=h;return m(f,h,k);})?d:-1;};b.Lpa=function(g,m){for(var d=g.length - 1;0 <= d;d--){if(m(g[d],d,g))return d;}return -1;};b.FW=c;b.O0a=function(g,m){m=g.indexOf(m);if(-1 === m)return !1;g.splice(m,1);return !0;};b.zv=function(g,m,d){return d?g.filter(function(f){return !m.some(function(h){return d(f,h);});}):g.filter(function(f){return -1 === m.indexOf(f);});};b.D8=function(g,m){return c(g.concat(m));};b.VLb=function(g){return function(m,d){return g(m) - g(d);};};b.nfb=function(g){return function(m,d){return g(m) < g(d)?m:d;};};b.flatten=function(g){var m;return (m=[]).concat.apply(m,l.__spreadArray([],l.__read(g),!1));};b.EMb=function(g,m){void 0 === m && (m=function(d){return d;});return g.reduce(function(d,f){f=m(f);return (void 0 === d[f]?d[f]=1:++d[f],d);},{});};b.w_b=function(g,m){return g.reduce(function(d,f){var h;h=m(f);return (void 0 === d[h]?d[h]=[f]:d[h].push(f),d);},{});};b.Pda=function(g){return null !== g && void 0 !== g;};b.M0a=function(g){var m,f;m=[];if(Array.isArray(g))for(var d=0;d < g.length;d++){f=g[d];Array.isArray(f)?m=m.concat(f.filter(function(h){return void 0 !== h;})):void 0 !== f && m.push(f);}return m;};},function(r,b,a){var g,m,d;function c(){d || (d=g.Ha.get(m.Nz));return d;}function l(f,h){return c().assert(f,h);}Object.defineProperty(b,"__esModule",{value:!0});b.OPb=b.tsa=b.HPb=b.LPb=b.$O=b.DX=b.KPb=b.MPb=b.EX=b.N4a=b.JPb=b.IPb=b.ya=b.NPb=b.Orb=void 0;g=a(9);m=a(111);b.Orb=function(){l(!1);};b.NPb=!0;d=void 0;b.ya=l;b.IPb=function(f,h){return c().QHb(f,h);};b.JPb=function(f,h){return c().RHb(f,h);};b.N4a=function(f,h){return c().K8(f,h);};b.EX=function(f,h){return c().XHb(f,h);};b.MPb=function(f,h){return c().VHb(f,h);};b.KPb=function(f,h){return c().J8(f,h);};b.DX=function(f,h){return c().THb(f,h);};b.$O=function(f,h){return c().WHb(f,h);};b.LPb=function(f,h){return c().UHb(f,h);};b.HPb=function(f,h){return c().PHb(f,h);};b.tsa=function(f,h){return c().SHb(f,h);};b.OPb=function(){return c().c2b();};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.zMb=b.R7a=b.Vn=b.sg=b.LLb=b.pf=b.Hy=b.trim=b.Ywa=b.wnb=b.ijb=b.a$b=b.Ck=b.P0a=b.i2a=b.Pe=b.zh=void 0;c=a(22);l=a(14);g=a(15);b.zh=function(m,d){for(var f in m){m.hasOwnProperty(f) && d(f,m[f]);}};b.Pe=b.Pe || (function(m,d,f){var h,k,n;if(d)if(f){h=f.r_;k=f.prefix;n=f.jea;(0,b.zh)(d,function(p,q){if(!n || (0,g.xd)(q))m[(k || "") + (h?p.toLowerCase():p)]=q;});}else (0,b.zh)(d,function(p,q){m[p]=q;});return m;});b.i2a=function(m,d,f,h){var k;if(m){k=m[d];(0,g.qd)(k) && (f=k.apply(m,l.slice.call(arguments,3)));}return f;};b.P0a=function(m){for(var d={},f=m.length;f--;){d[m[f]]=!0;}return d;};b.Ck=b.Ck || (function(m){return parseInt(m,10);});b.a$b=function(m){return (/^true$/i).test(m);};b.ijb=function(m,d){return (0,l.Op)(m + (0,l.lU)() * (d - m));};b.wnb=function(m){return JSON.stringify(m,null,"  ");};b.Ywa=(function(){var d,f;function m(h){(0,c.ya)(void 0 !== d[h]);return d[h];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(h){return h.replace(f,m);};})();b.trim=(function(){var m;m=/^\s+|\s+$/gm;return function(d){return d.replace(m,"");};})();b.Hy=function(m){return Array.isArray(m)?m:[m];};b.pf=b.pf || (function(m){var d,f,h;if(m){d=m.stack;f=m.number;h=m.message;h || (h="" + m);d?(m="" + d,0 != m.indexOf(h) && (m=h + "\n" + m)):m=h;f && (m+="\nnumber:" + f);return m;}});b.LLb=function(m){var h;for(var d=0;d < arguments.length;++d){;}d=0;for(var f=arguments.length;d < f;){h=arguments[d++];if((0,g.xd)(h))return h;}};b.sg=function(m){return (0,g.Oa)(m)?m.toFixed(0):"";};b.Vn=function(m){return (0,g.Oa)(m)?(m / 1E3).toFixed(0):"";};b.R7a=function(m){return (0,g.Oa)(m)?m.toFixed():"";};b.zMb=function(m){for(var d=[],f=0;f < m.length;f++){d[f]=m[f];}return d;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(102);b.M=!1;r=(function(){function l(g,m,d,f,h){this.Xb=g;this.type=m;this.byteOffset=d;this.byteLength=f;this.parent=h;this.ze={};this.UK=f;}l.GB=function(g,m){var f,k;function d(n){n && n.GB && (n=n.GB(m),n.length && (f=f.concat(n)));}f=[];g.type === m && f.push(g);if(g.ze)for(var h in g.ze){k=g.ze[h];Array.isArray(k) && k.forEach(d);}return f;};l.vW=function(g,m){void 0 === g.ze[m.type] && (g.ze[m.type]=[]);g.ze[m.type].push(m);};l.yq=function(g,m){return l.GB(g,m)[0];};Object.defineProperties(l.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{R:{get:function(){return this.Xb;},enumerable:!0,configurable:!0}});l.prototype.Rh=function(){var g;g=this.Xb.kc();this.version=g >> 24;this.flags=g & 16777215;};l.prototype.vW=function(g){l.vW(this,g);};l.prototype.GB=function(g){return l.GB(this,g);};l.prototype.yq=function(g){return l.yq(this,g);};l.prototype.parse=function(){return !0;};l.prototype.zJ=function(){return !0;};l.prototype.ar=function(g){if((g=this.ze[g]) && Array.isArray(g) && 1 === g.length)return g[0];};l.prototype.lo=function(g,m){m=void 0 === m?this.Xb.offset:m;c.assert(m >= this.startOffset + 8 && m + g <= this.startOffset + this.UK,"Removal range [0x" + m.toString(16) + "-0x" + (m + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.UK).toString(16) + ")");this.Xb.lo(g,m,this);};l.prototype.rfa=function(g,m,d){d=void 0 === d?this.Xb.offset:d;c.assert(d >= this.startOffset + 8 && d + g <= this.startOffset + this.UK,"Removal range [0x" + d.toString(16) + "-0x" + (d + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.UK).toString(16) + ")");this.Xb.rfa(g,m,d,this);};l.prototype.xjb=function(g,m,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.GZa(g,m));}return f;}return this.GZa(g,m);};l.prototype.fz=function(g){var m,d;d=this;void 0 === m && (m={});g.forEach(function(f){var h,k;if("offset" === f.type){h=f.offset;if(0 < h % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.Xb.offset+=h / 8;}else for(h in f){k=f[h];m[h]="string" === typeof k?d.xjb(k):d.xjb(k.type,k.length,k.FHb);}});return m;};l.prototype.GZa=function(g,m){var d;d=this.byteLength - this.Xb.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(g){case "int8":g=this.Xb.Nd();break;case "int64":g=this.Xb.km();break;case "int32":g=this.Xb.kc();break;case "int16":g=this.Xb.Fh();break;case "string":g=this.Xb.lcc(Math.min(m,d));break;default:throw Error("Invalid type: " + g);}return g;};l.wd=!1;return l;})();b.Bg=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vg="IsTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pz=b.QWa=b.yzb=b.jr=b.Jf=b.wn=b.dx=b.u=void 0;(function(a){a[a.Audio=0]="Audio";a[a.IWa=1]="Video";})(b.u || (b.u={}));(function(a){a[a.Oz=0]="Default";a[a.aA=1]="Microsoft";})(b.dx || (b.dx={}));(function(a){a[a.Oz=0]="Default";a[a.qM=1]="Chrome";a[a.aA=2]="Microsoft";})(b.wn || (b.wn={}));(function(a){a[a.IU=0]="SD";a[a.l4=1]="HD";a[a.dN=2]="UHD";a[a.gx=3]="DV";a[a.AM=4]="HDR10";a[a.oD=5]="AVCHigh";a[a.PD=6]="VP9";a[a.Il=7]="AV1";})(b.Jf || (b.Jf={}));(function(a){a[a.e5=0]="Level_1_4";a[a.sH=1]="Level_2_2";})(b.jr || (b.jr={}));b.yzb=function(){};(function(a){a[a.irc=0]="Platform";a[a.woc=1]="CurrentTitle";})(b.QWa || (b.QWa={}));b.Pz="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jh="ClockSymbol";},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Hla=b.xj=b.Kc=void 0;c=a(0);l=a(929);g=a(21);(function(m){m[m.Cl=0]="startPlayback";m[m.gl=1]="endPlayback";m[m.pn=2]="underflow";})(b.Kc || (b.Kc={}));b.xj={Du:"startplay",pC:"midplay",DB:"endplay",GZ:"intrplay",iB:"chgstrm",uR:"playbackaborted",e1:"renderstrmswitch",wG:"repos",Ow:"resumeplay",W1:"statechanged",HI:"aseReport"};r=(function(){function m(d){this.config=d;this.lL=[];}m.prototype.cg=function(d){var f,h;h=c.__read(this.config.JHb.filter(function(k){return k.ke === d.ke;}),1)[0];this.config.qSb && (null !== (f=null === h || void 0 === h?void 0:h.enabled) && void 0 !== f?f:d.enabled)?this.lL.push(d):d.Wa && d.Wa();};m.prototype.qZb=function(d){return (0,g.Oc)(this.lL,function(f){return f.ke === d.ke;});};m.prototype.ll=function(d,f){var h,k,n,v,t;k={};n=[];try{for(var p=c.__values(this.lL),q=p.next();!q.done;q=p.next()){v=q.value;try{t=v.ll({Qg:d,SF:f});t && (v.ju?k[v.ju]=t:k=c.__assign(c.__assign({},k),t));}catch(u){n.push(Error(("").concat(v.ke,"::").concat(u)));}}}catch(u){var w;w={error:u};}finally{try{q && !q.done && (h=p.return) && h.call(p);}finally{if(w)throw w.error;}}n.length && (k["rpt-error"]=l.aia.stringify(new l.aia("Reporting error",n)));return k;};return m;})();b.Hla=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(76);b.default={Xnc:{ux:0,yrc:1,name:["STARTUP","STEADY"]},E4:{Yh:0,xrc:1,uzb:2,name:["STARTING","STABLE","UNSTABLE"]},de:{T:r.u.T,J:r.u.J,Za:r.u.Za,name:["AUDIO","VIDEO","TEXT"]},Vpc:{T:r.u.T,J:r.u.J,Za:r.u.Za,name:["AUDIO","VIDEO","TEXT"]},Wh:{URL:0,IH:1,LOCATION:2,cA:3,name:["URL","SERVER","LOCATION","NETWORK"]},$j:{HAVE_NOTHING:0,wD:1,vD:2,PT:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},tx:{Dnc:0,upc:1,Zqc:2,vqc:3,Tqc:4,Yrc:5,zpc:6,Upc:7,ux:8,Cg:9,Ska:10,eyb:11,sia:12,ewb:13,dwb:14,Myb:15,Lyb:16,jwb:17,czb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},Xoc:{cA:0,xoc:1,name:["NETWORK","DECODE"]},vrc:{yoc:"delayedSeamless",Hpc:"hideLongTransition"}};},function(r,b,a){var m,d;function c(f,h){return f && f.nw && (h || !1 !== f.Tv);}function l(f,h,k){return !m.Oa(f) || f < h?h:f > k?k:f;}function g(f){if(!(this instanceof g))return new g(f);this.$d=m.Oa(f)?f:void 0;}m=a(12);d=new (a(3).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(f,h){if(!f)throw (f=h?" : " + h:"",d.error("Assertion failed" + f),Error("ASEJS_STREAM_SELECTOR assertion failed" + f));},mK:c,lua:function(f,h,k){var p,q,v,t;function n(w){var u;u=f[w];if(!u.nw || k && !k(u,w))return !1;t=w;return !0;}p=f.length;q=0;v=p;m.isArray(h) && (q=l(h[0],0,p),v=l(h[1],0,p),h=h[2]);h=l(h,q - 1,v);for(p=h - 1;p >= q;--p){if(n(p))return t;}for(p=h + 1;p < v;++p){if(n(p))return t;}return -1;},k7b:function(f,h){return Math.floor(f / (125 * h) * 1E3);},CJb:function(f,h){return Math.ceil(f / 1E3 * h * 125);},Dvc:function(f,h){return !f.slice(h + 1).some(c);},Tp:g,Oc:function(f,h){var k;return f.some(function(n,p,q){k=n;return h(n,p,q);})?k:void 0;},ot:function(f,h){var k;return f.some(function(n,p,q){k=p;return h(n,p,q);})?k:-1;},fX:l};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Di="UtilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zi="Base64EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pia="ConfigurableInputsSymbol";b.vn="ValidatingConfigurableInputsSymbol";b.A3="ConfigNameSymbol";b.$T="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vj="AsyncComponentLoaderSymbol";},function(r,b,a){var m,d,f;function c(h){var k,n,p,t;p=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var q=(k=void 0,m.__values(Object.getOwnPropertyNames(h))),v=q.next();!v.done;v=q.next()){t=v.value;-1 === p.indexOf(t) && p.push(t);}}catch(w){k={error:w};}finally{try{v && !v.done && (n=q.return) && n.call(q);}finally{if(k)throw k.error;}}h=Object.getPrototypeOf(h);}return p;}function l(h,k,n,p,q){var v;Object.getOwnPropertyNames(h).filter(function(t){return q(t) && (n || !Object.prototype.hasOwnProperty.call(k,t)) && (p || !((t in k)));}).forEach(function(t){v=Object.getOwnPropertyDescriptor(h,t);void 0 !== v && Object.defineProperty(k,t,v);});}function g(h,k,n,p){var q,v;q=[];n || (q=Object.getOwnPropertyNames(k));p || (q=c(k));v=Object.getPrototypeOf(h);null !== v && v !== Object.prototype && g(v,k,n,p);l(h,k,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.ef=b.BMb=void 0;m=a(0);d=a(2);b.BMb=g;f=Object.getOwnPropertyNames(Function);b.ef=function(h,k,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || (0,d.assert)(!n);h.prototype?(g(h.prototype,k.prototype,n,p),l(h,k,n,p,function(q){return -1 === f.indexOf(q);})):l(h,k.prototype,n,p,function(q){return -1 === f.indexOf(q);});return k;};},function(r,b,a){var l;function c(g,m,d,f,h,k,n,p,q,v,t,w){this.code=void 0 === g?l.aa.Ho:g;this.xc=m;this.vd=d;this.gp=f;this.rC=h;this.message=k;this.details=n;this.data=p;this.jl=q;this.Z$b=v;this.alert=t;this.wpa=w;this.ja=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.rd=void 0;l=a(4);c.pf=function(g){var m,d,f;if(g){m=g.stack;d=g.number;f=g.message;f || (f="" + g);m?(g="" + m,0 !== g.indexOf(f) && (g=f + "\n" + g)):g=f;d && (g+="\nnumber:" + d);return g;}return "";};c.prototype.KX=function(g){this.details=c.pf(g);this.data=g;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.xc,extCode:this.vd,edgeCode:this.gp,mslCode:this.rC,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.jl,playbackServiceError:this.Z$b};};c.Gua=function(g,m){return new c(g,l.Y.rn,void 0,void 0,void 0,void 0,m.message,m.stack);};c.Mqb=function(g,m){return new c(g,m,void 0,void 0,void 0,void 0,void 0,void 0);};c.Mmc=function(g,m,d){return new c(g,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.rd=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YWa="WindowTimersSymbol";b.qH="JSONSymbol";b.BWa="UserAgentSymbol";b.MM="NavigatorSymbol";b.Kwb="MediaSourceSymbol";b.ZOa="LocationSymbol";b.FKa="DateSymbol";b.bla="PerformanceSymbol";b.x5="PlatformExtraInfoSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(1112),b);r.__exportStar(a(161),b);r.__exportStar(a(1113),b);r.__exportStar(a(1114),b);r.__exportStar(a(1115),b);r.__exportStar(a(1116),b);r.__exportStar(a(464),b);r.__exportStar(a(1117),b);r.__exportStar(a(1118),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lp=b.nx=b.Tz=void 0;(function(a){a[a.SVa=0]="Test";a[a.jOa=1]="Int";a[a.dzb=2]="Staging";a[a.tyb=3]="Prod";})(b.Tz || (b.Tz={}));(function(a){a[a.EU=0]="PreferMsl";a[a.OTa=1]="PreferNoMsl";a[a.cxb=2]="NoMsl";})(b.nx || (b.nx={}));b.Lp="GeneralConfigSymbol";},function(r,b,a){var m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D;function c(E){var G,F,L;G=B(E,0,1);F=B(E,-1);if("%" === G && "%" !== F)throw new m("invalid intrinsic syntax, expected closing `%`");if("%" === F && "%" !== G)throw new m("invalid intrinsic syntax, expected opening `%`");L=[];z(E,C,function(O,K,I,M){L[L.length]=I?z(M,D,"$1"):K || O;});return L;}function l(){throw new f();}function g(E){try{return d('"use strict"; return (' + E + ").constructor;")();}catch(G){}}m=SyntaxError;d=Function;f=TypeError;h=Object.getOwnPropertyDescriptor;if(h)try{h({},"");}catch(E){h=null;}b=h?(function(){try{return (arguments.callee,l);}catch(E){try{return h(arguments,"callee").get;}catch(G){return l;}}})():l;k=a(320)();n=Object.getPrototypeOf || (function(E){return E.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:n(Uint8Array);v={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":k?n([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && k?n(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && k?n(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k?n(("")[Symbol.iterator]()):void 0,"%Symbol%":k?Symbol:void 0,"%SyntaxError%":m,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":f,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(E){b=n(n(E));v["%Error.prototype%"]=b;}t=function F(G){var L,O;if("%AsyncFunction%" === G)L=g("async function () {}");else if("%GeneratorFunction%" === G)L=g("function* () {}");else if("%AsyncGeneratorFunction%" === G)L=g("async function* () {}");else if("%AsyncGenerator%" === G){O=F("%AsyncGeneratorFunction%");O && (L=O.prototype);}else "%AsyncIteratorPrototype%" === G && (O=F("%AsyncGenerator%")) && (L=n(O.prototype));return v[G]=L;};w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(214);u=a(108);x=b.call(Function.call,Array.prototype.concat);y=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);B=b.call(Function.call,String.prototype.slice);A=b.call(Function.call,RegExp.prototype.exec);C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;r.exports=function(G,F){var L,O,K,I,M,H,J,N,P;if("string" !== typeof G || 0 === G.length)throw new f("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof F)throw new f('"allowMissing" argument must be a boolean');if(null === A(/^%?[^%]*%?$/,G))throw new m("`%` may not be present anywhere but at the beginning and end of the intrinsic name");L=c(G);O=0 < L.length?L[0]:"";K="%" + O + "%";I=K;if(u(w,I)){M=w[I];I="%" + M[0] + "%";}if(u(v,I)){H=v[I];H === p && (H=t(I));if("undefined" === typeof H && !F)throw new f("intrinsic " + K + " exists, but is not available. Please file an issue!");}else throw new m("intrinsic " + K + " does not exist!");K=H;I=!1;M && (O=M[0],y(L,x([0,1],M)));M=1;for(H=!0;M < L.length;M+=1){J=L[M];N=B(J,0,1);P=B(J,-1);if(('"' === N || "'" === N || "`" === N || '"' === P || "'" === P || "`" === P) && N !== P)throw new m("property names with quotes must have matching quotes");"constructor" !== J && H || (I=!0);O+="." + J;N="%" + O + "%";if(u(v,N))K=v[N];else if(null != K){if(!((J in K))){if(!F)throw new f("base intrinsic for " + G + " exists, but the property is not available.");return;}h && M + 1 >= L.length?(P=h(K,J),K=(H=!!P) && ("get" in P) && !(("originalValue" in P.get))?P.get:K[J]):(H=u(K,J),K=K[J]);H && !I && (v[N]=K);}}return K;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CD="named";b.i5="name";b.PU="unmanaged";b.fRa="optional";b.ZT="inject";b.vH="multi_inject";b.MVa="inversify:tagged";b.NVa="inversify:tagged_props";b.Kka="inversify:paramtypes";b.ztb="design:paramtypes";b.AU="post_construct";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I={jH:"playready-h264mpl30-dash",kH:"playready-h264mpl31-dash",k4:"playready-h264mpl40-dash",DMa:"h264mpl30-dash-playready-prk-qc",EMa:"h264mpl31-dash-playready-prk-qc",FMa:"h264mpl40-dash-playready-prk-qc",BMa:"playready-h264hpl22-dash",e4:"playready-h264hpl30-dash",g4:"playready-h264hpl31-dash",i4:"playready-h264hpl40-dash",CMa:"h264hpl22-dash-playready-live",f4:"h264hpl30-dash-playready-live",h4:"h264hpl31-dash-playready-live",j4:"h264hpl40-dash-playready-live",ima:"vp9-profile0-L21-dash-cenc",h6:"vp9-profile0-L30-dash-cenc",i6:"vp9-profile0-L31-dash-cenc",SU:"vp9-profile0-L40-dash-cenc",xja:"hevc-main10-L30-dash-cenc",yja:"hevc-main10-L31-dash-cenc",zja:"hevc-main10-L40-dash-cenc",Aja:"hevc-main10-L41-dash-cenc",RT:"hevc-main10-L50-dash-cenc",ST:"hevc-main10-L51-dash-cenc",G4:"hevc-main10-L30-dash-cenc-prk",J4:"hevc-main10-L31-dash-cenc-prk",M4:"hevc-main10-L40-dash-cenc-prk",P4:"hevc-main10-L41-dash-cenc-prk",H4:"hevc-main10-L30-dash-cenc-prk-do",K4:"hevc-main10-L31-dash-cenc-prk-do",N4:"hevc-main10-L40-dash-cenc-prk-do",Q4:"hevc-main10-L41-dash-cenc-prk-do",S4:"hevc-main10-L50-dash-cenc-prk-do",U4:"hevc-main10-L51-dash-cenc-prk-do",F4:"hevc-main10-L30-dash-cenc-live",I4:"hevc-main10-L31-dash-cenc-live",L4:"hevc-main10-L40-dash-cenc-live",O4:"hevc-main10-L41-dash-cenc-live",R4:"hevc-main10-L50-dash-cenc-live",T4:"hevc-main10-L51-dash-cenc-live",E3:"hevc-dv5-main10-L30-dash-cenc-prk",G3:"hevc-dv5-main10-L31-dash-cenc-prk",JT:"hevc-dv5-main10-L40-dash-cenc-prk",J3:"hevc-dv5-main10-L41-dash-cenc-prk",L3:"hevc-dv5-main10-L50-dash-cenc-prk",N3:"hevc-dv5-main10-L51-dash-cenc-prk",Yia:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Zia:"hevc-dv5-main10-L41-dash-cenc-prk-qc",$ia:"hevc-dv5-main10-L50-dash-cenc-prk-qc",aja:"hevc-dv5-main10-L51-dash-cenc-prk-qc",F3:"hevc-dv5-main10-L30-dash-cenc-prk-do",H3:"hevc-dv5-main10-L31-dash-cenc-prk-do",I3:"hevc-dv5-main10-L40-dash-cenc-prk-do",K3:"hevc-dv5-main10-L41-dash-cenc-prk-do",M3:"hevc-dv5-main10-L50-dash-cenc-prk-do",O3:"hevc-dv5-main10-L51-dash-cenc-prk-do",n4:"hevc-hdr-main10-L30-dash-cenc-prk",q4:"hevc-hdr-main10-L31-dash-cenc-prk",QT:"hevc-hdr-main10-L40-dash-cenc-prk",v4:"hevc-hdr-main10-L41-dash-cenc-prk",y4:"hevc-hdr-main10-L50-dash-cenc-prk",B4:"hevc-hdr-main10-L51-dash-cenc-prk",o4:"hevc-hdr-main10-L30-dash-cenc-prk-do",r4:"hevc-hdr-main10-L31-dash-cenc-prk-do",t4:"hevc-hdr-main10-L40-dash-cenc-prk-do",w4:"hevc-hdr-main10-L41-dash-cenc-prk-do",z4:"hevc-hdr-main10-L50-dash-cenc-prk-do",C4:"hevc-hdr-main10-L51-dash-cenc-prk-do",m4:"hevc-hdr-main10-L30-dash-cenc-live",p4:"hevc-hdr-main10-L31-dash-cenc-live",s4:"hevc-hdr-main10-L40-dash-cenc-live",u4:"hevc-hdr-main10-L41-dash-cenc-live",x4:"hevc-hdr-main10-L50-dash-cenc-live",A4:"hevc-hdr-main10-L51-dash-cenc-live",zHa:"av1-main-L20-dash-cbcs-prk",AHa:"av1-main-L21-dash-cbcs-prk",mD:"av1-main-L30-dash-cbcs-prk",nD:"av1-main-L31-dash-cbcs-prk",kT:"av1-main-L40-dash-cbcs-prk",lT:"av1-main-L41-dash-cbcs-prk",l3:"av1-main-L50-dash-cbcs-prk",m3:"av1-main-L51-dash-cbcs-prk"};b.Qd={x3:[b.I.jH,b.I.kH,b.I.k4],h3:[b.I.e4,b.I.g4,b.I.i4],g3:[b.I.f4,b.I.h4,b.I.j4],Oha:[b.I.h6,b.I.i6,b.I.SU],ioc:[b.I.xja,b.I.yja,b.I.zja,b.I.Aja,b.I.RT,b.I.ST],Hia:[b.I.G4,b.I.J4,b.I.M4,b.I.P4,b.I.RT,b.I.ST],Iia:[b.I.H4,b.I.K4,b.I.N4,b.I.Q4,b.I.S4,b.I.U4],Gia:[b.I.F4,b.I.I4,b.I.L4,b.I.O4,b.I.R4,b.I.T4],Eia:[b.I.n4,b.I.q4,b.I.QT,b.I.v4,b.I.y4,b.I.B4],Fia:[b.I.o4,b.I.r4,b.I.t4,b.I.w4,b.I.z4,b.I.C4],Dia:[b.I.m4,b.I.p4,b.I.s4,b.I.u4,b.I.x4,b.I.A4],xJa:[b.I.E3,b.I.JT,b.I.L3,b.I.G3,b.I.J3,b.I.N3],yJa:[b.I.F3,b.I.I3,b.I.M3,b.I.H3,b.I.K3,b.I.O3],zJa:[b.I.mD,b.I.nD,b.I.kT,b.I.lT,b.I.l3,b.I.m3]};b.pe={lH:"heaac-2-dash",D4:"heaac-5.1-dash",mH:"heaac-2hq-dash",oA:"xheaac-dash",HT:"ddplus-2.0-dash",C3:"ddplus-5.1-dash",IT:"ddplus-atmos-dash"};b.un={Oyb:"simplesdh",Ria:"dfxp-ls-sdh",ANa:"imsc1.1",k6:"webvtt-lssdh-ios8",KM:"nflx-cmisc"};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.w3a=b.Kxa=b.zva=b.Nva=b.Jaa=b.wNa=b.Cyb=b.ix=b.eNa=b.T5=b.S5=b.UWa=b.VWa=b.vRa=b.Z3=b.TEMPORARY=b.fx=void 0;c=a(15);l=a(9);g=a(172);b.fx="cenc";b.TEMPORARY="temporary";b.Z3="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.vRa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.VWa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.UWa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.S5="SW_SECURE_CRYPTO";b.T5="SW_SECURE_DECODE";b.eNa="HW_SECURE_DECODE";b.ix="HW_SECURE_ALL";b.Cyb={S5:"SW_SECURE_CRYPTO",T5:"SW_SECURE_DECODE",eNa:"HW_SECURE_DECODE",ix:"HW_SECURE_ALL"};b.wNa=[b.ix];b.Jaa=function(m){var d;d=m.getConfiguration();return [b.ix,b.T5,b.S5].find(function(f){var h;return null === (h=d.videoCapabilities) || void 0 === h?void 0:h.some(function(k){return k.robustness === f;});});};b.Nva=function(m){var d,k;try{for(var f=/\((\d[^)]+)\)/g,h;h=f.exec(m);){k=Number(h[1]);(0,c.Oa)(k) && (d=k);}}catch(n){}return d;};b.zva=function(m){var d;d={};try{m.forEach(function(f){var h,k;if(f.qJ){for(var n=(0,l.ZA),p=f.qJ,q=0,v=new Uint8Array(16),t=0;t < p.length;t+=2){v[q++]=parseInt(p.slice(t,t + 2),16);}n=n(v);f=null !== (h=f.height) && void 0 !== h?h:f.BDa;d[n]=Math.max(f,null !== (k=d[n]) && void 0 !== k?k:0);}});}catch(f){}return d;};b.Kxa=function(m){return g.Te.Il.test(m);};b.w3a=function(m){return m.robustness?m.keySystem + "." + m.robustness:m.keySystem;};},function(r,b,a){var h,k,n,p,q,v;function c(){var t,w;if(t=b.Saa.DZa)return t;t=p.l5.search.substr(1);w=t.indexOf("#");0 <= w && (t=t.substr(0,w));t=l(t);return b.Saa.DZa=t;}function l(t){for(var w=/[+]/g,u=(t || "").split("&"),x={},y,z=0;z < u.length;z++){t=(0,n.trim)(u[z]);y=t.indexOf("=");0 <= y?x[decodeURIComponent(t.substr(0,y).replace(w,"%20")).toLowerCase()]=decodeURIComponent(t.substr(y + 1).replace(w,"%20")):x[t.toLowerCase()]=null;}return x;}function g(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function m(t){return g(t.constructor);}function d(t){return p.sort.call(t,function(w,u){return w - u;});}function f(t){for(var w=0,u=t.length;u--;){w+=t[u];}return w;}Object.defineProperty(b,"__esModule",{value:!0});b.yac=b.TJ=b.d9a=b.jca=b.tac=b.mcb=b.rsb=b.ssb=b.jVb=b.Fv=b.dMb=b.Z$=b.pUb=b.RK=b.Irb=b.nT=b.Jrb=b.p3=b.Hrb=b.Z1b=b.createElement=b.vX=b.cbc=b.SAa=b.ava=b.getFunctionName=b.u0=b.Saa=b.jZb=b.pjb=b.a0a=b.E3a=b.jcc=b.KE=b.l3a=void 0;h=a(17);k=a(9);n=a(23);p=a(14);q=a(15);v=a(43);b.l3a=function(t,w){if(t === w)return !0;if(!t || !w)return !1;for(var u in t){if(t.hasOwnProperty(u) && (!w.hasOwnProperty(u) || t[u] !== w[u]))return !1;}return !0;};b.KE=b.KE || (function(t,w){if(t.length == w.length){for(var u=t.length;u--;){if(t[u] != w[u])return !1;}return !0;}return !1;});b.jcc=function(t){var w;if(t){w=t.length;if(w)return (w=(0,n.ijb)(0,w - 1),t[w]);}};b.E3a=function(t,w){if(t.length != w.length)return !1;t.sort();w.sort();for(var u=t.length;u--;){if(t[u] !== w[u])return !1;}return !0;};b.a0a=function(t,w,u){function x(){t.removeEventListener(w,x);u.apply(this,arguments);}t.addEventListener(w,x);};b.pjb=function(){var t,w,u,x,y,z;t=p.Xh.cookie.split("; ");w=t.length;y={};for(u=0;u < w;u++){if(x=(0,n.trim)(t[u])){z=x.indexOf("=");0 < z && (y[x.substr(0,z)]=x.substr(z + 1));}}return y;};b.jZb=c;b.Saa=Object.assign(c,{DZa:void 0});b.u0=l;b.getFunctionName=g;b.ava=m;b.SAa=function(t){var w;w="";(0,q.isArray)(t) || (0,q.mya)(t)?w=p.reduce.call(t,function(u,x){return u + (32 <= x && 128 > x?(0,p.IVa)(x):".");},""):(0,q.Og)(t)?w=t:(0,n.zh)(t,function(u,x){w+=(w?", ":"") + "{" + u + ": " + ((0,q.qd)(x)?g(x) || "function":x) + "}";});return "[" + m(t) + " " + w + "]";};b.cbc=function(t,w){t.firstChild?t.insertBefore(w,t.firstChild):t.appendChild(w);};b.vX=b.vX || (function(t){var w;w="";(0,n.zh)(t,function(u,x){w+=(w?";":"") + u + ":" + x;});return w;});b.createElement=b.createElement || (function(t,w,u,x){var y;y=p.Xh.createElement(t);w && (y.style.cssText=w);u && (y.innerHTML=u);x && (0,n.zh)(x,function(z,B){y.setAttribute(z,B);});return y;});b.Z1b=function(t,w){var u;u=t[0];if(w <= u[0])return u.slice(1);for(var x=1,y;y=t[x++];){if(w <= y[0]){t=(w - u[0]) / (y[0] - u[0]);w=[];for(x=1;x < u.length;x++){w.push((u[x] || 0) + t * ((y[x] || 0) - (u[x] || 0)));}return w;}u=y;}return u.slice(1);};b.Hrb=function(t,w){var y;for(var u={},x=0;x < w.length;x++){y=w[x];if("string" != typeof y && "number" != typeof y)return !1;u[w[x]]=1;}for(x=0;x < t.length;x++){if((y=t[x],!u[y]))return !1;}return !0;};b.p3=d;b.Jrb=f;b.nT=function(t,w){var u,x,y,z;u=-1;x=t.length;if(1 === arguments.length){for(;++u < x && !(null != (y=t[u]) && y <= y);){y=void 0;}for(;++u < x;){null != (z=t[u]) && z > y && (y=z);}}else {for(;++u < x && !(null != (y=w.call(t,t[u],u)) && y <= y);){y=void 0;}for(;++u < x;){null != (z=w.call(t,t[u],u)) && z > y && (y=z);}}return y;};b.Irb=function(t,w){var u,x,y,z;u=-1;x=t.length;if(1 === arguments.length){for(;++u < x && !(null != (y=t[u]) && y <= y);){y=void 0;}for(;++u < x;){null != (z=t[u]) && y > z && (y=z);}}else {for(;++u < x && !(null != (y=w.call(t,t[u],u)) && y <= y);){y=void 0;}for(;++u < x;){null != (z=w.call(t,t[u],u)) && y > z && (y=z);}}return y;};b.RK=function(t){return (0,q.qd)(t.then)?t:new Promise(function(w,u){t.oncomplete=function(){w(t.result);};t.onerror=function(){u(t.error);};});};b.pUb=function(t,w){var x,y,z,B,A,C;function u(D){0 > x.indexOf(D) && (0,q.Oa)(D) && x.push(D);}t=t.slice();d(t);x=[];if(!w || !w.length)return t;if(!t.length)return [];y=w.length;try{for(;y--;){B="" + w[y];A=(0,n.Ck)(B);switch(B[B.length - 1]){case "-":for(z=t.length;z--;){C=t[z];if(C < A){u(C);break;}}break;case "+":for(z=0;z < t.length;z++){if((C=t[z],C > A)){u(C);break;}}break;default:0 <= t.indexOf(A) && u(A);}}}catch(D){}x.length || x.push(t[0]);d(x);return x;};b.Z$=b.Z$ || (function(t,w,u){var x;if(t / w > u){x=(0,p.Op)(w * u);t=w;}else (x=t,t=(0,p.Op)(t / u));return {width:x,height:t};});b.dMb=function(t,w,u){for(var x=[],y=0;y < w;y++){x.push((0,p.SPa)(t[y] - u,2));}return (0,p.TPa)(f(x) / x.length);};b.Fv=function(t,w){var u;u=t.length;w=(u - 1) * w + 1;if(1 === w)return t[0];if(w == u)return t[u - 1];u=(0,p.IM)(w);return t[u - 1] + (w - u) * (t[u] - t[u - 1]);};b.jVb=function(t,w){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");w=(0,q.isArray)(w)?w:[w];for(var u=t.length,x=0;x < u;x++){for(var y=0;y < w.length;y++){if(t[x].type == w[y])return t[x];}}throw Error("Box not found " + w);};b.ssb=function(t){return t.fXb("trak/mdia/minf/stbl/stsd/" + h.fJa + "|" + h.gJa).children.filter(function(w){return "sinf" == w.type && w.Guc.schm.Dxc == v.fx;})[0].fXb("schi/tenc").Jq;};b.rsb=function(t){var u;function w(x,y){var z;z=u[x];u[x]=u[y];u[y]=z;}u=new Uint8Array(t);w(0,3);w(1,2);w(4,5);w(6,7);return u;};b.mcb=function(){return (0,q.qd)(p.hf.requestMediaKeySystemAccess);};b.tac=function(t){return function(w){return w && w[t];};};(0,q.qd)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,w){var u,x;void 0 === t && (t=0);void 0 === w && (w=this.byteLength);t=Math.floor(t);w=Math.floor(w);0 > t && (t+=this.byteLength);0 > w && (w+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);if(0 >= w - t)return new ArrayBuffer(0);u=new ArrayBuffer(w - t);x=new Uint8Array(u);t=new Uint8Array(this,t,w - t);x.set(t);return u;});b.jca=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.d9a=function(){var t,w;t=new ArrayBuffer(4);w=new Uint8Array(t);t=new Uint32Array(t);w[0]=161;w[1]=178;w[2]=195;w[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.TJ=function(){var t,w,u;try{t=/playercore.*js/;w=p.ox.getEntries("resource").filter(function(x){return null !== t.exec(x.name);});if(w && 0 < w.length){u=(0,p.Op)(w[0].duration);return JSON.stringify(u);}}catch(x){}};b.yac=function(t,w,u){if(t && t.length){if(u && u.iLb)try{t.forEach(function(x,y){var z;z=(y=u.iLb[y]) && y.media;z && (0,q.Og)(z)?(!1,z=(0,k.st)(z).buffer,x.media={arrayBuffer:z,length:z.byteLength,stream:w,Cc:y.cdn}):k.log.warn("chunk not in cache",x.Ch);});}catch(x){k.log.error("error reading cached chunks",x);}else k.log.warn("chunks not available in cached stream",u.type);}else k.log.warn("chunks not available in mediabuffer",u.type);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rp="PlatformSymbol";b.y5="PlatformMutableSymbol";},function(r,b,a){var m,d,f;function c(h){return function(k,n){return k.WCa(n,h);};}function l(h,k){return h.Zea.ccc[k] || g(h,k);}function g(h,k){h=h.VB.data[k];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.WA=b.dDa=b.object=b.oTb=b.url=b.ga=b.cm=b.zGa=b.b2b=b.ML=b.string=b.eD=b.Dd=b.FF=b.config=void 0;m=a(52);d=a(5);f=a(146);b.config=function(h,k,n){n=void 0 === n?!1:n;return function(p,q,v){var t,w;t=void 0 !== k?k:q;w=v.get;void 0 !== w && (v.get=function(){var u;if(!this.U2b(q))return this.tZb(q);a:{u=(this.kHb || n?l:g)(this,t.toString());if(void 0 !== u)if((u=h(this.Y_,u),u instanceof f.mr))this.V7a(t,u);else break a;u=w.bind(this)();}this.HDa(q,u);return u;});return v;};};b.FF=function(h,k){return h.tjb(k);};b.Dd=function(h,k){return h.TCa(k);};b.eD=function(h,k){return h.ys(k);};b.string=function(h,k){return h.WCa(k);};b.ML=function(h,k){return h.rl(k,b.string);};b.b2b=function(h,k){return h.rl(k,b.FF);};b.zGa=function(h,k){return h.rl(k,b.eD);};b.cm=function(h,k){h=h.ys(k);return h instanceof f.mr?h:(0,d.$b)(h);};b.ga=function(h,k){h=h.ys(k);return h instanceof f.mr?h:(0,m.ga)(h);};b.url=c(/^\S+$/);b.oTb=function(h){return function(k,n){return k.sjb(n,h);};};b.object=function(){return function(h,k){return h.ujb(k);};};b.dDa=c;b.WA=function(h,k){return function(n,p){return n.rl(p,h,k);};};},function(r,b,a){var g,m,d,f;function c(h,k){var n;n=f.call(this,h,k) || this;n.z3a=k;n.debug=h.debug;n.qa=h.vg.fb(n.z3a);return n;}function l(h,k){this.z3a=k;this.GCa={};this.VB=h.VB;this.Y_=h.Y_;this.Zea=h.Zea;}Object.defineProperty(b,"__esModule",{value:!0});b.If=b.uT=b.OVa=void 0;r=a(0);g=a(740);m=a(1);d=a(146);b.OVa="isTestAccount";l.prototype.V7a=function(){};l.prototype.HDa=function(h,k){this.GCa[h]=[k,this.VB.Cfa];};l.prototype.U2b=function(h){return g.Jka.of(this.GCa[h]).map(function(k){return k[1];}).or(-1) < this.VB.Cfa;};l.prototype.tZb=function(h){return g.Jka.of(this.GCa[h]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Va.Object.defineProperties(l.prototype,{kHb:{configurable:!0,enumerable:!0,get:function(){var h,k;if(this && this.VB && this.VB.data){h=this.VB.data[b.OVa];"undefined" !== typeof h && (k=h.toString());h=this.Y_.TCa(k);h=h instanceof d.mr?!1:h;}else h=!1;return h;}}});f=l;f=r.__decorate([(0,m.$)(),r.__param(0,(0,m.Jp)()),r.__param(1,(0,m.Jp)())],f);b.uT=f;la(c,f);c.prototype.V7a=function(h,k){this.qa.error("Invalid configuration value.",{name:h},k);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,m.Jp)()),r.__param(1,(0,m.Jp)())],a);b.If=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ak="SchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u=void 0;b.u={T:0,J:1,Za:2};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bka="LogBatcherConfigSymbol";b.Fo="LogBatcherSymbol";b.bPa="LogBatcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tn="PboCommandContextSymbol";},function(r,b,a){var g;function c(){return g.QU.apply(this,arguments) || this;}function l(m){return new g.cv(m,b.dH);}Object.defineProperty(b,"__esModule",{value:!0});b.Pa=b.tQa=b.Vja=b.ex=b.dH=b.q6b=b.E3b=b.ga=b.ut=b.Esb=void 0;g=a(332);la(c,g.QU);b.Esb=c;b.ut=l;b.ga=function(m){return new g.cv(m,b.ex);};b.E3b=function(m){return new g.cv(m,b.Vja);};b.q6b=function(m){return new g.cv(m,b.tQa);};b.dH=new c(1,"b");b.ex=new c(8 * b.dH.kh,"B",b.dH);b.Vja=new c(1024 * b.ex.kh,"KB",b.dH);b.tQa=new c(1024 * b.Vja.kh,"MB",b.dH);b.Pa=l(0);},function(r,b,a){var c,l;c=a(125);l=a(170);r.exports=function(g){return function h(d,f){switch(arguments.length){case 0:return h;case 1:return l(d)?h:c(function(k){return g(d,k);});default:return l(d) && l(f)?h:l(d)?c(function(k){return g(k,f);}):l(f)?c(function(k){return g(d,k);}):g(d,f);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.Kq=b.kic=b.Egb=void 0;b.Egb=function(a,c){return a - c;};b.kic=function(a,c){return a.localeCompare(c);};b.Kq=function(a,c){var l;l=Object.getOwnPropertyDescriptor(a,c);l && Object.defineProperty(a,c,{configurable:l.configurable,enumerable:!1,value:l.value,writable:l.writable});};b.flatten=function(a){return [].concat.apply([],ia(a));};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bub="Cannot apply @injectable decorator multiple times.";b.cub="Metadata key was used more than once in a parameter:";b.vU="NULL argument";b.qOa="Key Not Found";b.frb="Ambiguous match found for serviceIdentifier:";b.Fsb="Could not unbind serviceIdentifier:";b.Uwb="No matching bindings found for serviceIdentifier:";b.twb="Missing required @injectable annotation in:";b.uwb="Missing required @inject or @multiInject annotation in:";b.tzb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.Isb="Circular dependency found:";b.wqc="Sorry, this feature is not fully implemented yet.";b.Kvb="Invalid binding type:";b.Wwb="No snapshot available to restore.";b.Ovb="Invalid return type in middleware. Middleware must return!";b.Nvb="Value provided to function binding must be a function!";b.Qvb="The toSelf function can only be applied when a constructor is used as service identifier";b.Lvb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.hrb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Xsb="Invalid Container constructor argument. Container options must be an object.";b.Vsb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Usb="Invalid Container option. Auto bind injectable must be a boolean";b.Wsb="Invalid Container option. Skip base check must be a boolean";b.Hwb="Cannot apply @postConstruct decorator multiple times in the same class";b.dyb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.Jsb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Syb="Maximum call stack size exceeded";},function(r,b){var c,l;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Eo=b.Ua=b.Mk=void 0;(function(g){g[g.nr=0]="STANDARD";g[g.Mp=1]="LIMITED";g[g.Yqc=2]="PREVIEW";})(c || (c={}));(function(g){g[g.HAVE_NOTHING=0]="HAVE_NOTHING";g[g.HAVE_METADATA=1]="HAVE_METADATA";g[g.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";g[g.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";g[g.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(l || (l={}));(function(g){g.trb="asl_start";g.rrb="asl_comp";g.znc="asl_exc";g.srb="asl_fail";g.Vyb="stf_creat";g.svb="idb_open";g.pvb="idb_block";g.zvb="idb_upgr";g.yvb="idb_succ";g.qvb="idb_error";g.rvb="idb_invalid_state";g.uvb="idb_open_timeout";g.wvb="idb_open_wrkarnd";g.xvb="idb_storelen_exc";g.tvb="idb_open_exc";g.vvb="idb_timeout_invalid_storelen";g.Bwb="msl_load_data";g.Dwb="msl_load_no_data";g.Cwb="msl_load_failed";})(r=b.Mk || (b.Mk={}));(function(g){g.Oka="PlaybackRequestStart";g.Nka="PlaybackRequestEnd";g.H5="RequestPrefetchManifestStart";g.G5="RequestPrefetchManifestEnd";g.F5="RequestManifestStart";g.E5="RequestManifestEnd";g.D5="RequestLicenseStart";g.C5="RequestLicenseEnd";g.AT="RequestTimedTextUrlStart";g.zT="RequestTimedTextUrlEnd";g.yT="RequestAudioUrlStart";g.xT="RequestAudioUrlEnd";g.CT="RequestVideoUrlStart";g.BT="RequestVideoUrlEnd";g.Qha="AppendBufferStart";g.Pha="AppendBufferEnd";g.Kla="SetMediaKeysStart";g.Jla="SetMediaKeysEnd";g.c4="GenerateChallengeStart";g.b4="GenerateChallengeEnd";g.j3="ApplyLicenseStart";g.i3="ApplyLicenseEnd";})(b.Ua || (b.Ua={}));b.Eo=a;a.Wja=c;a.O3a=function(g){return ["STANDARD","LIMITED","PREVIEW"][g];};a.Mk=r;a.TT=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sya=b.aj=void 0;(function(a){a[a.nr=0]="STANDARD";a[a.Mp=1]="LIMITED";})(b.aj || (b.aj={}));b.Sya=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.fba=b.Pt=b.gba=b.wF=b.Pm=b.Ze=void 0;r=a(70);c=a(59);l=a(14);b.Ze=new r.Ik();b.Pm=1;b.wF=2;b.gba=3;b.Pt=4;b.fba=5;(0,c.Mg)(function(){var m,d,f;function g(h,k){if(d)d.on(h,k);else mb.addEventListener(h,k);}m=mb.jQuery;d=m && m(mb);m=(m=mb.netflix) && m.cadmium && m.cadmium.addBeforeUnloadHandler;f=l.Xh.hidden;m?m(function(h){b.Ze.Zc(b.Pm,h);}):g("beforeunload",function(h){b.Ze.Zc(b.Pm,h);});g("keydown",function(h){b.Ze.Zc(b.wF,h);});g("resize",function(){b.Ze.Zc(b.gba);});l.Xh.addEventListener("visibilitychange",function(){f !== l.Xh.hidden && (f=l.Xh.hidden,b.Ze.Zc(b.Pt));});});(function(){mb.addEventListener("error",function(g){b.Ze.Zc(b.fba,g);return !0;});})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mg=void 0;b.Mg=function(a){return setTimeout(a,0);};},function(r,b,a){(function(c){var l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.j7b=b.platform=b.bh=b.pTb=b.fYb=b.WY=b.SP=b.k5b=b.cN=b.xj=b.Kc=b.fr=b.Kl=b.mU=b.vx=b.eN=void 0;l=a(0);l.__exportStar(a(182),b);l.__exportStar(a(900),b);l.__exportStar(a(901),b);l.__exportStar(a(902),b);g=a(116);Object.defineProperties(b,{eN:{enumerable:!0,get:function(){return g.eN;}}});Object.defineProperties(b,{vx:{enumerable:!0,get:function(){return g.vx;}}});Object.defineProperties(b,{mU:{enumerable:!0,get:function(){return g.mU;}}});l.__exportStar(a(913),b);l.__exportStar(a(914),b);l.__exportStar(a(401),b);l.__exportStar(a(257),b);l.__exportStar(a(20),b);l.__exportStar(a(61),b);l.__exportStar(a(405),b);m=a(406);Object.defineProperties(b,{Kl:{enumerable:!0,get:function(){return m.Kl;}}});Object.defineProperties(b,{fr:{enumerable:!0,get:function(){return m.fr;}}});l.__exportStar(a(411),b);d=a(28);Object.defineProperties(b,{Kc:{enumerable:!0,get:function(){return d.Kc;}}});Object.defineProperties(b,{xj:{enumerable:!0,get:function(){return d.xj;}}});f=a(413);Object.defineProperties(b,{cN:{enumerable:!0,get:function(){return f.cN;}}});l.__exportStar(a(258),b);l.__exportStar(a(6),b);b.k5b=function(n){b.platform.wZ(n);if(!c.gY.xnc)return a(930).GPa;throw Error("Legacy not included in bundle");};b.SP=function(n){b.platform.wZ(n);return Promise.resolve().then(function(){return l.__importStar(a(459));}).then(function(p){return p.SP();});};b.WY=function(n,p){b.platform.wZ(n);return Promise.resolve().then(function(){return l.__importStar(a(462));}).then(function(q){return q.WY(p);});};b.fYb=function(){return a(260);};h=l.__importDefault(a(29));b.pTb=h.default;h=a(1197);b.bh=h.bh;h=l.__importDefault(a(3));b.platform=h.default;k=a(1198);b.j7b=function(){return {dv:k.dv};};}).call(this,a(131));},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(403),b);r.__exportStar(a(404),b);r.__exportStar(a(183),b);r.__exportStar(a(915),b);r.__exportStar(a(152),b);},function(r,b,a){var l,g,m,d,f;function c(){return l.uc.get(m.jd).cC.ia(f.va);}Object.defineProperty(b,"__esModule",{value:!0});b.GLb=b.s9=b.Y2a=b.ELb=b.FLb=b.yra=b.Wo=void 0;l=a(219);g=a(27);m=a(18);d=a(86);f=a(5);b.Wo=function(){return l.uc.get(m.jd).Rb().ia(f.va);};b.yra=function(){return l.uc.get(g.Jh).nf.ia(f.Go);};b.FLb=function(){return l.uc.get(m.jd).cC.ia(f.Go);};b.ELb=function(){return l.uc.get(d.Wz).uB();};b.Y2a=c;b.s9=function(){return l.uc.get(g.Jh).nf.ia(f.va);};b.GLb=function(){return c();};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qs="EmeConfigSymbol";},function(r,b){function a(c){var l;l=Error.call(this,"TimeoutError");this.message=l.message;("stack" in l) && (this.stack=l.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.JD=b.Us=void 0;la(a,Error);b.Us=a;b.JD="PromiseTimerSymbol";},function(r,b,a){var l,g;function c(m,d){var f;f=b.Sp[0];f == d && (f=b.Sp[1]);f?f.close(function(){c(m,d);}):m && m(l.mh);}Object.defineProperty(b,"__esModule",{value:!0});b.TSa=b.RSa=b.ila=b.jla=b.HD=b.kla=b.SSa=b.nla=b.mla=b.Sp=b.VSa=b.lla=void 0;l=a(17);g=a(22);b.lla=c;b.VSa=function(m,d){switch(m){case b.SSa:b.mla.push(d);return;case b.kla:b.nla.push(d);return;}(0,g.ya)(!1);};b.Sp=[];b.mla=[];b.nla=[];b.SSa=1;b.kla=3;b.HD={index:0,Ffb:void 0,rua:void 0};b.jla="network";b.ila="media";b.RSa="timedtext";b.TSa="playback";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jx=b.wU=b.ResponseType=void 0;b.ResponseType={Text:1,osc:2,gsb:3};b.wU="OPEN_CONNECT_APPLIANCE";b.jx="LegacyHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kh={kza:"logblob",ba:"manifest",a4b:"licensedmanifest",ki:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.Ayb={vUa:"X-Netflix.Request.Attempt",Ila:"X-Netflix.Client.Request.Name",nJa:"x-netflix.browsername",oJa:"x-netflix.browserversion",gRa:"x-netflix.osname",hRa:"x-xetflix.osversion",ZJa:"x-netflix.clienttype",vWa:"x-netflix.uiversion"};b.KD={vUa:"reqAttempt",Ila:"reqName",nJa:"browsername",oJa:"browserversion",gRa:"osname",hRa:"osversion",ZJa:"clienttype",vWa:"uiversion"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function l(g,m){this.key=g;this.value=m;}l.prototype.toString=function(){return this.key === c.CD?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return l;})();b.Metadata=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vs="Utf8EncoderSymbol";},function(r,b,a){var l,g;function c(){var m,d;m=this;this.mv={};this.on=function(f,h,k){m.addListener(f,h,k);};this.addListener=function(f,h,k){m.mv && (m.mv[f]=m.mv[f] || new g.zla(!0)).add(h,k);};this.removeListener=function(f,h){m.mv && m.mv[f] && m.mv[f].removeAll(h);};this.mva=function(f){return m.mv && m.mv[f]?m.mv[f].flatten():[];};d=this;this.Zc=function(f,h,k){var n;if(d.mv){n=d.mva(f);for(f={kM:0};f.kM < n.length;(f={kM:f.kM},f.kM++)){k?(function(p){return function(){var q;q=n[p.kM];(0,l.Mg)(function(){q(h);});};})(f)():n[f.kM].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Ik=void 0;l=a(59);g=a(365);c.prototype.Ji=function(){this.mv=void 0;};b.Ik=c;},function(r,b,a){var l,g,m,d;function c(f,h,k){var n,p,t;h=l.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{Hgb:h,mt:k}));if((null === f || void 0 === f?0:f.mt) && k)if(!0 === f.mt)h.args=k;else {p={};h.args=p;try{for(var q=l.__values(f.mt),v=q.next();!v.done;v=q.next()){t=v.value;p[t]=k[t];}}catch(u){var w;w={error:u};}finally{try{v && !v.done && (n=q.return) && n.call(q);}finally{if(w)throw w.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.wx=b.swa=b.ec=void 0;l=a(0);g=a(10);m=l.__importDefault(a(3));d=a(8);b.ec=function(f){return function(h,k,n){var p;p=n.value;n.value=function(){var q,v,t,w,u,x;v=(0,b.swa)(this);if(v)(t=c(f,this,arguments),w=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(k),u=v.b0a(w,t,null === f || void 0 === f?void 0:f.Wl,null === f || void 0 === f?void 0:f.qvc));q=null === v || void 0 === v?void 0:v.msa;v && (v.msa=u);try{x=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,d.hya)(x) && (x=x.then(function(z){u && (null === f || void 0 === f?0:f.return) && (u.data.resolve=z);return z;},function(z){u && (u.data.reject=("").concat(z));return Promise.reject(z);}));return x;}catch(z){var y;y=z;throw z;}finally{v && (v.msa=q);u && (u.data || (u.data={}),y?(u.data.error=("").concat(y),null === v || void 0 === v?void 0:v.kMb(u)):(null === f || void 0 === f?0:f.return) && !(0,d.hya)(x) && (u.data.lRet=x));}};};};b.swa=function(f){if(null === f || void 0 === f?0:f.sma)return f.sma;};r=(function(){function f(h){this.ks=[];this.e7=!1;this.wna={};this.L=l.__assign({Lq:10},h);Object.defineProperties(h.Ap,{sma:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.L.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.e7;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{s3b:{get:function(){return l.__spreadArray([],l.__read(this.ks),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{A0b:{get:function(){return this.wna;},enumerable:!1,configurable:!0}});f.prototype.xv=function(h){var k,n;if(!this.e7){n=null === (k=(0,b.swa)(this.L.Ap)) || void 0 === k?void 0:k.msa;n && (n.data=l.__assign(l.__assign({},n.data),h));}};f.prototype.b0a=function(h,k,n,p){var q,v,t,w;if(!this.e7){t=!1;w=null === (v=(q=this.L).f0a) || void 0 === v?void 0:v.call(q,this.L.Ap);q=c({},this.L.Ap);k=l.__assign(l.__assign(l.__assign({},w),q),k);w=0 < Object.keys(k).length;k={methodName:h,data:w?k:void 0,time:m.default.time.fa()};p && this.wna[h]++;n && this.ks.length && (n=this.ks[this.ks.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=k,t=!0));this.lMb(k);t || this.ks.push(k);this.ks.length > this.L.Lq && this.ks.shift();return k;}};f.prototype.lMb=function(h){var k;g.M && (null === (k=this.L.console) || void 0 === k?void 0:k.trace(("").concat(this.L.source,"::").concat(h.methodName),h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.L,h);};f.prototype.kMb=function(h){var k;g.M && (null === (k=this.L.console) || void 0 === k?void 0:k.error(("").concat(this.L.source,"::").concat(h.methodName),h.data));};f.prototype.Wa=function(){Object.defineProperties(this.L.Ap,{sma:{enumerable:!1,value:null,configurable:!0}});this.e7=!0;this.clear();};f.prototype.clear=function(){this.ks=[];this.wna={};};return f;})();b.wx=r;},function(r,b,a){var l,g,m,d,f;function c(h,k,n){this.context=h;this.errorCode=k;this.xec=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Bi=void 0;r=a(0);l=a(1);g=a(560);m=a(5);d=a(36);f=a(39);c.prototype.send=function(h,k,n,p,q,v){var t;t=this;v=void 0 === v?f.nx.EU:v;return this.lXb(h,k,n,v,p,q).then(function(w){return t.context.pRb.send(w.context,w.request);});};c.prototype.lXb=function(h,k,n,p,q,v){var t,w;try{t=this.context.Rdc.create(this.context.TB.uB(),k.url,n,q,p);w=this.vJb(k,h,p,v);return Promise.resolve({context:w,request:t});}catch(u){return Promise.reject(u);}};c.prototype.vJb=function(h,k,n,p){return {Bf:this.context.Bf,log:k,Xo:h.name,url:this.context.xlc((0,g.V1a)(this.context.Gi,this.context.Ri,h.name,n)),MDa:this.xec,timeout:(0,m.Vi)(59),headers:(0,g.U1a)(this.context.Ri,this.context.mJ),tl:h.tl,XIb:p};};c.prototype.Wn=function(h){return h instanceof d.rd?h:(0,g.Wn)(this.errorCode,h);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.Jp)()),r.__param(1,(0,l.Jp)()),r.__param(2,(0,l.Jp)())],a);b.Bi=a;},function(r,b,a){var l,g,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uM=b.yb=void 0;l=a(126);g=a(36);m=a(4);c.NY=function(d){if(d){if(d.includes(b.uM.CC))return l.xm.CC;if(d.includes("fps"))return l.xm.gF;if(d.includes(b.uM.Y2))return l.xm.Y2;}throw new g.rd(m.aa.zub,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.jva=function(d){switch(d){case l.xm.CC:return b.uM.CC;case l.xm.gF:return b.uM.gF;default:return b.uM.Y2;}};b.yb=c;c.hA="com.microsoft.playready";c.we="com.microsoft.playready.hardware";c.EH="com.microsoft.playready.software";c.Sub="com.apple.fps.2_0";c.n6="com.widevine.alpha";c.Ezb="com.widevine.alpha.experiment";c.hla="com.microsoft.playready.recommendation.3000";c.OSa="com.microsoft.playready.recommendation.2000";c.jvb=[c.hla];b.uM={gF:"fairplay",Y2:"widevine",CC:"playready"};},function(r,b,a){var l,g,m;function c(d,f){this.Hx=f?[f]:[];this.xna="$op$" + m++;this.Va=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ic=void 0;l=a(17);g=a(22);m=0;c.prototype.addListener=function(d,f){var h;h=this;(0,g.tsa)(d);(0,g.ya)(0 > this.Hx.indexOf(d));d[l.r5 + this.xna]=f;this.Hx=this.Hx.slice();this.Hx.push(d);this.Hx.sort(function(k,n){return h.zhc(k,n);});};c.prototype.removeListener=function(d){var f;(0,g.tsa)(d);this.Hx=this.Hx.slice();0 <= (f=this.Hx.indexOf(d)) && this.Hx.splice(f,1);};c.prototype.set=function(d,f){var h;if(this.Va !== d){h={oldValue:this.Va,newValue:d,jj:f};this.Va=d;this.MAb=f;d=this.Hx;f=d.length;for(var k=0;k < f;k++){d[k](h);}}};c.prototype.when=function(d){var f;f=this;return new Promise(function(h){function k(n){if(d(n.newValue))return (f.removeListener(k),h(n.newValue));}if(d(f.Va))return h(f.Va);f.addListener(k);});};c.prototype.zhc=function(d,f){return (d[l.r5 + this.xna] || 0) - (f[l.r5 + this.xna] || 0);};Va.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Va;}},jj:{configurable:!0,enumerable:!0,get:function(){return this.MAb;}}});b.ic=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(244);c=a(149);b.Goc=c;c=a(386);b.uWa=c;c=a(390);b.LW=c;b.Qla=r.ZQ.ze.sidx;r=a(835);b.dv=r.dv;r=a(253);b.yH=r.yH;r=a(840);b.bA=r.bA;b.GQ=r.GQ;r=a(841);b.Tja=r.Tja;r=a(89);b.xN=r.xN;a=a(842);b.u=a.u;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bfb=b.bAa=b.jg=b.u=void 0;c=a(49);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});b.jg=[c.u.T,c.u.J];b.bAa=function(l,g,m){l=l || g?g?[c.u.J]:[c.u.T]:[c.u.T,c.u.J];m && l.push(c.u.Za);return l;};b.bfb=function(l){return l === c.u.T?"audio":l === c.u.J?"video":l === c.u.Za?"text":"unknown";};},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Jl=void 0;c=a(0);l=a(2);g=c.__importDefault(a(29));m=c.__importDefault(a(187));d=a(430);f=a(20);r=a(35);h=a(188);k=a(266);a=a(78);n=(function(p){function q(v,t,w){var u;u=p.call(this,v,t) || this;q.oa(u,v,t,w);return u;}c.__extends(q,p);q.oa=function(v,t,w,u){var x;h.cx.oa(v,t,w);v.Je=w.index;v.vN=w.cb;v.Bx=w.sb;v.CFb=w.hb?w.hb:t.hb;v.DG=w.DG;v.Maa=u;v.$Xa=!!w.Vr;v.EYa=!!w.Rm;v.IZa=null !== (x=w.region) && void 0 !== x?x:0;v.ZXa=!!w.sua;v.DYa=!!w.Gy;v.pa=void 0 === w.haa || void 0 === w.Eua || w.haa === w.cb && w.Eua === w.sb?v:new k.pD(v,{cb:w.haa,sb:w.Eua});v.GCb=w.tAa;v.Szb=w.Zk;v.NBb=t.d0b;v.Qk=w.Ka?v.jgb(w.Ka):void 0;v.h_a=w.rz;v.he=!1;};q.o4a=function(v){for(var t=new Uint32Array(v.length),w=new Uint32Array(v.length),u=new Uint8Array(v.length),x=new Uint8Array(v.length),y=0,z,B,A=0;A < v.length;++A){z=v[A];B=z.kd;t[A]=z.Bx - z.vN;w[A]=B;u[A]=z.stream.Ag;void 0 !== z.hb && null !== z.hb && (x[A]=z.hb);y+=B;}return new d.Rla(t,w,v.length?v[0].W:1E3,y);};Object.defineProperties(q.prototype,{IF:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.Je;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{hb:{get:function(){return this.CFb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kqa:{get:function(){return 8 * this.ga / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cb:{get:function(){return this.vN;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sb:{get:function(){return this.Bx;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vj:{get:function(){var v,t;return null !== (t=null === (v=this.Maa) || void 0 === v?void 0:v.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vr:{get:function(){return this.$Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Rm:{get:function(){return this.EYa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.IZa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sua:{get:function(){return this.ZXa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Gy:{get:function(){return this.DYa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tAa:{get:function(){return this.GCb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zk:{get:function(){return this.Szb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ka:{get:function(){return this.Qk;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{rz:{get:function(){return this.h_a;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{haa:{get:function(){return this.pa.cb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Eua:{get:function(){return this.pa.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{DVb:{get:function(){return this.pa.Mv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jaa:{get:function(){return this.pa.Bd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Z7a:{get:function(){return this.pa.Yf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Y7a:{get:function(){return this.pa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Fua:{get:function(){return this.pa.Ud;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{CVb:{get:function(){return this.pa.Pc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sy:{get:function(){var v;v=this.DVb;(0,l.assert)(v);return v / this.stream.da.Fa;},enumerable:!1,configurable:!0}});q.prototype.Gza=function(v){this.$Xa=!!v;};q.prototype.neb=function(){this.EYa=!0;};q.prototype.pgc=function(v){this.DG={Ge:v.fva(),get QZ() {return v.Fu;}};};q.prototype.jS=function(v){this.h_a=v;};q.prototype.mgc=function(v,t,w){this.IZa=v;this.ZXa=t;this.DYa=w;};q.prototype.tj=function(v){var t,w;void 0 === v && (v={});t=this.stream.da.Fa;w=this.Qk || ({start:0,end:this.sy});v=this.jgb(v);this.pa && this.pa !== this || (this.pa=new k.pD(this,this));v.start > w.start && (this.vN=this.pa.cb + v.start * t);v.end < w.end && (this.Bx=this.pa.cb + v.end * t);this.Qk=c.__assign(c.__assign({},w),v);};q.prototype.$sa=function(v){void 0 === v && (v=1);this.Qk?this.tj({start:this.Qk.start + v,end:this.Qk.end}):this.tj({start:v});};q.prototype.ata=function(v){this.Qk?this.tj({start:this.Qk.start,end:(this.Qk.end || 0) - v}):this.tj({start:0,end:-v});};q.prototype.Hj=function(){this.Ka?this.tj({start:this.Ka.start,end:this.Ka.start}):this.tj({start:0,end:0});};q.prototype.qgc=function(v){this.Qk || this.tj();this.Qk.oga=v;};q.prototype.Mlb=function(v){this.Qk || this.tj();this.Qk.Pv=!0;v && (this.Qk.Z6a=v);};q.prototype.Nlb=function(v){this.Qk || this.tj();this.Qk.Qv=!0;v && (this.Qk.$6a=v);};q.prototype.y7a=function(v){var w;if(!(v < this.ca || v >= this.Ta) && this.Zk && this.Zk.length){v=new f.P(v + 1 - this.ca,1E3).mk(this.stream.da);for(var t=this.Zk.length - 1;0 <= t;--t){w=this.Zk[t];if(w.sj <= v)return w;}return {sj:0,ue:this.Fua};}};q.prototype.VUb=function(v){var w;if(!(v < this.ca || v >= this.Ta) && this.Zk && this.Zk.length){v=new f.P(v + 1 - this.ca,1E3).mk(this.stream.da);for(var t=this.Zk.length - 1;0 <= t;--t){w=this.Zk[t];if(w.sj <= v)return w;}return {sj:0,ue:this.Fua};}};q.prototype.n7a=function(v,t){var w,u,x;if(!(v < this.ca || v >= this.Ta)){if(!t && this.NBb)return {sj:0,ue:this.ca};w=this.da.Fa;u=this.da.W;x=Math.floor(this.Mv / w);v=Math.min((t?Math.ceil:Math.floor)((f.P.Ifb(v,u) - this.cb + (t?-1:1) * (u / 1E3 - 1)) / w),x);w=f.P.Tga(this.cb + v * w,u);return v === x?void 0:{sj:v,ue:w};}};q.prototype.hua=function(v){return this.mediaType === g.default.de.J?this.y7a(v):this.n7a(v,!1);};q.prototype.gua=function(v){return this.mediaType === g.default.de.J?this.VUb(v):this.n7a(v,!0);};q.prototype.q8=function(v){this.kd+=v.ga;this.Bx=v.sb;this.Qk && (this.pa=new k.pD(this,{cb:this.haa,sb:this.Bx}),this.Qk.end=this.sy);};q.prototype.sDa=function(v){var t,w,u;t={type:"logdata",target:"endplay",fields:{}};w=this.mediaType === g.default.de.T?"audioedit":"videoedit";u=[this.jaa === this.ca?this.Pc:this.Ud,this.jaa === this.ca?-this.duration:this.duration];v && u.push(v);t.fields[w]={type:"array",value:u};return t;};q.prototype.toString=function(){return ("[").concat(this.Sa,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.Ud,"-").concat(this.Pc,",") + ("p:").concat(this.Bd,"-").concat(this.Yf,",d:").concat(this.duration,"]");};q.prototype.toJSON=function(){var v;v=h.cx.prototype.toJSON.call(this);(0,m.default)({index:this.index,startPts:this.ca,endPts:this.Ta,"contentStartTicks:":this.cb,contentEndTicks:this.sb,contentStartPts:this.Ud,contentEndPts:this.Pc,fragmentStartPts:this.jaa !== this.ca?this.jaa:void 0,fragmentEndPts:this.Z7a !== this.Ta?this.Z7a:void 0,edit:this.Ka},v);return v;};q.prototype.x7a=function(v){var w;if(this.Zk)for(var t=0;t < this.Zk.length;++t){if(this.Zk[t].sj === v)w=this.Zk[t].offset;}return w;};q.prototype.jgb=function(v){var t,w;t=v.start || 0;w=void 0 === v.end?this.sy:Math.min(this.sy,Math.max(t,0 > v.end?this.sy + v.end:v.end));return c.__assign(c.__assign({},v),{start:t,end:w});};return q;})(h.cx);b.Jl=n;(0,r.ef)(a.Vu,n);(0,r.ef)(a.Jz,n);},function(r,b,a){var d;function c(f,h){return void 0 === f?void 0:0 === f?d.P.Pa:new d.P(f,h);}function l(f,h){return f && Math.floor(d.P.Tga(f,h));}function g(f,h){return void 0 === f || void 0 === h?void 0:f + h;}function m(f,h){return void 0 === f || void 0 === h?void 0:f - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Jz=b.Vu=void 0;d=a(20);r=(function(){function f(){}Object.defineProperties(f.prototype,{Mv:{get:function(){return m(this.sb,this.cb) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{iac:{get:function(){return g(this.cb,this.Vj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{eac:{get:function(){return g(this.sb,this.Vj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ht:{get:function(){return c(this.Mv,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{oc:{get:function(){return c(this.cb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ld:{get:function(){return c(this.sb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ed:{get:function(){return c(this.iac,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Sc:{get:function(){return c(this.eac,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{KCa:{get:function(){return c(this.Vj,this.W);},enumerable:!1,configurable:!0}});return f;})();b.Vu=r;r=(function(){function f(){}Object.defineProperties(f.prototype,{duration:{get:function(){return m(this.Ta,this.ca) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ca:{get:function(){return l(g(this.cb,this.Vj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ta:{get:function(){return l(g(this.sb,this.Vj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Jw:{get:function(){return l(this.Vj,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{el:{get:function(){return l(this.cb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ud:{get:function(){return l(this.cb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Pc:{get:function(){return l(this.sb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Bd:{get:function(){return l(g(this.cb,this.Vj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Yf:{get:function(){return l(g(this.sb,this.Vj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Un:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{HC:{get:function(){return this.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Iw:{get:function(){return this.Ta;},enumerable:!1,configurable:!0}});return f;})();b.Jz=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wu={Request:"Request",Sla:"Singleton",d6:"Transient"};b.Hk={hKa:"ConstantValue",iKa:"Constructor",uLa:"DynamicValue",sja:"Factory",Function:"Function",Instance:"Instance",$vb:"Invalid",cUa:"Provider"};b.lA={YJa:"ClassProperty",jKa:"ConstructorArgument",jma:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hOa="Injector";b.Yz=145152E5;b.UM="ProfileSymbol";},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.w5a=b.Z$a=b.dpb=b.yw=b.lda=b.cfb=void 0;r=a(683);c=a(686);l=a(707);g=a(710);a=a(711);b.cfb=r;b.lda=function(m,d){return (0,b.cfb)(function(f,h){return void 0 !== h?h:f;},m,d);};b.yw=c;b.dpb=l;b.Z$a=g;b.w5a=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kz="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ezb="StorageValidatorSymbol";b.Iz="AppStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gA="PboConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bN="TimingApiSymbol";b.rU="MilestoneTimingApiSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wz="IdProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xz="LogMessageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hr={start:"start",stop:"stop",TZ:"keepAlive",rP:"engage",splice:"splice"};b.pja="EventPboCommandFactorySymbol";b.uVa="StartEventPboCommandSymbol";b.BVa="StopEventPboCommandSymbol";b.sOa="KeepAliveEventPboCommandSymbol";b.pVa="SpliceEventPboCommandSymbol";b.TLa="EngageEventPboCommandSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(102);b.xN=function(l){c.assert("number" === typeof l);return String.fromCharCode(l >>> 24 & 255) + String.fromCharCode(l >>> 16 & 255) + String.fromCharCode(l >>> 8 & 255) + String.fromCharCode(l & 255);};b.AXa=function(l){return l.charCodeAt(3) + (l.charCodeAt(2) << 8) + (l.charCodeAt(1) << 16) + (l.charCodeAt(0) << 24);};b.wsc=function(l,g){return Math.floor(1E3 * l / g);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){l.prototype.parse.call(this,m);this.fd=this.fz([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{rvc:"int32"},{Oyc:"int32"},{offset:32,type:"offset"},{Ouc:"int16"},{Htc:{type:"int8",FHb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};g.wd=!0;return g;})(a(245).default);b.default=r;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="avc1";return g;})(r);b.zrb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="avc2";return g;})(r);b.Arb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="avc3";return g;})(r);b.Brb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="avc4";return g;})(r);b.Crb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="hvc1";return g;})(r);b.hvb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="hev1";return g;})(r);b.avb=a;r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="av01";return g;})(r);b.yrb=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bx=void 0;r=(function(){function a(c){this.re=c;}a.prototype.MEa=function(c){this.re=c;};a.prototype.Q2a=function(){this.re=void 0;};a.prototype.xY=function(c){return this.re && this.re.lea && this.re.lea(c);};a.prototype.HP=function(c){this.re && this.re.xC && this.re.xC(c);};a.prototype.iF=function(c){this.re && this.re.wC && this.re.wC(c);};a.prototype.DJ=function(c){this.re && this.re.PK && this.re.PK(c);};a.prototype.S7a=function(c){this.re && this.re.pBa && this.re.pBa(c);};a.prototype.Uv=function(c){this.re && this.re.ql && this.re.ql(c);};a.prototype.faa=function(c){this.re && this.re.n0 && this.re.n0(c);};a.prototype.GP=function(c,l,g){this.re && this.re.m0 && this.re.m0(c,l,g);};a.prototype.gaa=function(c,l,g){this.re && this.re.QK && this.re.QK(c,l,g);};a.prototype.T7a=function(c){this.re && this.re.kea && this.re.kea(c);};return a;})();b.bx=r;r.prototype.lea=r.prototype.xY;r.prototype.xC=r.prototype.HP;r.prototype.wC=r.prototype.iF;r.prototype.PK=r.prototype.DJ;r.prototype.ql=r.prototype.Uv;r.prototype.n0=r.prototype.faa;r.prototype.m0=r.prototype.GP;r.prototype.pBa=r.prototype.S7a;r.prototype.QK=r.prototype.gaa;r.prototype.kea=r.prototype.T7a;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yj={audio:"audio",video:"video",Rga:"timedtext",sGa:"trickplay"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qz="DeviceFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ci=b.exb=b.GD=void 0;c=a(15);b.GD=b.GD || (function(l,g,m){return l >= g?l <= m?l:m:g;});b.exb=function(l,g,m,d,f){return (l - g) * (f - d) / (m - g) + d;};b.Ci=function(l){if((0,c.Oa)(l))return (l / 1E3).toFixed(3);};},function(r,b,a){var c;c=a(616);r.exports=function(l){return "symbol" === typeof l?"Symbol":"bigint" === typeof l?"BigInt":c(l);};},function(r,b,a){var g,m;function c(d,f,h,k,n){var p,q,t;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():h;if(q && void 0 !== h)throw Error(g.Lvb);Reflect.Hwa(d,f) && (p=Reflect.getMetadata(d,f));h=p[n];if(Array.isArray(h)){q=0;for(var v=h;q < v.length;q++){t=v[q];if(t.key === k.key)throw Error(g.cub + " " + t.key.toString());}}else h=[];h.push(k);p[n]=h;Reflect.b$(d,p,f);}function l(d,f){return function(h,k){f(h,k,d);};}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);m=a(41);b.PL=function(d,f,h,k){c(m.MVa,d,f,k,h);};b.k2=function(d,f,h){c(m.NVa,d.constructor,f,h);};b.RE=function(d,f,h){"number" === typeof h?(d=[l(h,d)],Reflect.RE(d,f)):"string" === typeof h?Reflect.RE([d],f,h):Reflect.RE([d],f);};},function(r,b,a){var l,g;function c(m,d,f,h,k){m=void 0 === m?l.aa.Ho:m;return g.rd.call(this,m,d,f,void 0,void 0,h,g.rd.pf(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Vh=void 0;l=a(4);g=a(36);la(c,g.rd);b.Vh=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$z="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oT=b.Lrb=b.dia=b.eia=void 0;(function(a){a[a.T5a=0]="downloading";a[a.JRb=1]="downloaded";a[a.he=2]="appended";a[a.buffered=3]="buffered";a[a.NR=4]="removed";a[a.Fyc=5]="unused";})(b.eia || (b.eia={}));(function(a){a[a.waiting=1]="waiting";a[a.Lwc=2]="ondeck";a[a.T5a=4]="downloading";a[a.JRb=8]="downloaded";a[a.EZ=6]="inprogress";})(b.dia || (b.dia={}));b.Lrb="AseBufferViewSymbol";b.oT="AseBufferAccountingSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zka=b.Np=void 0;r=b.Np || (b.Np={});r.PM="PRE_FETCH";r.uyb="QC";r.nr="STANDARD";r.R5="SUPPLEMENTAL";r.zoc="DOWNLOAD";b.Zka="PboManifestCommandSymbol";},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);return m;})(Error);b.assert=function(g,m){if(!g)throw new l(m || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dka="6674654e-696c-5078-6966-665374726d21";b.Eka="6674654e-696c-4878-6165-6465722e7632";b.JQa="6674654e-696c-5078-6966-66496e646578";b.k5="6674654e-696c-4d78-6f6f-6653697a6573";b.j5="6674654e-696c-5378-6565-6b506f696e74";b.uRa="cedb7489-e77b-514c-84f9-7148f9882554";b.tRa="524f39a2-9b5a-144f-a244-6c427c648df4";b.Cka="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var n;function c(p,q){if(p.length == q.length && 1 < p.length){for(var v=p.length,t=0,w=d(p),u=d(q),x=0;x < v;x++){t+=p[x] * q[x];}return (t - w * u / v) / v;}return !1;}function l(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=g(p);return Math.sqrt(p);}function g(p){var q;if(!Array.isArray(p) || 2 > p.length)return !1;q=m(p);return d(p.map(function(v){return (v - q) * (v - q);})) / (p.length - 1);}function m(p){return Array.isArray(p) && p.length?d(p) / p.length:!1;}function d(p){return Array.isArray(p)?p.reduce(function(q,v){return q + v;},0):!1;}function f(p,q,v){return Math.max(Math.min(p,v),q);}function h(p,q){return "number" === typeof p?p:q;}function k(p){return 1 / (1 + Math.exp(-p));}n=a(12);r.exports={kb:function(p,q,v){try{p.emit(q,v);}catch(t){p.Ll("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",t,"Event:",v);}},pB:function(){var p,q,v;p=Array.prototype.concat.apply([],arguments);q=p.reduce(function(t,w){return t + w.byteLength;},0);v=new Uint8Array(q);p.reduce(function(t,w){v.set(new Uint8Array(w),t);return t + w.byteLength;},0);return v.buffer;},fX:f,oLb:function(p,q,v,t){return {min:f(h(p.min,q),v,t),max:f(h(p.max,q),v,t),gB:f(p.gB || 6E4,0,6E5),q2a:f(p.q2a || 0,-3E5,3E5),scale:f(p.scale || 6E4,0,3E5),blb:f(p.blb || 0,-3E5,3E5),gamma:f(p.gamma || 1,.1,10)};},zh:function(p,q){void 0 !== p && n.Z9b(p).forEach(function(v){q(v[0],v[1]);});},Cta:function(p,q,v){return p.min + (p.max - p.min) * (1 - Math.pow(k(6 * (q - (p.gB + (p.q2a || 0) * (1 - v))) / (p.scale + (p.blb || 0) * (1 - v))),p.gamma));},zTb:function(p,q){return p.min + (p.max - p.min) * Math.pow(k(6 * (q - p.gB) / p.scale),p.gamma);},dvc:d,AWb:m,k_b:g,bvc:l,Uuc:c,Tuc:function(p,q){var v;if(p.length == q.length){v=c(p,q);p=l(p);q=l(q);if(0 < p && 0 < q)return v / (p * q);}return !1;},Oi:function(p,q,v){return q.q4a?q.q4a(v):new p.Console("ASEJS","media|asejs",q.prefix?q.prefix + " " + v:v);},mfc:function(p){return p.length?"{" + p + "} ":"";},Wec:function(p,q,v){return {min:p.min * v + (1 - v) * q.min,max:p.max * v + (1 - v) * q.max,gB:p.gB * v + (1 - v) * q.gB,scale:p.scale * v + (1 - v) * q.scale,gamma:p.gamma * v + (1 - v) * q.gamma};},tanh:Math.tanh || (function(p){var q;q=Math.exp(+p);p=Math.exp(-p);return Infinity == q?1:Infinity == p?-1:(q - p) / (q + p);}),dFa:k,Iy:function(p){var q;q=p.Xa.bb.G.id;return {ca:p.ca,duration:p.duration,offset:p.offset,ga:p.ga,bitrate:p.bitrate,profile:p.profile,Hc:p.Hc,S:q,Sa:p.Sa,$c:p.$c,location:p.location,Mi:p.Mi,el:p.el,ou:{bb:{G:{id:q}}}};}};},function(r){var h,k,n,p;function b(){b.oa.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,v,t,w){var u,x;a(t);u=q.Yg;if(void 0 === u)(u=q.Yg=Object.create(null),q.$H=0);else {void 0 !== u.Gwc && (q.emit("newListener",v,t.listener?t.listener:t),u=q.Yg);x=u[v];}void 0 === x?(u[v]=t,++q.$H):("function" === typeof x?x=u[v]=w?[t,x]:[x,t]:w?x.unshift(t):x.push(t),t=void 0 === q.GV?b.iQb:q.GV,0 < t && x.length > t && !x.zmc && (x.zmc=!0,t=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(v) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.It=q,t.type=v,t.count=x.length,console && console.warn && console.warn(t)));return q;}function l(){if(!this.B7a)return (this.target.removeListener(this.type,this.Nqb),this.B7a=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function g(q,v,t){q={B7a:!1,Nqb:void 0,target:q,type:v,listener:t};v=l.bind(q);v.listener=t;return q.Nqb=v;}function m(q){var v;v=this.Yg;if(void 0 !== v){q=v[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,v,t){"function" === typeof q.on && f(q,"error",v,t);}function f(q,v,t,w){if("function" === typeof q.on){if(w.once)q.once(v,t);else q.on(v,t);}else if("function" === typeof q.addEventListener)q.addEventListener(v,function y(x){w.once && q.removeEventListener(v,y);t(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}h="object" === typeof Reflect?Reflect:null;k=h && "function" === typeof h.apply?h.apply:function(q,v,t){return Function.prototype.apply.call(q,v,t);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,v){return new Promise(function(t,w){function u(y){q.removeListener(v,x);w(y);}function x(){"function" === typeof q.removeListener && q.removeListener("error",u);t([].slice.call(arguments));}f(q,v,x,{once:!0});"error" !== v && d(q,u,{once:!0});});};b.EventEmitter=b;b.prototype.Yg=void 0;b.prototype.$H=0;b.prototype.GV=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.oa=function(){if(void 0 === this.Yg || this.Yg === Object.getPrototypeOf(this).Yg)(this.Yg=Object.create(null),this.$H=0);this.GV=this.GV || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.GV=q;return this;};b.prototype.emit=function(q){var w,u;for(var v=[],t=1;t < arguments.length;t++){v.push(arguments[t]);}w="error" === q;t=this.Yg;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < v.length && (u=v[0]);if(u instanceof Error)throw u;v=Error("Unhandled error." + (u?" (" + u.message + ")":""));v.context=u;throw v;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)k(t,this,v);else {u=t.length;w=Array(u);for(var x=0;x < u;++x){w[x]=t[x];}for(t=0;t < u;++t){k(w[t],this,v);}}return !0;};b.prototype.addListener=function(q,v){return c(this,q,v,!1);};b.prototype.on=b.prototype.addListener;b.prototype.I0=function(q,v){return c(this,q,v,!0);};b.prototype.once=function(q,v){a(v);this.on(q,g(this,q,v));return this;};b.prototype.oCa=function(q,v){a(v);this.I0(q,g(this,q,v));return this;};b.prototype.removeListener=function(q,v){var t,w,u,x,y;a(v);w=this.Yg;if(void 0 === w)return this;u=w[q];if(void 0 === u)return this;if(u === v || u.listener === v)0 === --this.$H?this.Yg=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,u.listener || v));else if("function" !== typeof u){x=-1;for(t=u.length - 1;0 <= t;t--){if(u[t] === v || u[t].listener === v){y=u[t].listener;x=t;break;}}if(0 > x)return this;if(0 === x)u.shift();else {for(;x + 1 < u.length;x++){u[x]=u[x + 1];}u.pop();}1 === u.length && (w[q]=u[0]);void 0 !== w.removeListener && this.emit("removeListener",q,y || v);}return this;};b.prototype.Sy=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var v,t,w;v=this.Yg;if(void 0 === v)return this;if(void 0 === v.removeListener)return (0 === arguments.length?(this.Yg=Object.create(null),this.$H=0):void 0 !== v[q] && (0 === --this.$H?this.Yg=Object.create(null):delete v[q]),this);if(0 === arguments.length){t=Object.keys(v);for(v=0;v < t.length;++v){w=t[v];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.Yg=Object.create(null);this.$H=0;return this;}t=v[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(v=t.length - 1;0 <= v;v--){this.removeListener(q,t[v]);}return this;};b.prototype.listeners=function(q){var v;v=this.Yg;if(void 0 === v)q=[];else if((q=v[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {v=Array(q.length);for(var t=0;t < v.length;++t){v[t]=q[t].listener || q[t];}q=v;}return q;};b.listenerCount=function(q,v){return "function" === typeof q.listenerCount?q.listenerCount(v):m.call(q,v);};b.prototype.listenerCount=m;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.s3=b.Ih=void 0;c=a(0);r=c.__importDefault(a(13));l=c.__importStar(a(12));g=r.default.gf;m=c.__importDefault(a(3));d=m.default.kr;f=a(185);h=a(6);k=c.__importDefault(a(154));n=a(8);r=a(35);a(2);a(1001);p=a(189);q=a(188);(function(t){t[t.MQa=0]="NOTHING_APPENDED";t[t.Lka=1]="PARTIAL";t[t.Ns=2]="COMPLETE";t[t.Cg=3]="ERROR";})(v=b.Ih || (b.Ih={}));a=(function(t){function w(u,x,y,z,B,A,C){x=t.call(this,x,y) || this;x.$Bb=!!z.Hc;p.aH.oa(x,u,z,B,A,C);q.cx.oa(x,u,z);x.Lzb=u.Vaa(x.Hc,x.wp);x.rma=z.responseType;x.Kzb=z.lga;void 0 === x.rma && (x.rma=d.Yc && !d.Yc.WR.YM?0:1);x.ck=new g();x.ck.on(x,d.ff.cRa,x.coa);x.ck.on(x,d.ff.bRa,x.wDb);x.ck.on(x,d.ff.dRa,x.zDb);x.ck.on(x,d.ff.xU,x.boa);x.ck.on(x,d.ff.Sqc,x.vDb);x.ck.on(x,d.ff.CH,x.IV);x.fN=!1;x.jf=!1;x.Bn=!1;x.bq=!1;x.nV=!1;x.uEb=z.n1;x.GEb=z.SC;x.ru=0;return x;}c.__extends(w,t);Object.defineProperties(w.prototype,{Hc:{get:function(){return this.$Bb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{active:{get:function(){return this.jf;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{$Ca:{get:function(){return this.Bn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{complete:{get:function(){return !this.fN && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{aborted:{get:function(){return this.fN;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{aya:{get:function(){return this.bq && !this.nV;},enumerable:!1,configurable:!0}});w.prototype.oa=function(u){var x;p.aH.prototype.oa.call(this,u);if(!this.$p && this.mediaType !== h.u.Za && (this.Le.hpa || !this.Hc) && (u=this.$p=k.default.instance(),this.active)){x=m.default.time.fa();u.Lw(x,this.yG);this.Bn && (u.rkb(),x=this.pL,this.connect && 0 < x.length && u.SA(x[0]));}};w.prototype.Qm=function(){return this.he || 6 === this.readyState || 7 === this.readyState || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};w.prototype.VA=function(u,x,y,z,B){var A;z || (z=(0,n.Iy)(this));this.he=B?this.Le.y9b?B.every(function(C,D){return x.appendBuffer(C,0 === D?z:void 0);}):x.appendBuffer(1 < B.length?(0,n.pB)(B):B[0],z):x.appendBuffer(this.response,z);null === (A=this.i7) || void 0 === A?void 0:A.E8b();this.response && this.MR();return {status:this.he?v.Ns:v.Cg};};w.prototype.SK=function(){var u;null === (u=this.i7) || void 0 === u?void 0:u.$8b();(this.bq=d.prototype.open.call(this,this.Lzb,{start:this.offset,end:this.offset + this.ga - 1},this.rma,{},void 0,void 0,this.Kzb,this.stream.Au)) && this.xY(this);return this.bq;};w.prototype.abort=function(){var u,x;if(this.aborted)return !0;u=this.jf;x=this.$p;x && u && x.hz(m.default.time.fa(),this.Bn,this.yG);this.fN=!0;this.Bn=this.jf=!1;d.prototype.abort.call(this);this.GP(this,u,this.aya);return !0;};w.prototype.ud=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.ck && this.ck.clear();t.prototype.ud.call(this);};w.prototype.coa=function(){var u,x;x=this.ug || this.loadTime;null === (u=this.i7) || void 0 === u?void 0:u.T8b();f.Lz.instance().push(m.default.time.fa() - x);this.jf || (this.jf=!0,this.kw=this.track.kw(),this.stream.L.peb || (u=this.$p) && u.Lw(x,this.yG),this.HP(this),this.Ew=this.ug);};w.prototype.wDb=function(){var u,x,y,z;null === (u=this.i7) || void 0 === u?void 0:u.P8b();u=this.ug || this.mua;x=this.connect;y=this.pL;f.Lz.instance().push(m.default.time.fa() - u);this.jf || (this.jf=!0);if(!this.Bn){this.Bn=!0;z=this.$p;this.stream.L.peb && z && z.Lw(u,this.yG);z && z.rkb();x && 0 < y.length && z && z.SA(y[0]);this.iF(this);this.Ew=u;0 >= this.ga && (u=this.ga,this.Qfc(this.Sg),this.gaa(this,this.Sg,u));this.stream.ta?(u=this.getResponseHeader("X-TCP-Info",!0),this.stream.i$b(u,this)):this.getAllResponseHeaders(!0);}};w.prototype.zDb=function(){var u,x,y;u=this.ug;x=this.bytesReceived - this.ru;f.Lz.instance().push(m.default.time.fa() - u);this.Bn || (this.Bn=!0);y=this.$p;y && (void 0 === this.Ew || y.uE(x,this.Ew,u,this.yG),(x=this.pL) && x.length && x.forEach(function(z){y.RA(z);}));this.DJ(this);this.Ew=u;this.ru=this.bytesReceived;};w.prototype.boa=function(){var u,x,y;null === (u=this.i7) || void 0 === u?void 0:u.c0();u=this.ug;x=this.bytesReceived - this.ru;f.Lz.instance().push(m.default.time.fa() - u);y=this.$p;y && (0 < x && y.uE(x,this.Ew,u,this.yG),(x=this.pL) && x.length && x.forEach(function(z){y.RA(z);}),y.hz(u,this.Bn,this.yG));this.Bn=this.jf=!1;this.nV=!0;this.Uv(this);this.Ew=u;this.ru=this.bytesReceived;this.ud();};w.prototype.vDb=function(){this.T7a(this);};w.prototype.vBb=function(){var u,x;u=(u=this.stream)?u.toString():this.url;x=this.HO;x && (u+=",range " + x.start + "-" + x.end);return u;};Object.defineProperties(w.prototype,{yG:{get:function(){return {requestId:this.vBb(),il:this.$c,type:this.mediaType,n1:this.uEb,ga:this.ga,bytesReceived:this.bytesReceived,SC:this.GEb};},enumerable:!1,configurable:!0}});w.prototype.IV=function(){var u,x,y,z;this.H.warn("AseMediaRequest._onError:",this.toString());u=this.ug;x=this.status;y=this.Ah;z=this.Pj;f.Lz.instance().push(m.default.time.fa() - u);this.complete?this.H.warn("Error on a done request " + this.toString() + ", failurecode: " + y):this.aborted?this.H.warn("Error on an aborted request " + this.toString() + ", failurecode: " + y):l.Oa(y)?((y=this.$p) && this.Le && this.Le.tDa && this.loadTime && void 0 === x && y.uE(this.ru?this.bytesReceived - this.ru:this.bytesReceived,this.Ew?this.Ew:this.loadTime,u,this.yG),this.faa(this)):this.H.warn("ignoring undefined request error (nativecode: " + z + ")");};return w;})(d);b.s3=a;(0,r.ef)(p.aH,a,!1);(0,r.ef)(q.cx,a,!1);},function(r,b,a){var h,k,n,p,q,v,t,w,u,x,y,z,B;function c(){this.Fg=(0,v.nk)("Http");this.Ml=new h.Ik();this.VH=0;this.dc={ssl:0,"non-ssl":0,invalid:0};this.I5={Za:1,Fzb:2,SIa:3};this.addEventListener=this.Ml.addListener;this.removeEventListener=this.Ml.removeListener;}function l(A){var C,D,E,G;C=A.url.split("?");D="sc=" + A.bfc;E=A.W1a?"random=" + (1E17 * (0,u.lU)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=E?"&" + E:"";A.Cc && !(0,n.jca)(G) && (A=k.config && k.config.Xqa) && (G=A.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function g(A,C){var D,E,G;D=A.url.split("?");E=m(A);G=D[0];E && (C.uu=E,(void 0 === A.Ou?k.config.Ou:A.Ou) || A.Au !== z.wU?(A.headers=A.headers || ({}),A.headers.Range="bytes=" + E):(C.uu=E,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=E));E=A.W1a?"random=" + (1E17 * (0,u.lU)()).toFixed(0):"";k.config.$E && A.lga && (E="sc=" + A.lga + (E?"&" + E:""));G=D[1]?G + ("?" + D[1] + (E?"&" + E:"")):G + (E?"?" + E:"");A.Cc && !(0,n.jca)(G) && (A=k.config && k.config.Xqa) && (G=A.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function m(A){var C;C=A.offset;if(void 0 !== C)return ((0,t.DX)(C),void 0 !== A.length?(A=C + A.length - 1,(0,t.DX)(A),C + "-" + A):C + "-");}function d(A,C,D,E){var G,F;G=E.rib;F=E.headers;A.open(G?"POST":"GET",C,!D);switch(E.responseType){case b.sZ:A.responseType="arraybuffer";break;case b.$wa:(0,w.i2a)(A,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,y.Og)(G)?"text/plain":"application/x-octet-stream"},F=F?(0,w.Pe)(C,F):C);F && (0,w.zh)(F,function(L,O){A.setRequestHeader(L,O);});E.withCredentials && (A.withCredentials=!0);G?A.send(G):A.send();}function f(A,C){switch(C.type){case b.sZ:return A.response || new ArrayBuffer(0);case b.$wa:return A.responseXML;default:return A.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.sZ=b.$wa=b.Zwa=b.L0b=b.bxa=b.K0b=b.Lab=b.zba=b.Bf=b.Gzb=b.Hzb=b.J0b=b.axa=b.G0b=b.H0b=b.F0b=b.I0b=void 0;h=a(70);k=a(19);r=a(17);n=a(44);p=a(62);q=a(4);v=a(9);t=a(22);w=a(23);u=a(14);x=a(59);y=a(15);z=a(66);B=a(1247);c.prototype.ehc=function(A){var C;C=new XMLHttpRequest();A=l(A);C.open("HEAD",A);C.onreadystatechange=function(){2 === C.readyState && !1;};C.send();};c.prototype.download=function(A,C){var M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa;function D(){var T;if(!V){V=!0;Oa && (mb.clearTimeout(Oa),Oa=null);M.Ml.removeListener(b.bxa,L);M.noa(qa,xa);xa && (xa.onloadstart=null,xa.onreadystatechange=null,xa.onprogress=null,xa.onerror=null,xa.onload=null,xa=xa.onabort=null);qa.ja || (qa.Ca != q.Y.xD?J.warn("Download failed",W,(0,q.Uz)(qa)):J.trace("Download aborted",W));T=S;S=null;null === T || void 0 === T?void 0:T.reduceRight(function(X,Q){(0,x.Mg)(function(){return Q(qa);});},null);M.Ml.Zc(b.Lab,qa,!0);}}function E(){Oa && (mb.clearTimeout(Oa),Oa=null);Oa=mb.setTimeout(O,Aa?P:N);}function G(T,X,Q,ka){var ra,R;qa.ja=!1;qa.Ca=T;ra=(0,p.Wo)();R=qa.Vm;R.rj=R.rj || ra;R.Uq=R.Uq || ra;X && 0 < X && (qa.Xl=X,qa.Sf=X.toString());Q && (qa.Ub=Q);ka && (qa.AG=ka);T !== q.Y.UT && T !== q.Y.nH && T !== q.Y.XT || !xa || (xa.onabort=null,K());D();}function F(T){var X,Q;try{Q=T.getResponseHeader("X-Netflix.Retry.Server.Policy");Q && (X=JSON.parse(Q));}catch(ka){!1;}return X;}function L(){(0,b.axa)() || G(q.Y.UT);}function O(){G(Aa?q.Y.nH:q.Y.XT);}function K(){try{null === xa || void 0 === xa?void 0:xa.abort();}catch(T){}}function I(){G(q.Y.xD);}M=this;(0,t.ya)(C);J=(null === (H=null === A || void 0 === A?void 0:A.j) || void 0 === H?0:H.log)?(0,v.lj)(A.j,"Http"):this.Fg;N=A.A9 || k.config.A9;P=A.FAa || k.config.FAa;W={Num:this.VH++};V=!1;S=[C];U={};this.sFb(A);qa=new B.vNa(A,K,O,U,function(T){V || ((0,t.ya)(S,"Callback should be added before download starts."),S && S.unshift(T));});Aa=!1;(0,x.Mg)(function(){var T,X;if((0,y.oya)(A.url))try{if((g(A,qa),fa=qa.url,(0,t.EX)(fa),W.Url=fa,(0,b.axa)())){!1;xa=new XMLHttpRequest();T=k.config.Klc && "undefined" != typeof xa.onloadstart;T && (xa.onloadstart=function(){var Q;Q=(0,p.Wo)();U.Bs=Q;qa.f0({mediaRequest:A,timestamp:Q});});xa.onreadystatechange=function(){2 === (null === xa || void 0 === xa?void 0:xa.readyState) && (Aa=!0,U.rj=(0,p.Wo)(),xa.onreadystatechange=null,E(),!1,M.noa(qa,xa),qa.g0({timestamp:U.rj,connect:!0,mediaRequest:A,start:U.Bs,rt:[U.rj - U.Bs],responseHeaders:qa.headers}));};xa.onprogress=function(Q){Aa=!0;U.qX=Q.loaded;E();M.noa(qa,xa);Q={mediaRequest:A,bytes:Q.loaded,timestamp:(0,p.Wo)(),bytesLoaded:Q.loaded,responseHeaders:qa.headers};qa.g0(Q);};xa.onload=function(Q){!V && xa && ((0,t.ya)(void 0 === U.Uq),U.Uq=(0,p.Wo)(),U.rj=U.rj || U.Uq,U.qX=Q.loaded,200 <= xa.status && 299 >= xa.status?(Q=f(xa,qa),qa.parsed=!1,qa.content=Q,qa.ja=!0):420 === xa.status?G(q.Y.WT,xa.status):G(q.Y.VT,xa.status,xa.response,F(xa)),D());};xa.onabort=I;xa.onerror=function(){var Q,ka;if(xa){Q=xa.status;"undefined" !== typeof k.config.Q7a && (Q=k.config.Q7a);if(0 < Q){if(420 === Q)G(q.Y.WT,Q);else {try{ka=xa.responseText;}catch(ra){}G(q.Y.VT,Q,ka,F(xa));}}else G(q.Y.YT);}};X=(0,p.Wo)();d(xa,fa,!1,A);M.Ml.Zc(b.zba,qa,!0);T || (U.Bs=X,qa.f0({mediaRequest:A,timestamp:X}));E();M.Ml.addListener(b.bxa,L);}else (0,x.Mg)(G.bind(void 0,q.Y.UT));}catch(Q){J.error("Exception starting download",Q,W);G(q.Y.Fja,void 0,(0,w.pf)(Q));}else G(q.Y.$Ma);});return qa;};c.prototype.wbc=function(A){var C,D,E;C=new XMLHttpRequest();D=A.url;E=A.tbc;C.open("HEAD",D);C.timeout=Math.max(2 * E.P4b,k.config.zCa);C.onreadystatechange=function(){2 === C.readyState && (!1,E && E.eR({url:D}));};C.ontimeout=C.onerror=function(){!1;E && E.MAa({url:D});};C.send();};c.prototype.sFb=function(A){var C;try{C=A.url;(0,y.oya)(C)?0 === C.indexOf("https")?this.dc.ssl++:0 === C.indexOf("http")?this.dc["non-ssl"]++:this.dc.invalid++:this.dc.invalid++;}catch(D){}};c.prototype.noa=function(A,C){var D;if(!A.headers && C){D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(E){var G;G=oa(E.split(": "));E=G.next().value;G=da(G).join(": ");E && (D[E.toLowerCase()]=G);});A.headers=D;}};b.I0b=l;b.F0b=function(A){var C,D,E,G;C=A.url.split("?");D="bb_reason=" + A.reason;E=A.W1a?"random=" + (1E17 * (0,u.lU)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=E?"&" + E:"";A.Cc && !(0,n.jca)(G) && (A=k.config && k.config.Xqa) && (G=A.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;};b.H0b=g;b.G0b=m;b.axa=r.gUa;b.J0b=function(){return !1 !== u.hf.onLine;};b.Hzb=d;b.Gzb=f;b.Bf=new c();b.zba=1;b.Lab=2;b.K0b=3;b.bxa=4;b.L0b=5;b.Zwa=b.Bf.I5.Za;b.$wa=b.Bf.I5.Fzb;b.sZ=b.Bf.I5.SIa;mb._cad_global.http=b.Bf;},function(r,b,a){b=a(214);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DH="PlatformConfigDefaultsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IKa="DebugConfigSymbol";b.Nz="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qja="EventSourceSymbol";b.tja="GlobalEventSourceSymbol";b.Q3="DebugEventSourceSymbol";b.XKa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$M="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FM="LoggerSinksSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wH="ManifestFetcherSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(903),b);r.__exportStar(a(904),b);r.__exportStar(a(905),b);r.__exportStar(a(906),b);r.__exportStar(a(907),b);r.__exportStar(a(908),b);r.__exportStar(a(909),b);r.__exportStar(a(910),b);r.__exportStar(a(398),b);r.__exportStar(a(399),b);r.__exportStar(a(911),b);r.__exportStar(a(912),b);r.__exportStar(a(400),b);},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qn=void 0;c=a(0).__importDefault(a(3));l=a(104);r=(function(){function g(m){m=("(").concat(m,")");this.H=new c.default.Console("ASEJS","media|asejs",m);this.Vna=[];}g.prototype.Bq=function(m){var d;if(!this.Vna[m]){d=("[").concat(m,"]");this.Vna[m]=(0,l.Oi)(c.default,this.H,d);}return this.Vna[m];};return g;})();b.qn=new r(0);},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Do=void 0;c=a(0);l=c.__importDefault(a(29));g=a(6);m=c.__importDefault(a(3));d=a(1002);r=(function(){function f(h){this.QH=h;this.Fe=[];this.console=new m.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(f,{instance:{get:function(){var h;if(void 0 === f.rv){h=a(3).default;f.rv=new f(h.tM);}return f.rv;},enumerable:!1,configurable:!0}});f.reset=function(){f.rv=void 0;};f.prototype.Dt=function(h,k,n,p,q,v){var t;t=v.Igc?this.OUb(n,k,h,v.Jgc):-1;-1 === t?(t={track:this.xOb(n,p,h,q,v),pj:n,K:k,hjb:h,uG:[],Rn:!1,lJ:!1},this.Fe.push(t),this.Acc(t),h=!1):(h=!0,t=this.Fe[t]);h=new d.zUa(this.console,t.track,t.Rn,h);t.uG.push(h);return h;};f.prototype.Acc=function(h){function k(){h.Rn=!0;h.track.removeListener("created",k);}h.track.on("created",k);};f.prototype.kJ=function(h){var k,n;h.Gt();k=this.rY(function(p){return p.track === h.track;});if(-1 !== k){if((k=this.Fe[k],1 === k.uG.length))(k.track.Gt(),k.lJ=!0);else {n=k.uG.indexOf(h);0 <= n && k.uG.splice(n,1);}}else h.track.Gt();};f.prototype.Tf=function(){this.QH.Tf();};f.prototype.xOb=function(h,k,n,p,q){var v,t,w,u,x,y;v=this;w=!1;u=t=!1;x=p.ta;h?n === g.u.J?(h=1,q.nj?(u=!0,h=q.JQ):q.My && 2 < q.My && (u=!0,h=q.My),t=x?!!q.H2:q.H2 || !u,t={type:this.QH.J,openRange:t,pipeline:u,connections:h,socketBufferSize:q.YS,minRequestSize:q.HK}):n === g.u.T?(w=q.nj && (q.Elc || k && q.Flc),t=x?!!q.H2:q.H2 || !w,t={type:this.QH.T,openRange:t,pipeline:w,connections:1,socketBufferSize:q.P8,minRequestSize:q.HK}):n === g.u.Za?(t=x?!!q.H2:q.H2 || !q.Glc,t={type:this.QH.Za,openRange:t,pipeline:q.nj,connections:1,socketBufferSize:q.hjc,minRequestSize:q.HK}):t={type:q.hRb?this.QH.J:this.QH.Zub,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Nwa,minRequestSize:q.HK}:t={type:n === g.u.T?l.default.de.T:l.default.de.J,openRange:!1,pipeline:!1,connections:1,socketBufferSize:n === g.u.T?q.P8:q.YS,minRequestSize:q.HK};y=new this.QH(t,p);y.nj=u;y.on("transportreport",function(z){var B;B=v.rY(function(A){return A.track === y;});-1 !== B && (B=v.Fe[B],B.uG.length && B.uG[0].emit("transportreport",z));});y.on("mediaRequestComplete",function(z){var B;B=v.rY(function(A){return A.track === y;});-1 !== B && (B=v.Fe[B],B.uG.length && B.uG[0].emit("mediaRequestComplete",z));});y.on("destroyed",function(){var z;z=v.rY(function(B){return B.track === y;});-1 !== z && v.Fe.splice(z,1);y.removeAllListeners();});y.on("pipelinedisabled",function(){y.nj=!1;if(x)y.Z0(c.__assign(c.__assign({},y.config),{pipeline:!1,openRange:!1,connections:1}));else if(w && q.Dlc || q.Ypb)q.Ypb && y.config.type === g.u.J?y.Z0(c.__assign(c.__assign({},y.config),{socketBufferSize:q.W6b,pipeline:!1,openRange:!0,connections:1})):y.Z0(c.__assign(c.__assign({},y.config),{pipeline:!1,openRange:!0}));});return y;};f.prototype.OUb=function(h,k,n,p){return this.rY(function(q){return !q.lJ && (!p && q.track.config.Owc || !h?!q.pj && q.hjb === n:q.pj && q.K === k && q.hjb === n);});};f.prototype.rY=function(h){for(var k=0;k < this.Fe.length;++k){if(h(this.Fe[k]))return k;}return -1;};return f;})();b.Do=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lk=void 0;r=b.Lk || (b.Lk={});r.Rn="created";r.qz="started";r.AS="succeeded";r.Rv="failed";r.Qf="cancelled";r.m2a="cancelled_on_start";r.Tqa="cancelled_not_encrypted";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OH="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SM=b.HH=void 0;r=b.HH || (b.HH={});r.Kpc="ident";r.jka="main";r.IJa="credits";b.SM="PlaygraphHelperSymbol";},function(r,b,a){var c,l,g;c=a(40);l=a(618);g=l(c("String.prototype.indexOf"));r.exports=function(m,d){d=c(m,!!d);return "function" === typeof d && -1 < g(m,".prototype.")?l(d):d;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.$_=b.Ti=void 0;c=a(81);b.Ti=function(l,g){return [].concat.apply([],ia(l)).map(function(m){return Object.assign({name:m},null !== g && void 0 !== g?g:{});});};b.$_=function(l,g){for(var m=[],d=1;d < arguments.length;++d){m[d - 1]=arguments[d];}return (0,c.w5a)(function(f,h){return f.name === h;},l,m);};},function(r,b,a){var c,l,g;c=a(125);l=a(53);g=a(170);r.exports=function(m){return function n(f,h,k){switch(arguments.length){case 0:return n;case 1:return g(f)?n:l(function(p,q){return m(f,p,q);});case 2:return g(f) && g(h)?n:g(f)?l(function(p,q){return m(p,h,q);}):g(h)?l(function(p,q){return m(f,p,q);}):c(function(p){return m(f,h,p);});default:return g(f) && g(h) && g(k)?n:g(f) && g(h)?l(function(p,q){return m(p,q,k);}):g(f) && g(k)?l(function(p,q){return m(p,h,q);}):g(h) && g(k)?l(function(p,q){return m(f,p,q);}):g(f)?c(function(p){return m(p,h,k);}):g(h)?c(function(p){return m(f,p,k);}):g(k)?c(function(p){return m(f,h,p);}):m(f,h,k);}};};},function(r,b,a){var c;c=a(170);r.exports=function(l){return function d(m){return 0 === arguments.length || c(m)?d:l.apply(this,arguments);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qub=b.xm=void 0;r=b.xm || (b.xm={});r[r.CC=0]="playready";r[r.Y2=1]="widevine";r[r.gF=2]="fairplay";r[r.Dtc=3]="clearkey";b.qub="DrmTypeSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ce=void 0;l=a(26);c.u4a=function(g){var m;m={};m[l.Jf.IU]=c.d4;m[l.Jf.l4]=c.d4;m[l.Jf.dN]=c.wja;m[l.Jf.AM]=c.AM;m[l.Jf.gx]=g || c.gx;m[l.Jf.oD]=c.d4;m[l.Jf.PD]=c.RU;m[l.Jf.Il]=c.Il;return m;};b.ce=c;c.jAa='video/mp4; codecs="avc1.4d0028"';c.d4="avc1.4d0028";c.wja="hev1.1.6.L93.B0";c.Tia="dvhe.05.01";c.DKa="dvhe.05.04";c.Uia="dvhe.05.05";c.Via="dvhe.05.06";c.Wia="dvhe.05.07";c.Xia="dvhe.05.09";c.gx=c.Tia;c.AM=c.wja;c.Nha="mp4a.40.2";c.oA="mp4a.40.42";c.etb="ec-3";c.RU="vp09.00.11.08.02";c.Il="av01.0.04M.08";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mLa="DrmServicesSymbol";b.U3="DrmServicesProviderSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.KH=void 0;r=a(0);a=a(1);c.prototype.format=function(g,m){var f;for(var d=1;d < arguments.length;++d){;}f=Array.prototype.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof f[k]?f[k]:h;});};c.prototype.tnb=function(g){for(var m=g.length,d=new Uint16Array(m),f=0;f < m;f++){d[f]=g.charCodeAt(f);}return d.buffer;};c.prototype.wnb=function(g){return JSON.stringify(g,null,"  ");};l=c;l=r.__decorate([(0,a.$)()],l);b.KH=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.c6=void 0;b.pr={QM:"PRIMARY",Rha:"ASSISTIVE",BJa:"COMMENTARY",NONE:"NONE"};b.c6={assistive:b.pr.Rha,closedcaptions:b.pr.Rha,directorscommentary:b.pr.BJa,commentary:b.pr.BJa,subtitles:b.pr.QM,primary:b.pr.QM,none:b.pr.NONE};},function(r){var h,k,n,p,q,v;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(t){if(h === setTimeout)return setTimeout(t,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(t,0));try{return h(t,0);}catch(w){try{return h.call(null,t,0);}catch(u){return h.call(this,t,0);}}}function l(t){if(k === clearTimeout)return clearTimeout(t);if((k === a || !k) && clearTimeout)return (k=clearTimeout,clearTimeout(t));try{return k(t);}catch(w){try{return k.call(null,t);}catch(u){return k.call(this,t);}}}function g(){p && q && (p=!1,q.length?n=q.concat(n):v=-1,n.length && m());}function m(){var t;if(!p){t=c(g);p=!0;for(var w=n.length;w;){q=n;for(n=[];++v < w;){q && q[v].lz();}v=-1;w=n.length;}q=null;p=!1;l(t);}}function d(t,w){this.XVb=t;this.WA=w;}function f(){}r=r.exports={};h="function" === typeof setTimeout?setTimeout:b;k="function" === typeof clearTimeout?clearTimeout:a;n=[];p=!1;v=-1;r.Jwc=function(t){var w;w=Array(arguments.length - 1);if(1 < arguments.length)for(var u=1;u < arguments.length;u++){w[u - 1]=arguments[u];}n.push(new d(t,w));1 !== n.length || p || c(m);};d.prototype.lz=function(){this.XVb.apply(null,this.WA);};r.title="browser";r.jtc=!0;r.gY={};r.Tsc=[];r.version="";r.Nyc={};r.on=f;r.addListener=f;r.once=f;r.Sy=f;r.removeListener=f;r.removeAllListeners=f;r.emit=f;r.I0=f;r.oCa=f;r.listeners=function(){return [];};r.ftc=function(){throw Error("process.binding is not supported");};r.Ntc=function(){return "/";};r.ytc=function(){throw Error("process.chdir is not supported");};r.Eyc=function(){return 0;};},function(r,b,a){var g,m,d,f,h,k,n;function c(p){return p && "function" === typeof p.Ji?!0:!1;}function l(p){return c(p) && (p=typeof p.s2b,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.ctb=b.PTb=b.r2b=b.Krb=b.AsyncIterator=void 0;g=a(0);m=a(10);f=(function(){function p(q){var v;v=this;this.MBb=q;this.wV=!1;this.$Db=function(t){return v.Ebc(t);};this.U3a();}p.p3b=function(q,v){function t(){var w;w=q.next();w.then(function(u){l(q) && q.s2b || v(u);});w.then(function(u){return !u.done && t();});}t();};Object.defineProperties(p.prototype,{Wt:{get:function(){return this.wV;},enumerable:!1,configurable:!0}});p.c9a=function(){return new h([]);};p.mwa=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{oQ:{get:function(){return this.xn || !1;},enumerable:!1,configurable:!0}});p.prototype.Ji=function(){this.cancel();};p.prototype.cancel=function(){this.qZa();this.xn=!0;return this.Gma;};p.prototype.next=function(){return this.xn?this.Gma:Promise.race([this.Gma,this.MBb()]).then(this.$Db);};p.prototype.Ebc=function(q){q.done && (this.wV=!0,this.Ji());this.oQ || (this.qZa(),this.U3a());return q;};p.prototype.U3a=function(){var q;q=this;this.Gma=new Promise(function(v){q.qZa=function(){v({done:!0});};});};return p;})();b.AsyncIterator=f;h=(function(p){function q(v){var t;t=p.call(this,function(){return t.AYb();}) || this;t.WA=v;t.index=0;return t;}g.__extends(q,p);q.prototype.Ji=function(){c(this.WA) && this.WA.Ji();p.prototype.Ji.call(this);};q.prototype.AYb=function(){return this.WA.length > this.index?Promise.resolve({value:this.WA[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(f);b.Krb=h;b.r2b=c;b.PTb=l;k=(function(p){function q(v,t,w){var u;u=p.call(this,function(){return u.AAa();}) || this;u.console=t;u.Dm=w;u.FCa=!1;Array.isArray(v)?u.JV=new h(v):u.JV=v;return u;}g.__extends(q,p);q.prototype.Gbc=function(v){var t;this.FCa=!1;t=this.console;m.M && t && t.trace("CompoundIterator: processNextOuterIterator");if(v.done)return v;v=v.value;if(this.LN)return (c(v) && v.Ji(),f.mwa());Array.isArray(v)?this.Dm=new h(v):this.Dm=v;return this.AAa();};q.prototype.Fbc=function(v){var t;t=this.console;m.M && t && t.trace("CompoundIterator: processNextInnerResult",this.LN,v.done);if(!v.done || this.LN)return v;this.Dm=void 0;return this.AAa();};q.prototype.Ji=function(){var v;v=this.console;m.M && v && v.trace("CompoundIterator: dispose");this.LN=!0;p.prototype.Ji.call(this);c(this.JV) && this.JV.Ji();c(this.Dm) && this.Dm.Ji();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.LN," ").concat(this.JV," ").concat(this.Dm);};q.prototype.AAa=function(){var v,t;v=this;t=this.console;m.M && t && t.trace("CompoundIterator: nextImpl");if(this.Dm)return (m.M && t && t.trace("CompoundIterator: getNextInner"),this.Dm.next().then(function(w){return v.Fbc(w);}));this.FCa=!0;m.M && t && t.trace("CompoundIterator: getNextOuter");return this.JV.next().then(function(w){return v.Gbc(w);});};return q;})(f);b.ctb=k;b.map=function(p,q,v){return new n(p,q,v);};n=(function(p){function q(v,t,w){var u;u=p.call(this,function(){return u.wBb();}) || this;u.source=v;u.Eza=t;u.Mra=w;return u;}g.__extends(q,p);q.prototype.Ji=function(){c(this.source) && this.source.Ji();p.prototype.Ji.call(this);};q.prototype.wBb=function(){var v,t,w;v=this.Mra;t=this.Eza;w=this.source;m.M && v && v.trace("MappedIterator: Requesting next");return w.next().then(function(u){return u.done?u:t(u.value);});};return q;})(f);b.flatten=function(p,q,v){return new k(p,q,v);};},function(r,b,a){(function(c){var g,m,d,f,h,k;function l(n,p){return n - p;}Object.defineProperties(b,{__esModule:{value:!0}});b.Xub=b.GJ=void 0;g=a(0);m=a(10);d=g.__importDefault(a(3));f="gctag" === c.gY.Vub;b.GJ=function(n,p){var q;if(!f)return n;q=new k(n.name,p);return (function(v){function t(){for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}w=v.apply(this,g.__spreadArray([],g.__read(w),!1)) || this;w.i8a=q.DOb(w);return w;}g.__extends(t,v);return t;})(n);};k=(function(){function n(p,q){this.name=p;this.Mra=q;this.EF=[];this.W1b=0;}Object.defineProperties(n,{console:{get:function(){h || (h=new d.default.Console("GCTAGGER"));return h;},enumerable:!1,configurable:!0}});n.prototype.DOb=function(p){var q,v;if(f){q=this.Mra;q || (q=n.console);if(!p.i8a && "undefined" !== typeof nrdp){p={type:this.name,id:this.W1b++};this.EF.push(p.id);v=JSON.stringify(p);v=nrdp.i8a(v,(function(t,w,u,x){t.EF.splice(t.EF.indexOf(w),1);t.EF=t.EF.sort(l);for(var y=[],z=0;z < t.EF.length && 5 > z;z++){y.push(t.EF[z]);}null === x || void 0 === x?void 0:x.error(("Removing instance for ").concat(u,"/").concat(w,". ") + ("").concat(t.EF.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,p.id,p.type,q));m.M && q && q.info("Creating tagged instance",p);return v;}}};return n;})();b.Xub=k;}).call(this,a(131));},function(r,b,a){(function(c,l){function g(m,d,f,h){this.console=new m("ASEJS_PROGRESS","media|asejs");this.now=d;this.Clb=this.Lhc=m=this.now();this.A$=m + f;this.G$b=f;this.M4a=m + h;this.debug=!1;this.counter=this.kC=0;this.hy=1E4;this.iob=f / 100;this.kob=m;this.job=1 * this.iob / 4;this.Nga=0;this.FX="";this.Fg(m,"progress tracking start");}g.prototype.constructor=g;g.prototype.Fg=function(m,d){var f,h;f=((m - this.Clb) / 1E3).toFixed(3);f=("     ").slice(f.length - 4) + f;h=c.v6b();this.console.info(f + (" " + ((this.M4a - m) / 1E3).toFixed(3)) + (" " + Math.round(this.hy)) + (" M:(" + Math.floor(h.nvc / 1024 / 1024) + " MB/" + Math.floor(h.Cab / 1024 / 1024) + " MB) ") + this.FX + d);};g.prototype.KEb=function(m){var d;d=this.now();this.FX=m?m + ": ":m;this.kC=0;this.Clb=d;this.Fg(d,"starting");};g.prototype.oFb=function(m){var d,f;this.counter++;if(!(this.counter < this.hy)){this.counter=0;d=this.now();f=d - (this.kob + this.iob);this.kob=d;this.Nga=.9 * this.Nga + .1 * f;this.Nga > this.job?(this.hy*=.875,this.hy=Math.max(1,this.hy)):this.Nga < -this.job && (this.hy*=1.5,this.hy=Math.min(this.hy,1E5));if(d >= this.M4a)throw (this.Fg("Execution deadline exceeded after " + (d - this.Lhc) + " ms" + this.FX),Error("Execution deadline exceeded" + this.FX));f=c.v6b();this.kC=Math.max(this.kC,f.Cab);if(7516192768 < f.Cab)throw Error("Heap total limit exceeded" + this.FX);if(!(d <= this.A$)){for(;d > this.A$;){this.A$+=this.G$b;}this.Fg(d,m);}}};g.oa=function(m,d,f,h){l.sG=new g(m,d,f || 5E3,h || 33E5);};g.FEa=function(m){l.sG && l.sG.KEb(m);};g.update=function(m){l.sG && l.sG.oFb(m);};g.P9a=function(){if(l.sG)return l.sG.kC;};g.now=function(){return l.sG?l.sG.now():Date.now();};r.exports=g;}).call(this,a(131),a(213));},function(r){var b;b={wZ:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var d,f;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function l(h){return d.Og(h);}function g(h){return d.Oa(h);}function m(h){return !c(h) && !l(h) && !g(h) && !Array.isArray(h) && d.qk(h);}d=a(12);f={hH:0,Q5:1,Xwb:2,o5:3,Ho:4};r.exports={twa:function(h){return c(h)?f.hH:l(h)?f.Q5:g(h)?f.Xwb:m(h)?f.o5:f.Ho;},Uba:c,Og:l,Oa:g,qk:m,Ss:f};},function(r,b,a){(function(c){var d,f,h,k,n,p,q,v,t,w;function l(u,x){var y,z,B,A;A=u.od.na.U[x];A && A.tc && u.od.wf && (A=Number(A.tc.replace(":main","")),(x=(0,v.IJ)(x)) && (B=null === (z=null === (y=u.od.wf.$g.bg[A]) || void 0 === y?void 0:y[x.Gm]) || void 0 === z?void 0:z.yz));return B;}function g(u,x,y,z){var B;return x === p.lx.RX?(x=f.P.Pa,(null === z || void 0 === z?void 0:z.Jxc) === w.end && (x=f.P.Na(null !== (B=y.od.na.U[u].Aa) && void 0 !== B?B:0),(0,h.assert)(0 < x.Z,"EndTime must be non null")),y.ii.WE({offset:x,S:u}).S):y.ii.Ww({offset:f.P.Pa,S:u}).S;}function m(u,x,y){return x === p.lx.HGa?y.ii.Ww(u):y.ii.WE(u);}Object.defineProperties(b,{__esModule:{value:!0}});b.Zy=void 0;d=a(0);f=a(20);h=a(2);k=a(1140);n=a(281);p=a(199);q=a(258);v=a(200);t=a(1145);n=(0,n.Skb)();k=(0,k.T1a)()({meb:"combinedPlaygraph",XR:{Ni:n()({map:m,dB:t.kcb}),qf:n()({map:function(u,x,y,z){var B;B=(null === z || void 0 === z?0:z.Fs)?(0,t.Eaa)(u,z.Fs):u.position;x=m(B,x,y);u=(0,t.u9)(u,null === z || void 0 === z?void 0:z.Fs);(null === z || void 0 === z?0:z.Fs)?(0,t.Olb)(u,z.Fs,x):u.position=x;return u;},dB:function(u,x,y){return (null === y || void 0 === y?0:y.Fs)?(0,t.Eaa)(u,y.Fs):(0,t.qf)(u);}}),rHa:n()({map:function(u,x,y,z){if(x === p.lx.RX)return u.inner;x=(0,t.u9)(u,null === z || void 0 === z?void 0:z.Fs);x.inner || (x.inner=u,"gctag" === c.gY.Vub && (x.gctag=void 0));return x;},dB:function(u,x,y){return (null === y || void 0 === y?0:y.Fs)?"object" === typeof (0,t.Eaa)(u,y.Fs):"object" === typeof u;}}),S:n()({map:g,dB:t.qcb}),v1:n()({map:function(u,x,y,z){var B,A;A=null !== (B=u.S) && void 0 !== B?B:u.segmentId;x=g(A,x,y,z);return u.S?d.__assign(d.__assign({},u),{S:x}):d.__assign(d.__assign({},u),{segmentId:x});},dB:t.rab}),G3a:n()({map:function(u,x,y){x === p.lx.RX?(u=(0,q.sX)(y.od.na,u.N,u.At,{glb:!0}),(0,h.assert)(void 0 !== u,"Graph position must exist in ux playgraph"),u=y.ii.WE(u),x=u.S,u=u.offset,x=y.Cb.na.U[x],y=x.N,x=x.Ba,u=f.P.Na(x).add(u)):(u=(0,q.sX)(y.Cb.na,u.N,u.At,{glb:!0}),(0,h.assert)(void 0 !== u,"Graph position must exist in combined playgraph"),u=y.ii.Ww(u),x=u.S,u=u.offset,x=y.od.na.U[x],y=x.N,x=x.Ba,u=f.P.Na(x).add(u));return {At:u,N:y};},dB:t.Sbb}),oqa:n()({dB:t.Obb,map:function(u,x,y){var z,B,A,C,D;if(x === p.lx.RX){x={S:u.G.id,offset:f.P.Pa};A=y.ii.WE(x);x=y.Cb.na.U[A.S];y=y.od.na.U[u.G.id];C=x.Aa;D=x.Ba;C=null !== (z=C && C - D) && void 0 !== z?z:0;y=u.Sd.add(f.P.Na(x.Ba - y.Ba));return {Sd:y,lG:u.us.add(f.P.Na(C)),us:u.us,G:{id:A.S,uf:f.P.Na(x.Ba),yh:f.P.Na(null !== (B=x.Aa) && void 0 !== B?B:0)}};}x={S:u.G.id,offset:f.P.Pa};B=y.ii.Ww(x);D=y.Fxa.U_;x=D.U[u.G.id];A=y.od.na.U[B.S];z=f.P.Na(null !== (C=A.Aa && A.Aa - A.Ba) && void 0 !== C?C:0);A.Aa && Infinity !== A.Aa || (C=y.ii.aYb(B),D=D.U[C],D.Aa && (z=y.ii.Ww({S:C,offset:f.P.Na(D.Aa - D.Ba)}).offset));C=u.us.Ea(B.offset);D=C.add(z);y=u.Sd.add(f.P.Na(A.Ba - x.Ba));u=f.P.Na(A.Ba);x=z.add(u);return {Sd:y,lG:D,us:C,G:{id:B.S,uf:u,yh:x}};}}),zIb:n()({dB:function(u){return "segmentPresenting" === u.type;},map:function(u,x,y){var z;u=(0,t.u9)(u);if(x=u.metrics){z=l(y,x.destPosition.S);void 0 !== z && (u.metrics.adBreakLocationMs=z);z=l(y,x.srcStartPosition.S);void 0 !== z && (u.metrics.srcadBreakLocationMs=z);}return u;}})}});(function(u){u[u.etc=0]="beginning";u[u.end=1]="end";})(w || (w={}));b.Zy=k;}).call(this,a(131));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HM="ManifestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.myb=b.dub=b.JKa=void 0;r=b.JKa || (b.JKa={});r.grc="PboDebugEvent";r.jrc="PlaygraphEvent";b.dub={eqc:"Manifest",Event:"Event",Rpc:"Logblob"};b.myb={gsc:"UX",poc:"Combined_1",qoc:"Combined_2"};},function(r,b){var c;function a(l,g){var m;m=this;this.lna=[];c.forEach(function(d){(d=d(l,g)) && m.lna.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.oU=b.sQa=void 0;c=[];a.prototype.VC=function(l){var d;for(var g=[],m=this.lna.length;m--;){d=this.lna[m];d.VC(l) && g.push(d.Q$);}if(g.length)return g;};b.sQa=a;b.oU=function(l){c.push(l);};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y;function c(z){var B,A;B=this;this.Cea=new y.pla();this.createPlaygraphPlayer=function(C,D,E){var G;C=t.tla.encode(C);G=d.Ha.get(w.HM);E=E?G.create(E):void 0;G=d.Ha.get(p.vla).create(C);return G.bPb(C.me,B.Cea.Dza(B.f1a(D,G.dva())),E);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,m.lla)(C);};this.init=function(C){B.xE.j_(function(D){D.ja?B.Afc().then(function(){(0,l.KSa)();}).catch(function(E){d.log.error("Unable to initialize the playdata services",E);}).then(function(){Object.assign(B,c.zO);C(Object.assign({success:!0},c.zO));}):C({success:!1,error:(0,d.mTa)(D.errorCode || h.aa.Ija,D)});});};this.applyConfig=function(C){B.upb(C);(0,g.Nra)(C);};this.prepare=function(C,D){var E;C=B.yib.QQb(C) || [];E=new Set();C=C.filter(function(G){var F;F=E.has(G.K);E.add(G.K);return !F;});if(g.config.qu && B.Fd)try{B.Fd.eL(C,D);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){mb._cad_global.playerPredictionModel?(C=B.yib.SQb(C)) && mb._cad_global.playerPredictionModel.update(C):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,d.MP)().d2().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,d.MP)().e2().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,d.MP)().b2().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,d.MP)().Iga().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return g.config.OSb;};this.upb(z);d.Ha.get(x.iIa);this.yib=d.Ha.get(f.MSa);this.xE=d.Ha.get(v.vj);A=d.Ha.get(u.HSa).apply();(0,g.y3a)([z],A);this.Fd=d.Ha.get(q.OH);(0,d.MP)().e2();}Object.defineProperty(b,"__esModule",{value:!0});b.PH=void 0;l=a(305);g=a(19);m=a(65);d=a(9);f=a(551);h=a(4);k=a(33);n=a(151);p=a(312);q=a(120);v=a(34);t=a(38);w=a(138);u=a(333);x=a(526);y=a(599);c.prototype.f1a=function(z,B){var A,C,D,E;z=void 0 === z?{}:z;E=null !== (C=null === (A=z.playbackState) || void 0 === A?void 0:A.currentTime) && void 0 !== C?C:B.Ba;return Object.assign(Object.assign({startPts:E,uiPlayStartTime:Date.now()},z),{endPts:null !== (D=B.Aa) && void 0 !== D?D:void 0,isPlaygraph:!0});};c.prototype.upb=function(z){d.Ha.get(k.$T).w6b(z);};c.prototype.Afc=function(){d.Ha.get(n.BU)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.PH=c;c.zO={};},function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},function(r,b,a){var f;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function l(h,k){return null === h.yC?!1:h.yC.Gh === k?!0:l(h.yC,k);}function g(h){function k(n,p){var q;void 0 === p && (p=[]);q=c(n.Gh);p.push(q);return null !== n.yC?k(n.yC,p):p;}return k(h).reverse().join(" --\x3e ");}function m(h){h.kra.forEach(function(k){if(l(k,k.Gh))throw (k=g(k),Error(f.Isb + " " + k));m(k);});}function d(h){var k;if(h.name)return h.name;h=h.toString();k=h.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});f=a(55);b.WP=c;b.wdb=function(h,k,n){var p;p="";h=n(h,k);0 !== h.length && (p="\nRegistered bindings:",h.forEach(function(q){var v;v="Object";null !== q.$n && (v=d(q.$n));p=p + "\n " + v;q.bJ.efb && (p=p + " - " + q.bJ.efb);}));return p;};b.kLb=m;b.c4b=function(h,k){var n,p;if(k.kya() || k.Zxa()){n="";p=k.yYb();k=k.bXb();null !== p && (n+=p.toString() + "\n");null !== k && k.forEach(function(q){n+=q.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(r,b,a){var l,g,m,d;function c(f,h){var k,n,p,q,v,t;k=f.iC;n=f.VQ;f=f.oR;p=h.iC;q=h.VQ;h=h.oR;v=void 0 === k || void 0 === p;t=v || void 0 === n || void 0 === q;return v || k > p || k === p && (t || n > q) || k === p && n === q && (t || void 0 === f || void 0 === h || f >= h);}Object.defineProperty(b,"__esModule",{value:!0});b.KP=b.LP=b.j3b=b.IZ=b.NZ=void 0;l=a(5);g=a(73);m=a(42);d=a(123);b.NZ=function(f,h,k,n){return c({iC:f.J9b,VQ:f.K9b,oR:f.L9b},{iC:h,VQ:k,oR:n});};b.IZ=function(f,h){return c({iC:f.Pr},{iC:h});};b.j3b=c;b.LP=function(){return {version:"6.0039.463.911",Cda:!0,IP:!0,Msa:"browser",b5a:["en-US"],jza:"",LX:"cadmium",fqb:!0,r8:!0};};b.KP=function(){return {II:(0,d.Ti)([m.pe.lH,m.pe.mH]),Bo:(0,d.Ti)([].concat(ia(m.Qd.x3),ia(m.Qd.h3),ia(m.Qd.Oha))),bu:(0,d.Ti)([].concat(ia(m.Qd.g3))),bo:g.yb.n6,jC:(0,l.$b)(31E3)};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nU="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z5=b.mr=void 0;b.mr=function(){};b.Z5="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LVa="SystemRandomSymbol";b.J5="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DU="PlayerErrorFactorySymbol";},function(r){var c,l;function b(){var g,m;if(DataView.prototype && DataView.prototype.eZ && !l){try{g=new ArrayBuffer(4);m=new DataView(g);m.aQ(0,4,1);}catch(d){return;}try{g=new ArrayBuffer(4);m=new DataView(g);m.aQ(1,2,2);}catch(d){DataView.prototype.aQ=a(DataView.prototype.aQ,DataView.prototype.getUint8,Uint8Array);DataView.prototype.bba=a(DataView.prototype.bba,DataView.prototype.getUint16,Uint16Array);DataView.prototype.eZ=a(DataView.prototype.eZ,DataView.prototype.getUint32,Uint32Array);DataView.prototype.wva=a(DataView.prototype.wva,DataView.prototype.getInt8,Int8Array);DataView.prototype.uva=a(DataView.prototype.uva,DataView.prototype.getInt16,Int16Array);DataView.prototype.vva=a(DataView.prototype.vva,DataView.prototype.getInt32,Int32Array);}c.g_b=function(d,f,h,k,n){return h?d.aQ(f,h,k || 1,n):new Uint8Array(0);};c.e_b=function(d,f,h,k,n){return h?d.bba(f,h,k || 2,n):new Uint16Array(0);};c.f_b=function(d,f,h,k,n){return h?d.eZ(f,h,k || 4,n):new Uint32Array(0);};c.Yuc=function(d,f,h,k,n){return h?d.wva(f,h,k || 1,n):new Int8Array(0);};c.Wuc=function(d,f,h,k,n){return h?d.uva(f,h,k || 2,n):new Int16Array(0);};c.Xuc=function(d,f,h,k,n){return h?d.vva(f,h,k || 4,n):new Int32Array(0);};l=!0;}}function a(g,m,d){return function(f,h,k,n){var p;k=k || d.BYTES_PER_ELEMENT;if(f + h * k > this.byteLength){p=new d(h);p.set(g.call(this,f,h - 1,k,n));p[h - 1]=m.call(this,f + (h - 1 * k),n);return p;}return g.call(this,f,h,k,n);};}c={aQ:function(g,m,d,f,h){var k;k=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getUint8(m,h);}return k;},bba:function(g,m,d,f,h){var k;k=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getUint16(m,h);}return k;},eZ:function(g,m,d,f,h){var k;k=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getUint32(m,h);}return k;},wva:function(g,m,d,f,h){var k;k=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getInt8(m,h);}return k;},uva:function(g,m,d,f,h){var k;k=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getInt16(m,h);}return k;},vva:function(g,m,d,f,h){var k;k=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getInt32(m,h);}return k;},Euc:b};l=!1;c.iXb=function(){return l;};b();r.exports=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(246);r=(function(){function g(m,d,f){this.tag=m;this.view=d;this.R=f;this.startOffset=f.offset;}g.qjb=function(m,d,f){var h,k;h=m.Nd();k=m.ncc();m=new (l.cP[h] || g)(h,m.T8a(k),m);m.parse(d,f);return m;};Object.defineProperties(g.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});g.prototype.parse=function(){this.R.offset=this.startOffset + this.length;this.R.Xd=0;return !0;};g.prototype.o7a=function(m){var d;d=[];this.tag === m && d.push(this);if(this.cP)for(var f=0;f < this.cP.length;f++){d=c.__spreadArrays(d,this.cP[f].o7a(m));}return d;};g.prototype.yq=function(m){for(m=this.o7a(m);0 < m.length;){return m[0];}};g.prototype.FZa=function(m){for(this.cP=[];this.R.offset < this.startOffset + this.length;){this.cP.push(g.qjb(this.R,m,this));}};return g;})();b.eja=r;r.prototype.skip=r.prototype.parse;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vSa="PboPlaydataServicesSymbol";b.BU="PboPlaydataServicesProviderSymbol";},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.cj=b.V5=void 0;c=a(20);(function(d){d[d.absolute=0]="absolute";d[d.Ojb=1]="relative";})(l=b.V5 || (b.V5={}));m=(function(){function d(f,h){this.type=f;this.timestamp=h;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(l[this.type]);};Object.defineProperties(d,{Pa:{get:function(){g || (g=new d(l.Ojb,c.P.Pa));return g;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.jD=function(f){return new m(l.absolute,f);};Object.defineProperties(d,{xmc:{get:function(){return m.Pa;},enumerable:!1,configurable:!0}});d.ZG=function(f){return new m(l.Ojb,f);};d.mHa=new m(l.absolute,c.P.Ut);return d;})();b.cj=r;},function(r,b,a){function c(l,g){this.lO=l;this.Yk=Math.floor((l + g - 1) / g);this.fe=g;this.reset();}a(2);c.prototype.shift=function(){this.se.shift();this.Px.shift();};c.prototype.Pq=function(l){return this.$1a(this.se[l],l);};c.prototype.update=function(l,g){this.se[l]=(this.se[l] || 0) + g;};c.prototype.push=function(){this.se.push(0);this.Px.push(0);this.Ab+=this.fe;};c.prototype.add=function(l,g,m){var d,f,h;if(null === this.Ab){d=Math.max(Math.floor((m - g + this.fe - 1) / this.fe),1);for(this.Ab=g;this.se.length < d;){this.push();}}for(;this.Ab <= m;){this.push();this.se.length > this.Yk && this.shift();}if(null === this.Up || g < this.Up)this.Up=g;if(g > this.Ab - this.fe)this.update(this.se.length - 1,l);else if(g == m)(d=this.se.length - Math.max(Math.ceil((this.Ab - m) / this.fe),1),0 <= d && this.update(d,l));else for(d=1;d <= this.se.length;++d){f=this.Ab - d * this.fe;h=f + this.fe;if(!(f > m)){if(h < g)break;this.update(this.se.length - d,Math.round(l * (Math.min(h,m) - Math.max(f,g)) / (m - g)));}}for(;this.se.length > this.Yk;){this.shift();}};c.prototype.start=function(l){null === this.Up && (this.Up=l);null === this.Ab && (this.Ab=l);};c.prototype.stop=function(l){var g,m;if(null !== this.Ab)if(l - this.Ab > 10 * this.lO)this.reset();else {for(;this.Ab <= l;){this.push();this.se.length > this.Yk && this.shift();}g=this.se.length - Math.ceil((this.Ab - this.Up) / this.fe);m=this.se.length - Math.ceil((this.Ab - l) / this.fe);if(0 <= m)if((0 > g && (this.Up=this.Ab - this.fe * this.se.length,g=0),g === m))this.Px[g]+=l - this.Up;else if(m > g)for((this.Px[g]+=(this.Ab - this.Up) % this.fe,this.Px[m]+=this.fe - (this.Ab - l) % this.fe,l=g + 1);l < m;++l){this.Px[l]=this.fe;}this.Up=null;}};c.prototype.$1a=function(l,g){g=this.Lua(g);return 0 === g?null:8 * l / g;};c.prototype.Lua=function(l){var g;g=this.Px[l];null !== this.Up && (l=this.Ab - (this.se.length - l - 1) * this.fe,l > this.Up && (g=l - this.Up <= this.fe?g + (l - this.Up):this.fe));return g;};c.prototype.get=function(l,g){var m,d;m=this.se.map(this.$1a,this);if("last" === l)for(l=0;l < m.length;++l){null === m[l] && (m[l]=0 < l?m[l - 1]:0);}else if("average" === l){g=1 - Math.pow(.5,1 / ((g || 2E3) / this.fe));for(l=0;l < m.length;++l){null === m[l]?m[l]=Math.floor(d || 0):d=void 0 !== d?g * m[l] + (1 - g) * d:m[l];}}return m;};c.prototype.reset=function(){this.yna || (this.se=[],this.Px=[],this.Up=this.Ab=null);};c.prototype.setInterval=function(l){this.Yk=Math.floor((l + this.fe - 1) / this.fe);};r.exports=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);l=c.__importStar(a(12));r=a(13);g=c.__importDefault(a(153));m=c.__importDefault(a(421));d=a(954);f=a(422);h=a(955);k=a(957);n=a(3).default;p=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(v){function t(w,u,x){var y;y=v.call(this) || this;y.En={};y.SV=0;y.aE=0;y.UU=[];y.Cm=0;y.Esc=!1;y.L=x;y.TXa=new m.default(x);y.kV=new h.nja(!0);y.TU=new h.nja(!1);x.x6a && (y.VN=new k.GRa(y.L));y.reset();y.cZa=w;y.Nl=u;y.xYa=n.Oq.name();y.Nl.cga(y.xYa);n.events.on("networkchange",y.X8b.bind(y));return q=y;}c.__extends(t,v);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.X8b=function(w){this.xYa=w;this.Nl.cga(w);};Object.defineProperties(t.prototype,{vk:{get:function(){return this.Nl;},enumerable:!1,configurable:!0}});t.prototype.tpb=function(){var w;if(!this.Moa){w=this.M$a();this.Nl.DI(w.default.xa,this.confidence);w["initial-throughput-ewma"] && w["initial-throughput-ewma"].xa && this.Nl.BI(w["initial-throughput-ewma"].xa);w["throughput-ci"] && this.Nl.EI(w["throughput-ci"]);w.deliverytime && this.Nl.sO(w.deliverytime);this.Nl.dM(w.iw?w.iw.wea:void 0,w.iw?w.iw.Kec:void 0);l.wb(this.dd) || (this.Moa=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.rh;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.En.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Cj:{get:function(){return this.hN;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{C_a:{get:function(){return this.UU;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{L3b:{get:function(){return this.AYa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.fI;},enumerable:!1,configurable:!0}});t.prototype.IAb=function(){var w,u,x,y;w=this.L;u=w.YAb.concat(w.gBb);x=w.kna;y=this.TXa;u=u.reduce(function(z,B){z[B]=y.create(B,x);return z;},{});u.confidence=new f.Wka(w,new d.PQa(w,this.bea.bind(this)));return u;};t.prototype.reset=function(){var w,u,x,y;w=this.L.kna;u=this.TXa;x=this.L;this.fI=null;this.En=this.IAb();if(this.L.B6a){y=this.L.cob;this.En.rjc=new g.default(y.numB * y.bSizeMs,y.bSizeMs);}this.kV.reset();this.TU.reset();this.LA=u.create("respconn-ewma",w);this.BA=u.create("respconn-ewma",w);this.VN && this.VN.reset();this.qFb=this.tpb.bind(this);this.a8=void 0;this.CA=this.dd=this.rh=null;this.V7=0;x.xkb && (this.aE=this.SV=this.hN=0,this.UU=[]);};t.prototype.G1=function(w){var u;u=this.En;if(w !== this.fI){l.wa(this.a8) || (clearInterval(this.a8),this.a8=void 0);l.wb(this.fI) && (this.V7=0,this.rh=null);if(!l.wb(w)){for(var x in u){u[x] && u[x].reset && u[x].reset();}this.LA.reset();this.BA.reset();}l.wb(this.rh) || (this.V7+=(l.wb(this.dd)?n.time.fa():this.dd) - this.rh);this.dd=this.rh=null;this.fI=w;this.Nl.G1(w);}};t.prototype.cga=function(w){this.Nl.cga(w);};t.prototype.pGb=function(w){this.En.QoEEvaluator?p.warn("monitor (QoEEvaluator) already existed."):this.En.QoEEvaluator=w;};t.prototype.qdc=function(){delete this.En.QoEEvaluator;};t.prototype.uE=function(w,u,x,y){var z,B;this.AYa=Math.max(this.AYa || 0,x);this.aE-=w;z=this.L;B=this.En;if(!0 === y.eT)(y=B["throughput-wssl"]) && y.add(w,u,x,!0);else if(l.wa(u))p.warn("addDataReceived called with undefined start time");else {this.VN && this.VN.uE(w,u,x,y);z.fBb && 10 > x - u?u=x - 10:0 === x - u && (u=x - 1);this.kV.uE(w,u,x,y);this.TU.uE(w,u,x,y);for(var A in B){B[A] && B[A].add && B[A].add(w,u,x,y);}l.wb(this.rh) && (this.rh=u,this.dd=null,this.Moa=!1);l.wb(this.dd) || (u > this.dd && (this.rh+=u - this.dd),this.dd=null,this.Moa=!1);l.wb(this.CA) || (u - this.CA > z.dZa?this.cZa.Fbb(this.CA,u):x - u > z.dZa && this.cZa.Fbb(u,x));this.CA=this.CA?Math.max(x,this.CA):x;}};t.prototype.SA=function(w){this.LA.add(w);this.Nl.SA(w);};t.prototype.RA=function(w){this.BA.add(w);this.Nl.RA(w);};t.prototype.start=function(w,u){var x;l.wb(this.CA) && !l.wb(this.dd) && (this.CA=w);x=this.En;if(this.L.uFa)for(var y in x){x[y] && x[y].start && x[y].start(w,u);}};t.prototype.stop=function(w,u){var x,y;x=this.En;for(y in x){x[y] && x[y].stop && x[y].stop(w,u);}this.dd=l.wb(this.dd)?w:Math.min(this.dd,w);this.CA=null;};t.prototype.flush=function(){var w,u;w=this.En;for(u in w){w[u] && w[u].flush && w[u].flush();}};t.prototype.e9a=function(){var w,u;w=this.En.wuc;if(w){u=w.NJb();w.reset();}return u;};t.prototype.M$a=function(){var w,u,x,y,z,B,A,C;w=n.time.fa();u=this.En;x=this.L;y=x.OAb;z=x.PAb;B=x.EEb;A={};for(C in u){u[C] && u[C].get && (A[C]=u[C].get(w,this.aE),"iqr" === u[C].type && (A.iw=A[C]),"tdigest" === u[C].type && (A.jh=A[C]),"wssl" === u[C].type && (A.eT=A[C]));}A.cdnavtp=this.kV.op();A.activecdnavtp=this.TU.op();A.default=y && A[y] && z && void 0 !== A[y][z]?{xa:A[y][z]}:y && A[y]?A[y]:A["throughput-ewma"];"none" !== x.jEa && "none" !== B && (A.ilb=B && A[B]?A[B]:A["throughput-sw"]);return A;};t.prototype.Oaa=function(){return this.VN?this.VN.Oaa():void 0;};t.prototype.get=function(){var w,u,x,y,z,B;w=this.M$a();u=w.default;x=this.LA.get();y=this.BA.get();z=this.L;if(w.ilb){B=w.ilb;u=l.Oa(u.xa) && l.Oa(B.xa) && u.xa > B.xa && 0 < B.xa?B:u;}w.Ya=u;w.CZ=w["initial-throughput-ewma"];!z.WSb || !u || l.wb(u.xa) || isNaN(u.xa) || !w.eT || l.wb(w.eT.xa) || isNaN(w.eT.xa) || ("max" === z.Rqb?w.Ya.xa=Math.max(w.eT.xa,u.xa):"sum" === z.Rqb && (w.Ya.xa+=w.eT.xa));w.ul=x;w.fQ=y;this.L.B6a && (u=this.L.cob,w.wyc=this.En.rjc.get(u.fillS,u.fillHl));u=this.V7 + (l.wb(this.rh)?0:(l.wb(this.dd)?n.time.fa():this.dd) - this.rh);w.time=u;return w;};t.prototype.$Zb=function(){var w,u,x;w={};u=this.get();if(u.confidence && u["throughput-ewma"]){w.aseavtp=Number(u["throughput-ewma"].xa).toFixed(2);w.asevartp=Number(u["throughput-ewma"].He).toFixed(2);if(u.iw){x=u.iw.wea;!x || void 0 === x.gm || void 0 === x.fm || void 0 === x.Bk || isNaN(x.gm || 0) || isNaN(x.fm) || isNaN(x.Bk) || (w.aseniqr=0 < x.Bk?Number((x.gm - x.fm) / x.Bk).toFixed(2):-1,w.aseiqr=Number(x.gm - x.fm).toFixed(2),w.asemedtp=Number(x.Bk).toFixed(2));w.iqrsamples=u.iw.Kec;}u.jh && u.jh.MB && (w.tdigest=u.jh.MB());}return w;};t.prototype.Lw=function(w,u){var x,y,z;x=u.requestId;1 === ++this.hN && this.emit("active",w);if(this.L.h6a){y=this.En;for(z in y){y[z] && y[z].Lw && y[z].Lw(w,u);}}this.L.yga && this.start(w,u);x && (this.L.yga || this.start(w,u),this.UU.push(x));this.aE+=u.ga || 0;this.kV.Lw(w,u);this.TU.Lw(w,u);};t.prototype.rkb=function(){++this.SV;};t.prototype.hz=function(w,u,x){var y,z,B;y=x.requestId;u && --this.SV;--this.hN;this.aE=Math.max((this.aE || 0) - ((x.ga || 0) - (x.bytesReceived || 0)),0);this.L.xkb && (this.hN=Math.max(this.hN,0),this.SV=Math.max(this.SV,0));if(this.L.h6a){z=this.En;for(B in z){z[B] && z[B].hz && z[B].hz(w,u,x);}}this.L.yga && this.stop(w,x);0 === this.hN && (this.L.yga || this.stop(w,x),this.emit("inactive",w));y && (u=this.UU.indexOf(y),0 <= u && this.UU.splice(u,1));this.kV.hz(w,x);this.TU.hz(w,x);};t.prototype.bea=function(){this.tpb();this.a8=setInterval(this.qFb,this.L.mCb);};return t;})(r.EventEmitter);b.default=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgA4BAEgAYBADgcoCBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Fa:1001,W:24E3};b.duration={Fa:6006,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,731];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Fa:1001,W:24E3};b.duration={Fa:6006,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,729];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7ABAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgL4FgAYCAUBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Fa:1001,W:24E3};b.duration={Fa:6006,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,731];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CACIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgLoFgAYCAUBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Fa:1001,W:24E3};b.duration={Fa:6006,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,729];b.pc=[44];},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Zja=b.K5=void 0;a=(function(){function l(){var g;g=this;this.UV=[];this.vdc=function(m){m=g.UV.indexOf(m);0 <= m && g.UV.splice(m,1);};}Object.defineProperties(l.prototype,{UA:{get:function(){return 0 !== this.UV.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Fgb:{get:function(){return this.UV.length;},enumerable:!1,configurable:!0}});l.prototype.add=function(){var g;g=new c(this.vdc);this.UV.push(g);return g;};l.prototype.Gha=function(g){var m;m=this.add();try{return Promise.resolve(g()).then(function(d){m.release();return d;},function(d){m.release();return Promise.reject(d);});}catch(d){return (m.release(),Promise.reject(d));}};return l;})();b.K5=a;c=(function(){function l(g){this.jEb=g;}l.prototype.release=function(){this.jEb(this);};return l;})();r=(function(){function l(g,m){this.j9b=g;this.console=m;this.counter=new a();}l.prototype.Sx=function(){var g,m;g=this;this.console.trace("Acquiring lease, total count",this.counter.Fgb + 1);m=this.counter.add();return {release:function(){m.release();g.console.trace("Releasing lease, total count",g.counter.Fgb);g.j9b(function(){return !g.counter.UA;});}};};return l;})();b.Zja=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qD=void 0;c=a(6);l=a(104);g=a(449);r=(function(){var R8;R8=2;for(;R8 !== 14;){switch(R8){case 2:m.prototype.z5a=function(d,f){var M2z,h;M2z=2;for(;M2z !== 3;){switch(M2z){case 2:h=null === this.O8?d * (100 - this.config.n2) / 100:(0,g.Hpa)(d,this.O8);f=null !== f && void 0 !== f?f:this.IQ;this.config.Tya && f?(d=(0,g.Hpa)(d,f),d=Math.max(d,h)):d=h;return d;break;}}};m.prototype.$Ea=function(d){var Z$C;Z$C=2;for(;Z$C !== 1;){switch(Z$C){case 2:return this.config.q6a && (d === c.La.Yh || d === c.La.ae);break;}}};m.prototype.op=function(d,f){var N9g,h,k,n;N9g=2;for(;N9g !== 5;){switch(N9g){case 2:return this.$Ea(f)?(null === (h=d.CZ) || void 0 === h?void 0:h.xa) || (null === (k=d.Ya) || void 0 === k?void 0:k.xa) || 0:(null === (n=d.Ya) || void 0 === n?void 0:n.xa) || 0;break;}}};m.prototype.TC=function(d){var A7T;A7T=2;for(;A7T !== 1;){switch(A7T){case 2:this.O8=d;A7T=1;break;case 4:this.O8=d;A7T=2;break;}}};R8=3;break;case 3:m.prototype.CY=function(){var d41;d41=2;for(;d41 !== 1;){switch(d41){case 2:return this.O8;break;}}};m.prototype.EL=function(d){var T8N;T8N=2;for(;T8N !== 1;){switch(T8N){case 2:this.sqb=d;T8N=1;break;}}};m.prototype.fZ=function(){var v0i;v0i=2;for(;v0i !== 1;){switch(v0i){case 2:return this.sqb;break;}}};m.prototype.JGa=function(d){var E2F;E2F=2;for(;E2F !== 1;){switch(E2F){case 2:this.config=d;E2F=1;break;}}};return m;break;}}function m(d,f){var o_P,h;o_P=2;for(;o_P !== 8;){switch(o_P){case 3:var X4P="1SIY";X4P+="b";X4P+="ZrNJ";X4P+="Cp9";this.G0=function(k,n,p){var T_V;T_V=2;for(;T_V !== 5;){switch(T_V){case 2:k=h.op(k,p);return h.config.q1a?(n=(0,l.Cta)(h.config.p1a,n.kk - n.Qc,1),{lower:k * (1 - n),upper:void 0}):{lower:k * h.config.n2 / 100,upper:void 0};break;}}};X4P;o_P=8;break;case 2:h=this;this.config=d;this.IQ=f;this.sqb=this.O8=null;o_P=3;break;}}}})();b.qD=r;},function(r,b){function a(l){return l && "object" === typeof l?Array.isArray(l)?l.map(a):Object.keys(l).reduce(function(g,m){g[m]=a(l[m]);return g;},{}):l;}function c(l,g){return Object.keys(l).reduce(function(m,d){return (m[g[d] || d]=l[d],m);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.qx=void 0;r=(function(){function l(g){g && (this.BL(g.me),this.VEa(g.Ge),this.OEa(g.U));}l.prototype.BL=function(g){this.me=g;return this;};l.prototype.VEa=function(g){this.Ge=g;return this;};l.prototype.Ulb=function(g){this.Xf=g;return this;};l.prototype.Jg=function(g,m,d){this.U || (this.U={});this.U[g]=a(m);if(d){g=this.U[g];if(m=g.next)g.next=c(m,d);g.bc && d[g.bc] && (g.bc=d[g.bc]);}return this;};l.prototype.OEa=function(g,m,d){void 0 === m && (m=function(){return !0;});this.U={};return this.$_a(g,m,d);};l.prototype.$_a=function(g,m,d,f){var h;h=this;void 0 === m && (m=function(){return !0;});Object.keys(g).filter(function(k){return m(g[k],k);}).forEach(function(k){var n;n=g[k];f && (n=f(n,k));h.Jg(k,n,d);});return this;};l.prototype.qab=function(g){var m;return !(null === (m=this.U) || void 0 === m || !m[g]);};l.prototype.ij=function(){var g;if(!this.U)throw Error("Invalid playgraph - `segments` is not defined");if(!this.me)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.U[this.me])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");g={me:this.me,U:this.U};this.Ge && (g.Ge=this.Ge);this.Xf && (g.Xf=this.Xf);return g;};return l;})();b.qx=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.sM=b.hub=void 0;c=a(26);b.hub=function(){this.II=[];this.Bo=[];this.bu=[];this.h0a=[];this.Tpa=c.dx.Oz;this.wha=c.wn.Oz;};b.sM="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KU="SourceBufferTypeProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tU="MslProviderSymbol";},function(r){function b(m,d){return m.some(function(f){return f.id === d;});}function a(m,d){return m.filter(c.bind(null,d)).map(l).reduce(g,0);}function c(m,d){return m.id === d.id && m.displayTime + m.duration === d.displayTime;}function l(m){return m.duration;}function g(m,d){return m + d;}r.exports={WLb:function(m,d,f){for(var h=0;h < m.length;h++){if(m[h] !== d[h])return (f.error("indexId mismatch in sidx",{sIndexId:m,mIndexId:d}),!1);}return !0;},fsa:function(m,d,f){var h;h={};h.displayTime=m.displayTime;h.duration=m.duration;h.originX=m.z9b;h.originY=m.A9b;h.sizeX=m.nhc;h.sizeY=m.ohc;h.imageData=d;h.id=m.aK;h.rootContainerExtentX=f.zec;h.rootContainerExtentY=f.Aec;return h;},iva:function(m,d){return "o_" + m + "s_" + d;},Wlc:function(m,d){d("P" === String.fromCharCode(m[1]));d("N" === String.fromCharCode(m[2]));d("G" === String.fromCharCode(m[3]));},xd:function(m){return "undefined" !== typeof m;},Hxc:b,quc:a,PY:function(m,d){var f,h;f=Object.create({});for(h in m){f[h]=m[h];}m instanceof Error && (f.message=m.message,f.stack=m.stack);f.errorString=d;return f;},assert:function(m,d){if(!m)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},Tab:function(m){return m && 0 < m.entries.length && 0 === m.images.length;},yic:function(m,d){for(var f=d.entries.length,h,k=0;k < f;k++){if((h=d.entries[k],h.displayTime <= m && h.displayTime + h.duration >= m))return !0;}return !1;},zic:function(m,d,f){for(var h=f.entries.length,k,n,p=0;p < h;p++){k=f.entries[p];n=k.displayTime;k=n + k.duration;if(d < n)break;if(n <= m && k >= m || n > m && n <= d)return !0;}return !1;},B3a:function(m){return m.map(function(d,f){d.duration+=a(m.slice(f + 1),d);return d;}).reduce(function(d,f){b(d,f.id) || d.push(f);return d;},[]);},fwa:function(m){return m.reduce(function(d,f){return d + f.entries.reduce(function(h,k){return k.fxa + h;},0);},0);},xRb:function(m,d){return m && m.dz <= d && m.ws >= d;},CXb:function(m){if(m)return m.endTime;},$Xb:function(m){try{return String.fromCharCode.apply(String,m);}catch(d){}return "";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FH="PlaygraphConfigSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Lr=b.Mrb=void 0;b.Mrb=a;b.Lr=new a();},function(r,b,a){var l,g,m;function c(d,f,h,k){f=m.Bi.call(this,d,f,k) || this;f.context=d;f.Ita=h;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Ms=void 0;r=a(0);l=a(1);g=a(67);m=a(72);a(139);la(c,m.Bi);c.prototype.Uaa=function(d){return "LIVE" === d.ih?g.Kh.events + "/live/" + this.Ita:g.Kh.events + "/" + this.Ita;};c.prototype.Tf=function(d,f){var h,k;h=this;k=this.FE(f);!1;!1;return this.send(d,{url:f.href,name:g.Kh.events,tl:this.Uaa(f)},k).then(function(){return f;}).catch(function(n){throw h.Wn(n);});};c.prototype.wq=function(d,f,h){var k,n,p;k=this;n=this.FE(h);!1;!1;p={url:f.QP("events").href,name:g.Kh.events,tl:this.Uaa(h)};return this.send(d,p,n).then(function(q){f.ipa(q.result.links);return h;}).catch(function(q){throw k.Wn(q);});};c.prototype.FE=function(d){return {event:this.Ita,xid:d.sa,position:d.position || 0,clientTime:d.kB,sessionStartTime:d.qo,videoTrackId:d.$S,audioTrackId:d.lq,timedTextTrackId:d.IS,mediaId:d.MQ,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Aqa(d.Yy),sessionParams:d.po};};c.prototype.zqa=function(d){return {downloadableId:d.Tb,duration:d.duration};};c.prototype.Aqa=function(d){var f;f={total:d.total,audio:d.audio.map(this.zqa),video:d.video.map(this.zqa),text:d.text.map(this.zqa)};d.total !== d.XL && (f.totalContentTime=d.XL);0 !== d.QG && (f.totalAdDuration=d.QG);0 !== d.SG && (f.totalOtherDuration=d.SG);if(0 !== d.SG || 0 !== d.QG)f.totalCombinedDuration=d.LS;0 !== d.YL && (f.totalLiveEdgeDuration=d.YL);0 !== d.ZL && (f.totalStartSlateDuration=d.ZL);return f;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.Jp)()),r.__param(1,(0,l.Jp)()),r.__param(2,(0,l.Jp)()),r.__param(3,(0,l.Jp)())],a);b.Ms=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eH="BrowserInfoSymbol";},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Wva=function(){return this.buffer.length - this.position;};a.prototype.JC=function(){return this.buffer[this.position++];};a.prototype.rl=function(c){var l;l=this.position;this.position+=c;return this.f3b(this.buffer)?this.buffer.subarray(l,this.position):this.buffer.slice(l,this.position);};a.prototype.f3b=function(c){return void 0 !== c.subarray;};a.prototype.xs=function(c){for(var l=0;c--;){l=256 * l + this.buffer[this.position++];}return l;};a.prototype.UCa=function(c){for(var l="";c--;){l+=String.fromCharCode(this.buffer[this.position++]);}return l;};a.prototype.si=function(){return this.xs(2);};a.prototype.ys=function(){return this.xs(4);};a.prototype.JR=function(){return this.xs(8);};a.prototype.ez=function(c){for(var l,g="";c--;){l=this.JC();g+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return g;};a.prototype.VCa=function(c){for(var l=0,g=0;g < c;g++){l+=this.JC() << (g << 3);}return l;};a.prototype.IR=function(){return this.VCa(4);};a.prototype.b3=function(c){this.dT(c,2);};a.prototype.lD=function(c){this.dT(c,4);};a.prototype.Iha=function(c){this.buffer[this.position++]=c;};a.prototype.dT=function(c,l){this.position+=l;for(var g=1;g <= l;g++){this.buffer[this.position - g]=c & 255;c=Math.floor(c / 256);}};a.prototype.kD=function(c){for(var l=0;l < c.length;l++){this.buffer[this.position++]=c.charCodeAt(l);}};a.prototype.a3=function(c){for(var l=c.length,g=0;g < l;g++){this.buffer[this.position++]=c[g];}};a.prototype.cT=function(c,l){this.a3(c.rl(l));};a.prototype.Qqb=function(c){c=new a(c);for(var l,g;;){if((l=c.Wva(),g=l >>> 14))(g=Math.min(4,g),this.Iha(192 | g),this.cT(c,16384 * g));else {128 > l?this.Iha(l):this.dT(l | 32768,2);this.cT(c,l);break;}}};a.prototype.njb=function(){var g;for(var c=[],l=new a(c);;){g=this.JC();if(g & 128){if(128 == (g & 192))(g&=63,g=(g << 8) + this.JC(),l.cT(this,g));else if((g&=63,0 < g && 4 >= g)){l.cT(this,16384 * g);continue;}else throw Error("bad asn1");}else l.cT(this,g);break;}return new Uint8Array(c);};return a;})();b.KT=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Te=void 0;b.Te=a;a.TMa=/^hevc-main/;a.SMa=/^hevc-hdr-|hevc-dv/;a.AM=/^hevc-hdr-/;a.gx=/^hevc-dv/;a.d4=/h264mpl/;a.jH=/h264mpl30/;a.kH=/h264mpl31/;a.oD=/h264hpl.*-dash$/;a.BHa=/h264hpl.*-live$/;a.PD=/^vp9-/;a.Il=/^av1-/;a.Oub=/[l|L]4[0-1]-/;a.dN=/-L5[0-1]-/;a.yOa=/-live/;a.Nha=/^heaac-2-/;a.cvb=/^heaac-2hq-dash/;a.oA=/^xheaac-dash/;a.ftb=/ddplus-2/;a.gtb=/ddplus-5/;a.htb=/ddplus-atmos/;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.z3="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qUa="ReportSyncSymbol";b.oUa="ReportApiErrorSyncSymbol";b.rMa="FtlProbeConfigSymbol";b.tMa="FtlProbeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.o3="ApiInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.g6="UserAgentDataPlatformVersionProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.P3="DebouncerFactorySymbol";},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.hUa=b.P5=b.Caa=void 0;c=a(49);l=a(4);b.Caa=function(g){return g === c.u.T?l.Y.pka:l.Y.qka;};b.P5=50;b.hUa=1E3;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.uw,minHCInitVideoBitrate:a.lAa,maxInitVideoBitrate:a.lC,minInitAudioBitrate:a.M_,maxInitAudioBitrate:a.x_,minHCInitAudioBitrate:a.K_,minAcceptableVideoBitrate:a.nda,minRequiredBuffer:a.YF,minPrebufSize:a.Ak,minCheckBufferingCompleteInterval:a.rda,rebufferingFactor:a.ZCa,useMaxPrebufSize:a.YGa,maxPrebufSize:a.WF,maxRebufSize:a.Sza,maxBufferingTime:a.fu,minAudioMediaRequestSizeBytes:a.oda,minVideoMediaRequestSizeBytes:a.xda,initialBitrateSelectionCurve:a.Kba,initSelectionLowerBound:a.lbb,initSelectionUpperBound:a.mbb,throughputPercentForAudio:a.n2,bandwidthMargin:a.eqa,bandwidthMarginContinuous:a.fqa,bandwidthMarginCurve:a.gqa,conservBandwidthMargin:a.Pra,switchConfigBasedOnInSessionTput:a.UFa,conservBandwidthMarginTputThreshold:a.oX,conservBandwidthMarginCurve:a.Qra,switchAlgoBasedOnHistIQR:a.Nnb,switchConfigBasedOnThroughputHistory:a.MG,maxPlayerStateToSwitchConfig:a.Rza,lowEndMarkingCriteria:a.qza,IQRThreshold:a.Kja,histIQRCalcToUse:a.Wwa,maxTotalBufferLevelPerSession:a.gu,highWatermarkLevel:a.Fab,toStableThreshold:a.wob,toUnstableThreshold:a.Uga,skipBitrateInUpswitch:a.mFa,watermarkLevelForSkipStart:a.oHa,highStreamRetentionWindow:a.Qwa,lowStreamTransitionWindow:a.rza,highStreamRetentionWindowUp:a.Swa,lowStreamTransitionWindowUp:a.tza,highStreamRetentionWindowDown:a.Rwa,lowStreamTransitionWindowDown:a.sza,highStreamInfeasibleBitrateFactor:a.Pwa,lowestBufForUpswitch:a.fC,lockPeriodAfterDownswitch:a.m_,lowWatermarkLevel:a.vza,lowestWaterMarkLevel:a.gC,lowestWaterMarkLevelBufferRelaxed:a.wza,mediaRate:a.ida,maxTrailingBufferLen:a.Zca,audioBufferTargetAvailableSize:a.HW,videoBufferTargetAvailableSize:a.M2,maxVideoTrailingBufferSize:a.Peb,maxAudioTrailingBufferSize:a.teb,fastUpswitchFactor:a.N$,fastDownswitchFactor:a.Vta,maxMediaBufferAllowed:a.qw,simulatePartialBlocks:a.jFa,simulateBufferFull:a.Amb,considerConnectTime:a.Rra,connectTimeMultiplier:a.Ora,lowGradeModeEnterThreshold:a.Sdb,lowGradeModeExitThreshold:a.Tdb,maxDomainFailureWaitDuration:a.web,maxAttemptsOnFailure:a.seb,exhaustAllLocationsForFailure:a.U6a,maxNetworkErrorsDuringBuffering:a.Eeb,maxBufferingTimeAllowedWithNetworkError:a.Rca,fastDomainSelectionBwThreshold:a.c7a,throughputProbingEnterThreshold:a.aob,throughputProbingExitThreshold:a.bob,locationProbingTimeout:a.Idb,finalLocationSelectionBwThreshold:a.j7a,throughputHighConfidenceLevel:a.Znb,throughputLowConfidenceLevel:a.$nb,locationStatisticsUpdateInterval:a.bza,enablePerfBasedLocationSwitch:a.y6a,probeServerWhenError:a.Fw,probeRequestTimeoutMilliseconds:a.zCa,allowSwitchback:a.TA,probeDetailDenominator:a.ER,maxDelayToReportFailure:a.Sca,countGapInBuffer:a.Q3a,bufferThresholdForAbort:a.K1a,allowCallToStreamSelector:a.o0a,pipelineScheduleTimeoutMs:a.SBa,maxPartialBuffersAtBufferingStart:a.mC,maxActiveRequestsSABCell100:a.Pca,maxStreamingSkew:a.Uza,maxPendingBufferPercentage:a.Pza,headerRequestSize:a.uba,estimateHeaderSize:a.zta,minBufferLenForHeaderDownloading:a.J_,reserveForSkipbackBufferMs:a.o1,numExtraFragmentsAllowed:a.QAa,pipelineEnabled:a.nj,maxParallelConnections:a.JQ,socketReceiveBufferSize:a.Kmb,audioSocketReceiveBufferSize:a.P8,videoSocketReceiveBufferSize:a.YS,headersSocketReceiveBufferSize:a.Nwa,updatePtsIntervalMs:a.kha,bufferTraceDenominator:a.sqa,bufferLevelNotifyIntervalMs:a.XW,aseReportDenominator:a.yO,aseReportIntervalMs:a.G8,enableAbortTesting:a.nSb,abortRequestFrequency:a.IFb,streamingStatusIntervalMs:a.LFa,prebufferTimeLimit:a.DC,minBufferLevelForTrackSwitch:a.qda,penaltyFactorForLongConnectTime:a.KBa,longConnectTimeThreshold:a.nza,additionalBufferingLongConnectTime:a.tpa,additionalBufferingPerFailure:a.upa,rebufferCheckDuration:a.W0,enableLookaheadHints:a.v6a,lookaheadFragments:a.Qdb,enableOCSideChannel:a.$E,OCSCBufferQuantizationConfig:a.p5,updateDrmRequestOnNetworkFailure:a.qpb,deferAseScheduling:a.g5a,maxDiffAudioVideoEndPtsMs:a.veb,defaultHeaderCacheSize:a.X9,defaultHeaderCacheDataPrefetchMs:a.W9,neverWipeHeaderCache:a.Jda,networkFailureResetWaitMs:a.xAa,networkFailureAbandonMs:a.wAa,maxThrottledNetworkFailures:a.Yca,throttledNetworkFailureThresholdMs:a.Mga,lowThroughputThreshold:a.uza,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Mta,mp4ParsingInNative:a.Gfb,sourceBufferInOrderAppend:a.Nmb,requireAudioStreamToEncompassVideo:a.nL,allowAudioToStreamPastVideo:a.n0a,enableManagerDebugTraces:a.kj,managerDebugMessageInterval:a.eeb,managerDebugMessageCount:a.deb,bufferThresholdToSwitchToSingleConnMs:a.rqa,bufferThresholdToSwitchToParallelConnMs:a.qqa,netIntrStoreWindow:a.s7b,minNetIntrDuration:a.P6b,fastHistoricBandwidthExpirationTime:a.ZTb,bandwidthExpirationTime:a.JIb,failureExpirationTime:a.XTb,historyTimeOfDayGranularity:a.z0b,expandDownloadTime:a.ITb,minimumMeasurementTime:a.b7b,minimumMeasurementBytes:a.a7b,throughputMeasurementTimeout:a.ojc,initThroughputMeasureDataSize:a.F1b,throughputMeasureWindow:a.njc,throughputIQRMeasureWindow:a.mjc,IQRBucketizerWindow:a.Yvb,connectTimeHalflife:a.jMb,responseTimeHalflife:a.pec,historicBandwidthUpdateInterval:a.y0b,throughputWarmupTime:a.tjc,minimumBufferToStopProbing:a.$6b,throughputPredictor:a.pjc,ase_stream_selector:a.MHb,enableFilters:a.wSb,filterDefinitionOverrides:a.uUb,defaultFilter:a.gQb,secondaryFilter:a.dfc,defaultFilterDefinitions:a.hQb,initBitrateSelectorAlgorithm:a.vxa,bufferingSelectorAlgorithm:a.wqa,ase_ls_failure_simulation:a.P4a,ase_dump_fragments:a.usa,ase_location_history:a.wsa,ase_throughput:a.Q4a,ase_simulate_verbose:a.S4a,secondThroughputEstimator:a.jEa,secondThroughputMeasureWindowInMs:a.hlb,marginPredictor:a.Fza,networkMeasurementGranularity:a.yAa,HistoricalTDigestConfig:a.nNa,maxIQRSamples:a.Beb,minIQRSamples:a.pfb,periodicHistoryPersistMs:a.xea,saveVideoBitrateMs:a.Mfa,needMinimumNetworkConfidence:a.R_,biasTowardHistoricalThroughput:a.jqa,maxFastPlayBufferInMs:a.Tca,maxFastPlayBitThreshold:a.Mza,minAudioMediaRequestDuration:a.Qy,minVideoMediaRequestDuration:a.qC,minAudioMediaRequestDurationCache:a.Qy,minVideoMediaRequestDurationCache:a.qC,addHeaderDataToNetworkMonitor:a.hpa,hindsightDenominator:a.Vwa,hindsightDebugDenominator:a.Uwa,hindsightParam:a.yba,minimumTimeBeforeBranchDecision:a.UQ,minimumTimeBeforeDelayedSeekToQueuedSegment:a.xfb,enableSessionHistoryReport:a.cY,earlyStageEstimatePeriod:a.hta,lateStageEstimatePeriod:a.ldb,maxNumSessionHistoryStored:a.Wca,minSessionHistoryDuration:a.wda,appendMediaRequestOnComplete:a.C0a,waitForDrmToAppendMedia:a.Cha,forceAppendHeadersAfterDrm:a.baa,startMonitorOnLoadStart:a.uFa,reportFailedRequestsToNetworkMonitor:a.tDa,reappendRequestsOnSkip:a.ucc,maxActiveRequestsPerSession:a.My,limitAudioDiscountByMaxAudioBitrate:a.Tya,appendFirstHeaderOnComplete:a.Epa,maxAudioFragmentOverlapMs:0,editVideoFragments:a.cSb,declareBufferingCompleteAtSegmentEnd:a.xsa,applyProfileTimestampOffset:a.GI,applyProfileStreamingOffset:a.Hm,mediaSourceSupportsNegativePts:a.F_,requireDownloadDataAtBuffering:a.ufa,requireSetupConnectionDuringBuffering:a.vfa,recordFirstFragmentOnSubBranchCreate:a.aDa,earlyAppendSingleChildBranch:a.r$,selectStartingVMAFMethod:a.cS,activateSelectStartingVMAF:a.pW,minStartingVideoVMAF:a.vw,minAcceptableVMAF:a.I_,minAllowedVmaf:a.GK,alwaysNotifyEOSForPlaygraph:a.pHb,enableNewAse:a.w$,useNewApi:a.pha,enableCombinedPlaygraphs:a.ZX,enableAdPlaygraphs:a.uJ,retainSbrOnFade:a.Afa,excludedContentPlaygraphIds:a.Nta,enableDiscontiguousBuffering:a.u$,forceImmediateTransitionTypeForTitles:a.Aua,forceImmediateTransitionExitZone:a.zua,useBufferSizeLimiter:a.nha,useLegacyFragmentRounding:a.XGa,maxAllowedOutstandingRequests:a.Qca,alwaysRunUnderflowTimer:a.vO,minStreamableConcurrencyWindow:a.mAa,streamableConcurrencyFactor:a.IFa,bufferingConcurrencyWindow:a.$W,singleStreamablePerBranch:a.mhc,enableResolutionVMAFStreamFilter:a.x$,resolutionVMAFCappingRuleList:a.zfa,percentCapTitlesForResolutionVMAFStreamFilter:a.NBa,useExitZones:a.VGa,perFragmentVMAFConfig:a.rR,enableInitialTputLogging:a.r6a,maxResponsesInitialTput:a.Y5b,paddingDurationMs:a.vBa,paddingMediaType:a.wBa,supportsPtsChanged:a.Lnb,ciPredictorSource:a.nra,experimentalFilter:a.JTb,simulationDurationStrategy:a.kFa,liveTargetBufferDuration:a.i_,liveEdgeCushion:a.Eca};};},function(r,b){function a(l,g){return "number" !== typeof l || "number" !== typeof g?!1:l && g?Math.abs(l * g / c(l,g)):0;}function c(l,g){var m;l=Math.abs(l);for(g=Math.abs(g);g;){m=g;g=l % g;l=m;}return l;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function l(g,m){"object" === typeof g?(this.Bc=g.Fa,this.ob=g.W):(this.Bc=g,this.ob=m);}l.Na=function(g){return new l(g,1E3);};l.Tga=function(g,m){return Math.floor(1E3 * g / m);};l.Ifb=function(g,m){return Math.floor(g * m / 1E3);};l.max=function(){for(var g=[],m=0;m < arguments.length;m++){g[m]=arguments[m];}return g.reduce(function(d,f){return d.greaterThan(f)?d:f;});};l.min=function(){for(var g=[],m=0;m < arguments.length;m++){g[m]=arguments[m];}return g.reduce(function(d,f){return d.lessThan(f)?d:f;});};l.jF=function(g,m){var d;if(g.W === m.W)return new l(c(g.Fa,m.Fa),g.W);d=a(g.W,m.W);return l.jF(g.Zf(d),m.Zf(d));};Object.defineProperties(l.prototype,{Fa:{get:function(){return this.Bc;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{W:{get:function(){return this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{Z:{get:function(){return 1E3 * this.Bc / this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{Vi:{get:function(){return this.Bc / this.ob;},enumerable:!0,configurable:!0}});l.prototype.Zf=function(g){g/=this.W;return new l(Math.floor(this.Fa * g),Math.floor(this.W * g));};l.prototype.add=function(g){var m;if(this.W === g.W)return new l(this.Fa + g.Fa,this.W);m=a(this.W,g.W);return this.Zf(m).add(g.Zf(m));};l.prototype.Ea=function(g){return this.add(new l(-g.Fa,g.W));};l.prototype.Ry=function(g){return new l(this.Fa * g,this.W);};l.prototype.mk=function(g){var m;if(this.W === g.W)return this.Fa / g.Fa;m=a(this.W,g.W);return this.Zf(m).mk(g.Zf(m));};l.prototype.O$a=function(g){return a(this.W,g);};l.prototype.Jjb=function(){return new l(this.W,this.Fa);};l.prototype.compare=function(g,m){var d;if(this.W === m.W)return g(this.Fa,m.Fa);d=a(this.W,m.W);return g(this.Zf(d).Fa,m.Zf(d).Fa);};l.prototype.equal=function(g){return this.compare(function(m,d){return m === d;},g);};l.prototype.Qda=function(g){return this.compare(function(m,d){return m !== d;},g);};l.prototype.lessThan=function(g){return this.compare(function(m,d){return m < d;},g);};l.prototype.greaterThan=function(g){return this.compare(function(m,d){return m > d;},g);};l.prototype.PF=function(g){return this.compare(function(m,d){return m <= d;},g);};l.prototype.pk=function(g){return this.compare(function(m,d){return m >= d;},g);};l.prototype.toJSON=function(){return {ticks:this.Fa,timescale:this.W};};l.prototype.toString=function(){return this.Fa + "/" + this.W;};l.Pa=new l(0,1);l.vC=new l(1,1E3);return l;})();b.P=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){var f;f=g.prototype.parse.call(this,d);this.R.offset+=8;this.$qa=this.R.Fh();this.WDa=this.R.Fh();this.R.offset+=4;this.samplerate=this.R.Fh();this.R.offset+=2;l.M && this.R.console.trace("MP4AudioSampleEntry: channelcount: " + this.$qa + ", samplesize: " + this.WDa + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Ff)(d.Ff.$qa=this.$qa,d.Ff.WDa=this.WDa,d.Ff.samplerate=this.samplerate);return f;};m.wd=!1;return m;})(a(245).default);b.default=r;},function(r,b,a){var l;function c(g){var m;m={profile:g.spoofedProfile || g.profile,laa:g.max_framerate_value,kaa:g.max_framerate_scale,maxWidth:g.maxWidth,maxHeight:g.maxHeight,TBa:g.pixelAspectX,UBa:g.pixelAspectY,channels:g.channels,sampleRate:g.channels?48E3:void 0};g.spoofedProfile && (m.Pwc=g.profile);return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.S9a=b.Eva=void 0;l=a(6);b.Eva=function(g,m,d){var f;f=[{},{}];(d === l.u.T?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(h,k){g[h].some(function(n,p){return p === m[k]?(f[k]=c(n),!0):!1;});});return f;};b.S9a=c;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.dma=b.Bm=void 0;c=a(152);(function(g){g[g.pending=0]="pending";g[g.Ffa=1]="running";g[g.complete=2]="complete";g[g.lJ=3]="destroyed";})(l=b.Bm || (b.Bm={}));r=(function(){function g(m,d){void 0 === d && (d=0);this.name=m;this.priority=d;this.Tc=l.pending;}Object.defineProperties(g.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ibb:{get:function(){return this.Tc === l.pending || this.Tc === l.Ffa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ee:{get:function(){return this.hq;},enumerable:!1,configurable:!0}});g.prototype.YHb=function(m){var d;null === (d=this.hq) || void 0 === d?void 0:d.ofa(this);this.hq=m;};g.prototype.lz=function(){this.Tc=l.Ffa;this.Tf();this.Mda() === c.cj.mHa && (this.Tc=l.complete);};g.prototype.Wa=function(){var m;this.Tc=l.lJ;null === (m=this.hq) || void 0 === m?void 0:m.ofa(this);};g.prototype.t2a=function(m){this.hq.ofa(this);this.hq=m;this.hq.KDa(this);};g.prototype.ty=function(){};g.prototype.reset=function(){this.Tc=l.pending;};return g;})();b.dma=r;},function(r,b,a){var l;function c(g,m){return g < m?-1:g > m?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.sU=void 0;l=a(0);r=(function(){function g(m,d){this.data=null !== m && void 0 !== m?m:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(m=(this.length >> 1) - 1;0 <= m;m--){this.Zma(m);}}Object.defineProperties(g.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});g.prototype.push=function(m){this.data.push(m);this.q_a(this.length - 1);};g.prototype.pop=function(){var m,d;if(!this.empty){m=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Zma(0));return m;}};g.prototype.Pq=function(){return this.data[0];};g.prototype.map=function(m){return this.data.map(m);};g.prototype.find=function(m){return l.__read(this.data.filter(m),1)[0];};g.prototype.clear=function(){this.data=[];};g.prototype.remove=function(m){var d,f,h;d=this.data;m=d.indexOf(m);if(-1 !== m){f=d.pop();if(m < d.length){d[m]=f;h=m - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(f,d)?this.q_a(m):this.Zma(m);}}};g.prototype.xIb=function(){for(var m=this.data,d=1;d < m.length;d++){if(0 > this.compare(m[d],m[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(m));}};g.prototype.contains=function(m){return 0 <= this.data.indexOf(m);};g.prototype.El=function(){return this.data.concat([]);};g.prototype.q_a=function(m){for(var d=this.data,f=this.compare,h=d[m],k,n;0 < m;){k=m - 1 >> 1;n=d[k];if(0 <= f(h,n))break;d[m]=n;m=k;}d[m]=h;};g.prototype.Zma=function(m){for(var d=this.data,f=this.compare,h=this.length >> 1,k=d[m],n,p,q;m < h;){n=(m << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > f(d[p],q) && (n=p,q=d[p]);if(0 <= f(q,k))break;d[m]=q;m=n;}d[m]=k;};return g;})();b.sU=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Lz=void 0;c=a(186);l=a(2);r=(function(){function g(m){this.config=m;this.reset();}g.instance=function(){(0,l.assert)(void 0 !== g.rv);return g.rv;};g.iMb=function(m){g.rv=new g(m);};g.prototype.push=function(m){this.jh && this.jh.push(m);};g.prototype.Jb=function(){if(this.jh)return (this.jh.oB(),this.jh.Sj([.25,.5,.75,.9,.95,.99]).map(function(m){return m?parseFloat(m.toFixed(1)):0;}));};g.prototype.reset=function(){this.config.A6a && this.config.Qja && (this.jh=new c.ama(this.config.Qja.c,this.config.Qja.maxc));};return g;})();b.Lz=r;},function(r,b,a){var d;function c(f,h,k){this.eP=!1 === f;this.sq=f || .01;this.Rja=void 0 === h?25:h;this.JJa=void 0 === k?1.1:k;this.Gj=new d(l);this.reset();}function l(f,h){return f.wg > h.wg?1:f.wg < h.wg?-1:0;}function g(f,h){return f.Oy - h.Oy;}function m(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.sq:!1);this.bRb=this.config.ratio || .9;this.cRb=this.config.pyc || 1E3;this.Dda=0;}d=a(931).xyb;c.prototype.reset=function(){this.Gj.clear();this.Oya=this.n=0;};c.prototype.size=function(){return this.Gj.size;};c.prototype.El=function(f){var h;h=[];f?(this.I6(!0),this.Gj.qg(function(k){h.push(k);})):this.Gj.qg(function(k){h.push({wg:k.wg,n:k.n});});return h;};c.prototype.summary=function(){return [(this.eP?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Sj(0),"Q1  = " + this.Sj(.25),"Q2  = " + this.Sj(.5),"Q3  = " + this.Sj(.75),"max = " + this.Sj(1)].join("\n");};c.prototype.push=function(f,h){h=h || 1;f=Array.isArray(f)?f:[f];for(var k=0;k < f.length;k++){this.KXa(f[k],h);}};c.prototype.OCa=function(f){f=Array.isArray(f)?f:[f];for(var h=0;h < f.length;h++){this.KXa(f[h].wg,f[h].n);}};c.prototype.I6=function(f){var h;if(!(this.n === this.Oya || !f && this.JJa && this.JJa > this.n / this.Oya)){h=0;this.Gj.qg(function(k){k.Oy=h + k.n / 2;h=k.VO=h + k.n;});this.n=this.Oya=h;}};c.prototype.WUb=function(f){var h,k;if(0 === this.size())return null;h=this.Gj.lowerBound({wg:f});k=null === h.data()?h.hL():h.data();return k.wg === f || this.eP?k:(h=h.hL()) && Math.abs(h.wg - f) < Math.abs(k.wg - f)?h:k;};c.prototype.TN=function(f,h,k){this.Gj.rp({wg:f,n:h,VO:k});this.n+=h;};c.prototype.p6=function(f,h,k){h !== f.wg && (f.wg+=k * (h - f.wg) / (f.n + k));f.VO+=k;f.Oy+=k / 2;f.n+=k;this.n+=k;};c.prototype.KXa=function(f,h){var k,n,p;k=this.Gj.min();n=this.Gj.max();p=this.WUb(f);p && p.wg === f?this.p6(p,f,h):p === k?this.TN(f,h,0):p === n?this.TN(f,h,this.n):this.eP?this.TN(f,h,p.VO):(k=p.Oy / this.n,Math.floor(4 * this.n * this.sq * k * (1 - k)) - p.n >= h?this.p6(p,f,h):this.TN(f,h,p.VO));this.I6(!1);!this.eP && this.Rja && this.size() > this.Rja / this.sq && this.oB();};c.prototype.fJb=function(f){var h,k;this.Gj.Jo=g;h=this.Gj.upperBound({Oy:f});this.Gj.Jo=l;k=h.hL();f=k && k.Oy === f?k:h.next();return [k,f];};c.prototype.Sj=function(f){var h;h=(Array.isArray(f)?f:[f]).map(this.MDb,this);return Array.isArray(f)?h:h[0];};c.prototype.MDb=function(f){var h,k;if(0 !== this.size()){this.I6(!0);this.Gj.min();this.Gj.max();f*=this.n;h=this.fJb(f);k=h[0];h=h[1];return h === k || null === k || null === h?(k || h).wg:this.eP?f <= k.VO?k.wg:h.wg:k.wg + (f - k.Oy) * (h.wg - k.wg) / (h.Oy - k.Oy);}};c.prototype.oB=function(){var f;if(!this.u3a){f=this.El();this.reset();for(this.u3a=!0;0 < f.length;){this.OCa(f.splice(Math.floor(Math.random() * f.length),1)[0]);}this.I6(!0);this.u3a=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(f){c.prototype.push.call(this,f);this.eLb();};m.prototype.TN=function(f,h,k){this.Dda+=1;c.prototype.TN.call(this,f,h,k);};m.prototype.p6=function(f,h,k){1 === f.n && --this.Dda;c.prototype.p6.call(this,f,h,k);};m.prototype.eLb=function(){!("auto" !== this.mode || this.size() < this.cRb) && this.Dda / this.size() > this.bRb && (this.mode="cont",this.eP=!1,this.sq=this.config.sq || .01,this.oB());};r.exports={TDigest:c,Digest:m};},function(r,b){function a(c,l){var g;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,l);Object.getOwnPropertyNames(c).forEach(function(m){g=Object.getOwnPropertyDescriptor(c,m);void 0 !== g && Object.defineProperty(l,m,g);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.cx=void 0;a(2);r=(function(){function c(l,g){c.oa(this,l,g);}c.oa=function(l,g,m){l.Uc=g;l.kd=m.ga;l.Mb=m.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Uc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ga:{get:function(){return this.kd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.Uc.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{K:{get:function(){return this.Uc.K;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Uc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Sa:{get:function(){return this.Uc.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Uc.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Uc.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.Uc.W;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{JK:{get:function(){return this.Uc.JK;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{da:{get:function(){return this.Uc.da;},enumerable:!1,configurable:!0}});c.prototype.Qfc=function(l){this.kd=l;};c.prototype.toJSON=function(){return {movieId:this.K,streamId:this.Sa,offset:this.offset,bytes:this.ga};};return c;})();b.cx=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aH=void 0;c=a(0);l=c.__importDefault(a(3));r=(function(g){function m(d,f,h,k,n){var p;p=g.call(this,h) || this;p.p8=!1;m.oa(p,d,f,h,k,n);return p;}c.__extends(m,g);m.oa=function(d,f,h,k,n,p){d.re=k;d.iz=f;d.Le=n;d.fI=f.location || h.location;d.$V=f.cc || h.$c;d.BEa=f.BEa || h.BEa;d.wp=h.wp;d.Oga=l.default.time.fa();d.H=p;};Object.defineProperties(m.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{location:{get:function(){return this.fI;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$c:{get:function(){return this.$V;},enumerable:!1,configurable:!0}});m.prototype.oa=function(d){this.Xa=d;};m.prototype.NEa=function(d,f){this.fI=d;this.$V=f;};m.prototype.QGa=function(d){var f,h,k;if(this.complete)return 0;f=this.iz;h=f.O;if(!f.url)return (this.H.warn("updateurl, missing url for streamId:",f.Sa,"mediaRequest:",this,"stream:",f),1);k=f.Vaa(this.Hc,this.wp);if(this.url !== k || d)if((h.NEa(this,f.location,f.cc),!this.Jga(k)))return (this.H.warn("swapUrl failed: ",this.CP),2);return 0;};return m;})(a(91).bx);b.aH=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pT=void 0;c=a(0);a(2);r=a(35);l=c.__importDefault(a(29));g=c.__importDefault(a(3));m=a(191);d=a(77);f=a(106);h=g.default.kr;k=a(1028);a=(function(n){var r74;r74=2;for(;r74 !== 9;){switch(r74){case 12:return p;break;case 3:return p;break;case 2:c.__extends(p,n);p.create=function(q,v,t,w,u,x,y,z){var n99,B,A;n99=2;for(;n99 !== 11;){switch(n99){case 5:n99=w.KQ && w.ga > w.KQ?4:12;break;case 8:u=new m.ax(q,w,u,v,y,z);n99=7;break;case 1:return new k.pIa(q,t,w,u,x,v,y,z);break;case 6:n99=0 < A?14:13;break;case 4:B=Math.ceil(w.ga / w.KQ);x=w.offset;A=w.ga;n99=8;break;case 2:n99=!v.Th && w.Ka && q.mediaType === l.default.de.J && h.Yc && h.Yc.WR.YM?1:5;break;case 14:var q69="subre";q69+="qu";q69+="e";q69+="st";(B={offset:x,ga:Math.min(A,z),responseType:w.responseType},x+=B.ga,A-=B.ga,u.push(new f.s3(q,t,q69,B,u,v,y)));n99=6;break;case 7:z=Math.ceil(w.ga / B);n99=6;break;case 13:return u;break;case 12:return new p(q,t,w,u,x,v,y,z);break;}}};p.prototype.toString=function(){var m7x;m7x=2;for(;m7x !== 1;){switch(m7x){case 2:var w07="I";w07+="D";w07+=":";w07+=" ";return w07 + this.Mi() + ":" + d.Jl.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var f_z;f_z=2;for(;f_z !== 1;){switch(f_z){case 2:return {ID:this.Mi(),request:d.Jl.prototype.toJSON.call(this)};break;}}};r74=3;break;}}function p(q,v,t,w,u,x,y,z){var e4H,B;e4H=2;for(;e4H !== 6;){switch(e4H){case 8:d.Jl.oa(B,q,t,z);return B;break;case 4:B=B.length?"(" + B.join(",") + ")":"";void 0 === t.responseType && (t.responseType=t.Ka || h.Yc && !h.Yc.WR.YM?0:1);B=n.call(this,q,v,B,t,w,x,y) || this;e4H=8;break;case 2:var v1v="ed";v1v+="i";v1v+="t";var E8V="c";E8V+="a";E8V+="c";E8V+="h";E8V+="e";var P_q="1S";P_q+="I";P_q+="Yb";P_q+="ZrNJCp9";B=this;P_q;B=[E8V,v1v].filter(function(A,C){var Z1C;Z1C=2;for(;Z1C !== 1;){switch(Z1C){case 4:return [u,t.Ka][C];break;case 2:return [u,t.Ka][C];break;}}});e4H=4;break;}}}})(f.s3);b.pT=a;(0,r.ef)(d.Jl,a,!1);},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ax=void 0;c=a(0);l=a(2);r=a(35);g=a(8);m=a(21);d=a(435);f=a(77);h=a(106);a=(function(k){function n(p,q,v,t,w,u){v=k.call(this,p,q,v,t,w) || this;f.Jl.oa(v,p,q,u);v.kd=0;v.he=!1;return v;}c.__extends(n,k);Object.defineProperties(n.prototype,{Hc:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.kd+=p.ga;k.prototype.push.call(this,p);};n.prototype.zs=function(p){this.kd-=p.ga;k.prototype.zs.call(this,p);};n.prototype.Qm=function(){var p;return !this.he && !!this.Ma.length && !(null === (p=(0,m.Oc)(this.Ma,function(q){return !q.he;})) || void 0 === p || !p.Qm());};n.prototype.VA=function(p,q,v){var t,w;(0,l.assert)(!this.he);t=h.Ih.MQa;w=(0,g.Iy)(this);this.he=this.Ma.every(function(u){if(u.he)return !0;if(!u.Qm())return !1;t=u.VA(p,q,v,w).status;return t === h.Ih.Ns;});t !== h.Ih.Ns || this.he || (t=h.Ih.Lka);return {status:t};};n.prototype.hdc=function(){this.Ma.forEach(function(p){p.MR();});};n.prototype.Mi=function(){return this.Ma?this.Ma[0].Mi() + "-" + this.Ma[this.Ma.length - 1].Mi():"empty";};n.prototype.QK=function(p,q,v){this.kd+=q - v;this.gaa(this,q,v);};n.prototype.toString=function(){return "ID: " + this.Mi() + ":" + f.Jl.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.Mi(),request:k.prototype.toJSON.call(this)};};return n;})(d.cia);b.ax=a;(0,r.ef)(f.Jl,a);},function(r,b,a){var g,m,d,f,h,k,n,p;function c(q,v){return q.done?q:{value:{value:q.value,B_a:v}};}function l(q){q.B_a();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.BIb=b.wyb=b.bH=void 0;g=a(0);r=a(13);m=a(132);d=a(10);f=g.__importDefault(a(3));h=a(8);k=a(2);a=a(35);n=(function(){function q(v,t){this.console=v;this.Tg=t;this.MCb=this.eV=0;this.oh=[];this.console=(0,h.Oi)(f.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{KQb:{get:function(){return this.eV;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{q3a:{get:function(){var v,t,w;for(t=0;t < this.oh.length;t++){w=this.oh[t];if(!w.MZ || (null === (v=w.item) || void 0 === v?0:v.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wt:{get:function(){return 0 === this.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{yDa:{get:function(){var v;for(v=0;v < this.oh.length && this.oh[v].jya;v++){;}return v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var v;v=g.__read(this.oh,1)[0];return (v=v && v.item) && !v.done && v.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{BAa:{get:function(){var v;for(v=0;v < this.oh.length && this.oh[v].MZ;v++){;}return v;},enumerable:!1,configurable:!0}});q.prototype.sP=function(){var v;if(void 0 === this.Tg){v=this.console;d.M && v && v.trace("QueueIterator: enqueueEnd");this.KGa(this.BAa - (this.Tg || 0));}};q.prototype.El=function(){return this.oh.map(function(v){return v.item;});};q.prototype.w2=function(){this.mg || (this.mg=this.oh.filter(function(v){return (null === v || void 0 === v?void 0:v.item) && !v.item.done;}).map(function(v){return v.item.value;}));return this.mg;};q.prototype.KGa=function(v){var t;d.M && this.console.trace("updateCount",{Kwc:this.Tg,sq:v});if(void 0 !== this.Tg){t=this.oh[this.Tg];t && this.Dxa(t);}this.Tg=void 0 === this.Tg?v:void 0 === v?v:this.Tg + v;void 0 !== this.Tg && (this.Tg=Math.max(0,this.Tg),(t=this.oh[this.Tg]) && t.oK.resolve({done:!0}));};q.prototype.enqueue=function(v){var t;d.M && this.console.trace("Enqueue called");t=this.BAa;this.q9();return this.Tbc(t,{value:v,done:!1}).m5a.promise;};q.prototype.Akb=function(){d.M && this.console.trace("resetEnd");this.KGa(void 0);};q.prototype.clear=function(v){var t,w,u;d.M && this.console.trace("clear");this.Zib();t=this.yDa;w=this.oh.length - t;if(0 < w){u={index:t,RAa:w};d.M && this.console.trace("Removing items",u);this.oh.splice(t,w);this.q9();this.emit("onRemoved",u);}for(w=1;w < t;w++){this.Dxa(this.oh[w]);}this.Tg=void 0;this.KGa(v?v + t:v);this.eV && (this.eV=0);};q.prototype.getIterator=function(){var v,t;v=this;t=(0,h.Oi)(f.default,this.console,"QueueIteratorInstance::");return new p(this,function(w){return v.Y9a(w);},t);};q.prototype.bP=function(){var v;if(0 < this.yDa){v=g.__read(this.oh,1)[0];if(v.MZ)return (d.M && this.console.trace("dequeue",v.id),this.Zib(1),this.emit("onDequeue",v.oK.promise));}};q.prototype.remove=function(v){var t,w,u;for(t=0;t < this.oh.length;t++){w=this.oh[t];u=w.item;if(u && !u.done && u.value === v){this.oh.splice(t,1);this.Tg && this.Tg > t && this.Tg--;this.q9();d.M && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:t,RAa:1});break;}}};q.prototype.Zib=function(v){var t;v=v || Math.min(this.yDa,this.BAa);if(0 < v){t=this.oh.splice(0,v);this.q9();this.Tg && (this.Tg-=v);d.M && this.console.trace("pruned",v);Promise.resolve().then(function(){t.forEach(function(w){w.m5a.resolve();});});this.emit("onRemoved",{index:0,RAa:v});this.eV+=v;}};q.prototype.Y9a=function(v){var t;d.M && this.console.trace("getNextItemCalled",{offset:v});if(void 0 === this.count || 0 < this.count){this.kbb(v);t=this.oh[v];t.Zdc.resolve();v=t.oK.promise;d.M && this.console.trace("getNextItem:return",{id:t.id});}else (d.M && this.console.trace("getNextItem:returnDone"),v=Promise.resolve({done:!0}));return v;};q.prototype.Tbc=function(v,t){var w;w=!t.done && t.value;w=w && w.toJSON?w.toJSON():w;d.M && this.console.trace("Providing result",{EHb:v,item:w});this.kbb(v);v=this.oh[v];w=v.oK.resolve;w(t);return v;};q.prototype.kbb=function(v){var t;if(void 0 === this.oh[v]){t={};this.Dxa(t);this.oh[v]=t;v === this.Tg && t.oK.resolve({done:!0});d.M && this.console.trace("Item initialized",{EHb:v});}};q.prototype.dsa=function(v){var t;t={};t.promise=new Promise(function(w,u){t.resolve=function(x){w(x);v && v(x);};t.reject=u;});return t;};q.prototype.Dxa=function(v){var t;t=this;v.oK=this.dsa(function(w){v.item=w;v.MZ=!0;d.M && t.console.trace("Item resolved",{id:v.id});});v.id && v.jya && !v.MZ && (v.oK.resolve({done:!0}),d.M && this.console.warn("Overwriting requested queue item",v.id));v.m5a=this.dsa();v.Zdc=this.dsa(function(){v.jya=!0;d.M && t.console.trace("Item requested",{id:v.id});});v.id=this.MCb++;v.jya=!1;v.MZ=!1;v.item=void 0;};q.prototype.q9=function(){this.mg=void 0;};q.prototype.Tua=function(){var v,t,w;v=this;t=(0,h.Oi)(f.default,this.console,"QueueIteratorInstance::");w=new p(this,function(u){var x,y;if(0 === v.count)return m.AsyncIterator.mwa();x=v.Y9a(u);y=v.oh[0];return x.then(function(z){return c(z,function(){w.oQ || (y === v.oh[0]?v.bP():(0,k.assert)(!v.oh.filter(function(B){return B.oK.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},t);return w;};return q;})();b.bH=n;(0,a.ef)(r.EventEmitter,n);p=(function(q){function v(t,w,u){var x;x=q.call(this,function(){d.M && x.console.trace("Next item requested",{index:x.index});return x.Bec(x.index++);}) || this;x.parent=t;x.Bec=w;x.console=u;x.LN=!1;x.index=0;x.Bna=!1;x.Qgb=function(y){var z;z=y.index;y=y.RAa;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.M && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}g.__extends(v,q);v.prototype.Ji=function(){this.console.trace("disposed");this.LN=!0;this.ud();q.prototype.Ji.call(this);};v.prototype.next=function(){this.oQ || this.mQ();return q.prototype.next.call(this);};v.prototype.cancel=function(){this.ud();return q.prototype.cancel.call(this);};v.prototype.ud=function(){this.parent.Sy("onRemoved",this.Qgb);this.Bna=!1;};v.prototype.mQ=function(){this.Bna || (this.Bna=!0,this.parent.on("onRemoved",this.Qgb));};return v;})(m.AsyncIterator);b.wyb=p;b.BIb=function(q){return (0,m.map)(q,l);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Y5=void 0;c=a(8);r=(function(){function l(g){this.FA=g;this.G7a=new c.uD();}Object.defineProperties(l.prototype,{$cb:{get:function(){var g,m;return null !== (g=this.s0b) && void 0 !== g?g:null === (m=this.parent) || void 0 === m?void 0:m.$cb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{WZ:{get:function(){var g,m;return null !== (g=this.L7b) && void 0 !== g?g:null === (m=this.parent) || void 0 === m?void 0:m.WZ;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{nl:{get:function(){var g,m;return null !== (g=this.Sh) && void 0 !== g?g:null === (m=this.parent) || void 0 === m?void 0:m.nl;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{edb:{get:function(){var g,m,d,f;return null !== (g=this.$d) && void 0 !== g?g:(null === (m=this.track) || void 0 === m?0:m.equals(null === (d=this.parent) || void 0 === d?void 0:d.track))?null === (f=this.parent) || void 0 === f?void 0:f.$d:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{gdb:{get:function(){var g,m;return null !== (g=this.bic) && void 0 !== g?g:null === (m=this.parent) || void 0 === m?void 0:m.gdb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hya:{get:function(){var g,m;return null !== (g=this.cic) && void 0 !== g?g:null === (m=this.parent) || void 0 === m?void 0:m.Hya;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.ufc;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Gqb:{get:function(){return this.G7a.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{parent:{get:function(){var g;return null === (g=this.FA) || void 0 === g?void 0:g.call(this);},enumerable:!1,configurable:!0}});l.prototype.Wa=function(){this.FA=void 0;};l.prototype.Plb=function(g){this.s0b=g;};l.prototype.hgc=function(g){this.L7b=g;};l.prototype.emb=function(g){this.Sh=g;this.G7a.resolve();};l.prototype.H1=function(g){this.$d=g;};l.prototype.sgc=function(g){this.bic=g;};l.prototype.gmb=function(g){this.cic=g;};l.prototype.I1=function(g){this.ufc=g;};return l;})();b.Y5=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(1040);c=a(445);a=a(1043);b.default={STARTING:a.mlb,BUFFERING:r.Ufa,REBUFFERING:r.Ufa,PLAYING:c.oo,PAUSED:c.oo};},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.TP=b.qD=void 0;c=a(448);l=a(1054);g=a(1055);m=a(1056);d=a(160);Object.defineProperties(b,{qD:{enumerable:!0,get:function(){return d.qD;}}});b.TP=function(f,h){switch(f.Fza){case "manifold":return new c.tka(f,h);case "stddev":return new g.zVa(f,h);case "ci":return new m.fKa(f,h);default:return new l.iVa(f,h);}};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LU=void 0;c=a(30);r=(function(){function l(g){this.config=g;this.hO=[];}Object.defineProperties(l.prototype,{first:{get:function(){var g;return null === (g=this.hO[0]) || void 0 === g?void 0:g.Lc;},enumerable:!1,configurable:!0}});l.prototype.zW=function(g){this.hO.push({Lc:g});};l.prototype.vY=function(g){this.hO.forEach(function(m,d){return g(m.Lc,d,m.$d);});};l.prototype.oVb=function(g){this.vY(function(m){m.forEach(function(d,f){return g(d,f);});});};l.prototype.D$a=function(g,m,d){var f,h,k,n,p;f=this;h=d;k=m;n=0;p=[];this.hO.forEach(function(q,v){var t,w,u,x;x=q.Lc;q=q.$d;q=void 0 === q?0:q;(null === (t=f.config) || void 0 === t || !t.khc) && 0 < v || 0 >= h || (v=(0,c.fX)(0 === v?g:f.$1b(g,q,x),0,x.length - 1),x=x[v],v=null === (w=x.ma) || void 0 === w?void 0:w.Zra(k,h),w=null !== (u=null === v || void 0 === v?void 0:v.blocks) && void 0 !== u?u:0,n+=w,p.push({stream:x,blocks:w,Vd:k}),null === v || void 0 === v?!0:!v.jDa) || (k=0,h-=v.jDa);});return {nnb:p,yob:n};};l.prototype.ilc=function(g,m){this.hO[g].$d=m;};l.prototype.$1b=function(g,m,d){var f;f=this.hO[0].$d;g >= f?(f=[f,this.first.length - 1],m=[m,d.length - 1]):(f=[0,f],m=[0,m]);m=(g - f[0]) * (m[1] - m[0]) / (f[1] - f[0]) + m[0];return Math.round(isNaN(m)?g:m);};return l;})();b.LU=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FT=void 0;b.FT=(function(){function a(){}a.Sba=function(c,l){var d;function g(f){return m(d++)(f,g);}function m(f){return f >= l.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(f));}:l[f];}d=0;return g(c);};return a;})();},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Zva=b.pp=b.isEqual=b.RZ=void 0;c=a(8);l=a(258);b.RZ=function(g){return !!g.N;};b.isEqual=function(g,m){var d,f;d=(0,b.RZ)(g);f=(0,b.RZ)(m);return d === f?d?g.N === m.N:g.na === m.na:!1;};b.pp=function(g){if((0,b.RZ)(g))return g.N;g=g.na;return g.U[g.me].N;};b.Zva=function(g,m){var d;return g.Z8?g.Z8 instanceof c.P?(g=(0,l.sX)(m,(0,b.pp)(g.key),g.Z8),(null === g || void 0 === g?0:g.offset.greaterThan(c.P.Pa))?g:{offset:c.P.Pa,S:null !== (d=null === g || void 0 === g?void 0:g.S) && void 0 !== d?d:m.me}):g.Z8:{offset:c.P.Pa,S:m.me};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lx=void 0;r=b.lx || (b.lx={});r[r.HGa=0]="up";r[r.RX=1]="down";},function(r,b,a){var l,g,m;function c(d){var f;f=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(f)return {g8:parseInt(f[2]),Gm:parseInt(f[1]),lK:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {Gm:parseInt(d[4]),lK:!0,s0:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.Q8a=b.IJ=b.WHa=void 0;l=a(406);g=a(8);m=a(470);r=(function(){function d(f,h,k){this.wv=f;this.od=h;this.$g=k;}d.prototype.pWb=function(f){for(var h,k,n=c(null === f || void 0 === f?void 0:f.S),p=this.wv.na,q,v=p.U[f.S],t=v,w=[f.S],u=this.od.na.U[t.tc].N;t && t.tc === v.tc && t.N !== u;){w.push(t.bc);t=p.U[t.bc];}w.pop();p=null !== (q=w.pop()) && void 0 !== q?q:f.S;q=c(p);f=this.wv.na.U[f.S];p=this.wv.na.U[p];f=(null !== (h=f.Aa) && void 0 !== h?h:Infinity) - f.Ba;h=(null !== (k=p.Aa) && void 0 !== k?k:Infinity) - p.Ba;return {start:(null === n || void 0 === n?0:n.lK)?new m.hia(l.nM.start,f):void 0,end:(null === q || void 0 === q?0:q.lK)?new m.hia(l.nM.end,h):void 0};};Object.defineProperties(d.prototype,{FC:{get:function(){if(this.wv.X.qf)return this.mWb(this.wv.X.Ii);},enumerable:!1,configurable:!0}});d.prototype.mWb=function(f){var h,k,n;k=c(f.S);if(k){n=null === (h=this.od.ii) || void 0 === h?void 0:h.Ww(f);h=this.$g.bg[this.od.na.U[n.S].N][k.Gm];n=this.pWb(f);n=new m.mIa(h,n.start,n.end);for(var p=this.wv.na,q=p.U[f.S],v=q,t=-f.offset.Z,w=this.od.na.U[v.tc].N;v && v.tc === q.tc && v.N !== w;){t+=v.Aa - v.Ba;v=p.U[v.bc];}p=g.P.Na(t);q=p.Ea(n.dY.duration);k.lK && ("end" === k.s0?q=g.P.Pa:(v=n.vga.duration.Ea(f.offset),q=q.Ea(v)));n={Xe:n,progress:{VFb:h.duration.Ea(q),XFb:1 - Math.max(0,q.Z) / h.duration.Z,YFb:n.duration.Ea(p),ZFb:1 - Math.max(0,p.Z) / n.duration.Z},position:f,index:k.Gm};p=this.wv.na.U[f.S];p=p.Aa - p.Ba;f=f.offset.Z / p;k.lK?n.shb={Y9b:f,xBa:k.s0,pea:g.P.Na(p)}:n.tE={ag:h.dg[k.g8],G_a:f,index:k.g8};return n;}};d.prototype.oWb=function(f,h){var k,n;k=f.S;n=this.p_b(f);if(k=c(k))return (f=this.$g.bg[n][k.Gm],k.lK?{Xe:f,s0:k.s0}:{Xe:f,ag:f.dg[k.g8]});if(f=this.$g.XEa(n,f,h))return {Xe:f};};d.prototype.IJ=function(f){return c(f);};d.prototype.p_b=function(f){var h,k;k=this.od;f=null === (h=k.ii) || void 0 === h?void 0:h.Ww(f);return k.na.U[f.S].N;};return d;})();b.WHa=r;b.IJ=c;b.Q8a=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {H3a:parseInt(d[1])};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fU="LogblobBuilderFactorySymbol";b.eka="LogblobBuilderCommonSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ywb="NativeLocalStorageSymbol";b.NQa="NativeLocalStorageFactorySymbol";b.zNa="IDBFactorySymbol";},function(r,b,a){var l,g;function c(m){switch(m){case l.Y.VT:return "http";case l.Y.XT:return "connectiontimeout";case l.Y.nH:return "readtimeout";case l.Y.dNa:return "corruptcontent";case l.Y.xD:return "abort";case l.Y.YT:case l.Y.Fja:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Yva=b.j$a=b.Mva=void 0;l=a(4);g=a(14);b.Mva=c;b.j$a=function(m,d){m={errorcode:m + (d.errorCode || l.aa.Ho)};d.Ca && (m.errorsubcode=d.Ca);d.Sf && (m.errorextcode=d.Sf);d.vta && (m.erroredgecode=d.vta);d.Ub && (m.errordetails=d.Ub);d.Xl && (m.httperr=d.Xl);d.Fda && (m.aseneterr=d.Fda);d.dF && (m.errordata=d.dF);d.E_ && (m.mediaerrormessage=d.E_);(d=c(Number(d.Ca))) && (m.nwerr=d);return m;};b.Yva=function(){return {screensize:g.px.width + "x" + g.px.height,screenavailsize:g.px.availWidth + "x" + g.px.availHeight,clientsize:mb.innerWidth + "x" + mb.innerHeight,devicePixelRatio:g.LQa};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$u={JU:"START_SLATE",Xja:"LIVE_EVENT",lja:"END_SLATE"};b.OOa="LivePlaybackManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dU="LicenseProviderSymbol";},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.r5b=b.Chb=b.g$b=b.U8a=b.q$b=b.Uqb=b.Tqb=b.Gz=b.uHa=b.Sqb=b.d3=void 0;c=a(23);l=a(22);b.d3="$attributes";b.Sqb="$children";b.uHa="$name";b.Gz="$text";b.Tqb="$parent";b.Uqb="$sibling";b.q$b=/^\s*<\?xml.*\?>/i;b.U8a=function(g,m,d){for(var f=2;f < arguments.length;++f){;}for(f=1;(m=arguments[f++]) && (g=g[m]);){;}return g;};b.g$b=function(g,m){var d;g?d=(0,c.Ck)(g[b.Gz]):void 0 !== m && (d=m);(0,l.DX)(d);return d;};b.Chb=function(g,m){var d;g?d=g[b.Gz]:void 0 !== m && (d=m);(0,l.N4a)(d);return d;};b.r5b=function(g,m){var d;d={};d[b.d3]=g;d[b.Gz]=m;return d;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AD=void 0;r=b.AD || (b.AD={});r[r.Znc=8]="Backspace";r[r.asc=9]="Tab";r[r.dpc=13]="Enter";r[r.Urc=16]="Shift";r[r.voc=17]="Ctrl";r[r.Bnc=18]="Alt";r[r.frc=19]="PauseBreak";r[r.moc=20]="CapsLock";r[r.fpc=27]="Escape";r[r.Wrc=32]="Space";r[r.erc=33]="PageUp";r[r.drc=34]="PageDown";r[r.cpc=35]="End";r[r.Ipc=36]="Home";r[r.Ppc=37]="LeftArrow";r[r.isc=38]="UpArrow";r[r.prc=39]="RightArrow";r[r.Loc=40]="DownArrow";r[r.Mpc=45]="Insert";r[r.Ioc=46]="Delete";r[r.rsc=48]="Zero";r[r.Uqc=49]="One";r[r.dsc=50]="Two";r[r.bsc=51]="Three";r[r.Cpc=52]="Four";r[r.Apc=53]="Five";r[r.Vrc=54]="Six";r[r.Trc=55]="Seven";r[r.bpc=56]="Eight";r[r.Eqc=57]="Nine";r[r.tnc=65]="A";r[r.Cnc=66]="B";r[r.foc=67]="C";r[r.dtb=68]="D";r[r.E=69]="E";r[r.gpc=70]="F";r[r.Dpc=71]="G";r[r.Gpc=72]="H";r[r.Jpc=73]="I";r[r.Npc=74]="J";r[r.Rja=75]="K";r[r.bwb=76]="L";r[r.Tpc=77]="M";r[r.hqc=78]="N";r[r.Rqc=79]="O";r[r.Wqc=80]="P";r[r.Q=81]="Q";r[r.lrc=82]="R";r[r.Dyb=83]="S";r[r.nzb=84]="T";r[r.esc=85]="U";r[r.jsc=86]="V";r[r.lsc=87]="W";r[r.pma=88]="X";r[r.psc=89]="Y";r[r.qsc=90]="Z";r[r.Qpc=91]="LeftWindowKey";r[r.qrc=92]="RightWindowKey";r[r.Rrc=93]="SelectKey";r[r.Hqc=96]="Numpad0";r[r.Iqc=97]="Numpad1";r[r.Jqc=98]="Numpad2";r[r.Kqc=99]="Numpad3";r[r.Lqc=100]="Numpad4";r[r.Mqc=101]="Numpad5";r[r.Nqc=102]="Numpad6";r[r.Oqc=103]="Numpad7";r[r.Pqc=104]="Numpad8";r[r.Qqc=105]="Numpad9";r[r.gqc=106]="Multiply";r[r.Anc=107]="Add";r[r.Xrc=109]="Subtract";r[r.Hoc=110]="DecimalPoint";r[r.Koc=111]="Divide";r[r.hpc=112]="F1";r[r.lpc=113]="F2";r[r.mpc=114]="F3";r[r.npc=115]="F4";r[r.opc=116]="F5";r[r.ppc=117]="F6";r[r.qpc=118]="F7";r[r.rpc=119]="F8";r[r.spc=120]="F9";r[r.ipc=121]="F10";r[r.jpc=122]="F11";r[r.kpc=123]="F12";r[r.Gqc=144]="NumLock";r[r.Prc=145]="ScrollLock";r[r.Src=186]="SemiColon";r[r.epc=187]="Equals";r[r.roc=188]="Comma";r[r.Foc=189]="Dash";r[r.hrc=190]="Period";r[r.Bpc=191]="ForwardSlash";r[r.csc=192]="Tilde";r[r.Vqc=219]="OpenBracket";r[r.Ync=220]="BackSlash";r[r.ooc=221]="CloseBracket";r[r.krc=222]="Quote";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zM=void 0;b.zM=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fja=b.eLa=void 0;b.eLa=function(){this.T=0;this.J=1;this.Zub=2;this.Tf=function(){};};b.fja="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fc=void 0;b.Fc=a;a.ff={cRa:"mr1",bRa:"mr2",dRa:"mr3",xU:"mr4",gxb:"mr5",CH:"mr6"};a.cd={UNSENT:0,OPENED:1,jA:2,iA:3,DONE:5,yM:6,jT:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.X3={NO_ERROR:-1,Ltb:0,zKa:1,Xtb:2,Ptb:3,Psb:4,GJa:5,EJa:6,Qsb:7,Rsb:8,Ssb:9,Msb:10,Osb:11,FJa:12,Nsb:13,Lsb:14,evb:15,bNa:16,aNa:17,Cja:18,V4:19,Dja:20,Eja:21,gvb:22,W4:23,cNa:24,fvb:25,Stb:26,Mtb:27,Ryb:28,Ctb:29,Dtb:30,Etb:31,Ftb:32,Gtb:33,Htb:34,Itb:35,Jtb:36,Ktb:37,Ntb:38,Otb:39,Qtb:40,Rtb:41,Ttb:42,Utb:43,Vtb:44,Wtb:45,Ytb:46,Ztb:47,Qyb:48,TIMEOUT:49,YMa:50,ZMa:51,dvb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Yc={WR:{irb:!0,YM:!1,Twb:!0}};},function(r,b){function a(){var c;c=this;this.Dy=!1;this.trace=[];this.P9=function(){c.Gta.yl(function(){c.yt();});};}Object.defineProperty(b,"__esModule",{value:!0});b.wm=void 0;a.prototype.start=function(c){var l;l=this;this.j=c;this.wf=this.j.zq();this.Dy || (this.wf.Hn.addListener(this.yt),this.j.addEventListener("closing",function(){return l.unsubscribe();}));this.p1();};a.prototype.unsubscribe=function(){this.wf.Hn.removeListener(this.yt);this.Dy=!1;this.p1();};b.wm=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.fl=void 0;c=a(17);l=a(19);r=a(4);g=a(22);m=a(9);d=a(520);f=a(14);h=a(34);k=a(45);n=m.Ha.get(h.vj);n.register(r.aa.Jja,function(p){var q,v,t;q=m.Ha.get(k.Rp);(0,g.ya)(l.config);(0,g.ya)(f.ED && f.ED.getDeviceId || f.KQa || q.IP);v=m.Ha.get(d.WKa);t=(0,m.nk)("Device");n.af("devs");v.create({deviceId:l.config.deviceId,IP:q.IP,s5a:"deviceid",Yl:l.config.Yl,uq:q.uq,LX:q.LX,userAgent:f.AH,eza:l.config.eza,gva:l.config.gva,Cwc:l.config.FB?"mslstoretest":"mslstore",US:l.config.US}).then(function(w){b.fl=w;mb._cad_global.device=b.fl;t.info("Esn source: " + b.fl.C$);n.af("devdone");p(c.mh);}).catch(function(w){w.ja=void 0;p(w);});});},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof mb && (b=mb);}r.exports=b;},function(r,b,a){b=a(611);r.exports=Function.prototype.bind || b;},function(r,b,a){var c;c=a(321);r.exports=function(){return c() && !!Symbol.toStringTag;};},function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},function(r,b,a){var c,l,g,m;b=a(40);c=b("%TypeError%");l=b("%SyntaxError%");g=a(108);m={"Property Descriptor":function(d){var f,h;f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(h in d){if(g(d,h) && !f[h])return !1;}f=g(d,"[[Value]]");d=g(d,"[[Get]]") || g(d,"[[Set]]");if(f && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(646),"Iterator Record":function(d){return g(d,"[[Iterator]]") && g(d,"[[NextMethod]]") && g(d,"[[Done]]");},"PromiseCapability Record":function(d){return d && g(d,"[[Resolve]]") && "function" === typeof d["[[Resolve]]"] && g(d,"[[Reject]]") && "function" === typeof d["[[Reject]]"] && g(d,"[[Promise]]") && d["[[Promise]]"] && "function" === typeof d["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(d){return d && g(d,"[[Completion]]") && g(d,"[[Capability]]") && m["PromiseCapability Record"](d["[[Capability]]"]);}};r.exports=function(d,f,h,k){var n;n=m[f];if("function" !== typeof n)throw new l("unknown record type: " + f);if("Object" !== d(k) || !n(k))throw new c(h + " must be a " + f);};},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.pH=void 0;c=/^\S+$/;a.prototype.jJ=function(l){return void 0 !== l;};a.prototype.wh=function(l){return null !== l && void 0 !== l;};a.prototype.AW=function(l){return a.s0a(l);};a.prototype.Toa=function(l){return !(!l || !a.s0a(l));};a.prototype.vE=function(l){return Array.isArray(l);};a.prototype.t0a=function(l){return !(!l || l.constructor != Uint8Array);};a.prototype.Rl=function(l,g,m){return a.y_a(l,g,m);};a.prototype.Soa=function(l){return a.Soa(l);};a.prototype.Bpa=function(l,g,m){return a.u8(l,g,m) && 0 === l % 1;};a.prototype.BW=function(l,g,m){return a.u8(l,g || 0,m);};a.prototype.lW=function(l){return a.u8(l,1);};a.prototype.GFb=function(l){return a.u8(l,0,255);};a.prototype.HFb=function(l){return l === +l && (0 === l || l !== (l | 0)) && !0;};a.prototype.u0a=function(l){return !(!l || !c.test(l));};a.prototype.Ir=function(l){return a.z_a(l);};a.prototype.So=function(l){return !(!a.z_a(l) || !l);};a.prototype.c8=function(l){return !0 === l || !1 === l;};a.prototype.e8=function(l){return "function" == typeof l;};a.z_a=function(l){return "string" == typeof l;};a.y_a=function(l,g,m){return "number" == typeof l && !isNaN(l) && isFinite(l) && (void 0 === g || l >= g) && (void 0 === m || l <= m);};a.Soa=function(l){return "number" == typeof l && isNaN(l);};a.u8=function(l,g,m){return a.y_a(l,g,m) && 0 === l % 1;};a.s0a=function(l){return "object" == typeof l;};b.pH=new a();},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.uc=void 0;r=a(1);c=a(80);l=a(680);g=a(227);m=a(737);d=a(744);f=a(748);a=a(1444);b.uc=new r.B3({GL:!0});(0,f.Adb)(b.uc);b.uc.load(l.platform);b.uc.load(m.config);g.jP.load(d.e6a);b.uc.load(a.y0a);b.uc.load(a.profile);b.uc.bind(c.hOa).kn(b.uc);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(221);r=(function(){function l(g){this.Mc=g;}l.prototype.Ty=function(g){this.Mc.Ty=g;return new c.yia(this.Mc);};return l;})();b.t3=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(220);a(331);r=(function(){function l(g){this.Mc=g;}l.prototype.when=function(g){this.Mc.bJ=g;return new c.t3(this.Mc);};l.prototype.X2=function(){this.Mc.bJ=function(g){return null !== g.target && !g.target.Zxa() && !g.target.kya();};return new c.t3(this.Mc);};return l;})();b.yia=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gla="PlatformEmeSymbol";},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var g,m,d,f;function c(h,k,n){for(var p=n.next();!p.done;){if((k=h["@@transducer/step"](k,p.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p=n.next();}return h["@@transducer/result"](k);}function l(h,k,n,p){return h["@@transducer/result"](n[p](d(h["@@transducer/step"],h),k));}g=a(689);m=a(691);d=a(692);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(h,k,n){"function" === typeof h && (h=m(h));if(g(n)){for(var p=0,q=n.length;p < q;){if((k=h["@@transducer/step"](k,n[p])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p+=1;}return h["@@transducer/result"](k);}if("function" === typeof n["fantasy-land/reduce"])return l(h,k,n,"fantasy-land/reduce");if(null != n[f])return c(h,k,n[f]());if("function" === typeof n.next)return c(h,k,n);if("function" === typeof n.reduce)return l(h,k,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,l){return a.apply(this,arguments);};case 3:return function(c,l,g){return a.apply(this,arguments);};case 4:return function(c,l,g,m){return a.apply(this,arguments);};case 5:return function(c,l,g,m,d){return a.apply(this,arguments);};case 6:return function(c,l,g,m,d,f){return a.apply(this,arguments);};case 7:return function(c,l,g,m,d,f,h){return a.apply(this,arguments);};case 8:return function(c,l,g,m,d,f,h,k){return a.apply(this,arguments);};case 9:return function(c,l,g,m,d,f,h,k,n){return a.apply(this,arguments);};case 10:return function(c,l,g,m,d,f,h,k,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zla="StringUtilsSymbol";},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C;Object.defineProperty(b,"__esModule",{value:!0});b.jP=b.d6a=void 0;r=a(1);c=a(128);l=a(343);g=a(228);m=a(229);d=a(720);f=a(722);h=a(99);k=a(145);n=a(723);p=a(173);q=a(724);v=a(230);t=a(725);w=a(232);u=a(729);x=a(351);y=a(733);z=a(352);B=a(735);A=a(234);C=a(736);b.d6a=new r.Gd(function(D){D(l.iLa).to(g.hLa).la();D(m.Lia).to(d.MJa).la();D(c.U3).u2(f.Xib);D(z.vOa).to(B.uOa).la();D(A.Uja).to(C.wOa).la();D(h.$z).PG(function(E){b.jP.parent=E.zb;return b.jP.get(h.$z);});D(k.nU).df(function(){return function(){return new n.kQa();};});D(p.z3).to(q.OJa).la();D(v.mja).to(t.MLa).la();D(w.gja).to(u.nLa).la();D(x.hQa).to(y.gQa).la();});b.jP=new r.B3({GL:!0});},function(r,b,a){var g;function c(){}function l(m){m?(this.active=!1,this.Iua(m)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.hLa=b.T3=void 0;r=a(0);a=a(1);l.prototype.Iua=function(m){this.$e=m.keySessionData?m.keySessionData.map(function(d){return {id:d.id,uK:d.licenseContextId,e_:d.licenseId};}):[];this.sa=m.xid;this.K=m.movieId;};l.prototype.Vw=function(){return JSON.parse(JSON.stringify({keySessionData:this.$e?this.$e.map(function(m){return {id:m.id,licenseContextId:m.uK,licenseId:m.e_};}):[],xid:this.sa,movieId:this.K}));};b.T3=l;c.prototype.create=function(){return new l();};c.prototype.load=function(m){return new l(m);};g=c;g=r.__decorate([(0,a.$)()],g);b.hLa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lia="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mja="EmeApiFactorySymbol";},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.Q_=t;this.is=w;this.yc=u;this.Yi=x;this.Ij=y;this.Ai=z;(0,m.Kq)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.sx=void 0;r=a(0);g=a(1);m=a(54);d=a(4);f=a(37);h=a(25);k=a(98);n=a(31);p=a(32);q=a(63);a=a(69);c.prototype.KB=function(){if(this.Eb)return this.Eb.sessionId;};c.prototype.Odc=function(t,w){return this.Q_.requestMediaKeySystemAccess(t,w);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,w){this.Eb=t.createSession(w);};c.prototype.K9=function(){return Promise.reject(new k.Vh(d.aa.W3));};c.prototype.Y2b=function(){return !!this.Eb;};c.prototype.setServerCertificate=function(t,w){return this.is.e8(t.setServerCertificate) && w?t.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(t,w){return this.Eb?this.Eb.generateRequest(t,w[0]):Promise.reject(new k.Vh(d.aa.W3,d.Y.wM,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.Eb?this.Eb.update(t[0]):Promise.reject(new k.Vh(d.aa.DLa,d.Y.wM,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.Eb?this.Eb.load(t):Promise.reject(new k.Vh(d.aa.Bub,d.Y.wM,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.Ara=void 0;if(!this.Eb)return Promise.reject(new k.Vh(d.aa.vLa,d.Y.wM,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.KB() && (t=this.Eb.close());this.Eb=void 0;return t;};c.prototype.remove=function(){return this.Eb?this.Eb.remove():Promise.reject(new k.Vh(d.aa.Dub,d.Y.wM,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.jL=function(){return Promise.reject(new k.Vh(d.aa.jja,void 0,"Unable to renew a key session, not supported"));};c.prototype.U_a=function(t){if(!this.Eb)throw ReferenceError("Unable to add message handler, key session is not valid");this.Eb.addEventListener(l.ILa,t);};c.prototype.Q_a=function(t){if(!this.Eb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Eb.addEventListener(l.HLa,t);};c.prototype.N_a=function(t){if(!this.Eb)throw ReferenceError("Unable to add error handler, key session is not valid");this.Eb.addEventListener(l.GLa,t);};c.prototype.jGb=function(t){var w;w=this;if(!this.Eb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Ara=t;this.Eb.closed.then(function(u){var x;return null === (x=w.Ara) || void 0 === x?void 0:x.call(w,u);});};c.prototype.Yjb=function(t){if(!this.Eb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Eb.removeEventListener(l.ILa,t);};c.prototype.Vjb=function(t){if(!this.Eb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Eb.removeEventListener(l.HLa,t);};c.prototype.Tjb=function(t){if(!this.Eb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Eb.removeEventListener(l.GLa,t);};v=l=c;v.ILa="message";v.HLa="keystatuseschange";v.GLa="error";v=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(f.MM)),r.__param(1,(0,g.l)(h.Vg)),r.__param(2,(0,g.l)(p.Zi)),r.__param(3,(0,g.l)(n.Di)),r.__param(4,(0,g.l)(q.Qs)),r.__param(5,(0,g.l)(a.Vs))],v);b.sx=v;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gja="DrmTraitsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mxa=b.hx=void 0;(function(a){a.Mpb="usable";a.Ov="expired";a.released="released";a.ehb="output-restricted";a.N9b="output-downscaled";a.Vhc="status-pending";a.Y1b="internal-error";})(b.hx || (b.hx={}));b.Mxa=function(a){return !!a && !!a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uja="KeySystemRestrictorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nia="CachedErrorsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OU="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nk="_ANY_";b.WLa="EnricherSymbol";},function(r,b,a){var l,g,m;function c(d,f,h,k){this.Ia=d;this.h9=f;this.Gp=h;this.oq=void 0 === k?"General":k;this.Dra={};}Object.defineProperty(b,"__esModule",{value:!0});b.EM=void 0;l=a(7);g=a(371);m=a(778);c.prototype.K_a=function(d,f){this.Dra[d]=f;};c.prototype.fatal=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.pE(l.Jk.Nub,d,this.WS(d,h));};c.prototype.error=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.pE(l.Jk.Cg,d,this.WS(d,h));};c.prototype.warn=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.pE(l.Jk.mma,d,this.WS(d,h));};c.prototype.info=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.pE(l.Jk.Hja,d,this.WS(d,h));};c.prototype.trace=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.pE(l.Jk.PVa,d,this.WS(d,h));};c.prototype.debug=function(d,f){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.debug.apply(this,[d].concat(ia(h)));};c.prototype.write=function(d,f,h){for(var k=[],n=2;n < arguments.length;++n){k[n - 2]=arguments[n];}this.pE(d,f,this.WS(f,k));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.oq};};c.prototype.I9=function(d){return new c(this.Ia,this.h9,this.Gp,d);};c.prototype.pE=function(d,f,h){d=new g.cka(d,this.oq,this.Ia.Rb(),f,h);f=oa(this.Gp.Gp);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d);}};c.prototype.WWb=function(d){return 0 < Object.keys(this.Dra).length?[this.Dra].concat(ia(d)):d;};c.prototype.WS=function(d,f){var h;d && "null" !== d && "undefined" !== d || f.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return (0,m.S1a)(this.h9,this.WWb(f));};b.EM=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pla="SegmentManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$ka="PboPlaydataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qla="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ska="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bja="HLSConfigSymbol";},function(r,b,a){var E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa,T,X,Q,ka,ra,R,ha,wa,va,Ea,Ya,wb,nb,zb;function c(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function l(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function g(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function m(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);this.cFa=Pa.config.cFa;this.Me=this.sizes=void 0;}function d(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function f(){for(var Pa=new DataView(this),Za="",Xa,cb=0;cb < this.byteLength;cb++){Xa=Pa.getUint8(cb);Za+=("00" + Xa.toString(16)).slice(-2);}return Za;}function h(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function k(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function n(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function p(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function q(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function v(Pa){function Za(Xa,cb,hb,sb,Hb){L.call(this,Xa,cb,hb,sb,Hb);this.Wfb=Pa;}Za.wd=!1;Za.prototype=new L();Za.prototype.constructor=Za;Object.defineProperties(Za.prototype,{CKa:{get:function(){return this.Wfb;}}});Za.prototype.parse=function(){this.R.console.trace("renaming '" + this.type + "' to draft type '" + this.Wfb + "'");this.R.offset=this.startOffset + 4;this.Xb.Pqb(this.CKa);this.type=this.CKa;return !0;};return Za;}function t(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function w(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function u(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function x(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function y(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function z(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function B(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function A(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function C(Pa,Za,Xa,cb,hb){L.call(this,Pa,Za,Xa,cb,hb);}function D(Pa,Za){Pa.forEach(function(Xa){Za[Xa.xf]=Xa;});}E=a(102).assert;b=a(103);G=a(180).P;F=a(386);a(149);a(89);a(89);a(89);L=a(24).Bg;O=a(800).default;K=a(801).default;I=a(802).default;M=a(803).default;H=a(804).default;J=a(805).default;N=a(806).default;P=a(807).default;W=a(808).default;a(245);a(181);V=a(387).drb;S=a(387).tub;U=a(809).default;fa=a(810).default;qa=a(90).default;xa=a(90).zrb;Aa=a(90).Arb;Oa=a(90).Brb;T=a(90).Crb;X=a(811).default;Q=a(812).default;ka=a(813).default;ra=a(90).hvb;R=a(90).avb;ha=a(90).yrb;wa=a(814).default;va=a(815).default;Ea=a(816).default;Ya=a(388).default;wb=a(389).default;a(150);a(248);a(249);a(247);nb=a(817).default;zb=a(818).szb;a=a(834).default;c.wd=!0;c.prototype=new L();c.prototype.constructor=c;l.wd=!0;l.prototype=new L();l.prototype.constructor=l;g.wd=!1;g.prototype=new L();g.prototype.constructor=g;g.prototype.parse=function(Pa){var Za;this.Rh();1 === this.version?(this.R.km(),this.R.km(),this.W=this.R.kc(),this.duration=this.R.km()):(this.R.kc(),this.R.kc(),this.W=this.R.kc(),this.duration=this.R.kc());Za=this.R.Fh() & 32767;this.language=String.fromCharCode(96 + (Za >>> 10),96 + (Za >>> 5 & 31),96 + (Za & 31));Pa && Pa.Ff && (Pa.Ff.W=this.W,Pa.Ff.duration=this.duration);return !0;};m.wd=!1;m.prototype=new L();m.prototype.constructor=m;m.prototype.IDb=function(){this.Rh();this.R.kc();this.W=this.R.kc();0 === this.version?(this.Z5a=this.R.kc(),this.F7a=this.R.kc()):(this.Z5a=this.R.km(),this.F7a=this.R.km());this.fec=this.R.Fh();this.Njb=this.R.Fh();};m.prototype.CAb=function(Pa,Za){var Xa,cb,hb;Xa=this.W;Pa=Pa && Pa.W || Xa;cb=Pa / Xa;Xa=this.R.afa(Za,12,!1);hb=1 === cb?this.R.afa(Za,12,!1):F.from(Uint32Array,{length:Za},function(){var sb;sb=Math.round(this.R.kc() * cb);this.R.offset+=8;return sb;},this);this.pFb(Za,hb,Xa,Pa);};m.prototype.pFb=function(Pa,Za,Xa,cb){if(this.cFa){cb=this.cFa * cb / 1E3;for(var hb=0,sb=1;sb < Pa;sb++){Math.abs(Za[hb] - cb) > Math.abs(Za[hb] + Za[sb] - cb)?(Za[hb]+=Za[sb],Xa[hb]+=Xa[sb]):(++hb,hb !== sb && (Za[hb]=Za[sb],Xa[hb]=Xa[sb]));}++hb;Za=new Uint32Array(Za.buffer.slice(0,4 * hb));Xa=new Uint32Array(Xa.buffer.slice(0,4 * hb));}this.sizes=Xa;this.Me=Za;};m.prototype.parse=function(Pa){var Za,Xa,cb,hb;this.IDb();this.da=Pa.da;Za=this.W;Xa=this.da && this.da.W || Za;cb=this.Njb;hb=this.startOffset + this.length + this.F7a;Za=new G(this.Z5a,Za).Zf(Xa).Fa;this.ma={W:Xa,so:Za,offset:hb};this.CAb(this.da,cb);this.ma.Me=this.Me;this.ma.sizes=this.sizes;Pa.rm=this;return !0;};d.wd=!1;d.prototype=new L();d.prototype.constructor=d;d.prototype.parse=function(){var Pa;this.Ez=[];this.K$b=[];Pa=(this.length - 11) / 2;this.R.Nd();this.R.Nd();this.R.Nd();for(var Za=0;Za < Pa;Za++){this.Ez.push(this.R.Nd());this.K$b.push(this.R.Nd());}return !0;};h.wd=!1;h.prototype=new L();h.prototype.constructor=h;h.prototype.parse=function(Pa){var Za;this.Rh();this.R.offset+=1;if(0 == this.version)this.R.offset+=1;else {Za=this.R.Nd();this.qQb=Za >> 4;this.wQb=Za & 15;Pa && Pa.Ff && (Pa.Ff.Xtc=this.qQb,Pa.Ff.$tc=this.wQb);}this.e5a=this.R.Nd();this.d5a=this.R.Nd();this.uya=this.R.offset;this.Jq=this.R.cfa(16);this.Jq.toString=f;Pa && Pa.Ff && (Pa.Ff.Ytc=this.e5a,Pa.Ff.sQb=this.d5a,Pa.Ff.Ztc=this.Jq);1 == this.e5a && 0 == this.d5a && (this.pQb=this.R.Nd(),this.oQb=this.R.cfa(this.pQb),Pa && Pa.Ff && (Pa.Ff.rQb=this.oQb));return !0;};k.wd=!1;k.prototype=new L();k.prototype.constructor=k;k.prototype.parse=function(){this.Rh();this.Tr=this.R.Fh();this.i6b=this.R.afa(this.Tr,void 0,!0);return !0;};n.wd=!1;n.prototype=new L();n.prototype.constructor=n;n.prototype.parse=function(Pa){var Za,Xa,cb,hb,sb,Hb;Za=Pa.rm;E(Za);Pa=Pa.da;Xa=Za.W;Za=Za.Njb;E(Pa);E(Xa);E(Za);this.Rh();E(2 > this.version);this.Tr=this.R.Fh();this.xR=new Uint16Array(Za + 1);cb=Pa.O$a(Xa);hb=cb / Xa;sb=Pa.Zf(cb).Fa;if(0 === this.version)for((this.YR=new Uint16Array(),this.Qi=new Uint32Array(),Pa=Xa=0);Pa <= Za;++Pa){if((this.xR[Pa]=Xa,Pa < this.Tr)){Hb=this.R.Nd();if(0 !== Hb)for(cb=0;cb < Hb;(++cb,++Xa)){this.YR[Xa]=Math.floor((this.R.kc() + 1) * hb) / sb;this.Qi[Xa]=this.R.kc();}}}else if(1 === this.version)for((cb=this.R.kcc(this.Tr),this.R.offset+=4,this.Qi=this.R.afa(this.Tr,10,!1),this.R.offset-=8,this.YR=F.from(Uint16Array,{length:this.Tr},function(){var Lb;Lb=Math.floor((this.R.kc() + 1) * hb) / sb;this.R.offset+=6;return Lb;},this),Xa=Pa=0);Pa <= Za;++Pa){for(;Xa < cb.length && cb[Xa] < Pa;){++Xa;}this.xR[Pa]=Xa;}this.Zk={xR:this.xR,YR:this.YR,Qi:this.Qi};return !0;};p.wd=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.wd=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.zJ=function(){var Pa;Pa=this.ar("tfhd");Pa && (this.tt=Pa.s1a?Pa.tt:this.parent.startOffset);return !0;};t.wd=!1;t.prototype=new L();t.prototype.constructor=t;t.prototype.parse=function(){var Pa,Tb;Pa=this.R.offset;this.Rh();if(1 === this.version){this.R.console.trace("translating vpcC box to draft equivalent");this.R.offset+=2;for(var Za=this.R.offset,Xa=this.R.Nd(),cb=this.R.Nd(),hb=this.R.Nd(),sb=this.R.Nd(),Hb=this.R.Fh(),Lb=[],Rb=0;Rb < Hb;++Rb){Lb=this.R.Nd();}Rb=(Xa & 240) >>> 4;Tb=(Xa & 14) >>> 1;Xa&=1;hb=16 === hb?1:0;cb != sb && this.R.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + cb + " and matrixCoefficients " + sb + " should be the same value!");sb=2;switch(cb){case 1:sb=2;break;case 6:sb=1;break;case 9:sb=5;break;default:this.R.console.warn("VP9: Unknown colourPrimaries " + cb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Xb.Hha(this.version,Pa);this.Xb.Hha(Rb << 4 | sb,Za++);this.Xb.Hha(Tb << 4 | hb << 1 | Xa,Za++);Hb+=2;Lb.push(0,0);this.Xb.Qmc(Hb);Za+=2;Lb.forEach(function(Ob){this.Xb.Hha(Ob,Za++);});}return !0;};w.wd=!1;w.prototype=new L();w.prototype.constructor=w;w.xf="tfhd";Object.defineProperties(w.prototype,{s1a:{get:function(){return this.flags & 1;}},Mec:{get:function(){return this.flags & 2;}},tQb:{get:function(){return this.flags & 8;}},vQb:{get:function(){return this.flags & 16;}},f5a:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(Pa){this.Rh();this.OS=this.R.kc();this.tt=this.s1a?this.R.km():void 0;this.Ykb=this.Mec?this.R.kc():void 0;this.ky=this.tQb?this.R.kc():void 0;this.zB=this.vQb?this.R.kc():void 0;this.yB=this.f5a?this.R.kc():void 0;Pa && Pa.pa && (Pa.pa.OS=this.OS,Pa.pa.tt=this.tt,Pa.pa.Ykb=this.Ykb,Pa.pa.ky=this.ky,Pa.pa.zB=this.zB,Pa.pa.yB=this.f5a?this.yB:void 0);return !0;};u.wd=!1;u.prototype=new L();u.prototype.constructor=u;u.prototype.parse=function(Pa){this.Rh();this.MI=1 === this.version?this.R.km():this.R.kc();Pa && Pa.pa && (Pa.pa.MI=this.MI);return !0;};u.prototype.Ka=function(Pa){var Za;Za=this.startOffset + 12;this.MI+=Pa;1 === this.version?this.Xb.Rmc(this.MI,Za):this.Xb.Zw(this.MI,Za);};x.wd=!1;x.prototype=Object.create(L.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{KI:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Pa){this.Rh();this.KI && this.R.IC();this.KI && this.R.kc();this.uQb=this.R.Nd();this.Zd=this.R.kc();this.u1b=this.R.bfa(this.Zd);Pa && Pa.pa && (Pa.pa.Nec=this.u1b);return !0;};x.prototype.Ka=function(Pa,Za){if(Pa && 0 === this.uQb){Pa=Za?this.Zd - Pa:Pa;this.Xb.offset=this.startOffset + 13 + (this.KI?8:0);this.Zd-=Pa;this.Xb.Zw(this.Zd);this.RDa=0;if(Za)this.Xb.offset+=this.Zd;else {for(Za=0;Za < Pa;++Za){this.RDa+=this.Xb.Nd();}this.Xb.offset-=Pa;}this.lo(Pa,this.R.offset);}return !0;};y.wd=!1;y.prototype=Object.create(L.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{KI:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Pa){var Za,Xa,Rb,Tb;this.Rh();this.KI && this.R.IC();this.KI && this.R.kc();this.Tr=this.R.kc();E(1 === this.Tr,"Expected a single entry in Sample Auxiliary Information Offsets box");this.$o=0 === this.version?this.R.efa():this.R.rcc();this.R.offset=this.$o;if(Pa && Pa.pa && Pa.Ff){Za=Pa.Ff.sQb;Xa=Pa.pa.Nec;E(0 < Za || void 0 !== Pa.Ff.rQb,"Expected per sample or constant IV");E(0 < (Xa || []).length,"Expected saix box parsing to find sample info sizes");Pa.pa.sL=[];for(var cb=0;cb < Xa.length;cb++){for(var hb=Za?this.R.cfa(Za):void 0,sb=[],Hb=this.R.Fh(),Lb=0;Lb < Hb;Lb++){Rb=this.R.Fh();Tb=this.R.kc();sb.push({DJb:Rb,EJb:Tb});}Pa.pa.sL.push({NFa:sb,Lja:hb});}}return !0;};y.prototype.Ka=function(Pa,Za){this.$o+=Pa;this.Xb.offset=this.startOffset + 16 + (this.KI?8:0) + (0 === this.version?0:4);this.Xb.sHa(Za,this.$o);return !0;};z.wd=!1;z.prototype=Object.create(L.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{phb:{get:function(){return this.flags & 1;}},bqb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Pa){var Za,Hb,Lb;this.Rh();Za=0;this.phb && (Za=this.r3b=this.R.kc() & 255,this.R.bfa(16));if(Pa && Pa.pa){if(Pa.pa.sL)return !0;Pa.pa.xl || (Pa.pa.xl=[]);}if(0 !== Za && 8 !== Za && 16 !== Za)return !0;this.Zd=this.R.kc();if(Pa && Pa.pa)for(var Xa=0;Xa < this.Zd;Xa++){if((Pa.pa.xl[Xa].Lja=0 < Za?this.R.cfa(Za):void 0,this.bqb)){for(var cb=[],hb=this.R.Fh(),sb=0;sb < hb;sb++){Hb=this.R.Fh();Lb=this.R.kc();cb.push({DJb:Hb,EJb:Lb});}Pa.pa.xl[Xa].NFa=cb;}}return !0;};z.prototype.Ka=function(Pa,Za){var Xa,cb;Xa=Za?this.Zd - Pa:Pa;this.Xb.offset=this.startOffset + 28 + (this.phb?20:0);this.Zd-=Xa;this.Xb.Zw(this.Zd);Pa=this.Xb.offset;if(this.bqb)for(Xa=Za?this.Zd:Xa;0 < Xa;--Xa){this.Xb.offset+=8;cb=this.Xb.Fh();this.Xb.offset+=6 * cb;}else this.Xb.offset+=8 * (Za?this.Zd:Xa);Za?this.lo(this.length - (this.R.offset - this.startOffset),this.R.offset):this.lo(this.R.offset - Pa,Pa);};B.wd=!1;B.prototype=Object.create(L.prototype);B.prototype.constructor=B;B.prototype.parse=function(Pa){this.Rh();if(Pa && Pa.pa){void 0 === Pa.pa.xl && (Pa.pa.xl=[]);for(var Za=0;Za < this.length - 12;Za++){Pa.pa.xl[Za].Axc=this.R.Nd();}}return !0;};B.prototype.Ka=function(Pa,Za,Xa){Xa?this.lo(Za - Pa,this.startOffset + 12 + Pa):this.lo(Pa,this.startOffset + 12);return !0;};A.wd=!1;A.prototype=Object.create(L.prototype);A.prototype.constructor=A;A.prototype.parse=function(){this.Rh();this.R.IC();1 === this.version && this.R.kc();this.Tr=this.R.kc();this.s1=[];for(var Pa=0;Pa < this.Tr;++Pa){for(var Za=this.R.kc(),Xa=this.R.kc(),cb=0;cb < Za;++cb){this.s1.push(Xa);}}return !0;};A.prototype.Ka=function(Pa,Za){this.s1=Za?this.s1.slice(0,Pa):this.s1.slice(Pa);Pa=this.s1.reduce(function(Xa,cb){0 !== Xa.length && Xa[Xa.length - 1].group === cb || Xa.push({group:cb,count:0});++Xa[Xa.length - 1].count;return Xa;},[]);this.Xb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Xb.Zw(Pa.length);Pa.forEach((function(Xa){this.Xb.Zw(Xa.count);this.Xb.Zw(Xa.group);}).bind(this));this.Tr > Pa.length && this.lo(8 * (this.Tr - Pa.length));this.Tr=Pa.length;return !0;};C.wd=!1;C.prototype=Object.create(L.prototype);C.prototype.constructor=C;qa={ze:{moov:l,trak:c,mdia:c,mdhd:g,minf:c,encv:qa,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:w,trun:zb,sbgp:A,sdtp:B,saiz:x,saio:y,tfdt:u,mdat:C,vmaf:d},akc:{vpcC:t,SmDm:v("smdm"),CoLL:v("coll")},Nob:{schm:X},SDa:{}};D([Q,ka,J,N,a,P,ra,R,ha,O,M,Ya,wb,H,W,K,I,nb,zb],qa.ze);D([V,U,xa,Aa,Oa,T,S,fa,va,wa],qa.SDa);D([Q,X],qa.Nob);qa.ze[b.uRa]=h;qa.ze[b.k5]=k;qa.ze[b.j5]=n;qa.ze[b.tRa]=z;qa.SDa[b.Cka]=Ea;qa.Bg=L;r.exports={ZQ:qa};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(24);l=a(24);a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){this.R.offset+=6;this.R.Fh();l.M && this.R.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Ff)d.Ff.Jec=this.type;return !0;};return m;})(r.Bg);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(150),b);r.__exportStar(a(247),b);r.__exportStar(a(248),b);r.__exportStar(a(249),b);r=a(248);c=a(249);a=a(247);b.cP={3:a.ELa,4:r.LKa,5:c.eub};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){var f;this.Jub=this.R.Fh();f=this.R.Nd();this.onb=!!(f & 128);this.xWa=!!(f & 64);this.aRa=!!(f & 32);this.fic=f & 31;this.JQb=this.onb?this.R.Fh():void 0;this.xWa && this.R.bfa(this.R.Nd());this.fxb=this.aRa?this.R.Fh():void 0;l.M && this.R.console.trace("ESDescriptor: ES_ID=" + this.Jub + ", streamDependenceFlag=" + this.onb + ", URL_Flag=" + this.xWa + ", OCRstreamFlag=" + this.aRa + ", streamPriority=" + this.fic + ", dependsOn_ES_ID=" + this.JQb + ", OCR_ES_Id=" + this.fxb);this.FZa(d);return !0;};m.tag=3;return m;})(a(150).eja);b.ELa=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){var f;this.Xda=this.R.Nd();f=this.R.Nd();this.HFa=f >>> 2;this.IGa=f >>> 1 & 1;this.pqa=256 * this.R.Fh() + this.R.Nd();this.maxBitrate=this.R.kc();this.X8=this.R.kc();l.M && this.R.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.Xda.toString(16) + ", streamType=" + this.HFa + ", upStream=" + this.IGa + ", bufferSizeDB=" + this.pqa + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.X8);if(null === d || void 0 === d?0:d.lk)(d.lk.Xda=this.Xda,d.lk.HFa=this.HFa,d.lk.IGa=this.IGa,d.lk.pqa=this.pqa,d.lk.maxBitrate=this.maxBitrate,d.lk.X8=this.X8);this.FZa(d);return !0;};m.tag=4;return m;})(a(150).eja);b.LKa=r;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);r=a(150);g=a(246);a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.wjb=function(){var f;f=this.R.Od(4);return 15 !== f?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][f]:this.R.Od(24);};d.prototype.parse=function(f,h){if(this.q2b(h) && 64 === h.Xda){if(null === f || void 0 === f?0:f.lk){h=this.R.T8a(this.length);for(var k=new ArrayBuffer(this.length),n=new Uint8Array(k),p=0;p < this.length;p++){n[p]=h.getUint8(p);}f.lk.Ttc=k;}this.Mr=this.ojb();this.Kfa=this.wjb();this.Zqa=this.R.Od(4);this.YDa=this.kY=5 === this.Mr || 29 === this.Mr?5:-1;this.JCa=29 === this.Mr?1:-1;0 < this.kY && (this.Qta=this.wjb(),this.Mr=this.ojb(),22 === this.Mr && (this.Pta=this.R.Od(4)));switch(this.Mr){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.yY=this.R.Od(1),this.Yra=(this.IQb=this.R.Od(1))?this.R.Od(14):void 0,this.R.Od(1),this.EJ=3 === this.Mr?256:23 === this.Mr?this.yY?480:512:this.yY?960:1024);}l.M && this.R.console.trace("AudioSpecificConfig: audioObjectType=" + this.Mr + ", samplingFrequency=" + this.Kfa + ", channelConfiguration=" + this.Zqa + ", extensionAudioObjectType=" + this.kY + ", sbrPresentFlag=" + this.YDa + ", psPresentFlag=" + this.JCa + ", extensionSamplingFrequency=" + this.Qta + ", extensionChannelConfiguration=" + this.Pta + ", frameLengthFlag=" + this.yY + ", coreCoderDelay=" + this.Yra + ", frameLength=" + this.EJ);if(null === f || void 0 === f?0:f.lk)(f.lk.Mr=this.Mr,f.lk.Kfa=this.Kfa,f.lk.Zqa=this.Zqa,f.lk.kY=this.kY,f.lk.YDa=this.YDa,f.lk.JCa=this.JCa,f.lk.Qta=this.Qta,f.lk.Pta=this.Pta,f.lk.yY=this.yY,f.lk.Yra=this.Yra,f.lk.EJ=this.EJ);}this.skip();return !0;};d.prototype.ojb=function(){var f;f=this.R.Od(5);31 === f && (f=32 + this.R.Od(6));return f;};d.prototype.q2b=function(f){return f.tag === g.LKa.tag;};d.tag=5;return d;})(r.eja);b.eub=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u3=void 0;r=(function(){function a(c){this.data=c;this.ut=this.Mb=this.Xd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Mb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.Xd){if(8 === c)return this.data[this.Mb++];if(16 === c)return (c=this.view.getUint16(this.Mb),this.Mb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Mb),this.Mb+=4,c);}for(;this.Xd < c;){this.ut=(this.ut << 8) + this.data[this.Mb++];this.Xd+=8;}this.Xd-=c;return this.ut >>> this.Xd & (1 << c) - 1;};a.prototype.advance=function(c){var l;if(c <= this.Xd)this.Xd-=c;else {c-=this.Xd;l=Math.floor(c / 8);this.Mb+=l;this.ut=this.data[this.Mb++];this.Xd=8 - (c - 8 * l);}};a.prototype.write=function(c,l){var g,m;l&=(1 << c) - 1;if(0 === this.Xd){if(8 === c){this.data[this.Mb++]=l;return;}if(16 === c){this.view.setUint16(this.Mb,l);this.Mb+=2;return;}if(32 === c){this.view.setUint32(this.Mb,l);this.Mb+=4;return;}}if(0 < this.Xd){g=Math.min(c,this.Xd);m=this.data[this.Mb - 1] & (~((1 << this.Xd) - 1) ^ (1 << this.Xd - g) - 1);this.data[this.Mb - 1]=m ^ (c >= g?l >>> c - g:l << this.Xd - g);this.Xd-=g;c-=g;}for(;8 <= c;){c-=8;this.data[this.Mb++]=l >>> c & 255;}0 < c && (this.Xd=8 - c,m=this.data[this.Mb] & (1 << this.Xd) - 1,this.ut=this.data[this.Mb++]=m ^ (l & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.Xd && c <= 8 - this.Xd?this.Xd+=c:(0 !== this.Xd && (c-=8 - this.Xd,--this.Mb),this.Mb-=Math.floor(c / 8),this.ut=this.data[this.Mb - 1],this.Xd=c % 8);};a.prototype.AJb=function(){0 !== this.Xd && (this.Xd=0);};return a;})();b.u3=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);l=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);return m;})(Error);b.assert=function(g,m){if(!g)throw new l(m || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var l;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,m){return g + m.byteLength;},0);l=new Uint8Array(c);a.reduce(function(g,m){l.set(new Uint8Array(m),g);return g + m.byteLength;},0);return l.buffer;};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(391);l=a(244);g=a(392);r=(function(){function m(d,f,h){this.console=d;this.stream=f;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var f;f=new g.PKa(this.view.byteLength);this.yg=new c.zia(l.ZQ.ze,f,this.view,this.console,{BBa:!0});d=this.yg.parse(d);this.ze=this.yg.ze;return d;};return m;})();b.yH=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jY=b.fya=void 0;b.fya=function(a){return void 0 !== a && null !== a;};b.jY=function(){return null;};},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.S3=void 0;l=a(42);g=a(127);c.Ct=function(){var m;m={};return (m[l.I.jH]="avc1.4D401E",m[l.I.kH]="avc1.4D401F",m[l.I.k4]="avc1.4D4028",m[l.I.DMa]="avc1.4D401E",m[l.I.EMa]="avc1.4D401F",m[l.I.FMa]="avc1.4D4028",m[l.I.xja]="hev1.2.6.L90.B0",m[l.I.yja]="hev1.2.6.L93.B0",m[l.I.zja]="hev1.2.6.L120.B0",m[l.I.Aja]="hev1.2.6.L123.B0",m[l.I.G4]="hev1.2.6.L90.B0",m[l.I.J4]="hev1.2.6.L93.B0",m[l.I.M4]="hev1.2.6.L120.B0",m[l.I.P4]="hev1.2.6.L123.B0",m[l.I.RT]="hev1.2.6.L150.B0",m[l.I.ST]="hev1.2.6.L153.B0",m[l.I.H4]="hev1.2.6.L90.B0",m[l.I.K4]="hev1.2.6.L93.B0",m[l.I.N4]="hev1.2.6.L120.B0",m[l.I.Q4]="hev1.2.6.L123.B0",m[l.I.S4]="hev1.2.6.L150.B0",m[l.I.U4]="hev1.2.6.L153.B0",m[l.I.F4]="hev1.2.6.L90.B0",m[l.I.I4]="hev1.2.6.L93.B0",m[l.I.L4]="hev1.2.6.L120.B0",m[l.I.O4]="hev1.2.6.L123.B0",m[l.I.R4]="hev1.2.6.L150.B0",m[l.I.T4]="hev1.2.6.L153.B0",m[l.I.n4]="hev1.2.6.L90.B0",m[l.I.q4]="hev1.2.6.L93.B0",m[l.I.QT]="hev1.2.6.L120.B0",m[l.I.v4]="hev1.2.6.L123.B0",m[l.I.y4]="hev1.2.6.L150.B0",m[l.I.B4]="hev1.2.6.L153.B0",m[l.I.o4]="hev1.2.6.L90.B0",m[l.I.r4]="hev1.2.6.L93.B0",m[l.I.t4]="hev1.2.6.L120.B0",m[l.I.w4]="hev1.2.6.L123.B0",m[l.I.z4]="hev1.2.6.L150.B0",m[l.I.C4]="hev1.2.6.L153.B0",m[l.I.m4]="hev1.2.6.L90.B0",m[l.I.p4]="hev1.2.6.L93.B0",m[l.I.s4]="hev1.2.6.L120.B0",m[l.I.u4]="hev1.2.6.L123.B0",m[l.I.x4]="hev1.2.6.L150.B0",m[l.I.A4]="hev1.2.6.L153.B0",m[l.I.E3]=g.ce.Tia,m[l.I.G3]=g.ce.DKa,m[l.I.JT]=g.ce.Uia,m[l.I.J3]=g.ce.Via,m[l.I.L3]=g.ce.Wia,m[l.I.N3]=g.ce.Xia,m[l.I.Yia]=g.ce.Uia,m[l.I.Zia]=g.ce.Via,m[l.I.$ia]=g.ce.Wia,m[l.I.aja]=g.ce.Xia,m[l.I.F3]=g.ce.Tia,m[l.I.H3]=g.ce.DKa,m[l.I.I3]=g.ce.Uia,m[l.I.K3]=g.ce.Via,m[l.I.M3]=g.ce.Wia,m[l.I.O3]=g.ce.Xia,m[l.I.BMa]="avc1.640016",m[l.I.e4]="avc1.64001E",m[l.I.g4]="avc1.64001F",m[l.I.i4]="avc1.640028",m[l.I.CMa]="avc1.640016",m[l.I.f4]="avc1.64001E",m[l.I.h4]="avc1.64001F",m[l.I.j4]="avc1.640028",m[l.I.ima]=g.ce.RU,m[l.I.h6]=g.ce.RU,m[l.I.i6]=g.ce.RU,m[l.I.SU]=g.ce.RU,m[l.I.zHa]=g.ce.Il,m[l.I.AHa]=g.ce.Il,m[l.I.mD]=g.ce.Il,m[l.I.nD]=g.ce.Il,m[l.I.kT]=g.ce.Il,m[l.I.lT]=g.ce.Il,m[l.I.l3]=g.ce.Il,m[l.I.m3]=g.ce.Il,m);};b.S3=c;},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.jic=b.yjb=b.XCa=void 0;b.XCa=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.yjb=a;b.jic=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.ri)," sp:").concat(c.QC," ") + ("pssp:").concat(c.M0," ") + ("state:").concat(c.Lg," path-complete:").concat(c.zC," ") + ("streaming:").concat(c.Eu," current:").concat(c.Et);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ika=void 0;r=(function(){function a(c,l,g,m){var d;d=this;this.properties=c;this.transform=l;this.Gv=g;this.state=m;this.oa();c.forEach(function(f){return f.addListener(d.gBa);});this.gBa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(l){return l.removeListener(c.gBa);});};a.prototype.Ubb=function(c){return void 0 !== c.equal;};a.prototype.oa=function(){var c;c=this;this.gBa=function(){var l,g;l=c.state;g=c.properties.map(function(m){return m.value;});c.state=c.transform(g);(c.Ubb(c.state) && c.Ubb(l)?c.state.equal(l):l === c.state) || c.Gv(c.state);};};return a;})();b.Ika=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sX=void 0;c=a(0);l=a(20);b.sX=function(g,m,d,f){var h,k,n,v,t,w;void 0 === f && (f={});n=l.P.max(d,l.P.Pa);try{for(var p=c.__values(Object.keys(g.U)),q=p.next();!q.done;q=p.next()){v=q.value;t=g.U[v];if(t.N === m){w=l.P.Na(t.Ba);if(n.pk(w) && (!isFinite(null !== (k=t.Aa) && void 0 !== k?k:NaN) || n.lessThan(l.P.Na(t.Aa))))return {S:v,offset:d.Ea(w)};}}}catch(x){var u;u={error:x};}finally{try{q && !q.done && (h=p.return) && h.call(p);}finally{if(u)throw u.error;}}if(f.glb && (t=Object.keys(g.U).map(function(x){return {key:x,G:g.U[x]};}).filter(function(x){return x.G.N === m;}).map(function(x){var y,z;y=l.P.abs(d.Ea(l.P.Na(x.G.Ba)));if(x.G.Aa && isFinite(x.G.Aa)){z=l.P.abs(d.Ea(l.P.Na(x.G.Aa)));y=l.P.min(y,z);}return c.__assign(c.__assign({},x),{sq:y});}),t.sort(function(x,y){return x.sq.Z - y.sq.Z;}),w=c.__read(t,1)[0]))return (t=w.G,f=w.key,w=l.P.Na(t.Ba),{S:f,offset:d.Ea(w)});};},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.rM=void 0;r=a(0);c=a(185);l=r.__importDefault(a(260));g=r.__importDefault(a(953));m=r.__importDefault(a(154));d=a(2);f=a(424);h=r.__importDefault(a(3));b.rM=(function(){function n(p,q,v){var t;t=this;this.vk=new l.default(p,v);this.ku=new g.default(p);this.Ac=new m.default(this.ku,this.vk,p);new f.X5(h.default.Q9,q,p);c.Lz.iMb(p);p.xea && setInterval(function(){t.vk.save();t.ku.save();},p.xea);}n.Naa=function(p,q,v){void 0 === k?(n.config=p,n.o2=v,k=new n(p,q,v)):((0,d.assert)(n.config === p),(0,d.assert)(n.o2 === v));return k;};n.reset=function(){n.config=void 0;k=n.o2=void 0;};return n;})();},function(r,b,a){var d,f,h,k,n,p;function c(q){var v;v=q.kna;this.L=q;this.TD=f.$j.HAVE_NOTHING;this.Tma=q.Tma;q=new n(q);this.gW=q.create("throughput-location-history",v);this.Z6=q.create("throughput-location-history",v);this.S7=q.create("throughput-location-history",v);this.T7=q.create("throughput-location-history",v);this.R7=q.create("throughput-location-history",v);this.LA=q.create("respconn-location-history",v);this.BA=q.create("respconn-location-history",v);this.P7=q.create("throughput-tdigest-history",v);this.a7=q.create("throughput-iqr-history",v);this.M6=q.create("throughput-location-history",v);this.O6=q.create("throughput-location-history",v);this.N6=q.create("throughput-location-history",v);this.P6=q.create("throughput-location-history",v);this.Ab=null;}function l(q,v,t,w,u){this.pv=new c(u);this.iq=[];this.BCb=h.time.fa() - Date.now() % 864E5;this.nv=null;this.L=u;for(q=0;q < w;++q){this.iq.push(new c(u));}}function g(q,v,t){return d.has(q,v)?q[v]:q[v]=t;}function m(q,v){var t;this.L=q;this.k_a=v;this.sTb();this.bI=new c(this.L);this.CV();t=q.wsa;t && (t={confidence:f.$j.PT,Ya:{xa:parseInt(t,10),He:0},ul:{xa:0,He:0},fQ:{xa:0,He:0}},this.get=function(){return t;});}d=a(12);f=a(29).default;b=a(8);h=a(3).default;k=b.wMa;n=a(942).Tub;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:f.$j.HAVE_NOTHING};c.prototype.DI=function(q,v){this.TD=v;this.gW.add(q);this.P7.add(q);this.Ab=h.time.fa();};c.prototype.BI=function(q){this.Z6.add(q);};c.prototype.EI=function(q){this.S7.add(q.initial);this.T7.add(q.low);this.R7.add(q.high);};c.prototype.dM=function(q,v){this.a7.set(q,v);};c.prototype.SA=function(q){this.LA.add(q);};c.prototype.RA=function(q){this.BA.add(q);};c.prototype.sO=function(q){this.M6.add(q.xa);this.O6.add(q.He);this.N6.add(q.BO);this.P6.add(q.XS);};c.prototype.getState=function(){var q,v,t,w,u,x,y,z,B,A,C,D,E,G;q=this.gW.getState();v=this.Z6.getState();t=this.S7.getState();w=this.T7.getState();u=this.R7.getState();x=this.LA.getState();y=this.BA.getState();z=this.a7.getState();B=this.P7.getState();A=this.M6.getState();C=this.O6.getState();D=this.N6.getState();E=this.P6.getState();if(d.wb(q) && d.wb(x) && d.wb(y))return null;G={c:this.TD,t:h.time.sAa(this.Ab)};d.wb(q) || (G.tp=q);d.wb(v) || (G.itp=v);d.wb(t) || (G.tcii=t);d.wb(w) || (G.tcil=w);d.wb(u) || (G.tcih=u);d.wb(x) || (G.rt=x);d.wb(y) || (G.hrt=y);d.wb(z) || (G.iqr=z);d.wb(B) || (G.td=B);d.wb(A) || (G.dta=A);d.wb(C) || (G.dtv=C);d.wb(D) || (G.dtta=D);d.wb(E) || (G.dttv=E);return G;};c.prototype.Pd=function(q){var v;v=h.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > f.$j.PT || q.t > v || !this.gW.Pd(q.tp))return (this.TD=f.$j.HAVE_NOTHING,this.nv=this.Ab=null,this.gW.Pd(null),this.LA.Pd(null),this.BA.Pd(null),!1);this.TD=q.c;this.Ab=h.time.OAa(q.t);this.LA.Pd(d.has(q,"rt")?q.rt:null);this.BA.Pd(d.has(q,"hrt")?q.hrt:null);this.Z6.Pd(d.has(q,"itp")?q.itp:null);this.S7.Pd(d.has(q,"tcii")?q.tcii:null);this.T7.Pd(d.has(q,"tcil")?q.tcil:null);this.R7.Pd(d.has(q,"tcih")?q.tcih:null);this.M6.Pd(d.has(q,"dta")?q.dta:null);this.O6.Pd(d.has(q,"dtv")?q.dtv:null);this.N6.Pd(d.has(q,"dtta")?q.dtta:null);this.P6.Pd(d.has(q,"dttv")?q.dttv:null);d.has(q,"iqr") && this.a7.Pd(q.iqr);d.has(q,"td") && this.P7.Pd(q.td);return !0;};c.prototype.get=function(){var q,v,t,w,u,x,y,z,B,A,C;q=this.L;if(d.wb(this.Ab))return p;v=(h.time.fa() - this.Ab) / 1E3;v > q.PBb?this.TD=f.$j.HAVE_NOTHING:v > q.kBb && (this.TD=Math.min(this.TD,f.$j.wD));q=this.gW.get();t=this.Z6.get();w=this.S7.get().xa;u=this.T7.get().xa;x=this.R7.get().xa;y=this.LA.get();z=this.BA.get();B=this.a7.get();A=this.P7.get();C={xa:this.M6.Vva().xa,He:this.O6.Vva().xa,BO:this.N6.get().xa,XS:this.P6.get().xa};result={In:v,confidence:this.TD,Ya:q,CZ:t,"throughput-ci":{initial:w,low:u,high:x},ul:y,fQ:z,iw:B,jh:A,ap:C};q && (result.ryc=k.prototype.$y.bind(q));y && (result.qxc=k.prototype.$y.bind(y));z && (result.tvc=k.prototype.$y.bind(z));return result;};c.prototype.time=function(){return this.Ab;};l.prototype.Je=function(){return ((h.time.fa() - this.BCb) / 1E3 / 3600 / (24 / this.iq.length) | 0) % this.iq.length;};l.prototype.getState=function(){var q;q={g:this.pv.getState(),h:this.iq.map(function(v){return v.getState();})};d.wb(this.nv) || (q.f=h.time.sAa(this.nv));return q;};l.prototype.Pd=function(q){var v,t;if(!this.pv.Pd(q.g))return !1;v=this.iq.length;t=!1;this.iq.forEach(function(w,u){t=!w.Pd(q.h[u * q.h.length / v | 0]) || t;});this.nv=d.has(q,"f")?h.time.OAa(q.f):null;return t;};l.prototype.DI=function(q,v){this.pv.DI(q,v);this.iq[this.Je()].DI(q,v);this.nv=null;};l.prototype.BI=function(q){this.pv.BI(q);this.iq[this.Je()].BI(q);this.nv=null;};l.prototype.EI=function(q){this.pv.EI(q);this.iq[this.Je()].EI(q);this.nv=null;};l.prototype.dM=function(q,v){this.pv.dM(q,v);this.iq[this.Je()].dM(q,v);};l.prototype.SA=function(q){this.pv.SA(q);this.iq[this.Je()].SA(q);};l.prototype.RA=function(q){this.pv.RA(q);this.iq[this.Je()].RA(q);};l.prototype.sO=function(q){this.pv.sO(q);this.iq[this.Je()].sO(q);};l.prototype.fail=function(q){this.nv=q;};l.prototype.get=function(){var q,v;if(!d.wb(this.nv)){if((h.time.fa() - this.nv) / 1E3 < this.L.jBb)return {confidence:f.$j.HAVE_NOTHING,Rv:!0};this.nv=null;}q=this.iq[this.Je()].get();v=this.pv.get();q=q.confidence >= v.confidence?q:v;q.Rv=!1;return q;};l.prototype.time=function(){return this.pv.time();};m.prototype.fYa=function(q,v){var t;t=this.L;q=g(this.tV,q,{});return g(q,v,new l(t.uYa || 14400,t.tYa || 100,t.sYa || 100,t.rZa || 4,t));};m.prototype.CV=function(){var q,v;q=h.storage.get("lh");v=h.storage.get("gh");q && this.zoa(q);v && this.LEb(v);};m.prototype.sna=function(){var q;q={};d.qg(this.tV,function(v,t){d.qg(v,function(w,u){g(q,t,{})[u]=w.getState();},this);},this);return q;};m.prototype.LEb=function(q){this.bI.Pd(q);};m.prototype.zoa=function(q){var v,t;v=null;t=this.L;d.qg(q,function(w,u){d.qg(w,function(x,y){var z;z=new l(t.uYa || 14400,t.tYa || 100,t.sYa || 100,t.rZa || 4,t);z.Pd(x)?(g(this.tV,u,{})[y]=z,v=!0):d.wb(v) && (v=!1);},this);},this);return d.wb(v)?!0:v;};m.prototype.save=function(){var q;q=this.sna();h.storage.set("lh",q);h.storage.set("gh",this.bI.getState());this.k_a && this.k_a.HEa(this.bI.getState());};m.prototype.sTb=function(){this.tV={};this.yN=this.FXa="";this.Nl=null;};m.prototype.G1=function(q){this.FXa=q;this.Nl=null;};m.prototype.cga=function(q){this.yN=q;this.Nl=null;};m.prototype.aI=function(){d.wb(this.Nl) && (this.Nl=this.fYa(this.FXa,this.yN));return this.Nl;};m.prototype.DI=function(q,v){this.aI().DI(q,v);this.bI.DI(q,v);};m.prototype.BI=function(q){this.aI().BI(q);this.bI.BI(q);};m.prototype.EI=function(q){this.aI().EI(q);this.bI.EI(q);};m.prototype.dM=function(q,v){q && q.fm && q.Bk && q.gm && (this.aI().dM(q,v),this.bI.dM(q,v));};m.prototype.SA=function(q){this.aI().SA(q);};m.prototype.RA=function(q){this.aI().RA(q);};m.prototype.sO=function(q){this.aI().sO(q);};m.prototype.fail=function(q,v){this.fYa(q,this.yN).fail(v);};m.prototype.get=function(q,v){var t,w,u,x;q=(q=this.tV[q])?q[this.yN]:null;t=null;if(q && (t=q.get(),t.confidence > f.$j.HAVE_NOTHING))return t;if(!1 === v)return p;w=t=null;u=!1;x=null;d.qg(this.tV,function(y){d.qg(y,function(z,B){var A;if(!u || B == this.yN){A=z.get();A && (!w || w <= A.confidence) && (!x || w < A.confidence || x < z.time()) && (w=A.confidence,u=B == this.yN,x=z.time(),t=A);}},this);},this);return t?t:p;};r.exports=m;},function(r,b,a){var m;function c(d){this.kO=d;this.reset();}function l(d){this.Yk=new c(d);this.Mb=0;this.dd=null;}function g(d,f){this.kO=d;this.SYa=f;this.reset();}m=a(12);c.prototype.BZa=function(d,f){this.Ab+=d;this.Pk+=d;this.kd+=f;this.Ig.push({d:d,b:f});};c.prototype.QV=function(){var d;for(;this.Pk > this.kO;){d=this.Ig.shift();this.kd-=d.b;this.Pk-=d.d;}};c.prototype.reset=function(){this.Ig=[];this.Ab=null;this.Pk=this.kd=0;};c.prototype.setInterval=function(d){this.kO=d;this.QV();};c.prototype.start=function(d){m.wb(this.Ab) && (this.Ab=d);};c.prototype.add=function(d,f,h){m.wb(this.Ab) && (this.Ab=f);f > this.Ab && this.BZa(f - this.Ab,0);this.BZa(h > this.Ab?h - this.Ab:0,d);this.QV();};c.prototype.get=function(){return {xa:Math.floor(8 * this.kd / this.Pk),He:0};};l.prototype.reset=function(){this.Yk.reset();this.Mb=0;this.dd=null;};l.prototype.add=function(d,f,h){!m.wb(this.dd) && h > this.dd && (f > this.dd && (this.Mb+=f - this.dd),this.dd=null);this.Yk.add(d,f - this.Mb,h - this.Mb);};l.prototype.start=function(d){!m.wb(this.dd) && d > this.dd && (this.Mb+=d - this.dd,this.dd=null);this.Yk.start(d - this.Mb);};l.prototype.stop=function(d){this.dd=m.wb(this.dd)?d:Math.min(d,this.dd);};l.prototype.get=function(){return this.Yk.get();};l.prototype.setInterval=function(d){this.Yk.setInterval(d);};g.prototype.reset=function(){this.Ig=[];this.kd=this.Pk=0;};g.prototype.add=function(d,f,h,k){void 0 !== k && !0 === k && (f=h - f,this.Pk+=f,this.kd+=d,this.Ig.push({d:f,b:d}),this.QV());};g.prototype.QV=function(){var d;for(;this.Pk > this.kO || this.Ig.length > this.SYa;){d=this.Ig.shift();this.kd-=d.b;this.Pk-=d.d;}};g.prototype.start=function(){};g.prototype.stop=function(){};g.prototype.get=function(){return {xa:Math.floor(8 * this.kd / this.Pk),He:0};};g.prototype.setInterval=function(d,f){this.kO=d;this.SYa=f;this.QV();};r.exports={toc:c,jub:l,Dzb:g};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.QKa=b.fub=b.dja=b.Mub=b.gub=void 0;c=a(0);l=a(946);a=(function(){return function(){};})();b.gub=a;g=(function(){function m(d,f,h,k,n){this.alpha=d;this.xa=f;this.weight=k;this.Tla=h * this.weight;this.t2=n;}m.prototype.Hi=function(){return new m(this.alpha,this.xa,this.He,this.weight,this.t2);};Object.defineProperties(m.prototype,{He:{get:function(){return this.weight?this.Tla / this.weight:0;},enumerable:!1,configurable:!0}});m.prototype.update=function(d,f,h){var k,n,p,q;k=this.alpha;n=this.weight;p=this.t2;q=k * (d - p);5 < q && (this.weight/=Math.exp(q),this.t2=p=d);d=Math.exp(k * (f - p)) - Math.exp(k * (d - p));f=this.weight+=d;k=this.xa;this.xa=p=k + d * (h - k) / f;this.Tla=n?this.Tla * (f - d) / n + d * (h - p) * (h - k):0;};return m;})();b.Mub=g;r=(function(){function m(d){var m5j,f,h;m5j=2;for(;m5j !== 7;){switch(m5j){case 4:this.XJ=d.hl;this.ofb=f;this.O6b=h;this.reset();m5j=7;break;case 2:var n6A="1SIYbZrN";n6A+="JCp";n6A+="9";this.hm=d;n6A;(f=d.min_b,h=d.min_iv);m5j=4;break;}}}var X89;X89=2;for(;X89 !== 14;){switch(X89){case 7:m.prototype.flush=function(){};return m;break;case 8:m.prototype.stop=function(){};X89=7;break;case 2:m.prototype.Hi=function(d){var x4k;x4k=2;for(;x4k !== 8;){switch(x4k){case 9:return d;break;case 2:d || (d=new m(this.hm));d.Ju=this.Ju;d.NG=this.NG;d.IL=this.IL.Hi();d.JL=this.JL.Hi();x4k=9;break;}}};m.prototype.reset=function(){var B3K,d;B3K=2;for(;B3K !== 3;){switch(B3K){case 2:d=-Math.log(.5) / this.XJ;this.IL=new g(d,0,0,0,0);this.JL=new g(d,0,0,0,0);this.Ju=this.NG=null;B3K=3;break;}}};m.prototype.start=function(d){var B76;B76=2;for(;B76 !== 1;){switch(B76){case 2:null === this.Ju && (this.Ju=d);B76=1;break;}}};m.prototype.add=function(d,f,h){var D0J=R7xOY;var a0t,k;a0t=2;for(;a0t !== 7;){switch(a0t){case 4:this.NG=null === k?h:Math.max(k,h);D0J.o4M(0);k=Math.max(D0J.h1T(h,f),1);D0J.e_n(1);this.IL.update(f,h,D0J.p3p(k,d));D0J.o4M(2);this.JL.update(f,h,D0J.p3p(k,8,d));a0t=7;break;case 2:k=this.Ju;this.Ju=null === k?f:Math.min(k,f);k=this.NG;a0t=4;break;}}};m.prototype.get=function(d,f){var q05=R7xOY;var v5j,t,h,k,n,p,q,v,w,u;v5j=2;for(;v5j !== 16;){switch(v5j){case 4:void 0 === f && (f=this.ofb);n >= p && (f=Math.min(f,this.ofb));p=f * q.xa;v5j=8;break;case 20:d=q.weight;f=v.weight;return {xa:d?q.xa:null,He:d?q.He:null,BO:f?v.xa:null,XS:f?v.He:null};break;case 13:q05.o4M(0);v.update(q05.h1T(k,h),q05.h1T(d,h),0);v5j=20;break;case 6:n=Math.max(n,p);v5j=14;break;case 8:q05.o4M(3);var W$Y=q05.p3p(30,3,20,5);t=Math.pow(f,W$Y) * q.He;v5j=7;break;case 7:v5j=0 === t?6:12;break;case 2:(h=this.Ju || 0,k=this.NG || 0,n=d - k,p=this.O6b,q=this.IL,v=this.JL);v5j=1;break;case 1:v5j=0 < n?5:17;break;case 14:q05.e_n(0);q.update(q05.h1T(k,h),q05.p3p(d,h,q05.o4M(0)),q05.p3p(n,f,q05.o4M(1)));v5j=13;break;case 17:(q=this.IL,v=this.JL);v5j=20;break;case 5:v5j=(q=new g(q.alpha,q.xa,q.He,q.weight,q.t2),v=new g(v.alpha,v.xa,v.He,v.weight,v.t2),0 < q.weight && 0 !== f)?4:20;break;case 12:(w=new l.d5(p,t).wKb(n),u=p - w[1]);q05.e_n(4);var u_d=q05.p3p(8,8,1,1);w=u_d - w[0];v5j=10;break;case 10:n=1E-11 < w?Math.max(u / w,n):n + 2 * t / p;v5j=14;break;}}};m.prototype.toString=function(){var V57;V57=2;for(;V57 !== 1;){switch(V57){case 2:var K6w="D";K6w+="eli";K6w+="ve";K6w+="ryDis";K6w+="t(";return K6w.concat(this.XJ,")");break;}}};X89=8;break;}}})();b.dja=r;a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);return d;})(a);b.fub=a;r=(function(m){function d(f){var h;h=m.call(this,f) || this;h.hm=f;return h;}c.__extends(d,m);d.prototype.get=function(){var f,h,k;if(0 === this.IL.weight || 0 === this.JL.weight)return {low:null,high:null,initial:null};switch(this.hm.SQ){case "deliverytime":f=this.IL;f=new l.d5(f.xa,f.He);(h=this.hm.accuracy,k=this.hm.S5b);return {low:8 / f.$y(this.hm.qZ,h,k),high:8 / f.$y(this.hm.o_,h,k),initial:8 / f.$y(this.hm.Oba,h,k)};default:return (f=this.JL,f=new l.d5(f.xa,f.He),h=this.hm.accuracy,k=this.hm.S5b,{low:f.$y(this.hm.o_,h,k),high:f.$y(this.hm.qZ,h,k),initial:f.$y(this.hm.Oba,h,k)});}};d.prototype.Hi=function(){var f;f=new d(this.hm);m.prototype.Hi.call(this,f);return f;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.hm.o_,this.hm.qZ),"])");};return d;})(r);b.QKa=r;},function(r){(function(){var t5S;t5S=2;for(;t5S !== 8;){switch(t5S){case 2:b.prototype.start=function(a){var m31;m31=2;for(;m31 !== 1;){switch(m31){case 2:this.rh?a < this.rh?(this.fE+=this.rh - a,this.rh=a):a > this.Ab && (this.Ab=this.rh=a):this.Ab=this.rh=a;m31=1;break;}}};b.prototype.stop=function(a){var a9Q;a9Q=2;for(;a9Q !== 1;){switch(a9Q){case 2:this.Ab && a > this.Ab && (this.fE+=a - this.Ab,this.Ab=a);a9Q=1;break;}}};b.prototype.add=function(a,c,l){var z67;z67=2;for(;z67 !== 4;){switch(z67){case 2:this.start(c);this.stop(l);this.kd+=a;z67=4;break;}}};t5S=4;break;case 4:var x88="1";x88+="S";x88+="IYbZrNJ";x88+="Cp9";b.prototype.get=function(){var W1Q;W1Q=2;for(;W1Q !== 1;){switch(W1Q){case 2:return {xa:this.fE?Math.floor(8 * this.kd / this.fE):null,k$:this.fE?this.fE:0};break;}}};r.exports=b;x88;t5S=8;break;}}function b(){var F94;F94=2;for(;F94 !== 5;){switch(F94){case 2:this.fE=this.kd=0;this.Ab=this.rh=void 0;F94=5;break;}}}})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.c8a=b.gHa=b.b8a=void 0;b.b8a={23976:{Fa:24E3,W:1001},24:{Fa:24E3,W:1E3},25:{Fa:25E3,W:1E3},2997:{Fa:3E4,W:1001},30:{Fa:3E4,W:1E3}};b.gHa=["23976","24","25","2997","30"];b.c8a=function(a,c){return a.Fa / a.W === c.Fa / c.W;};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;Object.defineProperties(b,{__esModule:{value:!0}});b.nia=void 0;c=a(0);l=a(13);g=a(995);r=a(91);m=a(427);d=a(997);f=a(1E3);h=a(437);k=a(6);n=c.__importDefault(a(3));p=a(2);a(8);q=a(21);v=a(1004);t=a(267);w=a(133);u=a(182);x=(function(){return function(y){var z;z=y.pcb;y=y.Pxa;this.C_=this.replace=z;this.rg=y;};})();a=(function(y){function z(B,A){var C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa;D=A.Vb;E=A.ba;G=A.Rq;F=A.Xf;L=A.Seb;O=A.Tl;K=A.config;I=A.Aab;M=A.TR;H=A.paa;J=A.Ac;N=A.vk;P=A.X_;W=A.O6a;A=A.HG;V=y.call(this) || this;V.N=B;V.vba=!1;V.jdb=0;V.CQ={};V.Vya=(C={},C[k.u.T]={},C[k.u.J]={},C[k.u.Za]={},C);V.vYa=[];V.QYa=[];V.Ei=[];V.SE=[];V.Lo=!1;V.ngb=!1;V.hMb=["maxMediaBufferAllowed","decryptOCSideChannelMinInterval","decryptOCSideChannelMinIntervalAfterCompleted"];V.Vb=D;V.MYa=E;V.Rq=G;V.zc=function(T){return 0 <= F.indexOf(T);};V.console=new n.default.Console("ASEJS","media|asejs","<" + String(V.N) + ">");V.config=V.rFb(E,K);I && (B=I.qF,V.Ng=new f.iNa(V,V.console,V.config,I.uC,I.aZ,B,I.Xba,I.tg,I.yl,I.gi,I.yF),V.qF=B);V.events=new l.EventEmitter();V.paa=H;V.Ac=J;V.X_=P;V.TR=M;V.HG=A;V.Wf=new x(L);V.Tl=O;S=[[],[],[]];U=[{},{},{}];fa=[0,0];qa=!1;Aa=V.zc(k.u.T);Oa=V.zc(k.u.J);O=V.ta;["audio_tracks","video_tracks"].forEach(function(T,X){var Q,ka;Q=X === k.u.J;ka=X === k.u.T;ka && !Aa || Q && !Oa || V.ba[T].forEach(function(ra,R){if(ra.type !== k.u.T || !1 !== ra.Oh)(R=new m.oM({O:V,Um:ra,mediaType:X,rg:L.Pxa,TG:R,QA:R + (ka?V.ba.video_tracks.length:0)},V.config,V.console),X === k.u.J && K.VSb && new v.JIa(K).Lbc(R.Lc),X === k.u.J && (xa=t.NH.from({lu:ra.bda,Ft:ra.ada})),S[X].push(R),U[X]=c.__assign(c.__assign({},U[X]),R.OB()),R.maxBitrate > fa[R.mediaType] && (fa[R.mediaType]=R.maxBitrate),qa=qa || R.qp);});});O && V.ba.timedtexttracks.forEach(function(T,X){var Q;if("none" !== T.id){Q=k.u.Za;T=new m.oM({O:V,Um:T,mediaType:Q,rg:!1,TG:X,QA:X},V.config,V.console);S[Q].push(T);U[Q]=c.__assign(c.__assign({},U[Q]),T.OB());}});V.ba.Yx && ((0,p.assert)(xa,"Should have video track if there are adverts"),V.Yx={bg:V.ba.Yx.bg.map(function(T){var X;X=c.__assign(c.__assign({},T),{yz:T.Tm,Tm:xa.normalize(T.Tm)});T.dg !== T.ads && (X.unnormalizedLocationMs=X.yz,X.locationMs=X.Tm);return X;})});V.wk=new h.YOa(V.ba,U,J,N,V.config,null === W || void 0 === W?void 0:W.uC);W && (J=W.Qt,N=W.vp,V.Dr=W.hg,V.vp=N,V.Qt=J,V.ena=new d.XLa(V.wk,V.config,V.A_b.bind(V),V.z_b.bind(V)));V.lN=S;V.Cga=U;V.eu=fa;V.qp=qa;return V;}c.__extends(z,y);Object.defineProperties(z.prototype,{ba:{get:function(){return this.MYa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ta:{get:function(){var B,A;B=this.ba;A=B.ol;return "LIVE" === B.ih && !!A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{B_:{get:function(){var B;return !(null === (B=this.lN[k.u.J][0]) || void 0 === B || !B.B_);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{mj:{get:function(){return this.vYa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Q5b:{get:function(){return this.QYa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{K:{get:function(){return this.ba.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Vo:{get:function(){return this.ba.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{duration:{get:function(){return this.ba.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ml:{get:function(){return this.Lo;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{tq:{get:function(){(0,p.assert)(this.ena,"ErrorDirector is not available on old architecture prefetch viewables.");return this.ena;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{xP:{get:function(){return this.tq.events;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{B1:{get:function(){return void 0 === this.Zfa?(this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),n.default.time.now()):n.default.time.fa() - this.Zfa;},set:function(B){var A;A=n.default.time.fa();if(void 0 === this.Zfa || A - this.Zfa < B)this.Zfa=A - B;},enumerable:!1,configurable:!0}});z.prototype.Wa=function(){this.close();this.ud();};z.prototype.close=function(){var B;this.SE=[];null === (B=this.ena) || void 0 === B?void 0:B.Wa();this.wk.Wa();this.Lo=!0;};z.prototype.ud=function(){this.Ng && this.Ng.ud();};z.prototype.eM=function(B){var A,C,D,E,G,F,L,O;A=this;C=B.ba;D=B.Tl;E=B.rg;G=void 0 === E?!1:E;B=B.Xf;F=void 0 === B?k.jg:B;(0,p.assert)(D === this.Tl,"Updating Viewable clearplay not supported");k.jg.forEach(function(K){(0,p.assert)(A.zc(K) === 0 <= F.indexOf(K),"Updating Viewable media types not supported");});(0,p.assert)(C.movieId === this.ba.movieId,"Changing Viewable manifest movieId unsupported");L=this.zc(k.u.T);O=this.zc(k.u.J);["audio_tracks","video_tracks"].forEach(function(K,I){var M,H,J,N;M=I === k.u.J;H=I === k.u.T;if(!(H && !L || M && !O)){J=C[K];N=A.lN[I];(0,p.assert)(N.every(function(P){var W;W=J[P.TG];return W && W.PS === P.trackId && (W.type === k.u.J || !1 !== W.Oh);}),"Existing tracks must still exist and be hydrated in updated manifest");J.forEach(function(P,W){var V,S;if(P.type !== k.u.T || !1 !== P.Oh){V=A.getTrackById(P.PS);if(V){P=P.streams;S=Object.keys(V.OB());(0,p.assert)(P.length === S.length,"Expected updated manifest track to have same number of streams");P.forEach(function(U){U=U.downloadable_id;(0,p.assert)(-1 !== S.indexOf(U),"Changing Viewable track streams unsupported");});}else (V=new m.oM({O:A,Um:P,mediaType:I,rg:G,TG:W,QA:W + (H?A.ba.video_tracks.length:0)},A.config,A.console),N.push(V),A.Cga[I]=c.__assign(c.__assign({},A.Cga[I]),V.OB()),V.maxBitrate > A.eu[V.mediaType] && (A.eu[V.mediaType]=V.maxBitrate),(0,p.assert)(A.qp || !V.qp,"Can not update clear viewable with drm track."));}});}});this.MYa=C;this.wk.wW(this.ba,this.Cga);};z.prototype.Q0b=function(B,A){var C,D;C=this;(0,p.assert)(this.ba.Yx,"AseViewable.manifest.adverts should be defined if an adBreak hydration was requested");(0,p.assert)(this.Yx,"AseViewable.adverts should be defined if an adBreak hydration was requested");this.ba.video_tracks.forEach(function(E){D=t.NH.from({lu:E.bda,Ft:E.ada});});(0,p.assert)(D,"Should have video track if there are adverts");this.ba.Yx.bg.forEach(function(E,G){var F;if(E.Tx === A){F=c.__assign(c.__assign({},B),{yz:E.Tm,Tm:D.normalize(E.Tm),Tx:A});E.dg !== E.ads && (F.unnormalizedLocationMs=F.yz,F.locationMs=F.Tm,F.adBreakToken=F.Tx);C.Yx.bg[G]=F;}});};z.prototype.DL=function(B){var A,C,D;A=B.Cp;C=B.sa;D=B.QX;B=B.xp;A && C?(this.kga=new g.fVa(A,{sa:String(C),QX:!!D,h6b:this.config.p5.mx,oJb:this.config.p5.lv},B),this.tq.DL(this.kga)):this.ngb || (B("SideChannel: pbcid/xid is missing."),this.ngb=!0);};z.prototype.Cy=function(){return void 0 !== this.Vo;};z.prototype.np=function(B,A){return (0,u.Eva)(this.ba,B,A);};z.prototype.getTracks=function(B){return this.lN[B];};z.prototype.getTrackById=function(B){var A;this.lN.some(function(C){return C.some(function(D){if(D.trackId === B)return (A=D,!0);});});A || this.console.warn("getTrackById not found:",B,"length:",this.lN.length);return A;};z.prototype.b_b=function(B,A){var C;C=this.lN[B];if(0 > A || A >= C.length)this.console.warn("getTrackByIndex out of range:",A,"length:",C.length,"mediaType:",B);else return C[A];};z.prototype.xy=function(B,A){return (B=this.OB(B)) && B[A];};z.prototype.OB=function(B){return this.Cga[B];};z.prototype.Okc=function(B,A){this.vYa[B]=A;A.stream.ma && this.xpb(B,A.stream.ma);};z.prototype.g3b=function(B){var A,C;if(void 0 === B.Rea || void 0 === B.xCa){A=this.wk.sC.filter(function(D){return void 0 !== D.streams[B.Sa];})[0];C=A.children.filter(function(D){return D.urls.some(function(E){return E.stream.id === B.Sa;});})[0];B.Rea=A.id;B.xCa=C.id;}return {pya:B.location === B.Rea,h3b:B.cc === B.xCa};};z.prototype.NEa=function(B,A,C){void 0 !== A && void 0 !== C && (this.jkb(B.mediaType,A),B.NEa(A,C));};z.prototype.jkb=function(B,A){var C,D;D=this.config.yAa;("location" === D || "video_location" === D && B === k.u.J) && this.Ac.G1(A);null === (C=this.paa) || void 0 === C?void 0:C.call(this).Y8b(B,A);};z.prototype.hg=function(B,A,C,D,E,G){(0,p.assert)(this.Dr,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Dr(B,A,C,D,E,G);};z.prototype.vm=function(){var B,A,C;B=this;A=[];if(this.ml)return (this.console.error("updateRequestUrls, closed Viewable:",this.N),!1);k.jg.forEach(function(D){B.zc(D) && B.klc(D) && (D=B.Ykc(D),0 < D.length && A.push.apply(A,D));});C=this.Pkc();0 < C.length && A.push.apply(A,C);return this.eec(A);};z.prototype.jp=function(B,A){var C;C=this.getTracks(k.u.J)[0];(0,p.assert)(C);if(C.dK)return C.jp(B,A);};z.prototype.klc=function(B){var A;A=this;return this.ml?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.zc(B)?this.Ei.reduce(function(C,D){return (0,q.D8)(C,D.Fe.filter(function(E){return E.mediaType === B;}));},[]).map(function(C){return A.wk.E2(A.N,C.Lc);}).every(function(C){return C;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",B),!1);};z.prototype.Pkc=function(){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");return this.Ng.vm();};z.prototype.Ykc=function(B){var A,C,G;C=[];if(this.ml)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),C);if(!this.zc(B))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",B),C);try{for(var D=c.__values(this.Ei),E=D.next();!E.done;E=D.next()){G=E.value.vm(B);G.length && C.push.apply(C,G);}}catch(L){var F;F={error:L};}finally{try{E && !E.done && (A=D.return) && A.call(D);}finally{if(F)throw F.error;}}return C;};z.prototype.eec=function(B){var A,C,D;A=this;if(0 === B.length)return !0;C=0;D=[];B.forEach(function(E){var G;if(E.Hc){G=E.O;G.Vb > A.Vb && (D.push({O:G,track:E.stream.track}),++C);}});D.forEach(function(E){var G;G=E.track;E.O.SR([G.mediaType === k.u.T?G:void 0,G.mediaType === k.u.J?G:void 0],void 0,G.mediaType);});return C === B.length;};z.prototype.rFb=function(B,A){var C,E;if((B=B.steeringAdditionalInfo) && B.streamingClientConfig && Object.keys(B.streamingClientConfig).length){B=B.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(B));for(var D in B){if(-1 !== this.hMb.indexOf(D) && A.hasOwnProperty(D)){E=Number(B[D]);A.set?0 === A.set((C={},C[D]=E,C)) && this.console.trace("Invalid key" + D):A[D]=E;}}}return A;};z.prototype.li=function(){var B;B=this;this.wk.li();this.tq.li();this.kga && ((0,p.assert)(this.qF),k.jg.forEach(function(A){A=B.qF(A);B.kga.tEa("rebuffer",A.Nya);}));};z.prototype.XAa=function(){this.tq.XAa();};z.prototype.PGa=function(B,A){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");this.Ng.PGa(B,A);};z.prototype.oba=function(){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables..");return this.Ng.oba();};z.prototype.tra=function(){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");this.Ng.tra();};z.prototype.hS=function(B){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");this.Ng.hS(B);};z.prototype.wGa=function(){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");return this.Ng.wGa();};z.prototype.Yr=function(B,A){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");return this.Ng.Yr(B,A);};z.prototype.$3a=function(B,A,C){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");this.Ng.aha(B,A,C,!0);};z.prototype.j8=function(B,A,C){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");return this.Ng.j8(B,A,!!C);};z.prototype.Wfc=function(B,A){this.SE.push({stream:B,QZb:A});};z.prototype.Qjb=function(){this.SE=[];};z.prototype.pdc=function(B){this.SE=this.SE.filter(function(A){return A.stream !== B;});};z.prototype.odc=function(B){this.SE=this.SE.filter(function(A){return A !== B;});};z.prototype.ZP=function(){var B;B=this;(0,p.assert)(this.vp,"Streamables not available on old architecture prefetch viewables.");return this.vp()?[]:this.SE.map(function(A){var C,D,E,G,F,L;C=A.stream;D=A.QZb;E=D();D=E.ri;G=E.Lg;F=E.zC;L=E.Eu;E=E.Et;return {identifier:("").concat(C.N,"-").concat(C.mediaType,"-").concat(C.bitrate),mediaType:C.mediaType,ri:D,Lg:G,zC:F,Eu:L,Et:E,uCa:0,tCa:Infinity,M0:1,QC:1,E7a:0,groupId:("").concat(B.N),KF:!0,Xt:!1,Acb:function(){return {result:!0};},Fcb:function(){if(C.VG())return (B.pdc(C),{Lj:!0,reason:"success"});B.odc(A);return {Lj:!1,reason:"viewableTryIssueHeaderRequest"};}};});};z.prototype.VG=function(B,A){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");return this.Ng.VG(B,A);};z.prototype.nO=function(B,A){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");return this.Ng.nO(B,A);};z.prototype.LDa=function(B){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");return this.Ng.LDa(B);};z.prototype.SR=function(B,A,C){(0,p.assert)(this.Ng,"Headers not available on old architecture prefetch viewables.");return this.Ng.SR(B,A,C);};z.prototype.C_b=function(B){var A,C,D;A=B.Sa;C=B.mediaType;this.ta || this.xpb(C,B.stream.ma);A=this.xy(C,A);D=this.Cy()?this.config.Aeb:0;A.npb(n.default.Cq()[C],D);this.events.emit("onHeaderFragments",B);};z.prototype.eDa=function(B){this.Ei.push(B);};z.prototype.GGa=function(B){B=this.Ei.indexOf(B);(0,p.assert)(-1 !== B,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Ei.splice(B,1);};z.prototype.lea=function(B){var A;null === (A=this.TR) || void 0 === A?void 0:A.yv(B);};z.prototype.xC=function(B){this.ml?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",B):void 0 !== B.location && this.jkb(B.mediaType,B.location);};z.prototype.PK=function(B){this.ml?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",B):this.tq.gha(B);};z.prototype.ql=function(B){var A;null === (A=this.TR) || void 0 === A?void 0:A.zs(B);(0,p.assert)(this.vp && this.X_,"Requests cannot be handled on old architecture prefetch viewables.");this.ml?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",B):this.vp() || (this.tq.gha(B),this.X_(B));};z.prototype.m0=function(B,A,C){var D;C && (null === (D=this.TR) || void 0 === D?void 0:D.zs(B));};z.prototype.n0=function(B){var A;A=this;this.ml?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",B):(this.tq.vu(B,void 0,B.status,B.Ah,B.Pj),this.ta && !B.Hc && B.wp && !B.iz.HCa(B.wp)?this.tq.CS <= this.config.Wya && setTimeout(function(){A.Ukc(B);},this.config.djc):this.vm() || this.hg(B.CP || "unknown","NFErr_MC_StreamingFailure",B.Ah,B.status,B.Pj));};z.prototype.Abc=function(){var B,A;this.wpb(null === (B=this.ba.ol) || void 0 === B?void 0:B.Kta,null === (A=this.ba.ol) || void 0 === A?void 0:A.F$,!0);};z.prototype.wpb=function(B,A,C){var D,E,G,F,L;(0,p.assert)(this.ba.ol,"Missing manifest liveMetadata.");G=this.ba.ol;F=G.Kta;G=G.F$;L=this.CQ;this.CQ={startTime:null !== (D=null !== F && void 0 !== F?F:B) && void 0 !== D?D:L.startTime,endTime:null !== (E=null !== G && void 0 !== G?G:A) && void 0 !== E?E:L.endTime};(C || this.CQ.startTime !== L.startTime || this.CQ.endTime !== L.endTime) && this.events.emit("liveEventTimesUpdated",c.__assign({O:this},this.CQ));};z.prototype.Tkc=function(B,A){if(this.Vya[B].vJ !== A.vJ || this.Vya[B].wJ !== A.wJ)(this.Vya[B]=A,this.events.emit("liveLoggingInfoUpdated",{O:this,mediaType:B,info:A}));};z.prototype.w4b=function(){(0,p.assert)(this.ta,"liveEventCompleted called on viewable that is not live");return void 0 !== this.CQ.endTime;};z.prototype.Ukc=function(B){var A,E;try{for(var C=c.__values(this.Ei),D=C.next();!D.done;D=C.next()){E=D.value.gb(B.mediaType);E && E.Vkc();}}catch(F){var G;G={error:F};}finally{try{D && !D.done && (A=C.return) && A.call(C);}finally{if(G)throw G.error;}}};z.prototype.xpb=function(B,A){this.QYa[B]=A.Nza;};z.prototype.A_b=function(B){var A,C,D;if(!this.Lo){A=B.R2b;C=B.E9b;D=B.G9b;B=B.H9b;this.console.warn("Streaming failure, is permanent: " + A + ", last error code: " + C + ", last http code: " + D + ", last native code: " + B);A?(this.console.warn(" > Permanent failure, done"),A=this.hg("Permanent failure","NFErr_MC_StreamingFailure",C,D,B)):(this.console.warn(" > We are buffering, calling it!"),A=this.hg("Temporary failure while buffering","NFErr_MC_StreamingFailure",B,D,B,!0));A || (this.console.warn(" > Resetting failures"),this.tq.wfa());}};z.prototype.z_b=function(){(0,p.assert)(this.Qt,"Error handling not available on old architecture prefetch viewables.");this.Lo || (this.vm(),this.Qt());};return z=c.__decorate([w.GJ],z);})(r.bx);b.nia=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pD=void 0;r=a(35);a=a(78);c=(function(){function l(g,m){this.FA=g;this.vN=m.cb;this.Bx=m.sb;}Object.defineProperties(l.prototype,{cb:{get:function(){return void 0 !== this.vN?this.vN:this.FA.cb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sb:{get:function(){return void 0 !== this.Bx?this.Bx:this.FA.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{W:{get:function(){return this.FA.W;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Vj:{get:function(){return this.FA.Vj;},enumerable:!1,configurable:!0}});l.prototype.F1=function(g){this.Bx=g;};l.prototype.sra=function(){this.Bx=void 0;};return l;})();b.pD=c;(0,r.ef)(a.Vu,c);(0,r.ef)(a.Jz,c);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.NH=void 0;c=a(20);r=(function(){function l(g,m){this.jI=g;this.ZH=m;this.Oec();}l.from=function(g){return "number" === typeof g?new l(g,1):new l(g.lu,g.Ft);};l.OVb=function(g){return new l(g.W,g.Fa);};Object.defineProperties(l.prototype,{lu:{get:function(){return this.jI;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ft:{get:function(){return this.ZH;},enumerable:!1,configurable:!0}});l.prototype.da=function(){return new c.P(this.ZH,this.jI);};l.prototype.equal=function(g){return this.jI === g.jI && this.ZH === g.ZH;};l.prototype.normalize=function(g){var m;m=1E3 * this.Ft;return Math.floor(Math.floor((Math.floor(g + 1) * this.lu - 1) / m) * m / this.lu);};l.prototype.Oec=function(){var g,m,d;g=Math.floor(1E3 * this.jI / this.ZH);m=Math.floor(1001 * this.jI / this.ZH);d=1E3 * Math.round(g / 1E3);this.jI=d;this.ZH=Math.abs(m - d) > Math.abs(g - d)?1E3:1001;};return l;})();b.NH=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qT=void 0;c=a(0);r=c.__importDefault(a(187));l=a(106);g=a(188);a=(function(m){function d(f,h,k,n,p,q,v){h=m.call(this,f,h,k,n,p,q,v) || this;g.cx.oa(h,f,n);return h;}c.__extends(d,m);return d;})(l.s3);b.qT=a;(0,r.default)(g.cx.prototype,a.prototype);},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Cia=b.ww=void 0;c=a(0);r=a(13);l=a(117);g=c.__importDefault(a(29));m=a(6);d=c.__importDefault(a(3));f=a(20);h=a(2);k=a(1005);n=a(106);p=a(61);q=a(21);b.ww=function(v){return v.Ea(f.P.Na(v.rL));};a=(function(v){function t(w,u,x,y,z,B,A,C){var D,E;D=this;D=v.call(this) || this;D.kg=w;D.Hg=u;D.Jd=x;D.L=y;D.gDb=z;D.X=B;D.hq=A;D.gi=C;D.w_a=!1;D.QXa=!1;D.aW=!1;D.H=l.qn.Bq(D.kg);D.Ll=D.H.error.bind(D.H);D.ac=D.H.warn.bind(D.H);D.fk=D.H.trace.bind(D.H);null === (E=x.events) || void 0 === E?void 0:E.addListener("ready",function(){D.xx();});D.$eb=new k.rQa(D.L,D.kg,D.Hg.Yc,D.H);D.reset();return D;}c.__extends(t,v);Object.defineProperties(t.prototype,{endOfStream:{get:function(){return this.iV;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ymc:{get:function(){return this.Fn.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{G3b:{get:function(){return this.Sk;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fnb:{get:function(){return !!this.Jd.fTb;},enumerable:!1,configurable:!0}});t.prototype.reset=function(w){var u,x,y;null === (u=this.hZa) || void 0 === u?void 0:u.Wa();this.Mo=!1;w || (this.Fn=[]);this.Sk=this.ona=this.eI=void 0;this.Xma=!1;this.PN=void 0;this.aW=this.iV=!1;this.$Za(f.P.Pa);null === (y=(x=this.Jd).reset) || void 0 === y?void 0:y.call(x);this.$eb.reset();};t.prototype.N7a=function(){this.ona=!0;};t.prototype.pause=function(){this.Mo=!0;};t.prototype.resume=function(){this.Mo=!1;this.xx();};t.prototype.rJ=function(){this.QXa=!0;this.Mo || this.xx();};t.prototype.GG=function(w){this.w_a=w;};t.prototype.Ava=function(){var w;return null === (w=this.Sk) || void 0 === w?void 0:w.Yf;};t.prototype.cIb=function(w){var u;if(this.L.m6a){(0,h.assert)(w.Xa);u=w.Xa.bb;(0,h.assert)(void 0 !== w.Ud);(0,h.assert)(void 0 !== u.Pc);if(w.Ud >= u.Pc)return;}this.Fn.push(w);this.xx();};t.prototype.Lu=function(){this.xx();};t.prototype.i1=function(w){w=this.Fn.indexOf(w);-1 !== w && this.Fn.splice(w,1);};t.prototype.pgb=function(w,u){this.L.Epa && u && void 0 === this.Sk && this.nXa(w,0);this.xx();};t.prototype.W_=function(w,u){var x,y;x=this;void 0 === w && (w=!1);this.iV || (this.iV=!0,this.xx(),!w && this.Fnb) || (u && this.hq && this.L.AQb?(w=f.P.Na(this.L.gob),u=u.Ea(w),w=(0,p.Eha)(this.hq,u,!0),u=w.sm,w=w.promise,null === (y=this.hZa) || void 0 === y?void 0:y.Wa(),this.hZa=u,w.then(function(){x.iV && x.Jd.endOfStream();})):this.Jd.endOfStream());};t.prototype.Yfa=function(){return JSON.stringify(this.Fn);};t.prototype.$Za=function(w){var u;null !== (u=this.gFb) && void 0 !== u && u.equal(w) || (this.gFb=w,this.Jd.gga(w.Fa,w.W));};t.prototype.xx=function(){var w,u,x,y,z,B,A,C,D;y=this.L;if(this.Fn.length || this.Sk && !this.Sk.he)if(!this.Jd || !1 === this.Jd.ready)this.aO("@" + d.default.time.fa() + ", append: not appending, sourceBuffer not ready");else if(!this.Sk || this.Sk.he || this.Sk.Qm())if(this.Sk && !this.Sk.he || this.Fn.length)if(this.Mo){z=this.Sk && !this.Sk.he?this.Sk:this.Fn[0];this.aO("@" + d.default.time.fa() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(z));}else if((!this.Sk || this.Sk.he || (this.LXa(this.Sk),this.Sk.he)) && this.Fn.length)if((z=this.Fn[0],z.aborted))(this.ac("aborted MediaRequest should not appear in the toAppend list:",z.toString(),"complete:",z.complete),this.aO("@" + d.default.time.fa() + ", append: removing aborted request from toAppend: " + z.toString()),this.Fn.shift());else {B=z.stream;A=B.O;if(B.dh)if((z.Vr && !this.aW && (null === (u=(w=this.Jd).Vmb) || void 0 === u?void 0:u.call(w,{N:B.track.O.N,Tbb:B.Kj}),this.aW=!0),this.Ngc(B,z.index)))(this.ona=!1,this.nXa(B,z.index));else if((w=this.X.hs(A),B=this.f1b(B),w || B || !this.Xma && !y.Cha))if((w=this.s$a(z),this.kg !== g.default.de.T || !z.Rm && !z.Gy || !z.Ka || y.nL || this.iV || 1 !== this.Fn.length || !(w > y.N_) || null !== (x=z.DG) && void 0 !== x && x.QZ)){if(y.m6a || y.BSb)if((x=z.Xa.bb,u=this.XQb())){C=x.Vl;D=z.Pc >= u;w=w > y.N_;if(u < x.Pc && D && w && !C)return;}if(y.s$b && this.gi && (y=this.gi(A.Vb)) && !y.EW)this.pause();else {this.Xma || (this.Xma=B);this.Fn.shift();try{this.Xzb(z);}catch(E){throw (this.H.error(E),E);}}}else this.$ec();}};t.prototype.$ec=function(){var w;w=this;this.hq && (this.qya?this.qya.Ibb || this.qya.zg():this.qya=this.hq.vB(function(){return w.w3b();},"JIT Appender"));};t.prototype.w3b=function(){var w,u,x,y;return c.__generator(this,function(z){switch(z.label){case 0:if(1 !== this.Fn.length)return [3,3];w=this.Fn[0];if(!w.Rm && !w.Gy || (null === (y=w.DG) || void 0 === y?0:y.QZ))return [2];u=this.s$a(w);x=this.L.N_;return u > x?[4,p.cj.ZG(f.P.Na(u - x))]:[3,2];case 1:(z.ub(),z.label=2);case 2:return (this.xx(),[3,0]);case 3:return [2];}});};t.prototype.s$a=function(w){return w.Bd - this.X.eg();};t.prototype.Ngc=function(w,u){if(this.ona || void 0 === this.eI || w.Sa !== this.eI.Sa)return !0;w=w.dh;(0,h.assert)(w);return 1 < w.length?(0,q.Lpa)(w,function(x){return x.Vd <= u;}) !== this.eI.Zbb:!1;};t.prototype.f1b=function(w){if(w.mediaType === m.u.T || !w.Kj)return !0;if(void 0 === this.eI)return !1;if(!w.track.B_)return !w.Kj;w=w.dh;(0,h.assert)(w);return !1 === w[this.eI.Zbb].Mm;};t.prototype.XQb=function(){throw Error("not supported");};t.prototype.nXa=function(w,u){var x,y,z,B;if(!this.w_a || this.QXa){z=w.dh.reduce(function(A,C,D){return C.Vd <= u?D:A;},0);B=w.dh[z];this.eI || (null === (y=(x=this.Jd).Vmb) || void 0 === y?void 0:y.call(x,{N:w.track.O.N,Tbb:w.Kj}),this.aW=!0);if(this.Jd.appendBuffer(B.data,{Hc:!0,profile:w.profile,bitrate:w.bitrate,Sa:w.Sa}))(this.aO("@" + d.default.time.fa() + ", header appended, streamId: " + w.Sa),this.eI={Sa:w.Sa,Zbb:z},this.qEb(w.O.Vb || 0,w.Sa,z),this.xx());else throw (this.ac("appendHeader error: " + this.Jd.error),this.aO("@" + d.default.time.fa() + ", appendHeader error: " + this.Jd.error),Error("appendHeaderError"));}};t.prototype.Xzb=function(w){var u,x,y,z,B,A;u=this;z=w.KCa || f.P.Pa;B=w.Xa.bb.G;B.Ta && Infinity !== B.Ta && (z=new f.P(B.Ta,1E3).add(z).Vi,Infinity === this.Hg.duration || this.Hg.duration < z) && (this.Hg.duration=z);z=void 0 !== w.rz?f.P.Na(w.rz).add(w.KCa):void 0;B=null === (x=this.Fn[0]) || void 0 === x?void 0:x.Ed;x={endOfStream:this.endOfStream || !(null === (y=w.DG) || void 0 === y || !y.QZ),PQ:z,zAa:B};z=this.$eb.append(w,x);y=z.Hj;B=z.Oj;x=z.response;z=z.offset;null === B || void 0 === B?void 0:B.forEach(function(C){return u.emit(C.type,C);});B=w.stream;if(B.ta){A=B.Aq().pCa;z=z.Ea(A.Zf(B.W));}this.$Za(z);y && (w.Rm || w.Gy) && w.Hj();this.LXa(w,y,x);};t.prototype.LXa=function(w,u,x){var y,z,B,A;void 0 === u && (u=!1);A=u?{status:n.Ih.Ns,xk:void 0}:w.VA(this.Hg,this.Jd,this.Hg.Yc,void 0,x);x=A.status;(A=A.xk) && this.emit(A.type,A);switch(x){case n.Ih.Cg:this.Wzb(w);break;case n.Ih.Lka:u || (this.Sk=w);break;case n.Ih.Ns:(u || (this.Sk=w,void 0 === this.PN || this.kg !== g.default.de.T || w.Ed.equal(this.PN) || (this.PN=void 0),this.aO("@" + d.default.time.fa() + ", request appended, type: " + w.mediaType + ", streamId: " + w.Sa + ", pts: " + w.Bd + "-" + w.Yf)),w.Rm || w.Gy?(this.PN=u?w.Ed:w.Sc,null === (z=(y=this.Jd).fTb) || void 0 === z?void 0:z.call(y,w.DG),this.aW=!1,(null === (B=w.DG) || void 0 === B?0:B.QZ) && this.gDb && this.W_(!1,this.PN)):this.PN=void 0,this.rEb(w),this.xx());}};t.prototype.Wzb=function(w){if(void 0 !== this.Jd.error){if("done" === this.Jd.error)return;this.Ll("failure to append queued mediaRequest:",null === w || void 0 === w?void 0:w.toString(),"err:",JSON.stringify(this.Jd.error));throw this.Jd.error;}w=Error("failure to append queued mediaRequest: " + (null === w || void 0 === w?void 0:w.toString()) + " err: " + this.Jd.error);this.Ll(w.message);throw w;};t.prototype.qEb=function(w,u,x){w={type:"headerAppended",mediaType:this.kg,manifestIndex:w,streamId:u,isIndex:x};this.emit(w.type,w);};t.prototype.rEb=function(w){w={type:"requestAppended",mediaType:this.kg,request:w};this.emit(w.type,w);};t.prototype.aO=function(w){w={type:"managerdebugevent",message:w};this.emit(w.type,w);};return t;})(r.EventEmitter);b.Cia=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hea=void 0;c=a(6);b.Hea=function(l){switch(l){case c.La.ae:l=c.bd.ae;break;case c.La.Wg:l=c.bd.Wg;break;case c.La.Yh:case c.La.zm:case c.La.ND:l=c.bd.zm;break;default:l=c.bd.Am;}return l;};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.JM=void 0;c=a(2);l=a(6);g=a(21);r=(function(){function m(d){var f;void 0 === d && (d=[]);f=this;this.items=d;d.forEach(function(h){return f.LGa(h);});}Object.defineProperties(m.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Sea:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});m.prototype.get=function(d){return d === l.u.J?this.video:this.audio;};m.prototype.every=function(d){return this.items.every(d);};m.prototype.some=function(d){return this.items.some(d);};m.prototype.forEach=function(d){this.items.forEach(d);};m.prototype.find=function(d){return (0,g.Oc)(this.items,d);};m.prototype.reduce=function(d,f){return this.items.reduce(d,f);};m.prototype.filter=function(d){return new m(this.items.filter(d));};m.prototype.replace=function(d,f){var h;h=this.items.indexOf(d);(0,c.assert)(-1 < h);(0,c.assert)(d.mediaType === f.mediaType);this.items[h]=f;this.LGa(f);};m.prototype.Pfc=function(d,f){(d=this.get(d))?this.replace(d,f):this.add(f);};m.prototype.add=function(d){this.items.push(d);this.LGa(d);};m.prototype.remove=function(d){var f;f=this.items.indexOf(d);if(-1 === f)return !1;this.items.splice(f,1);this.vLb(d.mediaType);return !0;};m.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};m.prototype.LGa=function(d){d.mediaType === l.u.J?this.video=d:this.audio=d;};m.prototype.vLb=function(d){d === l.u.J?this.video=void 0:this.audio=void 0;};return m;})();b.JM=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(1034),b);},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.z5=void 0;c=a(0);l=a(13);g=a(8);m=a(10);d=a(61);f=c.__importDefault(a(3));h=g.P.Na(1E3);r=(function(){function k(n,p,q,v,t,w,u,x,y,z){var B,A;this.LVb=n;this.C9b=p;this.A8=v;this.events=t;this.dt=w;this.Gob=x;this.priority=y;this.bm=[];this.console=(0,g.Oi)(f.default,p,("PresentationTracker [").concat(this.LVb,"] ").concat(this.Gob,"]"));this.FBa=h.add(g.P.Na(null !== (A=null === (B=w.mS) || void 0 === B?void 0:B.Z) && void 0 !== A?A:0));this.listeners=new l.gf();this.cCa=new l.gf();this.rI=!z;this.hPb(u);this.Ylb(q,u,v);}k.prototype.Ylb=function(n,p,q){var v;v=this;this.A8=q;this.listeners.clear();this.cCa.clear();this.Hb=n;this.Ee=p;this.cCa.on(n.X,"skipped",this.i0.bind(this));this.listeners.on(q,"requestAppended",function(t){return v.hu(t.request);});this.events=n.events;this.kP.t2a(p);this.T0.t2a(p);};k.prototype.hPb=function(n){var p;p=this;this.kP=n.vB(function(){return p.kSb();},"Presentation Emit",this.priority);this.T0=n.vB(function(){return p.Wbc();},"Presentation Prune");};k.prototype.i0=function(){this.trace(("skipped, scheduler clock ").concat(this.Ee.za.currentTime.Fb()));this.rI=!0;this.kP.zg();};k.prototype.kSb=function(){var n,p,q;return c.__generator(this,function(v){switch(v.label){case 0:(m.M && this.console.trace("Starting emit job"),this.gL=this.C7b(this.rI),n=this.Yfb(),v.label=1);case 1:if(!n)return [3,3];this.trace(("queuing task for ").concat(this.pca(n.Iu)) + (" at player time ").concat(n.timestamp.Fb()) + (" scheduler clock is ").concat(this.Ee.za.currentTime.Fb()));return [4,d.cj.jD(n.timestamp)];case 2:v.ub();this.trace(("executing task for ").concat(this.pca(n.Iu)) + (" for player time ").concat(n.timestamp.Fb()) + (", scheduler clock: ").concat(this.Ee.za.currentTime.Fb()) + (", actual player time: ").concat(this.Hb.Ae) + (", first item: ").concat(this.rI));p=this.rI?this.Hb.Ae:n.timestamp;q=this.rI;this.rI=!1;this.D4a=n;this.gL++;this.nsa=(n=this.Yfb())?n.timestamp:this.pK;try{this.kta(this.D4a,p,q);}catch(t){this.console.error(("Error in ").concat(this.Gob," emit, continuing"),t);}p=null === n || void 0 === n?void 0:n.timestamp;return [3,1];case 3:return (m.M && this.console.trace("Ending emit job"),[2]);}});};k.prototype.Yfb=function(){if(void 0 !== this.gL)return this.bm[this.gL];};k.prototype.C7b=function(n){var p,q,t;void 0 === n && (n=!1);for(var v=n?0:null !== (p=this.gL) && void 0 !== p?p:0;v < this.bm.length;v++){p=this.bm[v];t=g.P.Na(null !== (q=this.dt.hac) && void 0 !== q?q:0);if(p.timestamp.greaterThan(this.Hb.Ae.add(t)))return n && 0 < v?v - 1:v;}return Math.max(this.bm.length - 1,0);};k.prototype.Wbc=function(){var n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.bm.length))return [3,2];n=c.__read(this.bm,2);p=n[1];this.trace(("queuing pruning task for ").concat(p.Iu) + (" at player time ").concat(this.FBa.add(p.timestamp).Fb()) + (" scheduler clock is ").concat(this.Ee.za.currentTime.Fb()));return [4,d.cj.jD(this.FBa.add(p.timestamp))];case 1:return (q.ub(),this.trace(("executing pruning task for ").concat(p.Iu) + (" at player time ").concat(this.FBa.add(p.timestamp).Fb()) + (" scheduler clock is ").concat(this.Ee.za.currentTime.Fb())),this.bm.shift(),this.gL && this.gL--,[3,0]);case 2:return [2];}});};k.prototype.ay=function(n,p,q){this.Ylb(n,p,q);};k.prototype.reset=function(){this.bm=[];m.M && this.trace("reset");this.rI=!0;this.pK=void 0;this.gL=0;this.T0.zg();this.kP.zg();};k.prototype.close=function(){m.M && this.trace("close()");this.cCa.clear();this.kP.Wa();this.T0.Wa();this.listeners.clear();this.bm=[];};k.prototype.ci=function(n){var p;m.M && this.trace(("canSkip() ").concat(n));if(0 === this.bm.length)return (m.M && this.trace("canSkip false, no media sequence"),!1);p=this.bm[0];return p.timestamp.greaterThan(n)?(m.M && this.trace(("canSkip false, before earliest item at ").concat(p.timestamp)),!1):void 0 === this.pK || this.pK.lessThan(n)?(m.M && this.trace(("canSkip false, later than last appended at ").concat(this.pK)),!1):!0;};k.prototype.trace=function(n){m.M && this.console.trace(n);};k.prototype.kpa=function(n,p,q){var v;q && (this.pK=q);v=this.bm.length?this.bm[this.bm.length - 1]:void 0;if(void 0 === v || !this.nca(v.Iu,n))return (this.bm.push({Iu:n,timestamp:p}),this.kP.state === d.Bm.complete && this.kP.zg(),this.T0.state === d.Bm.complete && this.T0.zg(),!0);v === this.D4a && (this.nsa=q);return !1;};k.prototype.nca=function(n,p){return n === p;};k.prototype.JLb=function(n){n.bm=c.__spreadArray([],c.__read(this.bm),!1);n.pK=this.pK;};return k;})();b.z5=r;},function(r,b,a){var m,d;function c(){}function l(f,h){this.Nn=f;void 0 !== h?(d(h <= f.no,"require remain_sec <= chunk.sec but has " + h + " and " + f.no),this.lm=h):this.lm=f.no;}function g(f){var h;void 0 === f && (f=[]);this.tu=[];this.yi=this.ln=0;try{for(var k=m.__values(f),n=k.next();!n.done;n=k.next()){this.add(n.value,void 0);}}catch(q){var p;p={error:q};}finally{try{n && !n.done && (h=k.return) && h.call(k);}finally{if(p)throw p.error;}}}m=a(0);d=a(2).assert;c.prototype=Error();l.prototype.constructor=l;l.prototype.Hi=function(){return new l(this.Nn,this.lm);};g.prototype.constructor=g;g.prototype.add=function(f,h){f=new l(f,h);this.tu.push(f);this.yi+=f.lm;this.ln+=f.Nn.PB() * f.lm;};g.prototype.Hi=function(){var f,h,p;h=new g(void 0);try{for(var k=m.__values(this.tu),n=k.next();!n.done;n=k.next()){p=n.value;h.add(p.Nn,p.lm);}}catch(v){var q;q={error:v};}finally{try{n && !n.done && (f=k.return) && f.call(k);}finally{if(q)throw q.error;}}return h;};g.prototype.cw=function(){try{return this.tu[0];}catch(f){}};g.prototype.Zhb=function(f){var h;for(d(0 <= f,"unexpected play_for_x_sec: x=" + f);0 < f;){if(void 0 === this.cw())throw new c();if(f < this.cw().lm){h=this.cw().Nn.PB() * f;this.cw().lm-=f;this.yi-=f;this.ln-=h;f=0;}else (h=this.tu.shift(),this.yi-=h.lm,this.ln-=h.Nn.PB() * h.lm,f-=h.lm);}};g.prototype.X$b=function(f){var k;d(0 <= f,"unexpected play_y_kb: y=" + f);for(var h=0;0 < f;){if(void 0 === this.cw())throw new c();if(f < this.cw().lm * this.cw().Nn.PB()){k=f / this.cw().Nn.PB();this.cw().lm-=k;this.yi-=k;this.ln-=f;h+=k;f=0;}else (k=this.tu.shift(),this.yi-=k.lm,this.ln-=k.Nn.PB() * k.lm,h+=k.lm,f-=k.Nn.PB() * k.lm);}return h;};r.exports={pJa:g,Csb:c};},function(r){r.exports={yPa:{code:-1,description:"MediaCache is not supported."},nrc:{code:100,description:"Resource was not found"},rwb:{code:101,description:"Resource Metadata was not found"},VM:{code:102,description:"Read failed",Ls:function(b,a){return {code:this.code,description:b,cause:a};}},m6:{code:200,description:"Daily write limit exceeded"},pM:{code:201,description:"Capacity has been exceeded"},l6:{code:202,description:"Write failed, cause unknown",Ls:function(b,a){return {code:this.code,description:b,cause:a};}},nsc:{code:203,description:"Write failed, cause unknown"},ytb:{code:300,description:"Failed to delete resource",Ls:function(b,a){return {code:this.code,description:b,cause:a};}},zD:{code:900,description:"Invalid partition name"},Pvb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},yKa:{code:701,description:"Failed to initialize underlying disk cache."},qwb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={Y$a:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var l;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(g){c.error && c.error.code == g.error.code && c.error.description === g.error.description && (l=g);});l?l.resources.push(c.Ds):a.push({error:c.error,resources:[c.Ds]});});return a;}},O8a:function(b){var a;a={freeSize:b.lp,dailyBytesRemaining:b.ZO,bytesWritten:b.Sl,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.em,itemBytes:c.mca,error:c.error};}));return a;},cz:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.mA=void 0;c=a(0);l=a(10);g=a(8);m=a(28);r=(function(){function d(f,h){this.zi=f;this.options=c.__assign({xLb:!0},h);}Object.defineProperties(d.prototype,{ju:{get:function(){return ("trace-").concat(this.zi.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ke:{get:function(){return this.ju;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});d.prototype.ll=function(f){var h,k;h=f.Qg;if(h === m.Kc.gl || h === m.Kc.pn){f=(0,g.X4a)(this.zi.s3b);k=this.zi.A0b;h === m.Kc.gl && this.options.xLb && this.zi.clear();h=f;Object.keys(k).length && (h=c.__spreadArray(c.__spreadArray([],c.__read(f),!1),[k],!1));return h;}};d.prototype.Wa=function(){var f;null === (f=this.zi) || void 0 === f?void 0:f.Wa();};return d;})();b.mA=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.W5=void 0;r=a(13);c=a(35);l=a(20);a=(function(){function g(m){void 0 === m && (m={sk:!1,currentTime:l.P.Pa,speed:1});this.Tc={sk:function(){return "function" === typeof m.sk?m.sk():m.sk;},currentTime:function(){return "function" === typeof m.currentTime?m.currentTime():m.currentTime;},speed:function(){return "function" === typeof m.speed?m.speed():m.speed;}};}Object.defineProperties(g.prototype,{sk:{get:function(){return this.Tc.sk();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.Tc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){return this.Tc.speed();},enumerable:!1,configurable:!0}});return g;})();b.W5=a;(0,c.ef)(r.EventEmitter,a);},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.nPa=b.M5=void 0;c=a(13);l=a(28);(function(m){m[m.pKa=1]="Creation";m[m.vVa=2]="StartPlayback";})(g=b.M5 || (b.M5={}));r=(function(){function m(d,f,h){this.Ee=d;this.H=f;this.events=h;this.lL=[];this.Ph=new c.gf();}m.prototype.cg=function(d){var f;f={dn:d,Jqa:void 0};this.lL.push(f);d.Cra === g.pKa && this.dlb(f);this.Ph.on(d.events,"collectionRequested",this.N8b.bind(this,f));};m.prototype.Wa=function(){this.Ph.clear();};m.prototype.b4b=function(d){var f,h;f=this;h={Qg:d};this.lL.forEach(function(k){f.uGa(k.dn,h);d === l.Kc.Cl && k.dn.Cra === g.vVa && f.dlb(k);});};m.prototype.N8b=function(d){var f;this.uGa(d.dn,{RLb:!0});null === (f=d.Jqa) || void 0 === f?void 0:f.zg();};m.prototype.dlb=function(d){var f,h,k,n;f=this;k=d.dn;n=this.Ee.a4a(function(){f.uGa(k,{Qbb:!0});},k.bX,k.Lt);null === (h=d.Jqa) || void 0 === h?void 0:h.Wa();d.Jqa=n;};m.prototype.uGa=function(d,f){var h;try{h=d.Tf(f);h.hga && this.events.emit(d.Lt,h.event);}catch(k){this.H.error(("Error generating event for ").concat(d.Lt),k);}};return m;})();b.nPa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.N0a=b.FW=b.Oc=void 0;b.Oc=function(a,c){for(var l=0;l < a.length;l++){if(c(a[l],l,a))return a[l];}};b.FW=function(a){return a.filter(function(c,l){return a.indexOf(c) === l;});};b.N0a=function(a,c){return a.filter(function(l,g){return a.indexOf(l) === g && -1 !== c.indexOf(l);});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Skb=b.L9a=b.map=void 0;c=a(0);a(1141);b.map=function(l){return function(g,m){void 0 === m && (m=!1);return function(d,f,h){var k,n,p,q,v,t,w,u;v=Reflect.d$a(l,d,f) || ({});w="number" === typeof h;u=m;(t=w?null !== (n=(null !== (k=v.Gb) && void 0 !== k?k:{})[h]) && void 0 !== n?n:{}:u?v.return:v.gAa) || (t={rules:[]});k=c.__assign(c.__assign(c.__assign({},t),g),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=g.rules) && void 0 !== q?q:[]),!1)});w?(v.Gb || (v.Gb={}),v.Gb[h]=k):u?v.return=k:v.gAa=k;Reflect.b$(l,v,d,f);};};};b.L9a=function(l){return function(g,m){var d,f,h,k;g=null !== (k=null !== (f=null === (d=g.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== f?f:null === (h=null === g || void 0 === g?void 0:g.constructor) || void 0 === h?void 0:h.prototype) && void 0 !== k?k:g;for(var n;g && void 0 === n;){n=Reflect.d$a(l,g,m);g=g.__proto__;}return n;};};b.Skb=function(){return function(){return function(l){return l;};};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wc=void 0;r=b.Wc || (b.Wc={});r.$Ib="bitraterestriction";r.p2a="cdnsel";r.iB="chgstrm";r.debug="debug";r.sRb="dlreport";r.DB="endplay";r.GZ="intrplay";r.pC="midplay";r.uR="playbackaborted";r.e1="renderstrmswitch";r.wG="repos";r.Ow="resumeplay";r.Jfc="serversel";r.Du="startplay";r.W1="statechanged";r.transition="transition";r.nEa="segmentdropped";r.NHb="asereport";r.C4b="livereport";r.B4b="livepipelinefailover";r.d1a="audioswitch";r.A1a="blockedautoplay";r.config="config";r.Tsa="dlreq";r.Quc="ftlProbeError";r.Aic="subtitleerror";r.Bic="subtitleqoe";r.Ajc="timedtextrebuffer";r.pob="timedtextswitch";r.Rmb="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oOa="IsTypeSupportedProviderFactorySymbol";b.ISa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var l,g,m;function c(){this.type=l.dx.aA;}Object.defineProperty(b,"__esModule",{value:!0});b.BD=void 0;l=a(26);r=a(129);g=a(73);m=new r.KH();c.JOb=function(){return {isTypeSupported:function(d){var f;try{if(-1 == d.toLowerCase().indexOf("codec"))return mb.MSMediaKeys.isTypeSupported(d,"video/mp4");f=d.split("|");return 1 === f.length?mb.MSMediaKeys.isTypeSupported(g.yb.hA,d):"probably" === c.SFa(f[0],f[1]);}catch(h){return !1;}}};};c.H9=function(d,f,h){f=m.format(c.dha,f);if(0 === h.length)return f;h=m.format('features="{0}"',h.join());return m.format("{0}|{1}{2}",d,f,h);};c.SFa=function(d,f){var h;try{h=mb.MSMediaKeys.isTypeSupportedWithFeatures?mb.MSMediaKeys.isTypeSupportedWithFeatures(d,f):"";}catch(k){h="exception";}return h;};b.BD=c;c.dha='video/mp4;codecs="{0},mp4a";';},function(r,b){function a(c,l){var g;g=this;this.status={};c.forEach(function(m,d){g.status[m]=l[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.A5=void 0;a.prototype.XP=function(){return this.status;};a.prototype.Yaa=function(){return Object.entries(this.status).filter(function(c){c=oa(c);c.next();return c.next().value.supported;}).map(function(c){var l;c=oa(c);l=c.next().value;c.next();return l;});};b.A5=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v){var t;t=m.gH.call(this,n,p,l.u.IWa,v) || this;t.config=n;t.Nq=p;t.is=q;t.dda=v;t.type=l.wn.Oz;t.pmc=d.ce.u4a();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.tD=void 0;l=a(26);g=a(42);m=a(491);r=a(129);d=a(127);f=a(255);h=a(81);k=a(285);new r.KH();la(c,m.gH);c.prototype.OL=function(){return Promise.resolve(!1);};c.prototype.OJ=function(){return Promise.resolve("");};c.prototype.Aaa=function(){return Promise.resolve("");};c.prototype.d2=function(){return this.config().mta?this.dda.Qxa()?this.dda.nY(g.I.QT).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.Iga=function(){return this.config().mta?this.dda.Qxa()?this.dda.nY(g.I.JT).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.e2=function(){return Promise.resolve(!1);};c.prototype.b2=function(){return Promise.resolve(!1);};c.prototype.HY=function(n){return this.pmc[n];};c.prototype.fpa=function(){};c.prototype.z5b=function(n){switch(n){case l.jr.e5:return "1.4";case l.jr.sH:return "2.2";}};c.prototype.Ct=function(){return f.S3.Ct();};c.prototype.p$a=function(){var p;function n(q,v){return (0,h.dpb)(function(t,w){return t.name === w.name;},q,v);}p=n(this.config().h0a,this.config().Bo);return n(p,this.config().bu);};c.prototype.YY=function(){return Promise.resolve(void 0);};c.prototype.Paa=function(){return Promise.resolve(void 0);};c.prototype.G9=function(n){var p;p=[];this.is.wh(n) && p.push(this.z5b(n));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.oY=function(n){return this.config().R9b?Promise.resolve(new k.A5(n,n.map(function(){return {supported:!0};}))):m.gH.prototype.oY.call(this,n);};b.tD=c;c.dha="video/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rja=b.Vz=void 0;r=b.Vz || (b.Vz={});r.wzb="unknown";r.CHa="absent";r.WTa="present";r.Error="error";b.rja="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yNa="IDBDatabaseFactorySymbol";b.cOa="IndexedDBFactorySymbol";b.eOa="IndexedDBStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.e6="TransportConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.q5b=b.HQ=b.o5b=void 0;b.o5b=function(a){return a;};b.HQ=function(a){return a;};b.q5b=function(a){return Object.assign({},a);};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W){this.j=x;this.trackId=y;this.gK=z;this.vc=B;this.Oh=A;this.Cob=C;this.Tb=D;this.urls=E;this.Of=G;this.displayName=F;this.Wi=L;this.NL=O;this.variant=K;this.vG=I;this.profile=M;this.tw=H;this.dR=J;this.xVb=N;this.eca=P;this.fw=W;this.type=d.yj.Rga;this.Ou=void 0;this.am=!(!M || M != h.un.KM);this.Ch={bcp47:G,trackId:y,downloadableId:D,isImageBased:this.am};this.log=(0,f.lj)(x,"TimedTextTrack");this.state=u.n5;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.LH=void 0;l=a(0);g=a(107);m=a(19);d=a(93);f=a(9);h=a(42);k=a(22);n=a(15);p=a(1248);q=a(16);v=a(4);t=a(1249);w=a(66);(function(x){x[x.n5=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.rH=2]="LOADED";x[x.cU=3]="LOAD_FAILED";})(u || (u={}));c.prototype.Jba=function(){var x;x=this;if(this.j.state.value === q.jc.CLOSED || this.j.state.value === q.jc.CLOSING)return Promise.reject({ja:!1});if(this.am)return this.M1b();if(this.j.Md.ta)return (this.state=u.LOADING,this.tbb());this.P5a || (this.P5a=this.R5a());return this.P5a.then(function(y){return x.tbb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.Iq=function(){return this.dR;};c.prototype.up=function(){return this.xVb;};c.prototype.kwa=function(){var x;return (null === (x=this.a2) || void 0 === x?0:x.ready)?this.a2.s_:void 0;};c.prototype.Dq=function(x,y){var z;try{return null === (z=this.kwa()) || void 0 === z?void 0:z.Dq(x,y);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:y,isImageBased:this.am});}};c.prototype.JZb=function(){var x,y,z;if(!(0,n.xd)(this.ca))try{z=null === (y=null === (x=this.kwa()) || void 0 === x?void 0:x.LJ(0)) || void 0 === y?void 0:y[0];this.ca=null === z || void 0 === z?void 0:z.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.ca;};c.prototype.NCa=function(x){var y,z,B,A;y=x.data;z=x.offset;x=x.W;(0,k.ya)(null === (B=this.j.ba) || void 0 === B?void 0:B.Ra.ol,"Live manifest is unavailable.");(0,k.ya)(null === (A=this.a2) || void 0 === A?void 0:A.s_,"Subtitle manager is unavailable");B=this.j.ba.Ra.ol;B=B.Tfa[B.n$[this.Tb]];A=B.duration / B.W * 1E3;z=1E3 * z / x;this.a2.s_.NCa({S:Number(B.HL) + Math.floor(z / A),xml:y,ca:z,Ta:z + A,size:y.length,J0:Number(B.Dib) / B.W * 1E3});};c.prototype.iga=function(x){return this.j.state.value === q.jc.CLOSING || this.j.state.value === q.jc.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Ob.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.r4a=function(x){var y,z;y=this;z=(0,f.lj)(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=(0,p.s4a)(this.j,z,this.request,this);x=new t.default(z,x);this.a2={s_:x,ready:!1};x.on("ready",function(){y.a2.ready=!0;});return x;};c.prototype.M1b=function(){var x,y,z,B,A,C,D;x=this;if(!this.qbb){this.state=u.LOADING;y={profile:"nflx-cmisc",url:"",j1a:!1,iAa:this.tw.offset,kfb:this.tw.length,ue:this.j.mediaTime.value || 0,bufferSize:m.config.d1b,Rfa:{U:this.j.GY()}};z=(this.urls || []).map(function(E){return E.Mh;});B=0;A={};C=!0;D=function(E,G){var F;(0,n.xd)(E)?C || x.iga(x.Zv(x.Kv,"","image"))?(C=!1,x.tw.url=null === (F=x.uaa(x.Kv)) || void 0 === F?void 0:F.url,y.url=x.tw.url,A[E]=(A[E] || 0) + 1,F=x.r4a(y),F.on("ready",function(){G({ja:!0,track:x});}),F.on("error",function(L){var O;L=Object.assign({ja:!1},L);O=x.Zv(x.Kv,x.tw.url,"image");O.details={midxoffset:x.tw.offset,midxsize:x.tw.length};O.errorstring=L.errorString;A[E] <= m.config.nob?(x.V$(O,!0,"retry with current cdn"),x.cqa(A[E]).then(function(K){x.log.trace("retry timed text download after " + K,x.Zv(x.Kv,"","image"));D(x.Kv,G);})):(x.Kv=z[B++],x.Kv?(x.V$(O,!0,"retry with next cdn"),x.cqa(A[E]).then(function(K){x.log.trace("retry timed text download after " + K,x.Zv(x.Kv,"","image"));D(x.Kv,G);})):(x.V$(O,!1,"all cdns tried"),G({ja:!1,l7b:"all cdns failed for image subs",track:x})));}),F.start()):G({ja:!1,aborted:!0}):(G({ja:!1,l7b:"cdnId is not defined for image subs downloadUrl"}),x.V$(x.Zv(0,"","image"),!1,"cdnId is undefined"));};this.Kv=z[B++];this.qbb=new Promise(function(E,G){D(x.Kv,function(F){F.ja?(x.log.info("Loaded image subtitle manager"),x.state=u.rH,E(F)):(x.log.error("Unable to load image subtitles manager",F),x.state=u.cU,G(F));});});}return this.qbb;};c.prototype.tbb=function(x){var y,z;y=this;z=this.j.XG.value;(0,k.ya)(z);(0,k.ya)(void 0 !== x || this.j.Md.ta);return new Promise(function(B,A){var C;C=y.r4a({profile:y.profile,xml:x,bh:m.config.oob,preferences:m.config.fGa,ue:y.j.mediaTime.value || 0,j1a:!1,videoSize:z,ta:y.j.Md.ta});C.on("ready",function(){B(C);}).on("error",function(D){A({ja:!1,error:D});}).start();}).then(function(){y.state=u.rH;return {ja:!0,track:y};}).catch(function(B){y.log.error("Unable to parse timed text track",(0,v.Uz)(B),y.Ch,{url:B.url});y.state=u.cU;B.reason="parseerror";B.track=y;throw B;});};c.prototype.V$=function(x,y,z){x=Object.assign({},x,{Uyc:y,status:z});this.j.fireEvent(q.ka.zS,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var z,B,A;z=this;this.log.trace("Downloading",x);A=this.uaa(this.Kv);x={url:x.url,offset:x.offset,length:x.size,Ou:this.Ou,responseType:g.sZ,headers:{},Cc:A?{id:A.Mh}:void 0,UE:"tt-" + this.Of,Au:null !== (B=null === A || void 0 === A?void 0:A.type) && void 0 !== B?B:w.wU};this.j.Aba.download(x,function(C){z.log.trace("imgsub: request status " + C.ja);C.ja?y(null,new Uint8Array(C.content)):y({Ca:C.Ca,Sf:C.Sf});});};c.prototype.Zv=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.Tb,subtitletype:z,bcp47:this.Of,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.am};};c.prototype.uaa=function(x){return (this.urls || []).find(function(y){return y.Mh === x;});};c.prototype.R5a=function(){var B,A;function x(C){return l.__awaiter(B,void 0,void 0,function E(){var G,F,L;F=this;return Ka(E,function(O){G=z();L=F.Zv(C.Cc.Mh,C.url,"text");L.errorstring=C.reason;return G && F.iga(L)?O.return(F.cqa(A[G.Mh]).then(y)):O.return(Promise.reject({ja:!1,aborted:!0}));});});}function y(){return l.__awaiter(B,void 0,void 0,function D(){var E,G,F;F=this;return Ka(D,function(L){E=z();G=null === E || void 0 === E?void 0:E.url;return E && G?(A[E.Mh]=(A[E.Mh] || 0) + 1,L.return(F.BRb(G,E).catch(x))):L.return(Promise.reject({}));});});}function z(){return (B.urls || []).find(function(C){return !!((A[C.Mh] || 0) < m.config.nob);});}B=this;this.state=u.LOADING;A={};return y();};c.prototype.cqa=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};c.prototype.BRb=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({Cc:y.Mh}),this.Zv(y.Mh,x,"text"));return new Promise(function(B,A){var C,D;D={responseType:g.Zwa,url:x,track:z,Cc:{id:y.Mh},UE:"tt-" + z.Of,Au:null !== (C=y.type) && void 0 !== C?C:w.wU};z.j.Aba.download(D,function(E){E.ja?B(E.content):(E=Object.assign(Object.assign({},E),{reason:"downloadfailed",url:D.url,track:z,Cc:y}),A(E));});});};Va.Object.defineProperties(c.prototype,{pg:{configurable:!0,enumerable:!0,get:function(){return this.Cob.pg;}},jG:{configurable:!0,enumerable:!0,get:function(){return this.Cob.jG;}}});b.LH=c;c.MD=u;},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Wva:function(){return this.buffer.length - this.position;},JC:function(){return this.buffer[this.position++];},rl:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},xs:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},UCa:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},si:function(){return this.xs(2);},ys:function(){return this.xs(4);},JR:function(){return this.xs(8);},ez:function(a){for(var c,l="";a--;){c=this.JC();l+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return l;},VCa:function(a){for(var c=0,l=0;l < a;l++){c+=this.JC() << (l << 3);}return c;},IR:function(){return this.VCa(4);},b3:function(a){this.dT(a,2);},lD:function(a){this.dT(a,4);},Iha:function(a){this.buffer[this.position++]=a;},dT:function(a,c){this.position+=c;for(var l=1;l <= c;l++){this.buffer[this.position - l]=a & 255;a=Math.floor(a / 256);}},kD:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},a3:function(a){for(var c=a.length,l=0;l < c;l++){this.buffer[this.position++]=a[l];}},cT:function(a,c){this.a3(a.rl(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jPa="LogMessageRulerConfigSymbol";b.lPa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yka="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yka="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,f,h,k,n,p;function c(q,v,t,w){this.za=q;this.gZ=v;this.Ia=t;this.profile=w;}function l(){}function g(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.rSa=b.w5=void 0;r=a(0);d=a(1);f=a(27);h=a(5);k=a(11);n=a(18);a=a(80);m.prototype.encode=function(q){return {downloadableId:q.Tb,duration:q.duration};};m.prototype.decode=function(q){return {Tb:q.downloadableId,duration:q.duration};};g.prototype.encode=function(q){return {total:q.total,totalContentTime:q.XL,totalAdDuration:q.QG,totalCombinedDuration:q.LS,totalOtherDuration:q.SG,totalStartSlateDuration:q.ZL,totalLiveEdgeDuration:q.YL,audio:q.audio.map(new m().encode),video:q.video.map(new m().encode),text:q.text.map(new m().encode)};};g.prototype.decode=function(q){var v;return {total:q.total,XL:null !== (v=q.totalContentTime) && void 0 !== v?v:q.total,QG:q.totalAdDuration,LS:q.totalCombinedDuration,SG:q.totalOtherDuration,ZL:q.totalStartSlateDuration,YL:q.totalLiveEdgeDuration,audio:q.audio.map(new m().decode),video:q.video.map(new m().decode),text:q.text.map(new m().decode)};};l.prototype.encode=function(q){return {streamingType:q.ih,href:q.href,xid:q.sa,movieId:q.K,position:q.position,clientTime:q.kB,sessionStartTime:q.qo,videoTrackId:q.$S,audioTrackId:q.lq,timedTextTrackId:q.IS,mediaId:q.MQ,playTimes:new g().encode(q.Yy),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.po,profileId:q.profileId};};l.prototype.decode=function(q){return {ih:q.streamingType,href:q.href,sa:q.xid,K:q.movieId,position:q.position,kB:q.clientTime,qo:q.sessionStartTime,$S:q.videoTrackId,lq:q.audioTrackId,IS:q.timedTextTrackId,MQ:q.mediaId,Yy:new g().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,po:q.sessionParams,profileId:q.profileId};};b.w5=l;c.prototype.create=function(q){var v,t,w,u,x,y,z,B;B=Object.assign(Object.assign({},null !== (v=q.lb.po) && void 0 !== v?v:{}),{uiVersion:this.gZ().Sr.xz});v=null !== (t=q.Md.ta?q.Md.aba():q.zX) && void 0 !== t?t:0;return {href:q.ba && q.ba.Mj?q.ba.Mj.QP("events").href:"",ih:null !== (u=null === (w=q.ba) || void 0 === w?void 0:w.Ra.ih) && void 0 !== u?u:"VOD",sa:q.sa.toString(),K:q.K,position:Math.floor(v),kB:this.za.yL.ia(h.va),qo:q.ZB?q.ZB.ia(h.va):-1,$S:null === (x=q.Uh.value) || void 0 === x?void 0:x.trackId,lq:null === (y=q.Gc.value) || void 0 === y?void 0:y.trackId,IS:null === (z=q.Ob.value) || void 0 === z?void 0:z.trackId,MQ:void 0,Yy:this.Ova(q),trackId:void 0 !== q.Gl?q.Gl.toString():"",sessionId:this.gZ().sessionId || this.Ia.id,appId:this.gZ().appId || this.Ia.id,po:B,profileId:this.profile};};c.prototype.load=function(q){return new l().decode(q);};c.prototype.Sva=function(q){return q.map(function(v){return {Tb:v.downloadableId,duration:v.duration};});};c.prototype.Ova=function(q){return (q=q.Ym)?(q=q.WYb(),{total:q.total,XL:q.totalContentTime,QG:q.totalAdDuration,SG:q.totalOtherDuration,LS:q.totalCombinedDuration,YL:q.totalLiveEdgeDuration,ZL:q.totalStartSlateDuration,audio:this.Sva(q.audio),video:this.Sva(q.video),text:this.Sva(q.timedtext)}):{total:0,XL:0,QG:0,LS:0,SG:0,YL:0,ZL:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(f.Jh)),r.__param(1,(0,d.l)(k.wc)),r.__param(2,(0,d.l)(n.jd)),r.__param(3,(0,d.l)(a.UM))],p);b.rSa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xSa="PboPlaydataValidatorSymbol";b.oSa="PboPlaydataArrayValidatorSymbol";b.qSa="PboPlaydataCollectionValidatorSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.fka=void 0;b.fka=a;a.Btb="display";a.Tsb="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yla=b.TM=void 0;r=b.TM || (b.TM={});r.bjc="taskstart";r.$ic="taskabort";r.ajc="taskfail";r.cjc="tasksuccess";b.yla="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kia="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AIa="AsePrefetcherAdapterSymbol";b.BIa="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ala="PboPublisherSymbol";},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.LL=void 0;c=a(17);l=a(19);g=a(58);m=a(62);d=a(4);f=a(22);h=a(9);k=a(23);n=a(14);p=a(304);q=a(15);r=a(34);h.Ha.get(r.vj).register(d.aa.MNa,function(v){var u,x,y;function t(){var z;t=c.dA;z=setInterval(w,l.config.S4b);g.Ze.addListener(g.Pm,function(B){B && B.isPopStateEvent?u.trace("popstate event, Lock timers can stay"):((0,k.zh)(x,function(A,C){localStorage.removeItem(C.cu);}),clearInterval(z));},c.NM);}function w(){var z;z=(0,m.yra)();(0,k.zh)(x,function(B,A){!1;B=localStorage.getItem(A.cu);(B=JSON.parse(B))?B.updated=z:B={updated:z,sessionId:y,count:1};localStorage.setItem(A.cu,JSON.stringify(B));});}(0,f.ya)(p.storage);u=(0,h.nk)("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.LL={Sx:function(z,B,A){var D,E,G,F,L,O,K,I,M,H;function C(J){localStorage.setItem(G,JSON.stringify(J));J={cu:G};x[G]=J;u.trace("Lock acquired",{Name:J.cu});t();B({ja:!0,Jca:J});}D=this;A=void 0 === A?!1:A;if(localStorage){E=(0,m.yra)();G="lock-" + z;F={updated:E,sessionId:y,count:1};try{if((G in localStorage)){L=localStorage.getItem(G);O=0;K=JSON.parse(L);(0,q.LF)(K.updated) && (O=K.updated);I=(0,n.g5)(E - O) * c.av;M=y === K.sessionId;if(I < l.config.Kdb){if(M)(K.count+=1,u.debug("Incremented lock count for existing playbackSession",{id:y,count:K.count}),K.updated=E,C(K));else if(A){H=l.config.Kdb - I + c.av;u.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:K.count,Epoch:E,LockEpoch:O,waitTimeoutMs:H});mb.setTimeout(function(){return D.Sx(z,B,!1);},H);}else B({ja:!1});}else (u.error("Lock was expired or invalid, ignoring",{Epoch:E,LockEpoch:O}),C(F));}else C(F);}catch(J){u.error("Error acquiring Lock",{errorSubCode:d.Y.rn,errorDetails:(0,k.pf)(J)});B({ja:!0});}}else (n.aza?u.error("Local storage access exception",{errorSubCode:d.Y.Xyb,errorDetails:(0,k.pf)(n.aza)}):u.error("No localstorage",{errorSubCode:d.Y.Yyb}),B({ja:!0}));},release:function(z,B){var A,C;(0,f.ya)(x[z.cu] == z);if(localStorage){try{A=localStorage.getItem(z.cu);C=JSON.parse(A);C && 1 < C.count?(--C.count,localStorage.setItem(z.cu,JSON.stringify(C)),u.trace("Lock count decremented",{Name:z.cu,count:C.count})):(localStorage.removeItem(z.cu),delete x[z.cu],u.trace("Lock released",{Name:z.cu}));}catch(D){u.error("Unable to release Lock",{Name:z.cu},D);}B && B(c.mh);}}};l.config.y$?b.LL.Sx("session",function(z){b.LL.Blb=z;v(c.mh);}):v(c.mh);});},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(19);l=a(17);g=a(570);r=a(4);m=a(571);d=a(573);f=a(9);a=a(34);b.storage=b.storage || void 0;f.Ha.get(a.vj).register(r.aa.LNa,function(h){var k;switch(c.config.aic){case "idb":k=m.hnb;break;case "none":k=g.jnb;break;case "ls":k=d.inb;}k(function(n){n.ja?(b.storage=n.storage,h(l.mh)):h(n);});});},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t,w;function c(u,x){var z;function y(){function B(A,C){return C.$e && 0 !== C.$e.length && C.$e[0].uK?(0,g.LC)(u,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return A?A.c1(C):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({mc:C,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),A?A.c1(C):Promise.resolve());}l(z).then(function(A){var C;C=A.q$.filter(function(D){return !1 === D.active;}).map(function(D){return B(A,D);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");x(m.mh);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",D);x(m.mh);});}).catch(function(A){z.error("Unable to load DRM session data",A);x(m.mh);});}z=(0,k.nk)("PlayDataManager");x=x || m.dA;d.config.Pu?x(m.mh):y();}function l(u){var x;if(!b.Xsa){x=k.Ha.get(n.Lia);b.Xsa=new Promise(function(y,z){x.rjb().then(function(){y(x);}).catch(function(B){u.error("Unable to load DRM data for license release",B);z(B);});});}return b.Xsa;}Object.defineProperty(b,"__esModule",{value:!0});b.KSa=b.JSa=b.Xsa=void 0;g=a(306);m=a(17);d=a(19);f=a(58);h=a(45);k=a(9);r=a(4);n=a(229);p=a(151);q=a(16);v=a(50);t=a(34);w=a(222);b.JSa=function(u){var z,B,A,C,D,E;function x(){B || (u.af("pdsb"),B=k.Ha.get(p.BU)().then(function(G){C=G;u.af("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);u.af("pdse");throw G;}));return B;}function y(){A=!0;C && C.close();f.Ze.removeListener(f.Pm,y);}z=(0,k.lj)(u,"PlayDataManager");A=!1;D=k.Ha.get(h.y5);if(!D.xM || !D.vM){E=k.Ha.get(w.gla)();D.xM=E.mc;D.vM=E.request;}u.af("pdctor");u.addEventListener(q.ka.uh,function(){f.Ze.removeListener(f.Pm,y);});u.addEventListener(q.ka.f_,function(){var G;if(!d.config.Pu && u.Ye){G=u.B9.W3a();l(z).then(function(F){return F.M_a(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});u.addEventListener(q.ka.uh,function(){var G;if(!A){u.umc();G=[(function(){return d.config.Pu || !u.Ye?Promise.resolve():new Promise(function(F){var L;z.info("Sending the expedited playdata");L=u.B9.W3a();u.Ye.V6a(L).then(function(){z.info("Sent the expedited playdata");return l(z);}).then(function(O){return O?O.c1(L):Promise.resolve();}).then(function(){F(void 0);}).catch(function(O){z.error("Unable to send the expedited playdata",O);F();});});})(),(function(){return x().then(function(F){return F.X1(u.ha);}).then(function(){z.info("Sent the playdata");}).catch(function(F){z.error("Unable to send the playdata",F);});})(),(function(){return new Promise(function(F){k.Ha.get(v.Fo).flush(!1).catch(function(){z.error("Unable to send logblob");F(void 0);}).then(function(){F(void 0);});});})()];Promise.all(G).then(function(){u.Sda();}).catch(function(){u.Sda();});}});f.Ze.addListener(f.Pm,y);return {};};b.KSa=function(){return new Promise(function(u){c({},function(x){u(x);});});};k.Ha.get(t.vj).register(r.aa.yD,function(u){u(m.mh);});},function(r,b,a){var g,m,d,f,h,k,n,p;function c(q){this.j=q;this.sdb=!1;this.log=(0,m.lj)(this.j,"Playback");this.BQ=m.Ha.get(n.dU);(0,d.ya)(g.config);g.config.Pu || (this.LRb=m.Ha.get(f.iLa));}function l(q,v){var w;function t(u){return u && 0 < u.length && u[0].uK;}w=m.Ha.get(n.dU);return q.sa && t(q.$e)?w.release({sa:q.sa,$e:q.$e}).then(function(){}):v.sa && t(v.$e)?w.release(v).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.LC=b.oKa=void 0;g=a(19);m=a(9);d=a(22);f=a(343);h=a(56);k=a(15);n=a(205);p=a(16);c.prototype.PJ=function(q){var v;v=this;return new Promise(function(t,w){var u,x,y;u=h.Eo.O3a(q.Pg);x=q.al.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,m.ZA)(z.data)};});y=v.j.YYb(q.al[0].sessionId);v.BQ.Sx({fh:y.fh,Pg:k.is.So(q.Pg)?q.Pg:u,p$:[y.Lm],al:x,sa:y.sa,fp:q.fp,Mj:y.ba.Mj,ih:y.ba.Ra.ih}).then(function(z){v.j.$e=z.$e;t(z);v.XUb(y);}).catch(w);});};c.prototype.release=function(q){return l(this.j,q);};c.prototype.W3a=function(){var q;q=this.LRb.create();q.$e=this.j.$e;q.sa=this.j.sa;q.K=this.j.K;return q;};c.prototype.XUb=function(q){this.sdb || (this.sdb=!0,this.j.fireEvent(p.ka.f_,{K:q.K}));};b.oKa=c;b.LC=l;},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t,w;function c(u){u=Error.call(this,u);this.message=u.message;("stack" in u) && (this.stack=u.stack);this.name="CodecSwitchingError";}function l(u,x,y,z){var B,A;B=this;this.j=u;this.type=x;this.log=z;this.c7=new d.ic(!1);this.WH={data:[],state:"",operation:""};this.mimeType=this.Y6a((this.type === w.u.J?this.j.Uh.value:this.j.Gc.value).streams);this.Ml=new f.Ik();this.Sna={Type:this.type};if(m.config.QF){A=!0;this.oua=new d.ic(!1);}this.log.trace("Adding source buffer",this.Sna,{TypeId:this.mimeType});this.Jd=y.addSourceBuffer(this.mimeType);this.Jd.addEventListener("updatestart",function(){!1;B.WH.state="updatestart";});this.Jd.addEventListener("update",function(){!1;B.WH.state="update";});this.Jd.addEventListener("updateend",function(){var C;!1;B.c7.set(!1);B.xXa && B.xXa();B.WH.state="updateend";C=0;try{C=B.Jd.buffered.length;}catch(D){}A && C && (A=!1,B.oua.set(!0),!1);});this.Jd.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && z.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(E){}u.Td(k.aa.$xb,(0,g.Caa)(B.type));});this.Jd.addEventListener("abort",function(){!1;});u.addEventListener(q.ka.closed,function(){B.Jd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.btb=b.vka=void 0;g=a(178);m=a(19);d=a(74);f=a(70);h=a(9);a(100);k=a(4);a(5);n=a(22);p=a(15);q=a(16);v=a(163);t=a(210);w=a(49);l.prototype.Li=function(){return this.c7.value;};l.prototype.updating=function(){return this.Jd?this.Jd.updating:!1;};l.prototype.bga=function(u){this.xXa=u;};l.prototype.dva=function(){return this.WH;};l.prototype.buffered=function(){return this.Jd.buffered;};l.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};l.prototype.toJSON=function(){return {type:this.type};};l.prototype.Yua=function(){var u,z,B;try{u=this.Jd.buffered;if(u){for(var x=[],y=0;y < u.length;y++){z=1E3 * u.start(y);B=1E3 * u.end(y);(0,n.ya)(B > z);x.push({start:z,end:B});}return x;}}catch(A){}};l.prototype.saa=function(){var u,x;u=this.Yua();if(u){u=u.map(function(y){return {start:y.start / 1E3,end:y.end / 1E3};});x=u.reduce(function(y,z){return y + z.end - z.start;},0);u=u.map(function(y){return y.start + "-" + y.end;});return {Buffered:x.toFixed(3),Ranges:u.join("|")};}};l.prototype.B0a=function(u,x){!1;try{(0,n.ya)(this.Jd.buffered && 1 >= this.Jd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.saa()));}catch(y){}(0,n.ya)(!this.Li());this.qmb("append",u);x=x && x.Jw / 1E3;(0,p.Oa)(x) && this.Jd.timestampOffset !== x && (!1,this.Jd.timestampOffset=x);this.Jd.appendBuffer(u);!1;this.c7.set(!0);};l.prototype.remove=function(u,x){(0,n.ya)(!this.Li());try{this.qmb("remove");!1;this.Jd.remove(u,x);this.c7.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.Sna);}};l.prototype.qmb=function(u,x){this.WH.data=x || [];this.WH.state="init";this.WH.operation=u;};l.prototype.gga=function(u,x){this.U3b=u / x * 1E3;};l.prototype.GKb=function(u){var x;if(this.Jd){if((u=this.Y6a([{type:this.sMb,mf:u}]),u !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + u);if(!this.Jd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Jd.changeType(u);this.mimeType=u;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.Sna,{From:x,To:u}),new c(y.message));}}}else this.log.info("No SourceBuffer");};l.prototype.appendBuffer=function(u,x){!x || x.Hc?this.Fpa(u,x):this.z8(u,x);return !0;};l.prototype.Fpa=function(u,x){this.j.rf.Fpa(this,u,x || ({}));};l.prototype.z8=function(u,x){u=this.nMb(u,x);!1;this.j.rf.z8(u);};l.prototype.nMb=function(u,x){var y;y=this.U3b || 0;return {rLb:function(){this.response=void 0;},Mi:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.Fc.cd.DONE,HC:x.ca,Iw:x.ca + x.duration,Un:x.duration,Jw:y,el:x.el,S:x.S,Sa:x.Sa,$c:+x.$c,location:x.location,IO:x.offset,GO:x.offset + x.ga - 1,bitrate:x.bitrate,response:u,kab:u && 0 < u.byteLength,IF:!0,get Hc() {return !this.IF;},llb:this.Pk - Math.floor(y) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.S,isHeader:this.Hc,ptsStart:this.HC,ptsOffset:this.Jw,responseType:this.Gsc,duration:this.Un,readystate:this.Fi};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};l.prototype.endOfStream=function(){var u;this.j.CI("EndOfStream");null === (u=this.j.rf) || void 0 === u?void 0:u.W_(this.mediaType);};l.prototype.Vmb=function(u){this.UEb=u;};l.prototype.addEventListener=function(u,x,y){this.Ml.addListener(u,x,y);};l.prototype.removeEventListener=function(u,x){this.Ml.removeListener(u,x);};l.prototype.Y6a=function(u){var x;x=h.Ha.get(v.KU);return this.type === w.u.J?x.L9(u):x.F9(u);};Va.Object.defineProperties(l.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Wmb:{configurable:!0,enumerable:!0,get:function(){return this.UEb;}},sMb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.vka=l;la(c,Error);b.btb=c;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.z4a=b.xza=void 0;c=a(22);l=a(23);g=a(15);(function(){var d,f,h;function m(k){(0,c.ya)(void 0 !== d[k]);return d[k];}d={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;h=/[", ]/;b.z4a=function(k){return (0,g.xd)(k)?(0,g.Oa)(k)?k:(0,g.Og)(k)?k.replace(f,m):(0,g.Mbb)(k)?k:isNaN(k)?"NaN":"":"";};b.xza=function(k){var n,p;n=b.z4a;p="";(0,l.zh)(k,function(q,v){q=n(q) + "=" + n(v);h.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kk=void 0;r=b.Kk || (b.Kk={});r[r.Qmb=1]="sourceopen";r[r.rq=2]="currentTimeChanged";r[r.u1=3]="seeked";r[r.rdb=5]="licenseadded";r[r.Omb=6]="sourceBuffersAdded";r[r.gea=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zha={cGb:"adStart",G_a:"adProgress",Nsc:"adComplete",dGb:"adStop"};b.EHa={sE:"adBreakComplete"};b.$ha={error:"error",HTb:"exit",epb:"unload"};b.LHa="AdImpressionLoggerrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yha="AdEventPboCommandSymbol";b.Xha="AdBreakEventPboCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vla="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xla="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var l,g,m;function c(d,f){var h;h=this;this.oj=d;this.Qh=f;this.addEventListener=function(k,n,p){return h.Qh.addListener(k,h.W4a(k,n),p);};this.removeEventListener=function(k,n){return h.Qh.removeListener(k,h.W4a(k,n));};this.getReady=function(){return h.Qh.isReady();};this.getXid=function(){return h.Kb().aw();};this.getMovieId=function(){return h.Kb().X9a();};this.getPlaygraphId=function(){return h.Qh.$Yb();};this.getElement=function(){return h.Qh.mp();};this.isPlaying=function(){return h.Kb().js();};this.isPaused=function(){return h.Kb().lw();};this.isMuted=function(){return h.Kb().Yxa();};this.isReady=function(){return h.Kb().isReady();};this.isBackground=function(){return h.Kb().Lbb();};this.setBackground=function(k){return h.Kb().EEa(k);};this.startInactivityMonitor=function(){return h.Kb().tS();};this.setTransitionTime=function(k){return h.Kb().UEa(k);};this.getDiagnostics=function(){return h.Kb().V8a();};this.getTextTrackList=function(k){return h.Kb().owa(k);};this.getMaxRecommendedTextIndex=function(k){return h.Kb().Dva(k);};this.getTextTrack=function(){return h.Kb().nwa();};this.setTextTrack=function(k){return h.Kb().QEa(k);};this.getVolume=function(){return h.Kb().U$a();};this.isEnded=function(){return h.Kb().Nxa();};this.getBusy=function(){return h.Kb().Li();};this.getError=function(){return h.Kb().getError();};this.getCurrentTime=function(){return h.Kb().kF();};this.getAdManager=function(){return h.Kb().zq();};this.getLivePlaybackManager=function(){var k;k=h.Kb().Xn();(0,g.ya)(k,"Unexpected call to getLivePlaybackManager()");if(k.ta && !h.xua && !h.yua.includes(h.getMovieId()))return {seekToLiveEdge:function(){return k.mEa();},isAtLiveEdge:function(){return k.HF();},getLiveEventState:function(){return k.nF();},isLiveEventEnded:function(){return k.Xxa();}};};this.getBufferedTime=function(){return h.Kb().B8a();};this.getSegmentTime=function(){return h.Kb().waa();};this.getDuration=function(){return h.Kb().bva();};this.getVideoSize=function(){return h.Kb().T$a();};this.getAudioTrackList=function(){return h.Kb().s8a();};this.getMaxRecommendedAudioIndex=function(){return h.Kb().R9a();};this.getAudioTrack=function(){return h.Kb().r8a();};this.getTimedTextTrackList=function(k){return h.Kb().owa(k);};this.getMaxRecommendedTimedTextIndex=function(k){return h.Kb().Dva(k);};this.getTimedTextTrack=function(){return h.Kb().nwa();};this.getAdditionalLogInfo=function(){return h.Kb().p8a();};this.getTrickPlayFrame=function(k){return h.Kb().Q$a(k);};this.getSessionSummary=function(){return h.Kb().ewa();};this.getTimedTextSettings=function(){return h.Kb().cZ();};this.setMuted=function(k){return h.Kb().Vlb(k);};this.setVolume=function(k){return h.Kb().lmb(k);};this.getPlaybackRate=function(){return h.Kb().Nt();};this.setPlaybackRate=function(k){return h.Kb().Xlb(k);};this.setAudioTrack=function(k){return h.Kb().Flb(k);};this.setTimedTextTrack=function(k){return h.Kb().QEa(k);};this.setTimedTextSettings=function(k){return h.Kb().kS(k);};this.prepare=function(){return h.Kb().eL();};this.load=function(){return h.Kb().load();};this.close=function(k){return h.F0a(h.Qh.close(),k);};this.play=function(){return h.Kb().play();};this.pause=function(){return h.Kb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(k,n){return h.F0a(h.Kb().rP(k),n);};this.induceError=function(k){return h.Kb().hbb(k);};this.loadCustomTimedTextTrack=function(k,n,p,q){return h.Kb().Bdb(k,n,p,q);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return h.Kb().xaa();};this.generateScreenshots=function(k){return h.Kb().j8a(k);};this.getCurrentSegmentId=function(){return h.Qh.S8a();};this.getPlaygraphMap=function(){return h.Qh.UJ();};this.updatePlaygraphMap=function(k){return h.Qh.Xw(k);};this.Hta=new Map();this.log=(0,l.nk)("VideoPlayer");d=l.Ha.get(m.wc);this.xua=d().xua;this.yua=d().yua;Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.j6=void 0;l=a(9);a(100);g=a(22);m=a(11);c.prototype.Kb=function(){return this.Qh.Kb();};c.prototype.W4a=function(d,f){var h;this.Hta.has(d) || this.Hta.set(d,new Map());h=this.Hta.get(d);h.has(f) || h.set(f,this.aQb(d,f));return h.get(f);};c.prototype.aQb=function(d,f){var h;h=this;return function(k){return f(Object.assign({},k,{type:d,target:h}));};};c.prototype.F0a=function(d,f){return f?d.then(f,f):d;};b.j6=c;},function(r,b,a){b=a(131);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.fa:Date.now;},function(r){r.exports={Mz:{cma:0,EUa:1,ym:2,name:["transient","semiTransient","permanent"]},Hz:{hMa:0,DUa:1,O5:2,yU:3,eA:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},ksc:{Zrc:0,Xpc:1,loc:2,eA:100,name:["trailer","montage","content"]},kx:{xOa:0,iUa:1,vzb:2,$tb:3,eA:100,name:["left","right","up","down"]},aU:{Ysb:0,O5:1,Fpc:2,$oc:3,Gnc:4,Epc:5,Prb:6,eA:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},CM:{yU:0,wKa:1,eA:100,name:["playFocused","detailsOpened"]}};},function(r,b,a){var c,l,g,m,d,f;c=a(609);l="function" === typeof Symbol && "symbol" === typeof Symbol("foo");g=Object.prototype.toString;m=Array.prototype.concat;d=Object.defineProperty;b=a(319)();f=d && b;r.exports=function(h,k){var n,p,v,t,w,u;n=2 < arguments.length?arguments[2]:{};p=c(k);l && (p=m.call(p,Object.getOwnPropertySymbols(k)));for(var q=0;q < p.length;q+=1){v=h;t=p[q];w=k[p[q]];u=n[p[q]];if(!((t in v)) || "function" === typeof u && "[object Function]" === g.call(u) && u())f?d(v,t,{configurable:!0,enumerable:!1,value:w,writable:!0}):v[t]=w;}};},function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,l;c=b.call(a);l="[object Arguments]" === c;l || (l="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return l;};},function(r,b,a){var l;function c(){if(l)try{return (l({},"a",{value:1}),!0);}catch(g){}return !1;}l=a(40)("%Object.defineProperty%",!0);c.Q_b=function(){if(!c())return null;try{return 1 !== l([],"length",{value:1}).length;}catch(g){return !0;}};r.exports=c;},function(r,b,a){var c,l;c="undefined" !== typeof Symbol && Symbol;l=a(321);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:l();};},function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},function(r,b,a){var c,l,g,m,d,f;c=a(614);l=a(615);g=a(617);m=a(142);d=a(324);f=a(627);r.exports=function(h){var k;h=g(h);if(m(h) || 0 === h)return 0;if(!d(h))return h;k=l(c(h));return 0 === k?0:f(h) * k;};},function(r){var l,g,m,d,f,h,k,n;function b(){return !1;}function a(p){try{if(c(p))return !1;l.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=l.call(p);return f.test(q);}catch(v){return !1;}}l=Function.prototype.toString;g="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof g && "function" === typeof Object.defineProperty)try{m=Object.defineProperty({},"length",{get:function(){throw d;}});d={};g(function(){throw 42;},null,m);}catch(p){p !== d && (g=null);}else g=null;f=/^\s*class\b/;h=Object.prototype.toString;k="function" === typeof Symbol && !!Symbol.toStringTag;n=!((0 in [,]));"object" === typeof document && h.call(document.all) === h.call(document.all) && (b=function(p){var q;if(!(!n && p || "undefined" !== typeof p && "object" !== typeof p))try{q=h.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(v){}return !1;});r.exports=g?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{g(p,null,m);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(k)return a(p);if(c(p))return !1;q=h.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},function(r,b,a){var c;c=a(142);r.exports=function(l){return ("number" === typeof l || "bigint" === typeof l) && !c(l) && Infinity !== l && -Infinity !== l;};},function(r,b,a){r.exports=a(323);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function l(){}l.prototype.P8a=function(g){var m;m=Reflect.getMetadata(c.Kka,g);g=Reflect.getMetadata(c.MVa,g);return {n3a:m,Mlc:g || ({})};};l.prototype.hZb=function(g){return Reflect.getMetadata(c.NVa,g) || [];};return l;})();b.xka=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);b.rcb=function(l){return l instanceof RangeError || l.message === c.Syb;};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(41);g=a(68);m=a(97);r=(function(){function d(f){this.qAb=f;}d.prototype.Fkc=function(){return this.qAb();};return d;})();b.Yja=r;b.l=function(d){return function(f,h,k){var n;if(void 0 === d)throw Error(c.tzb(f.name));n=new g.Metadata(l.ZT,d);"number" === typeof k?m.PL(f,h,k,n):m.k2(f,h,n);};};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(109);g=a(68);m=a(661);r=(function(){function d(f,h,k,n){this.id=l.id();this.type=f;this.Gh=k;this.name=new m.vyb(h || "");this.gd=[];f=null;"string" === typeof n?f=new g.Metadata(c.CD,n):n instanceof g.Metadata && (f=n);null !== f && this.gd.push(f);}d.prototype.sab=function(f){for(var h=0,k=this.gd;h < k.length;h++){if(k[h].key === f)return !0;}return !1;};d.prototype.isArray=function(){return this.sab(c.vH);};d.prototype.J5b=function(f){return this.Iza(c.vH)(f);};d.prototype.Zxa=function(){return this.sab(c.CD);};d.prototype.kya=function(){return this.gd.some(function(f){return f.key !== c.ZT && f.key !== c.vH && f.key !== c.i5 && f.key !== c.PU && f.key !== c.CD;});};d.prototype.ecb=function(){return this.Iza(c.fRa)(!0);};d.prototype.yYb=function(){return this.Zxa()?this.gd.filter(function(f){return f.key === c.CD;})[0]:null;};d.prototype.bXb=function(){return this.kya()?this.gd.filter(function(f){return f.key !== c.ZT && f.key !== c.vH && f.key !== c.i5 && f.key !== c.PU && f.key !== c.CD;}):null;};d.prototype.Iza=function(f){var h;h=this;return function(k){var q;for(var n=0,p=h.gd;n < p.length;n++){q=p[n];if(q.key === f && q.value === k)return !0;}return !1;};};return d;})();b.b6=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(220);l=a(221);r=(function(){function g(m){this.Mc=m;this.XU=new l.yia(this.Mc);this.Ama=new c.t3(this.Mc);}g.prototype.when=function(m){return this.XU.when(m);};g.prototype.X2=function(){return this.XU.X2();};g.prototype.Ty=function(m){return this.Ama.Ty(m);};return g;})();b.cH=r;},function(r,b,a){var g;function c(m){return function(d){function f(h){return null !== h && null !== h.target && h.target.Iza(m)(d);}f.efb=new g.Metadata(m,d);return f;};}function l(m,d){m=m.yC;return null !== m?d(m)?!0:l(m,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(41);g=a(68);b.Pob=l;b.Qnb=c;a=c(r.CD);b.Pfb=a;b.Xob=function(m){return function(d){var f;if(null !== d){f=d.UW[0];return "string" === typeof m?f.Gh === m:m === d.UW[0].$n;}return !1;};};},function(r,b,a){var g;function c(m,d){this.kh=d;this.hC=Math.floor(m);this.display=this.hC + " " + this.kh.name;}function l(m,d,f){this.kh=m;this.name=d;this.Nr=f?f:this;(0,g.Kq)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.cv=b.QU=void 0;g=a(54);l.prototype.hY=function(m){return this.kh == m.kh;};l.prototype.toJSON=function(){return this.name;};b.QU=l;c.prototype.ia=function(m){return this.kh.hY(m)?this.hC:Math.floor(this.hC * this.kh.kh / m.kh);};c.prototype.vib=function(m){return this.kh.hY(m)?this.hC:this.hC * this.kh.kh / m.kh;};c.prototype.as=function(m){return new c(this.ia(m),m);};c.prototype.to=function(m){return new c(this.ia(m),m);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.hC,units:this.kh.name};};c.prototype.add=function(m){return this.g3a(m);};c.prototype.Ea=function(m){return this.g3a(m,function(d){return -d;});};c.prototype.scale=function(m){return new c(this.ia(this.kh.Nr) * m,this.kh.Nr);};c.prototype.Jm=function(m){return this.ia(this.kh.Nr) - m.ia(this.kh.Nr);};c.prototype.hY=function(m){return 0 == this.Jm(m);};c.prototype.Ccb=function(){return 0 == this.hC;};c.prototype.$xa=function(){return 0 > this.hC;};c.prototype.lcb=function(){return 0 < this.hC;};c.prototype.g3a=function(m,d){d=void 0 === d?function(f){return f;}:d;return new c(this.ia(this.kh.Nr) + d(m.ia(this.kh.Nr)),this.kh.Nr);};b.cv=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HSa="PlatformConfigOverridesSymbol";},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,l,g,m,d,f;b=a(53);c=a(336);l=a(688);g=a(334);m=a(224);d=a(693);f=a(339);a=b(c(["filter"],d,function(h,k){return g(k)?m(function(n,p){h(k[p]) && (n[p]=k[p]);return n;},{},f(k)):l(h,k);}));r.exports=a;},function(r,b,a){var c,l;c=a(337);l=a(687);r.exports=function(g,m,d){return function(){var f,h;if(0 === arguments.length)return d();f=Array.prototype.slice.call(arguments,0);h=f.pop();if(!c(h)){for(var k=0;k < g.length;){if("function" === typeof h[g[k]])return h[g[k]].apply(h,f);k+=1;}if(l(h))return m.apply(null,f)(h);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={oa:function(){return this.c3["@@transducer/init"]();},result:function(b){return this.c3["@@transducer/result"](b);}};},function(r,b,a){var c,l,g,m,d;b=a(125);c=a(223);l=a(694);g=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(f){var h,k,n,p;if(Object(f) !== f)return [];h=[];k=d && l(f);for(n in f){!c(n,f) || k && "length" === n || (h[h.length]=n);}if(g)for(k=m.length - 1;0 <= k;){n=m[k];if(p=c(n,f)){a:{for(p=0;p < h.length;){if(h[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (h[h.length]=n);--k;}return h;}:function(f){return Object(f) !== f?[]:Object.keys(f);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,l=a.length,g=Array(l);c < l;){g[c]=b(a[c]);c+=1;}return g;};},function(r,b,a){var c,l,g;c=a(225);l=a(125);b=a(53);g=a(697);a=b(function(m,d){return 1 === m?l(d):c(m,g(m,[],d));});r.exports=a;},function(r){r.exports=function(b,a,c){for(var l=0,g=c.length;l < g;){if(b(a,c[l]))return !0;l+=1;}return !1;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iLa="DrmDataFactorySymbol";},function(r,b,a){var l;function c(g,m,d,f,h){this.version=g;this.YK=m;this.DFa=d;this.gn=f;this.Vw=h;this.pm=new l.YNa(g,m,d,f,h);this.Ln=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Mja=void 0;l=a(721);c.prototype.load=function(g){var m;m=this;return this.pm.load(g).then(function(){var d;m.Ln=null !== (d=m.pm.Ln) && void 0 !== d?d:[];});};c.prototype.add=function(g){this.Ln.push(g);return this.pm.set(this.Ln);};c.prototype.remove=function(g,m){g=this.F8a(this.JP(g,m));return 0 <= g?(this.Ln.splice(g,1),this.pm.set(this.Ln)):Promise.resolve();};c.prototype.update=function(g,m){m=this.F8a(this.JP(g,m));return 0 <= m?(this.Ln[m]=g,this.pm.set(this.Ln)):Promise.resolve();};c.prototype.JP=function(g,m){for(var d=0;d < this.Ln.length;++d){if(m(this.Ln[d],g))return this.Ln[d];}};c.prototype.F8a=function(g){return g?this.Ln.indexOf(g):-1;};b.Mja=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XWa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.lMa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.NSa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MH=void 0;r=b.MH || (b.MH={});r[r.Request=0]="Request";r[r.mUa=1]="Renewal";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.U5=void 0;a.s1b=function(c){return "ID" + (c + 1);};a.unb=function(c){return Number(c.substr(2)) - 1;};b.U5=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y,z,B,A,C){var D;D=this;this.Ia=y;this.AE=z;this.config=B;this.Tq=A;this.$F=C;this.keyStatuses=new p.ic({});this.bBa=function(E){var G,F,L,O,K,I;try{F=D.nn.Xra(E);L=F.EK;O=F.messageType;K=F.sessionId;D.Fy=D.Fy || F.Fy;D.D1(K);D.log.trace("Received " + E.type + " event",{sessionId:K,messageType:O,keyIds:D.Fy});if(O === b.mka){if(D.config.Qsa){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.Pg=m.aj.nr;D.em=t.kL;}D.em === t.ki && D.Kr(d.Xu.Fjb);D.em === t.kL && D.Kr(d.Xu.Gjb);I={al:L,r2a:O,Pg:D.Pg};null === (G=D.Ngb) || void 0 === G?void 0:G.call(D,I);D.d_ && (D.Fwa(L)?D.MF(new n.rd(g.aa.ALa)):(D.d_.resolve(I),D.d_=void 0));}catch(M){D.MF(M);}};this.$Aa=function(E){var G,F,L,O,K,H,J,N,P,W,V,S,qa,xa,Aa,Oa,T;F=E.target;L=F.keyStatuses;D.D1(F.sessionId);D.log.trace("Received event: " + E.type);try{K=null === (G=D.context) || void 0 === G?void 0:G.tca;E=[];for(var I=oa(L),M=I.next();!M.done;M=I.next()){H=oa(M.value);J=H.next().value;N=H.next().value;P=D.AE.encode(new Uint8Array(J));E.push({Jq:P,status:N,height:null === K || void 0 === K?void 0:K[P]});}E.sort(function(X,Q){return (X.height || 0) - (Q.height || 0);});W=E.map(function(X){return X.Jq;});V=E.map(function(X){return X.height;});S=E.map(function(X){return X.status;});D.vya=W + ", " + V + ", " + S;D.log.trace("KeyStatus: " + D.vya);K={};for(var U=oa(L),fa=U.next();!fa.done;fa=U.next()){qa=oa(fa.value);xa=qa.next().value;Aa=qa.next().value;Oa=D.AE.encode(new Uint8Array(xa));T=w[Aa];K[Oa]=T.status;D.iK(Oa,T.error) && (O=new h.Vh(T.error));}D.keyStatuses.set(K);}catch(X){O=new h.Vh(g.aa.Uxb);O.KX(X);}O?D.au?D.kca(O):D.SZ(O):(D.nn.w9() || D.Ecb(),D.Pg !== m.aj.Mp || D.nn.Xpa() || (D.config.Qsa?D.log.trace("Disabling license renewal"):D.ydc()));};this.ns=function(E){var G;G=D.nn.tB(E);D.log.error("Received event: " + E.type,G);D.MF(G);D.kca(G);D.Wr || D.au || D.SZ(G);};this.L8b=function(E){D.log.error("MediaKeySession closed unexpectedly: " + E);D.SZ(new n.rd(g.aa.kja,u[E]));};this.MF=function(E){var G;D.Wr && D.close().then(function(){var F;D.log.trace("Issuing a generate challenge error");null === (F=D.Wr) || void 0 === F?void 0:F.reject(E);D.Wr=void 0;},function(F){var L;D.log.error("EmeSession closed with an error.",D.nn.tB(F));null === (L=D.Wr) || void 0 === L?void 0:L.reject(E);D.Wr=void 0;});null === (G=D.d_) || void 0 === G?void 0:G.reject(E);};this.n3b=function(){var E;null === (E=D.Wr) || void 0 === E?void 0:E.resolve();D.Wr=void 0;};this.kca=function(E){D.log.error("Failed to add license",E);return D.close().then(function(){var G;D.log.trace("Issuing a license error");D.Wr=void 0;null === (G=D.au) || void 0 === G?void 0:G.reject(E);D.au=void 0;},function(G){var F;D.log.error("EmeSession closed with an error.",D.nn.tB(G));D.em === t.kL && D.Kr(d.Xu.Z_a);D.Wr=void 0;null === (F=D.au) || void 0 === F?void 0:F.reject(E);D.au=void 0;}).then(function(){throw E;});};this.Ecb=function(){D.au && (D.log.info("Successfully added license"),D.em === t.ki?D.Kr(d.Xu.S_a):D.em === t.kL && D.Kr(d.Xu.Y_a),D.au.resolve(),D.au=void 0);};this.SZ=function(E){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.Wr=void 0;D.au=void 0;null === (G=D.Kgb) || void 0 === G?void 0:G.call(D,E);},function(G){var F;D.log.error("EmeSession closed with an error.",D.nn.tB(G));D.Wr=void 0;D.au=void 0;null === (F=D.Kgb) || void 0 === F?void 0:F.call(D,E);});};this.Kr=function(E){D.yd.push({time:D.Ia.Rb(),H_:E});};this.fkb=!1;this.log=x.fb("EmeSession");this.em=t.zkc;this.Gi=C.Z3a();this.nn=C.Y3a();this.yd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.QLa=b.mka=b.nka=void 0;l=a(5);g=a(4);m=a(57);d=a(349);r=a(233);f=a(346);h=a(98);k=a(64);n=a(36);p=a(74);q=a(350);v=a(43);(function(x){x[x.zkc=0]="unknown";x[x.create=1]="create";x[x.load=2]="load";x[x.ki=3]="license";x[x.kL=4]="renewal";x[x.stop=5]="stop";x[x.closed=6]="closed";})(t || (t={}));b.nka="license-request";b.mka="license-renewal";w={usable:{status:r.hx.Mpb},expired:{status:r.hx.Ov,error:g.aa.Pka},released:{status:r.hx.released},"output-not-allowed":{status:r.hx.ehb,error:g.aa.yRa},"output-restricted":{status:r.hx.ehb,error:g.aa.Qka},"output-downscaled":{status:r.hx.N9b},"status-pending":{status:r.hx.Vhc},"internal-error":{status:r.hx.Y1b,error:g.aa.Txb}};u={"internal-error":g.Y.yub,"closed-by-application":g.Y.uub,"release-acknowledged":g.Y.Cub,"hardware-context-reset":g.Y.ija,"resource-evicted":g.Y.Eub};c.prototype.PP=function(){return this.$F.uca;};c.prototype.z9a=function(){return this.vya;};c.prototype.KB=function(){return this.sessionId;};c.prototype.close=function(){var x;x=this;this.Ngb=this.context=void 0;this.em=t.closed;this.yd=[];void 0 !== this.qfa && (mb.clearTimeout(this.qfa),this.qfa=void 0);return this.Gi.Y2b()?(this.log.trace("Closing the session"),this.Gi.Yjb(this.bBa),this.Gi.Vjb(this.$Aa),this.Gi.Tjb(this.ns),this.mediaKeys=void 0,this.Tq.Cs(this.config.w0a,this.Gi.close()).then(function(){x.log.info("Closed the session");}).catch(function(y){x.log.error("Close failed",y);x.nn.tB(y).code=g.aa.Wxb;throw y;})):Promise.resolve(void 0);};c.prototype.Yv=function(){return this.$F.Yv();};c.prototype.Gwa=function(){return void 0 !== this.uk;};c.prototype.createSession=function(x,y,z){var B;B=this;this.context=z;this.Pg=y;this.em=t.create;this.Kr(d.Xu.qdb);return (x.lab()?Promise.resolve():this.Tq.Cs(this.config.x0a,this.Gi.createMediaKeys(this.$F)).then(function(A){B.log.trace("Created media keys");return B.AHb(A).then(function(){return x.T_a(A);}).catch(function(C){return Promise.reject(B.BCa(C,g.aa.Fub));});})).then(function(){B.mediaKeys=x.mediaKeys;try{B.Gi.createSession(B.mediaKeys,v.TEMPORARY);B.Gi.U_a(B.bBa);B.Gi.Q_a(B.$Aa);B.Gi.N_a(B.ns);B.Gi.jGb(B.L8b);B.D1(B.Gi.KB());}catch(A){return Promise.reject(B.BCa(A,g.aa.vub));}}).catch(function(A){return Promise.reject(B.BCa(A,g.aa.MT));});};c.prototype.jgc=function(x){this.Tj=x;this.log.K_a("xid",x.sa);};c.prototype.dWb=function(x,y){var z;z=this;return this.generateRequest(x,y).then(function(){z.log.trace("Returning the challenge promise");return z.d_.promise;});};c.prototype.eWb=function(x,y){this.generateRequest(x,y);return this.Wr.promise;};c.prototype.R_a=function(x){this.$e=x.$e;x=x.uk.map(function(y){return y.data;});this.Fwa(x)?(this.log.error("The license buffer is empty"),this.MF(new h.Vh(g.aa.zLa,g.Y.xLa))):(this.em === t.ki && (this.Kr(d.Xu.Ejb),this.uk=x,this.V5a=this.nn.NP(this.Fy,x),this.n3b()),this.em === t.kL && (this.Kr(d.Xu.Hjb),this.uk=x,this.V5a=this.nn.NP(this.Fy,x),this.Jpa()));};c.prototype.vGb=function(x){this.em === t.kL?(this.Kr(d.Xu.Ijb),this.SZ(x)):this.MF(x);};c.prototype.Jpa=function(){var x,y;x=this;if(!this.uk)return this.kca(new h.Vh(g.aa.zLa,g.Y.CLa));this.au=new q.GU();y=this.uk;this.uk=void 0;this.Tq.Cs(this.config.A0a,this.Gi.update(y,this.em === t.ki?f.MH.Request:f.MH.mUa,this.Fy)).then(function(){x.nn.w9() && x.Ecb();}).catch(function(z){z=x.nn.tB(z);z.code=g.aa.u5;z.message="Unable to update the EME";x.log.error(z.message,z);x.kca(z);});return this.au.promise;};c.prototype.dgc=function(x){this.Ngb=x;};c.prototype.Yfc=function(x){this.Kgb=x;};c.prototype.NP=function(){return this.V5a;};c.prototype.generateRequest=function(x,y){var z;z=this;this.em=t.ki;this.log.trace("Generating a license challenge");this.Wr=new q.GU();this.d_=new q.GU();return x?this.Fwa(x)?(x=new h.Vh(g.aa.yLa,g.Y.xLa),this.MF(x),Promise.reject(x)):this.Tq.Cs(this.config.x8,this.Gi.generateRequest(this.nn.tva(),x,y)).then(function(){z.D1(z.Gi.KB());}).catch(function(B){var A,C;A=new h.Vh(g.aa.W3,B instanceof k.Us?g.Y.NT:g.Y.rn);try{C=z.nn.tB(B);A.vd=C.vd;A.message="Unable to generate request.";A.KX(B);}catch(D){}z.log.error("Unable to generate a license request",A);z.MF(A);return Promise.reject(A);}):(x=new h.Vh(g.aa.yLa,g.Y.CLa),this.MF(x),Promise.reject(x));};c.prototype.AHb=function(x){return this.Tq.Cs(this.config.z0a,this.Gi.setServerCertificate(x,this.nn.vaa()));};c.prototype.D1=function(x){x && x !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + x),this.sessionId=x,this.log.K_a("sessionId",x));};c.prototype.ydc=function(){var x;x=this;this.fkb || (this.fkb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.QF}),this.qfa=mb.setTimeout(function(){x.qfa=void 0;x.jL();},this.config.QF.ia(l.va)));};c.prototype.e3b=function(x){var y,z,B;return 1080 < (null !== (B=null === (z=null === (y=this.context) || void 0 === y?void 0:y.tca) || void 0 === z?void 0:z[x]) && void 0 !== B?B:0);};c.prototype.iK=function(x,y){return y === g.aa.Qka?this.e3b(x)?this.config.ghb:this.config.fhb:!!y;};c.prototype.jL=function(){this.log.trace("Initiating a renewal request");this.Pg=m.aj.nr;this.em=t.kL;this.nn.Sqa()?this.nn.Exa(this.Gi):this.K9();};c.prototype.K9=function(){var x;x=this;this.Gi.K9(this.mediaKeys,v.TEMPORARY,this.bBa,this.$Aa,this.ns).then(function(){x.log.debug("Creating session to renew license");x.D1(x.Gi.KB());}).catch(function(){x.SZ(new h.Vh(g.aa.W3));});};c.prototype.Fwa=function(x){return 0 === x.length || x.reduce(function(y,z){return y || 0 === z.length;},!1);};c.prototype.BCa=function(x,y){var z,B;if((null === x || void 0 === x?0:x.code) && (null === x || void 0 === x?0:x.xc))return x;B=(0,v.Nva)(null === x || void 0 === x?void 0:x.message);return new h.Vh(y,x instanceof k.Us?g.Y.NT:g.Y.rn,null === (z=null === B || void 0 === B?void 0:B.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === x || void 0 === x?void 0:x.message,x);};b.QLa=c;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.W5a=b.Xu=void 0;(function(c){c[c.qdb=0]="licenseStarted";c[c.Fjb=1]="receivedLicenseChallenge";c[c.Ejb=2]="receivedLicense";c[c.Gjb=3]="receivedRenewalChallengeComplete";c[c.Hjb=4]="receivedRenewalLicenseComplete";c[c.Ijb=5]="receivedRenewalLicenseFailed";c[c.wcc=6]="receivedIndivChallengeComplete";c[c.xcc=7]="receivedIndivLicenseComplete";c[c.S_a=8]="addLicenseComplete";c[c.Y_a=9]="addRenewalLicenseComplete";c[c.Z_a=10]="addRenewalLicenseFailed";})(a=b.Xu || (b.Xu={}));b.W5a=function(c){switch(c){case a.qdb:return "lg";case a.Fjb:return "lc";case a.Ejb:return "lr";case a.Gjb:return "renew_lc";case a.Hjb:return "renew_lr";case a.Ijb:return "renew_lr_failed";case a.wcc:return "ilc";case a.xcc:return "ilr";case a.S_a:return "ld";case a.Y_a:return "renew_ld";case a.Z_a:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GU=void 0;b.GU=function(){var a;a=this;this.promise=new Promise(function(c,l){a.resolve=c;a.reject=l;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hQa="MediaKeySystemAccessInternalFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vOa="KeySystemProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cla="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RQa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kLa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PLa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bKa="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jRa="OneWayCounterFactorySymbol";},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.uia=void 0;r=a(0);a=a(1);l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(m){for(var d=new Uint8Array(m.length / 2),f=0;f < d.length;f++){d[f]=this.xob(m.substr(2 * f,2));}return d;};c.prototype.encode=function(m){var k;for(var d="",f=m.length,h=0;h < f;h++){k=m[h];d+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return d;};c.prototype.FJ=function(m,d){var f;f="";for(d<<=1;d--;){f=(("0123456789ABCDEF")[m & 15] || "0") + f;m>>>=4;}return f;};c.prototype.xob=function(m){var d;d=m.length;if(7 < d)throw Error("hex to long");for(var f=0,h=0;h < d;h++){f=16 * f + l[m[h]];}return f;};g=c;g=r.__decorate([(0,a.$)()],g);b.uia=g;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wia=void 0;r=a(0);a=a(1);g=Array.prototype.slice;m=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");g=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};f={};h={};k={};n=/\s+/g;[m,g].forEach(function(p){var v;for(var q=p.length;q--;){v=p[q];d[v]=q << 18;f[v]=q << 12;h[v]=q << 6;k[v]=q;}});c.prototype.encode=function(p){return l.ota(p,m,"=");};c.prototype.decode=function(p){return l.zsa(p);};c.zsa=function(p){var q,v,t;p=p.replace(n,"");q=p.length;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(v + t);for(var w=0,u=0,x;u < v;){x=d[p[w++]] + f[p[w++]] + h[p[w++]] + k[p[w++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");q[u++]=x >>> 16;q[u++]=x >>> 8 & 255;q[u++]=x & 255;}if(0 < t && (x=d[p[w++]] + f[p[w++]],q[u++]=x >>> 16,1 < t && (x+=h[p[w++]],q[u++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.ota=function(p,q,v){for(var t="",w=0,u=p.length,x=u - 2,y;w < x;){y=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");t+=q[y >>> 18] + q[y >>> 12 & 63] + q[y >>> 6 & 63] + q[y & 63];}if(w == x){y=(p[w++] << 8) + p[w++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");t+=q[y >>> 10] + q[y >>> 4 & 63] + q[y << 2 & 63] + v;}else if(w == u - 1){y=p[w++];if(!(0 <= y && 255 >= y))throw Error("not bytes");t+=q[y >>> 2] + q[y << 4 & 63] + v + v;}return t;};g=l=c;g=l=r.__decorate([(0,a.$)()],g);b.wia=g;},function(r,b,a){var l,g;function c(){this.Ur={};this.id="$es$" + l.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Ik=void 0;r=a(0);a=a(1);c.prototype.addListener=function(m,d,f){var h,k;h="$netflix$player$order" + this.id + "$" + m;if(this.Ur){k=this.Ur[m]?this.Ur[m].slice():[];f && (d[h]=f);0 > k.indexOf(d) && (k.push(d),k.sort(function(n,p){return (n[h] || 0) - (p[h] || 0);}));this.Ur[m]=k;}};c.prototype.removeListener=function(m,d){if(this.Ur && this.Ur[m]){for(var f=this.Ur[m].slice(),h;0 <= (h=f.indexOf(d));){f.splice(h,1);}this.Ur[m]=f;}};c.prototype.Zc=function(m,d,f){var h;if(this.Ur){h=this.mva(m);for(m={lM:0};m.lM < h.length;(m={lM:m.lM},m.lM++)){f?(function(k){return function(){var n;n=h[k.lM];setTimeout(function(){n(d);},0);};})(m)():h[m.lM].call(this,d);}}};c.prototype.Ji=function(){this.Ur=void 0;};c.prototype.on=function(m,d,f){this.addListener(m,d,f);};c.prototype.mva=function(m){var d;return null !== (d=this.Ur && (this.Ur[m] || (this.Ur[m]=[]))) && void 0 !== d?d:[];};g=l=c;g.counter=0;g=l=r.__decorate([(0,a.$)()],g);b.Ik=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sKa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bja="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aka=b.Nwb=void 0;b.Nwb=function(){};b.Aka="MseConfigSymbol";},function(r,b,a){var l;function c(g){this.dCb=void 0 === g?!1:g;this.Lf={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.zla=void 0;r=a(0);a=a(1);c.prototype.add=function(g,m){var d;m=void 0 === m?0:m;d=this.Lf[m];d?this.dCb && -1 !== d.indexOf(g) || d.push(g):this.Lf[m]=[g];};c.prototype.remove=function(g,m){this.KA(g,void 0 === m?0:m);};c.prototype.removeAll=function(g){this.KA(g);};c.prototype.flatten=function(){var g;g=this;return Object.keys(this.Lf).sort().reduce(function(m,d){return m.concat(g.Lf[d]);},[]);};c.prototype.KA=function(g,m){Object.entries(this.Lf).forEach(function(d){var f,h;f=oa(d);d=f.next().value;f=f.next().value;if(void 0 === m || m === parseInt(d)){-1 < (h=f.indexOf(g)) && f.splice(h,1);}});};l=c;l=r.__decorate([(0,a.$)()],l);b.zla=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yWa="UrlFactorySymbol";},function(r,b,a){var l,g,m;function c(d,f,h,k,n,p,q){this.debug=d;this.config=f;this.platform=h;this.gda=k;this.debug.assert(n && n != g.aa.Ho,"There should always be a specific error code");this.errorCode=n || g.aa.Ho;p && "object" === typeof p?(this.Ca=p.Ca || p.xc,this.Sf=p.Sf || p.vd,this.vta=p.vta || p.gp,this.Ub=p.Ub || p.details,this.PX=p.jl,this.B$=p.B$ || p.Bwc || p.rC,this.dF=p.dF || p.data,p.E_ && (this.E_=p.E_),this.Xl=p.Xl,this.method=p.method,this.Fda=p.Fda,this.alert=p.alert,this.wpa=p.wpa,this.$J=p.$J,!this.Ub && this.$J && (this.Ub=JSON.stringify(this.$J)),this.debug.assert(!this.Xl || this.Xl == this.Sf)):(this.Ca=p,this.Sf=q);this.stack=[this.errorCode];this.Ca?this.stack.push(this.Ca):this.Sf && this.stack.push(g.Y.Ho);this.Sf && this.stack.push(this.Sf);this.i$=this.platform.Kt + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.nTa=void 0;l=a(17);g=a(4);m=a(15);a(23);c.prototype.Zlb=function(d){this.fac=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.i$ + "]";this.Ub && (d+=" " + this.Ub);this.PX && (d+=" (CustomMessage: " + this.PX + ")");return d;};c.prototype.v2=function(){var d,f,h,k;this.PX && (h=["streaming_error"]);h || this.gda.Yv() !== l.V3 || ("80080017" == this.Sf && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Sf && (h=["pause_timeout"]));h || this.gda.Yv() !== l.hja || this.errorCode !== g.aa.wLa && this.errorCode !== g.aa.MT || (h=["no_cdm","platform_error","plugin_error"]);h || this.errorCode !== g.aa.kja || this.Ca !== g.Y.ija || (h=["pause_timeout"]);this.B$ === g.h5.hma && (this.bra("2018") || this.bra("2020")?h=["received_soad"]:this.bra("5000") && (h=["should_reset_device"]));k=this.PWb();k && (h=[k],this.PX=void 0);if(!h)switch(this.errorCode){case g.aa.t5:case g.aa.a5:case g.aa.vrb:case g.aa.Pka:this.fac && (h=["pause_timeout"]);break;case g.aa.SNa:case g.aa.TNa:h=this.Ca?["platform_error"]:["multiple_tabs"];break;case g.aa.Jja:case g.aa.CRa:case g.aa.Rka:case g.aa.wRa:h=["platform_error","plugin_error"];break;case g.aa.zU:h=["no_cdm","platform_error","plugin_error"];break;case g.aa.DLa:case g.aa.Ts:case g.aa.u5:switch(this.Sf){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case g.aa.yRa:case g.aa.Qka:h=["unsupported_output"];}!h && (0,g.ZLa)(this.Ca) && (h=this.Ca == g.Y.WT?["geo"]:["internet_connection_problem"]);h || this.errorCode !== g.aa.MT || this.Ca !== g.Y.rn || "S" !== this.platform.Kt || (h=["private_mode"]);if(!h)switch(this.xnb(this.Ca)){case g.Y.nma:h=["should_upgrade"];break;case g.Y.rRa:h=["should_reset_device"];break;case g.Y.qRa:h=["should_reload_device"];break;case g.Y.pRa:h=["should_exit_device"];break;case g.Y.Owb:case g.Y.DPa:h=["should_signout_and_signin"];break;case g.Y.Pwb:h=["internet_connection_problem"];break;case g.Y.xKa:h=["platform_error","plugin_error"];break;case g.Y.Atb:case g.Y.BNa:case g.Y.CNa:h=["private_mode"];break;case g.Y.kka:h=["should_reload_with_preferred_locales"];}h=h || [];h.push(this.platform.Kt + this.errorCode);if(this.Ca)switch(this.xnb(this.Ca)){case g.Y.sRa:h.push("incorrect_pin");break;default:h.push("" + this.Ca);}h={display:{code:this.i$,text:this.PX},messageIdList:h,alert:this.alert,alertTag:this.wpa,preferredAudioLocale:null === (d=this.$J) || void 0 === d?void 0:d.Oab,preferredTextLocale:null === (f=this.$J) || void 0 === f?void 0:f.Pab};this.config().NTb && (h.debugData=this.dF);return h;};c.prototype.xnb=function(d){var f;f=parseInt(d,10);return isNaN(f)?d:f;};c.prototype.bra=function(d){return ((0,m.Oa)(this.Sf)?this.Sf.toString():(0,m.Og)(this.Sf)?this.Sf:"").endsWith(d);};c.prototype.PWb=function(){if(this.errorCode === g.aa.DM && (this.Ca === g.Y.Mka || this.Ca === g.Y.oRa))return this.QWb(this.Ca === g.Y.Mka);};c.prototype.QWb=function(d){var f,h,k,n;k=this.config().browserInfo || ({});n=null === (f=k.os) || void 0 === f?void 0:f.name;f=((null === (h=k.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(n){case "windows":return 6 > h || 6 === h && 1 > f?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > f?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.nTa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uka="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OT="EventSourceFactorySymbol";},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.OT=b.cMa=void 0;r=a(0);l=a(361);a=a(1);c.prototype.create=function(){return new l.Ik();};g=c;g=r.__decorate([(0,a.$)()],g);b.cMa=g;b.OT="EventSourceFactorySymbol";},function(r,b,a){var l;function c(g,m,d,f,h,k){this.level=g;this.oq=m;this.timestamp=d;this.message=f;this.fd=h;this.index=void 0 === k?0:k;this.cwb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.cka=void 0;l=a(5);c.prototype.Sga=function(g,m){var d;d="" + this.message;this.fd.forEach(function(f){d+=f.WL(g,m);});return (this.timestamp.ia(l.va) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.cwb[this.level] || this.level) + "|" + this.oq + "| " + d;};b.cka=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CQa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XUa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YSa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MWa="VideoPlayerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iWa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YKa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aSa="PboGenerateScreenshotsCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VMa="HLSPlaylistBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qTa="PlayerPlaydataMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xla="StreamChangeDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iU="HLSLogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hNa="HeaderFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rNa="HttpDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lNa="HLSHeaderParserFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,l){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),l * a.byteLength / a.length);}:function(a,c,l){a.set(c,l);};r.exports={from:function(a,c,l,g){a=new a(c.length);for(var m="function" === typeof l,d=0;d < c.length;++d){a[d]=m?l.call(g,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){var m;m=null !== l && l.apply(this,arguments) || this;m.EJ=1536;return m;}c.__extends(g,l);g.wd=!0;return g;})(a(181).default);b.default=r;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="ac-3";return g;})(r);b.drb=a;r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="ec-3";return g;})(r);b.tub=r;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(103);r=a(24);g=l.Dka;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.Rh();this.fileSize=this.R.km();this.W=this.R.km();this.duration=this.R.km(!1,!0);this.u8b=this.R.km();this.R.km();this.y8b=this.R.km();this.E7b=this.R.kc();this.v8b=this.R.km();this.iVb=this.R.kc();this.R.ffa();this.bn={moof:{offset:this.u8b},sidx:{offset:this.v8b,size:this.iVb}};this.bn[l.JQa]={offset:this.y8b,size:this.E7b};this.R.offset - this.startOffset <= this.length - 24 && (this.x8b=this.R.km(),this.u7b=this.R.kc(),this.w8b=this.R.km(),this.t7b=this.R.kc(),this.bn[l.k5]={offset:this.x8b,size:this.u7b},this.bn[l.j5]={offset:this.w8b,size:this.t7b});return !0;};d.xf=g;d.wd=!1;return d;})(r.Bg);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(103);a=a(24);l=r.Eka;a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(){var d,k,n;this.Rh();1 <= this.version && this.R.ffa();d=this.R.kc();this.bn={};for(var f=this.startOffset + this.length,h=0;h < d;++h){k=this.R.IC();"uuid" === k && (k=this.R.ffa());n=this.R.km();this.bn[k]={offset:f,size:n};f+=n;}return !0;};m.xf=l;m.wd=!1;return m;})(a.Bg);b.default=a;},function(r,b){var a,c,l;Object.defineProperty(b,"__esModule",{value:!0});r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,nga:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,nga:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,nga:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,nga:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.LW={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);g=a(89);r=(function(m){function d(f,h,k,n,p){k=m.call(this,k,n,p) || this;k.gJb=f;k.wS=h;k.ze={};return k;}c.__extends(d,m);d.prototype.parse=function(f){var h,k,n,p,q,v;this.offset=0;h=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.kc();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=g.xN(this.kc());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.ffa();}if(0 === h.length && this.wS.U7a(p,k,n))break;if(k + n > this.view.byteLength)break;q=this.gJb[p];v=void 0;if(q){if((v=new q(this,p,k,n,h[0]),(h[0] || this).vW(v),v.parse(f)))this.config.BBa && q.wd?h.unshift(v):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + n;for(;h.length && this.offset > h[0].byteOffset + h[0].UK - 8;){v=h.shift();if(!v.zJ(f))return {done:!1,offset:this.offset,error:"finalize error in " + v.type + " box"};this.offset=v.byteOffset + v.UK;}if(0 === h.length && this.wS.J5a(p,k,n,v))break;}return !this.wS.done && (f=this.wS.endOffset?this.wS.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,Qfb:f}:{done:!0,offset:Math.min(this.wS.endOffset || Infinity,this.offset)};};d.prototype.vW=function(f){l.Bg.vW(this,f);};return d;})(a(837).Azb);b.zia=r;},function(r,b,a){var l;function c(g,m){g=m.indexOf(g);-1 !== g && m.splice(g,1);}Object.defineProperty(b,"__esModule",{value:!0});l=a(103);r=(function(){function g(m){this.endOffset=m;this.done=!1;}g.prototype.U7a=function(){return this.done;};g.prototype.J5a=function(m,d,f){return this.done=d + f >= this.endOffset;};return g;})();b.PKa=r;r=(function(){function g(m,d,f,h){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === h && (h=!1);this.Nw=m;this.d$=d;this.Tnb=f;this.CBa=h;this.done=!1;this.bn={};}g.prototype.U7a=function(m,d,f){-1 !== g.k0b.indexOf(m) && (this.bn[m]={offset:d,size:f});if(-1 !== this.Tnb.indexOf(m)){if((this.bn[m]={offset:d,size:f},this.CBa))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.Nw && -1 !== this.Nw.indexOf(m)?(m=1 < this.Nw.length?4096:0,this.endOffset=Math.max(d + f + m,this.endOffset || 0)):-1 !== this.d$.indexOf(m) && (m=this.Nw?4096:0,this.endOffset=Math.max(d + f + m,this.endOffset || 0));return this.done;};g.prototype.J5a=function(m,d,f,h){var k;k=this;if(-1 !== this.Tnb.indexOf(m))return this.done=!0;m === l.Dka && this.cmb(h.bn);m === l.Eka && this.cmb(h.bn);this.Nw && c(m,this.Nw);c(m,this.d$);return this.Nw && 0 === this.Nw.length && !this.d$.some(function(n){return k.bn[n];})?this.done=!0:this.done;};g.prototype.cmb=function(m){var d;d=this;this.bn=m;this.endOffset=(this.Nw || []).concat(this.d$).reduce(function(f,h){return d.bn[h]?(h=d.bn[h],Math.max(h.offset + (h.size || 4096),f)):f;},this.endOffset || 0);};g.k0b=["moov","sidx"];return g;})();b.ivb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XMa="HLSPlaylistTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VJa="CdnPartitionerSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cja=void 0;l=a(42);c.Ct=function(){var g;g={};return (g[l.pe.lH]="mp4a.40.2",g[l.pe.D4]="mp4a.40.2",g[l.pe.mH]="mp4a.40.2",g[l.pe.oA]="mp4a.40.42",g[l.pe.HT]="ec-3",g[l.pe.C3]="ec-3",g[l.pe.IT]="ec-3",g);};b.cja=c;},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.bd=b.Hq=void 0;(function(c){c[c.zm=0]="STOPPED";c[c.ae=1]="BUFFERING";c[c.Wg=2]="REBUFFERING";c[c.Am=3]="STREAMING";c[c.MU=4]="TRACK_SWITCH";})(a || (a={}));b.bd=a;b.Hq=function(c){return c === a.ae || c === a.Wg || c === a.MU;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ipa=void 0;b.Ipa=function(a,c,l){var g,m;g=!0;l.forEach(function(d){var f;if(g && a === d.profile){f=d.ranges;g=void 0 === f?c >= d.min && c <= d.max:f.some(function(h){return c >= h.min && c <= h.max;});!g && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (m=h.disallowedBy,!0);});}});return {inRange:g,h$:m};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BH=void 0;b.BH={kl:function(a){return a;}};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vx=b.ZM=void 0;c=a(398);(function(g){g[g.CR=0]="primary";g[g.yJ=1]="fallback";})(l=b.ZM || (b.ZM={}));r=(function(){function g(m,d){var f,h;void 0 === d && (d=!1);h=this;this.nKb=d;this.filters=(f={},f[l.CR]=[],f[l.yJ]=[],f);Array.isArray(m)?m.forEach(function(k){return h.and(k,l.CR);}):this.and(m);}g.prototype.and=function(m,d){void 0 === d && (d=l.CR);m !== c.BH && this.filters[d].push({filter:m,A3a:!0});return this;};g.prototype.or=function(m,d){void 0 === d && (d=l.CR);this.filters[d].push({filter:m,A3a:!1});return this;};g.prototype.filter=function(m){var d;d=this;[l.CR,l.yJ].forEach(function(f){d.filters[f]=d.filters[f].filter(function(h){return m(f,h.filter);});});};g.prototype.kl=function(m,d,f,h){var k;k=this;return [l.CR,l.yJ].reduce(function(n,p){return k.filters[p].reduce(function(q,v){v.A3a?q=v.filter.kl(q,d,f,h):0 === q.length && (q=v.filter.kl(m,d,f,h));return q;},n);},m);};return g;})();b.vx=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.mU=void 0;c=a(10);l=a(60);r=(function(){function g(m,d){this.console=m;this.config=d;this.UGa=!1;}g.prototype.kl=function(m,d,f,h){void 0 === f && (f=l.P.Pa);void 0 === h && (h=!1);c.M && this.console.trace("Filtering streams for fastplay",{UGa:this.UGa,At:f.Z,Ivc:h});if(this.UGa || f.Z >= this.config.P5b || !1 === h){d=m.filter(this.NRb);if(d.length)return d;c.M && this.console.trace("No drm streams to return");}d=m.filter(this.zLb);if(d.length)return d;c.M && this.console.trace("No clear streams to return");return m;};g.prototype.NRb=function(m){return m.Kj;};g.prototype.zLb=function(m){return !m.Kj;};return g;})();b.mU=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fA=b.zyb=void 0;c=a(0);l=a(257);r=(function(){function g(m,d){this.Va=m;this.QB=d?[d]:[];}Object.defineProperties(g.prototype,{value:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});g.prototype.addListener=function(m){-1 === this.QB.indexOf(m) && (this.QB=this.QB.slice(),this.QB.push(m));};g.prototype.removeListener=function(m){m=this.QB.indexOf(m);-1 !== m && (this.QB=this.QB.slice(),this.QB.splice(m,1));};return g;})();b.zyb=r;r=(function(g){function m(d,f){return g.call(this,d,f) || this;}c.__extends(m,g);m.Cmc=function(d,f,h){return new l.Ika(d,f,h,!1);};Object.defineProperties(m.prototype,{value:{get:function(){return this.Va;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});m.prototype.set=function(d){var f;f=this.Va;f !== d && (this.Va=d,this.QB.forEach(function(h){return h({oldValue:f,newValue:d});}));};return m;})(r);b.fA=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.jF=void 0;b.jF=function(a,c){var l;a=Math.abs(a);for(c=Math.abs(c);c;){l=c;c=a % c;a=l;}return a;};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pOa=void 0;c=a(0);l=a(20);g=a(2);a(132);m=c.__importDefault(a(3));d=a(183);f=a(152);r=(function(h){function k(n,p,q){p=h.call(this,p,q) || this;p.Yec=n;p.Ena=!1;p.q7=!1;p.reset();return p;}c.__extends(k,h);k.prototype.reset=function(){var n,p;if(this.Tc === d.Bm.Ffa || this.Tc === d.Bm.pending)null === (p=null === (n=this.AN) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n);h.prototype.reset.call(this);this.AN=this.Yec();this.q7=!1;this.HV=f.cj.ZG(l.P.Pa);};k.prototype.zg=function(){this.reset();(0,g.assert)(this.hq);this.hq.KDa(this);};k.prototype.Mda=function(){return this.HV;};k.prototype.Tf=function(){var n,p,q,v,t;try{this.Ena=!0;t=null !== (p=null === (n=this.AN) || void 0 === n?void 0:n.next()) && void 0 !== p?p:{done:!0};}finally{this.Ena=!1;this.iCb=m.default.time.fa();this.TKb();}t.done?(this.HV=f.cj.mHa,null === (v=null === (q=this.AN) || void 0 === q?void 0:q.return) || void 0 === v?void 0:v.call(q),this.AN=void 0):this.HV=t.value;};k.prototype.TKb=function(){this.q7 && this.r5a();};k.prototype.r5a=function(){var n,p;this.Ena?this.q7=!0:(this.q7=!1,null === (p=null === (n=this.AN) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n),this.AN=void 0);};k.prototype.Wa=function(){this.r5a();h.prototype.Wa.call(this);};k.prototype.ty=function(){return {state:d.Bm[this.state],nextWakeup:{ms:this.HV.timestamp.Z,type:f.V5[this.HV.type]},lastRunMono:this.iCb};};return k;})(d.dma);b.pOa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jVa=void 0;c=a(0);l=a(183);g=a(152);r=(function(m){function d(f,h,k,n){void 0 === n && (n={});k=m.call(this,k) || this;k.eEa=f;k.Gv=h;k.options=n;return k;}c.__extends(d,m);d.prototype.Mda=function(){return this.Tc === l.Bm.pending?this.eEa:g.cj.mHa;};d.prototype.Tf=function(){this.Gv();};d.prototype.zg=function(){this.options.Txc?(m.prototype.reset.call(this),this.hq.KDa(this)):this.Wa();};return d;})(l.dma);b.jVa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WSa=void 0;c=a(0);r=(function(l){function g(m,d){m=l.call(this,m) || this;m.P6a=d;m.name="PlaybackError";return m;}c.__extends(g,l);g.S2b=function(m){return m && m.message && m.stack && m.P6a?"PlaybackError" === (null === m || void 0 === m?void 0:m.name):!1;};return g;})(Error);b.WSa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Kc=void 0;r=a(0);r.__exportStar(a(407),b);r.__exportStar(a(919),b);r.__exportStar(a(408),b);r.__exportStar(a(920),b);r.__exportStar(a(921),b);r.__exportStar(a(922),b);r.__exportStar(a(409),b);r.__exportStar(a(924),b);r.__exportStar(a(925),b);r.__exportStar(a(410),b);c=a(28);Object.defineProperties(b,{Kc:{enumerable:!0,get:function(){return c.Kc;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fr=b.rT=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.f5b=2]="lowCpuPlaybackStarting";})(b.rT || (b.rT={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.fr || (b.fr={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Kl=void 0;r=b.Kl || (b.Kl={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.Am=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(411),b);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(926),b);r.__exportStar(a(927),b);r.__exportStar(a(928),b);r.__exportStar(a(412),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cN=void 0;r=(function(){function a(c){this.SZa=c;}Object.defineProperties(a.prototype,{oQ:{get:function(){return this.XBb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.SZa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Kkb:{get:function(){var c;c=this;return this.SZa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.XBb=!0;};a.prototype.c0=function(c,l){var g;g=this;this.result.then(function(m){g.oQ?l && l(m):c(m);});return this;};return a;})();b.cN=r;},function(r){function b(){}function a(c){this.n_a=c;this.sr=[];this.qh=null;}b.prototype.clear=function(){this.Lf=null;this.size=0;};b.prototype.find=function(c){var g;for(var l=this.Lf;null !== l;){g=this.Jo(c,l.data);if(0 === g)return l.data;l=l.hi(0 < g);}return null;};b.prototype.lowerBound=function(c){var d;for(var l=this.Lf,g=this.iterator(),m=this.Jo;null !== l;){d=m(c,l.data);if(0 === d)return (g.qh=l,g);g.sr.push(l);l=l.hi(0 < d);}for(d=g.sr.length - 1;0 <= d;--d){if((l=g.sr[d],0 > m(c,l.data)))return (g.qh=l,g.sr.length=d,g);}g.sr.length=0;return g;};b.prototype.upperBound=function(c){for(var l=this.lowerBound(c),g=this.Jo;null !== l.data() && 0 === g(l.data(),c);){l.next();}return l;};b.prototype.min=function(){var c;c=this.Lf;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Lf;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.qg=function(c){for(var l=this.iterator(),g;null !== (g=l.next());){c(g);}};a.prototype.data=function(){return null !== this.qh?this.qh.data:null;};a.prototype.next=function(){var c;if(null === this.qh){c=this.n_a.Lf;null !== c && this.$Ya(c);}else if(null === this.qh.right){do {if((c=this.qh,this.sr.length))this.qh=this.sr.pop();else {this.qh=null;break;}}while(this.qh.right === c);}else (this.sr.push(this.qh),this.$Ya(this.qh.right));return null !== this.qh?this.qh.data:null;};a.prototype.hL=function(){var c;if(null === this.qh){c=this.n_a.Lf;null !== c && this.TYa(c);}else if(null === this.qh.left){do {if((c=this.qh,this.sr.length))this.qh=this.sr.pop();else {this.qh=null;break;}}while(this.qh.left === c);}else (this.sr.push(this.qh),this.TYa(this.qh.left));return null !== this.qh?this.qh.data:null;};a.prototype.$Ya=function(c){for(;null !== c.left;){this.sr.push(c);c=c.left;}this.qh=c;};a.prototype.TYa=function(c){for(;null !== c.right;){this.sr.push(c);c=c.right;}this.qh=c;};r.exports=b;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qma=void 0;c=a(0).__importDefault(a(3));r=(function(){function l(g){this.bS=new Uint16Array(g.length);for(var m=0;m < g.length;++m){this.bS[m]=g.charCodeAt(m);}}l.prototype.encrypt=function(g){for(var m=this.bS.length,d="",f=0;f < g.length;++f){d+=String.fromCharCode(this.bS[f % m] ^ g.charCodeAt(f));}return encodeURIComponent(d);};l.prototype.decrypt=function(g,m){var d,f;void 0 === m && (m=!1);d=this.bS.length;f="";if(m)for((m=new Uint8Array(c.default.Q9(g)),g=0);g < m.length;g++){f+=String.fromCharCode(this.bS[g % d] ^ m[g]);}else for((m=decodeURIComponent(g),g=0);g < m.length;g++){f+=String.fromCharCode(this.bS[g % d] ^ m.charCodeAt(g));}return f;};return l;})();b.qma=r;},function(r,b){function a(c){var l,g;l=Math.abs(c);g=1 / (1 + l / 2);l=g * Math.exp(-l * l - 1.26551223 + g * (1.00002368 + g * (.37409196 + g * (.09678418 + g * (-.18628806 + g * (.27886807 + g * (-1.13520398 + g * (1.48851587 + g * (-.82215223 + .17087277 * g)))))))));return 0 <= c?l:2 - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.tTb=b.Rab=b.wP=void 0;b.wP=a;b.Rab=function(c){var l,g,d;if(2 <= c)return -100;if(0 >= c)return 100;l=1 > c?c:2 - c;g=Math.sqrt(-2 * Math.log(l / 2));g=-.70711 * ((2.30753 + .27061 * g) / (1 + g * (.99229 + .04481 * g)) - g);for(var m=0;2 > m;m++){d=a(g) - l;g+=d / (1.1283791670955126 * Math.exp(-(g * g)) - g * d);}return 1 > c?g:-g;};b.tTb=function(c){return 1 - a(c);};},function(r){function b(a){this.Una=a;this.Zg=[];this.ht=!1;this.tI=void 0;this.Vk={};}b.prototype.l8=function(a){this.Zg.length === this.Una && this.Zg.shift();Array.isArray(a)?this.Zg=this.Zg.concat(a):this.Zg.push(a);this.ht=!0;};b.prototype.VP=function(){return this.Zg.length;};b.prototype.Nqa=function(){var a;a=this.Zg;return 0 < a.length?a.reduce(function(c,l){return c + l;},0) / this.Zg.length:void 0;};b.prototype.m9=function(){var a,c;a=this.Zg;if(0 < a.length){c=this.Nqa();a=a.reduce(function(l,g){return l + g * g;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.Fv=function(a){var c,l,g;if(this.ht || void 0 === this.tI)(this.tI=this.Zg.slice(0).sort(function(m,d){return m - d;}),this.Vk={},this.ht=!1);if(void 0 === this.Vk[a]){c=this.tI;l=Math.floor(a / 100 * (c.length - 1) + 1) - 1;g=(a / 100 * (c.length - 1) + 1) % 1;this.Vk[a]=l === c.length - 1?c[l]:c[l] + g * (c[l + 1] - c[l]);}return this.Vk[a];};r.exports=b;},function(r,b,a){var m;function c(d){this.reset();this.igc(d);}function l(d){this.setInterval(d);this.reset();}function g(d){this.WD=new l(d);this.Mb=0;this.dd=null;}m=a(12);c.prototype.igc=function(d){this.kN=Math.pow(.5,1 / d);this.qV=d;};c.prototype.reset=function(d){d && d.xa && m.Oa(d.xa)?d.He && m.Oa(d.He)?(this.Cx=this.SBb,this.ur=d.xa,this.RD=d.He + d.xa * d.xa):(this.Cx=this.SBb,this.ur=d.xa,this.RD=d.xa * d.xa):this.RD=this.ur=this.Cx=0;};c.prototype.add=function(d){var f;if(m.Oa(d)){this.Cx++;f=this.kN;this.ur=f * this.ur + (1 - f) * d;this.RD=f * this.RD + (1 - f) * d * d;}};c.prototype.Vva=function(){var d,f,h;if(0 === this.Cx)return {xa:0,He:0};d=this.ur;f=this.RD;h=1 - Math.pow(this.kN,this.Cx);d/=h;f/=h;h=d * d;return {xa:d,He:f > h?f - h:0};};c.prototype.get=function(){var d;d=this.Vva();return {xa:Math.floor(d.xa),He:Math.floor(d.He)};};c.prototype.getState=function(){return 0 === this.Cx?null:{a:Number(this.ur.toPrecision(6)),s:Number(this.RD.toPrecision(6)),n:this.Cx};};c.prototype.Pd=function(d){if(m.wb(d) || !m.has(d,"a") || !m.has(d,"s") || !m.isFinite(d.a) || !m.isFinite(d.s))return (this.RD=this.ur=this.Cx=0,!1);this.ur=d.a;this.RD=d.s;m.has(d,"n") && m.Oa(d.n)?this.Cx=d.n:this.Cx=16 * this.qV;return !0;};l.prototype.setInterval=function(d){this.qV=d;this.kN=-Math.log(.5) / d;};l.prototype.reset=function(d){this.Ab=this.rh=null;d && m.isFinite(d.xa)?this.ur=d.xa:this.ur=0;};l.prototype.start=function(d){m.wb(this.rh) && (this.Ab=this.rh=d);};l.prototype.add=function(d,f,h){var k,n,p;m.wb(this.rh) && (this.Ab=this.rh=f);this.rh=Math.min(this.rh,f);f=Math.max(h - f,1);k=this.kN;n=Math.max(h,this.Ab);p=n - this.Ab;h=n - h;this.ur=this.ur * (0 < p?Math.exp(-k * p):1) + 8 * d / f * (1 - Math.exp(-k * f)) * (0 < h?Math.exp(-k * h):1);this.Ab=n;};l.prototype.get=function(d){var f;d=Math.max(d,this.Ab);f=this.ur * Math.exp(-this.kN * (d - this.Ab));d=1 - Math.exp(-this.kN * (d - this.rh));0 < d && (f/=d);return {xa:Math.floor(f)};};l.prototype.toString=function(){return "ewmav(" + this.qV + ")";};g.prototype.setInterval=function(d){this.WD.setInterval(d);};g.prototype.reset=function(d){this.WD.reset(d);this.Mb=0;this.dd=null;};g.prototype.start=function(d){!m.wb(this.dd) && d > this.dd && (this.Mb+=d - this.dd,this.dd=null);this.WD.start(d - this.Mb);};g.prototype.add=function(d,f,h){!m.wb(this.dd) && h > this.dd && (this.Mb+=f > this.dd?f - this.dd:0,this.dd=null);this.WD.add(d,f - this.Mb,h - this.Mb);};g.prototype.stop=function(d){this.dd=Math.max(m.wb(this.WD.Ab)?0:this.WD.Ab + this.Mb,m.wb(this.dd)?d:Math.min(this.dd,d));};g.prototype.get=function(d){return this.WD.get((m.wb(this.dd)?d:this.dd) - this.Mb);};g.prototype.toString=function(){return this.WD.toString();};r.exports={kub:c,uoc:l,iub:g};},function(r,b,a){var l,g;function c(m,d,f,h){l.call(this,f,h);this.Jx=new g(m);this.CCb=d;}l=a(153);g=a(417);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var m;m=this.Pq(0);l.prototype.shift.call(this);null !== m && this.Jx.l8(m);return m;};c.prototype.flush=function(){var m;m=this.get();this.Jx.l8(m);l.prototype.reset.call(this);return m;};c.prototype.get=function(){var m;m=this.RJ();return {sampleSize:this.VP(),wea:m,DAa:m.Bk?(m.gm - m.fm) / m.Bk:void 0};};c.prototype.VP=function(){return this.Jx.VP();};c.prototype.RJ=function(){return this.Jx.VP() < this.CCb?{fm:void 0,Bk:void 0,gm:void 0,sampleSize:void 0,Sj:void 0}:{fm:this.Jx.Fv(25),Bk:this.Jx.Fv(50),gm:this.Jx.Fv(75),sampleSize:this.Jx.VP(),Sj:this.Jx.Fv.bind(this.Jx)};};c.prototype.toString=function(){return "biqr(" + this.lO + "," + this.fe + "," + this.Yk + ")";};r.exports=c;},function(r,b,a){var l,g;function c(m){this.L={z_:m.maxc || 25,Kra:m.c || .5,Gmc:m.w || 15E3,$A:m.b || 5E3};l.call(this,this.L.Gmc,this.L.$A);this.YV();}l=a(153);g=a(186).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var m;m=this.Pq(0);l.prototype.shift.call(this);null !== m && (this.Mf.push(m,1),this.ht=!0);return m;};c.prototype.flush=function(){var m;m=this.get();this.Mf.push(m,1);this.ht=!0;l.prototype.reset.call(this);return m;};c.prototype.get=function(){return this.L$a();};c.prototype.MB=function(){var m;m=this.L$a();return {min:m.min,p10:m.nea,p25:m.fm,p50:m.Bk,p75:m.gm,p90:m.oea,max:m.max,centroidSize:m.DKb,sampleSize:m.sampleSize,centroids:m.Gj};};c.prototype.L$a=function(){var m;if(0 === this.Mf.size())return null;m=this.Mf.Sj([0,.1,.25,.5,.75,.9,1]);if(m[2] === m[4])return null;if(this.ht || !this.sd)(this.ht=!1,this.sd={min:m[0],nea:m[1],fm:m[2],Bk:m[3],gm:m[4],oea:m[5],max:m[6],Sj:this.Mf.Sj.bind(this.Mf),DKb:this.Mf.size(),sampleSize:this.Mf.n,Gj:this.SWb(),MB:this.MB.bind(this)});return this.sd;};c.prototype.SWb=function(){var m;if(0 === this.Mf.size())return null;if(!this.ht && this.sd)return this.sd.centroids;m=this.Mf.Sj([.25,.75]);if(m[0] === m[1])return null;this.Mf.size() > this.L.z_ && this.Mf.oB();m=this.Mf.El(!1).map(function(d){return {mean:d.wg,n:d.n};});return JSON.stringify(m);};c.prototype.H$a=function(){return this.Mf.summary();};c.prototype.size=function(){return this.Mf.size();};c.prototype.toString=function(){return "btdtput(" + this.lO + "," + this.fe + "," + this.Yk + "): " + this.Mf.summary();};c.prototype.YV=function(){this.Mf=new g(this.L.Kra,this.L.z_);};r.exports=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y;function c(z){this.config=z;this.QAb=z.Tma;}l=a(422).Wka;g=a(947).eKa;b=a(418);m=b.kub;d=b.iub;f=a(261).jub;h=a(262).dja;k=a(262).QKa;n=a(261).Dzb;p=a(419);q=a(420);v=a(423).RVa;t=a(948);w=a(949);u=a(263);x=a(950).rTa;y=a(951).eIa;c.prototype.constructor=c;c.prototype.create=function(z,B){var A,C,D,E;A=this.QAb[z];C=B[z];D={};A && Object.keys(A).forEach(function(G){D[G]=A[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":E=new l(this.config,new f(D.mw));break;case "discontiguous-ewma":E=new l(this.config,new d(D.mw));break;case "initial-discontiguous-ewma":E=new x(new d(D.mw),D.playerStates);break;case "wssl":E=new n(D.mw,D.max_n);break;case "iqr":E=new p(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":E=new q(D);break;case "ci":E=new l(this.config,new y(D,new g(D)));break;case "discrete-ewma":E=new m(D.hl);break;case "tdigest-history":E=new v(D);break;case "iqr-history":E=new t(D);break;case "avtp":E=new u();break;case "entropy":E=new w(D);break;case "deliverytime":E=new l(this.config,new y(D,new h(D)));break;case "deliverytime-ci":E=new l(this.config,new y(D,new k(D)));}E && (E.type=D.type);return E;};r.exports=c;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Wka=void 0;new (a(3).default.Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(l,g){this.config=l;this.filter=g;}c.prototype.Hi=function(){return new c(this.config,this.filter);};c.prototype.Vgc=function(l,g,m,d){var f,h,k;k=d.n1;if(!k || !k.fca())return !0;switch(this.config.a1b){case "requested":return !1;case "requested-low":return (k=k.ZDa(this.config.ita),k.sfb() > ((null === (f=d.SC) || void 0 === f?void 0:f.H0) || 0));case "inferred":k=k.ZDa(this.config.ita);l=k.Jza(l,g,m,this.config.r0);if(!l)break;return k.sfb() > ((null === (h=d.SC) || void 0 === h?void 0:h.H0) || 0);case "inferred-strict":if((k=k.ZDa(this.config.ita),k.Jza(l,g,m,this.config.r0)))return !1;}return !0;};c.prototype.add=function(l,g,m,d){this.Vgc(l,g,m,d) && this.filter.add(l,g,m,d);};c.prototype.get=function(l){if(this.filter.get)return this.filter.get(l);};c.prototype.start=function(l){this.filter.start && this.filter.start(l);};c.prototype.stop=function(l){this.filter.stop && this.filter.stop(l);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.Wka=r;},function(r,b,a){var l,g;function c(m){this.L={z_:m.maxc || 25,Kra:m.c || .5,ycc:m.rc || "none",XJ:m.hl || 7200};this.YV();this.hEb=this.L.ycc;this.qV=this.L.XJ;this.zma=Math.exp(Math.log(2) / this.qV);this.zma=Math.max(this.zma,1);this.H6=1;}l=a(12);g=a(186).TDigest;new (a(3).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var m;if(0 === this.Mf.size())return null;m=this.Mf.Sj([.25,.75]);if(m[0] === m[1])return null;this.Mf.size() > this.L.z_ && this.Mf.oB();m=this.Mf.El(!1).reduce((function(d,f){l.Oa(f.wg) && l.Oa(f.n) && d.push({mean:f.wg,n:f.n / this.H6});return d;}).bind(this),[]);return {tdigest:JSON.stringify(m)};};c.prototype.Pd=function(m){var d;if(l.wb(m) || !l.has(m,"tdigest") || !l.Og(m.tdigest))return !1;try{d=JSON.parse(m.tdigest);}catch(f){return !1;}d.forEach(function(f){l.isFinite(f.n) || (f.n=1);});m=d.map(function(f){return {wg:f.mean,n:f.n};});this.H6=1;this.Mf.OCa(m);void 0 === this.Mf.Sj(0) && this.YV();};c.prototype.get=function(){var m,d;m=this.Mf;d=m.Sj([0,.1,.25,.5,.75,.9,1]);return {min:d[0],nea:d[1],fm:d[2],Bk:d[3],gm:d[4],oea:d[5],max:d[6],Gj:m.El(!1)};};c.TYb=function(m){var d;d=new c({});l.wb(m) || l.wa(m) || !l.isArray(m.Gj) || (d.Mf.OCa(m.Gj),void 0 === d.Mf.Sj(0) && d.YV());m=d.Mf.Sj([.25,.75]);return m[0] === m[1]?null:function(f){return d.Mf.Sj(f);};};c.prototype.add=function(m){var d;d=1;"ewma" === this.hEb && (this.H6=d=this.H6 * this.zma);this.Mf.push(m,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Mf.summary() + ")";};c.prototype.YV=function(){this.Mf=new g(this.L.Kra,this.L.z_);};r.exports={RVa:c};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.X5=void 0;c=a(2);b.X5=(function(){function g(m,d,f){f.uJ && (l=new (a(958).yVa)(m,d));}g.instance=function(){(0,c.assert)(l,"expected StaticMediaProvider to exist");return l;};return g;})();},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);l=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);return m;})(Error);b.assert=function(g,m){if(!g)throw new l(m || "Assertion failed");};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.mNa=b.Gja=void 0;c=a(0);l=c.__importStar(a(12));g=c.__importDefault(a(3));m=a(991);d=a(992);f=(function(){return function(){this.Y8=new d.CU(100);this.Ida=new d.CU(100);};})();r=(function(){function h(k,n,p){var q,v,t;this.L=n;this.H=p;this.E7=k;q=this.cO=this.oN=this.nN=0;v=0;t=0;this.E7.length >= this.L.uda && (this.E7.forEach(function(w){!(w=w.get().mVb) || l.wa(w.avtp) || l.wa(w.neuhd) || (q+=w.avtp,v+=1 * w.neuhd,t++);}),this.cO=t,this.nN=q / t,this.oN=v / t);}Object.defineProperties(h.prototype,{EIb:{get:function(){return this.nN;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{GIb:{get:function(){return this.oN;},enumerable:!1,configurable:!0}});h.prototype.cca=function(){return this.cO >= this.L.uda && this.nN >= this.L.baselineHighAndStableThreshold.bwThreshold && this.oN < this.L.baselineHighAndStableThreshold.nethreshold;};return h;})();b.Gja=r;r=(function(h){function k(n,p,q){n=h.call(this,n,p,q) || this;n.pma=[];n.hUb={};n.Xnb=[];n.wB=new f();n.E7.length >= n.L.uda && (n.s_a("avtp",n.wB.Y8),n.s_a("neuhd",n.wB.Ida));return n;}c.__extends(k,h);k.prototype.cca=function(){var n;this.SYb();n=new m.sPa(this.H,this.Xnb,this.UIb);n.lCa(this.pma);n=n.qLb(this.L.wba.dxc);return this.Clc && 1 === n && this.cO >= this.L.uda;};k.prototype.kF=function(){var n,p,q,v;n={};p=g.default.time.now();q=new Date(p);v=q.getHours();n.currentMonoTime=p;n.currentTime=q.getTime();n.currentHour=v;return n;};k.prototype.W8a=function(n,p,q){n="avtp" === n?this.nN:this.oN;for(var v=p.m9(),t=0,w="skew" === q?3:4,u=0;u < p.Zg.length;u++){l.wa(n) || l.wa(v) || (t+=Math.pow(p.Zg[u] - n,w));}t/=p.Zg.length;return !l.wa(v) && 0 < v?t / Math.pow(v,w) - 3 * ("skew" === q?0:1):NaN;};k.prototype.m9a=function(n,p,q){var v;v=0;"lte" === q?v=n.reduce(function(t,w){return w <= p?t + 1:t;},0) / (1 * n.length):"gte" === q && (v=n.reduce(function(t,w){return w >= p?t + 1:t;},0) / (1 * n.length));return v;};k.prototype.wYb=function(n){var p,q;p=n.Fv(25);q=n.Fv(50);n=n.Fv(75);return l.wa(p) || l.wa(q) || l.wa(n)?NaN:0 < q?(n - p) / q:NaN;};k.prototype.KWb=function(n,p){n="avtp" === n?this.nN:this.oN;p=p.m9();return !l.wa(p) && !l.wa(n) && (0 < p || 0 < n) && 0 < n?(n - p) / (n + p):NaN;};k.prototype.RJ=function(n,p){n=n.Fv(p);return l.wa(n)?NaN:n;};k.prototype.normalize=function(n,p,q){return !isNaN(n) && 0 < q?(n - p) / q:NaN;};k.prototype.SYb=function(){var n,p,q,v,t,w,u,x,y,z,B,A;n=this;p=this.L.wba.Xdb.Wvc;q=this.L.wba.Xdb.Uvc;v=this.L.wba.Xdb.Vvc;x=[];A=0;this.Clc=!Object.keys(p).some(function(C){var D;B=NaN;if(!(p.hasOwnProperty(C) && q.hasOwnProperty(C) && v.hasOwnProperty(C) && !l.wa(n.wB) && n.wB.Y8 && n.wB.Ida) || 1 > n.cO || "number" !== typeof p[C] || "number" !== typeof q[C] || "number" !== typeof v[C])return !0;t=p[C];w=q[C];u=v[C];x=C.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":D=n.wB.Y8;break;case "neuhd":D=n.wB.Ida;break;default:D=void 0;}if("avtp" === y || "neuhd" === y){if(D)switch(z){case "last":B=D.Zg[n.cO - 1];break;case "mean":B="avtp" === y?n.nN:n.oN;break;case "niqr":B=n.wYb(D);break;case "skew":B=n.W8a(y,D,"skew");break;case "kurtosis":B=n.W8a(y,D,"kurtosis");break;case "std":B=D.m9();break;case "b":B=n.KWb(y,D);break;default:-1 !== C.search("[p][1-9]?[1-9]") && (B=n.RJ(D,Number(C.split("_p",2)[1])));}}else switch(C){case "fracAbove20Mbps":D=n.wB.Y8;B=l.wa(D)?NaN:n.m9a(D.Zg,2E4,"gte");break;case "fracBelow20p":D=n.wB.Ida;B=l.wa(D)?NaN:n.m9a(D.Zg,.15,"lte");break;case "hour_current":B=n.kF().currentHour;break;case "session_ct":B=n.cO;break;case "intercept":(B=t,n.UIb=B);}B=n.normalize(B,w,u);if(isNaN(B))return !0;"intercept" !== C && (n.pma.push(B),n.Xnb.push(t),n.hUb[C]=A,A+=1);});};k.prototype.s_a=function(n,p){this.E7.forEach(function(q){q=q.get().mVb;!q || "avtp" !== n && "neuhd" !== n || l.wa(q[n]) || p.l8(Number(q[n]));});};return k;})(r);b.mNa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.oM=void 0;c=a(0);l=a(76);g=a(428);m=a(20);d=a(2);f=a(8);h=a(429);k=a(267);n=a(431);p=a(432);r=(function(){function q(v,t,w){this.L=t;this.H=w;this.yA=new f.gVa();this.p7=0;this.Um=v.Um;this.O=v.O;this.mediaType=v.mediaType;this.TG=v.TG;this.QA=v.QA;this.mediaType === l.u.J?(t=this.Um,w=c.__read(t.streams,1)[0],this.zEb=new n.kma({w:t.maxWidth,cs:t.maxHeight},{w:t.TBa,cs:t.UBa}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.pna=k.NH.from({lu:w.framerate_value,Ft:w.framerate_scale}),this.Tna=this.pna.da()),void 0 !== t.bda && void 0 !== t.ada && (this.sCb=k.NH.from({lu:t.bda,Ft:t.ada}))):this.mediaType === l.u.T && (this.rAb=this.Um.streams[0].channels,this.BEb=48E3);this.ob=(this.IN=this.Tna) && this.IN.W;this.una=this.wZa=!1;this.Twa=-Infinity;this.Vdb=Infinity;v=q.GAb(this,v.rg);t=v.maxBitrate;w=v.Lc;this.qp=v.qp;this.maxBitrate=t;this.Lc=w;this.XEb=w.reduce(function(u,x){u[x.Sa]=x;return u;},{});!1;}q.GAb=function(v,t){var w,u,x,y,z,B,A;w=v.L;u=v.mediaType === l.u.J;x=!1;y=0;z=[];if(v.mediaType === l.u.T || v.mediaType === l.u.J){B=v.Um;A=B.streams.some(function(C){return C.Kj;});B.streams.forEach(function(C,D){var E,G,F;E=C.bitrate;G=!0;if(u){F=C.Kj;G=w.w$ && w.pha?t?!0:F === A:t && !F || !t && (F || !A);x=x || F;}G && E > y && (y=E);C=new p.mia({Ky:C,Ag:D,track:v,gs:G},w,v.H);z.push(C);});}else v.mediaType === l.u.Za && (B=v.Um,B=new p.mia({Ky:B.ttDownloadables["imsc1.1"],Ag:0,track:v,gs:!0,ejc:B.downloadableIds["imsc1.1"]},w,v.H),z.push(B));return {qp:x,maxBitrate:y,Lc:z};};Object.defineProperties(q.prototype,{Eda:{get:function(){return !this.te && 0 === this.p7;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{te:{get:function(){var v;return this.mediaType === l.u.Za?!0:this.ta?!(null === (v=this.yA.value) || void 0 === v || !v.te):!!this.Zq && !!this.yA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wCa:{get:function(){return this.wZa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{K:{get:function(){return String(this.O.K);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === l.u.Za?this.Um.id:this.Um.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{iu:{get:function(){return this.JCb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{da:{get:function(){return this.IN;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.pna;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Uca:{get:function(){return this.sCb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mm:{get:function(){return this.zEb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.rAb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.BEb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === l.u.Za?this.Um.rawTrackType:this.Um.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{R1:{get:function(){return this.mediaType === l.u.Za?this.Um.rawTrackType:this.Um.R1;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{JK:{get:function(){return this.ICb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zq:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dK:{get:function(){return this.yA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{laa:{get:function(){return this.da.W;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kaa:{get:function(){return this.da.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ca:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qua:{get:function(){return this.yA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{B_:{get:function(){return this.Lc.some(function(v){var t;return 1 < ((null === (t=v.dh) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ta:{get:function(){return this.O.ta;},enumerable:!1,configurable:!0}});q.prototype.xy=function(v){return this.OB()[v];};q.prototype.OB=function(){return this.XEb;};q.prototype.equals=function(v){return !!v && this.K === v.K && this.mediaType === v.mediaType && this.trackId === v.trackId;};q.prototype.eea=function(){this.p7++;};q.prototype.dea=function(){0 < this.p7 && this.p7--;};q.prototype.cea=function(v,t,w,u,x,y){if(this.ta || u && void 0 !== u.so && (this.te || void 0 !== u.Me && u.Me.length)){if(v.Kj || !v.track.qp)this.wZa=!0;if(this.te)!this.una && !this.ta && u.Me && u.Me.length > this.Zq.length && (this.ed=new g.fma(this.mediaType,this.da,u,x),this.yA.Dkb(),this.Twa=-Infinity,this.una=!0);else {this.YZa(t);this.JCb=y;if(w=w || this.Tna)(this.XZa(w || this.Tna),void 0 === this.W && this.ZZa(w.W));this.ta || (this.ed=new g.fma(this.mediaType,this.da,u,x));if(v.Kj || !v.track.qp)this.una=!0;}}else this.ta || this.H && this.H.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.R8b=function(v){void 0 === this.yA.value && this.yA.set(v);};q.prototype.AMb=function(v){this.te || (this.ZZa(v.W),this.YZa(v.JK),this.XZa(v.da),this.ed=v.Zq,v.qua.value?this.yA.set(v.qua.value):this.yA.Dkb());};q.prototype.jp=function(v,t,w,u){var x;(0,d.assert)(this.dK);x=this.dK;this.ta && (t=Math.min(t,this.oF().Z));return (0,h.jp)(this.mediaType,v,x,t,w,u);};q.prototype.HB=function(v,t,w){var u,x,y,z;(0,d.assert)(this.dK);x=this.dK;if(this.ta){y=this.O.ba.ol;z=null === y || void 0 === y?void 0:y.F$;y=null !== (u=null === y || void 0 === y?void 0:y.E$) && void 0 !== u?u:0;Infinity === t && z && (t=new Date(z).getTime() - x.Aq().aqa + y);}return (0,h.HB)(this.mediaType,v,x,t,w);};q.prototype.np=function(){var v;if(this.mediaType === l.u.T){(0,d.assert)(this.mediaType === l.u.T);(0,d.assert)(void 0 !== this.channels);(0,d.assert)(void 0 !== this.sampleRate);v={channels:this.channels,profile:this.profile,R1:this.R1,bitrate:this.Lc[this.Lc.length - 1].bitrate,sampleRate:this.sampleRate,iu:this.iu};}else ((0,d.assert)(this.mediaType === l.u.J),(0,d.assert)(void 0 !== this.Uca),(0,d.assert)(void 0 !== this.mm),v={N:this.O.N,qp:this.qp,profile:this.profile,laa:this.Uca.lu,kaa:this.Uca.Ft,R1:this.R1,mm:this.mm,maxWidth:this.mm.mm.w,maxHeight:this.mm.mm.cs,TBa:this.mm.uhb.w,UBa:this.mm.uhb.cs,iu:this.iu});return v;};q.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.oF=function(){var v,t;(0,d.assert)(this.ta,"Unexpected call to getLiveEdgeTimestamp. Not a live track.");t=(null !== (v=this.dK) && void 0 !== v?v:this.Lc[0]).Aq().EFa;return m.P.Na(Math.max(0,t - (this.L.i_ + this.L.Eca)));};q.prototype.ZZa=function(v){this.ob=v;};q.prototype.YZa=function(v){this.ICb=v;};q.prototype.XZa=function(v){this.IN=v;this.mediaType === l.u.J && (this.pna=k.NH.OVb(v));};return q;})();b.oM=r;},function(r,b,a){var l,g,m,d;function c(f){return function(){for(var h=Array(this.length),k=0;k < this.length;++k){h[k]=f.call(this,k);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.GHb=b.Hy=b.fma=b.gWa=void 0;r=a(0);l=a(2);r=r.__importDefault(a(3));g=a(20);m=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function f(h,k){this.ed=h;this.Je=k;}Object.defineProperties(f.prototype,{index:{get:function(){return this.Je;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{oc:{get:function(){return new g.P(this.cb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ld:{get:function(){return new g.P(this.sb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{cb:{get:function(){return this.ed.H7 + this.ed.lE[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sb:{get:function(){return this.cb + this.ed.Ys[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Mv:{get:function(){return this.ed.Ys[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{da:{get:function(){return this.ed.da;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.ed.W;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ca:{get:function(){return Math.floor(1E3 * this.cb / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ta:{get:function(){return Math.floor(1E3 * (this.cb + this.Mv) / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.Ta - this.ca;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.cb / this.da.W,endPts:1E3 * this.sb / this.da.W,duration:1E3 * this.Mv / this.da.W,index:this.index};};return f;})();b.gWa=d;a=(function(){function f(h,k,n,p){this.mediaType=h;this.length=n.Me.length;this.ob=n.W;this.Ys=n.Me;this.n8=p && p.xR;this.g0a=p && p.YR;this.IN=k;this.BGa=this.CGa=this.PYa=void 0;this.H7=n.so;this.lE=new Uint32Array(this.length + 1);if(this.length){for(k=h=0;k < this.length;++k){this.lE[k]=h;h+=this.Ys[k];}this.lE[k]=h;this.xma=Math.floor((this.Ta - this.ca) / this.length);}}Object.defineProperties(f.prototype,{so:{get:function(){return this.anb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{rta:{get:function(){return this.anb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ca:{get:function(){return this.Dl(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ta:{get:function(){return this.Dl(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yh:{get:function(){return new g.P(this.rta,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Nza:{get:function(){return this.PYa || this.oAb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{da:{get:function(){return this.IN;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});f.prototype.anb=function(h){return this.H7 + this.lE[h];};f.prototype.Dl=function(h){return Math.floor(1E3 * (this.H7 + this.lE[h]) / this.W);};f.prototype.eY=function(h){return this.Dl(h + 1);};f.prototype.Me=function(h){return this.eY(h) - this.Dl(h);};f.prototype.get=function(h){return new d(this,h);};f.prototype.kp=function(h,k,n){if(0 === this.length || h < this.Dl(0))return -1;h=Math.max(h,k || 0);for(var p=0,q=this.length - 1,v,t;q >= p;){if((v=p + (q - p >> 1),t=this.Dl(v),h < t))q=v - 1;else if(h >= t + this.Me(v))p=v + 1;else {for(;k && v < this.length && this.Dl(v) < k;){++v;}return v < this.length?v:n?this.length - 1:-1;}}return n?this.length - 1:-1;};f.prototype.T$=function(h,k,n){h=this.kp(h,k,n);return 0 <= h?this.get(h):void 0;};f.prototype.Zra=function(h,k){var n,p,q;n=Math.floor(k * this.W / 1E3);p=Math.min(h + Math.ceil(k / this.xma),this.length);q=this.lE[p] - this.lE[h];if(q >= n){for(;q >= n;){--p;q-=this.Ys[p];}return {blocks:Math.max(p - h + 1,0),jDa:0};}for(;q < n && p <= this.length;){k-=q || 0;q+=this.Ys[p];++p;}return {blocks:Math.max(p - h - 1,0),jDa:k};};f.prototype.subarray=function(h,k){(0,l.assert)(void 0 === h || 0 <= h && h < this.length);(0,l.assert)(void 0 === k || k > h && k <= this.length);return new f(this.mediaType,this.da,{W:this.W,so:this.H7 + this.lE[h],Me:this.Ys.subarray(h,k)},this.n8 && ({xR:this.n8.subarray(h,k + 1),YR:this.g0a}));};f.prototype.forEach=function(h){for(var k=0;k < this.length;++k){h(this.get(k),k,this);}};f.prototype.map=function(h){for(var k=[],n=0;n < this.length;++n){k.push(h(this.get(n),n,this));}return k;};f.prototype.reduce=function(h,k){for(var n=0;n < this.length;++n){k=h(k,this.get(n),n,this);}return k;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.xma};};f.prototype.dump=function(){var k;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.xma + "ms");for(var h=0;h < this.length;++h){k=this.get(h);m.trace(("TrackFragments: ").concat(h,": [").concat(k.ca,"-").concat(k.Ta,"]"));}};f.prototype.oAb=function(){for(var h=0,k=0;k < this.length;k++){h=Math.max(this.Ys[k],h);}return this.PYa=h;};return f;})();b.fma=a;b.Hy=c;a.prototype.$mb=c(a.prototype.Dl);c(a.prototype.eY);c(a.prototype.Me);b.GHb=function(f){return ("[").concat(Array(f.length).map(function(h,k){return f[k].toString();}).join(","),"]");};},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.F6a=b.HB=b.jp=b.Daa=void 0;c=a(77);l=a(6);g=a(2);m=a(117);b.Daa=function(d,f){return d.kp(f,void 0,!0);};b.jp=function(d,f,h,k,n,p){var q,v,t,w;m.qn.Bq(d);if(h.ta){f=h.W;q=h.Aq();n=q.HL;p=q.Ht.Zf(f);q=n + Math.floor(k / p.Z);d === l.u.T && (q=Math.max(n,q - 1));d=p.Ry(q - n);k=d.add(p);return new c.Jl(h,{index:q,cb:d.Fa,sb:k.Fa,W:f,offset:0,ga:0});}(0,g.assert)(h.ma,"findFirstFragment called without stream fragments");v=h.ma;k=Math.max(h.ma.Dl(0),k);d === l.u.T && !p && f.Hm && !f.GI && h.Gf && (k=Math.max(h.ma.Dl(0),k + h.Gf.Z));q=(0,b.Daa)(v,k);t=h.Zl(q);if(t.Ta < k)return t;w=t.hua(k);w?(0 < w.sj && t.tj({start:w.sj}),d !== l.u.T || f.F_ || (0 > w.ue && t.tj({start:w.sj}),w.ue < (f.Hm && !f.GI && h.Gf?Math.floor(h.Gf.Z):0) && t.$sa())):k >= t.Ta && q < v.length - 1 && (t=h.Zl(q + 1));d === l.u.J && n && t.Ta === n && q < v.length - 1 && (t=h.Zl(q + 1));d === l.u.T && !t.Ka && (f.zbb || f.ZRb) && p && t.tj({});t.jS(k);return t;};b.HB=function(d,f,h,k,n,p){var q,v;m.qn.Bq(d);if(h.ta)return (n=f=q=Infinity,d=h.W,void 0 !== k && Infinity !== k && (q=h.Aq(),f=q.HL,n=q.Ht.Zf(d),q=f + Math.floor(k / n.Z),0 === k % n.Z && (q=Math.max(f,q - 1)),k=n.Ry(q - f),n=k.add(n),f=k.Fa,n=n.Fa),new c.Jl(h,{index:q,cb:f,sb:n,W:d,offset:0,ga:0}));q=h.ma;void 0 === k && (k=q.Ta);if(n && (n=n.JUb(h,k,d,f,p)))return n;n=q.da;p=k?k + (0,b.F6a)(d,n,f.nL,f.aS):q.eY(q.length - 1);q=q.kp(p,void 0,!0);n=h.Zl(q);0 === q || n.ca !== k || d !== l.u.J && f.nL || (--q,n=h.Zl(q));p=d === l.u.J?p:k;if(p < n.Ta){v=n.gua(p);v && 0 !== v.sj?n.tj({end:v.sj}):d === l.u.T && (v || p < n.ca) && 0 !== q?n=h.Zl(q - 1):d !== l.u.J || (h.k2b || f.XGa) && !v || 0 === q || (n=h.Zl(q - 1));}d === l.u.T && !n.Ka && f.zbb && n.tj();n.jS(k);return n;};b.F6a=function(d,f,h,k){var n;return d === l.u.J || k?0:h?null !== (n=null === f || void 0 === f?void 0:f.Z) && void 0 !== n?n:0:f?-f.Z:0;};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Rla=void 0;c=a(0);l=a(75);a(2);c.__importDefault(a(30));r=(function(){function g(m,d,f,h){this.Me=m;this.W=f;this.length=Math.min(m.length,d.length);this.Po=d;this.kd=h;}Object.defineProperties(g.prototype,{ga:{get:function(){return void 0 !== this.kd?this.kd:this.kd=this.Fma();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sizes:{get:function(){return this.Po;},enumerable:!1,configurable:!0}});g.prototype.subarray=function(m,d){return new g(this.Me.subarray(m,d),this.sizes.subarray(m,d),this.W);};g.prototype.concat=function(){var f,h;for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}d=[this];m=d.concat.apply(d,c.__spreadArray([],c.__read(m),!1));d=m.reduce(function(k,n){return k + n.length;},0);f=new Uint32Array(d);h=new Uint32Array(d);d=m[0].W;m.reduce(function(k,n){l.uWa.set(f,n.Me,k);l.uWa.set(h,n.sizes,k);return k + n.length;},0);return new g(f,h,d);};g.prototype.Fma=function(){for(var m=this.sizes,d=this.length,f=0,h=0;h < d;++h){f+=m[h];}return f;};g.prototype.Wbb=function(m){return void 0 === this.uFb?!1:0 < this.uFb[m];};return g;})();b.Rla=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kma=void 0;c=a(402);b.kma=(function(){return function(l,g){var m;void 0 === g && (g={w:1,cs:1});this.mm=l;this.uhb=g;m=l.w * g.w;l=l.cs * g.cs;g=(0,c.jF)(m,l);this.$x={w:m / g,cs:l / g};};})();},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mia=void 0;c=a(0);l=a(76);g=a(996);m=a(20);d=a(2);f=a(415);h=c.__importDefault(a(3));k=a(77);r=(function(){function n(p,q,v){var t,w,u;this.L=q;this.H=v;this.Xk=p.track;this.K7=p.Ag;this.Ky=p.Ky;this.YBb=this.mediaType !== l.u.Za?this.u_.Kj:!1;this.cFb=p.ejc;this.cI=this.$a=void 0;q=p.gs;this.gs=void 0 === q?!0:q;this.h$=p.h$;this.HN=void 0;this.RYa=this.Xg=0;this.url=this.zL=this.cc=this.zu=this.cza=this.location=this.Ya=this.Jb=void 0;this.RB=!1;this.pya=this.Uf=void 0;this.YU=new Set();q=(p=this.L) && "object" === typeof p.Tib && p.Tib[this.profile];"object" === typeof q && (q=q[this.bitrate]) && (this.cEb=new m.P(q.ticks,q.timescale));this.OCb=0 <= (null === (t=p.tIb) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (w=p.rR) || void 0 === w?0:w.suc) && this.mediaType === l.u.J && (t=this.Ky,0 < (null === (u=t.Es) || void 0 === u?void 0:u.length))){u=t.Es.splice(0,t.Es.length);t=new Uint8Array(u.length);for(w=0;w < u.length;w++){t[w]=u[w].hb;}this.Es=t;}}Object.defineProperties(n.prototype,{te:{get:function(){return this.ta?!!this.cI:!!this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Jbb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{O:{get:function(){return this.Xk.O;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{N:{get:function(){return this.O.N;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{K:{get:function(){return this.Xk.K;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.Xk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{da:{get:function(){return this.Xk.da;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{W:{get:function(){return this.Xk.W;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{JK:{get:function(){return this.Xk.JK;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.Xk.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.Xk;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{u_:{get:function(){if(this.mediaType !== l.u.Za)return this.Ky;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ag:{get:function(){return this.K7;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Sa:{get:function(){var p;return this.mediaType === l.u.Za?null !== (p=this.cFb) && void 0 !== p?p:"":this.u_.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{id:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Kj:{get:function(){return this.YBb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ta:{get:function(){return this.track.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bitrate:{get:function(){return this.mediaType === l.u.Za?0:this.u_.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{hb:{get:function(){var p;if(this.D$)return this.D$;if(this.mediaType === l.u.J)return null !== (p=this.Ky.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jec:{get:function(){if(this.mediaType === l.u.J)return this.Ky.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{yfa:{get:function(){if(this.mediaType === l.u.J)return this.Ky.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{profile:{get:function(){return this.mediaType === l.u.Za?"timedtext":this.u_.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mf:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{rm:{get:function(){if(this.mediaType === l.u.J)return this.Ky.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Gf:{get:function(){return this.cEb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{d0b:{get:function(){return this.OCb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ma:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ny:{get:function(){return this.$a && this.$a.Ny;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{laa:{get:function(){return this.Xk.laa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kaa:{get:function(){return this.Xk.kaa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ca:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Tv:{get:function(){return void 0 !== this.HN?this.HN:this.a3b();},set:function(p){this.HN=p;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{nw:{get:function(){return this.gs && !this.RB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{dh:{get:function(){return this.cI;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{k2b:{get:function(){(0,d.assert)(!!this.ma,"Initial header should have been received already");return this.O.Cy() && -1 < this.mf.indexOf("h264mpl") && void 0 === this.ma.vpa;},enumerable:!1,configurable:!0}});n.prototype.Yr=function(){return this.O.Yr(this.mediaType,this.Sa);};n.prototype.Faa=function(){var p;p=this.Yr();return p && p.stream.ma;};n.prototype.VG=function(p){return this.O.VG(this,p);};n.prototype.eea=function(){this.track.eea();};n.prototype.dea=function(){this.track.dea();};n.prototype.cea=function(p,q,v,t,w,u,x,y){this.ta || t && void 0 !== t.so && (this.track.te || void 0 !== t.Me && t.Me.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.ta && this.L.Hm && this.Gf && 0 === t.so && (t.so+=this.Gf.Zf(t.W).Fa),this.te || (this.cI=p,this.track.cea(this,q,v,t,u,y),this.ta || (this.$a=new g.EVa(this.K7,this.track.Zq,t,w,u,x,this.K)),this.track.R8b(this))):this.ta || (t?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.so) + "," + this.track.te + "," + this.track.wCa + "," + (void 0 !== t.Me) + "," + !(!t.Me || !t.Me.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};n.prototype.E9=function(p){this.te || (this.track.AMb(p.track),this.$a=p.ma,this.cI=p.dh);};n.prototype.Zl=function(p){return new k.Jl(this,this.ma.get(p));};n.prototype.f9a=function(p){var q;q=this.Zl(p.index);p.Ka && (q.tj(p.Ka),q.jS(p.rz));return q;};n.prototype.npb=function(p,q){this.Xg=p;this.RYa=q;};n.prototype.ALb=function(){this.Ya=this.Jb=this.cc=this.location=this.url=void 0;};n.prototype.np=function(){return this.mediaType === l.u.T?this.uWb():this.m_b();};n.prototype.Vaa=function(p,q,v){var t,w,u;return this.ta?(v=null === (t=v || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (w=null === v || void 0 === v?void 0:v[0]) && void 0 !== w?w:"",w=null !== (u=null === v || void 0 === v?void 0:v[1]) && void 0 !== u?u:"",p?p=this.Aq().K1b:(void 0 === q && this.H.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,d.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.Aq().media.replace("$Number$",q.toString())),t + "/" + p + (w?"?" + w:"")):v || this.url;};n.prototype.Aq=function(){var p,q;(0,d.assert)(this.ta && this.O.ba.ol,"liveMetadata missing from manifest");p=this.O.ba.ol;p=p.Tfa[p.n$[this.Sa]];q=new Date(p.W8).getTime();return c.__assign(c.__assign({},p),{aqa:q,EFa:this.O.B1 - q,HL:Number(p.HL),pCa:new m.P(Number(p.Dib),p.W),Ht:new m.P(p.duration,p.W)});};n.prototype.i$b=function(p,q){var v,t,w,u,x,y,z,B,A;if(p){p.split(";").some(function(C){if(0 === C.indexOf("sc="))return (t=C.slice(3),!0);});if(t && (q.Z_b=!0,p=this.L.cQb,this.O.w4b() && (p=Math.max(p,this.L.dQb)),!(h.default.time.fa() - this.O.jdb < p))){(0,d.assert)(null === (v=this.O.ba.IE) || void 0 === v?void 0:v.Cp,"Missing pbcid for OC side channel message decryption.");v=new f.qma(this.O.ba.IE.Cp).decrypt(t,!0);try{w=JSON.parse(v);u=w.time;x=Number(u);isNaN(x)?this.H.error(("Invalid live server time in OC side channel message. time:").concat(u)):this.O.B1=x;y=w["live-msg-start"];z=w["live-msg-end"];void 0 !== y && isNaN(new Date(y).getTime()) || void 0 !== z && isNaN(new Date(z).getTime())?this.H.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(y,", live-msg-end:").concat(z)):this.O.wpb(y,z);B=w["encoder-tag"];A=w["encoder-region"];B && A || this.H.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(B,", encoder-region:").concat(A));this.O.Tkc(this.mediaType,{wJ:B,vJ:A});this.O.jdb=h.default.time.fa();}catch(C){this.H.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(v));}}}};n.prototype.HCa=function(p){return !this.YU.has(p);};n.prototype.hGb=function(p){this.YU.has(p)?this.H.trace("segment already blocked: " + p):(this.H.trace("addBlockedLiveSegment: " + p),this.YU.add(p));};n.prototype.mdc=function(p){this.YU.has(p) && (this.H.trace("removeBlockedSegment: " + p),this.YU.delete(p));};n.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,streamId:this.Sa,bitrate:this.bitrate,streamIndex:this.Ag,isAvailable:this.gs,fittable:this.Tv,vmaf:this.hb,resolutionWidth:this.jec,resolutionHeight:this.yfa};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Sa + ":" + this.bitrate;};n.prototype.a3b=function(){var p,q,v,t,w,u,x;if(!this.te)return !0;if(this.track.Twa >= this.bitrate)return this.HN=!0;if(this.track.Vdb <= this.bitrate)return this.HN=!1;(x=this.ta?this.L.ida * this.bitrate / 8 * (this.L.YF + (null !== (q=null === (p=this.O) || void 0 === p?void 0:p.HG.Z) && void 0 !== q?q:0)) < this.Xg:this.$a.TJb(this.L.YF,this.Xg,null !== (t=null === (v=this.O) || void 0 === v?void 0:v.HG.Z) && void 0 !== t?t:0,null !== (u=null === (w=this.O) || void 0 === w?void 0:w.HG.ga) && void 0 !== u?u:0,this.RYa))?this.track.wCa && !this.Kj && this.track.qp || (this.track.Twa=this.bitrate):this.track.Vdb=this.bitrate;return this.HN=x;};n.prototype.m_b=function(){return c.__assign(c.__assign({},this.track.np()),{profile:this.mf});};n.prototype.uWb=function(){return c.__assign(c.__assign({},this.track.np()),{profile:this.mf,bitrate:this.bitrate});};return n;})();b.mia=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.fia=void 0;c=a(0);l=a(75);r=a(13);g=c.__importDefault(a(3));m=a(8);d=a(35);f=a(2);h=a(6);k=a(268);n=a(434);a=a(435);p=g.default.MediaSource;a=(function(q){function v(t,w,u,x,y,z,B){w=q.call(this,t,x,y,w,B) || this;n.r3.jbb(w,t,x,B);w.tu=u;w.track=u.track;w.py=!!x.py;w.$Q=!!x.$Q;w.XE=!!x.XE;w.B9b=x.ga;w.qS=!!x.qS;w.NN=(z?"(cache)":"") + w.Sa + " header";t=x.offset;x=x.ga;w.Ex && (t+=w.Ex.byteLength,x-=w.Ex.byteLength);w.uv(t,x);return w;}c.__extends(v,q);Object.defineProperties(v.prototype,{Hc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{rea:{get:function(){return this.JDb;},enumerable:!1,configurable:!0}});v.prototype.ud=function(){var t;if(!this.complete){t={type:"headerRequestCancelled",request:this};this.emit(t.type,t);}q.prototype.ud.call(this);};v.prototype.xY=function(t){this.stream.eea();q.prototype.xY.call(this,t);};v.prototype.GP=function(t,w,u){this.stream.dea();q.prototype.GP.call(this,t,w,u);};v.prototype.ql=function(t){t.response && this.hXa(t.response);(0,f.assert)(this.Ex);t.MR();this.stream.dea();this.GDb()?q.prototype.ql.call(this,t):this.lXa?(this.uv(t.offset + t.ga,this.lXa),this.stream.eea(),q.prototype.ql.call(this,t)):this.faa(this);};v.prototype.kea=function(t){t.response && this.hXa(t.response);q.prototype.kea.call(this,t);};v.prototype.uv=function(t,w){t=new k.qT(this.stream,this.track,this.NN + " (" + this.Ma.length + ")",{Hc:!0,offset:t,ga:w,SC:{sf:h.La.Yh},location:this.location,$c:this.$c,responseType:0},this,this.Le,this.H);this.push(t);this.kd=this.Ma.reduce(function(u,x){return u + x.ga;},0);};v.prototype.GDb=function(){var t,w,u,x,y,z,B;x=this.Le;y=new l.dv(v.i7b,this.stream,this.Ex,this.stream.ta?["moov"]:["sidx"],x.$9b,{Uxc:this.stream.track.wCa,ABa:void 0 === this.da,Mob:!p.Yc || !p.Yc.a3a,pGa:x.pGa,Hm:x.Hm,TS:this.Le.TS,Mkb:!0,rga:!p.Yc || !p.Yc.Lfb,pDa:this.Le.pDa});z=y.parse({da:this.da});this.Llc=x.TS && y.a0b;if(z.xw){(0,f.assert)(z.dh);this.cI=z.dh;this.JDb=z.rea;this.RXa=!!z.dTb;void 0 === this.da && void 0 === z.da && this.H.error("No frame duration available for " + this.Sa);y=z.da?new m.P(z.da):this.da;B=void 0;if(this.iz.mediaType === h.u.J && (null === (t=x.rR) || void 0 === t?0:t.enabled))if(null === (w=this.iz.Es) || void 0 === w?0:w.length)B=this.iz.Es;else if((t=this.iz.Ky.Es,0 < (null === t || void 0 === t?void 0:t.length)))for((B=new Uint8Array(t.length),u=0);u < t.length;u++){B[u]=t[u].hb;}else if(null === (u=z.Ez) || void 0 === u?0:u.length)for((B=new Uint8Array(z.Ez.length),u=0);u < z.Ez.length;u++){B[u]=z.Ez[u];}this.stream.cea(z.dh,z.W,y,z.ma,z.YQ,z.Zk,B,z.trackId);this.Ex=void 0;}else this.lXa=z.WGb || 0;return !!z.xw;};v.prototype.hXa=function(t){this.Ex=this.Ex?(0,m.pB)(this.Ex,t):t;};v.i7b=new g.default.Console("MP4","media|asejs");return v;})(a.cia);b.fia=a;(0,d.ef)(n.r3,a,!1,!1);(0,d.ef)(r.EventEmitter,a);},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.r3=void 0;c=a(0);l=a(2);g=a(188);r=(function(m){function d(f,h,k){var n;n=m.call(this,f,h) || this;n.qS=!1;n.py=!1;n.$Q=!1;n.XE=!1;n.tu=void 0;d.jbb(n,f,h,k);return n;}c.__extends(d,m);d.jbb=function(f,h,k,n){g.cx.oa(f,h,k);f.cI=k.dh;f.Ex=k.EBa;f.RXa=k.Mm;f.H=n;};Object.defineProperties(d.prototype,{Hc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dh:{get:function(){return this.cI;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{EBa:{get:function(){return this.Ex;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mm:{get:function(){return this.RXa;},enumerable:!1,configurable:!0}});d.prototype.ud=function(){};d.prototype.QGa=function(){};d.prototype.dHb=function(f){(0,l.assert)(this.Uc.Sa === f.Sa);!f.te && this.Uc.te && f.E9(this.Uc);!f.location && this.Uc.location && (f.location=this.Uc.location,f.cc=this.Uc.cc,f.zL=this.Uc.zL,f.url=this.Uc.url,f.Jb=this.Uc.Jb);this.Uc=f;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},m.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.ma});};return d;})(g.cx);b.r3=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cia=void 0;c=a(0);c.__importDefault(a(3));a(2);r=(function(l){function g(m,d,f,h,k){m=l.call(this,m,d,f,h,k) || this;m.bYa=!1;m.aYa=!1;m.nV=!1;m.Ma=[];m.bq=!1;m.nZa=!1;m.wYa=!1;m.jf=!1;m.Bn=!1;m.dj=!1;m.fN=!1;m.ON=void 0;m.Gx=void 0;return m;}c.__extends(g,l);Object.defineProperties(g.prototype,{aya:{get:function(){return this.bq && !this.nV;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{active:{get:function(){return this.jf;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{$Ca:{get:function(){return this.Bn;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{complete:{get:function(){return this.dj || (this.dj=this.Ma.every(function(m){return m.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{aborted:{get:function(){return this.fN;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Sg:{get:function(){return this.Ma.reduce(function(m,d){return m + d.Sg;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bytesReceived:{get:function(){return this.Ma.reduce(function(m,d){return m + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ug:{get:function(){return this.ON || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{url:{get:function(){return this.Ma[0] && this.Ma[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{readyState:{get:function(){return this.Fi || this.Ma.reduce(function(m,d){return Math.min(m,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{status:{get:function(){return this.Gx && this.Gx.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ah:{get:function(){return this.Gx && this.Gx.Ah;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{CP:{get:function(){return this.Gx && this.Gx.CP;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Pj:{get:function(){return this.Gx && this.Gx.Pj;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{kw:{get:function(){return !!this.Ma.length && this.Ma[0].kw;},enumerable:!1,configurable:!0}});g.prototype.push=function(m){this.wYa && m.oa(this.Xa);this.Ma.push(m);this.bq && m.SK();};g.prototype.zs=function(m){m=this.Ma.indexOf(m);-1 !== m && this.Ma.splice(m,1);};g.prototype.oa=function(m){l.prototype.oa.call(this,m);this.Ma.forEach(function(d){return d.oa(m);});this.wYa=!0;};g.prototype.SK=function(){this.nZa=!0;(this.bq=this.Ma.every(function(m){return m.SK();})) && this.xY(this);this.nZa=!1;return this.bq;};g.prototype.ud=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.Ma.forEach(function(m){return m.ud();});};g.prototype.Jga=function(m){this.Fi=this.Gx=void 0;return this.Ma.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.Jga(m):!0;});};g.prototype.abort=function(){var m,d,f;m=this.active;d=this.aborted;this.Fi=7;this.fN=!0;this.Bn=this.jf=!1;f=this.Ma.map(function(h){return h.abort();}).every(function(h){return h;});d || this.GP(this,m,this.aya);return f;};g.prototype.getResponseHeader=function(m,d){var f;f=null;this.Ma.some(function(h){return !!(f=h.getResponseHeader(m,d));});return f;};g.prototype.getAllResponseHeaders=function(m){var d;void 0 === m && (m=!1);d=null;this.Ma.some(function(f){return !!(d=f.getAllResponseHeaders(m));});return d;};g.prototype.lea=function(){};g.prototype.xC=function(m){this.jf || (this.jf=!0);this.bYa || (this.bYa=!0,this.ru=0,this.ON=this.Ew=m.ug,this.HP(this));};g.prototype.wC=function(m){this.Bn || (this.Bn=!0);this.aYa || (this.aYa=!0,this.ON=m.ug,this.iF(this));};g.prototype.PK=function(m){this.ON=m.ug;this.DJ(this);this.ru=this.bytesReceived;this.Ew=m.ug;};g.prototype.ql=function(m){this.ON=m.ug;this.complete?(this.dj=!0,this.Fi=5,this.Bn=this.jf=!1,this.nV=!0,this.Uv(this)):this.DJ(this);this.ru=this.bytesReceived;this.Ew=m.ug;};g.prototype.n0=function(m){this.ON=m.ug;this.Gx=m;this.Fi=6;this.faa(this);};g.prototype.m0=function(){};g.prototype.Mi=function(){return this.Ma[0].Mi() + "-" + this.Ma[this.Ma.length - 1].Mi();};g.prototype.toString=function(){return ("Compound[").concat(this.Ma.map(function(m){return m.toString();}).join(","),"]");};g.prototype.toJSON=function(){return {requests:this.Ma};};return g;})(a(189).aH);b.cia=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cua=void 0;b.cua=function(a,c){for(var l,g,m=a.length - 1;0 <= m;--m){if((g=a[m],g.nw)){if(g.bitrate <= c)return m;l=m;}}return l;};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(1003),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Jva=b.lHb=void 0;b.lHb=function(a){return a.aS;};b.Jva=function(a,c){return void 0 !== a.TQ?a.TQ:c && void 0 !== c.TQ?c.TQ:100;};},function(r,b,a){var g;function c(m,d){this.LDb=m.rR && m.rR.enabled;this.L7=void 0;this.zCb=d;this.voa=[];this.Roa=[];this.foa=[];m=m.LZa || [];d=m.map(function(f){return f.cuc;});d.unshift(0);this.UDb=m;this.VDb=d;this.hoa=[];this.sd=[];}function l(m,d){var v,t,w,u;for(var f=[],h=[],k=0;k < m.length;k++){for(var n=m[k],p=[],q=0;q < n.length;q++){v=n[q] - (h[q] || 0);t=d && d[q];w=p;u=w.push;1 <= t && (t=Math.pow(10,t || 0),v=Math.round(v * t) / t);u.call(w,v);}f.push(p);h=n;}return f;}g=a(30).mK;c.prototype.reset=function(m){this.L7=void 0;this.voa=[];this.Roa=[];this.foa=[];this.hoa=[];m && (this.sd=[]);};c.prototype.add=function(m,d){var f,h,k,n;f=d.filter(function(p,q){return g(p) || q === m.$d;});h=f.map(function(p){return p.bitrate;});d=d[m.$d];f=f.indexOf(d);k=this.L7;if(k && (k.length !== h.length || k.some(function(p,q){return p !== h[q];}))){n=this.R8a();n && (this.sd.push(n),this.reset(!1));}void 0 === k && (this.L7=h);this.voa.push([f,m.Ju,m.Ec,m.yqa,m.Q1a,m.H0,m.m8b,m.sf,m.Cj,m.el,m.NG - m.Ju,m.kac]);void 0 !== m.Wy && this.foa.push([m.Ju,m.Wy.WC,m.Wy.qB,m.Wy.KC]);f=d && d.ma;this.LDb && void 0 !== f && (k=f.kp(m.el),-1 != k && (f=f.get(k),k=f.duration,d=f.hb || d.hb,void 0 !== d && this.Roa.push({ca:f.ca,duration:k,hb:d})));(d=m.Iac) && d.length && (d=d.slice(0),d.unshift(m.Ju),this.hoa.push(d));};c.prototype.R8a=function(){var m,d;m=l(this.voa);if(0 !== m.length){m={dltype:this.zCb,bitrates:this.L7,seltrace:m,vmaftrace:this.Roa,paceratetrace:l(this.foa)};d=l(this.hoa,this.VDb);d && d.length && (m.predtrace={config:this.UDb,data:d});return m;}};c.prototype.get=function(){var m,d;m=this.R8a();d=this.sd;m && d.push(m);if(0 !== d.length)return d;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nKa=void 0;c=a(1018);r=(function(){var x2L;x2L=2;function l(g){var q61;q61=2;for(;q61 !== 5;){switch(q61){case 2:var B$v="1SIYbZ";B$v+="r";B$v+="NJCp9";this.H=g;B$v;q61=5;break;}}}for(;x2L !== 3;){switch(x2L){case 2:l.prototype.Zzb=function(g,m){var X7q,d;X7q=2;for(;X7q !== 14;){switch(X7q){case 2:m=(0,c.I3a)(m,g);d=g.steeringAdditionalInfo;X7q=5;break;case 5:X7q=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 4:var y_7="appl";y_7+="ying ma";y_7+="n";y_7+="ifest based streamingClient";y_7+="Config";return (g=d.streamingClientConfig,this.H.trace(y_7 + JSON.stringify(g)),this.oZa(m,g));break;case 3:g=g.cdnResponseData;X7q=9;break;case 9:X7q=!g?8:7;break;case 8:return m;break;case 7:var t9S="using sab cell >= 100,";t9S+=" p";t9S+="ipe";t9S+="lineEnab";t9S+="led: ";var l$N="using sa";l$N+="b";l$N+=" cell >= 200";l$N+=", pipelineEna";l$N+="bled: ";var R_G=", a";R_G+="llowS";R_G+="witchback";var b4O=", probeDeta";b4O+="ilDe";b4O+="nomin";b4O+="ato";b4O+="r: ";var l$E="using";l$E+=" sab ce";l$E+="ll >= 300, probeServerWhe";l$E+="nError: ";var S30=", ";S30+="allowSw";S30+="itch";S30+="back";var r5U=", p";r5U+="ro";r5U+="beDetailDenominator: ";var M$H="using sab cell >= 400";M$H+=", probeServe";M$H+="rW";M$H+="he";M$H+="nError: ";(g=g.sessionABTestCell) && (g=g.split(".")) && 1 < g.length && (g=parseInt(g[1].replace(/cell/i,""),10),400 <= g?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!0})):(m.Fw=!0,m.ER=1,m.TA=!0),this.H.trace(M$H + m.Fw + r5U + m.ER + S30 + m.TA)):300 <= g?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!1})):(m.Fw=!0,m.ER=1,m.TA=!1),this.H.trace(l$E + m.Fw + b4O + m.ER + R_G + m.TA)):200 <= g?(m.set?m.set({pipelineEnabled:!1}):m.nj=!1,this.H.trace(l$N + m.nj)):100 <= g && (m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:1}),m.set({maxActiveRequestsPerSession:m.Pca}),m.set({maxPendingBufferLen:m.Geb})):(m.nj=!0,m.JQ=1,m.My=m.Pca,m.Xca=m.Geb),this.H.trace(t9S + m.nj)));return m;break;}}};l.prototype.$zb=function(g,m){var L7N;L7N=2;for(;L7N !== 9;){switch(L7N){case 5:this.eCb=g;for(var d in m.Ura){new RegExp(d).test(g) && (m=this.oZa(m,m.Ura[d]));}return m;break;case 6:return m;break;case 1:return m;break;case 2:L7N=!m.Ura || g === this.eCb?1:5;break;}}};l.prototype.oZa=function(g,m){var s_J,d,f,h;s_J=2;for(;s_J !== 4;){switch(s_J){case 2:for(f in m){if(m.hasOwnProperty(f)){var s10="Inv";s10+="ali";s10+="d key";h=m[f];g.set?0 === g.set((d={},d[f]=h,d)) && this.H.trace(s10 + f):g[f]=h;}}return g;break;}}};return l;break;}}})();b.nKa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.AOa=b.N5=void 0;c=a(0);l=a(13);g=c.__importStar(a(12));m=c.__importDefault(a(92));d=a(6);f=a(270);h=a(20);r=a(35);k=c.__importDefault(a(3));n=a(1023);p=a(442);(function(v){v[v.BVb=0]="forwards";v[v.dqa=1]="backwards";v[v.dR=2]="none";})(q=b.N5 || (b.N5={}));a=(function(v){function t(w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I){var M,H,J;M=this;M=v.call(this,void 0,u,y,D.O,w,D,void 0,E,L,h.P.Na(G),A.eg.bind(A),F,I,void 0,new l.EventEmitter(),void 0) || this;M.Eb=w;M.Aj=x;M.Nc=z;M.ana=B;M.X=A;M.dO=C;M.qj=F;M.FY=O;M.$h=K;M.zj=I;M.active=!1;M.oYa=[];M.joa=0;null === (H=M.O) || void 0 === H?void 0:H.eDa(M);M.children=Object.create(null);M.vz=[];M.Oe=void 0;void 0 === L && (L=h.P.Na(D.ca));J=[M.L.b1a,M.L.FFa];E.forEach(function(N){var P;P=N.mediaType;N=new p.$ja(w,M.Aj,M.H,M,N,L.Z,J[P],u,M.ana,M.$h,null === F || void 0 === F?void 0:F.gb(P));M.lf.Pfc(P,N);});M.Nx=M.lf.Sea;return M;}c.__extends(t,v);Object.defineProperties(t.prototype,{K:{get:function(){return this.O.K;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mo:{get:function(){var w,u,x,y;return [null !== (u=null === (w=this.gb(0)) || void 0 === w?void 0:w.mo) && void 0 !== u?u:0,null !== (y=null === (x=this.gb(1)) || void 0 === x?void 0:x.mo) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yo:{get:function(){var w,u,x,y;return [null !== (u=null === (w=this.gb(0)) || void 0 === w?void 0:w.Yo) && void 0 !== u?u:{Z:0,ga:0},null !== (y=null === (x=this.gb(1)) || void 0 === x?void 0:x.Yo) && void 0 !== y?y:{Z:0,ga:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Sfa:{get:function(){return this.G.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{dCa:{get:function(){return this.Sfa + this.ng;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Pc:{get:function(){return this.G.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Yf:{get:function(){return this.Pc + this.ng;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{zc:{get:function(){return this.O.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{weight:{get:function(){return this.G.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{G:{get:function(){return this.gq;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{im:{get:function(){return this.lf;},enumerable:!1,configurable:!0}});t.prototype.ie=function(){var w;this.Qf || (this.active=!1,this.qj && (delete this.qj.children[this.G.id],this.qj=void 0),g.qg(this.children,function(u){u && u.qj && (u.qj=void 0);}),this.children=Object.create(null),this.sN=void 0,v.prototype.ie.call(this),null === (w=this.O) || void 0 === w?void 0:w.GGa(this),this.lf.clear());};t.prototype.FDa=function(w,u){void 0 === u && (u=q.dqa);this.im.forEach(function(x){(g.wa(w) || x.mediaType === w) && x.reset();});switch(u){case q.dqa:this.qj && this.qj.FDa(w,u);break;case q.BVb:this.children && g.qg(this.children,function(x){x && x.FDa(w,u);});}};t.prototype.nQ=function(w){var u,x,y;if(!this.active)return !1;u=this.qj;if(u){x=u.gb(w);y=x.Xa.Lhb;if(0 !== y && (u.AO(w),y=x.Xa.Lhb,0 !== y))return !1;}return !0;};t.prototype.Be=function(w){return this.im.get(w);};t.prototype.c0b=function(){return this.im.every(function(w){return 0 === w.PC;});};t.prototype.toJSON=function(){return c.__assign(c.__assign({},v.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Bd,playerEndPts:this.Yf,pipelines:this.im,previousBranch:this.qj});};t.prototype.kmb=function(w,u){this.O.GGa(this);this.O=this.G.O=w;this.MEa(this.O);this.O.eDa(this);this.im.forEach(function(x){var y;y=u[x.mediaType];y && x.I1(y);});};t.prototype.ZYb=function(w){return this.zj[w];};t.prototype.gb=function(w){return this.im.get(w);};t.prototype.sZb=function(w){return this.gb(w).PC;};t.prototype.Wlb=function(w,u){var x,y,z,B,A;x=void 0;y=this;z=this.G;w=this.l9(z.ca,this.O,w,this.K === (w?w.K:this.Nc.md.K));B=w.GR;A=w.IB;void 0 === x && (x=[d.u.T,d.u.J]);0 === A.length || x.forEach(function(C){var D,E;D=y.gb(C);u && (D.pd=A[C]);E=y.pY(z.Ta);D.ega(E[C]);});return B;};t.prototype.oy=function(w,u){if(u=this.gb(u))return u.Xa.oy(w);};t.prototype.AO=function(w){void 0 === w?this.im.forEach(function(u){u.AO();}):this.gb(w).AO();};t.prototype.S0=function(w,u,x){(w=this.gb(w)) && w.Xa.S0(u,x);};t.prototype.Taa=function(w,u){(u=this.gb(u)) && u.Xa.Taa(w);};t.prototype.D5b=function(w){this.oYa[w]=!0;};t.prototype.PKb=function(){var w;w=this;return [d.u.T,d.u.J].every(function(u){return !w.zc(u) || w.oYa[u];});};t.prototype.KKb=function(w,u,x,y){var z,B,A,C,D,E,G,F,L;z=this.L;B=this.Eb;A=this.X.getState();C=A === d.La.ae || A === d.La.Wg;if(!C && void 0 === x)return {Kg:!0};if(A === d.La.Wg && k.default.time.fa() < this.joa + z.oAa)return {Kg:!1};D=this.gb(d.u.T);E=this.gb(d.u.J);G=this.Nc.dy(this,d.u.T);F=this.Nc.dy(this,d.u.J);L=(0,f.Hea)(A);G=!D || D.x2a(L,this.X.eg(),u,G,this.X.Nt(),y);F=!E || E.x2a(L,this.X.eg(),w,F,this.X.Nt(),y);void 0 !== x && G && (x=x.trackId,w=this.O.getTrackById(x),this.fAb(x,w.TG),B.JI=void 0);if(G && F)return (this.dO(),this.ZW=k.default.time.fa(),A === d.La.Wg && (this.joa=k.default.time.fa()),{Kg:!0,Ev:E?E.NI:D.NI});G=this.Nh(d.u.T);F=this.Nh(d.u.J);if(C){B=!E || F > z.Ak;if((!D || G > z.Ak) && B && (D=this.FY(),D >= z.DC))return (this.ac("buffering longer than limit: " + D + " >= " + z.DC + ", audio buffer: " + G + " ms, video buffer: " + F + " ms"),this.dO(),this.ZW=k.default.time.fa(),A === d.La.Wg && (this.joa=k.default.time.fa()),{Kg:!0,Ev:"prebufferTimeLimit"});this.Aj.TCb();}return {Kg:!1};};t.prototype.gra=function(w,u){var x,y,z,B,A,C;x=this.L;y=this.gb(d.u.T);z=this.gb(d.u.J);u?(u=this.Nh(d.u.T,w),w=this.Nh(d.u.J,w)):(u=this.Nc.dy(this,d.u.T,w),w=this.Nc.dy(this,d.u.J,w));B=x.Ak;A=!this.zc(d.u.T) || y.$i && 0 === y.Xa.gG && 0 === y.Xa.Ku;y=!this.zc(d.u.J) || z.$i && 0 === z.Xa.gG && 0 === z.Xa.Ku;C=A && y;x=!A && u < x.Ak;if(!C && (x || !y && w < B))return !1;if(z && z.Kg || !this.zc(d.u.J))return !0;if(C)if(this.Eb.s7 && 0 === u && 0 === w)this.ac("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};t.prototype.aga=function(w,u){var x,y;x=this;y=this.L;this.im.forEach(function(z){z.seeking=void 0;});w && y.kj && this.im.forEach(function(z){var B;if(z){B=x.Nc.SI(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.Yo.ga + ", completedMs: " + z.RO + ", completedBytes: " + B + ", partials: " + z.Xa.gG + ", streamingPts: " + z.Ec + ", completeStreamingPts: " + z.zt + ", fragments: " + JSON.stringify(z.Xa.ma) + ", toAppend: " + u(z.mediaType);x.Aj.fo(z);}});};t.prototype.pz=function(w,u,x){var y,z,B;y=this;z=k.default.time.fa();B={};g.qg(this.children,function(A){var C,D,E,G;if(A){if(A.Oe){A.Oe.KRb=z - A.Oe.Lba;A.Oe.Lba=void 0;C=A.Oe.weight;}else C=y.Nc.y$a(y.G.id,A.G.id);D=A.JB();E=y.gb(d.u.T) && 0 === D.jt;G=y.gb(d.u.J) && 0 === D.Kp;B[A.G.id]={weight:C,vt:D,nZ:!E && !G};}});x={Bs:z,Re:w,Fsa:x,tga:this.G.id,Oe:B};w || (w=u.eg(),x.rS=w - (this.G.ca + this.ng),x.rS=Math.max(0,x.rS),x.c$=0,x.startTime=z);this.vz.unshift(x);return x;};t.prototype.aMb=function(w){var u,x;u=this.vz[0];u.Re && (u.rS=this.Pc - this.G.ca,u.rS=Math.max(0,u.rS));u.Kob={};x=w.JB();(0,m.default)(x,u.Kob);u.nZ=w.Yo.every(function(y){return 0 < y.Z;});this.vz=[];return u;};t.prototype.ro=function(w){var u;u=this.G;w-=this.ng;if(u.ca < w && w < u.Ta)this.vz.shift();else if(u=this.vz[0])u.ro=!0;};t.prototype.l9=function(w,u,x,y){var z,B,A,C;z=this;void 0 === u && (u=this.O);B=!1;if(x){B=!0;A=x.gb(d.u.J).Wd;x=x.gb(d.u.T).Wd;if(!A || !x)return {GR:[],IB:[]};A=A.Ta;y || (A=void 0);}C=this.p7a(w,A,B,u);u.Vb === this.Nc.BPb && [d.u.J,d.u.T].forEach(function(D){var E;E=z.gb(D);E && (E.pd=C[D]);});return {GR:C.map(function(D){return D.ca;}),IB:C};};t.prototype.p7a=function(w,u,x,y){var z;z=this;void 0 === y && (y=this.O);return this.u_a(y)?[d.u.J,d.u.T].map(function(B){var A;if(!z.zc(B))return {};A=y.mj[B];B=z.gb(B).jp(A.stream,w,u,x);w=B.ca;return B;}).reverse():[];};t.prototype.pY=function(w,u){var x;x=this;void 0 === u && (u=this.O);return this.u_a(u)?[d.u.J,d.u.T].map(function(y){var z;if(!x.zc(y))return {};z=u.mj[y].stream;y=x.gb(y).HB(z,w);w=x.L.Th?new h.P(y.sb,z.da.W).Z:y.Ta;return y;}).reverse():[];};t.prototype.Skc=function(w,u){var x;x=this.G.Ta;x && x < u && (w=this.pY(x));u=this.Be(d.u.J);x=this.Be(d.u.T);u && u.ega(w[d.u.J]);x && x.ega(w[d.u.T]);};t.prototype.u_a=function(w){var u;u=w.mj;if(!u)return !1;w=u[d.u.J];w=!this.zc(d.u.J) || w && w.stream.te;u=u[d.u.T];u=!this.zc(d.u.T) || u && u.stream.te;return w && u?!0:!1;};t.prototype.fAb=function(w,u){this.Aj.RCb(w,u);};return t;})(n.FOa);b.AOa=a;(0,r.ef)(l.EventEmitter,a);},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.$ja=void 0;c=a(0);r=a(443);l=c.__importDefault(a(29)).default.de;g=a(429);m=a(6);d=c.__importDefault(a(3));f=a(195);h=a(2);k=a(20);n=a(196);p=a(1057);a=(function(q){function v(t,w,u,x,y,z,B,A,C,D,E){u=q.call(this,x,A,u,x,x,y,k.P.Na(z),B,!1,function(){return null === E || void 0 === E?void 0:E.De;}) || this;u.Eb=t;u.Aj=w;u.xh=C;u.$h=D;u.vqa=0;u.hF=[];u.sA=!1;u.fq.Npb=!1;u.lV=new p.BOa(x,u.$h,A,u.H,u.mediaType,u.Aj,u.Xa,u.Eb);u.S3b=d.default.time.fa();u.J3b=void 0;u.DK=A.yxa;u.Fib=d.default.time.fa();w=(0,f.TP)(A);t=w.G0;w=w.dL;u.Hac=u.mediaType === m.u.T?t:w;u.I1(y);return u;}c.__extends(v,q);Object.defineProperties(v.prototype,{kt:{get:function(){return this.Xa.kt;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{RO:{get:function(){return this.Xa.RO;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{LE:{get:function(){return this.Xa.LE;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{PC:{get:function(){return this.Xa.PC;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{$i:{get:function(){return this.lV.$i;},set:function(t){this.lV.$i=t;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ps:{get:function(){return this.lV.Ps;},set:function(t){this.lV.Ps=t;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Bca:{get:function(){return this.ee;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{x1:{get:function(){return this.Yj.x1;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{DZb:{get:function(){return this.Eb.poa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Kg:{get:function(){return this.sA;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{NI:{get:function(){return this.wXa;},enumerable:!1,configurable:!0}});v.prototype.reset=function(){this.seeking=void 0;this.connected=this.$i=!1;this.fq.reset();};v.prototype.ie=function(){this.reset();q.prototype.ie.call(this);};v.prototype.HB=function(t,w){return (0,g.HB)(this.Xk.mediaType,this.L,t,w,this.Th,this.Eb.p6b);};v.prototype.jp=function(t,w,u,x){return (0,g.jp)(this.Xk.mediaType,this.L,t,w,u,x);};v.prototype.ro=function(){this.DK=this.L.yxa;};v.prototype.AO=function(){this.Xa.bha();};v.prototype.I1=function(t){var w,u;w=this.Eb;u=this.mediaType;(0,h.assert)(t.mediaType === u);(0,h.assert)(t.O === this.bb.O);this.Xk=t;this.bb.O.PGa(u,t.Lc);w.HBb(this,t.Um);this.UJb(t.Lc);this.De.I1(t);this.bb.O.tra();this.$i=!1;};v.prototype.aua=function(t){var w;w=this.bb.O.mj[this.mediaType];if(w && w.stream.te && (t=w.stream.ma.kp(t),-1 !== t))return t;};v.prototype.iS=function(t,w){var u,x,y;if(this.pd && this.pd.ca === t){w=this.pd.index;u=t;}else {x=this.bb.O;y=x.mj[this.mediaType];if(!y || !y.stream.te){this.XK=t;this.C$b=w;return;}u=y.stream.ma;this.pd=this.jp(y.stream,t,void 0,w);if(void 0 === this.pd){if((w=u.length - 1,u=u.Dl(w),this.ac("setStreamingPts out of range of fragments, pts:",t,"last startPts:",u,"fragment index:",w,"fastplay:",x.Wf.rg),x.Wf.rg)){this.XK=t;return;}}else (w=this.pd.index,u=this.pd.ca);}this.Xm=w;this.cW=u;this.XK=void 0;};v.prototype.$lc=function(t){var w,u;w=this.Xk.xy(t);u="verifying streamId: " + t + " stream's track: " + (w?w.Sa:"unknown") + " currentTrack: " + this.Xk.trackId;return w?!0:(this.Aj.fo(u),this.Aj.fo("unknown streamId: " + t),!1);};v.prototype.UJb=function(t){this.x0b=t.reduce(function(w,u){return u.nw && u.bitrate > w.bitrate?u:w;},t[0]);};v.prototype.ega=function(t){this.Wd=t;};v.prototype.s5b=function(t,w,u,x,y){this.Sob(t,w,x,y);u && ++this.vqa;this.Eb.Pl();};v.prototype.xC=function(t){t.Ta && t.ca && (this.DK-=t.Ta - t.ca);q.prototype.xC.call(this,t);};v.prototype.ql=function(t){this.cab(t);this.Uv(t);};v.prototype.Xkc=function(t){var w;w=d.default.time.fa();this.DK+=t * (w - this.Fib);this.Fib=w;};v.prototype.gec=function(){this.DK=this.L.yxa;};v.prototype.OO=function(t){this.Xa.ara();this.Th || this.lV.OO(t,this.Pc);};v.prototype.cab=function(t){var w,u,x;u=this.Bca;x=this.Eb;this.xh.e_a() || (this.Aj.pDb(t.mediaType,t.O.Vb,t.stream.track.QA,this.zt,this.S),null === (w=this.Th) || void 0 === w?void 0:w.p1b(t),w=u.X.eg() || 0,x.Qb.uA() || (u=u.gb(l.J)) && !u.Kg && u.pba && x.Qb.hwa(u),this.OO(w),this.Eb.bab(t),this.xh.C6(this) && this.xh.Pl());};v.prototype.pBa=function(t){this.Eb.iba(t);};v.prototype.x2a=function(t,w,u,x,y,z){var B,A;B=this.L;A=B.Ak;if(u >= B.Ak && (B.ufa && (A=u + 1E3),B.vfa && !this.connected))return !1;if(this.Th)return this.Th.hB();u=this.$i && 0 === this.Xa.DBa && 0 === this.Xa.Ku;return !u && x < A?!1:u?z && 0 === x?(this.ac("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.$Kb(t,w,y);};v.prototype.ggc=function(t){this.cW=t;};v.prototype.aga=function(t){this.sA=!0;this.wXa=t;};v.prototype.rra=function(){this.sA=!1;this.wXa=void 0;};v.prototype.$Kb=function(t,w,u){var x;if(this.Kg || this.mediaType === m.u.T)return !0;if(void 0 === this.nl)return !1;w=this.rBb(w,t);this.track.O.wk.E2(this.track.O.N,this.track.Lc);x=new n.LU();x.zW([this.nl]);this.Yj.mCa(x,!1,(0,m.Gea)(t),w,this.Hac);t=this.Yj.hB(w,t,u,this.nl,this.bb.O.tq);t.complete?this.aga(t.reason):(this.rra(),this.TF=t.TF,this.progress=t.progress);return this.Kg;};v.prototype.rBb=function(t,w){var u,x,y,z,B;z=d.default.Cq()[this.mediaType];B=this.Xa.Taa();t={xt:z,ca:null !== (u=B.Bd) && void 0 !== u?u:0,Qc:t,Ec:null !== (x=B.wR || t) && void 0 !== x?x:0,kk:null !== (y=B.nX || t) && void 0 !== y?y:0,Sg:B.Sg,Rj:B.Rj,Dp:B.Dp,X7a:B.ma.length,ma:B.ma};"number" !== typeof t.ca?(t.ca=0,t.Ec=0):w === m.bd.ae && t.Qc !== t.ca && (t.Qc=t.ca);return t;};return v;})(r.cla);b.$ja=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.cla=void 0;c=a(0);l=a(13);g=a(1024);m=a(91);d=a(1025);f=a(6);h=a(1027);k=a(1033);n=a(193);p=a(272);q=a(8);v=a(2);t=a(20);w=c.__importDefault(a(3));r=a(78);u=a(35);x=a(447);y=a(118);z=a(133);a=(function(B){function A(C,D,E,G,F,L,O,K,I,M,H,J,N){var P;P=B.call(this,C) || this;P.L=D;P.ee=F;P.Xk=L;P.UBb=O;P.Mx=J;P.Vp=N;P.events=new l.EventEmitter();P.connected=!1;P.Ewa=!1;P.xn=!1;P.TBb=0;P.l_a=0;P.BV="LIVE";P.iaa=new d.XQa(P.mediaType,D,E,P);C="[" + P.mediaType + "]";P.H=(0,q.Oi)(w.default,E,C);P.Ll=P.H.error.bind(P.H);P.ac=P.H.warn.bind(P.H);P.fk=P.H.trace.bind(P.H);P.cW=O.Z;"string" === typeof K || void 0 === K?(E=P.mediaType === f.u.T && D.s$ || P.mediaType === f.u.J && D.t$,P.Goa=new p.Yla(K,D,new n.Y5(M),E)):P.Goa=K;P.Em=new g.FSa(P,G,P.L,P.H,P.mediaType);P.fq=new h.xUa(P,D,P.H,P.Em,P.ee,P.mediaType,P.Mx,function(){return P.Vj;});D.Th && (P.Th=new k.sVa(D.Th,P.H));I && (P.cf=null !== H && void 0 !== H?H:(0,x.Dt)(P.mediaType,P.track.O,P.L,P.H,P.track.ta,P.Em.AVb.bind(P.Em),P.Em.zVb.bind(P.Em),function(){}),P.cf.on("created",function(){return P.events.emit("requestQueueCreated");}));return P;}c.__extends(A,B);Object.defineProperties(A.prototype,{mediaType:{get:function(){return this.Xk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{track:{get:function(){return this.Xk;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{bb:{get:function(){return this.ee;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{S:{get:function(){return this.ee.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Xa:{get:function(){return this.fq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Lc:{get:function(){return this.Xk.Lc;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Yo:{get:function(){return this.fq.Yo;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{mo:{get:function(){return this.fq.mo;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ec:{get:function(){return this.cW;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{wga:{get:function(){var C;return null !== (C=this.Ed) && void 0 !== C?C:this.Vt;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{mX:{get:function(){var C;return null !== (C=this.Xa.mX) && void 0 !== C?C:this.wga;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Zoa:{get:function(){return this.Xa.mX;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{zt:{get:function(){return this.Xa.zt;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ira:{get:function(){return this.Xa.Ira;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{H3b:{get:function(){var C;C=this.Xa.Xcb;return null === C || void 0 === C?void 0:C.Ld;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ow:{get:function(){return !!this.Wd && (this.Xm > this.Wd.index || this.cW >= this.Wd.Pc);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ej:{get:function(){return this.ow && 0 === this.fq.gG;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{qHb:{get:function(){return !!this.Xa.Xcb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{kt:{get:function(){return this.Xa.kt;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{cr:{get:function(){return this.Sc?t.P.max(this.Sc.Ea(this.ZC),t.P.Pa):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{AJ:{get:function(){return this.bb.AJ;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{C4a:{get:function(){return this.Xa.ma.Ht;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Yj:{get:function(){return this.Goa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{De:{get:function(){return this.Yj.De;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{nl:{get:function(){return this.Yj.De.nl;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{W:{get:function(){var C,D;return null !== (D=null === (C=this.pd) || void 0 === C?void 0:C.W) && void 0 !== D?D:1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{cb:{get:function(){var C;return null === (C=this.pd) || void 0 === C?void 0:C.cb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{sb:{get:function(){var C;return null === (C=this.Wd) || void 0 === C?void 0:C.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Vj:{get:function(){return this.bb.Sd.Zf(this.W).Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{pba:{get:function(){return this.Xa.pba;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{qz:{get:function(){return this.Xa.qz;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{vFa:{get:function(){return this.Xa.vFa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Vt:{get:function(){return this.UBb.add(this.bb.Sd);},enumerable:!1,configurable:!0}});A.prototype.mW=function(){var C;C=this;this.fq.mW(void 0,function(D){var E;E=D[0];D=E.Ud;E=E.index;E < C.Xm && C.CL(D,E);});};A.prototype.reset=function(){this.Xa.reset();this.pd && this.CL(this.pd.Ud,this.pd.index);this.cf && this.bb.O.nO(this.mediaType,this.cf);};A.prototype.ie=function(C){var D;this.xn=!0;this.fq.ie(C);null === (D=this.Goa) || void 0 === D?void 0:D.De.Wa();this.cf && (this.bb.O.nO(this.mediaType,this.cf),y.Do.instance.kJ(this.cf),this.cf.removeAllListeners(),this.cf=void 0);};A.prototype.toJSON=function(){return {started:this.qz,startOfSequence:this.vFa,segmentId:this.S,requestedBufferLevel:this.mo,viewableId:this.ee.O.N,hasFragments:this.pba};};A.prototype.vm=function(C){return this.Xa.vm(C);};A.prototype.CL=function(C,D){this.cW=C;this.Xm=D;};A.prototype.wy=function(){return this.Xa.wy();};A.prototype.aF=function(){this.Xa.close();};A.prototype.ME=function(C){return (C=this.Xa.oy(C.Z))?C.complete:!1;};Object.defineProperties(A.prototype,{ri:{get:function(){return this.ee.ri;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ZC:{get:function(){var C,D,E,G;return null !== (G=null !== (C=this.Xa.ZC) && void 0 !== C?C:null === (E=null === (D=this.pd) || void 0 === D?void 0:D.oc) || void 0 === E?void 0:E.add(this.bb.Sd)) && void 0 !== G?G:this.Vt;},enumerable:!1,configurable:!0}});A.prototype.Tob=function(C,D,E){var G;(0,v.assert)(this.cf);(0,v.assert)(!this.xn,"pipeline.tryIssueRequest on disabled pipeline");if(!C.te)return (C=C.VG(this.cf))?{Lj:C,reason:"success"}:{Lj:C,reason:"pipelineTryIssueHeaderRequest"};if(C.ta)((0,v.assert)(this.track.ta,"Unexpected live stream."),C=this.okc(C,this.cf,E));else {G=C.Faa();(0,v.assert)(G,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(C.te,", headerFragments:").concat(G));C=this.Sob(C,G,this.cf,D,E,!1);}this.y2a();return C;};A.prototype.Qba=function(C,D){C && (this.pd=C);D && (this.Wd=D);(0,v.assert)(this.pd);(0,v.assert)(this.Wd);(0,v.assert)(void 0 === this.Xm);this.CL(this.pd.Ud,this.pd.index);};A.prototype.truncate=function(C){var D;D=this;(0,v.assert)(this.pd,"expected first fragment to exist on updateStreaming");this.Wd=C;this.ow && (C=c.__read(this.fq.JFb(C),2),this.CL(C[0],C[1]),this.Xt() && (this.Xa.Elb(),this.Xa.ara(),Promise.resolve(function(){D.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:D.mediaType});})));};A.prototype.KF=function(){return this.Xt()?!1:this.Bh()?!0:this.track.Eda;};A.prototype.Bh=function(){return void 0 !== this.pd && void 0 !== this.Wd;};A.prototype.Xt=function(){return this.xn || this.ow;};A.prototype.gcb=function(){var C,D,E;E=this.L.nj;if(null === (C=this.cf) || void 0 === C?0:C.track)E=null === (D=this.cf) || void 0 === D?void 0:D.track.nj;return E;};Object.defineProperties(A.prototype,{Cib:{get:function(){var C;C=!0;this.L.vfa && (C=this.connected);this.L.ufa && (C=C && this.Ewa);return C;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{P9b:{get:function(){return void 0 !== this.Th;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{hhb:{get:function(){var C;return (null === (C=this.Th) || void 0 === C?0:C.hB())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});A.prototype.ql=function(C){this.Em.U7b(C);"oncomplete" === this.L.gbb && (this.Ewa=!0);this.Uv(C);};A.prototype.xC=function(C){C.Hc || this.Em.ugb(C.stream,C.ca,C.Ud);this.Em.Q7b(this.S,C.stream,C.Hc);this.HP(C);};A.prototype.wC=function(C){C.p8 || (this.connected=!0);"onfirstbyte" === this.L.gbb && (this.Ewa=!0);this.iF(C);};A.prototype.o9a=function(C){var D,E;D=this.Xa.ma;if(0 === D.length)return {ma:[],sea:0,Rj:0,Dp:0};E=D.DP(C.Z);0 > E && (E=void 0 === D.ca || C.Z <= D.ca?0:D.length);return {ma:D.qfc(E),sea:Math.max(0,D.r3a - E),Rj:D.Rj,Dp:D.Dp};};A.prototype.oF=function(){return this.track.oF();};A.prototype.I9a=function(){var C,D,E,G,F;if(this.track.ta){C=this.ZC;E=(this.nl?this.nl:this.Lc[0]).Aq().EFa;G=1E3 * this.ee.O.wk.A4b;if(this.CYa){F=w.default.time.fa() - this.CYa;C=E - C.Z;F > this.L.u4b && (C > G && "LIVE" === this.BV?this.BV=D="DVR":C <= G && "DVR" === this.BV && (this.BV=D="LIVE"));}else E - C.Z > G && (this.BV=D="DVR",this.CYa=w.default.time.fa());return D;}};A.prototype.Vkc=function(){this.vm(!0);};A.prototype.Sob=function(C,D,E,G,F,L){var O,K,I,M,H,J,N,P,W,V;void 0 === L && (L=!0);N=this.ee;P=N.O;W=this.mediaType;V=this.Xm;if(V >= D.length)return (this.ac("makeRequest nextFragmentIndex:",V,"past fragments length:",D.length),{Lj:!1,reason:"insufficientFragments"});if(!this.pd || !this.Wd)return (this.ac("makeRequest delayed, first or last fragment not set","first:",!!this.pd,"last:",!!this.Wd),{Lj:!1,reason:"noFirstOrLastFragment"});D=W === f.u.T && !!this.L.RC && (null === (O=this.bb.G.G) || void 0 === O?void 0:O.Pv) && this.pd.Un < this.L.RC && void 0 !== this.pd.Ka;O=W === f.u.T && !!this.L.RC && (null === (K=this.bb.G.G) || void 0 === K?void 0:K.Qv) && this.Wd.Un < this.L.RC && void 0 !== this.Wd.Ka;K=this.iaa.n9a(C,V,D,O);if(W === f.u.T && this.L.RC){if(null === (I=this.bb.G.G) || void 0 === I?0:I.Pv)K.Vr?K.Mlb():K.index === this.pd.index + 1 && this.pd.Un < this.L.RC && void 0 !== this.pd.Ka && K.Mlb(this.pd.Ka.end - this.pd.Ka.start);if(null === (M=this.bb.G.G) || void 0 === M?0:M.Qv)K.Rm?K.Nlb():K.index === this.Wd.index - 1 && this.Wd.Un < this.L.RC && void 0 !== this.Wd.Ka && K.Nlb(this.Wd.Ka.end - this.Wd.Ka.start);}if(this.Vp && !this.Vp.SKb(this.mediaType,K.ga))return {Lj:!1,reason:this.mediaType === f.u.J?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.Bya=K.region;K.SC=F;null === (H=this.Th) || void 0 === H?void 0:H.r1b(K,C);K.Rm && W === f.u.J && this.Em.Zna(N.G,K.Ta);this.L.KQ && (K.KQ=this.L.KQ);void 0 !== C && (K.location=C.location,K.$c=C.cc,K.BEa=C.zu);(F=N.O.kga) && "OPEN_CONNECT_APPLIANCE" === C.Au && (W=W === f.u.T && this.L.s$ || W === f.u.J && this.L.t$,I=this.L.NSb && this.mediaType === f.u.J && this.L.nj,K.n1=W?G:void 0,K.lga=F.Iv({EE:N.Nh(this.mediaType),Nda:this.L.ISb?this.L.Nda:void 0,rob:String(w.default.time.fa()),uX:W?G:void 0,mqa:I?{start:K.offset,size:K.ga}:void 0}));w.default.time.fa();E=this.Xa.l4a(K,E,C);if(!E.SK()){this.ac("MediaRequest.open error: " + E.Ah + " native: " + E.Pj);if(7 === E.readyState)return {Lj:!1,reason:"requestAborted"};this.ac("makeRequest caught:",E.Ah);P.hg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Lj:!1,reason:"openAseMediaRequest"};}null === (J=this.Th) || void 0 === J?void 0:J.iTb(E,K,C);this.Em.V7b(E);this.CL(E.Pc,K.aR);L && this.y2a();return {Lj:!0,reason:"success"};};A.prototype.okc=function(C,D,E){var G,F,L,O,K,I,M,H,J,N,P;L=this.ee;O=L.O;K=this.Xm;I=C.W;M=C.Aq();H=M.HL;J=M.EFa;N=M.Ht.Zf(I);M=N.Ry(K - H);H=M.add(N);0 === this.l_a && (this.l_a=w.default.time.fa(),this.TBb=H.Z);if(H.Z + this.L.Eca > J)return {Lj:!1,reason:"exceedsLiveEdge"};if((J=K === (null === (G=this.Wd) || void 0 === G?void 0:G.index)) && this.mediaType === f.u.T && (G=this.bb.gb(f.u.J)) && G.Wd)P=G.Wd.Pc;E={wp:K,index:K,cb:M.Fa,sb:H.Fa,W:I,offset:0,ga:0,SC:E,Vr:K === (null === (F=this.pd) || void 0 === F?void 0:F.index),Rm:J,DG:{Ge:L.G.fva(),QZ:L.G.Fu},rz:P};C=this.Xa.l4a(E,D,C);if(!C.SK()){this.ac("MediaRequest.open error: " + C.Ah + " native: " + C.Pj);if(7 === C.readyState)return {Lj:!1,reason:"requestAborted"};this.ac("makeRequest caught:",C.Ah);O.hg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Lj:!1,reason:"openAseMediaRequest"};}this.CL(H.Z,this.Xm + 1);return {Lj:!0,reason:"success"};};A.prototype.y2a=function(){this.Xt() && (this.Xa.Elb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return A=c.__decorate([z.GJ],A);})(m.bx);b.cla=a;(0,u.ef)(r.Jz,a);(0,u.ef)(r.Vu,a);},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.gia=void 0;c=a(0);l=c.__importDefault(a(3)).default.kr;g=a(6);m=a(8);d=a(191);f=a(190);h=a(106);r=(function(k){function n(p,q,v,t,w,u,x,y,z){q=k.call(this,p,t,w,q,u,z) || this;q.RBb=("AseLiveTextAndVideoMediaRequest(").concat(q.Ud,"-").concat(q.Pc,")");w=l.Yc && !l.Yc.WR.YM?0:1;q.uv(p,v,c.__assign(c.__assign({},t),{responseType:w}));q.uv(x.Lc[0],y.track,c.__assign(c.__assign({},t),{responseType:0}));return q;}c.__extends(n,k);n.prototype.uv=function(p,q,v){p=new f.pT(p,q,v,this,!1,this.Le,this.H,this.Maa);this.push(p);};n.prototype.ql=function(p){d.ax.prototype.ql.call(this,p);};n.prototype.QK=function(p,q,v){d.ax.prototype.QK.call(this,p,q,v);};n.prototype.VA=function(p,q){var v;if(this.he)return {status:h.Ih.Ns};if(!this.Qm())return {status:h.Ih.Cg};v=this.Ma[0];this.he=q.appendBuffer(v.response,(0,m.Iy)(v));this.wma(p);return {status:this.he?h.Ih.Ns:h.Ih.Cg};};n.prototype.rec=function(){return this.Ma.map(function(p){return p.response;});};n.prototype.wma=function(p){var v,t;function q(){return p.sourceBuffers.some(function(w){if(w.mediaType === g.u.Za)return (w.gga(v.Bd,1E3),w.appendBuffer(v.Ma[1].response),!0);});}v=this;t=q();t || (p.addSourceBuffer(g.u.Za),t=q());};return n;})(d.ax);b.gia=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.fta=b.Yt=b.oo=void 0;r=a(0);l=r.__importStar(a(12));g=a(21);m=a(77);d=r.__importDefault(a(29));f=r.__importDefault(a(30));h=r.__importDefault(a(1041));k=a(6);n=a(1042);p=f.default.assert;q=f.default.Tp;b.oo=(c=(function(){function v(u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J){var x66,W,V,S,U,N,P;x66=2;for(;x66 !== 17;){switch(x66){case 20:y.forEach(function(fa){var k2V,qa,xa;k2V=2;for(;k2V !== 4;){switch(k2V){case 2:(qa=fa.stream,xa=fa.blocks);fa=fa.Vd;l.Oa(fa) && qa.ma && U.add(qa.ma.Vq.subarray(fa,fa + xa));k2V=4;break;}}});z.forEach(function(fa){var J$t,qa,xa;J$t=2;for(;J$t !== 4;){switch(J$t){case 2:(qa=fa.stream,xa=fa.blocks);fa=fa.Vd;0 < I && l.Oa(fa) && qa.ma && U.add(qa.ma.Vq.subarray(fa,fa + xa));J$t=4;break;}}});return 0 < K || 0 < I?(0,h.default)({EVb:U,blocks:F + K + I,Qc:A,kk:D,qhc:C,Rj:L,Ec:E,Vd:F,cVb:F + K,TX:H,f8a:O,Ya:N / J,pda:M,YF:u.YF,i3b:u.Z1,rSb:!1}):N > x.Ny?{result:!0,p_:0,Tv:!0}:{result:!1,p_:0,Tv:!0};break;case 14:return !1;break;case 6:x66=!N || N < x.bitrate * J * u.Pwa || !V?14:13;break;case 4:var E75="F";E75+="ir";E75+="st st";E75+="ream undefined";p(x,E75);N=x.Ya;(W=D - A,V=x.ma && x.ma.length,S=(null === P || void 0 === P?void 0:P.ma) && (null === P || void 0 === P?void 0:P.ma.length));p(B.length === F);u.wza && (M=Math.min(M,W));x66=6;break;case 13:S || (P=x);U=new n.kVa(B);K=Math.max(0,Math.min(K,x.ma.length - G));I=Math.max(0,Math.min(I,P.ma.length - G - K));x66=20;break;case 2:x=y[0].stream;P=null === (N=z[0]) || void 0 === N?void 0:N.stream;x66=4;break;}}}var C8q;function w(u,x,y){var j_g,z;j_g=2;for(;j_g !== 3;){switch(j_g){case 2:j_g=!y.Ya?1:5;break;case 8:j_g=-y.Ya?2:4;break;case 5:z=(y.sjc || y.Ya) / y.Ya;return 1 >= z?u.Tza:Math.min(Math.max((u.lhc * Math.min(8 * x / y.bitrate,u.qw) - u.gC) / (z - 1),u.tfb),u.Tza);break;case 1:return u.tfb;break;case 7:return u.tfb;break;}}}C8q=2;for(;C8q !== 5;){switch(C8q){case 1:return {Yt:v,oo:function(u,x,y,z,B,A,C){var r_Y,S,U,fa,qa,E,G,F,L,O,K,I,M,H,J,N,P,W,V,D;r_Y=2;for(;r_Y !== 17;){switch(r_Y){case 6:return t.call(this,x,u,E,B);break;case 7:r_Y=J === d.default.E4.uzb || !B.Ya?6:14;break;case 10:p(qa.length === fa.length);qa[z]()?z + 1 < E.length && H > u.fC && (void 0 === this.wQ || this.Mya && this.Mya > this.wQ || K - this.wQ > u.m_ && H > u.vza) && (B=(0,g.Mpa)(E.slice(z + 1,D),function(xa,Aa){var S6L;S6L=2;for(;S6L !== 1;){switch(S6L){case 2:return qa[z + 1 + Aa]();break;}}})):B.ma && B.ma.length && (B=(0,g.Mpa)(E.slice(0,z),function(xa,Aa){var k2N;k2N=2;for(;k2N !== 1;){switch(k2N){case 2:return qa[Aa]();break;}}}),D=E[0],B && B.Ag < D.Ag || !B) && (B=D);G.Sh=B || F;return G;break;case 14:y.vY(function(xa,Aa,Oa){var i7n,T;i7n=2;for(;i7n !== 5;){switch(i7n){case 2:void 0 !== Oa && (xa=xa[Oa],null !== (T=xa.ma) && void 0 !== T && T.length || (xa.GFa=!0));i7n=5;break;}}});(S=m.Jl.o4a(x.buffer.ma),U=x.buffer.xt - S.ga);D=(u.mFa || C) && H >= u.oHa?E.length:z + 2;(fa=(function(xa){var u_8,y6B;u_8=2;for(;u_8 !== 4;){switch(u_8){case 5:return E.slice(0,xa).map(function(Aa,Oa){var G5j;G5j=2;for(;G5j !== 1;){switch(G5j){case 2:return Oa < z?[u.Rwa,u.sza]:Oa === z?[u.Qwa,u.rza]:[u.Swa,u.tza];break;}}});break;case 2:var u0h="var";u0h+="ia";u0h+="ble";y6B=u.kFa;u_8=y6B === u0h?1:3;break;case 1:return E.slice(0,xa).map(function(Aa){var r5f;r5f=2;for(;r5f !== 1;){switch(r5f){case 4:return [w(u,x.buffer.xt,Aa),7];break;case 2:return [w(u,x.buffer.xt,Aa),0];break;}}});break;case 3:u_8=5;break;}}})(D),qa=E.slice(0,D).map(function(xa,Aa){var L3r=R7xOY;var P4Q,Oa;P4Q=2;for(;P4Q !== 5;){switch(P4Q){case 2:L3r.o4M(5);Oa=L3r.h1T(z,Aa);return function(){var p53,T,X,Q,ka,ra,R,ha,wa,va;p53=2;for(;p53 !== 5;){switch(p53){case 2:a:{L3r.e_n(0);T=Math.max(L3r.p3p(Aa,1),0);X=fa[Aa][1];Q=x.playbackRate;ka=y.D$a(Aa,M,fa[Aa][0]);ra=ka.yob;ka=ka.nnb;L3r.o4M(6);X=y.D$a(T,L3r.p3p(ra,M),X);T=X.yob;R=X.nnb;X=ka[0].stream;ha=X.Ya || 0;wa=X.ma && X.ma.length;va=C?u.bUb:wa?u.N$:u.cUb;va=Oa?u.Vta:va;if(V && !V.O$ && V.Ya >= ha && V.bitrate <= X.bitrate){ra=!1;}else {Oa || wa || (X.GFa=!0);if(!Oa || !wa)if(wa && !u.Z1){if(ha >= Math.max(X.Ny * Q,X.bitrate * Q * va) && X.Tv){ra=!0;break a;}}else if(ha >= X.bitrate * Q * va){ra=!0;break a;}Q=!u.Rra || X === F || X.cc === F.cc && A?0:(Q=X.Jb) && Q.ul && Q.ul.xa?Q.ul.xa + u.Ora * (Q.ul.He?Math.sqrt(Q.ul.He):0):0;(ra=v(u,E,ka,R,S,O + Q - L,P,I - L,K - L,M,S.length,N,U,ra,T,W,x.TX,x.playbackRate)) && ra.result && (G.Tvc=ra.p_);V={O$:ra && ra.result,Ya:ha,bitrate:X.bitrate};ra=ra && ra.result;}}return ra;break;}}};break;}}}));r_Y=10;break;case 3:var y8J="n";y8J+="um";y8J+="b";y8J+="e";y8J+="r";var F6H="n";F6H+="um";F6H+="b";F6H+="e";F6H+="r";p(F6H === typeof x.buffer.xt);p(y8J === typeof x.TX);(E=y.first,G=new q(),F=B=E[z],L=x.buffer.ca,O=x.buffer.Qc,K=x.buffer.Ec,I=x.buffer.kk,M=x.Vd,H=I - O,J=this.De.$cb || d.default.E4.Yh,N=x.state === k.La.Xc || x.state === k.La.bj?x.buffer.Rj:0,P=u.Zca,W=null !== (D=u.gC) && void 0 !== D?D:1E3);r_Y=7;break;case 2:var S2$="inval";S2$+="id pla";S2$+="yer f";S2$+="ragmen";S2$+="tIndex";var q35="Must ";q35+="have at least on";q35+="e selected stream";p(!l.wa(z),q35);void 0 === x.Vd && (x.Vd=0);p(l.Oa(x.Vd),S2$);r_Y=3;break;}}},fta:w};break;case 2:var O6h="1S";O6h+="IYbZ";O6h+="rNJ";O6h+="Cp";O6h+="9";O6h;C8q=1;break;}}function t(u,x,y){var w_G;w_G=2;for(;w_G !== 4;){switch(w_G){case 2:u=new q();u.Sh=y[0];return u;break;}}}})(),c.oo);b.Yt=c.Yt;b.fta=c.fta;},function(r,b,a){var g,m,d,f,h,k;function c(n,p,q,v){f(!g.wa(v),"Must have at least one selected stream");return new k(v);}function l(n,p,q,v){f(!g.wa(v),"Must have at least one selected stream");return new k(v);}g=a(12);b=a(30);m=b.console;d=b.debug;f=b.assert;h=b.mK;k=b.Tp;r.exports={STARTING:function(n,p,q){var t,w,u,x;function v(y,z){var B,A,C,D;B=y.id;A=y.bitrate;C=y.Ya || 0;D=!!C;d && m.log("Checking feasibility of [" + z + "] " + B + " (" + A + " Kbps)");if(!y.nw)return (d && !y.gs && m.log("  Not available"),d && y.RB && m.log("  Failed"),!1);if(A > n.x_)return (d && m.log("  Above maxInitAudioBitrate (" + n.x_ + " Kbps)"),!1);if(!(A * n.vda / 8 < p.buffer.xt))return (d && m.log("  audio buffer too small to handle this stream"),!1);if(D){d && m.log("  Have throughput history = " + D + " : available throughput = " + C + " Kbps");if(A * p.playbackRate < C / w)return (d && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && m.log(" bitrate requires more than available throughput");return !1;}y=n.M_;p.Rxa && (y=Math.max(y,n.K_));if(A <= y)return (d && m.log("  Bitrate is less than max of minInitAudioBitrate (" + n.M_ + " Kbps) " + (p.Rxa?" and also minHCInitAudioBitrate (" + n.K_ + " Kbps)":"")),d && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && m.log("  No throughput history");return !1;}t=new k();w=n.Vsc || 1;x=q.first;for(u=x.length - 1;0 <= u;--u){q=x[u];if(v(q,u)){t.$d=u;break;}h(q) && (t.$d=u);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Dt=void 0;c=a(10);l=a(118);g=a(2);b.Dt=function(m,d,f,h,k,n,p,q){var v;c.M && h.trace("AsePlaygraph.createRequestQueue()");v=l.Do.instance.Dt(m,d.K,!0,!1,{ly:f.ly,ta:k},f);v.Ph.on(v,"networkfailing",function(){var t;c.M && h.trace("requestQueue OnNetworkFailing: ",v);v.M$ && ((0,g.assert)(v.mY),null === (t=d.tq) || void 0 === t?void 0:t.vu(void 0,v.mY,void 0,v.Ah,v.Pj));d.vm();});v.Ph.on(v,"error",function(){q(v.Ah,v.Pj);});v.on("transportreport",n);v.on("mediaRequestComplete",p);v.oa();return v;};},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.tka=void 0;c=a(0);r=c.__importDefault(a(104));l=c.__importDefault(a(3));a=a(160);g=r.default.fX;m=r.default.oLb;d=r.default.Cta;f=r.default.zTb;h=r.default.Wec;new l.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){function n(p,q){var q70,v;q70=2;for(;q70 !== 13;){switch(q70){case 6:var t$h="1";t$h+="SIYbZrNJ";t$h+="Cp9";t$h;return v;break;case 9:v.filter=p.Cv.filter;v.jhc=!!p.Cv.simpleScaling;p.Cv.niqrfilter && p.Cv.niqrcurve && (v.bgb=p.Cv.niqrfilter,v.F7b=m(p.Cv.niqrcurve,1,0,4));q70=6;break;case 5:Array.isArray(p.Cv.curves) && (v.G4a=m(p.Cv.curves[0],0,0,1),v.F4a=m(p.Cv.curves[1],0,0,1));v.NIb=g(p.Cv.threshold || 6E3,1,1E5);v.KIb=g(p.Cv.gamma || 1,.1,10);q70=9;break;case 2:v=k.call(this,p,q) || this;v.dL=function(t,w,u,x){var d5r,y,z,B;d5r=2;for(;d5r !== 12;){switch(d5r){case 13:return {lower:z,upper:z * v.config.TGa};break;case 4:u=v.$Ea(u)?B:(null === (y=t[v.filter]) || void 0 === y?void 0:y.xa) || B;y=Math.pow(Math.max(1 - u / v.NIb,0),v.KIb);u=w.kk - w.Qc;v.jhc?(w=d(v.G4a,u,1),u=d(v.F4a,u,1),w=w * y + u * (1 - y)):w=d(h(v.G4a,v.F4a,y),u,1);t=v.bgb && (null === (z=t[v.bgb]) || void 0 === z?void 0:z.DAa);void 0 !== t && (z=f(v.F7b,t),w=Math.min(w * z,1));R7xOY.e_n(7);z=v.z5a(R7xOY.h1T(1,w,B),x);d5r=13;break;case 2:x=null !== x && void 0 !== x?x:v.IQ;B=v.op(t,u);d5r=4;break;}}};q70=5;break;}}}var j1v;j1v=2;for(;j1v !== 5;){switch(j1v){case 2:c.__extends(n,k);return n;break;case 3:c.__extends(n,k);return n;break;}}})(a.qD);b.tka=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hpa=b.G0=b.R6a=void 0;c=a(0).__importDefault(a(104)).default.Cta;b.R6a=function(l,g,m){var d,f,h;d=0;if(m){l.some(function(k){var n;n=k.b;k=k.m;if(g <= n)return (d=h && n !== f?h + (k - h) / (n - f) * (g - f):k,!0);f=n;d=h=k;return !1;});}else l.some(function(k){d=k.m;return g <= k.b;});return d;};b.G0=function(l,g,m){var d;g=(null === (d=g.Ya) || void 0 === d?void 0:d.xa) || 0;return l.q1a?(l=c(l.p1a,m.kk - m.Qc,1),g * (1 - l)):g * l.n2 / 100;};b.Hpa=function(l,g){return l < 2 * g?l / 2:l - g;};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.kia=void 0;c=a(0);r=a(13);l=a(10);g=c.__importDefault(a(3));m=a(8);d=a(1059);f=a(132);h=a(1060);k=a(20);n=a(1063);p=a(1064);q=a(1065);v=a(2);t=a(1066);a=(function(w){function u(){var x;x=null !== w && w.apply(this,arguments) || this;x.MZa=0;x.soa=0;x.D6=0;x.Mma=0;return x;}c.__extends(u,w);u.prototype.wDa=function(x){var y,z;w.prototype.wDa.call(this,x);this.MZa++;this.soa++;this.m_a=g.default.time.fa();this.GN || (this.GN={Pc:x.Pc,Ud:x.Ud,index:x.index},this.T6 || (this.T6=this.GN));y=this.h7;z=!1;y && 100 > Math.abs(y.Yf - x.Bd) && (this.D6+=x.Yf - y.Yf,this.Mma++,z=!0);z || (this.D6=x.Un,this.Mma=1);this.h7=x;};u.prototype.stop=function(){w.prototype.stop.call(this);this.soa=0;this.GN=void 0;};u.prototype.y9a=function(){var x,y,z,B;x=this.ft;y=x.yX;if(y){B=y.gb(this.kg);B && B.Xa && (z=B.Xa.Uva());return {RM:z,currentBranch:{sId:y.G && y.G.id,cancelled:y.Qf},currentReceivedCount:x && x.zPb,totalReceivedCount:this.MZa,currentState:x && x.E4a || "Uninitialized",lastRequestPushed:this.h7 && ({contentEndPts:this.h7.Pc,fragmentIndex:this.h7.index}),tslp:this.m_a && g.default.time.fa() - this.m_a,cpts:this.D6,crq:this.Mma,rslp:this.soa,firstRequestSSPushed:this.GN && ({contentStartPts:this.GN.Ud,fragmentIndex:this.GN.index}),firstRequestPushed:this.T6 && ({contentStartPts:this.T6.Ud,fragmentIndex:this.T6.index})};}};return u;})((function(w){function u(x,y,z,B,A,C,D,E,G,F,L){var O;O=w.call(this) || this;O.Eg=x;O.kg=y;O.L=B;O.H=A;O.X=C;O.aCa=D;O.bf=E;O.Ip=G;O.ZD=new m.fA(!1);O.XD=new m.fA(k.P.Na(-Infinity));O.H=(0,m.Oi)(g.default,O.H,("AsePlayerBuffer [").concat(y,"]:"));O.ft=new d.jJa(O.H,z,y);O.resume();C && D && E && (L?(O.AR=L,L.ay(C,E,O.Eg)):O.b4a(),x=new n.eMa(null === C || void 0 === C?void 0:C.bf,k.P.Na(O.L.N_),A),O.ft.k8(x),O.L.D0a && (C=new p.IRa(null === C || void 0 === C?void 0:C.bf,O.L.D0a,k.P.Na(O.L.wHb),A),O.ft.k8(C)),F && (O.VZa=new q.RUa(F,A),O.ft.k8(O.VZa)),l.M && O.L.DSb && (A=new t.SOa(A),O.ft.k8(A)));O.Eg.on("requestAppended",function(K){O.ZD.set(!0);K.request.Sc && O.XD.set(K.request.Sc);O.emit("requestAppended");});return O;}c.__extends(u,w);Object.defineProperties(u.prototype,{hu:{get:function(){return this.ZD;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{wya:{get:function(){return this.XD;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{h2b:{get:function(){return this.ft.sk;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{fFa:{get:function(){return this.Eg.endOfStream;},enumerable:!1,configurable:!0}});u.prototype.b4a=function(){(0,v.assert)(this.X && this.aCa && this.bf,"Player should be defined");this.AR=new h.YTa(this.kg,this.H,this.X,this.Eg,this.X.events,this.aCa,this.bf,this.Ip);};Object.defineProperties(u.prototype,{mediaType:{get:function(){return this.kg;},enumerable:!1,configurable:!0}});u.prototype.y9a=function(){};u.prototype.resume=function(){l.M && this.H.trace("resume");this.sFa();};u.prototype.Pbb=function(x){return this.Eg.Ava() > x;};Object.defineProperties(u.prototype,{dIb:{get:function(){return this.mN;},enumerable:!1,configurable:!0}});u.prototype.ghc=function(){this.Eg.W_(!0);};u.prototype.reset=function(x,y){var z,B,A;void 0 === x && (x=!1);l.M && this.H.trace("reset");this.stop();this.Eg.reset(x);this.ZD.set(!1);this.XD.set(k.P.Na(-Infinity));x || (this.mN=void 0,null === (z=this.AR) || void 0 === z?void 0:z.reset(),x=null === (B=this.X) || void 0 === B?void 0:B.Xf,null === (A=this.VZa) || void 0 === A?void 0:A.W8b(x,null !== y && void 0 !== y?y:x));};u.prototype.zg=function(x){void 0 === x && (x=!1);l.M && this.H.trace("restart");this.reset(x);this.sFa(!0);};u.prototype.stop=function(){l.M && this.H.trace("stop");this.ft.fnb();};u.prototype.close=function(){var x;l.M && this.H.trace("start");null === (x=this.AR) || void 0 === x?void 0:x.close();};u.prototype.Wa=function(){this.stop();this.close();};u.prototype.d0=function(){this.L.baa && this.Eg.N7a();this.Eg.rJ();};u.prototype.GG=function(x){this.Eg.GG(x);};u.prototype.dVb=function(x){this.Eg.pgb(x,!0);};u.prototype.ci=function(x){var y;return !(null === (y=this.AR) || void 0 === y || !y.ci(x));};u.prototype.sFa=function(x){if(!this.ft.sk || x)(this.ft.sec(),f.AsyncIterator.p3b(this.ft,this.qca.bind(this)));};u.prototype.qca=function(x){x.done || this.wDa(x.value);};u.prototype.wDa=function(x){var y,z;l.M && this.H.trace(("requestReceived: ").concat(null === (y=this.ft.yX) || void 0 === y?void 0:y.G.id) + (" ").concat(x.toString(),", edit: ").concat(JSON.stringify(x.Ka)));this.Eg.endOfStream?l.M && this.H.error("Buffer manager has declared EOS, ignoring request",x.toString()):(this.mN?(this.mN.K3b=x.Pc,this.mN.M3b=x.Yf,this.mN.cdb=x.Sc):this.mN={Huc:x.Ud,Iuc:x.Bd,K3b:x.Pc,M3b:x.Yf,cdb:x.Sc},x.Vr && x.stream.track.qp && (null === (z=this.X) || void 0 === z || !z.hs(x.O.N)) && this.emit("drmNeeded",{N:x.O.N,Qq:x.Ed}),this.Eg.cIb(x));};return u;})(r.EventEmitter));b.kia=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Bia=void 0;r=a(0);c=r.__importStar(a(12));l=r.__importDefault(a(92));g=r.__importDefault(a(3));m=a(1067);d=a(6);f=a(192);h=a(8);k=a(2);n=a(20);p=a(397);q=a(441);a=(function(){function v(t,w,u,x,y,z,B,A,C,D){this.Eb=t;this.Aj=w;this.H=u;this.dO=x;this.L=B;this.ana=A;this.tZa=C;this.FY=D;this.ac=this.H.warn.bind(this.H);this.fk=this.H.trace.bind(this.H);this.Fg=this.H.log.bind(this.H);this.Ei=[];this.ai={};y.Vo?((0,k.assert)(!y.Rq),this.Cma=!0,this.HDb(y,y.Vo,z)):(this.Xp=this.vA(y.Rq || "",y,0,void 0,void 0,{},!0),this.Xp.dm=!0,this.Xp.Ta=Infinity,this.Q7=[this.Xp]);this.ee=this.F6(this.Xp,void 0,z);this.ee.active=!0;t=(0,h.Oi)(g.default,this.H,"BranchQueue::");this.bk=new f.bH(t);this.bk.enqueue(this.ee);this.koa=this.yV=void 0;}v.Kua=function(t){return "m" + t;};Object.defineProperties(v.prototype,{Cy:{get:function(){return !!this.Cma;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ml:{get:function(){return this.ee.Qf;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{me:{get:function(){return this.Xp;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ei:{get:function(){return this.ee.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{BPb:{get:function(){return this.ee.O.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{md:{get:function(){return this.ee;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{eb:{get:function(){return this.Ei;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ng:{get:function(){return this.ee.ng;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{$h:{get:function(){return this.Eb.$h;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{oi:{get:function(){return this.yV?this.yV:this.eb[0];},enumerable:!1,configurable:!0}});v.prototype.Wa=function(){this.Ei.forEach(function(t){t.ie();});this.Ei=[];this.bk.clear();};v.prototype.Ce=function(t){return this.ai[t];};v.prototype.z$a=function(){return this.bk.getIterator();};v.prototype.y$a=function(t,w){var u;u=this.ai[t];if(u)return (t=u.Km[w]) && t.weight;this.ac("getSegmentWeight, unknown segment:",t);};v.prototype.zZb=function(t){var w;w=this.ai[t];if(w)return w.ca;this.ac("getSegmentStartPts, unknown segment:",t);};v.prototype.yZb=function(t){var w;w=this.ai[t];if(!w)this.ac("getSegmentDuration, unknown segment:",t);else if(c.Oa(w.Ta) && isFinite(w.Ta) && c.Oa(w.ca) && isFinite(w.ca))return w.Ta - w.ca;};v.prototype.mfa=function(t){var w;w=-1;this.Ei.some(function(u,x){return u === t?(w=x,!0):!1;});-1 !== w?this.Ei.splice(w,1):this.ac("Unable to find branch:",t,"in branches array");};v.prototype.SI=function(t,w){var u;u=0;this.pBb(t).forEach(function(x){(x=x.Be(w)) && (u+=x.LE);});return u;};v.prototype.dy=function(t,w,u){var x;if(!t.zc(w))return 0;x=t.gb(w);for(x=u?x.Ec:x.zt;void 0 === x;){if(!t.qj)return 0;t=t.qj;x=t.gb(w);x=u?x.Ec:x.zt;}t=this.tZa.eg();return Math.max(x - t,0);};v.prototype.$ta=function(t){return this.Ei.filter(function(w){if(w.O.Vb === t)return !0;});};v.prototype.FUb=function(t,w){return this.UXa(t,!1,w);};v.prototype.EUb=function(t,w){return this.UXa(t,!0,w);};v.prototype.Adc=function(t,w,u){c.qg(this.Ei,function(x){x.O === t && x.kmb(w,u);});c.qg(this.ai,function(x){x.O === t && (x.O=w);});};v.prototype.Bkb=function(){var t;t=this;c.qg(this.Ei,function(w){var u;u=t.Eb.gi(w.O.Vb);w.dr(n.P.Na(u.Jy));});};v.prototype.Rw=function(t){var w;w=this;c.qg(this.Ei,function(u){u.gb(d.u.J).track.Lc.forEach(function(x){var y;y=(0,p.Ipa)(x.mf,x.bitrate,t,w.H);(0,l.default)(y,x);});});};v.prototype.oy=function(t,w,u,x){var y;for(;w;){y=w.oy(t,u);if(y)return y;if(x)break;w=w.qj;}};v.prototype.L4a=function(t){var w,u;w=this;void 0 === t && (t=!1);u=this.Ei;t && (u=u.filter(function(x){return x !== w.ee;}));u.forEach(function(x){x.active=!1;w.bk.remove(x);});t || this.bk.clear();return u;};v.prototype.Vbc=function(){var t;for(;0 < this.Ei.length;){t=this.Ei[0];t.gb(d.u.T);t.gb(d.u.J);if(!t.active)break;if(t === this.ee)break;if(!t.c0b())break;t.ie();this.Ei.shift();}};v.prototype.S0=function(t,w,u,x,y){if(u > x){for(u-=x;t;){t.S0(w,u,y);t=t.qj;}return u;}};v.prototype.beb=function(t,w){for(var u={nX:null,wR:null,Bd:null,Rj:0,Dp:0,Sg:0,ma:[]};t;){t.Taa(u,w);t=t.qj;}return u;};v.prototype.ILb=function(t){var w,u,x;w=this.ee;if(w.Rdb)u=w.Rdb;else {x=this.ee.ng;u=this.F6(w.G,w);d.jg.forEach(function(y){var z;z=u.Be(y);z && (z.iS(0),y=w.Be(y),z.ega(y.Wd));});u.dr(n.P.Na(x + t));w.Rdb=u;}this.gN(u,w);};v.prototype.IGb=function(t,w,u){var x,y;(0,k.assert)(!t.Cy());if(!this.Cma){this.Cma=!0;this.yV=this.oi;x=this.Xp.id || v.Kua(0);this.Xp.id=x;this.ai[x]=this.Xp;this.Xp.Ta=this.Eb.RXb().B9a();this.Xp.nG=!0;}y=void 0 !== t.Rq?t.Rq:v.Kua(t.Vb);t=this.vA(y,t,w,u,void 0,{},!0);t.nG=!0;this.Q7.forEach(function(z){z.Km={};z.Km[y]={weight:100};z.HX=y;z.Fu=!1;});this.Q7=[t];};v.prototype.fy=function(t,w){var u,x,y,z;u=this.oi;x=u.pz(w,this.Eb.X);y=u.G;z=u.children[t];if(w){if(!y.Km[t])return (this.ee.ac("chooseNextSegment, invalid destination:",t,"for current segment:",y.id),!1);if(u.Vl)return u.Vl === t;u.Vl=t;z && u.eaa && this.gN(z,u);return !0;}if(void 0 !== u.Vl)return !1;if(!z)return (x.Sfb=!0,!1);x.Sfb=!z.gra();this.Eb.NZa(void 0,q.N5.dR);u.eaa=void 0;u.Vl=t;this.gN(z,u);u.aF();this.Eb.y7();return !0;};v.prototype.B0b=function(t,w){var u,x,y,z;u=this;z=t.G;w && !t.Vl && (t.Vl=z.HX,t.pz(!0,this.Eb.X,!0));t.children=Object.create(null);c.qg(z.Km,function(B,A){t.Vl && A !== t.Vl || (x=u.ai[A],y=u.HAb(x,t),t.children[A]=y);});t.Vl && (w=t.children[t.Vl]) && this.gN(w,t);t.eaa=!0;};v.prototype.Pjc=function(){var t;t=0;c.qg(this.Ei,function(w){d.jg.forEach(function(u){w.zc(u) && (u=w.Be(u),t+=u.Xa.Cj);});});return t;};v.prototype.Pic=function(t,w){var u,x,y;u=this;x=this.mBb(t,w);if(x){if(x !== this.ee.G){this.L4a();y=this.F6(x,this.ee,t);y.qj=void 0;y.Wlb(void 0,!0);this.Nzb(this.ee);this.gN(y,this.ee);}else this.L4a(!0).forEach(function(z){z.ie();u.mfa(z);u.bk.remove(z);});x === this.oi.G && (this.oi.vz.shift(),y && (y.vz=this.oi.vz,y.Vl=this.oi.Vl));this.Aj.o7(x,this.ee.ng);this.ee.eaa=void 0;}else this.ac("findSegment no segment for manifestIndex:",w);};v.prototype.aeb=function(t,w){var u;u=t.G;w || (w=u.HX);0;t.Vl || (t.Vl=w,t.pz(!0,this.Eb.X,!0));(w=t.children[t.Vl]) && this.gN(w,t);};v.prototype.Vfc=function(t){this.ee !== t && (this.ee=t);};v.prototype.Lu=function(t,w){var u,x,y,z,B;u=this;if(this.Cy){x=this.L;y=this.oi;z=y.G;B=(0,h.mfc)(z.id);!y.Vl && !z.Fu && y.Pc - w <= x.UQ && (this.ac(B + "updatePts making fork decision at playerPts:",t,"contentPts:",w),this.aeb(y));}d.jg.forEach(function(A){u.ee.zc(A) && u.$h[A].Lu();});};v.prototype.W7b=function(t,w){var u,x;if(this.Cy){u=this.yV;if(!(this.L.b1b && t && this.koa && t.ca === this.koa || (t=t.Xa.bb,u && t.G.id === u.G.id))){x=null === u || void 0 === u?void 0:u.Be(d.u.J);x=null === x || void 0 === x?void 0:x.Wd;this.koa=null === x || void 0 === x?void 0:x.ca;this.yV=t;this.iAb(u);u=u && u.aMb(t);this.Aj.lDb(t.G,w,u);}}};v.prototype.Oda=function(t,w,u){w.dm || (w.ca=this.$9a(t,w.ca,!0),u || (w.Ta=this.$9a(t,w.Ta,!1)),w.dm=!0,!1);};v.prototype.fha=function(t,w){var u;0;u=this.ai[t];u?c.qg(u.Km,function(x,y){x.weight=w[y] || 0;}):this.ac("updateChoiceMapEntry, unknown segment:",t);};v.prototype.$9a=function(t,w,u){t=u?t.p7a(w):t.pY(w);if(!t.length)return w;w=t[d.u.J];return u?w.ca:w.Ta;};v.prototype.yYa=function(t,w,u){var x;x=w?u.Pc:u.Yf;return (w?u.Sfa:u.dCa) <= t && t < x;};v.prototype.UXa=function(t,w,u){var B;for(var x=this.Eb,y=this.ee;y;){if((!c.Oa(u) || x.Oxa(u,y.O.Vb)) && this.yYa(t,w,y))return y;y=y.qj;}if(w){y=Object.keys(this.ee.children);for(var z=0;z < y.length;z++){B=this.ee.children[y[z]];if((!c.Oa(u) || x.Oxa(u,B.O.Vb)) && this.yYa(t,w,B))return B;}}};v.prototype.HAb=function(t,w){var u,x;u=this.F6(t,w);x=u.Wlb(w,this.L.aDa);d.jg.forEach(function(y){var z,B,A;if(u.zc(y)){z=u.Be(y);B=w.Be(y);A=x[y];y === d.u.J && u.dr(n.P.Na(B.Ec + w.ng - A));z.iS(A);}});this.Aj.o7(t,u.ng);return u;};v.prototype.Nzb=function(t){for(var w=[t.G.id];t.qj;){t=t.qj;w.unshift(t.G.id);}this.tma(t);};v.prototype.tma=function(t){var w,u;w=this;u=t.G;c.qg(t.children,function(x){x && w.tma(x);});this.bk.remove(t);t.ie();this.mfa(t);this.Aj.$na(u);};v.prototype.gN=function(t,w){var u,x,y,z;u=this;x=w.G;w.O !== t.O && this.Eb.NYa(t.O.Vb);t.active=!0;this.bk.enqueue(t);t.AO();y=g.default.time.fa();z={};c.qg(w.children,function(B){var A,C;if(B){if(B.Oe){A=B.Be(d.u.T);C=B.Be(d.u.J);B.Oe.EE=[A?A.Yo.Z:0,C?C.Yo.Z:0];B.Oe.KRb=y - B.Oe.Lba;B.Oe.Lba=void 0;z[B.G.id]=B.Oe;}B.G.id !== t.G.id && u.tma(B);}});w.children=Object.create(null);w.children[t.G.id]=t;w.sN=void 0;this.Vfc(t);this.Aj.jDb(t.G,z);1 < Object.keys(x.Km).length && t.gra();};v.prototype.iAb=function(t){var w,u;if(t){w=g.default.time.fa();u=t.vz[0];u && void 0 === u.c$?u.c$=w - u.Bs:u || (this.ac("missing metrics for branch:",t.G.id),u={tga:t.G.id,Re:!0,c$:0,Oe:{}},t.vz.unshift(u));void 0 === u.startTime && (u.startTime=w);}};v.prototype.mBb=function(t,w){var x,y,z,B;(0,k.assert)(0 <= t);for(var u in this.ai){x=this.ai[u];if(this.Eb.Oxa(x.O.Vb,w)){if(x.ca <= t && (Infinity === x.Ta || void 0 === x.Ta || t < x.Ta))return x;y=Math.min(Math.abs(t - x.ca),Math.abs(t - x.Ta));if(c.wa(z) || y < z)(z=y,B=x);}}return B;};v.prototype.vA=function(t,w,u,x,y,z,B,A,C){w=new m.VUa(t,w,u,x,y,z,B,A,void 0,C);return this.ai[t]=w;};v.prototype.HDb=function(t,w,u){var x,y,z;x=this;this.Xp=void 0;this.Q7=[];y=null;z=null;c.qg(w.segments,function(B,A){var C,D,E,G,F;C=B.startTimeMs;D=B.endTimeMs;E={};c.qg(B.next,function(L,O){E[O]={weight:L.weight || 0,Zjc:L.transitionHint || B.transitionHint,ruc:"number" === typeof L.earliestSkipRequestOffset?L.earliestSkipRequestOffset:B.earliestSkipRequestOffset};});G=B.defaultNext;c.wa(G) && (G=Object.keys(E)[0]);F=c.wa(G);G=x.vA(A,t,C,D,G,E,F,B.exitZones,B.transitionHint);C <= u && (u < D || c.wa(D))?x.Xp=G:C > u && (!y || C < z) && (y=A,z=C);F && x.Q7.push(G);});this.Xp || (this.Xp=y?this.ai[y]:this.ai[w.initialSegment]);};v.prototype.F6=function(t,w,u){var x,y,z,B;x=t.O;y=this.Eb.gi(x.Vb);z=y.Jy;B=[];[d.u.T,d.u.J].forEach(function(A){x.zc(A) && B.push(y.Xv(A));});t=new q.AOa(this.Eb,this.L,this.Aj,this.H,this,this.ana,this.tZa,this.dO,t,B,z,w,u?n.P.Na(u):void 0,this.FY,this.Eb.$h,this.Eb.Lx);this.Pzb(t);this.Ei.push(t);return t;};v.prototype.Pzb=function(t){var u;function w(x){u.Eb.emit(x.type,x);}u=this;t.addListener("locationSelected",w);t.addListener("logdata",w);t.addListener("serverSwitch",w);t.addListener("streamSelected",w);t.addListener("lastSegmentPts",w);t.addListener("managerdebugevent",w);t.addListener("requestCreated",function(x){x=x.request;u.Eb.xoa(x.mediaType,x.ca);});};v.prototype.pBb=function(t){for(var w=[t];t.qj;){t=t.qj;w.push(t);}return w;};return v;})();b.Bia=a;},function(r,b,a){var m,d,f,h;function c(k,n,p){this.mG=n;this.Im=p;this.XC=this.zZ=this.JBa=this.Ihb=this.Hhb=this.fR=this.Lc=this.bac=this.Im=this.uo=this.Ec=this.ca=this.Qu=this.Kp=this.ma=this.vbb=this.QW=void 0;}function l(k,n,p){this.Ta=n;this.ncb=p;this.K0a=this.Cqb=this.jt=this.Kp=this.BK=this.my=void 0;}function g(k,n,p,q,v,t,w){var u;u=new c(p,n,k.Im);k.forEach(function(x){var y,z;y=x.buffer;z=y.ma;x.mediaType === d.de.T?u.QW=z.length?z[0].bitrate:void 0:x.mediaType === d.de.J && (u.vbb=z.length?z[0].bitrate:void 0,u.ma=z,u.Kp=y.kk - y.Qc,u.Qu=y.Sg,u.ca=y.Qc,u.Ec=y.Ec,u.uo=x.Vd,u.Im=x.Im,u.bac=n - x.Im,u.Lc=x.Lc,u.fR=z.filter(function(B){return u.ca <= B.Iw;}).length);});this.Ek=u;this.Nv=void 0;this.R4a=q;this.jz=v;this.H1a=t;this.YCa=this.gfa=this.Ygb=this.bD=this.wO=this.l7a=this.Az=this.Lc=this.Nv=void 0;this.iHb=w;this.iCa={};}m=a(0);d=a(29).default;f=a(30).assert;h=a(6).La;c.prototype.constructor=c;l.prototype.constructor=l;g.prototype.constructor=g;g.prototype.zJ=function(k,n){var p,q,v,t,w,u,x,y,z,B,A,C,D,L,O,K,I,M,H;p=this.Ek;q=[];v=k[d.de.J];t=k[d.de.T];if(void 0 === v || void 0 === t)return !1;w=v.buffer;u=t.buffer;x=p.Lc.filter(function(J){return J.Faa();});if(void 0 === w || void 0 === u || void 0 === x || 0 === x.length)return !1;y=new l(n?h[n]:"maxbitratechanged",v.Qc,n === h.Wg);z=0;B=0;A=0;C=0;D=p.ca;k=k[d.de.J].Qc;for(var E=p.ma,G=p.fR,F=0;F < G;F++){L=E[F];O=L.offset;K=L.offset + L.ga - 1;I=L.Un;M=L.HC;H=M + I;L && M <= k && H > D && (I=L.Un,M=Math.min(I,Math.min(k,H) - Math.max(M,D) + 1),C+=M,z+=M / I * (K - O + 1),B+=L.bitrate * M,A+=L.hb * M);}p.Hhb=z;p.Ihb=C;p.JBa=0 < C?B / C:0;p.y$b=0 < C?A / C:0;p.zZ || (p.zZ=0,x.some(function(J,N){if(J.bitrate === p.vbb)return (p.zZ=N,!0);}));x.forEach(function(J){var N,W;J=J.Faa();N=[];p.XC || (p.XC=J.kp(p.ca,void 0,!0));y.my || (y.my=J.kp(y.Ta,void 0,!0),y.BK=J.length - 1);p.uo !== p.XC + p.fR && (p.uo=p.XC + p.fR);G=Math.min(y.BK,y.my + 1);for(var P=p.XC;P <= G;P++){W=J.get(P);N[P]=W;}q.push(N);});n === h.Wg && (y.Kp=w.kk - w.Qc,y.jt=u.kk - u.Qc,y.Cqb=v.Bjb,y.K0a=t.Bjb);this.Nv=y;this.Lc=x;this.Az=q;return this.l7a=!0;};g.prototype.MB=function(){var k,n,p,q,v,t,w,u,x,y,z,D,E,G,F,L,I,M;if(this.xk)return this.xk;p=this.bD;q=this.Ek;v=this.Nv;t=this.Lc;w=this.Ygb;u=this.iHb;f(void 0 !== p,"throughput object must be defined before retrieving the logdata from PlaySegment");if(p.trace && 0 === p.trace.length || void 0 === p.timestamp){if(v.ncb)(x=!1,y=!0);else v.my - q.XC + 1 <= q.fR?y=x=!0:(x=!0,y=!1);z=!0;}if(w)for(var B=w.Rba,A=w.zP,C=0;C < u.length;C++){D=u[C];(p=w[D]) && p.EAa && (y=!0);}v={bst:q.Im,pst:q.mG,s:q.XC,e:v.my,prebuf:q.fR,brsi:q.uo,pbdlbytes:q.Hhb,pbdur:q.Ihb,pbtwbr:q.JBa,pbvmaf:q.y$b};this.jz && (v.fragmentsPrebuffered=q.ma);z && (v.nt=z);y && (v.nd=y);B && (v.invalid=B);A && (v.exception=A);this.YCa && (v.rr=this.YCa);this.gfa && (v.ra=this.gfa);if(!y && !B && !A && (this.R4a || this.jz)){v.bitrate=t.map(function(H){return H.bitrate;});p=this.bD;D=p.trace;E=[];F=0;D.forEach(function(H){H=Number(H).toFixed(0);E.push(H - F);F=H;});v.tput={ts:p.timestamp,trace:E,bkms:p.$A};}if(y || z || B || A)v.feasible=x;else for((v.sols={},v.elapsed=w.dSb,C=0);C < u.length;C++){D=u[C];p=w[D];y={};if(p && p.Hs){y.algelapsed=p.hHb;y.maxHeapTotal=p.kC;y.f=p && p.Yt || !1;y.dltwbr=p.D5a;y.dlvmaf=p.G5a;y.dlvdur=p.F5a;y.dlvbytes=p.E5a;y.dlabytes=p.B5a;if(this.R4a || this.jz){G=p.Hs.filter(function(H){return H;}).map(function(H){return H.$d;});F=0;L=[];G.forEach(function(H){L.push(H - F);F=H;});y.strmsel=L;}if(this.jz){z=[];x=this.Ek.uo;try{for(var O=(k=void 0,m.__values(G)),K=O.next();!K.done;K=O.next()){I=K.value;M=this.Az[I][x];M.Ag=I;z.push(M);x++;}}catch(H){k={error:H};}finally{try{K && !K.done && (n=O.return) && n.call(O);}finally{if(k)throw k.error;}}y.fragsel=z;y.streamList=this.Lc;y.pause_dlnd_sec=p.Hs.filter(function(H){return H;}).map(function(H){return H.GBa;});y.buffer_sec=p.Hs.filter(function(H){return H;}).map(function(H){return H.uqa;});y.buffer_kb=p.Hs.filter(function(H){return H;}).map(function(H){return H.tqa;});y.buffer_frags=p.Hs.filter(function(H){return H;}).map(function(H){return H.M1a;});y.elapsed_secs=p.Hs.filter(function(H){return H;}).map(function(H){return H.c6a;});y.throughput=p.Hs.filter(function(H){return H;}).map(function(H){return H.Ya;});}}v.sols[D]=y;}return this.xk=v;};g.prototype.RUb=function(k){var q;if(void 0 !== this.iCa[k])return this.iCa[k];for(var n=this.Az[this.Ek.zZ],p=0;p < n.length;p++){q=n[p];if(q && q.ca <= k && q.ca + q.duration > k)return this.iCa[k]=q;}throw Error("findPlayingFragment: missing");};r.exports=g;},function(r,b,a){var g,m;function c(d,f,h){this.ga=d;this.no=f;this.quality=h;}function l(d,f){this.Aza=f;void 0 === f && (this.Aza=!0);this.On=d;this.aAb();}g=a(0);m=a(2).assert;c.prototype.constructor=c;c.prototype.PB=function(){return 8 * this.ga / 1E3 / this.no;};l.prototype.constructor=l;l.prototype.Hi=function(d,f,h,k,n){void 0 === f && (f=0);void 0 === h && (h=d.cQ());void 0 === k && (k=0);void 0 === n && (n=d.On.length);for(var p=[],q,v=k;v < n;v++){k=[];for(var t=f;t < h;t++){q=d.On[v][t];k.push(q);}p.push(k);}return new l(p,d.Aza);};l.prototype.aAb=function(){var d,f,n;f=this.On[0].length;try{for(var h=g.__values(this.On.slice(1)),k=h.next();!k.done;k=h.next()){n=k.value;m(n.length === f,"expect chunk.length === n but got " + n.length + " and " + f);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (d=h.return) && d.call(h);}finally{if(p)throw p.error;}}this.Aza && this.bAb();this.cAb();};l.prototype.cQ=function(){return this.On[0].length;};l.prototype.bAb=function(){for(var d=0;d < this.On.length - 1;d++){for(var f=0;f < this.cQ();f++){m(this.On[d][f].ga <= this.On[d + 1][f].ga,"Chunk size for epoch " + f + " is not monotonic");}}};l.prototype.cAb=function(){for(var d=0;d < this.On.length - 1;d++){for(var f=0;f < this.cQ();f++){m(1E-8 > Math.abs(this.On[d][f].no - this.On[d + 1][f].no),"Chunk duration for epoch " + f + " is not consistent");}}};l.prototype.t_b=function(){var d;d=[];this.On[0].forEach(function(f){d.push(f.no);});return d;};r.exports={$sb:c,atb:l};},function(r,b,a){var m;function c(){}function l(d,f,h){void 0 === h && (h=!1);m(d.length === f.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < g(d),"bitrate zero, won't be able to send anything.");this.CE=d;this.X5a=f;this.repeat=h;this.Sn=this.qq=0;}function g(d){return d.reduce(function(f,h){return f + h;},0);}m=a(2).assert;c.prototype=Error();l.prototype.constructor=l;l.prototype.Hi=function(){var d;d=new l(this.CE,this.X5a,this.repeat);d.qq=this.qq;d.Sn=this.Sn;return d;};l.prototype.wwa=function(){return this.CE[this.qq % this.CE.length];};l.prototype.vF=function(){return this.X5a[this.qq % this.CE.length];};l.prototype.HRb=function(d){m(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.qq && this.qq < this.CE.length))throw new c();m(this.Sn < this.vF(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.vF() - this.Sn;f=d < f?d:f;d-=f;this.Sn+=f;if(this.Sn < this.vF())break;this.Sn-=this.vF();this.qq+=1;if(!this.repeat && this.qq >= this.CE.length){if(0 < d)throw new c();break;}}};l.prototype.Fhb=function(d){this.HRb(d);};l.prototype.IRb=function(d){m(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.qq && this.qq < this.CE.length))throw new c();m(this.Sn < this.vF(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,h=0;;){f=this.vF() - this.Sn;f=d < f * this.wwa()?d / this.wwa():f;d-=this.wwa() * f;h+=f;this.Sn+=f;if(this.Sn < this.vF())return h;this.Sn-=this.vF();this.qq+=1;if(!this.repeat && this.qq >= this.CE.length){if(0 < d)throw new c();return h;}}};r.exports={qzb:l,rzb:c};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;Object.defineProperties(b,{__esModule:{value:!0}});b.fzb=b.wka=b.hzb=b.xVa=void 0;r=a(0);c=r.__importStar(a(12));l=r.__importDefault(a(3));g=r.__importDefault(a(30)).default.mK;m=r.__importStar(a(8)).Oi;d=r.__importDefault(a(452));f=a(436);h=a(76);k=a(6);n=a(21);p=a(2);q=a(116);v=a(270);t=a(196);a=(function(){function y(z,B,A,C,D,E,G,F,L,O,K){var I;I=this;this.H=z;this.Zh=B;this.L=A;this.zc=C;this.X=D;this.C1=E;this.Ac=G;this.Lb=F;this.xh=L;this.c9=O;this.mI=K;this.J7=[];this.Eoa=[];this.ZYa=[];this.qXa=void 0;[h.u.T,h.u.J].forEach(function(M){I.zc(M) && (I.J7[M]=new x(I.H,M),I.Eoa[M]=new w(M),I.ZYa[M]=new u(M));});this.mqb=new q.eN(this.H);this.ZS=(0,q.eJ)(this.L,this.mqb);this.Vpa=(0,q.dJ)();this.XH=void 0;}Object.defineProperties(y.prototype,{hh:{get:function(){return this.J7;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{YC:{get:function(){return this.Eoa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Py:{get:function(){return this.ZYa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{JI:{get:function(){return this.qXa;},set:function(z){this.qXa=z;},enumerable:!1,configurable:!0}});y.prototype.Rw=function(z,B){this.mqb.Rw(z,B);};y.prototype.zza=function(z){var B,A,C,D,E,G;B=this.L;A=z.mediaType;C=l.default.Cq()[A];D=B.zlc?A === h.u.T?B.HW:B.M2:A === h.u.J?B.HW:B.M2;E=this.X.getState();G=this.X.eg();B=z.Xa.bb;A=this.c9.beb(B,A);C={xt:C,ca:A.Bd,Qc:G,Ec:A.wR || G,kk:A.nX || G,Sg:A.Sg,Rj:A.Rj,Dp:A.Dp,X7a:A.ma.length,ma:[]};D={state:E,js:this.X.js(),Vd:z.Xm,buffer:C,TX:D,lP:!!this.C1.dn,Cj:this.Ac && this.Ac.Cj,hfa:z.DZb,playbackRate:this.X.Nt()};void 0 === D.Vd && (D.Vd=z.aua(C.Ec));D.ZW=B.ZW;C.ma=A.ma;c.Oa(C.ca)?z.seeking && C.Qc != C.ca && (C.Qc=C.ca):(C.ca=0,C.Ec=0);this.Zh.UKb(D);this.Zh.HGb(D);return D;};y.prototype.fra=function(z,B,A){var F,L;z=this.J7[z];for(var C=z.maxBitrate,D="manifest",E=0,G=B.length - 1;0 <= G;G--){F=B[G];L=F.bitrate;if(g(F)){E=Math.max(E,L);break;}else this.L.Z1 && !F.Tv?D="bc":F.gs?F.RB && (D="hf"):D="av";}if(void 0 === C || E !== C)(z.maxBitrate=E,this.Lb.R7b(C,E,D,A));};y.prototype.BZb=function(z){return this.hwa(z).Ag;};y.prototype.hwa=function(z){var B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U;B=this.L;A=z.mediaType;C=A == h.u.J;D=0;E=this.J7[A];G=this.Eoa[A];if(!E.cf)return {Ag:void 0};F=this.zza(z);L=z.De;O=L.nl;K=z.Bca.O;I=z.track.Lc;if(!K.wk.E2(K.N,I))return (z.Ll("location selector did not find any urls"),{Ag:void 0});M=(0,v.Hea)(F.state);H=C?this.ZS:this.Vpa;try{J=H.kl(I,M);}catch(fa){this.H.error("StreamFilters: filterStreams: " + fa);J=[I[0]];}0 === J.length && (this.H.error("StreamFilters: empty list"),J=[I[0]]);if(this.mI.Jt && (z.hF.length !== J.length || 0 < (0,n.zv)(z.hF,J).length || 0 < (0,n.zv)(J,z.hF).length)){try{this.XH && this.CUb();}catch(fa){this.Lb.xp("Hindsight: Error when handling maxbitrate chagned: " + fa);}z.hF=J;}M=O?O.Ag:E.tua;try{if(O && (D=O.bitrate,O && L.track && !O.track.equals(L.track))){N=(0,f.cua)(J,D) || 0;P=J[N];if(O.bitrate !== P.bitrate || A === h.u.J)F.state=k.La.Yh;O=P;M=I.indexOf(P);}}catch(fa){this.H.error("StreamFilters: track change: " + fa);}if(!C && (D=B.BS,!(D && 0 < D.length) && M && I[M] && O && O.location === I[M].location))return {Ag:M};O=this.Zh;try{W=O.TP(A);V=C?O.CY():O.fZ();S=new t.LU();S.zW(J);U=z.Yj.sEa(F,S,V,W,E.cf.config.ou,K.tq);if(!U)return (z.Ll("stream selector did not find a stream"),{Ag:void 0});}catch(fa){this.H.error("StreamFilters: stream selector: " + fa);U={$d:0};}U.$d=I.indexOf(J[U.$d]);this.C1.dn && this.C1.dn.MGb(z.mediaType,U,I);C && this.fra(A,J,z.Ec);F=U.$d;J=I[F];W=J.bitrate;F != M && (C && B.nP && this.xh.gXa(z,W),C?O.EL(W):O.TC(W));c.Oa(E.tua) || (E.tua=F);z.Kg || (U.Kg?((0,p.assert)(void 0 !== U.d9),z.aga(U.d9),G.Ev=U.d9):(z.TF=U.TF,z.zG=U.zG,z.progress=U.progress));this.uA();if(C)if(U.AB)K.hS(U.AB);else if(!K.oba() && !B.Jmb)for(z=0;z < I.length;++z){if((B=I[z],B.nw && !K.Yr(A,B.Sa))){K.hS([B.Sa]);break;}}U.e1a && this.Lb.Y7b(U.e1a);return {Sa:J.Sa,Ag:F,Wy:U.Wy};};y.prototype.uA=function(){var z,B,A,C,D,E;A=this.hh[h.u.T];C=this.hh[h.u.J];D=this.YC[h.u.J];E=this.YC[h.u.T];A=this.c9.md.KKb(null !== (z=null === C || void 0 === C?void 0:C.Dw) && void 0 !== z?z:0,null !== (B=null === A || void 0 === A?void 0:A.Dw) && void 0 !== B?B:0,this.JI,this.C1.D0);A.Ev && (this.C1.Ao && D?D.Ev=A.Ev:E && (E.Ev=A.Ev));return A.Kg;};y.prototype.Yta=function(z,B){var A,C,D,E;A=this;if(this.XH){C=this.XH;D=this.X.eg();E=[];B && (D=B.Ta);h.jg.forEach(function(G){var F,L;F=A.c9.md.Be(G);if(F){L=A.zza(F);L.mediaType=G;L.Qc=D;z === k.La.Wg && (L.Bjb=F.Xa.Cpa(D));E[G]=L;}});C.l7a || C.zJ(E,z) || this.CDa();return C;}};y.prototype.CUb=function(){var z,B;z=this.XH;B=this.L;z && (this.Yta(void 0),z && !z.wO && this.Zh.PCa.Ata(z));this.e4a(B);};y.prototype.CDa=function(){this.XH=void 0;};y.prototype.alc=function(z){var B,A,C;B=z.oldValue;z=z.newValue;A=this.XH;C=this.L;z === k.La.Xc && B !== k.La.Xc?(A && this.H.warn("override an existing play segment!"),this.e4a(C,B,!0)):z !== k.La.Xc && B === k.La.Xc && A && (this.Yta(z),A && !A.wO && this.Zh.PCa.Ata(A),this.CDa());};y.prototype.e4a=function(z,B,A){var C,D,E;C=this;D=[];h.jg.forEach(function(G){var F,L,O;F=C.c9.md.Be(G);if(F){L=C.zza(F);if(A){O=C.hh[G];O.oFa?(L.Im=O.oFa,O.oFa=void 0):L.Im=O.Im;}else L.Im=l.default.time.fa();L.Lc=F.hF;L.mediaType=G;D[G]=L;}});E=l.default.Cq();E={Msc:E[h.u.T],kqb:E[h.u.J],fwc:z.Jeb,qw:z.qw};this.XH=new d.default(D,l.default.time.fa(),B,this.mI.$X,z.jz,E,z.xba);};return y;})();b.xVa=a;w=(function(){function y(z){this.mediaType=z;this.aX=this.qy=this.WB=this.Ev=this.XB=void 0;}y.prototype.flc=function(z,B,A){this.XB=z?z:this.XB;this.Ev=this.Ev;this.WB=B?B:this.WB;this.qy=A?A:this.qy;};return y;})();b.hzb=w;u=(function(){return function(y){this.mediaType=y;this.Gya=this.Nya=this.Iya=this.tK=void 0;};})();b.wka=u;x=(function(){return function(y,z){this.mediaType=z;this.H=m(l.default,y,"[" + z + "]");this.Ll=this.H.error.bind(this.H);this.ac=this.H.warn.bind(this.H);this.fk=this.H.trace.bind(this.H);this.Fg=this.H.log.bind(this.H);this.H.debug.bind(this.H);this.tua=this.Im=this.kq=this.cf=void 0;this.E0=this.Dw=0;this.W2=!1;this.maxBitrate=void 0;};})();b.fzb=x;},function(r,b,a){var q,v,t,w,u,x,y,z,B,A,C,D,E;function c(){}function l(G,F){var L,O,K,I;L=q.qd(F)?F:c;this.L=G || ({});(function(M,H,J){this.Uk[M].kf[H]=J;}).bind(this);(function(M,H){return this.Uk[M].kf?this.Uk[M].kf[H]:void 0;}).bind(this);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.kb=G.vuc?D.kb:c;O=w.vOb(G);K=this.L.dailyDiskCacheWriteLimit;if(O){this.Fx=O;I=k(G.nwc || E,w.kXb());this.PA=function(M){return q.wa(I) || null === I || void 0 === this.Uk[M]?!1:!q.wa(I[M]);};I?(this.Uk={},F=v.Promise.all(Object.keys(I).map(function(M){return new v.Promise(function(H,J){var N;N=I[M];N.Wpb=G.Wpb;new u(M,O,N,function(P,W){P?J(P):H(W);},K);});})).then((function(M){M.map((function(H){var J;J=H.Kx;this.Uk[J]=H;I[J].JVb=I[J].xt - H.OA;this.Uk[J].on(u.ff.REPLACE,(function(N){N=N || ({});N.partition=J;N.type="save";this.kb("mediacache",N);}).bind(this));this.Uk[J].on(u.ff.WWa,(function(N){N=N || ({});N.partition=J;N.type="save";this.kb("mediacache",N);}).bind(this));this.Uk[J].on(u.ff.Cg,(function(N){N=N || ({});N.partition=J;N.type=u.ff.Cg;this.kb("mediacache-error",N);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(M){f(O,v.storage.uU,Object.keys(I));return M;}).bind(this)).then((function(M){Object.keys(M.Uk).map(function(H){M.Uk[H].nva().map(function(J){M.delete(H,J);});});M.hw=!0;L(null,M);}).bind(this)).catch((function(M){t.error("Failed to initialize media cache ",M);this.eK=A.yKa;L(this.eK,this);}).bind(this)),C.cz(F)):(this.eK=A.Pvb,L(this.eK,this));}else (this.eK=A.yKa,L(this.eK,this));}function g(G,F,L,O,K,I){var M;M=I?"mediacache-error":"mediacache";F={partition:L,type:F,resource:O,time:v.time.now()};I && (F.error=I);K && (q.Oa(K.duration) && (F.duration=K.duration),q.Oa(K.cB) && (F.bytesRead=K.cB));try{G.kb(M,F);}catch(H){t.warn("caught exception while emitting basic event",H);}}function m(G,F,L,O,K){var I;I=K?"mediacache-error":"mediacache";F={partition:L,type:F,resources:O,time:v.time.now()};K && (F.error=K);try{G.kb(I,F);}catch(M){t.warn("caught exception while emitting basic event",M);}}function d(G){return !x.rQ(G) && !z.D2b(G);}function f(G,F,L){G.query(F,"",function(O,K){O || Object.keys(K).filter(function(I){return 0 > L.indexOf(I.slice(0,I.indexOf(".")));}).map(function(I){G.remove(F,I,c);});});}function h(G,F,L){var K,I;function O(M){G.delete(K,function(H){H?L(H):(delete G.kf[I],H=Object.keys(M.resourceIndex),H=v.Promise.all(H.map(function(J){return new v.Promise(function(N,P){G.delete(J,function(W){W?P(W):N(J);});});})).then(function(){L();},function(J){L(J);}),C.cz(H));});}if(x.rQ(F))(K=F,I=x.L$(F));else (K=x.bsa(F),I=F);(F=G.kf[I])?O(F):G.read(K,function(M,H){M?L(M):O(H);});}function k(G,F){var L,O,K;L={};O=G.partitions.reduce(function(I,M){return I + M.capacity;},0);K=F / O;G.partitions.map(function(I){var M;M=I.key;L[M]={};L[M].xt=Math.floor(K * I.capacity);L[M].DPb=I.dailyWriteFactor || 1;L[M].Qwc=I.owner;L[M].CTb=I.evictionPolicy;});return L;}function n(G,F,L){if(L)return z.nRb(G,F).reduce(function(O,K){Object.keys(K).map(function(I){O[I]=K[I];});return O;},{});L={};L[G]=F;return L;}function p(G,F,L,O,K,I,M,H,J,N,P){return function(W,V){W?q.isArray(W)?(V=W.map(function(S){return S.error;}),V.some(function(S){return S.code === A.pM.code;}) && !V.some(function(S){return S.code === A.m6.code;})?P(N,W,function(){J.save(F,L,O,K,I,M);}):(N.delete(H),delete N.kf[L],I({error:W[0].error,yw:W[0].yw,type:W[0].type,m0a:W}))):I({error:W,yw:F,type:"save"}):(W=V.items.filter(function(S){return 0 <= Object.keys(G).indexOf(S.key);}).reduce(function(S,U){return S + U.mca;},0),N.kf[L].fmb(W),W={JVb:V.lp,Ptc:V.ZO,Sl:0,items:V},0 < V.Sl && (W.Sl=V.Sl),0 < V.duration && (W.duration=V.duration),I(null,W));};}q=a(12);v=a(135);t=new v.Console("MEDIACACHE","media|asejs");w=a(1081);u=a(1082);x=a(457);y=a(136);z=a(1089);B=a(1090);A=a(275);C=a(276);D=a(458).EventEmitter;E={Vwc:[]};l.prototype.U0=function(G,F,L){var O;O=q.qd(L)?L:c;this.PA(G)?this.Uk[G].query(F,function(K,I){K?(t.error("Failed to query resources",K),O([])):O(I.filter(d));}):O([]);};l.prototype.read=function(G,F,L){var O,K,I,M;O=q.qd(L)?L:c;if(this.PA(G)){K=this.Uk[G];I=K.kf[F];if(!x.rQ(F) && this.L.m6b){M=(function(H){K.dfa(Object.keys(H),(function(J,N,P){J?O(A.VM.Ls("Failed to read " + F,J)):(g(this,"read",G,F,P),O(null,z.X1b(N)));}).bind(this),H);}).bind(this);I?M(I.resourceIndex):this.occ(G,F,function(H,J){H?O(A.VM.Ls("Failed to read " + F,H)):M(J.resourceIndex);});}else K.read(F,(function(H,J,N){H?O(A.VM.Ls("Failed to read " + F,H)):(I && I.convertToBinaryData && (J=B.wMb(J)),g(this,"read",G,F,N),O(null,J));}).bind(this));}else O(A.zD);};l.prototype.dfa=function(G,F,L){var O,K;O=q.qd(L)?L:c;if(this.PA(G)){K={};F=v.Promise.all(F.map((function(I){return new v.Promise((function(M,H){this.read(G,I,function(J,N){J?(N={},N[I]=J,H(N)):(K[I]=N,M());});}).bind(this));}).bind(this))).then(function(){O(null,K);},function(I){O(I);});C.cz(F);}else O(A.zD);};l.prototype.$kb=function(G,F,L){var O;O=q.qd(L)?L:c;this.PA(G)?"[object Object]" !== Object.prototype.toString.call(F)?O(A.l6.Ls("items must be a map of keys to objects")):(L=new v.Promise((function(K){var I,M;I=this.Uk[G].nva();M=Object.keys(F);(I=I.filter(function(H){return -1 === M.indexOf(H);})) && 0 < I.length?this.k5a(G,I,function(){K();}):K();}).bind(this)).then((function(){return v.Promise.all(Object.keys(F).map((function(K){return new v.Promise((function(I,M){this.save(G,K,F[K].Ds,F[K].gd,function(H,J){H?(t.error("Received an error saving",K,H),M(H)):I(J);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(K){var I,M,H;try{I=Number.MAX_VALUE;M=Number.MAX_VALUE;H=K.reduce(function(J,N){N.lp && N.lp < I && (I=N.lp);N.ZO && N.ZO < M && (M=N.ZO);I < Number.MAX_VALUE && (J.freeSize=I);M < Number.MAX_VALUE && (J.dailyBytesRemaining=M);q.Oa(N.Sl) && (J.bytesWritten+=N.Sl);q.Oa(N.duration) && (J.duration+=N.duration);return J;},{partition:G,type:"saveMultiple",keys:Object.keys(F),time:v.time.now(),bytesWritten:0,duration:0});this.kb("mediacache",H);O(null,H);}catch(J){O(err);}}).bind(this),(function(K){q.isArray(K.m0a)?K.m0a.forEach((function(I){this.kb("mediacache-error",{partition:G,type:"saveMultiple",error:I.error,resources:I.resources});}).bind(this)):this.kb("mediacache-error",{partition:G,type:"saveMultiple",error:K});O(K);}).bind(this)),C.cz(L)):(q.qd(L)?L:c)(A.zD);};l.prototype.save=function(G,F,L,O,K,I){var M,H,J,N,P,W,V,S,U;M=q.qd(K)?K:c;if(this.PA(G)){H=this.Uk[G];J=x.bsa(F);K=H.nva();K=K.filter(function(fa){return fa !== F;});if(q.wa(O) || q.wb(O) || !q.Oa(O.lifespan))M(A.qwb);else {N=n(F,L,this.L.m6b);P=H.kf[F] || ({});W=P.resourceIndex;W && Object.keys(W).map(function(fa){q.wa(N[fa]) && H.delete(fa);});O.convertToBinaryData && (L=B.xMb(N),N=n(F,L,!1));W=v.time.now();V={};V.partition=G;V.resourceIndex=Object.keys(N).reduce(function(fa,qa){fa[qa]=y.twa(N[qa]);return fa;},{});V.creationTime=P.creationTime || W;V.lastRefresh=W;V.lifespan=O.lifespan;V.lastMetadataUpdate=W;V.size=P.size;V.convertToBinaryData=O.convertToBinaryData;S=(function(fa,qa,xa){fa.EQb((function(Aa,Oa){Aa && t.error("Evicting","Failed to delete some orphaned records",Aa);Oa.cDa?xa():(Aa=fa.xXb())?this.delete(fa.Kx,Aa,(function(T){T?(I || (q.isArray(qa)?qa.forEach((function(X){m(this,"save",fa.xYb,X.resources,X.error);}).bind(this)):g(this,"save",fa.Kx,F,void 0,qa)),M(qa)):xa();}).bind(this)):M(A.pM);}).bind(this));}).bind(this);U=(function(){var fa,qa,xa;fa=this.Uk;qa=0;xa=v.time.now();if(!q.wa(fa))for(var Aa in fa){qa+=fa[Aa].LWb(xa);}return qa;}).bind(this);this.k5a(G,K,(function(){H.replace(J,V,(function(fa,qa){qa?(H.kf[F]=x.Hua(V),H.Cdc(N,p(N,G,F,L,O,M,I,J,this,H,S),I,U)):fa.code === A.pM.code?S(H,fa,(function(){this.save(G,F,L,O,M,I);}).bind(this)):M(fa);}).bind(this),I,U);}).bind(this));}}else M(A.zD);};l.prototype.delete=function(G,F,L){var O;O=q.qd(L)?L:c;this.PA(G)?h(this.Uk[G],F,(function(K){g(this,"delete",G,F,void 0,K);O(K);}).bind(this)):O(A.zD);};l.prototype.k5a=function(G,F,L){var O,K;O=q.qd(L)?L:c;if(this.PA(G)){K=this.Uk[G];L=v.Promise.all(F.map((function(I){return new v.Promise((function(M){h(K,I,(function(H){M({ja:q.wa(H),error:H,Ds:I});}).bind(this));}).bind(this));}).bind(this))).then((function(I){var P,W;for(var M=[],H=[],J=[],N=0;N < I.length;N++){P=I[N];P.ja?M.push(P.Ds):P.error && H.push(P);}0 < M.length && m(this,"delete",G,M);if(0 < H.length){J=H.map(function(V){return V.Ds;});I=C.Y$a(H);W=I[0];I.forEach((function(V){t.error("Failed to delete resources ",V.error,V.resources);m(this,"delete",G,V.resources,V.error);}).bind(this));}I={};I.oxc=M;0 < J.length && (I.pxc=J);W?O(W,I):O(void 0,I);}).bind(this),(function(I){m(this,"delete",G,F,I);O(I);}).bind(this));C.cz(L);}else O(A.zD);};l.prototype.clear=function(G,F){var L;L=q.qd(F)?F:c;this.PA(G)?this.Uk[G].clear(function(O){L(O.filter(d));}):L(A.zD);};l.prototype.occ=function(G,F,L){var O,K;O=q.qd(L)?L:c;if(this.PA(G)){K=this.Uk[G];K.read(x.bsa(F),function(I,M){var H;if(I)O(A.rwb);else {H=x.Hua(M) || ({});K.e$a(Object.keys(H.IDa),function(J){H.size=J;(J=K.kf[F]) && (H.lastMetadataUpdate && J.lastMetadataUpdate && J.lastMetadataUpdate <= H.lastMetadataUpdate?K.kf[F]=H:J.lastMetadataUpdate && (J.lastMetadataUpdate > H.lastMetadataUpdate || q.wa(H.lastMetadataUpdate)) && (H=J));O(null,H);});}});}else O(A.zD);};l.prototype.constructor=l;r.exports=l;},function(r,b,a){var m,d;function c(f,h,k,n,p,q){return new g(f,h,k,n,p,q);}function l(f){return f && 0 <= f.indexOf(".__metadata__");}function g(f,h,k,n,p,q){this.partition=f;this.lifespan=k;this.resourceIndex=h;this.size=n;this.creationTime=p;this.lastRefresh=q;return this.Aob();}m=a(12);d=a(135);a(136);new d.Console("MEDIACACHE","media|asejs");g.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.Aob();};g.prototype.fmb=function(f){this.size=f;};g.prototype.v3a=function(){var f;f=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - f) / 1E3;};g.prototype.Aob=function(){this.lastMetadataUpdate=d.time.now();return this;};g.prototype.constructor=g;r.exports={create:c,Hua:function(f){var h;h=f;"string" === typeof f && (h=JSON.parse(f));if(h && h.partition && !m.wa(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (f=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (f.lastMetadataUpdate=h.lastMetadataUpdate),!m.wa(h.size) && 0 <= h.size && f.fmb(h.size),f.v3a(),f.convertToBinaryData=h.convertToBinaryData,f);},bsa:function(f){return f + ".__metadata__";},L$:function(f){return l(f)?f.slice(0,f.length - 13):f;},rQ:l};},function(r,b,a){r.exports={EventEmitter:a(1085),gf:a(1086)};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.SP=void 0;c=a(0).__importDefault(a(3));l=a(1094);b.SP=function(){var m;if(!g){m=new c.default.Console("ASEJS","media|asejs");g=new l.cIa(m);}return g;};},function(r,b,a){var p,q,v;function c(t){return t.Eu - t.Et;}function l(t,w){return Math.exp(-(Math.log(2) / t) * w);}function g(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function m(t,w){var u,x,y,z,B;u=w.uCa;x=w.tCa;y=w.M0;if(0 === w.ri.length)return {o8:!1};z=w.ri[0];w=z.Re;B=z.AF;z=z.duration;if(!B || 1 === y)return {o8:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(u < x)return {o8:!1};x=u - x;u=y + x / z * (1 - y);z-=x;B=B * (1 - u) / (1 - y);t=w * u / y * l(t,z) + B * g(t,z);(0,q.assert)(1 >= t);return {o8:!0,bHb:t};}function d(t){var w,u,x,y,z;w=t.Un;u=t.qnb;x=t.QC;y=t.Eu;z=t.Et;t=t.E7a;(0,q.assert)(void 0 !== u);(0,q.assert)(void 0 !== w);x=1 - x;y-=z;t?(z=u - t - y,w-=t,0 >= z?t=Math.max(0,(u - t) / w):(u=w - z,t=0 < u?y / u:0,x*=0 < u?u / w:1)):(z=u - y,0 >= z?t=u / w:(u=w - z,t=0 < u?y / u:0,x*=0 < u?u / w:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= x);(0,q.assert)(1 >= x);return 1 - t * x;}function f(t,w){t=Math.log(2) / t.Cjb;return h(w) * Math.exp(-t * c(w));}function h(t){var w;return (null !== (w=t.VJ) && void 0 !== w?w:1) * t.ri.reduce(function(u,x){var y;y=x.AF;return u * (x.Re + (void 0 === y?0:y));},1);}function k(t){var w,u,x,y;if(0 === t.ri.length)return 0;u=0;if(1 > t.M0){u=t.uCa;x=t.tCa;y=null !== (w=t.ri[0].duration) && void 0 !== w?w:0;u=Math.max(0,Math.min(y,u - (x - y)));}return t.ri.reduce(function(z,B){B=B.duration;return z + (void 0 === B?0:B);},0) - u;}function n(t){return t.ri.filter(function(w){return !w.AF;}).reduce(function(w,u){return w * u.Re;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Qqa=b.h2a=b.cKb=b.g2a=b.gKb=void 0;p=a(6);q=a(2);v=a(10);b.gKb=c;b.g2a=function(t,w,u){var x,y,z,B,A,C,D,E;if(!t.u$ || (0,p.Hq)(w.Lg))return f(t,w);y=t.Cjb;t=c(w);z=k(w);B=n(w);A=m(y,w);C=A.o8;A=A.bHb;A=void 0 === A?1:A;D=1 > w.QC?d(w):1;E=(null !== (x=w.VJ) && void 0 !== x?x:1) * B * l(y,t - z) * A * D * w.ri.filter(function(G,F){return G.AF && (0 < F || !C);}).reduce(function(G,F){var L,O;L=F.AF;O=F.duration;O=void 0 === O?0:O;L=void 0 === L?0:L;F=F.Re * l(y,O) + L * g(y,O);return G * F;},1);v.M && (null === u || void 0 === u?void 0:u.log(("{").concat(w.groupId,"} [").concat(w.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(w.QC,", ") + ("pssp: ").concat(w.M0,", ") + ("streamingDuration: ").concat(w.qnb,", ") + ("duration: ").concat(w.Un,", ") + ("seamlessProbability: ").concat(B,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(l(y,t - z),", ") + ("adjustedFirstTerm: ").concat(A,", streamingAdjustment: ").concat(D,", ") + ("probabilities: ").concat(JSON.stringify(w.ri)," => ").concat(E)));return E;};b.cKb=f;b.h2a=h;b.Qqa=n;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qU=void 0;c=a(6);r=(function(){function l(){this[c.u.T]=0;this[c.u.J]=0;this[c.u.Za]=0;}Object.defineProperties(l.prototype,{total:{get:function(){return this[c.u.T] + this[c.u.J] + this[c.u.Za];},enumerable:!1,configurable:!0}});l.prototype.add=function(g){this[c.u.T]+=Math.max(g[c.u.T] || 0,0);this[c.u.J]+=Math.max(g[c.u.J] || 0,0);this[c.u.Za]+=Math.max(g[c.u.Za] || 0,0);};l.prototype.jpa=function(g,m){this[g]+=Math.max(m || 0,0);};return l;})();b.qU=r;c.u.T;c.u.J;c.u.Za;},function(r,b,a){var l,g,m,d;function c(){return l.__awaiter(this,void 0,void 0,function(){var f;return l.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return l.__importStar(a(459));})];case 1:return (f=h.ub().SP,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.WY=void 0;l=a(0);g=a(1108);m=l.__importDefault(a(3));b.WY=function(f){var h;h=new m.default.Console("ASEJS","media|asejs");d || (d=new g.RTa(function(){return c();},f,h));return d;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(0);l=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);return m;})(Error);b.AssertionError=l;b.assert=function(g,m){if(!g)throw new l(m || "Assertion failed");};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.S$=b.SUb=b.dua=void 0;c=a(280);b.dua=function(l,g){var m;m=void 0;return Object.keys(l.U).some(function(d){var f;return null === (f=(m=l.U[d]).next) || void 0 === f?void 0:f[g];})?m:void 0;};b.SUb=function(l,g){return c.Oc(Object.keys(l.U),function(m){var d;return null === (d=l.U[m].next) || void 0 === d?void 0:d[g];});};b.S$=function(l,g){return Object.keys(l.U).filter(function(m){var d;return null === (d=l.U[m].next) || void 0 === d?void 0:d[g];});};},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p){return p === d.u.J?0:p === d.u.T?1:p === d.u.Za?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.Aia=b.rD=b.Mwb=b.WG=void 0;l=a(0);g=a(13);m=a(10);d=a(6);f=l.__importDefault(a(3));h=a(8);k=a(2);b.WG=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.Mwb={WG:b.WG};(function(p){p[p.ET=0]="CREATED";p[p.wT=1]="CANCELLED";})(n=b.rD || (b.rD={}));r=(function(){function p(q,v,t,w,u){this.gq=q;this.hYa=v;this.vr=t;this.ao=w;this.Tc=n.ET;this.iO=[];this.events=new g.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,h.Oi)(f.default,u,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Qf:{get:function(){return this.Tc === n.wT;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{G:{get:function(){return this.gq;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Fe:{get:function(){return this.iO;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.hYa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.oa=function(){return l.__awaiter(this,void 0,void 0,function(){var q,v,t;t=this;return l.__generator(this,function(){if(q=this.parent)(q.Sc && (v=q.Sc.Ea(this.ao),this.dr(v,"init from parent")),q.bT.then(function(){var w;if(!t.Qf){w=t.parent;(0,k.assert)(w,"Parent is undefined after parent normalization");w.Sc && (w=w.Sc.Ea(t.ao),t.dr(w,"parent normalization"));}}));return [2];});});};p.prototype.dr=function(q,v){void 0 === v && (v="unknown");m.M && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.Z) + (" from ").concat(this.vr.Z,".  ").concat(v));this.vr=q;};p.prototype.ie=function(){this.hYa=void 0;};p.prototype.rba=function(q){return this.Fe.some(function(v){return v.mediaType === q;});};return p;})();b.Aia=r;},function(r,b,a){var g,m,d,f;function c(h,k,n,p,q){var v,t;n=null !== (v=k.pd) && void 0 !== v?v:k.track.jp(h,n.Z,void 0,q);h=null !== (t=k.Wd) && void 0 !== t?t:k.track.HB(h,null === p || void 0 === p?void 0:p.Z,k.Th);return [!k.Bh(),n,h];}function l(h,k){var C,D;for(var n=[],p=0,q=h[p],v=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],w=k.Wd.index,u=k.track.Zq,x=0,y=k.pd.oc,z=k.pd.Ld.Z > q[0],B=z,A=k.pd.index;A <= w;++A){C=!1;if(q){D=u.get(A);z && (D.oc.Z >= t?(z=!1,++p >= h.length?t=v=q=void 0:(q=h[p],v=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):B?B=!1:(n.push(new d.L5(x,y,D.oc)),y=D.oc,C=!0));!z && q && D.Ld.Z > v && (z=!0,C=D.oc,(D=k.track.dK.Zl(A).y7a(v)) && 0 !== D.sj && (C=f.P.Na(D.ue)),n.push(new d.L5(x,y,C)),y=C,C=!0);}C && ++x;}n.push(new d.L5(x,y,k.Wd.Ld));return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.H5b=b.oeb=b.kgb=b.igb=b.oDa=void 0;g=a(0);m=a(6);d=a(467);f=a(8);b.oDa=function(h,k,n){var p,q,v;v=k.get(m.u.T);k=k.get(m.u.J);k=null === k || void 0 === k?void 0:k.track.HB(h,null === n || void 0 === n?void 0:n.Z,k.Th);return [null === v || void 0 === v?void 0:v.track.HB(h,null !== (q=null === (p=null === k || void 0 === k?void 0:k.Ld) || void 0 === p?void 0:p.Z) && void 0 !== q?q:null === n || void 0 === n?void 0:n.Z,v.Th),k];};b.igb=function(h,k,n,p,q){var v,t,w,u;v=k.get(m.u.T);k=k.get(m.u.J);t=g.__read(k?c(h,k,n,p,q):[!1],3);w=t[0];u=t[1];t=t[2];p=g.__read(v?c(h,v,w && void 0 !== (null === u || void 0 === u?void 0:u.ca)?f.P.Na(u.ca):n,void 0 !== (null === t || void 0 === t?void 0:t.Ta)?f.P.Na(null === t || void 0 === t?void 0:t.Ta):p,q):[!1],3);h=p[0];n=p[1];p=p[2];h && (null === v || void 0 === v?void 0:v.Qba(n,p));w && (null === k || void 0 === k?void 0:k.Qba(u,t));return [h,w];};b.kgb=function(h,k,n){return k.track.jp(h,n.Z,void 0,!0).oc;};b.oeb=function(h,k,n){var p;p=k.G;if(!p.xq || 0 === p.xq.length)return [];h=p.xq.map(function(q){return [p.Ba + q[0],p.Ba + q[1]];});return l(h,n.Sea);};b.H5b=l;},function(r,b,a){var l,g,m;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.ITa=b.L5=b.Ybb=void 0;l=a(0);g=a(8);m=a(2);b.Ybb=c;r=(function(){function d(f,h,k){this.region=f;this.oc=h;this.Ld=k;}d.prototype.toJSON=function(){return {region:this.region,ca:this.oc.EC,Ta:this.Ld.EC};};return d;})();b.L5=r;r=(function(){function d(f,h,k){var n,p,q;n=this;this.id=f;this.G=h;this.eZa=!1;this.$P=function(v){var t,w,u,x;return (null === (t=n.gz) || void 0 === t?0:t.length)?"immediate":null !== (x=null === (u=null === (w=n.G.next) || void 0 === w?void 0:w[v]) || void 0 === u?void 0:u.Ge) && void 0 !== x?x:n.Ge;};this.bW=new g.P(h.Ba,1E3);this.jV=void 0 !== h.Aa && null !== h.Aa?new g.P(h.Aa,1E3):g.P.Ut;this.iFb=null !== (q=null !== (p=h.Ge) && void 0 !== p?p:k) && void 0 !== q?q:"lazy";this.sbb();(0,m.assert)(this.bW.lessThan(this.jV),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{N:{get:function(){return this.G.N;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dm:{get:function(){return this.eZa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{uf:{get:function(){return this.bW;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yh:{get:function(){return this.jV;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.jV.Ea(this.bW);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ca:{get:function(){return this.bW.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ta:{get:function(){return this.jV.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{nG:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Fu:{get:function(){return this.tC.length?!this.G.bc && 0 === this.cR.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{K2b:{get:function(){return !this.G.type || "content" === this.G.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{D7b:{get:function(){return this.$D;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{tC:{get:function(){var f,h;return Object.keys(null !== (h=null === (f=this.G) || void 0 === f?void 0:f.next) && void 0 !== h?h:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{cR:{get:function(){var f;f=this;return this.tC.filter(function(h){return !!f.$D[h];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{OFa:{get:function(){var f;return null !== (f=this.f_a) && void 0 !== f?f:this.f_a=this.hKb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Gga:{get:function(){var f;return null !== (f=this.g_a) && void 0 !== f?f:this.g_a=this.iKb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{QC:{get:function(){return this.G.weight?this.G.weight / (this.G.weight + this.Gga):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ge:{get:function(){var f;return (null === (f=this.gz) || void 0 === f?0:f.length)?"immediate":this.iFb;},enumerable:!1,configurable:!0}});d.prototype.normalize=function(f,h,k){this.bW=f;this.jV=h;this.gz=k;this.eZa=!0;this.Kqb();};d.prototype.fva=function(){var f;return this.cR.length?null !== (f=this.cR.map(this.$P).reduce(function(h,k){return h === k?k:void 0;})) && void 0 !== f?f:this.Ge:this.Ge;};d.prototype.Gk=function(f){this.sbb(f);};d.prototype.YJb=function(f){var h,k;if(this.OFa){h=(this.$D[f] || 0) / this.OFa;if(void 0 === this.G.weight || 0 === this.Gga)return {Re:h};k=this.QC;return 1 !== k && c(this.$P(f)) && this.$D[f]?{Re:k * h,AF:this.$D[f] / this.Gga * (1 - k)}:{Re:k * h};}return {Re:(null === (h=this.G.next) || void 0 === h?0:h[f])?1 / this.tC.length:0};};d.prototype.b0b=function(f){return -1 < this.tC.indexOf(f);};d.prototype.HHb=function(){return this.dm?l.__assign(l.__assign({},this.G),{Ba:this.uf.Z,Aa:this.yh.Z}):this.G;};d.prototype.sbb=function(f){var h;if(void 0 === this.G.next)this.$D={};else {h=this.G.next;this.$D=Object.keys(h).reduce(function(k,n){var p;p=f?f[n] || 0:h[n].weight;void 0 !== p && null !== p && 0 <= p && (k[n]=p);return k;},{});}this.Kqb();};d.prototype.hKb=function(){var f;f=this;return this.cR.reduce(function(h,k){return h + f.$D[k];},0);};d.prototype.iKb=function(){var f;f=this;return this.cR.filter(function(h){return c(f.$P(h));}).reduce(function(h,k){return h + f.$D[k];},0);};d.prototype.Kqb=function(){this.g_a=this.f_a=void 0;};return d;})();b.ITa=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.sla=void 0;c=a(0);l=a(13);g=a(8);m=a(2);d=a(6);r=a(137);f=c.__importDefault(a(3));h=a(10);k=r.Zy.Csa;a=(function(){function n(){this.pR=[];this.ZD=new g.fA(!1);this.XD=new g.fA(g.P.Na(-Infinity));this.events=new l.EventEmitter();this.H=new f.default.Console("ASEJS","media|asejs");}Object.defineProperties(n.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bf:{get:function(){return this.Mx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ddb:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ip:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{pG:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{playbackRate:{get:function(){return this.Nt();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{E0a:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{hu:{get:function(){return this.ZD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{wya:{get:function(){return this.XD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qf:{get:function(){return this.zy;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ae:{get:function(){return this.MJ();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ii:{get:function(){var p,q;p=this.Ae;q=this.$m(p,!1);h.M && (0,m.assert)(q,("Could not find current branch for ").concat(p.Z));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{H1b:{get:function(){return this.eb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$t:{get:function(){return this.zy?this.eb[this.eb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{oi:{get:function(){var p,q;p=this.Ae;q=this.DY(p);(0,m.assert)(q,("Could not find presenting branch for ").concat(p.Z));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zy:{get:function(){return 0 < this.eb.length;},enumerable:!1,configurable:!0}});n.prototype.dga=function(){};n.prototype.Klb=function(){};n.prototype.ci=function(){return !1;};n.prototype.sba=function(){return 0 < this.eb.length;};n.prototype.Zn=function(){(0,m.assert)(0 < this.eb.length,"Could not find presenting branch. Player has no branches.");return this.oi;};n.prototype.fab=function(p){return -1 !== this.eb.indexOf(p);};n.prototype.M8=function(){return void 0 !== this.Ja?!1:!0;};n.prototype.mR=function(){};n.prototype.Wa=function(){};n.prototype.kZ=function(p){var q,v,t;q=this.eb.filter(function(w){return w.G.id === p.S;});if(0 !== q.length){v=this.MJ();t=new g.P(Infinity,1);q.forEach(function(w){w=w.us.add(p.offset);v.dP(w).lessThan(v.dP(t)) && (t=w);});return t;}};n.prototype.lZ=function(p){var q,v,t,w,u,x,y,z,B,A;return c.__generator(this,function(C){switch(C.label){case 0:q=this.eb.filter(function(D){return D.G.id === p.S;});if(0 === q.length)return [2,void 0];v=this.MJ();C.label=1;case 1:(C.$q.push([1,6,7,8]),t=c.__values(q),w=t.next(),C.label=2);case 2:if(w.done)return [3,5];u=w.value;x=u.us.add(p.offset);y=v.dP(x);return [4,{Qq:x,dP:y}];case 3:(C.ub(),C.label=4);case 4:return (w=t.next(),[3,2]);case 5:return [3,8];case 6:return (z=C.ub(),B={error:z},[3,8]);case 7:try{w && !w.done && (A=t.return) && A.call(t);}finally{if(B)throw B.error;}return [7];case 8:return [2];}});};n.prototype.$m=function(p,q){var v,t,w;void 0 === q && (q=!1);v=this.DY(p,q);if(v){t=v.G;q=t.id;w=t.duration;p=g.P.min(p.Ea(t.uf.add(v.Sd)),w || g.P.Ut);return {S:q,offset:p};}};n.prototype.Raa=function(){};n.prototype.reset=function(){this.JE();};n.prototype.DDa=function(){};n.prototype.UR=function(){};n.prototype.pause=function(p){void 0 === p && (p=d.jg);this.pR=null === p || void 0 === p?void 0:p.reduce(function(q,v){-1 === q.indexOf(v) && q.push(v);return q;},this.pR);};n.prototype.resume=function(p){var q;q=this;void 0 === p && (p=d.jg);p.forEach(function(v){v=q.pR.indexOf(v);-1 !== v && q.pR.splice(v,1);});};n.prototype.nGa=function(p){var q;(0,m.assert)(this.Ja);(0,m.assert)(p !== this);this.KL();q=p.M8(this.Ja,this);q && (this.Wea(),p.pause(this.pR),p.tta.apply(p,c.__spreadArray([],c.__read(this.eb),!1)),this.Ksa(this.Ja));return q;};n.prototype.MJ=function(){return this.x9a();};n.prototype.x9a=function(){var p,q;h.M && (0,m.assert)(this.zy,"Attempted to get initial time before any branches were queued");q=c.__read(this.eb,1)[0];h.M && (0,m.assert)(q);return null !== (p=q.Ed) && void 0 !== p?p:q.Vt;};n.prototype.Nt=function(){return 1;};n.prototype.RY=function(){};n.prototype.DY=function(p,q){var v;void 0 === q && (q=!1);if(this.zy){v=this.x9a();return p.lessThan(v)?this.eb[0]:(0,g.iua)(this.eb,p) || (q?this.$t:void 0);}};n.prototype.YWb=function(){var p,q,w,u,x,y,z,B;q={};try{for(var v=c.__values(this.eb),t=v.next();!t.done;t=v.next()){w=t.value;u=void 0;x=void 0;y=w.JB();for(u in y){z=u;B=y[z];B && (q[z]=(null !== (x=q[z]) && void 0 !== x?x:0) + B);}if(!w.Ej)break;}}catch(C){var A;A={error:C};}finally{try{t && !t.done && (p=v.return) && p.call(v);}finally{if(A)throw A.error;}}return q;};c.__decorate([k.return.Ni(),k.return.Wda],n.prototype,"ddb",null);c.__decorate([k.return.Ni()],n.prototype,"Ii",null);c.__decorate([k.return.oqa(),k.return.vo],n.prototype,"Zn",null);c.__decorate([c.__param(0,k.Ni())],n.prototype,"kZ",null);c.__decorate([c.__param(0,k.Ni())],n.prototype,"lZ",null);c.__decorate([k.return.Ni()],n.prototype,"$m",null);return n;})();b.sla=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Efa=void 0;c=a(0);l=a(2);g=a(199);b.Efa=function(m,d,f,h,k,n){var p,q;void 0 === k && (k=g.lx.RX);p=m();if(h && p){q=h.Apa;m=h.vo;h=h.rules.map(function(v){return ["function" === typeof v.wl?v.wl(f):f[v.wl],v.config];});q || (0,l.assert)(d,"Param is null");n && h.push([{map:n,dB:function(){return !0;}},void 0]);n=h.filter(function(v){v=c.__read(v,2);return v[0].dB(d,p,v[1]);});m && (0,l.assert)(n.length,("No rules matched for ").concat(d));if(n.length)return n.reduce(function(v,t){t=c.__read(t,2);return t[0].map(v,k,p,t[1]);},d);}return d;};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(471),b);r.__exportStar(a(1144),b);r.__exportStar(a(412),b);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lIa=void 0;c=a(60);r=(function(){function l(g){this.ag=g;this.LZ=this.Rt=!1;}Object.defineProperties(l.prototype,{id:{get:function(){return this.ag.id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{startTime:{get:function(){return c.P.Na(this.ag.Ba);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{endTime:{get:function(){return c.P.Na(this.ag.Aa);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{rE:{get:function(){return this.ag.rE;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Pga:{get:function(){return this.ag.Pga;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jw:{get:function(){return this.ag.jw;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{DS:{get:function(){return this.ag.DS;},enumerable:!1,configurable:!0}});return l;})();b.lIa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.y8a=b.f$a=b.Xua=b.wUa=void 0;c=a(0);l=a(10);g=a(28);r=(function(){function m(d){this.Hb=d;}Object.defineProperties(m.prototype,{ke:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ju:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});m.prototype.ll=function(d){var f,h,p;d=d.Qg;if(d === g.Kc.gl || d === g.Kc.pn)if(d=this.Hb.Sua()){h={};try{for(var k=c.__values(d.cac),n=k.next();!n.done;n=k.next()){p=n.value;h[p.mediaType]=this.A5b(p);}}catch(v){var q;q={error:v};}finally{try{n && !n.done && (f=k.return) && f.call(k);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.y8a)(d.hcc),playerIterator:h,driftStats:this.Hb.nHa};}};m.prototype.A5b=function(d){return null === d || void 0 === d?void 0:d.y9a();};return m;})();b.wUa=r;b.Xua=function(m){var d,f;if(m){d=m.G;f={};m.Om().forEach(function(h){f[h.mediaType]=(0,b.f$a)(h);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:m.Qf,RM:f};}return m;};b.f$a=function(m){var d,f,h;if(m && m.Xa)return c.__assign(c.__assign({},m.Xa.Uva()),{unsentRequests:m.Xa.Ku,lastFragmentContentEndPts:null === (d=m.Wd) || void 0 === d?void 0:d.Pc,trackAttributes:null === (f=m.track) || void 0 === f?void 0:f.np(),bitrate:null === (h=m.Wd) || void 0 === h?void 0:h.bitrate});};b.y8a=function(m){return m.map(function(d){return (0,b.Xua)(d);});};},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.XDa=b.ora=b.$m=b.W$a=b.iqb=void 0;c=a(8);l=a(2);g=a(10);b.iqb=function(d,f){d=d.U[f.S];if(void 0 === d)return {uQ:!1,reason:("Segment ").concat(f.S," was not found")};if(0 > f.offset.Z)return {uQ:!1,reason:("Offset ").concat(f.offset.Z," was negative")};if(void 0 === d.Aa || null === d.Aa || Infinity === d.Aa)return {uQ:!0};d=d.Aa - d.Ba;return f.offset.Z >= d?{uQ:!1,reason:("Offset ").concat(f.offset.Z," was greater than segment duration ").concat(d)}:{uQ:!0};};m=c.P.Na(100);b.W$a=function(d,f){if(d === f)return !0;if(d && f && d.S === f.S){if(d.offset === f.offset)return !0;d=c.P.abs(d.offset.Ea(f.offset));if(m.greaterThan(d))return !0;}return !1;};b.$m=function(d,f,h){var k,n,p,q;p=f.Ja;f=f.I1b;void 0 === h && (h={});q=p.na;p=p.navigator;q=p.Ce(null !== (k=null === f || void 0 === f?void 0:f.id) && void 0 !== k?k:q.me);k=null !== (n=null === f || void 0 === f?void 0:f.nfc) && void 0 !== n?n:q.uf;if(k.greaterThan(d))return h.uhc?{offset:d.Ea(k),S:q.id}:void 0;f=p.Mcb(q);for(p=f.next();!p.done;){n=p.value;p=n.yh.Ea(n.uf);q=k;k=q.add(p);if(k.greaterThan(d))return (d=d.Ea(q),g.M && (0,l.assert)(d.pk(c.P.Pa) && d.lessThan(p)),{S:n.id,offset:d});p=f.next();if(p.done && h.vhc)return {S:n.id,offset:d.Ea(q)};}};b.ora=function(d,f){f=f.U[d.S];return d.offset.lessThan(c.P.Pa)?{p9:c.P.Pa,sq:d.offset}:f.Aa && (f=c.P.Na(f.Aa - f.Ba),f.isFinite() && d.offset.greaterThan(f))?{p9:f,sq:d.offset.Ea(f)}:{p9:d.offset,sq:c.P.Pa};};b.XDa=function(d,f){d=d.U[f.S];if(void 0 !== d)return null === d.Aa || void 0 === d.Aa?{S:f.S,offset:c.P.max(c.P.Pa,f.offset)}:{S:f.S,offset:c.P.max(c.P.Pa,c.P.min(f.offset,c.P.Na(d.Aa - d.Ba)))};};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Gib=b.f6=void 0;a(0);c=a(10);l=a(475);g=a(2);a(21);r=(function(){function m(){this.V=new l.Dla();}Object.defineProperties(m.prototype,{empty:{get:function(){return !this.kz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{root:{get:function(){var d;return null === (d=this.kz) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{values:{get:function(){var d;d=[];this.CJ(function(f){return !!d.push(f);});return d;},enumerable:!1,configurable:!0}});m.prototype.has=function(d){return !!this.V.get(d);};m.prototype.parent=function(d){var f;d=this.V.get(d);c.M && (0,g.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (f=null === d || void 0 === d?void 0:d.parent) || void 0 === f?void 0:f.value;};m.prototype.children=function(d){d=this.V.get(d);c.M && (0,g.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(f){return f.value;}):[];};m.prototype.Dwa=function(d){d=this.V.get(d);c.M && (0,g.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};m.prototype.add=function(d,f){var h;c.M && (0,g.assert)(!this.V.get(d),"Attempted to add a value to tree that is already present");h={value:d};void 0 === this.kz?(c.M && (0,g.assert)(void 0 === f,"a parent cannot be specified when the tree is empty"),this.kz=h):(c.M && (0,g.assert)(void 0 !== f,"a parent must be specified when the tree is non-empty"),f=this.V.get(f),c.M && (0,g.assert)(f,"Parent value does not exist in tree"),this.Z0a(h,f));this.V.set(d,h);return this;};m.prototype.remove=function(d){d=this.V.get(d);c.M && (0,g.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};m.prototype.removeNode=function(d){var f;f=this;this.vua(function(h){return f.V.delete(h);},d.value);void 0 === d.parent?this.kz=void 0:this.detach(d);};m.prototype.move=function(d,f){d=this.V.get(d);f=this.V.get(f);c.M && (0,g.assert)(d,"cannot move a value that is not in the tree");c.M && (0,g.assert)(f,"cannot move a value to a parent value not in the tree");c.M && (0,g.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.M && (0,g.assert)(!this.g2b(d,f),"cannot move a node below itself or one of its decendants");d.parent !== f && (this.detach(d),this.Z0a(d,f));return this;};m.prototype.Ddc=function(d){var f,h;f=this;d=this.V.get(d);c.M && (0,g.assert)(d,"cannot replant at a value that is not in the tree");h=[];this.detach(d);this.vua(function(k){f.V.delete(k);h.unshift(k);return !0;});this.kz=d;};m.prototype.clear=function(){this.kz && this.remove(this.kz.value);return this;};m.prototype.L7a=function(d,f){var h,k;h=this;d=this.V.get(d);c.M && (0,g.assert)(d,"cannot iterate children of a value not in the tree");null === (k=d.children) || void 0 === k?void 0:k.forEach(function(n){return f(n.value,h);});};m.prototype.yhc=function(d,f){var h,k;h=this;d=this.V.get(d);c.M && (0,g.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (k=d.children) || void 0 === k || !k.some(function(n){return f(n.value,h);}));};m.prototype.CJ=function(d){this.M7a(d,void 0);};m.prototype.M7a=function(d,f,h,k){var n;n=this;void 0 === k && (k=0);c.M && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (f=null !== f && void 0 !== f?f:this.kz.value,d(f,h,this,k) && this.L7a(f,function(p){return n.M7a(d,p,f,k + 1);}));};m.prototype.vua=function(d,f){var h;h=this;c.M && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (null !== f && void 0 !== f?f:f=this.kz.value,this.L7a(f,function(k){return h.vua(d,k);}),d(f,this));};m.prototype.w7a=function(d,f){var h,k;h=this;c.M && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");if(!this.empty){null !== f && void 0 !== f?f:f=this.kz.value;return this.yhc(f,function(n){return !!(k=h.w7a(d,n));})?k:d(f,this)?f:void 0;}};m.prototype.aRb=function(d){var f,h,k,n;f=this;h=this.values;k=h.filter(function(p){return !d.has(p);});n=d.values.filter(function(p){return !f.has(p);});h=h.filter(function(p){return d.has(p) && f.parent(p) !== d.parent(p);});return {spa:k,NR:n,hkb:h};};m.prototype.Z0a=function(d,f){var h;d.parent=f;(null !== (h=f.children) && void 0 !== h?h:f.children=[]).push(d);};m.prototype.detach=function(d){var f;c.M && (0,g.assert)(d.parent,"cannot detach the root");c.M && (0,g.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");f=d.parent.children.indexOf(d);(0,g.assert)(0 <= f,"logic error: node does not appear in the children of its parent");d.parent.children.splice(f,1);d.parent=void 0;};m.prototype.g2b=function(d,f){for(;void 0 !== f;){if(f === d)return !0;f=f.parent;}return !1;};return m;})();b.f6=r;b.Gib=function(m,d){var f;f="";m.CJ(function(h,k,n,p){f+=("").concat(Array(p + 1).join("-")).concat(d(h),"\n");return !0;});return f;};},function(r,b){var l,g,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.dXa);}function c(d){return (a(d)?d:Object.defineProperties(d,{dXa:{value:{},configurable:!1,enumerable:!1}})).dXa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Dla=void 0;g=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;m=Date.now() % g;r=(function(){function d(){this.id=m=(m + 1) % g;}d.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};d.prototype.set=function(f,h){c(f)[this.id]=h;return this;};d.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return d;})();b.Dla=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Gka=void 0;c=a(0);l=a(13);g=a(10);m=a(2);r=(function(){function d(){this.events=new l.EventEmitter();}d.prototype.oa=function(f){var h;h=this;this.Ja=f;this.Ja.events.on("segmentNormalized",function(){h.ifa();});this.ifa();};Object.defineProperties(d.prototype,{U_:{get:function(){return this.PCb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{FGa:{get:function(){(0,m.assert)(this.Ja,"Must be initialized");return this.Ja.na;},enumerable:!1,configurable:!0}});d.prototype.ifa=function(){var f,h,k;f=this;if(this.Ja){h={};k=this.Ja.na;this.PCb=c.__assign(c.__assign({},k),{U:new Proxy(k.U,{get:function(n,p){var q;if(h[p])return h[p];n=k.U[p];if(!n)return n;q=f.aZb(p);q?(q=q.HHb(),h[p]=c.__assign(c.__assign(c.__assign({},q),n),{Ba:q.Ba,Aa:q.Aa})):h[p]=k.U[p];return h[p];}})});this.events.emit("updated");}};d.prototype.aZb=function(f){var h;g.M && (0,m.assert)(this.Ja,"Must be initialized");h=this.Ja.navigator;return h.qab(f)?h.Ce(f):void 0;};return d;})();b.Gka=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.uja=void 0;c=a(0);l=a(38);g=a(20);m=c.__importDefault(a(3));d=a(71);f=a(473);h=a(2);k=a(1168);n=a(10);p=a(478);r=(function(){function q(v,t,w,u){var y,z;function x(B,A){return B.S === A.S && B.offset.equal(A.offset);}y=this;this.FA=v;this.z6=t;this.config=w;this.console=new m.default.Console("GRAPHLOCATIONSERVICE");this.zi=new d.wx({Ap:this,source:(u || "") + "GraphLocation",console:this.console});(0,p.fDa)(this,"d",new p.ika(w,x));(0,p.fDa)(this,"u",new p.ika(w,x));"temp" !== u && (null === (z=this.z6.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.G8a)(y).forEach(function(B){return B.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.FA();},enumerable:!1,configurable:!0}});q.prototype.gqb=function(v,t){return new q(function(){return v;},{U_:t,FGa:t},this.config,"temp");};q.prototype.WE=function(v){var t,w,u;n.M && this.console.trace("downConverting",v);t=this.parent;w=this.z6;u=w.U_;if(t === w.FGa)return v;if(u.U[v.S])return (t.U[v.S] || n.M && this.console.warn("Received a down converted position unexpectedly",v,Error().stack),v);w=(0,f.ora)(v,t);v=(0,l.hqb)(t,u,{offset:w.p9.Z,G:v.S});v={offset:w.sq.add(g.P.Na(v.offset)),S:v.G};n.M && this.console.trace("downConverting ret:",v);return v;};q.prototype.Ww=function(v){var t,w,u;n.M && this.console.trace("upConverting",v);t=this.parent;w=this.z6;u=w.U_;if(t === w.FGa)return v;if(t.U[v.S])return (u.U[v.S] || n.M && this.console.warn("Received a up converted position unexpectedly",v,Error().stack),v);w=(0,f.ora)(v,u);v=(0,l.i3a)(t,u,{offset:w.p9.Z,G:v.S});v={offset:w.sq.add(g.P.Na(v.offset)),S:v.G};n.M && this.console.trace("upConverting ret:",v);return v;};q.prototype.aYb=function(v){var t;t=(0,l.N8a)(this.parent,this.z6.U_,{G:v.S,offset:v.offset.Z});t=(0,k.adb)(t);(0,h.assert)(t,("Could not find any segments in the path of ").concat(v));return t;};c.__decorate([(0,d.ec)({methodName:"downConvertPosition",Wl:!0,mt:!0,return:!0}),(0,p.Hqa)("d")],q.prototype,"WE",null);c.__decorate([(0,d.ec)({methodName:"upConvertPosition",Wl:!0,mt:!0,return:!0}),(0,p.Hqa)("u")],q.prototype,"Ww",null);return q;})();b.uja=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.D8a=b.G8a=b.fDa=b.Hqa=b.ika=void 0;c=a(0);l=c.__importDefault(a(3));g=a(2);m=a(8);r=(function(){function f(h,k,n){void 0 === n && (n={});this.config=h;this.rTb=k;this.sd=[];this.Gqa=new m.JH();this.X1a=new m.JH();this.options=c.__assign({Lq:10},n);}Object.defineProperties(f.prototype,{isEnabled:{get:function(){return this.config.oSb;},enumerable:!1,configurable:!0}});f.prototype.Naa=function(h,k){var n;if(!this.isEnabled)return k();n=this.sWb(h);if(n)return n.value;k=k();this.rp(h,k);return k;};f.prototype.findIndex=function(h){var k,n,p,q;k=Infinity;n=Infinity;if(this.options.oW || this.options.LR){p=l.default.time.fa();this.options.LR && (k=p - this.options.LR);this.options.oW && (n=p - this.options.oW);}for(p=0;p < this.sd.length;p++){q=this.sd[p];if(this.options.LR && q.kdb < k){this.sd.splice(p,this.sd.length - p);break;}if(this.options.oW && q.Rn < n)(this.sd.splice(p,1),p--);else if(this.rTb(q.key,h))return p;}return -1;};f.prototype.sWb=function(h){var k;h=this.findIndex(h);if(-1 !== h){k=this.sd[h];this.sd.splice(h,1);this.sd.unshift(k);this.options.LR && (k.kdb=l.default.time.fa());this.X1a.push(h);this.Gqa.push(1);return k;}this.Gqa.push(0);};f.prototype.rp=function(h,k){this.sd.unshift({key:h,value:k});if(this.options.LR || this.options.oW)(h=l.default.time.fa(),this.options.LR && (this.sd[0].kdb=h),this.options.oW && (this.sd[0].Rn=h));this.OKb();};f.prototype.OKb=function(){this.sd.length > this.options.Lq && this.sd.pop();};f.prototype.clear=function(){this.sd=[];};return f;})();b.ika=r;d=new WeakMap();b.Hqa=function(f){void 0 === f && (f="default");return function(h,k,n){var p;p=n.value;n.value=function(q){var v,t,w;v=this;w=null === (t=d.get(this)) || void 0 === t?void 0:t[f];(0,g.assert)(w,"lruCache not defined");return w.Naa(q,function(){return p.call(v,q);});};};};b.fDa=function(f,h,k){d.has(f) || d.set(f,{});d.get(f)[h]=k;};b.G8a=function(f){var h;if(!d.has(f))return [];h=d.get(f);return Object.keys(h).map(function(k){return h[k];});};b.D8a=function(f){return d.has(f)?d.get(f):{};};},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.hBa=b.kKa=void 0;c=a(0);l=a(38);g=a(1169);m=a(71);d=a(2);r=(function(f){function h(k,n,p,q){void 0 === q && (q="CphAsePlaygraph");q=f.call(this,k,n,p,q,!0) || this;q.cn=k;q.Xgb=n;q.Tkb=p;k.Cb.cg(new g.lKa(q));return q;}c.__extends(h,f);h.prototype.rG=function(k){var n,p;n=f.prototype.rG.call(this,k);if(n){p=k.ba.Zo;p && !this.B6 && (this.Oma.xv({applyingContentPlaygraph:!0}),this.B6=p,this.LBb=this.rMb(k.ba),this.$0());}return n;};Object.defineProperties(h.prototype,{mab:{get:function(){return this.LBb;},enumerable:!1,configurable:!0}});h.prototype.PE=function(k){if(this.B6)return (k=c.__assign(c.__assign({},k),{U:c.__assign({},k.U)}),(0,l.dAa)(k,this.B6.na));};h.prototype.rMb=function(k){var n,p;n=k.Bv;p=k.xF;return !(!n || !n.some(function(q){return q.xF !== p;}));};Object.defineProperties(h.prototype,{Zo:{get:function(){var k;return null === (k=this.B6) || void 0 === k?void 0:k.na;},enumerable:!1,configurable:!0}});c.__decorate([(0,m.ec)({methodName:"processViewableResponse"})],h.prototype,"rG",null);return h;})(a(480).ula);b.kKa=r;b.hBa=function(f){var h;h=[];return {wu:function(k,n){var p,q,v,t,w,u,x;v=k.N;t=k.j1;w=f();if(w.Zpa && w.Zpa !== v){u=null === (p=null === t || void 0 === t?void 0:t.$k) || void 0 === p?void 0:p.ye;p=null === (q=null === t || void 0 === t?void 0:t.$k) || void 0 === q?void 0:q.Eh;q=w.ye;t=w.Zpa;(0,d.assert)(t,"did not receive parent viewable id");t={$k:{ye:null !== u && void 0 !== u?u:q,Eh:null !== p && void 0 !== p?p:t}};}w.Cb.console.trace("In wrapped request viewable",v,t);x=n(c.__assign(c.__assign({},k),{j1:t}));h.forEach(function(y){return y({N:v,YG:x.YG});});return x;},ynb:function(k){h.push(k);}};};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.ula=void 0;c=a(0);l=a(277);g=a(71);m=a(21);d=a(2);f=a(10);h=a(475);k=a(20);n=a(1170);p=a(481);q=a(1171);r=(function(){function v(t,w,u,x,y){var z;void 0 === x && (x="CphAsePlaygraph");void 0 === y && (y=!0);z=this;this.cn=t;this.Xgb=w;this.Tkb=u;this.Sjc=x;this.OBb=new h.Dla();y && this.oa();this.Xgb(function(B){var A;A=B.YG;return c.__awaiter(z,void 0,void 0,function(){var C;return c.__generator(this,function(D){switch(D.label){case 0:return [4,A];case 1:return (C=D.ub(),this.rG(C),[2]);}});});});}Object.defineProperties(v.prototype,{Cb:{get:function(){return this.cn.Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jk:{get:function(){return this.Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{na:{get:function(){return this.No;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ii:{get:function(){return this.cn.ii;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{H:{get:function(){return this.Cb.console;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{L:{get:function(){return this.Cb.config;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mab:{get:function(){return !1;},enumerable:!1,configurable:!0}});v.prototype.oa=function(){var t,w,u;t=this;w=this.cn;this.Oma=new g.wx({Lq:10,Ap:this,source:this.Sjc,console:this.H});this.events=(0,p.$ra)(function(){return w;},w.Cb.events,this.Tkb,q.iib);this.No=w.Cb.na;u=w.ii;w.Cb.cg(new l.mA(this.Oma));w.Cb.cg(new l.mA(w.ii.zi));w.Cb.cg(new n.KJa(("").concat(w.ndb,"::gls"),u));w.Cb.events.on("playgraphUpdating",function(){t.cn.Fxa.ifa();});};v.prototype.ay=function(t){var w,u,x;x=null !== (w=this.X) && void 0 !== w?w:this.Cb.X;this.X=t;t.LEa && t.LEa(this.cn);(w=this.cn.Cb.ay(null !== (u=t.DZ) && void 0 !== u?u:t))?(this.X=t,x !== t && x.wra && x.wra()):this.X=x;return w;};v.prototype.$0=function(t,w,u,x){if(t=this.PE(null !== t && void 0 !== t?t:this.No))return this.Z8b(t,this.mab,w,u,x);};v.prototype.Z8b=function(t,w,u,x,y){var z,B,A,C,D,E;z=this.cn.od;B=z.X;A=z.na;if(u=u?u:z.dw && B.qf?B.Ii:z.St?z.ti:void 0){C=this.Cb.na.U[u.S];C && C.tc && (u=this.ii.Ww(u));}z.config.tmc && w && B.GG(!0);w=z.D9a();f.M && this.H.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(A)));f.M && this.H.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(t)));this.OBb.set(t,!0);A=this.Cb.Xw(t);try{if(!A.ja || u && !B.qf && !z.St)if(((0,d.assert)(!B.za.sk,"Player is not paused"),z.ie(!0),A=this.Cb.Xw(t),u)){D=this.ii.WE(u);E=t.U[D.S];"padding" === (null === E || void 0 === E?void 0:E.type) && (D={S:E.bc,offset:k.P.Pa});this.Cb.Ofa(D,x,y);B.resume();}return A;}finally{w.release();}};v.prototype.Xw=function(t){var u,x,y;function w(){u.No=t;}u=this;y=null !== (x=this.PE(t)) && void 0 !== x?x:t;try{return (this.Cb.events.oCa("playgraphUpdating",w),this.Cb.Xw(y));}finally{this.Cb.events.removeListener("playgraphUpdating",w);}};Object.defineProperties(v.prototype,{ye:{get:function(){return this.rXa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Zpa:{get:function(){var t,w,u,x;t=this;u=Object.keys(this.Cb.na.U);if(u=(0,m.Oc)(u,function(y){return !!t.Cb.na.U[y].tc;})){u=this.Cb.na.U[u].tc;x=this.na.U[u];return null !== (w=null === x || void 0 === x?void 0:x.N) && void 0 !== w?w:Number(u.split(":")[0]);}},enumerable:!1,configurable:!0}});v.prototype.rG=function(t){var w,u,x,y;u=t.ba;x=u.ye;u=u.Zo;y=null !== (w=this.L.Nta) && void 0 !== w?w:[];if(u && y.some(function(z){return z == t.K;}))return (w=("").concat(t.K," was excluded from content playgraph"),this.Oma.xv(w),f.M && this.H.trace(w),!1);x && !this.rXa && (this.rXa=x);return !0;};v.prototype.ie=function(t){this.Cb.ie(t);};c.__decorate([(0,g.ec)({methodName:"attachPlayer"})],v.prototype,"ay",null);c.__decorate([(0,g.ec)({methodName:"reevaluateInnerPlaygraph"})],v.prototype,"$0",null);c.__decorate([(0,g.ec)({methodName:"processViewableResponse"})],v.prototype,"rG",null);c.__decorate([(0,g.ec)({methodName:"cancelStreaming"})],v.prototype,"ie",null);return v;})();b.ula=r;},function(r,b,a){var l,g,m,d;function c(f,h){return h && !Array.isArray(h) && -1 === h.S6a.indexOf(f)?h.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.$ra=void 0;l=a(0);r=a(13);g=a(199);m=a(469);d=(function(f){function h(k,n){var p;p=f.call(this) || this;p.y5b=k;p.wbb=n;p.ina={};return p;}l.__extends(h,f);h.prototype.emit=function(k){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.prototype.emit.call(this,k,this.y5b(k,n[0]));};h.prototype.subscribe=function(k){var n,p;n=this;if(!this.listeners(k).length){p=function(){for(var q=[],v=0;v < arguments.length;v++){q[v]=arguments[v];}return n.emit.apply(n,l.__spreadArray([k],l.__read(q),!1));};this.ina[k]=p;this.wbb.addListener(k,p);}};h.prototype.addListener=function(k,n){this.subscribe(k);f.prototype.addListener.call(this,k,n);return this;};h.prototype.removeListener=function(k,n){f.prototype.removeListener.call(this,k,n);n=this.ina[k];!this.listeners(k).length && n && (this.wbb.removeListener(k,n),this.ina[k]=void 0);return this;};h.prototype.on=function(k,n){this.addListener(k,n);return this;};h.prototype.Sy=function(k,n){this.removeListener(k,n);return this;};h.prototype.once=function(k,n){var q;function p(){for(var v=[],t=0;t < arguments.length;t++){v[t]=arguments[t];}q.removeListener(k,p);n.apply(void 0,l.__spreadArray([],l.__read(v),!1));}q=this;this.addListener(k,p);return this;};h.prototype.I0=function(k,n){this.subscribe(k);f.prototype.I0.call(this,k,n);return this;};h.prototype.oCa=function(k,n){var q;function p(){for(var v=[],t=0;t < arguments.length;t++){v[t]=arguments[t];}q.removeListener(k,p);n.apply(void 0,l.__spreadArray([],l.__read(v),!1));}q=this;this.I0(k,p);return this;};return h;})(r.EventEmitter);b.$ra=function(f,h,k,n){return new d(function(p,q){var v,t;t=c(p,n["*"]);p=null !== (v=n[p]) && void 0 !== v?v:[];v=t.concat(p).filter(function(w){return "object" === typeof w;});t=l.__read(p.filter(function(w){return "function" === typeof w;}),1)[0];return v.length?(0,m.Efa)(f,q,k,{rules:v,vo:!1,Apa:!0},g.lx.HGa,t):q;},h);};},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Oia=void 0;c=a(0);l=a(13);g=a(2);m=a(10);d=0;r=(function(f){function h(k,n,p,q,v,t,w,u){n=f.call(this,("cdnList").concat(d++),n,p,q,v,t,w,"cdnList",u) || this;n.th=k;n.oa();return n;}c.__extends(h,f);h.prototype.oa=function(){var k;k=this;this.YN=new l.gf();this.YN.on(this.Hb.X,"skipped",function(n){k.et && ((null === n || void 0 === n?0:n.kbc) && k.lX(n.kbc),k.et=void 0);});this.YN.on(this.Hb.X,"paused",function(){k.et && k.Hb.qf && k.lX(k.Hb.Ae);});this.YN.on(this.Hb.X,"playing",function(n){k.et && k.UH && ((null === n || void 0 === n?void 0:n.ue) || k.Hb.Ae).Qda(k.UH) && (k.et=void 0);});this.YN.on(this.Hb.X,"underflow",function(){k.et && k.Hb.qf && k.lX(k.Hb.Ae);});};h.prototype.ay=function(k,n,p){this.YN.clear();f.prototype.ay.call(this,k,n,p);this.oa();};h.prototype.close=function(){m.M && this.console.trace("close");f.prototype.close.call(this);this.YN.clear();};h.prototype.whc=function(k,n){var p;p=this;this.et && this.lX(k);return this.s7a(n).map(function(q){return p.th[q];});};h.prototype.Sjb=function(k){var n;n=this;this.s7a(k).forEach(function(p){delete n.th[p];});};h.prototype.s7a=function(k){var n;n=this;return Object.keys(this.th).filter(function(p){return n.th[p].K === ("").concat(k);});};h.prototype.hu=function(k){var n,p,q;n=k.stream;p=k.$c;q=k.Ed;k=k.Sc;(0,g.assert)(void 0 !== q);(0,g.assert)(void 0 !== k);m.M && this.console.trace(("Media appended ").concat(q.Fb(),"-").concat(k.Fb()));this.kpa({stream:n,$c:p},q,k);};h.prototype.nca=function(k,n){return k.stream === n.stream && k.$c === n.$c;};h.prototype.GXb=function(k){var n,p;p=k.Iu;k=p.$c;p=null === (n=p.stream.O.ba.IE) || void 0 === n?void 0:n.Cp;return ("").concat(k,"::").concat(p);};h.prototype.kta=function(k,n){m.M && this.console.trace(("Presenting event for ( ").concat(k.Iu.stream.id,", ").concat(k.Iu.$c," )") + (" at ").concat(n.Fb()));this.et?this.lX(n):this.UH=n;this.et=k;};h.prototype.lX=function(k){var n,p,q,v,t,w,u,x,y;(0,g.assert)(this.et);if(null === (n=this.nsa) || void 0 === n?0:n.lessThan(k))k=this.nsa;t=this.et;n=this.th;w=t.Iu;u=w.stream;w=w.$c;x=null === (p=u.u_) || void 0 === p?void 0:p.ep;p=k.Ea(this.UH || t.timestamp).Z;if(void 0 !== w && void 0 !== x && 0 < p){y=null === (q=u.O.ba.IE) || void 0 === q?void 0:q.Cp;q=u.track.K;t=this.GXb(t);((v=(n[t] || (n[t]={Uo:w,Cp:y,K:q,pJ:{}})).pJ)[x] || (v[x]={bitrate:u.bitrate,Tb:x,mediaType:u.mediaType,totalTime:0,hb:u.hb})).totalTime+=p;}this.UH=k;};h.prototype.clone=function(k,n){n=void 0 === n?{}:n;k=new (n.iyc || h)(k,this.C9b,this.Hb,this.A8,this.events,this.dt,this.Ee,n.priority);this.JLb(k);k.et=this.et;k.UH=this.UH;m.M && k.console.trace("Cloning",{Ssc:k.bm.length});return k;};h.prototype.reset=function(){f.prototype.reset.call(this);this.UH=void 0;};h.prototype.pca=function(k){return ("(").concat(k.stream.Sa,", ").concat(k.$c,")");};return h;})(a(273).z5);b.Oia=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Tra=void 0;c=a(137);l=a(1194);b.Tra=function(g,m){var d;g=m(g);d=new l.oTa(g,c.Zy.ODa.XR);return c.Zy.ICa(g,d,function(){return d.cn;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Spc="LogblobBuilderSymbol";b.fU="HLSLogblobBuilderFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WVa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZVa="ThroughputTrackerSymbol";b.XVa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gMa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QJa="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QIa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){p=g.gH.call(this,k,n,l.u.Audio,p) || this;p.config=k;p.Nq=n;p.type=l.dx.Oz;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.R3=void 0;l=a(26);g=a(491);m=a(127);r=a(129);d=a(395);f=a(285);h=new r.KH().format;la(c,g.gH);c.prototype.b2=function(){var k;k=h(c.dha,m.ce.etb);return Promise.resolve(this.config().oP && this.Nq.isTypeSupported(k));};c.prototype.Ct=function(){return d.cja.Ct();};c.prototype.p$a=function(){return this.config().II;};c.prototype.oY=function(k){return this.config().Q9b?Promise.resolve(new f.A5(k,k.map(function(){return {supported:!0};}))):g.gH.prototype.oY.call(this,k);};b.R3=c;c.dha="audio/mp4;codecs={0};";},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p){this.config=h;this.Nq=k;this.mediaType=n;this.nC=p;this.aAa={};this.aAa[l.u.Audio]="audio";this.aAa[l.u.IWa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.gH=void 0;l=a(26);r=a(129);g=a(172);m=a(14);d=a(285);f=new r.KH().format;c.prototype.J$a=function(h){return this.YQb(this.gZb(this.p$a(),h));};c.prototype.TI=function(h){return this.Nq.isTypeSupported(h);};c.prototype.cXb=function(){return [g.Te.Nha,g.Te.cvb,g.Te.jH,g.Te.kH];};c.prototype.O1b=function(){this.Sq=[];this.Gw=[];this.config().S9b && this.Gw.push(g.Te.oA);this.config().nhb && this.Gw.push(g.Te.TMa);this.config().mhb && this.Gw.push(g.Te.SMa);this.config().lhb && this.Gw.push(g.Te.gx);this.config().jhb && this.Gw.push(g.Te.oD);this.config().khb && this.Gw.push(g.Te.BHa);this.config().ohb && this.Gw.push(g.Te.PD);this.config().ihb && this.Gw.push(g.Te.Il);this.Gw=this.Gw.concat(this.cXb());!this.config().XSb && this.Sq.push(g.Te.oA);!this.config().l6a && this.Sq.push(g.Te.ftb);!this.config().k6a && this.Sq.push(g.Te.gtb);!this.config().oP && this.Sq.push(g.Te.htb);!this.config().JSb && this.Sq.push(/prk$/);this.config().lhb || this.config().vSb || this.Sq.push(g.Te.gx);this.config().nhb || this.config().ySb || this.Sq.push(g.Te.TMa);this.config().mhb || this.config().mta || this.Sq.push(g.Te.SMa);this.config().jhb || this.config().mP || this.Sq.push(g.Te.oD);this.config().khb || this.config().lta || this.Sq.push(g.Te.BHa);this.config().ohb || this.config().TSb || this.Sq.push(g.Te.PD);this.config().ihb || this.config().mSb || this.Sq.push(g.Te.Il);!this.config().RSb && this.Sq.push(g.Te.dN);};c.prototype.gZb=function(h,k){var n;n=m.hf.hardwareConcurrency && m.hf.hardwareConcurrency;return h.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === k || void 0 === k?void 0:k.oe) || !p.restrictToUILabels.includes(k.oe))?!1:!0;}).map(function(p){return p.name;});};c.prototype.oY=function(h){var k,n;k=this;n=h.map(function(p){for(var q=oa(k.Gw),v=q.next();!v.done;v=q.next()){if(v.value.test(p))return Promise.resolve({supported:!0});}q=oa(k.Sq);for(v=q.next();!v.done;v=q.next()){if(v.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return k.nY(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.A5(h,p);});};c.prototype.nY=function(h){var k;k=this;return this.gya(h).then(function(n){return n.supported?k.config().GSb?k.nC.nY(h):k.Xta(h):n;});};c.prototype.Xta=function(h){var k;h=this.P0[h];k="";return h?(Array.isArray(h) && (k=1 < h.length?" " + h[1]:"",h=h[0]),h=f("{0}/mp4;codecs={1};{2}",this.aAa[this.mediaType],h,k),this.TI(h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.YQb=function(h){this.O1b();return this.oY(h);};c.prototype.gya=function(){return Promise.resolve({supported:!0});};Va.Object.defineProperties(c.prototype,{P0:{configurable:!0,enumerable:!0,get:function(){this.zZa || (this.zZa=this.Ct());return this.zZa;}}});b.gH=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WPa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Pa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZPa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XTa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.c5="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XOa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wQa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eJa="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cJa="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bJa="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wJa="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MPa="ManifestProviderConfigSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.$la=void 0;l=a(14);c.o$a=function(){var g;g=l.px && l.px.height;return g?1080 <= g?1080:720:720;};b.$la=c;},function(r,b,a){var l;function c(g){this.log=g;}Object.defineProperty(b,"__esModule",{value:!0});b.pU=void 0;l=a(506);c.prototype.Job=function(g,m){var d,f;d=this;if(!g)return (this.log.warn("There are no media streams for " + m.type + " track - " + m.trackId),[]);f=g.map(function(h){var k,n,p,q,v,t,w,u;u=new l.MediaStream(m,m.type,h.ep,h.bitrate,h.hb,h.size,d.nXb(h.urls),h.NE,h.e8a / h.d8a,h.Kj,h.Zj);u.zgc(h.wkb,h.BDa,h.Thb,h.Shb);u.Rfc(null !== (k=h.xPb) && void 0 !== k?k:void 0,null !== (n=h.yPb) && void 0 !== n?n:void 0,null !== (p=h.wPb) && void 0 !== p?p:void 0,null !== (q=h.vPb) && void 0 !== q?q:void 0,null !== (v=h.Thb) && void 0 !== v?v:void 0,null !== (t=h.Shb) && void 0 !== t?t:void 0);m.Lm && (u.Lm=m.Lm);h.qJ && (u.qJ=null !== (w=h.qJ) && void 0 !== w?w:void 0);h.NE && (u.mf=h.NE);return u;});f.sort(function(h,k){return h.bitrate - k.bitrate;});f.forEach(function(h,k){h.lower=f[k - 1];h.ovc=f[k + 1];});return f;};c.prototype.nXb=function(g){return g.reduce(function(m,d){m[d.Mh]=d.url;return m;},{});};b.pU=c;},function(r,b,a){var l,g,m;function c(d,f,h,k,n,p,q,v,t,w,u){this.track=d;this.type=f;this.Tb=h;this.bitrate=k;this.hb=n;this.size=p;this.Vsa=q;this.mf=v;this.framerate=t;this.Kj=w;this.Zj=u;this.Ch={Type:f,Bitrate:k,DownloadableId:h};}Object.defineProperty(b,"__esModule",{value:!0});b.Zsb=b.MediaStream=void 0;l=a(17);g=a(15);m=a(93);c.prototype.toJSON=function(){return this.Ch;};c.prototype.zgc=function(d,f,h,k){(0,g.xd)(d) && (0,g.xd)(f) && (this.width=d,this.height=f,(0,g.Oa)(h) && (0,g.Oa)(k) && (this.width=Math.round(h / k * d)),this.Ch.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.Rfc=function(d,f,h,k,n,p){(0,g.xd)(d) && (0,g.xd)(f) && (0,g.xd)(h) && (0,g.xd)(k) && (this.isa=d,this.y4a=f,this.x4a=h,this.w4a=k);(0,g.xd)(n) && (0,g.xd)(p) && (this.Uhb=n,this.Vhb=p);};b.MediaStream=c;b.Zsb=function(d,f,h,k,n){if(d == l.f5 || d === m.yj.audio)return f;if(d == l.kU || d === m.yj.video)return h;if(d == m.yj.Rga)return k;if(d == m.yj.sGa)return n;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sTa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lWa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QPa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gSa="PboLinksManagerSymbol";b.eSa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IPa="ManifestEnricherSymbol";},function(r,b,a){var u,x,y,z,B,A,C,D,E;function c(G,F){var L,O;L=this;O=G.styles || ({});return {startTime:F.startTime,id:F.id,endTime:F.endTime,displayTime:F.displayTime,duration:F.duration,blocks:F.blocks.map(function(K){var I;I=z.cPb(G,K);return {textNodes:K.textNodes.map(w.bind(L,O)),region:I,id:K.id};})};}function l(G){if(!Array.isArray(G))throw Error("last called on non-array: " + G);return G[G.length - 1];}function g(G,F){var L,O,K,I,M,H;L=x.yg(!0);O={};K=[];I=null;M=[];H={};L.onerror=function(J){F(J,null);};L.onend=function(){F(null,O);};L.onclosetag=function(){K.pop();};L.onopentag=function(J){var N,P,W,V;N=J.attributes;P=J.name;W=O.regions;V=O.styles;K.push(J);if("tt" === P)O=q(N);else if("body" === P)"undefined" !== typeof N.style && (O.defaultStyle=N.style,M.push(N.style));else if("initial" === P && t(K,"styling"))H=v(N,A);else if("style" === P && t(K,"styling")){W=N["xml:id"];J=H;N=v(N,A);if(Object.keys(J).length)for(var S in J){"undefined" === typeof N[S] && (N[S]=J[S]);}V[W]=N;}else "style" === P && t(K,"region")?(V=Object.keys(N)[0],"string" === typeof V && (W[I][V.slice(4)]=N[V])):"region" === P && t(K,"layout") && (I=N["xml:id"],W[I]=v(N,D));};setTimeout(function(){var J;for(L.write(G);0 < K.length && !L.error;){J=l(K).name;L.write("</" + J + ">");}L.close();},10);}function m(G,F){var L;L=G.filter(function(O){return O.startTime <= F && F <= O.endTime;});G=G.filter(function(O){return O.startTime > F;});return 0 < G.length?L.concat([G[0]]):L;}function d(){}function f(G){var F,L,O,K;F=G.preferences;L=G.bh;O=G.ue;K=G.qa;if(!G.xml && !G.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.Je=this.vna=null;this.ZN="object" === typeof F?G.preferences:{};this.CN="object" === typeof L?G.bh:{};this.Qo="number" === typeof O?G.ue:0;this.yI=G.xml || "";this.Da="object" === typeof K?G.qa:E;this.Er=G.request;this.Fm=G.url;this.Cm=[];this.zr=this.Qo;this.We=null;this.HA=this.eE=!1;this.yma=G.Xea || 0;}function h(G,F){return G && "object" === typeof G[F] && null !== G[F]?G[F]:{};}function k(G,F){return G !== F && !(G && 0 === Object.keys(G).length && F && 0 === Object.keys(F).length);}function n(){var G,F,L;G=this;F=G.yI.indexOf("<p");if(-1 < F){L=G.yI.slice(0,F);g(L,function(O,K){null !== O?(O.q0b=L,G.emit("error",O)):(G.vna=K,G.Je=new y(G.yI,K.tickRate),p.call(G,G.Qo));});}else G.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function p(G){var F,L,O,K,I,M,H,J;F=this;L=F.vna;O=0;K=[];I=L.defaultStyle?[L.defaultStyle]:[];M=L.lang?[L.lang]:[];F.Da.info("parsing the next 5 entries...");H=F.Je.CYb(G);F.Da.debug(H);J=x.yg(!0);J.onerror=function(N){N.xml=H;F.emit("error",N);};J.onend=function(){var N;N=F.Cm.reduce(function(P,W){W=W.blocks.reduce(function(V,S){return V.concat([S.id]);},[]);return P.concat(W);},[]);K.forEach(function(P){var W;if(-1 === N.indexOf(P.id)){W=P && P.blocks && P.blocks.filter(function(V){return 0 < V.textNodes.length;});W && 0 < W.length && (P.blocks=W,F.Cm.push(P));}});F.HA=!1;F.eE || (F.eE=!0,F.emit("ready"));};J.ontext=function(N){("" !== N.trim() || N.match(/ +/)) && l(l(K).blocks).textNodes.push({text:N.match(/ +/)?N:N.trim(),style:l(I),lang:l(M),lineBreaks:O});O=0;};J.onclosetag=function(){var N;N=J.tag;"undefined" !== typeof N.attributes.style && I.pop();"undefined" !== typeof N.attributes["xml:lang"] && M.pop();};J.onopentag=function(N){var P,W,V,S,U;P=N.attributes;W=N.name;N=L.tickRate;if("p" === W){O=0;W=P["xml:id"];P.style && I.push(P.style);P["xml:lang"] && M.push(P["xml:lang"]);V=Math.floor(parseInt(P.begin) / N * 1E3);if(0 === K.length || l(K).displayTime !== V){V=K.push;S={};U=parseInt(P.begin) / N;N=parseInt(P.end) / N;S.id=W;S.startTime=Math.floor(1E3 * U);S.endTime=Math.floor(1E3 * N);S.style=P.style;S.region=P.region;S.displayTime=S.startTime;S.duration=S.endTime - S.startTime;S.extent=P["tts:extent"] || null;S.origin=P["tts:origin"] || null;S.latestEndSoFar=0 > S.endTime?0:S.endTime;S.blocks=[{textNodes:[],region:S.region,id:W,extent:S.extent,origin:S.origin}];V.call(K,S);}else l(K).blocks.push({textNodes:[],region:P.region,id:W,extent:P["tts:extent"] || null,origin:P["tts:origin"] || null});}else "span" === W?(I.push(P.style),P["xml:lang"] && M.push(P["xml:lang"]),N=L.styles[P.style],P.style && N && N.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(N.ruby) && l(l(K).blocks).textNodes.push({text:"",style:l(I),lang:l(M),lineBreaks:0})):"br" === W && O++;};J.write("<entries>").write(H).write("</entries>").close();}function q(G){var F;G=v(G,C);if("string" === typeof G.extent){F=G.extent.split(" ").map(function(L){return parseInt(L,10);});G.width=F[0];G.height=F[1];}else (G.width=1280,G.height=720);G.aspectRatio=G.width / G.height;"string" === typeof G.cellResolution?(F=G.cellResolution.split(" ").map(function(L){return parseInt(L,10);}),G.cellResolution={},G.cellResolution.x=F[0],G.cellResolution.y=F[1]):G.cellResolution={x:52,y:19};return G;}function v(G,F){var L;L={};F.forEach(function(O){"undefined" !== typeof G["tts:" + O]?L[O]=G["tts:" + O]:"undefined" !== typeof G["ttp:" + O]?L[O]=G["ttp:" + O]:"undefined" !== typeof G["ebutts:" + O]?L[O]=G["ebutts:" + O]:"undefined" !== typeof G["xml:" + O] && (L[O]=G["xml:" + O]);});L.styles={};L.regions={};return L;}function t(G,F){var L;for(L=G.length - 1;0 <= L;L--){if(G[L].name === F)return !0;}return !1;}function w(G,F){return {lineBreaks:F.lineBreaks,text:F.text,lang:F.lang,style:B.gPb(G[F.style] || ({}),this.CN,this.ZN),id:F.id};}u=a(105).EventEmitter;x=a(513);y=a(1250);z=a(1251);B=a(1252);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");C=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");D=("backgroundColor displayAlign extent origin position writingMode multiRowAlign").split(" ");E={info:d,debug:d};b=Object.create(u.prototype);f.prototype=b;b.start=function(){var G;G=this;G.Da.info("incremental text stream created, starting at pts " + G.Qo);G.yI?n.call(G):G.Er({url:G.Fm},function(F,L){G.yI=L;n.call(G);});};b.LJ=function(G){var F,L,O;F=this;G < F.zr - F.yma && (F.Cm=[]);L=F.Cm;O=0 < L.length?L[L.length - 1].startTime:G;F.zr=G;for(!F.We && 5 > F.Cm.length && !F.HA && (F.Da.info("buffer size: " + F.Cm.length + "; minimum: 5"),F.HA=!0,F.We=setTimeout(function(){F.We=null;p.call(F,O + 1);},10));0 < L.length && L[0].endTime < G;){L.shift();}L=m(L,G).map(c.bind(F,F.vna));G < F.Je.k7a() && 0 === L.length && (L=null);return L;};b.Dq=function(G,F){return this.Je?this.Je.Dq(G,F):0;};b.close=function(){};b.lha=function(G){var F;F=h(G,"preferences");G=h(G,"defaults");return k(F,this.ZN) || k(G,this.CN)?(this.ZN=F,this.CN=G,!0):!1;};r.exports={Nja:f,d$b:g,eh:l,vXb:m,HQb:c,lha:b.lha};},function(r){var w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M;function b(){}function a(H,J){if(!(this instanceof a))return new a(H,J);for(var N=0,P=u.length;N < P;N++){this[u[N]]="";}this.q=this.c=this.hp=this.textNode="";this.G1a=w.lka;this.zp=J || ({});this.zp.Udb=this.zp.Udb || this.zp.Rvc;this.pza=this.zp.Udb?"toLowerCase":"toUpperCase";this.Zj=[];this.closed=this.hX=this.ZR=!1;this.tag=this.error=null;this.vo=!!H;this.lgb=!(!H && !this.zp.lgb);this.state=M.qia;this.Rz=(this.snb=this.zp.snb)?Object.create(w.Izb):Object.create(w.Rz);this.yE=[];this.zp.e3 && (this.pl=Object.create(O));if(this.Xga=!1 !== this.zp.position)this.position=this.line=this.iX=0;this.onready && this.onready(void 0);}function c(H,J){var N;if(!(this instanceof c))return new c(H,J);b.apply(this);this.GA=new a(H,J);this.readable=this.writable=!0;N=this;this.GA.onend=function(){N.emit("end");};this.GA.onerror=function(P){N.emit("error",P);N.GA.error=null;};x.forEach(function(P){Object.defineProperty(N,"on" + P,{get:function(){return N.GA["on" + P];},set:function(W){if(!W)return (N.removeAllListeners(P),N.GA["on" + P]=W);N.on(P,W);},enumerable:!0,configurable:!1});});}function l(H){return H.split("").reduce(function(J,N){J[N]=!0;return J;},{});}function g(H,J){return "[object RegExp]" === Object.prototype.toString.call(H)?!!J.match(H):H[J];}function m(H,J,N){H.textNode && d(H);H[J] && H[J](N);}function d(H){H.textNode=f(H.zp,H.textNode);H.textNode && H.ontext && H.ontext(H.textNode);H.textNode="";}function f(H,J){H.trim && (J=J.trim());H.normalize && (J=J.replace(/\s+/g," "));return J;}function h(H,J){d(H);H.Xga && (J+="\nLine: " + H.line + "\nColumn: " + H.iX + "\nChar: " + H.c);J=Error(J);H.error=J;H.onerror && H.onerror(J);return H;}function k(H){H.ZR && !H.hX && n(H,"Unclosed root tag");H.state !== M.qia && H.state !== M.ria && H.state !== M.Za && h(H,"Unexpected end");d(H);H.c="";H.closed=!0;H.onend && H.onend(void 0);a.call(H,H.vo,H.zp);return H;}function n(H,J){if("object" !== typeof H || !(H instanceof a))throw Error("bad call to strictFail");H.vo && h(H,J);}function p(H,J){var N,P;N=0 > H.indexOf(":")?["",H]:H.split(":");P=N[0];N=N[1];J && "xmlns" === H && (P="xmlns",N="");return {prefix:P,local:N};}function q(H){var J,N,P;H.vo || (H.gk=H.gk[H.pza]());if(-1 !== H.yE.indexOf(H.gk) || H.tag.attributes.hasOwnProperty(H.gk))return H.gk=H.hk="";if(H.zp.e3){J=p(H.gk,!0);N=J.local;if("xmlns" === J.prefix)if("xml" === N && H.hk !== F)n(H,"xml: prefix must be bound to " + F + "\nActual: " + H.hk);else if("xmlns" === N && H.hk !== L)n(H,"xmlns: prefix must be bound to " + L + "\nActual: " + H.hk);else {J=H.tag;P=H.Zj[H.Zj.length - 1] || H;J.pl === P.pl && (J.pl=Object.create(P.pl));J.pl[N]=H.hk;}H.yE.push([H.gk,H.hk]);}else (H.tag.attributes[H.gk]=H.hk,m(H,"onattribute",{name:H.gk,value:H.hk}));H.gk=H.hk="";}function v(H,J){var N,P,V,S,U,fa,qa;if(H.zp.e3){N=H.tag;P=p(H.tagName);N.prefix=P.prefix;N.local=P.local;N.uri=N.pl[P.prefix] || "";N.prefix && !N.uri && (n(H,"Unbound namespace prefix: " + JSON.stringify(H.tagName)),N.uri=P.prefix);P=H.Zj[H.Zj.length - 1] || H;N.pl && P.pl !== N.pl && Object.keys(N.pl).forEach(function(xa){m(H,"onopennamespace",{prefix:xa,uri:N.pl[xa]});});P=0;for(var W=H.yE.length;P < W;P++){V=H.yE[P];S=V[0];U=V[1];fa=p(S,!0);V=fa.prefix;qa="" == V?"":N.pl[V] || "";U={name:S,value:U,prefix:V,local:fa.local,uri:qa};V && "xmlns" != V && !qa && (n(H,"Unbound namespace prefix: " + JSON.stringify(V)),U.uri=V);H.tag.attributes[S]=U;m(H,"onattribute",U);}H.yE.length=0;}H.tag.Hvc=!!J;H.ZR=!0;H.Zj.push(H.tag);m(H,"onopentag",H.tag);J || (H.state=H.lgb || "script" !== H.tagName.toLowerCase()?M.Za:M.WM,H.tag=null,H.tagName="");H.gk=H.hk="";H.yE.length=0;}function t(H){var J,N,W;if(H.tagName){if(H.Al){if("script" !== H.tagName){H.Al+="</" + H.tagName + ">";H.tagName="";H.state=M.WM;return;}m(H,"onscript",H.Al);H.Al="";}J=H.Zj.length;N=H.tagName;H.vo || (N=N[H.pza]());for(var P=N;J--;){if(H.Zj[J].name !== P)n(H,"Unexpected close tag");else break;}if(0 > J)(n(H,"Unmatched closing tag: " + H.tagName),H.textNode+="</" + H.tagName + ">");else {H.tagName=N;for(N=H.Zj.length;N-- > J;){W=H.tag=H.Zj.pop();H.tagName=H.tag.name;m(H,"onclosetag",H.tagName);for(var V in W.pl){;}P=H.Zj[H.Zj.length - 1] || H;H.zp.e3 && W.pl !== P.pl && Object.keys(W.pl).forEach(function(S){m(H,"onclosenamespace",{prefix:S,uri:W.pl[S]});});}0 === J && (H.hX=!0);H.tagName=H.hk=H.gk="";H.yE.length=0;}}else (n(H,"Weird empty close tag."),H.textNode+="</>");H.state=M.Za;}w={yg:function(H,J){return new a(H,J);}};w.rrc=a;w.trc=c;w.p4a=function(H){return new c(H,void 0);};w.lka=65536;u=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");w.ff=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(H){function J(){this.__proto__=H;}J.prototype=H;return new J();});Object.getPrototypeOf || (Object.getPrototypeOf=function(H){return H.__proto__;});Object.keys || (Object.keys=function(H){var J,N;J=[];for(N in H){H.hasOwnProperty(N) && J.push(N);}return J;});a.prototype={end:function(){k(this);},write:function(H){var W,V,S,U,fa,qa;if(this.closed)return h(this,"Cannot write after close. Assign an onready handler.");if(null === H)return k(this);if(this.error)throw this.error;for(var J=0,N;this.c=N=H.charAt(J++);){switch((this.Xga && (this.position++,"\n" === N?(this.line++,this.iX=0):this.iX++),this.state)){case M.qia:if((this.state=M.ria,"\ufeff" === N))continue;case M.ria:"<" === N?(this.state=M.Hka,this.xFa=this.position):g(y,N) || (n(this,"Non-whitespace before first tag."),this.textNode=N,this.state=M.Za);continue;case M.Za:if(this.ZR && !this.hX){for(var P=J - 1;N && "<" !== N && "&" !== N;){(N=H.charAt(J++)) && this.Xga && (this.position++,"\n" === N?(this.line++,this.iX=0):this.iX++);}this.textNode+=H.substring(P,J - 1);}"<" !== N || this.ZR && this.hX && !this.vo?(g(y,N) || this.ZR && !this.hX || n(this,"Text data outside of root node."),"&" === N?this.state=M.bma:this.textNode+=N):(this.state=M.Hka,this.xFa=this.position);continue;case M.WM:"<" === N?this.state=M.CUa:this.Al+=N;continue;case M.CUa:"/" === N?this.state=M.Jia:(this.Al+="<" + N,this.state=M.WM);continue;case M.Hka:"!" === N?(this.state=M.Lla,this.Bu=""):g(y,N) || (g(K,N)?(this.state=M.eRa,this.tagName=N):"/" === N?(this.state=M.Jia,this.tagName=""):"?" === N?(this.state=M.FRa,this.Uea=this.iL=""):(n(this,"Unencoded <"),this.xFa + 1 < this.position && (N=Array(this.position - this.xFa).join(" ") + N),this.textNode+="<" + N,this.state=M.Za));continue;case M.Lla:(this.Bu + N).toUpperCase() === E?(m(this,"onopencdata"),this.state=M.v3,this.Mn=this.Bu=""):"--" === this.Bu + N?(this.state=M.y3,this.Bu=this.Qn=""):(this.Bu + N).toUpperCase() === G?(this.state=M.D3,(this.doctype || this.ZR) && n(this,"Inappropriately located doctype declaration"),this.Bu=this.doctype=""):">" === N?(m(this,"onsgmldeclaration",this.Bu),this.Bu="",this.state=M.Za):(g(A,N) && (this.state=M.FUa),this.Bu+=N);continue;case M.FUa:N === this.q && (this.state=M.Lla,this.q="");this.Bu+=N;continue;case M.D3:">" === N?(this.state=M.Za,m(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=N,"[" === N?this.state=M.Sia:g(A,N) && (this.state=M.BKa,this.q=N));continue;case M.BKa:this.doctype+=N;N === this.q && (this.q="",this.state=M.D3);continue;case M.Sia:this.doctype+=N;"]" === N?this.state=M.D3:g(A,N) && (this.state=M.AKa,this.q=N);continue;case M.AKa:this.doctype+=N;N === this.q && (this.state=M.Sia,this.q="");continue;case M.y3:"-" === N?this.state=M.DJa:this.Qn+=N;continue;case M.DJa:"-" === N?(this.state=M.CJa,(this.Qn=f(this.zp,this.Qn)) && m(this,"oncomment",this.Qn),this.Qn=""):(this.Qn+="-" + N,this.state=M.y3);continue;case M.CJa:">" !== N?(n(this,"Malformed comment"),this.Qn+="--" + N,this.state=M.y3):this.state=M.Za;continue;case M.v3:"]" === N?this.state=M.tJa:this.Mn+=N;continue;case M.tJa:"]" === N?this.state=M.uJa:(this.Mn+="]" + N,this.state=M.v3);continue;case M.uJa:">" === N?(this.Mn && m(this,"oncdata",this.Mn),m(this,"onclosecdata"),this.Mn="",this.state=M.Za):"]" === N?this.Mn+="]":(this.Mn+="]]" + N,this.state=M.v3);continue;case M.FRa:"?" === N?this.state=M.Uka:g(y,N)?this.state=M.Tka:this.Uea+=N;continue;case M.Tka:if(!this.iL && g(y,N))continue;else "?" === N?this.state=M.Uka:this.iL+=N;continue;case M.Uka:">" === N?(m(this,"onprocessinginstruction",{name:this.Uea,body:this.iL}),this.Uea=this.iL="",this.state=M.Za):(this.iL+="?" + N,this.state=M.Tka);continue;case M.eRa:if(g(I,N))this.tagName+=N;else {this.vo || (this.tagName=this.tagName[this.pza]());P=this.Zj[this.Zj.length - 1] || this;W=this.tag={name:this.tagName,attributes:{}};this.zp.e3 && (W.pl=P.pl);this.yE.length=0;">" === N?v(this):"/" === N?this.state=M.q5:(!g(y,N) && n(this,"Invalid character in tag name"),this.state=M.mM);}continue;case M.q5:">" === N?(v(this,!0),t(this)):(n(this,"Forward-slash in opening tag not followed by >"),this.state=M.mM);continue;case M.mM:if(g(y,N))continue;else ">" === N?v(this):"/" === N?this.state=M.q5:g(K,N)?(this.gk=N,this.hk="",this.state=M.k3):n(this,"Invalid attribute name");continue;case M.k3:"=" === N?this.state=M.Sha:">" === N?(n(this,"Attribute without value"),this.hk=this.gk,q(this),v(this)):g(y,N)?this.state=M.wHa:g(I,N)?this.gk+=N:n(this,"Invalid attribute name");continue;case M.wHa:if("=" === N)this.state=M.Sha;else if(g(y,N))continue;else (n(this,"Attribute without value"),this.hk=this.tag.attributes[this.gk]="",m(this,"onattribute",{name:this.gk,value:""}),this.gk="",">" === N?v(this):g(K,N)?(this.gk=N,this.state=M.k3):(n(this,"Invalid attribute name"),this.state=M.mM));continue;case M.Sha:if(g(y,N))continue;else g(A,N)?(this.q=N,this.state=M.Vha):(n(this,"Unquoted attribute value"),this.state=M.Wha,this.hk=N);continue;case M.Vha:if(N !== this.q){"&" === N?this.state=M.Tha:this.hk+=N;continue;}q(this);this.q="";this.state=M.xHa;continue;case M.xHa:g(y,N)?this.state=M.mM:">" === N?v(this):"/" === N?this.state=M.q5:g(K,N)?(n(this,"No whitespace between attributes"),this.gk=N,this.hk="",this.state=M.k3):n(this,"Invalid attribute name");continue;case M.Wha:if(!g(D,N)){"&" === N?this.state=M.Uha:this.hk+=N;continue;}q(this);">" === N?v(this):this.state=M.mM;continue;case M.Jia:if(this.tagName)">" === N?t(this):g(I,N)?this.tagName+=N:this.Al?(this.Al+="</" + this.tagName,this.tagName="",this.state=M.WM):(!g(y,N) && n(this,"Invalid tagname in closing tag"),this.state=M.AJa);else if(g(y,N))continue;else g(K,N)?this.tagName=N:this.Al?(this.Al+="</" + N,this.state=M.WM):n(this,"Invalid tagname in closing tag.");continue;case M.AJa:if(g(y,N))continue;">" === N?t(this):n(this,"Invalid characters in closing tag");continue;case M.bma:case M.Tha:case M.Uha:switch(this.state){case M.bma:(V=M.Za,S="textNode");break;case M.Tha:V=M.Vha;S="attribValue";break;case M.Uha:(V=M.Wha,S="attribValue");}if(";" === N){N=S;P=this[N];W=this.hp;U=W.toLowerCase();fa="";if(this.Rz[W])W=this.Rz[W];else if(this.Rz[U])W=this.Rz[U];else {W=U;if("#" === W.charAt(0))if("x" === W.charAt(1)){W=W.slice(2);qa=parseInt(W,16);fa=qa.toString(16);}else (W=W.slice(1),qa=parseInt(W,10),fa=qa.toString(10));W=W.replace(/^0+/,"");W=fa.toLowerCase() !== W?(n(this,"Invalid character entity"),"&" + this.hp + ";"):String.fromCodePoint(qa);}this[N]=P + W;this.hp="";this.state=V;}else g(C,N)?this.hp+=N:(n(this,"Invalid character entity"),this[S]+="&" + this.hp + N,this.hp="",this.state=V);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.G1a){H=Math.max(w.lka,10);N=J=0;for(V=u.length;N < V;N++){S=this[u[N]].length;if(S > H)switch(u[N]){case "textNode":d(this);break;case "cdata":m(this,"oncdata",this.Mn);this.Mn="";break;case "script":m(this,"onscript",this.Al);this.Al="";break;default:h(this,"Max buffer length exceeded: " + u[N]);}J=Math.max(J,S);}this.G1a=w.lka - J + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.Mn && (m(this,"oncdata",this.Mn),this.Mn="");"" !== this.Al && (m(this,"onscript",this.Al),this.Al="");}};x=w.ff.filter(function(H){return "error" !== H && "end" !== H;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(H){this.GA.write(H.toString());this.emit("data",H);return !0;};c.prototype.end=function(H){H && H.length && this.write(H);this.GA.end();return !0;};c.prototype.on=function(H,J){var N;N=this;N.GA["on" + H] || -1 === x.indexOf(H) || (N.GA["on" + H]=function(){var P;P=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);P.splice(0,0,H);N.emit.apply(N,P);});return b.prototype.on.call(N,H,J);};y="\r\n\t ";z="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";A="'\"";C=z + B + "#";D=y + ">";E="[CDATA[";G="DOCTYPE";F="http://www.w3.org/XML/1998/namespace";L="http://www.w3.org/2000/xmlns/";O={xml:F,e3:L};y=l(y);z=l(z);B=l(B);K=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;A=l(A);C=l(C);D=l(D);M=0;w.MD={qia:M++,ria:M++,Za:M++,bma:M++,Hka:M++,Lla:M++,FUa:M++,D3:M++,BKa:M++,Sia:M++,AKa:M++,joc:M++,y3:M++,DJa:M++,CJa:M++,v3:M++,tJa:M++,uJa:M++,FRa:M++,Tka:M++,Uka:M++,eRa:M++,q5:M++,mM:M++,k3:M++,wHa:M++,Sha:M++,Vha:M++,xHa:M++,Wha:M++,Tha:M++,Uha:M++,Jia:M++,AJa:M++,WM:M++,CUa:M++};w.Izb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};w.Rz={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(w.Rz).forEach(function(H){var J;J=w.Rz[H];J="number" === typeof J?String.fromCharCode(J):J;w.Rz[H]=J;});for(M in w.MD){w.MD[w.MD[M]]=M;}M=w.MD;String.fromCodePoint || (function(){var J,N;function H(){var P,W,V,U,fa;P=[];W=-1;V=arguments.length;if(!V)return "";for(var S="";++W < V;){U=Number(arguments[W]);if(!isFinite(U) || 0 > U || 1114111 < U || N(U) != U)throw RangeError("Invalid code point: " + U);if(65535 >= U)P.push(U);else {U-=65536;fa=(U >> 10) + 55296;U=U % 1024 + 56320;P.push(fa,U);}if(W + 1 == V || 16384 < P.length)(S+=J.apply(null,P),P.length=0);}return S;}J=String.fromCharCode;N=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:H,configurable:!0,writable:!0}):String.fromCodePoint=H;})();r.exports=w;},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b){var c;function a(l,g){for(var m=0;m < l.length;m++){if(g(l[m],m,l))return l[m];}}Object.defineProperty(b,"__esModule",{value:!0});b.Oc=b.hwb=b.TOa=void 0;r=(function(){function l(g){this.Cn=[];this.NA=this.UYa=0;this.Da=g;}l.prototype.$va=function(g){var m;m=a(this.Cn,function(d){return g >= d.ca && g < d.Ta;});"undefined" === typeof m && this.Da.warn("Get Segment at pts " + g + " is undefined");return m;};l.prototype.wGb=function(g,m){var f;for(var d=this.Cn;0 < d.length && 300 <= g.S - d[0].S;){this.klb();}for(;0 < d.length && 300 <= d[d.length - 1].S - g.S;){this.ffc();}for(;1445698 < this.NA + g.size && 0 < d.length && 4 < g.S - d[0].S;){this.Da.trace("Size exceeds, removing live segment with segmentId " + d[0].S);this.klb();}f=new c(g,m);g=d.length;if(0 === g || d[g - 1].S < f.S)this.gfc(f);else {g=a(d,function(h){return h.S >= f.S;});if((null === g || void 0 === g?void 0:g.S) === f.S)return;this.hfc(d.indexOf(g),f);}this.UYa=d[d.length - 1].S;};l.prototype.ppb=function(g){"undefined" === typeof g?this.Da.warn("Current segment is undefined."):(this.Ko=g,this.Da.trace("Current segment id is " + g.S));};l.prototype.GYb=function(){if(this.l7){if(this.UYa !== this.l7.S)return this.Cn[this.Cn.indexOf(this.l7) + 1];}else return this.Cn[0];};l.prototype.D2=function(g){this.l7=this.U$(g);};l.prototype.U$=function(g){var m;m=a(this.Cn,function(d){return d.S === g;});"undefined" === typeof m && this.Da.error("Segment with segmentId " + g + " is not in segmentArray");return m;};l.prototype.Q9a=function(){var g;return (null === (g=this.l7) || void 0 === g?void 0:g.S) || -1;};l.prototype.elc=function(g,m){g=this.U$(g);"undefined" !== typeof g && (this.Cn[this.Cn.indexOf(g)].header=m);};l.prototype.KXb=function(g){g=this.U$(g);return (null === g || void 0 === g?void 0:g.header) || ({});};l.prototype.klb=function(){this.NA-=this.Cn[0].size;this.Cn.shift();};l.prototype.gfc=function(g){this.NA+=g.size;this.Cn.push(g);};l.prototype.hfc=function(g,m){this.NA+=m.size;this.Cn.splice(g,0,m);};l.prototype.ffc=function(){this.NA-=this.Cn[this.Cn.length - 1].size;this.Cn.pop();};return l;})();b.TOa=r;c=(function(){return function(l,g){this.S=l.S;this.xml=l.xml;this.ca=l.ca;this.Ta=l.Ta;this.Lwa=g;this.size=l.size;this.J0=l.J0;};})();b.hwb=c;b.Oc=a;},function(r,b,a){var l;function c(g){var m;g=g.split(".");m=g[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * m[0] + 60 * m[1] + m[2]) + parseInt(g[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.C9=b.VOa=void 0;l=a(515);r=(function(){function g(m){this.kv=[];this.Da=m;}g.prototype.zGb=function(m,d,f){var h,k,n,p,q,v;void 0 === f && (f=0);h=this.kv;k=m.indexOf("<p");n=-1;do {p={};p.S=d;p.Lmb=k;q=m.indexOf("begin=",k) + 7;v=m.indexOf("end=",k) + 5;q=c(m.substring(q,q + 12)) - f;v=c(m.substring(v,v + 12)) - f;n=v > n?v:n;p.startTime=q;p.endTime=v;p.latestEndSoFar=n;p.qTb=m.indexOf("/p>",k) + 3;k=p.qTb;if(0 === h.length || p.startTime > h[h.length - 1].startTime)(h.push(p),this.Da.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,gTb:p.endTime}));else if((v=l.Oc(h,function(t){return t.startTime >= p.startTime;}),v.startTime !== p.startTime || v.Lmb !== p.Lmb))(v=h.indexOf(v),h.splice(v,0,p),this.Da.trace("LiveTtmlIndex:  entry is pushed at index number " + v,{startTime:p.startTime,gTb:p.endTime}));k=m.indexOf("<p",k);}while(-1 !== k);};g.prototype.Dq=function(m,d){return this.kv.filter(function(f){return f.startTime <= d && f.endTime >= m;}).length;};g.prototype.vYb=function(m){var d;d=l.Oc(this.kv,function(f){return f.startTime <= m && m < f.endTime || f.startTime >= m;});return (null === d || void 0 === d?void 0:d.S) || -1;};g.prototype.k7a=function(){return 0 < this.kv.length?this.kv[this.kv.length - 1].endTime:0;};return g;})();b.VOa=r;b.C9=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bka="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TKa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,l,g){if(null != g){if(0 < g(c,l))throw a.k4a(c,l);}else if(c.Jm && 0 < c.Jm(l))throw a.k4a(c,l);this.start=c;this.end=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Gla=void 0;a.k4a=function(c,l){return new RangeError("end [" + l + "] must be >= start [" + c + "]");};b.Gla=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WKa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RRa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pPa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yQa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iSa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FWa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iIa="AppLogSinkSymbol";},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O;function c(K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa,T,X,Q,ka,ra){var R;R=this;this.j=K;this.Ga=I;this.dob=M;this.Rg=H;this.Xza=J;this.Sta=N;this.Se=P;this.l$=W;this.Bf=V;this.config=S;this.Fd=U;this.za=fa;this.Ia=qa;this.ps=xa;this.eC=Aa;this.Uj=Oa;this.Vv=T;this.FK=X;this.Ic=Q;this.NQ=ka;this.NF=ra;this.q2=[];this.hAa=this.GF=this.h1=0;this.fP=[];this.ppa=!1;this.Du=function(ha){var wa,va,Ea,Ya,wb,nb;va={};try{va={playdelaysdk:(0,p.sg)(R.j.cX()),applicationPlaydelay:(0,p.sg)(R.j.Kqa()),playdelay:(0,p.sg)(R.j.Oqa()),trackid:R.j.Gl,bookmark:(0,p.sg)(R.j.Kn || 0),pbnum:R.j.index,endianness:(0,f.d9a)()};R.config().USb && (va.transitiontime=R.j.yo,va.uiplaystarttime=R.j.lb.RS,va.playbackrequestedat=R.j.oj.ia(q.va),va.clockgettime=R.getTime(),va.clockgetpreciseepoch=R.za.nf.ia(q.va),va.clockgetpreciseappepoch=R.Ia.cC.ia(q.va),va.absolutestarttime=R.j.HJ(),va.relativetime=R.j.r$a());R.oaa(va,"startplay");}catch(zb){R.log.error("error in startplay log fields",zb);}R.j.gj && (va.blocked=R.j.gj);R.Ic.Zab(va);(0,z.Oa)(R.j.D1a) && (va.bookmarkact=(0,p.sg)(R.j.D1a));Ea=R.j.yd.at && R.j.yd.ats?R.j.yd.at - R.j.yd.ats:void 0;Ea && (va.nccpat=Ea);(Ea=R.j.yd.lr && R.j.yd.lc?R.j.yd.lr - R.j.yd.lc:void 0) && (va.nccplt=Ea);(Ea=R.j.yd.lc && R.j.yd.lg?R.j.yd.lc - R.j.yd.lg:void 0) && (va.lct=Ea);(Ea=R.pJ()) && (va.downloadables=Ea);mb._cad_global.device && (0,z.xd)(mb._cad_global.device.C$) && (va.esnSource=mb._cad_global.device.C$);(0,p.Pe)(va,R.ps,{prefix:"pi_"});R.j.nq && R.j.nq.initBitrate && (va.initvbitrate=R.j.nq.initBitrate);R.j.nq && R.j.nq.selector && (va.selector=R.j.nq.selector);va.fullDlreports=R.Rpb;if(R.j.state.value >= y.jc.Ue)try{Ya=R.j.Hv();if(Ya){R.maxBitrate=(0,f.nT)(Ya.map(function(zb){return zb.bitrate;}));R.Keb=(0,f.nT)(Ya.map(function(zb){return zb.height;}));wb=0 < Ya.length?(0,E.Z$a)(function(zb,Pa){return zb.height === Pa.height;},Ya).map(function(zb){return (0,B.Lza)(zb,function(Pa){return Pa.bitrate;});}):void 0;va.maxbitrate=R.maxBitrate;va.maxresheight=R.Keb;}}catch(zb){R.log.error("Exception computing max bitrate",zb);}try{nb=(0,f.TJ)();nb && (va.pdltime=nb);}catch(zb){}try{(0,p.Pe)(va,R.j.yd,{prefix:"sm_"});(0,p.Pe)(va,R.j.dba(),{prefix:"vd_"});}catch(zb){}ha && R.j.Hw && (va.pssh=R.j.Hw);R.cbb(R.j,va);va.avtp=R.SL.op().cGa;(null === (wa=R.j.qb) || void 0 === wa?0:wa.zA) && R.Fba(va);if(R.j.Ob.value)try{va.ttTrackFields=R.j.Ob.value.Ch;}catch(zb){}R.Ic.Vab(va,R.j.Gc.value,R.Ga);R.Ic.kQ(va,!0,R.j.Uh.value,R.Ga);R.j.ba && (va.packageId=R.j.ba.Ra.Bp);R.j.ba && R.j.ba.Ra.Vo && (va.hasChoiceMap=!0);R.D3b(wb);R.C3b();ha && (R.oxa(va),R.qxa(va));R.Xab(R.j,va);R.bK(R.j,va);R.cK(R.j,va);R.Tt(R.j,va);R.CF(R.j,va,R.ppa);R.yZ(R.j,va);R.g1b(R.j,va);R.pxa(va);R.sxa(va);R.Ic.jQ(va);R.Wab(va);R.Ic.Gba(va,R.Ga);R.rxa(va);R.Dc(A.Wc.Du,ha,O.Ie | O.ev | O.wj | O.fv | O.fH | O.w3 | O.iH | O.gr,va);};this.Ow=function(ha,wa,va){wa={playdelay:(0,p.sg)(ha),reason:va,intrplayseq:R.GF - 1,skipped:wa};"repos" === va && (wa.prstate=!0 === R.j.paused.value?"paused":"playing");R.iQ(wa,g.xj.Ow);R.cK(R.j,wa);R.Tt(R.j,wa);R.Dc(A.Wc.Ow,!1,O.Ie | O.ev | O.wj,wa);"rebuffer" !== va && "force_rebuffer" !== va || R.j.Ym.sGb(Number((0,p.sg)(ha)));};this.iB=function(ha,wa,va,Ea){ha={moff:(0,p.Vn)(va),moffms:(0,p.sg)(va),vbitrate:wa.bitrate,vbitrateold:ha.bitrate,vdlid:wa.Tb,vdlidold:ha.Tb,vheight:wa.height,vheightold:ha.height,vwidth:wa.width,vwidthold:ha.width,bw:Ea};R.cK(R.j,ha);R.Tt(R.j,ha);R.CF(R.j,ha);R.iQ(ha,g.xj.iB);R.Dc(A.Wc.iB,!1,O.wj,ha);};this.nDa=function(ha,wa,va){ha={moff:(0,p.Vn)(va),moffms:(0,p.sg)(va),vdlidold:ha.Tb,vbitrateold:ha.bitrate};R.cK(R.j,ha);R.Tt(R.j,ha);R.CF(R.j,ha);R.Ic.fs(ha,wa,R.j.gg.value && R.j.gg.value.stream);R.iQ(ha,g.xj.e1);R.Dc(A.Wc.e1,!1,O.wj,ha);};this.WBa=function(){var ha,wa;ha={waittime:(0,p.sg)(R.j.r$a()),abortedevent:"startplay",trackid:R.j.Gl,prstate:R.NB(),paustate:R.j.paused.value};R.oaa(ha,"endplay");R.iQ(ha,g.xj.uR);R.Vv.bY && (ha.eventlist_version=1,ha.eventlist=R.FK.h$a(R.j));R.j.nq && R.j.nq.initBitrate && (ha.initvbitrate=R.j.nq.initBitrate);try{wa=(0,f.TJ)();wa && (ha.pdltime=wa);(0,p.Pe)(ha,R.j.yd,{prefix:"sm_"});}catch(va){}R.lxa(ha,!0);R.Ic.Gba(ha,R.Ga);R.Ic.kQ(ha,!1,R.j.Uh.value,R.Ga);R.oxa(ha);R.Ic.fs(ha,R.j.Hf.value,R.j.bi.value);R.cbb(R.j,ha);R.bK(R.j,ha);R.yZ(R.j,ha);R.rxa(ha);R.qxa(ha);R.Tt(R.j,ha);R.Dc(A.Wc.uR,!1,O.Ie | O.wj | O.fH | O.fv | O.gr,ha);};this.VBa=function(ha,wa){ha={waittime:(0,p.sg)(ha),abortedevent:"resumeplay",resumeplayreason:wa};R.j.nq && R.j.nq.initBitrate && (ha.initvbitrate=R.j.nq.initBitrate);R.Ic.fs(ha,R.j.Hf.value,R.j.bi.value);R.yZ(R.j,ha);R.Tt(R.j,ha);R.Dc(A.Wc.uR,!1,O.Ie | O.wj | O.gr,ha);};this.yFa=function(ha,wa,va){ha={newstate:wa?"Paused":"Playing",oldstate:ha?"Paused":"Playing",reason:va};R.cK(R.j,ha);R.Tt(R.j,ha);R.CF(R.j,ha);R.Ic.fs(ha,R.j.Qe.value && R.j.Qe.value.stream,R.j.gg.value && R.j.gg.value.stream);R.iQ(ha,g.xj.W1);R.Dc(A.Wc.W1,!1,O.Ie | O.wj,ha);};this.GZ=function(ha,wa,va){var Ea,Ya;ha=(0,p.Pe)({vdlid:R.j.Hf.value.Tb,playingms:ha,pausedms:wa,intrplayseq:R.GF++,prstate:R.NB(),paustate:R.j.paused.value},va);R.oaa(ha,"intrplay");wa=R.j.Cc[G.u.J].value;va=R.j.Cc[G.u.T].value;ha.cdnid=ha.vcdnid=wa && wa.id;ha.acdnid=va && va.id;ha.locid=R.VZ && R.VZ.dza;ha.loclv=R.VZ && R.VZ.Ldb;ha.avtp=R.SL.op().cGa;ha.mediabuffered=null === (Ea=R.j.rf) || void 0 === Ea?void 0:Ea.raa();if(null === (Ya=R.j.qb) || void 0 === Ya?0:Ya.zA)(R.lxa(ha,!0),R.Fba(ha),R.abb(ha));try{(0,p.Pe)(ha,R.j.dba(),{prefix:"vd_"});}catch(wb){}R.cK(R.j,ha);R.Tt(R.j,ha);R.CF(R.j,ha);R.Ic.fs(ha,R.j.Qe.value && R.j.Qe.value.stream,R.j.gg.value && R.j.gg.value.stream);R.Dc(A.Wc.GZ,!1,O.Ie | O.wj,ha);};this.wG=function(ha,wa,va){ha={moffold:(0,p.Vn)(ha),reposseq:R.h1++,prstate:R.NB(),paustate:R.j.paused.value};R.CF(R.j,ha);R.Ic.fs(ha,va && va.stream,wa && wa.stream);R.iQ(ha,g.xj.wG);R.Dc(A.Wc.wG,!1,O.Ie | O.wj,ha);};this.Wpa=function(){var ha,wa,va,Ea;wa=R.j.Gc.value;va=R.j.bi.value.Tb;wa=wa?{trackId:wa.trackId,bcp47:wa.Of,downloadableId:va,rank:wa.vc,chan:wa.channels}:{};va=R.aC;Ea=null === (ha=R.xya) || void 0 === ha?void 0:ha.Tb;ha=va?{trackId:va.trackId,bcp47:va.Of,downloadableId:Ea,rank:va.vc,chan:va.channels}:{};R.Dc(A.Wc.d1a,!1,O.Ie | O.wj,{switchdelay:(0,p.sg)(R.getTime() - R.yya),track:wa,oldtrack:ha});};this.Q1=function(ha){R.Dc(A.Wc.Rmb,!1,O.Ie | O.wj,{speedold:Math.floor(1E3 * ha.oldValue),speed:Math.floor(1E3 * ha.newValue)});};this.GS=function(){R.Dc(A.Wc.Ajc,!1,O.Ie | O.wj,{track:R.j.Ob.value.Ch});};this.aD=function(ha){var wa,va;wa=R.j.Ob.value;if(ha.newValue || wa && wa.Iq() && !wa.up()){va=(ha=null !== (va=ha.newValue) && void 0 !== va?va:wa)?{trackId:ha.trackId,bcp47:ha.Of,downloadableId:ha.Tb,rank:ha.vc,isImageBased:ha.am}:{};ha=(ha=R.Lya)?{trackId:ha.trackId,bcp47:ha.Of,downloadableId:ha.Tb,rank:ha.vc,isImageBased:ha.am}:{};va={switchdelay:(0,p.sg)(R.getTime() - R.Kya),track:va,oldtrack:ha};R.Ic.fs(va,R.j.Qe.value && R.j.Qe.value.stream,R.j.gg.value && R.j.gg.value.stream);R.Dc(A.Wc.pob,!1,O.Ie | O.wj,va);}};this.Or=function(ha){R.Dc(A.Wc.$Ib,!1,O.Ie | O.wj,ha.newValue);};this.AKb=function(ha,wa){var va,Ea;va=wa.serverid;Ea={locid:wa.location,loclv:wa.locationlv,selocaid:va,selcdnid:va,selocaname:wa.servername};Ea.mediatype=wa.mediatype;Ea.selreason=wa.selreason || "unknown";Ea.seldetail=wa.seldetail;Ea.cdnbwdata=JSON.stringify([{id:va}]);ha && (Ea.oldlocid=ha.dza,Ea.oldloclv=ha.Ldb,Ea.oldocaid=ha.Hfc,Ea.oldocaname=ha.zL);R.Dc(A.Wc.p2a,!1,O.w3,Ea);};this.A5a=function(){var ha,wa,va;if(R.j.th)try{ha=!1;R.Rpb || (ha=!0,R.fP=R.fP.filter(function(Ea){return !Ea.ja;}));if(0 < R.fP.length){wa=R.l$.construct(R.fP,R.j.oj.ia(q.va));R.fP=[];wa.erroronly=ha;va={};(0,p.zh)(wa,function(Ea,Ya){va[Ea]=JSON.stringify(Ya);});R.Dc(A.Wc.sRb,!1,O.wj,va);}}catch(Ea){R.log.error("Exception in dlreport.",Ea);}};this.NB=function(){var ha;ha=R.j.Db.value;return ha === y.nb.Xc?"playing":ha === y.nb.bj?"paused":ha === y.nb.Os?"ended":"waiting";};this.pC=function(){var ha,wa,va;if(R.j.state.value == y.jc.Ue){va=R.z0();R.config().uDa && (va.avtp=R.SL.op().cGa,(null === (ha=R.j.qb) || void 0 === ha?0:ha.zA) && R.Fba(va));va.mediabuffered=null === (wa=R.j.rf) || void 0 === wa?void 0:wa.raa();va.midplayseq=R.hAa++;va.prstate=R.NB();va.paustate=R.j.paused.value;R.config().Dfc && R.Anb("midplay");R.config().qu && R.txa(va);R.pxa(va);R.sxa(va);R.Tt(R.j,va);R.Ic.jQ(va);R.Dc(A.Wc.pC,!1,O.Ie | O.wj | O.fH | O.fv,va);}};this.Anb=function(ha){var wa,va;wa={};wa.trigger=ha;try{va=R.j.Qva();wa.subtitleqoescore=R.j.Hp.TZb(va);wa.metrics=JSON.stringify(R.j.Hp.lwa(va));}catch(Ea){R.log.error("error getting subtitle qoe data",Ea);}R.Dc(A.Wc.Bic,!1,O.Ie | O.fH | O.ev,wa);};this.transition=function(ha){R.CF(R.j,ha);R.yZ(R.j,ha);R.Dc(A.Wc.transition,!1,0,ha);};this.nEa=function(ha,wa){R.Dc(A.Wc.nEa,wa,0,ha);};this.DB=function(ha){var wa,va,Ea,Ya,wb,nb,zb;va=R.z0();R.oaa(va,"endplay");va.prstate=R.NB();va.paustate=R.j.paused.value;va.muted=R.j.muted.value;R.j.cD && "downloaded" === R.j.cD.XP() && (va.trickplay_ms=R.j.y2.offset,va.trickplay_res=R.j.y2.vkb);R.config().Zpb && (va.rtinfo=R.j.uZb());R.config().uDa && (null === (wa=R.j.qb) || void 0 === wa?0:wa.zA) && R.Fba(va);va.endreason=ha?"error":R.j.Db.value === y.nb.Os?"ended":"stopped";(wa=R.ps) && (0,p.Pe)(va,wa,{prefix:"pi_"});try{(0,p.Pe)(va,R.j.yd,{prefix:"sm_"});}catch(Xa){}R.j.kxa && (va.inactivityTime=R.j.kxa);R.lxa(va,ha);R.abb(va);if(R.j.f9){wa=R.j.f9;Ea=R.config().XW;Ya=R.j.loadTime;wb={iv:Ea,seg:[]};nb=function(Xa,cb,hb){return 0 === cb || void 0 === hb[cb - 1]?Xa:Xa - hb[cb - 1];};zb=wa.JW.map(nb);nb=wa.P2.map(nb);for(var Pa,Za=0;Za < zb.length;Za++){if(zb[Za] || nb[Za])Pa?(Pa.ams.push(zb[Za]),Pa.vms.push(nb[Za])):Pa={ams:[wa.JW[Za]],vms:[wa.P2[Za]],soffms:wa.startTime + Za * Ea - Ya};Za !== zb.length - 1 && zb[Za] && nb[Za] || !Pa || (wb.seg.push(Pa),Pa=void 0);}va.bt=JSON.stringify(wb);}ha && (R.oxa(va),R.qxa(va));R.Anb("endplay");R.config().qu && R.txa(va);R.Ic.kQ(va,!1,R.j.Uh.value,R.Ga);R.Xab(R.j,va);R.bK(R.j,va);R.cK(R.j,va);R.CF(R.j,va,R.ppa);R.Tt(R.j,va);R.yZ(R.j,va);R.pxa(va);R.sxa(va);R.Ic.jQ(va);R.i1b(va);R.Wab(va);R.k1b(va);R.j1b(va);R.m1b(va);R.rxa(va);R.n1b(va);R.Dc(A.Wc.DB,ha,O.Ie | O.ev | O.wj | O.fH | O.fv | O.iH | O.gr,va);};this.zRb=function(ha){R.fP.push(R.l$.yMb(ha.response));};this.Tsa=function(ha){var wa,va,Ea,Ya,wb,nb;ha=ha.response;wa=ha.request;va=ha.request.oC;Ea=wa.track;if(Ea){Ya=!ha.ja && ha.Ca != v.Y.xD;wb=Ea.type;nb=ha.Vm;if(Ya || R.Ga.iza){va={dltype:wb,url1:wa.url,url2:ha.url || "",cdnid:wa.Cc && wa.Cc.id,tresp:(0,p.sg)(nb.rj - nb.Bs),brecv:(0,p.R7a)(nb.qX),trecv:(0,p.sg)(nb.Uq - nb.rj),sbr:va && va.bitrate};ha.uu && (va.range=ha.uu);switch(wb){case h.yj.audio:va.adlid=wa.stream.Tb;break;case h.yj.video:va.vdlid=wa.stream.Tb;break;case h.yj.Rga:va.ttdlid=Ea.Tb;}(wa=(0,C.Mva)(ha.Ca)) && (va.nwerr=wa);ha.Xl && (va.httperr=ha.Xl);R.Dc(A.Wc.Tsa,Ya,O.wj,va);}}};this.gj=function(){R.Dc(A.Wc.A1a,!1,O.Ie | O.fH | O.gr,{});};this.QLb=function(ha){var wa,va;wa=ha.response.Vm;ha=(0,q.$b)(wa.rj);va=(0,q.$b)(wa.Uq);wa=(0,t.ga)(wa.qX || 0);wa.Ccb() || wa.$xa() || (ha=new w.Gla(ha,va),R.SL.kGb(new u.aLa(ha,wa)));};this.uea=function(ha){var wa,va,Ea;Ea=ha.newValue;ha.jj && ha.jj.V_ && Ea && (null === (wa=ha.jj) || void 0 === wa || !wa.reason) || Ea == R.rK || (R.yFa(R.rK,Ea,null === (va=ha.jj) || void 0 === va?void 0:va.reason),R.rK=Ea);};this.aB=function(ha){function wa(va){var Ea;if(R.j.Wb && R.j.Wb.sourceBuffers){Ea=R.j.Wb.sourceBuffers.filter(function(Ya){return Ya.type === va;}).pop();if(Ea)return {busy:Ea.Li(),updating:Ea.updating(),ranges:Ea.saa()};}}ha={cause:ha.cause};ha.cause && ha.cause === d.ila && (ha.mediaTime=R.j.mediaTime.value,ha.buf_audio=wa(m.f5),ha.buf_video=wa(m.kU));R.GZ(R.q2[y.nb.Xc] || 0,R.q2[y.nb.bj] || 0,ha);};this.Fob=function(ha){var wa;ha=ha.oldValue;wa=R.getTime();ha === y.nb.Dg?R.q2=[]:R.q2[ha]=(R.q2[ha] || 0) + (wa - R.O3b);R.O3b=wa;};this.Jn=function(ha){R.yya=R.getTime();R.aC=ha.oldValue;};this.jn=function(ha){R.Kya=R.getTime();R.Lya=ha.oldValue;};this.MW=function(ha){R.xya=ha.oldValue;};this.l_=function(ha){function wa(va,Ea){var Ya;if(!va || va.dza !== Ea.location){Ya={dza:Ea.location,Ldb:Ea.locationlv,Hfc:Ea.serverid,zL:Ea.servername};R.AKb(va,Ea);return Ya;}}if("audio" === ha.mediatype){if(ha=wa(R.I3b,ha))R.I3b=ha;}else if(ha=wa(R.VZ,ha))R.VZ=ha;};this.A1=function(ha){var wa,va;wa=ha.mediatype;va=ha.reason;"video" === wa?"serverswitchaway" === va?(R.Fk.summary.Dqb++,R.Fk.zca=R.za.nf.ia(q.va)):"serverswitchback" === va && (R.Fk.summary.Eqb++,R.Fk.zca && (R.Fk.summary.Fqb.push(R.za.nf.ia(q.va) - R.Fk.zca),R.Fk.zca=void 0)):"audio" === wa && ("serverswitchaway" === va?(R.Fk.summary.Q0a++,R.Fk.vca=R.za.nf.ia(q.va)):"serverswitchback" === va && (R.Fk.summary.R0a++,R.Fk.vca && (R.Fk.summary.S0a.push(R.za.nf.ia(q.va) - R.Fk.vca),R.Fk.vca=void 0)));R.Dc(A.Wc.Jfc,!1,O.Ie | O.wj,{mediatype:ha.mediatype,server:ha.server,selreason:ha.reason,location:ha.location,bitrate:ha.bitrate,confidence:ha.confidence,throughput:ha.throughput,oldserver:ha.oldserver});};this.HI=function(ha){R.Dc(A.Wc.NHb,!1,O.wj,{strmsel:ha.strmsel});};this.Hca=function(ha){ha=l.__rest(ha,["type"]);R.Tt(R.j,ha);R.Dc(A.Wc.C4b,!1,O.Ie,ha);};this.Gca=function(ha){var wa,va,Ea;wa=ha.mediaType;va=ha.current;ha=ha.ko;if(wa === G.u.J){Ea={};wa={mediatype:(Ea[G.u.T]="audio",Ea[G.u.J]="video",Ea[G.u.Za]="subtitle",Ea)[wa],curr:{enc:va.wJ,origin:va.vJ},prev:{enc:ha.wJ,origin:ha.vJ}};R.Tt(R.j,wa);R.Dc(A.Wc.B4b,!1,O.Ie,wa);}};this.zS=function(ha){ha=Object.assign({},ha);ha.details && (ha.details=JSON.stringify(ha.details));R.Dc(A.Wc.Aic,!0,O.Ie | O.ev | O.w3,ha);};this.ppa=Oa.aHa || Oa.qha || Oa.P7a;this.SL=M();this.log=(0,k.lj)(K,"LogblobBuilder");this.rK=K.paused.value;this.sa=this.Ga.sa;this.Fk={summary:{Dqb:0,Eqb:0,Fqb:[],Q0a:0,R0a:0,S0a:[]},zca:void 0,vca:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.gU=void 0;l=a(0);g=a(60);m=a(17);d=a(65);f=a(44);h=a(93);k=a(9);n=a(22);p=a(23);q=a(5);v=a(4);t=a(52);w=a(519);u=a(1280);x=a(14);y=a(16);z=a(15);B=a(1281);A=a(282);C=a(203);D=a(119);E=a(81);G=a(49);F=a(204);L=a(254);c.prototype.cbb=function(K,I){var M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa,T,X,Q;if(this.config().qu)try{M={};H=this.Fd.getStats(void 0,void 0,K.K);J=K.HJ();N=H.RL.bMb || [];M.attempts=H.Nea || 0;M.num_completed_tasks=N.length;P=this.Se.qUb;W={};V=D.Lk.AS;S=D.Lk.Rv;U=D.Lk.Tqa;H.Nm && (W.scheduled=H.Nm - J);fa=K.ba;fa && (0,z.Oa)(fa.mL) && (W.preauthsent=fa.mL - K.loadTime,W.preauthreceived=fa.RR - K.loadTime);qa=N.filter(function(ka){return "manifest" === ka.type;});M.mf_succ=qa.filter(P("status",V)).length;M.mf_fail=qa.filter(P("status",S)).length;xa=K.yd;(0,z.xd)(xa.lg) && 0 > xa.lg && K.loadTime && (W.ldlsent=xa.lc,W.ldlreceived=xa.lr);Aa=N.filter(function(ka){return "ldl" === ka.type;});M.ldl_succ=Aa.filter(P("status",V)).length;M.ldl_fail=Aa.filter(P("status",S)).length;H=!0;J=[];"notcached" === K.RI && (H=!1,J.push("Missing cached manifest"));this.config().aY || (H=!1,J.push("LDL prefetch disabled"));Oa=Aa.filter(P("status",U)).length;this.config().aY && 0 === Oa && (!W.ldlreceived || 0 <= W.ldlreceived) && (H=!1,J.push("LDL received after start"));if(this.config().w6a)if(I.isPrefetchItem){T=I.prefetchedAudioMs / I.bcABufferLevelMs;if(1 > I.prefetchedVideoMs / I.bcVBufferLevelMs || 1 > T)(H=!1,J.push("Insufficient media fetched"));}else (H=!1,J.push("aseStats not initialized"));X=N.filter(function(ka){return "getHeaders" === ka.type;});M.header_succ=X.filter(P("status",V)).length;M.header_fail=X.filter(P("status",S)).length;Q=N.filter(function(ka){return "getMedia" === ka.type;});M.media_succ=Q.filter(P("status",V)).length;M.media_fail=Q.filter(P("status",S)).length;M.hm_succ=M.header_succ + M.media_succ;M.hm_fail=M.header_fail + M.media_fail;(0,p.Pe)(I,M,{prefix:"pr_"});this.Vv.bY && (I.eventlist_version=1,I.eventlist=this.FK.h$a(K));(I.prefetchCompleted=H) || (I.prefetchFailed=J,(0,p.Pe)(I,W,{prefix:"pe_"}));this.txa(I);}catch(ka){this.log.warn("error in collecting video prepare data",ka);}};c.prototype.AZb=function(K,I){if(K=K.GY())if(I=K[I])return I.Ba;};c.prototype.Xab=function(K,I){K.lb.ji && (I.isBranching=!0);};c.prototype.bK=function(K,I){var M,H;H=(null === (M=K.ba) || void 0 === M?void 0:M.Wxa) || "videopreparer" === K.QI;I.cachedManifest=K.RI;I.cachedLicense=K.QI;I.usedldl=this.config().aY?H.toString():"not_capable";};c.prototype.cK=function(K,I){var M,H;if(this.config().l1b){M=K.Rva();H=K.ha.ba;M && H && (I.segment=M,H=K.rF(),I.segmenttime=H,K=this.AZb(K,M),null !== H && void 0 !== K && (I.segmentoffset=H - K));}};c.prototype.CF=function(K,I,M){I.pxid=K.Jea;(void 0 === M?0:M) && (I.playgraph_trace=K.mib);};c.prototype.yZ=function(K,I){I.hasContentPlaygraph=K.mba();};c.prototype.g1b=function(K,I){var M,H;if(K.mba()){M=K.QE;H=K.ba.Ra.Zo.na;I.auxViewables=Object.keys(H.U).map(function(J){return H.U[J].N;}).filter(function(J,N,P){return J !== M && P.indexOf(J) === N;});}};c.prototype.abb=function(K){var I,M;I=this.j.pvc;M=I && I.lxc;I && I.O0b && (K.htwbr=I.O0b,K.pbtwbr=I.JBa,K.hptwbr=I.svc);I && I.Eec && (K.rr=I.Eec,K.ra=I.hxc);I && M && 0 < (M.length || 0) && (K.qe=JSON.stringify(M));};c.prototype.oxa=function(K){var I,M,H;try{I=this.Se.createElement("canvas");M=I.getContext("webgl") || I.getContext("experimental-webgl");if(M){H=M.getExtension("WEBGL_debug_renderer_info");H && (K.WebGLRenderer=M.getParameter(H.UNMASKED_RENDERER_WEBGL),K.WebGLVendor=M.getParameter(H.UNMASKED_VENDOR_WEBGL));}}catch(J){}};c.prototype.m1b=function(K){K.switchAwaySummary={vsa:this.Fk.summary.Dqb,vsb:this.Fk.summary.Eqb,vsbt:this.Fk.summary.Fqb,asa:this.Fk.summary.Q0a,asb:this.Fk.summary.R0a,asbt:this.Fk.summary.S0a};};c.prototype.hBb=function(K){var I;I=[];return K?Object.keys(K).map(function(M){return +M;}):I;};c.prototype.pJ=function(){var K,I;K=this;if(this.j.Cz && this.j.Fj){I=[];this.j.Cz.concat(this.j.Fj).forEach(function(M){M.streams.forEach(function(H){I.push({dlid:H.Tb,type:H.type,bitrate:H.bitrate,vmaf:H.hb,cdn_ids:K.hBb(H.Vsa)});});});return JSON.stringify(I);}};c.prototype.zKb=function(){var I,M,H;function K(J,N){var P,W,V;P=J.cdnId + "$" + J.correlationId;W=H[P];W || (W={cdnid:J.cdnId,pbcid:J.correlationId,dls:[]},H[P]=W,M.push(W));(0,n.$O)(J.bitrate);(0,n.$O)(J.duration);P={bitrate:J.bitrate,tm:(0,x.Op)(J.duration)};V=J.vmaf;V && ((0,n.$O)(J.vmaf),P.vf=V);P[N]=(0,p.Ck)(J.downloadableId);W.dls.push(P);}I=this.j.Ym.yWb();M=[];H={};I.audio.forEach(function(J){K(J,"adlid");});I.video.forEach(function(J){K(J,"dlid");});return JSON.stringify(M);};c.prototype.z0=function(){var K,I,M,H,J,N,P,W,V,S,U,fa,qa;K=this.j.Ym;I={totaltime:(0,p.Vn)(K.Zr("content")),totalcontenttime:(0,p.Vn)(K.dZ("content")),totaladtime:(0,p.Vn)(K.Zr("ads")),totalothertime:(0,p.Vn)(K.Zr("other")),cdndldist:this.zKb(),reposcount:this.h1,intrplaycount:this.GF};try{M={numskip:0,numlowqual:0};H=this.j.rf;J=H.vy();(0,z.Oa)(J) && (I.totfr=J,M.numren=J);J=H.NJ();(0,z.Oa)(J) && (I.totdfr=J,M.numrendrop=J);J=H.KY();(0,z.Oa)(J) && (I.totcfr=J,M.numrenerr=J);I.playqualvideo=JSON.stringify(M);N=this.j.Hf.value;N && (I.videofr=N.framerate.toFixed(3));P=K.Uua();P && (I.abrdel=P);W=K.tba() && K.v8a();W && (I.tw_vmaf=W);V=K.t8a();V && (0,p.Pe)(I,V);I.rbfrs=this.GF;I.maxbitrate=this.maxBitrate;I.maxresheight=this.Keb;S=this.j.tF();for(K=0;K < S.length;K++){U=S[K];fa=this.Ga.QQ.VC(U);if(fa){(0,n.ya)(qa);I.maxbitrate=qa?qa.bitrate:0;I.maxresheight=qa?qa.height:0;I.bitratefilters=fa.join("|");break;}qa=U;}this.j.cD && (I.trickplay=this.j.cD.XP());null !== this.j.Hp.n1a && (I.avg_subt_delay=this.j.Hp.n1a);}catch(xa){this.log.error("Exception reading some of the endplay fields",xa);}(0,p.Pe)(I,this.j.dba(),{prefix:"vd_"});return I;};c.prototype.getTime=function(){return this.Ia.Rb().ia(q.va);};c.prototype.dwa=function(){return this.getTime() - this.Ga.oj.ia(q.va);};c.prototype.txa=function(K){var I;try{I=this.Fd.getStats();K.pr_cache_size=JSON.stringify(I.cache);K.pr_stats=JSON.stringify(I.ZVb);}catch(M){}};c.prototype.pxa=function(K){this.log.debug("httpstats",this.Bf.dc);(0,p.Pe)(K,this.Bf.dc,{prefix:"http_"});};c.prototype.Tt=function(K,I){K=K.Md;K.ta && (I.intenttoplayatedge=K.Dbb(),K=K.nF(),I.livestage=this.eYb(K));};c.prototype.eYb=function(K){switch(K){case F.$u.JU:case F.$u.Xja:case F.$u.lja:return K.toLowerCase();default:return (0,L.jY)(K);}};c.prototype.lxa=function(K,I){var M,H,J;M=this.config().O4a && !(this.sa % this.config().O4a);H=this.j.qb;J=null === H || void 0 === H?void 0:H.ej;M && J && (K.ASEstats=JSON.stringify(H.Hxa(I)));};c.prototype.Fba=function(K){Object.assign(K,this.j.qb.Ac.$Zb());};c.prototype.sxa=function(K){var I;try{I=x.ox.memory;(0,z.zcb)(I) && (K.totalJSHeapSize=I.totalJSHeapSize,K.usedJSHeapSize=I.usedJSHeapSize,K.jsHeapSizeLimit=I.jsHeapSizeLimit);}catch(M){}};c.prototype.Wab=function(K){var I;try{if(this.config().eX){I=this.j.FWb();K.battery=I;this.log.trace("batterystatuses",I);}}catch(M){}};c.prototype.i1b=function(K){this.j.T9 && (K.dqec=this.j.T9);};c.prototype.rxa=function(K){var I,M,H;(null === (I=this.j.Ye) || void 0 === I?0:I.PP)?K.keysys=this.j.Ye.PP():(null === (H=null === (M=this.j.Ye) || void 0 === M?void 0:M.mediaKeys) || void 0 === H?0:H.keySystem)?K.keysys=this.j.Ye.mediaKeys.keySystem:this.NQ.Scb && (K.keysys=this.NQ.Scb);this.NF.Ucb && (K.keySystemRestrictions=this.NF.Ucb);this.NF.Vcb && (K.keySystemRestrictionsDebug=this.NF.Vcb);};c.prototype.qxa=function(K){var I;if(null === (I=this.j.Ye) || void 0 === I?0:I.z9a)K.keystatus=this.j.Ye.vya;};c.prototype.j1b=function(K){this.Rta && (K.externaldisplay=this.Rta.AP);};c.prototype.k1b=function(K){var I,M;if(this.eHa){I=this.eHa.map(function(H){return H.Yc;}).filter(function(H){return void 0 !== H;});M=(0,B.Lza)(I,function(H){return H.height;});M && (K.media_capabilities_smooth=M.smooth,K.media_capabilities_efficient=M.powerEfficient,K.media_capabilities_bitrate=M.bitrate,K.media_capabilities_height=M.height,K.media_capabilities_width=M.width);K.media_capabilities=I.map(function(H){return {smooth:H.smooth,efficient:H.powerEfficient,bitrate:H.bitrate,height:H.height,width:H.width};});}};c.prototype.n1b=function(K){K.didHydrateTracks=this.j.g$;};c.prototype.C3b=function(){void 0 === this.Rta && (this.Rta=this.Sta.iUb());};c.prototype.D3b=function(K){var I;I=this;void 0 === this.eHa && void 0 !== K && (this.eHa=K.map(function(M){return I.Xza.Wta(M);}));};c.prototype.oaa=function(K,I){(I=this.j.MB(I)) && Object.entries(I).forEach(function(M){var H;H=oa(M);M=H.next().value;H=H.next().value;K[M]=H;});};c.prototype.iQ=function(K,I){var M;(I=null === (M=this.j.qb) || void 0 === M?void 0:M.Iaa(void 0,I)) && Object.entries(I).forEach(function(H){var J;J=oa(H);H=J.next().value;J=J.next().value;K[H]=J;});};c.prototype.Dc=function(K,I,M,H){var J,N;N=I?"error":"info";I && this.j.Ki && (0,v.Y3)(this.j.Ki.errorCode,this.j.Ki.Ca,this.dwa(),null === (J=this.j.rf) || void 0 === J?void 0:J.vy()) && (N="info");this.dpa(H,this.j,I,M);K=this.eC.Iv(K,N,H,this.Ga);this.Rg.Dc(K);};c.prototype.h1b=function(K,I){var M,H;H=null === (M=I.qb) || void 0 === M?void 0:M.APb;H && (null === H || void 0 === H?void 0:H.N) !== I.QE && (K.auxMid || (K.auxMid=H.N),K.auxPlaybackcontextid || (K.auxPlaybackcontextid=I.Yn(H.N).fh));};c.prototype.dpa=function(K,I,M,H){var J,N,P,W,V;this.Ic.Yab(K,I);this.h1b(K,I);H & O.Ie && ((0,n.ya)(!K || void 0 === K.moff),this.Ic.bbb(K,I,I.mba()));H & O.ev && this.Ic.dbb(K,I);H & O.wj && (null === (J=I.qb) || void 0 === J?0:J.ej) && (K.abuflbytes=null !== (N=K.abuflbytes) && void 0 !== N?N:I.Rpa(),K.abuflmsec=null !== (P=K.abuflmsec) && void 0 !== P?P:I.GW(),K.vbuflbytes=null !== (W=K.vbuflbytes) && void 0 !== W?W:I.dHa(),K.vbuflmsec=null !== (V=K.vbuflmsec) && void 0 !== V?V:I.L2());H & O.fv && this.Ic.ebb(K,I.om);H & O.fH && (J=x.hf.hardwareConcurrency,0 <= J && (K.numcores=J),J=this.Ga.bta) && (N=J.Vua(),K.droppedFrames=JSON.stringify(N),J=J.RJ(this.config().URb),(0,p.zh)(J,function(S,U){K["droppedFramesP" + S]=JSON.stringify(U);}));if(H & O.w3)try{I.th && (K.cdninfo=JSON.stringify(I.th.map(function(S){return {id:S.id,nm:S.name,rk:S.vc,wt:S.location.weight,lv:S.location.level};})));}catch(S){}M && H & O.iH && ((0,n.ya)(I.Ki),this.Ic.$ab(K,I,I.Ki));H & O.gr && this.Ic.nxa(K);};Va.Object.defineProperties(c.prototype,{Rpb:{configurable:!0,enumerable:!0,get:function(){return this.j.ly || this.j.lP;}}});b.gU=c;(function(K){K[K.Ie=1]="MOFF";K[K.ev=2]="PRESENTEDSTREAMS";K[K.wj=4]="BUFFER";K[K.fv=8]="SCREEN";K[K.fH=16]="CPU";K[K.w3=32]="CDN";K[K.iH=64]="FATALERROR";K[K.gr=128]="BROWSERINFO";})(O || (O={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cLa="DownloadReportBuilderSymbol";},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;r=a(0);l=a(203);g=a(93);m=a(23);d=a(4);f=a(22);h=a(14);k=a(15);n=a(1);a=a(11);c.prototype.construct=function(q,v){var t,w,u;t=this;w={};q.forEach(function(x){var y;y=x.url;w[y] || (w[y]=[]);w[y].push(x);});u=[];(0,m.zh)(w,function(x,y){u.push(t.j_b(y,v));});return {urls:u};};c.prototype.j_b=function(q,v){var t,w,u,x;t=this;w=q[0];u={url:w.url,bitrate:w.bitrate,cdnid:(0,k.qk)(w.Cc)?w.Cc.id:w.Cc,dltype:w.uRb,id:w.Tb};x={};q.forEach(function(y){var z;z=t.v2b(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});(0,m.zh)(x,function(y,z){"fail" === y?u.failures=t.zXb(z,v):"success" === y && (u.downloads=t.pXb(z,v));});return u;};c.prototype.pXb=function(q,v){var t,w,u;t=this;w={};q.forEach(function(x){var y;y=x.DLb;w[y] || (w[y]=[]);w[y].push(x);});u=[];(0,m.zh)(w,function(x,y){var z;z=[];y.forEach(function(B){z.push(B);t.f2b(B) && (u.push(t.X8a(z,v,x)),z=[]);});0 < z.length && u.push(t.X8a(z,v,x));});return u;};c.prototype.X8a=function(q,v,t){var w,u,x,y,B;w=q.sort(function(A,C){return A.Vm.rj < C.Vm.rj?-1:A.Vm.rj > C.Vm.rj?1:0;});u=w[0].Vm;x=u.Bs;y=u.rj;u=u.Uq;for(var z=1;z < q.length;z++){B=q[z].Vm;B.Bs < x && (x=B.Bs);B.rj < y && (y=B.rj);B.Uq > u && (u=B.Uq);}z=this.kZb(w);B=w[w.length - 1];return {time:x - v,tcpid:t?parseInt(t):-1,tresp:y - x,first:z,ranges:this.lZb(w,z),dur:u - y,trace:this.sF(q),status:this.XP(B)};};c.prototype.kZb=function(q){var v;v=0;q.forEach(function(t){t.uu && (v=(0,h.Zz)(v,t.uu[0]));});return v;};c.prototype.lZb=function(q,v){var t;t=[];q.forEach(function(w){w.uu?t.push([w.uu[0] - v,w.uu[1] - v]):t.push([0,-1]);});return t;};c.prototype.sF=function(q){var v,t;v=[];q.forEach(function(w){var u;w=w.Vm;if(t){u=w.Bs - t.Uq;0 < u && v.push([u,-2]);u=(0,h.bv)(t.Uq,w.Bs);u=w.rj - u;0 < u && v.push([u,-3]);}v.push([w.Uq - w.rj,w.qX || 0]);t=w;});return v;};c.prototype.f2b=function(q){if(q.Ca === d.Y.xD || q.Ca === d.Y.nH)return !0;};c.prototype.XP=function(q){if(q.ja)return "complete";if(q.Ca === d.Y.xD)return "abort";if(q.Ca === d.Y.nH)return "stall";(0,f.ya)(!1,"download status should never be: other");return "other";};c.prototype.zXb=function(q,v){var t,w;t=this;w=[];q.forEach(function(u){var x;x=u.Vm;u={time:x.rj - v,tresp:x.rj - x.Bs,dur:x.Uq - x.rj,range:u.uu,reason:t.nZb(u),httpcode:u.Xl,nwerr:(0,l.Mva)(u.Ca)};w.push(u);});return w;};c.prototype.nZb=function(q){return q.Xl || q.Ca === d.Y.VT?"http":q.Ca === d.Y.XT?"timeout":"network";};c.prototype.v2b=function(q){return q.ja || void 0 === q.ja || q.Ca === d.Y.xD || q.Ca === d.Y.nH?!1:!0;};c.prototype.yMb=function(q){var v,t,w,u,x,y;v=q.request;t=v.stream;w=v.track;u=v.url;x=this.mXb(w,u);switch(x){case g.yj.audio:case g.yj.video:y=v.stream.Tb;break;case g.yj.Rga:case g.yj.sGa:y=w.Tb;}q={bitrate:t && t.bitrate,uRb:x,Tb:y,Vm:q.Vm,Cc:v.Cc,url:u,Sf:q.Sf,Xl:q.Xl,Ca:q.Ca,ja:q.ja,DLb:this.TTb(q)};void 0 !== v.offset && void 0 != v.length && (q.uu=[v.offset,v.offset + v.length - 1]);return q;};c.prototype.mXb=function(q,v){if(q)return q.type;if(0 <= v.indexOf("netflix.com")){if(0 <= v.indexOf("nccp"))return "nccp";if(0 <= v.indexOf("api"))return "api";}return "other";};c.prototype.TTb=function(q){if(q.headers && (q=q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(v){return 0 == v.indexOf("port=");}).map(function(v){return v.split("=")[1];})[0])?(0,m.Ck)(q):q;};p=c;p=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(a.wc))],p);b.bLa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iU="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cXa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UQa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TQa="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pMa="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uNa="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NRa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,f,h,k,n,p;function c(q){var v;q=new h.KT(q);if(1481462272 != q.ys())throw Error("Invalid header");v={XMR:{Version:q.ys(),RightsID:q.ez(16)}};l(q,v.XMR,q.buffer.length);return v;}function l(q,v,t){var w,u,x,y,z;for(;q.position < t;){w=q.si();u=q.ys();u-=8;switch(w){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:g(w)};z=v[x];z?(0,p.isArray)(z)?z.push(y):(v[x]=[],v[x].push(z),v[x].push(y)):v[x]=y;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:l(q,y,q.position + u);break;case 5:y.Reserved1=q.si();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.si();y.MinimumAnalogVideoOutputProtectionLevel=q.si();y.Reserved2=q.si();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.si();break;case 10:y.Reserved=q.ez(16);y.SymmetricCipherType=q.si();y.AsymmetricCipherType=q.si();u=q.si();y.EncryptedKeyLength=u;w=q.ez(u);y.EncryptedKeyData=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:y.SignatureType=q.ez(2);u=q.si();w=q.ez(u);y.SignatureData=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:y.Reserved=q.si();break;case 18:y.BeginDate=q.ys();y.EndDate=q.ys();break;case 42:y.CurveType=q.ez(2);u=q.si();w=q.ez(u);y.Key=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:y.ExpireAfterFirstPlay=q.ys();break;case 50:y.Sequence=q.ys();break;case 51:y.LicenseProcessingIndicator=q.si();break;case 52:y.MinimumSecurityLevel=q.si();break;case 57:y.PlayEnablerType=m(q.ez(16));break;case 85:break;default:y.OtherData=q.ez(u);}}}function g(q){return "0x" + q.toString(16);}function m(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.TPb=b.UPb=b.SPb=b.RPb=b.QPb=void 0;d=a(17);f=a(9);h=a(171);k=a(206);n=a(538);p=a(15);b.QPb=function(q,v,t){switch(v){case d.V3:q && (q=(0,f.r1a)(q),(0,n.Vqb)(q,function(w){w.ja && (w=w.object) && (w=(0,k.U8a)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,k.Chb)(w)) && (w=(0,f.st)(w)) && (w=c(w)) && t(w);}));}};b.RPb=c;b.SPb=l;b.UPb=g;b.TPb=m;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Vqb=void 0;c=a(9);l=a(4);g=a(539);m=a(540);d=a(59);b.Vqb=function(f,h){var k,n;try{n=(0,g.Wqb)(f);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Mg)(function(){if(n && n.documentElement)try{k=(0,m.Xqb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Mg)(function(){k?h({ja:!0,object:k}):h({ja:!1,Ca:l.Y.Pub});});});};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Wqb=void 0;c=a(9);l=a(15);b.Wqb=function(g){var m,d;if((0,l.vQ)(g)){m=new DOMParser().parseFromString(g,"text/xml");d=m.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:g.slice(0,300),fileSize:g.length});}catch(f){}throw Error("xml parser error");}return m;}throw Error("bad xml text");};},function(r,b,a){var l;function c(g){var m,d,f,h,k,n,p;d={};d[l.uHa]=g.localName;f={};d[l.d3]=f;h=[];d[l.Sqb]=h;k=g.attributes;n=k.length;for(m=0;m < n;m++){p=k[m];f[p.localName]=p.value;}g=g.childNodes;n=g.length;f={};for(m=0;m < n;m++){switch((k=g[m],k.nodeType)){case b.$qb:k=c(k);p=k[l.uHa];k[l.Tqb]=d;h.push(k);d[p]?f[p][l.Uqb]=k:d[p]=k;f[p]=k;break;case b.arb:case b.Yqb:(k=k.text || k.nodeValue,h.push(k),d[l.Gz] || (d[l.Gz]=k));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Zqb=b.Yqb=b.arb=b.Umc=b.$qb=b.Vmc=b.Xqb=void 0;l=a(206);b.Xqb=function(g){return c(g.nodeType == b.Zqb?g.documentElement:g);};b.Vmc=c;b.$qb=1;b.Umc=2;b.arb=3;b.Yqb=4;b.Zqb=9;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ASa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cSa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TRa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hTa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xka={TZ:"keepAlive",splice:"splice"};b.ZRa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tSa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qLa="DxDisplaySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tLa="DxManagerSymbol";b.sLa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dPa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Wa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MSa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UTa="PreparerManifestFetcherSymbol";b.TTa="PreparerLicenseFetcherSymbol";b.STa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var l,g,m,d;function c(f){this.io=f;}Object.defineProperty(b,"__esModule",{value:!0});b.wla=b.HTa=void 0;r=a(0);l=a(19);g=a(1);m=a(121);d=a(38);c.prototype.keb=function(f){var h,k;h=this;if(f.ve.key.na)return Promise.resolve(f.ve.key.na);k=f.ve.key.N;return f.ve.Hh.Xr(k).Ru.then(function(n){n=n.ba;return n.Vo?(0,d.o9)(n.Vo,{config:l.config}):(0,d.pga)(k,h.io.Mt(k));});};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.SM))],a);b.HTa=a;b.wla="PlaygraphResolverSymbol";},function(r,b){function a(c){this.iy=void 0 === c?function(){}:c;this.Dz=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.lma=void 0;a.prototype.store=function(c,l){var g,f;g=this.generateKey(c);this.Dz.has(g) && this.KAa(this.Dz.get(g),!0);if(!c.Eh)for(var m=oa(this.Dz),d=m.next();!d.done;d=m.next()){f=oa(d.value);d=f.next().value;f=f.next().value;d.includes(":" + c.N + ":") && (this.KAa(f,!0),this.Dz.delete(d));}this.Dz.set(g,l);};a.prototype.Xr=function(c,l){var g,m,d;d=null === (g=null === l || void 0 === l?void 0:l.$k) || void 0 === g?void 0:g.ye;g=null === (m=null === l || void 0 === l?void 0:l.$k) || void 0 === m?void 0:m.Eh;m={N:c,Eh:g,ye:d};this.has(m) || this.iy(c,l);return this.get(m);};a.prototype.has=function(c){c=this.generateKey(c);return this.Dz.has(c) && !this.Dz.get(c).Ov;};a.prototype.clear=function(){var c;c=this;this.Dz.forEach(function(l){c.KAa(l,!1);});this.Dz.clear();};a.prototype.get=function(c){return this.Dz.get(this.generateKey(c));};a.prototype.generateKey=function(c){var l,g;l=c.ye;g=c.Eh;return c.N.toString() + (g?":" + g:"") + (l?":" + l:"");};a.prototype.KAa=function(c,l){var g;null === (g=c.events) || void 0 === g?void 0:g.emit("viewableEvicted",{type:"viewableEvicted"});c.QFa=l;};b.lma=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fQa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mRa="OpenConnectSideChannelSymbol";b.pQa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nQa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XRa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kWa="TransportFactorySymbol";b.HQa="MslTransportSymbol";b.rVa="SslTransportSymbol";},function(r,b,a){var h,k;function c(n){return !(!n || !n.hG && !n.pboc || !n.code && !n.code);}function l(n){return !(!n || !n.xc);}function g(n){return !!(n instanceof Error);}function m(n){switch(n){case "ACCOUNT_ON_HOLD":return k.Y.kxb;case "STREAM_QUOTA_EXCEEDED":return k.Y.txb;case "INSUFFICICENT_MATURITY":return k.Y.yxb;case "TITLE_OUT_OF_WINDOW":return k.Y.Hxb;case "CHOICE_MAP_ERROR":return k.Y.sxb;case "BadRequest":return k.Y.Cxb;case "Invalid_SemVer_Format":return k.Y.zxb;case "RESTRICTED_TO_TESTERS":return k.Y.Fxb;case "AGE_VERIFICATION_REQUIRED":return k.Y.qxb;case "BLACKLISTED_IP":return k.Y.rxb;case "DEVICE_EOL_WARNING":return k.Y.Mka;case "DEVICE_EOL_FINAL":return k.Y.oRa;case "INCORRECT_PIN":return k.Y.sRa;case "MOBILE_ONLY":return k.Y.Exb;case "MDX_CONTROLLER_CTICKET_INVALID":return k.Y.Dxb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.Y.Ixb;case "RESET_DEVICE":return k.Y.rRa;case "RELOAD_DEVICE":return k.Y.qRa;case "EXIT_DEVICE":return k.Y.pRa;case "FREE_PREVIEW_ENDED":return k.Y.xxb;case "STREAMING_LOCATION_DISALLOWED":return k.Y.Gxb;case "EXTRA_MEMBER_STREAM_HOLD":return k.Y.wxb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return k.Y.vxb;case "ADS_UNAVAILABLE_VIEWABLE":return k.Y.lxb;case "ADS_UNSUPPORTED_DEVICE":return k.Y.oxb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return k.Y.mxb;case "ADS_UNSUPPORTED_COUNTRY":return k.Y.nxb;case "ADS_VPN_USE_DETECTED":return k.Y.pxb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return k.Y.Bxb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return k.Y.Axb;default:return k.Y.vMa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new h.rd(n,m(p.code),"BadRequest" === p.code?k.Y4.fsb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function f(n,p){return new h.rd(n,p.xc,p.vd,void 0,p.rC,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.U1a=b.V1a=b.NVb=b.SVb=b.Wn=b.RVb=b.LZ=b.n2b=b.fcb=void 0;h=a(36);k=a(4);b.fcb=c;b.n2b=l;b.LZ=g;b.RVb=m;b.Wn=function(n,p){return l(p)?f(n,p):c(p)?d(n,p):g(p)?h.rd.Gua(n,p):new h.rd(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.SVb=d;b.NVb=f;b.V1a=function(n,p,q,v,t){var w,u,x,y;w=p.zlb[q];if(void 0 === w)throw {hG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};u=w.version;if(void 0 === u)throw {hG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=w.service;if(void 0 === x)throw {hG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=w.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {hG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?n.VYb(v) + "/" + y + "/" + x + "/" + u:n.IYb(v) + "/" + y + "/" + x + "/" + u + "/" + (void 0 === t?"router":t);};b.U1a=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.e0a && p && (q["X-Esn"]=p.Yl);return q;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CSa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pWa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qr=void 0;r=b.qr || (b.qr={});r[r.n5=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.rH=2]="LOADED";r[r.cU=3]="LOAD_FAILED";r[r.nRa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XIa="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Sa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uUa="RepositionTraceSymbol";b.sUa="RepositionTraceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tIa="AseIntegrationFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QHa="AdManagerFactorySymbol";},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa;function c(T,X,Q,ka,ra,R,ha,wa,va,Ea,Ya,wb,nb,zb,Pa,Za,Xa,cb,hb,sb,Hb,Lb,Rb,Tb,Ob,Eb,Sb,Zb,Jc,dd,Ff,Gf,Hf,If,Td){var xb,Jf;function af(tb){tb.newValue && tb.newValue.stream && (xb.Qe.removeListener(af),xb.Pba=tb.newValue.stream.bitrate);}function bf(tb){tb.newValue !== P.nb.Dg && tb.newValue !== P.nb.bj && (xb.Db.removeListener(bf),xb.ZB=xb.za.yL,xb.Pb.Zc(P.ka.zw));}function cf(tb){tb.newValue !== P.nb.Dg && (xb.Db.removeListener(cf),xb.Zm=!0,xb.A0=xb.za.nf.ia(D.va),xb.Pb.Zc(P.ka.Zm));}xb=this;this.xb=ra;this.Hl=R;this.TB=ha;this.Ia=va;this.xE=Ea;this.za=Ya;this.v_=wb;this.Cza=Pa;this.FQ=Za;this.Fd=Xa;this.Si=cb;this.Uj=hb;this.CO=sb;this.B0=Hb;this.zk=Lb;this.rGa=Rb;this.Rg=Tb;this.Se=Ob;this.YBa=Eb;this.ho=Sb;this.kkb=Zb;this.Npa=Jc;this.FK=dd;this.HBa=Ff;this.bpa=Gf;this.Iqa=Hf;this.xO=If;this.mib=[];this.rs=new Map();this.Gc=new q.ic(null);this.Uh=new q.ic(null);this.Ob=new q.ic(null);this.Dj=new q.ic(null);this.Sw=new q.ic(void 0);this.Hf=new q.ic(null);this.bi=new q.ic(null);this.mediaTime=new q.ic(void 0);this.playbackRate=new qa.dTa(1,v.config.Qza);this.lpb=function(tb){return xb.Gc.set(tb.newValue);};this.plc=function(tb){return xb.Uh.set(tb.newValue);};this.nlc=function(tb){return xb.Ob.set(tb.newValue);};this.Gkc=function(tb){return xb.Dj.set(tb.newValue);};this.mlc=function(tb){return xb.Sw.set(tb.newValue);};this.olc=function(tb){return xb.Hf.set(tb.newValue);};this.Hkc=function(tb){return xb.bi.set(tb.newValue);};this.clc=function(tb){return xb.Qe.set(tb.newValue);};this.blc=function(tb){return xb.gg.set(tb.newValue);};this.Zkc=function(tb){return xb.mediaTime.set(tb.newValue);};this.jha=function(tb){return xb.playbackRate.set(tb.newValue);};this.xk={};this.JDa=this.kGa=0;this.Pb=new t.Ik();this.xha={};this.U1=this.dib=this.Zm=!1;this.XG=new q.ic(void 0);this.state=new q.ic(P.jc.LM);this.pj=new q.ic(!1);this.paused=new q.ic(!1);this.muted=new q.ic(!1);this.volume=new q.ic(v.config.nQb / 100);this.Db=new q.ic(P.nb.Dg);this.Lg=new q.ic(P.ig.ae);this.qt=new q.ic(P.ig.ae);this.wo=new q.ic(P.ig.ae);this.gg=new q.ic(null);this.Qe=new q.ic(null);this.Bqa=new q.ic(null);this.Aba=(0,n.sNa)(this);this.Cc=[new q.ic(null),new q.ic(null)];this.iqa={};this.lP=!1;this.Ya=this.ul=-1;this.awa=function(tb,Vb){var Kc;tb=void 0 === tb?null:tb;return (0,K.Oa)(tb)?Vb && !xb.Jj(Vb).ba?tb:(null === (Kc=xb.qb) || void 0 === Kc?0:Kc.ej)?xb.qb.sB(tb):tb:null;};this.a0=function(){xb.rFa();};this.QE=T;this.addEventListener=this.Pb.addListener;this.removeEventListener=this.Pb.removeListener;this.fireEvent=this.Pb.Zc;this.mpa({N:T,S:ka,lb:Q || ({})},v.config.qu?this.Fd.aw(T):void 0,X);this.log=(0,C.lj)(this);this.u5a=wa(this);this.LIb=nb(this);this.om=(0,J.createElement)("DIV",p.Fla,void 0,{id:this.K});this.A1b();this.Vc=this.log.I9("Playback");(0,m.JSa)(this);x.HD.Ffb=this;x.HD.rua || (x.HD.rua=this);this.Vc.info("Playback created",this.Ch);this.iza?this.Vc.info("Playback selected for trace playback info logging"):this.Vc.trace("Playback not selected for trace playback info logging");v.config.qu && (this.Fd.I_b(this.K),this.addEventListener(P.ka.zw,function(){xb.Fd.K_b(xb.K);xb.Ob.addListener(function(){xb.Fd.dab();});xb.Gc.addListener(function(){xb.Fd.dab();});}),this.addEventListener(P.ka.uh,function(){xb.Fd.H_b(xb.K);}));this.state.addListener(function(tb){xb.Vc.info("Playback state changed",{From:tb.oldValue,To:tb.newValue});(0,G.ya)(tb.newValue > tb.oldValue);});u.Ze.addListener(u.Pm,this.a0,p.s5);Jf=zb((0,D.Vi)(1));this.mediaTime.addListener(function(){xb.ZUb();Jf.yl(function(){return xb.A7a();});});this.Db.addListener(function(tb){xb.Vc.info("PresentingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,F.Ci)(xb.mediaTime.value)},xb.rw());});this.Db.addListener(function(){xb.pj.set(xb.Db.value === P.nb.Xc);});this.Lg.addListener(function(tb){xb.Vc.info("BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,F.Ci)(xb.mediaTime.value)},xb.rw());});this.qt.addListener(function(tb){xb.Vc.info("AV BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,F.Ci)(xb.mediaTime.value)},xb.rw());});this.wo.addListener(function(tb){xb.Vc.info("Text BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,F.Ci)(xb.mediaTime.value)},xb.rw());});this.Gc.addListener(function(tb){(0,G.ya)(tb.newValue && tb.newValue.Oh);xb.Vc.info("AudioTrack changed",tb.newValue && ({ToBcp47:tb.newValue.Of,To:tb.newValue.trackId}),tb.oldValue && ({FromBcp47:tb.oldValue.Of,From:tb.oldValue.trackId}),{MediaTime:(0,F.Ci)(xb.mediaTime.value)});});this.Ob.addListener(function(tb){(0,G.ya)(!tb.newValue || tb.newValue.Oh);xb.Vc.info("TimedTextTrack changed",tb.newValue?{ToBcp47:tb.newValue.Of,To:tb.newValue.trackId}:{To:"none"},tb.oldValue?{FromBcp47:tb.oldValue.Of,From:tb.oldValue.trackId}:{From:"none"},{MediaTime:(0,F.Ci)(xb.mediaTime.value)});});this.Db.addListener(cf,p.NM);this.Db.addListener(bf);this.addEventListener(P.ka.zw,function(){xb.U1=!0;xb.Xmb=xb.cX();xb.af("start");});this.Qe.addListener(af);(0,A.USa)(this);x.Sp.push(this);v.config.d1 && (this.Aea=this.YBa(this),this.Dea=new z.fTa(this));x.mla.forEach(function(tb){tb(xb);});this.DGb=function(){xb.addEventListener(P.ka.xG,function(tb){var Vb;tb=tb.cause;tb !== P.Hd.Zu && tb !== P.Hd.XM && (null === (Vb=xb.qb) || void 0 === Vb?void 0:Vb.stop());});xb.addEventListener(P.ka.sl,function(tb){var Vb,Kc,df,Kf,Bc,Ud,Lf,Vd,ef,Mf;xb.kkb.sl(tb);df=tb.cause;Kf=tb.skip;Bc=tb.Kda;Ud=tb.UAa;Lf=tb.K;Vd=tb.el;xb.ha.Ym.NAa(Ud,Bc);if(df !== P.Hd.XM && df !== P.Hd.Zu)if(Kf){if(null !== (Vb=xb.qb) && void 0 !== Vb && Vb.ci(Bc)){xb.Vc.trace("Repositioned. Skipping from " + Ud + " to " + Bc);tb=function(Wb){xb.log.error("streamingSession.skipped threw an exception",Wb);Wb=W.rd.Gua(E.aa.mrb,Wb);xb.su(Wb.code,Wb);};try{xb.qb.ro(Bc).then(function(Wb){var Lc;Wb.oQ || (null === (Lc=xb.qb) || void 0 === Lc?void 0:Lc.play());}).catch(tb);}catch(Wb){tb(Wb);}}else xb.log.error("can skip returned false");}else {xb.Vc.trace("Repositioned. Seeking from " + Ud + " to " + Bc);try{ef=xb.xb.Qaa(xb.ha);Mf=Object.keys(ef.U).find(function(Wb){var Lc;Wb=ef.U[Wb];return Wb.N === Lf && Wb.Ba <= Vd && (null !== (Lc=Wb.Aa) && void 0 !== Lc?Lc:Infinity) > Vd;});null === (Kc=xb.qb) || void 0 === Kc?void 0:Kc.uL(Vd,Mf);}catch(Wb){xb.log.error("streamingSession.seekByContentPts threw an exception",Wb);Bc=W.rd.Gua(E.aa.krb,Wb);xb.su(Bc.code,Bc);}}});};this.playbackRate.addListener(function(){var tb,Vb;if(null === (tb=xb.qb) || void 0 === tb?0:tb.ej)null === (Vb=xb.qb) || void 0 === Vb?void 0:Vb.bib();});this.addEventListener(P.ka.aB,function(tb){var Vb;tb.cause == x.jla && (xb.Lg.set(P.ig.ae),null === (Vb=xb.qb) || void 0 === Vb?void 0:Vb.pn(xb.rf.b9a()));});Td && (this.ha.ba=Td,this.zk.Y1(T,Td));}Object.defineProperty(b,"__esModule",{value:!0});b.ZSa=void 0;l=a(0);g=a(303);m=a(305);d=a(167);f=a(574);h=a(1355);k=a(1356);n=a(577);p=a(17);q=a(74);v=a(19);t=a(70);w=a(578);u=a(58);x=a(65);y=a(140);z=a(580);B=a(1359);A=a(584);C=a(9);D=a(5);E=a(4);G=a(22);F=a(95);L=a(23);O=a(59);K=a(15);I=a(585);M=a(81);H=a(309);J=a(44);N=a(101);P=a(16);W=a(36);V=a(306);S=a(587);U=a(130);fa=a(1364);qa=a(1365);xa=a(38);Aa=a(62);Oa=a(49);c.prototype.af=function(T,X){var Q;X=void 0 === X?this.QE:X;null === (Q=this.rs.get(X)) || void 0 === Q?void 0:Q.af(T);};c.prototype.UB=function(T){this.ha.UB(T);};c.prototype.mba=function(){var T;return !(null === (T=this.ba) || void 0 === T || !T.Ra.Zo);};c.prototype.jba=function(){var T,X,Q;return !(null === (Q=null === (X=null === (T=this.ba) || void 0 === T?void 0:T.Ra.Yx) || void 0 === X?void 0:X.bg.length) || void 0 === Q || !Q);};c.prototype.A1b=function(){var T;T=this;this.Gc.addListener(function(X){return T.ha.Gc.set(X.newValue);});this.Uh.addListener(function(X){return T.ha.Uh.set(X.newValue);});this.Ob.addListener(function(X){return T.ha.Ob.set(X.newValue);});this.Dj.addListener(function(X){return T.ha.Dj.set(X.newValue);});this.Sw.addListener(function(X){return T.ha.Sw.set(X.newValue);});this.Hf.addListener(function(X){return T.ha.Hf.set(X.newValue);});this.bi.addListener(function(X){return T.ha.bi.set(X.newValue);});this.Qe.addListener(function(X){return T.ha.Qe.set(X.newValue);});this.gg.addListener(function(X){return T.ha.gg.set(X.newValue);});this.Cc[Oa.u.T].addListener(function(X){return T.ha.Cc[Oa.u.T].set(X.newValue);});this.Cc[Oa.u.J].addListener(function(X){return T.ha.Cc[Oa.u.J].set(X.newValue);});this.mediaTime.addListener(function(X){return T.ha.mediaTime.set(X.newValue);});this.playbackRate.addListener(function(X){return T.ha.playbackRate.set(X.newValue);});this.Pkb();};c.prototype.Pkb=function(){var T;T=this;this.ha !== this.qEa && (this.ha.mediaTime.set(this.mediaTime.value),this.ha.playbackRate.set(this.playbackRate.value),this.Ks(function(X){return X.Gc;},this.lpb),this.Ks(function(X){return X.Uh;},this.plc),this.Ks(function(X){return X.Sw;},this.mlc),this.Ks(function(X){return X.Ob;},this.nlc),this.Ks(function(X){return X.Dj;},this.Gkc),this.Ks(function(X){return X.Hf;},this.olc),this.Ks(function(X){return X.bi;},this.Hkc),this.Ks(function(X){return X.gg;},this.blc),this.Ks(function(X){return X.Qe;},this.clc),this.Ks(function(X){return X.Cc[Oa.u.T];},function(X){return T.Cc[Oa.u.T].set(X.newValue);}),this.Ks(function(X){return X.Cc[Oa.u.J];},function(X){return T.Cc[Oa.u.J].set(X.newValue);}),this.Ks(function(X){return X.mediaTime;},this.Zkc),this.Ks(function(X){return X.playbackRate;},this.jha),this.Ob.set(this.ha.Ob.value),this.Gc.set(this.ha.Gc.value,{t8:!0}),this.Uh.set(this.ha.Uh.value),this.Dj.set(this.ha.Dj.value),this.Sw.set(this.ha.Sw.value),this.Hf.set(this.ha.Hf.value),this.bi.set(this.ha.bi.value),this.qEa=this.ha);};c.prototype.Ks=function(T,X){this.qEa && T(this.qEa).removeListener(X);T(this.ha).addListener(X);};c.prototype.rKb=function(){var T;return !(null === (T=this.wf) || void 0 === T?0:T.Hn.value);};c.prototype.load=function(T){var X,Q;X=this;this.load=function(){};this.qib=T;if(this.state.value == P.jc.LM){this.Vc.info("Playback loading",this);this.O7b();this.af("asl_load_start");Q=this.xE;T=Q.startTime;Q=Q.endTime;(0,K.xd)(T)?(0,K.xd)(Q)?this.af("asl_ended"):this.af("asl_in_progress"):this.af("asl_not_started");this.xE.j_(function(ka){X.af("asl_load_complete");ka.ja?X.qOb():X.su(ka.errorCode || E.aa.Ija,ka);});}};c.prototype.zac=function(){!1;try{this.state.value === P.jc.LOADING && (this.Gpb(),this.Kn=this.CO.aHb({gD:(0,D.$b)(this.ca),K:this.K,kG:this.rB,lb:this.lb,fG:this.lb.ji?v.config.qBa:v.config.fG,Md:this.Md}).ia(D.va),this.Kpa(),this.tPb());}catch(T){this.su(E.aa.Fvb,{Ca:E.Y.rn,Ub:(0,L.pf)(T)});}};c.prototype.Gpb=function(){var T,X,Q;Q={width:1,height:1};this.tF({Ppb:!0}).forEach(function(ka){Q.width * Q.height < ka.width * ka.height && (Q={width:ka.width,height:ka.height});});Q.height === (null === (T=this.XG.value) || void 0 === T?void 0:T.height) && Q.width === (null === (X=this.XG.value) || void 0 === X?void 0:X.width) || this.XG.set(Q);};c.prototype.Uy=function(){var T,X;!1;X=this.xb.Qaa(this);this.g4a(X);null === (T=this.qb) || void 0 === T?void 0:T.Xw(X);};c.prototype.OK=function(T){var X,Q;!1;(0,G.ya)(this.qb,"ASE should be initialized");Q=this.xb.UY(T);Q?T === this.xb.ei?this.qb.fy(Q,!0,!0) || this.iZ(Q,{}):null === (X=this.qb) || void 0 === X?void 0:X.Bl(T,Q,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.iZ=function(T,X,Q){var ka,ra,R,ha,wa;ka=this;Q=void 0 === Q?!0:Q;!1;ha=this.xb.Ce(T);if(this.Uj.qha && this.xb.ha.N === ha.N)return Promise.resolve(this.rf.seek(ha.Ba,P.Hd.LD,void 0));ha=this.Hl.bQ(ha.N);X=(0,M.lda)(ha.Gb,X);if(null === (ra=this.qb) || void 0 === ra || !ra.ej)throw (!1,Error("No streaming session"));!1;this.CI("Transition " + this.xb.ei + "->" + T);wa=this.Jj(T);wa.yo=this.Ia.Rb().ia(D.va);wa.lb=X;return "seamless" !== (null !== (R=this.xb.Ce(T).Ge) && void 0 !== R?R:"seamless") || Q?(this.qb.VY(T).YW?this.u_b(T,wa.K):this.t1(T,wa.K)).then(function(){ka.wVb(wa.K);}):Promise.resolve();};c.prototype.t1=function(T,X){var Q;Q=this.xb.jm.U[T].Ba;!1;this.CI("NO DATA " + T + ", SEEKING " + Q + ", viewableId: " + X);return Promise.resolve(this.rf.seek(Q,P.Hd.LD,T,!0));};c.prototype.u_b=function(T,X){var Q,ka,ra,R,ha;Q=this;!1;ka=this.qb;if(null === ka || void 0 === ka || !ka.ej)throw Error("No streaming session");ra=new Promise(function(wa){function va(){!1;ka.removeEventListener("stop",va);wa();}ka.addEventListener("stop",va);});R=!1;ha=new Promise(function(wa){function va(Ya){!1;Q.removeEventListener(P.ka.sl,va);R=Ya.skip;wa();}function Ea(){!1;Q.removeEventListener(P.ka.xG,Ea);ka.stop();}Q.addEventListener(P.ka.xG,Ea);Q.addEventListener(P.ka.sl,va);});ra=Promise.all([ra,ha]).then(function(){var wa;wa=!1;R && (wa=ka.fy(T,!1,!0));if(!wa)return (Q.CI("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),Q.t1(T,X));});ha=ka.tX(T,this.xb.jm.U[T].Ba);!1;this.rf.seek(ha,P.Hd.XM,T,!0);return ra;};c.prototype.mpa=function(T,X,Q){var ka,ra,R,ha,wa,va,Ea;X=void 0 === X?this.TB.uB():X;Q=void 0 === Q?this.Ia.Rb():Q;R=!!v.config.lqb && !(X % v.config.lqb);ha=T.N;wa=T.S;va=T.lb;T=T.hj;if(this.rs.has(ha))X=this.rs.get(ha);else {X=this.B0(x.HD.index++,ha,wa,va,X,Q,R,this.ha,this.awa,T,this);this.rs.set(ha,X);1 < this.rs.size && (X.EQ=this.FQ.create(this,X,!1));X.QQ=new y.sQa(this,X);Ea=null === T || void 0 === T?void 0:T.ye;(Q=null === (ra=null === (ka=this.ha.ba) || void 0 === ka?void 0:ka.Bv) || void 0 === ra?void 0:ra.find(function(Ya){return Ya.Ra.K === ha && (void 0 === Ea || Ya.Ra.ye === Ea);})) && this.Vea(Q,X);1 < this.rs.size && this.zk.kba(X.K) && this.$ea(X);}};c.prototype.f4a=function(T,X,Q){var ka,ra,R,ha,wa,va,Ea,Ya;ka=this;!1;va={hca:!0,ji:!1,RS:Date.now()};(0,G.ya)(X.$k,"Auxiliary viewable config request options must have auxiliary options");Ea=X.$k;X=Ea.ye;Ea=Ea.Eh;Ya=null === (ra=this.Yn(Ea).ba) || void 0 === ra?void 0:ra.Ra;ra={ye:X,sBa:this.fh,Eh:Ea,t0:Ya};(0,G.ya)(null === (R=this.qb) || void 0 === R?void 0:R.jk,"If we have auxiliary viewables combined playgraph must exist");R=Object.keys(null === (wa=null === (ha=this.qb) || void 0 === ha?void 0:ha.jk) || void 0 === wa?void 0:wa.U).find(function(wb){var nb,zb;return (null === (zb=null === (nb=ka.qb) || void 0 === nb?void 0:nb.jk) || void 0 === zb?void 0:zb.U[wb].N) === T;});(0,G.ya)(!!R,"Segment for the auxiliary viewable should exist in the combined playgraph");this.mpa({hj:ra,lb:va,S:R,N:T},Q);};c.prototype.Iwa=function(T){return !!this.rs.has(T);};c.prototype.nab=function(T){try{return (this.Jj(T),!0);}catch(X){return !1;}};c.prototype.Yn=function(T){if(T === xa.Qp)return this.ha;if(!this.rs.has(T))throw Error("Playback segment not found: " + T);return this.rs.get(T);};c.prototype.Jj=function(T){var Q,ka,ra,R,ha,wa;function X(va){for(var Ea=oa(Q.$K),Ya=Ea.next();!Ya.done;Ya=Ea.next()){if((Ya=Ya.value,Ya.S === va))return Ya;}}Q=this;wa=X(T);return wa?wa:(null === (ra=null === (ka=this.qb) || void 0 === ka?void 0:ka.jk) || void 0 === ra?0:ra.U[T]) && (ka=null === (R=this.qb) || void 0 === R?void 0:R.jk.U[T].tc) && this.xb.nz(ka)?(R=this.xb.Ce(ka).N,T=null === (ha=this.qb) || void 0 === ha?void 0:ha.jk.U[T].N,R === T && (wa=X(ka)),null !== wa && void 0 !== wa?wa:this.Yn(T)):this.ha;};c.prototype.YYb=function(T){for(var X,Q,ka=oa(this.$K),ra=ka.next();!ra.done;ra=ka.next()){if((ra=ra.value,(null === (Q=null === (X=ra.Ye) || void 0 === X?void 0:X.Nb) || void 0 === Q?void 0:Q.sessionId) === T))return ra;}return this.ha;};c.prototype.$ea=function(T){var X,Q;X=this;!1;Q=T.K;this.Hl.$fc(Q);return this.z1(T).then(function(ka){X.Vea(ka,T);ka=T.nK?X.Wb.Sm.lkb(T):Promise.resolve();X.Nac(T);return ka.then(function(){return X.Hl.Jlb(Q);});}).catch(function(ka){X.log.error("queueManifest failed",ka);X.Hl.Zfc(Q,ka);throw X.Si(ka.code,ka);});};c.prototype.zWb=function(){if((0,K.Oa)(this.yd.ats) && (0,K.Oa)(this.yd.at))return this.yd.at - this.yd.ats;};c.prototype.A8a=function(){var T,X;T=this.L2();X=this.GW();return Math.min(T,X);};c.prototype.tS=function(){this.background || (this.Vc.info("Starting inactivity monitor for movie " + this.K),new w.ZNa(this));};c.prototype.close=function(T){T && (this.state.value == P.jc.CLOSED?T():this.addEventListener(P.ka.closed,function(){T();}));this.rFa();};c.prototype.Td=function(T,X,Q){T=this.Si(T,X,Q);this.XI(T,void 0);};c.prototype.XI=function(T,X){var Q,ka,ra,R;Q=this;!1;(0,E.Y3)(T.errorCode,T.Ca,this.Ia.Rb().Ea(this.oj).ia(D.va),null === (ka=this.rf) || void 0 === ka?void 0:ka.vy()) || this.Iqa.add(this.za.nf,null === (ra=this.Ye) || void 0 === ra?void 0:ra.PP(),T.errorCode,T.Ca,T.Sf);T.Zlb(this.Zm);if(this.state.value == P.jc.LM)this.Ki || (this.Ki=T,this.load());else {X && (this.state.value == P.jc.CLOSED?X():this.addEventListener(P.ka.closed,function(){X();}));ka=function(){Q.rFa(T);};ra=v.config.h5a && T && v.config.h5a[T.errorCode];R=-1;(0,K.vQ)(ra) && (R=(0,L.Ck)(ra));this.Vc.error("Fatal playback error",{Error:"" + T,HandleDelay:"" + ra});0 <= R?setTimeout(ka,R):ka();}};c.prototype.CI=function(T){var X;X=void 0 === X?this.S:X;T=this.Ia.Rb().ia(D.va) + "-" + X + "-" + T;!1;this.mib.push(T);};c.prototype.lVb=function(){this.A7a();};c.prototype.Rva=function(){var T;if(null === (T=this.qb) || void 0 === T?0:T.ej)if((T=this.qb.Zn().id,void 0 !== T))return T;return null;};c.prototype.rF=function(){var T,X;X=null === (T=this.qb) || void 0 === T?void 0:T.ej;return void 0 === this.ha.rX || X?this.awa(this.mediaTime.value):this.ha.rX;};c.prototype.Qva=function(){var T;T=this.awa(this.rf.b9a());return null === T?null:Math.min(this.rB.ia(D.va),Math.max(0,T));};c.prototype.GY=function(){var T,X;return null === (X=null === (T=this.ba) || void 0 === T?void 0:T.Ra.Vo) || void 0 === X?void 0:X.U;};c.prototype.iha=function(T){!1;this.lb=(0,M.lda)(this.lb,T);this.Kpa();};c.prototype.vwa=function(T){return (null === T || void 0 === T?0:T.N)?T.N:(null === T || void 0 === T?0:T.Ppb) && this.YI?this.YI.N === xa.Qp?(T=this.YI.bc) && this.qb && this.qb.jk?this.qb.jk.U[T].N:this.K:this.YI.N:this.K;};c.prototype.vWb=function(){var T;T=this.Yn(this.vwa(void 0)).Gc;return T.value?T.value.streams:[];};c.prototype.tF=function(T){return (T=this.Yn(this.vwa(T)).Uh) && T.value?T.value.streams:[];};c.prototype.hab=function(T){for(var X=oa(this.$K),Q=X.next();!Q.done;Q=X.next()){if(Q=(Q=Q.value.th) && Q.find(function(ka){return ka.id === T;}))return Q;}!1;};c.prototype.Nac=function(T){T=void 0 === T?this.ha:T;!1;T.Ob.value?this.Hp.Kac(T.Ob.value):Promise.resolve();};c.prototype.eab=function(T){for(var X=oa(this.$K),Q=X.next();!Q.done;Q=X.next()){Q=oa(Q.value.Fj);for(var ka=Q.next();!ka.done;ka=Q.next()){if(ka=ka.value.streams.find(function(ra){return ra.Tb === T;}))return ka;}}!1;};c.prototype.tab=function(T){for(var X=oa(this.$K),Q=X.next();!Q.done;Q=X.next()){Q=oa(Q.value.Cz);for(var ka=Q.next();!ka.done;ka=Q.next()){if(ka=(ka=ka.value) && ka.streams.find(function(ra){return ra.Tb === T;}))return ka;}}!1;};c.prototype.f0b=function(T){for(var X=oa(this.$K),Q=X.next();!Q.done;Q=X.next()){if(Q.value.fh === T)return !0;}return !1;};c.prototype.Hv=function(){var T,X,Q;return null !== (Q=null === (X=null === (T=this.Dea) || void 0 === T?void 0:T.wX) || void 0 === X?void 0:X.call(T)) && void 0 !== Q?Q:this.COb().hF;};c.prototype.jmb=function(T){var X,Q;null !== (X=this.qb) && void 0 !== X && X.ej && this.rs.has(T) && ((null === (Q=this.Dea) || void 0 === Q?0:Q.wX)?this.Dea.jpb():(X=this.hsa(T),this.qb.Rw(X,T)));};c.prototype.d3b=function(){return "trailer" === this.oe;};c.prototype.j2b=function(){return !!this.oe && 0 <= this.oe.indexOf("billboard");};c.prototype.k3b=function(){return !!this.oe && 0 <= this.oe.indexOf("video-merch");};c.prototype.L2b=function(){return !!this.oe && 0 <= this.oe.indexOf("mini-modal");};c.prototype.tQ=function(){return this.d3b() || this.j2b() || this.k3b() || this.L2b();};c.prototype.xaa=function(){var T,X,Q;X={Ppb:!0};if((null === (T=this.Yn(this.vwa(X)).ba) || void 0 === T || !T.Ra.Jxa) && this.Cz){this.tF(X).forEach(function(ka){var ra,R;if((0,K.Oa)(ka.isa) && (0,K.Oa)(ka.y4a) && (0,K.Oa)(ka.x4a) && (0,K.Oa)(ka.w4a) && (0 < ka.isa || 0 < ka.y4a)){ra=1;R=1;(0,K.Oa)(ka.Uhb) && (0,K.Oa)(ka.Vhb) && (ra=ka.Uhb,R=ka.Vhb);ra=ka.w4a * R / (ka.x4a * ra);Q=(0,K.Oa)(Q)?0 < ka.isa?Math.max(Q,ra):Math.min(Q,ra):ra;}});return Q;}};c.prototype.uZb=function(){return {tr:this.kGa,rt:this.JDa};};c.prototype.MB=function(T){return this.xk[T];};c.prototype.Kqa=function(){return this.yo?this.Ia.Rb().ia(D.va) - this.yo:this.za.nf.ia(D.va) - this.HJ();};c.prototype.cX=function(){var T;if(this.yo)return this.Ia.Rb().ia(D.va) - this.yo;T=this.Ia.cC;return this.A0 - (this.oj.ia(D.va) + T.ia(D.va));};c.prototype.Oqa=function(){return this.yo?this.Ia.Rb().ia(D.va) - this.yo:this.A0 - this.HJ();};c.prototype.FWb=function(){var T,X;T=this.loadTime;X={};(0,L.zh)(this.iqa,function(Q,ka){X[Q]=ka.map(function(ra){return ra - T;});});return f.cy?{level:f.cy.E9a(),charging:f.cy.Zua(),statuses:X}:null;};c.prototype.dba=function(){this.z7a();return this.xha;};c.prototype.HJ=function(){var T;T=this.lb.RS;T=(0,K.Oa)(T)?T:this.oj.ia(D.va) + this.Ia.cC.ia(D.va);(0,G.ya)((0,K.LF)(T));return T;};c.prototype.r$a=function(){return this.Ia.Rb().ia(D.va) - this.oj.ia(D.va);};c.prototype.umc=function(){this.bhc=!0;};c.prototype.Sda=function(){this.Pjb();};c.prototype.L2=function(){var T;T=this.H8();return T && T.vbuflmsec || 0;};c.prototype.GW=function(){var T;T=this.H8();return T && T.abuflmsec || 0;};c.prototype.dHa=function(){var T;T=this.H8();return T && T.vbuflbytes || 0;};c.prototype.Rpa=function(){var T;T=this.H8();return T && T.abuflbytes || 0;};c.prototype.z1=function(T,X,Q){var ka,ra,R,ha;ka=this;T=void 0 === T?this.ha:T;Q=void 0 === Q?!0:Q;!1;ra=!!X;R=!ra && T !== this.ha;ha=v.config.Yea.enabled?N.Np.uyb:R?N.Np.PM:this.tQ()?N.Np.R5:N.Np.nr;ra=this.tQ() || ra || R?void 0:this.Wb.Sm.Haa(R);return this.zk.QJ({sa:T.sa,lb:T.lb,N:T.K,ry:ha,Pg:ra,Wga:X,hj:T.hj},T.hj?!1:Q).then(function(wa){wa.Vxa && ka.fireEvent(P.ka.f_,{K:T.K});return wa;});};c.prototype.Vea=function(T,X,Q){var ka,ra,R;X=void 0 === X?this.ha:X;Q=void 0 === Q?!1:Q;!1;if(X.lb.ji && !T.Ra.Vo)this.Td(E.aa.Yrb);else {ka=this.v_.create(this);ra=!!(X.hj && X.hj.ye && X.hj.t0);if(Q){R=ka.S0b(X.ba,X.Rc,T);T=R.ba;R=R.Rc;}else (T=ra?ka.Pec(T,null === (R=X.hj) || void 0 === R?void 0:R.t0):T,R=ka.Bhb(T));X.ba=T;X.Rc=R;Q || (X.Uh.set(R.a$),X.Gc.set(R.GX),X.Ob.set(R.IX));X.Md.ta && X.Md.Bbc();}};c.prototype.wVb=function(T){var X;X=void 0 === X?!1:X;!1;this.wL({N:T,iK:X});};c.prototype.iab=function(T,X){if(!this.Uj.aHa)return !0;T=this.ss.ia(D.va) - T;return 0 > T || T > X;};c.prototype.tec=function(){!1;this.rf.seek(this.rF() || 0,P.Hd.a4);};c.prototype.Nab=function(T,X){var Q,ka;Q=this;!1;ka=this.ha;ka.g$=!0;return this.z1(ka,{sBa:ka.fh,aec:T,dec:X},!1).then(function(ra){var R;Q.Vea(ra,ka,!0);Q.zk.Y1(ka.K,ka.ba);return null === (R=Q.qb) || void 0 === R?void 0:R.eM(Q.lib);}).then(function(){var ra,R;ra=ka.Fj.find(function(ha){return ha.trackId === T;});R=ka.wi.find(function(ha){return ha.trackId === X;});if(!(ra && ra.Oh && R && R.Oh))throw Error("Track hydration failed: requiredAudioTrackId=" + T + " requiredTextTrackId=" + X);Q.fireEvent(P.ka.Hob);return {Gc:ra,m2:R};});};c.prototype.zq=function(){return this.wf;};c.prototype.wL=function(T){var X,Q,ka;X=T.N;Q=T.iK;T=T.YI;!1;T !== this.YI && (this.YI=T,this.Gpb());if(this.BR){if(X === this.QE){this.BR=X;return;}T=this.Yn(X);ka=T.ba;ka && (0,K.xd)(ka.mL) && (0,K.xd)(ka.RR) && T.UB({pr_ats:ka.mL,pr_at:ka.RR});this.fireEvent(P.ka.Bza,{K:this.QE});this.QE=X;this.Kpa();Q || this.Pkb();this.ZB=this.za.yL;this.ha.yo || (this.ha.yo=this.Ia.Rb().ia(D.va));}("boolean" === typeof this.lb.qP?this.lb.qP:v.config.qP) && !Q && this.rGa.qP(this);Q={K:X,iK:Q,BR:this.BR};this.BR=X;this.fireEvent(P.ka.xK,Q);};c.prototype.qOb=function(){!1;try{this.Wb=new h.cQa(this);this.B9=new V.oKa(this);this.EQ=this.FQ.create(this,this.ha,!0);v.config.uKb && new S.dMa(this,this.Rg,this.log);v.config.eX && this.eX(this);this.Vlc();}catch(T){this.su(E.aa.Evb,{Ca:E.Y.rn,Ub:(0,L.pf)(T)});}};c.prototype.Vlc=function(){!1;this.Ki?this.XI(this.Ki):(0,K.eya)(this.K)?this.ZKb():this.su(E.aa.Bvb,{Ub:"" + this.K});};c.prototype.ZKb=function(){var T;!1;T=g.LL.Blb;T?T.ja?this.zra():this.su(E.aa.TNa,T):((0,G.ya)(!v.config.y$),this.Voa());};c.prototype.zra=function(){var T;T=this;!this.background && v.config.zra?(0,x.lla)(function(){T.Voa();},this):this.Voa();};c.prototype.Voa=function(){var T;T=this;!1;this.state.value == P.jc.LOADING && (v.config.sta && !this.tQ()?g.LL.Sx(x.TSa,function(X){X.ja?(T.Jca=X.Jca,T.g1a()):T.su(E.aa.SNa);},!0):this.g1a());};c.prototype.g1a=function(){var T,X,Q;T=this;if(this.state.value == P.jc.LOADING){this.log.info("Authorizing",this);X=this.Ia.Rb().ia(D.va);this.af("ats");(0,G.$O)(this.K);(0,G.$O)(this.Gl);Q=this.Hbc.bind(this,X);Promise.all([this.ba,v.config.qu && this.zk.kba(this.K)?this.zk.taa(this.K).catch(function(){}):void 0]).then(function(ka){var ra,R;ra=oa(ka);ka=ra.next().value;ra=ra.next().value;ka && ra?R=ra.Ra.expiration > ka.Ra.expiration?ra:ka:ka?R=ka:ra && (R=ra);R && 18E5 > R.Ra.expiration - (0,Aa.s9)() && (R=void 0);return R?(T.RI=R === ka?"ui":"videopreparer",R):T.z1();}).then(function(ka){try{T.Vea(ka);Q(p.mh);T.dib || (T.dib=!0,T.HBa.Cl(T));}catch(ra){T.log.error("Exception processing authorization response",ra);Q({ja:!1,Ca:E.Y.fyb});}}).catch(Q);}};c.prototype.Hbc=function(T,X){var Q,ka;Q=this;!1;if(this.state.value == P.jc.LOADING){this.af("at");ka=this.ba;this.UB({pr_ats:ka && (0,K.xd)(ka.mL)?ka.mL:T,pr_at:ka && (0,K.xd)(ka.RR)?ka.RR:this.Ia.Rb().ia(D.va)});X.ja?0 < this.Rc.th.length && this.Rc.GX && this.Rc.a$ && this.Rc.IX?this.qib?(this.log.info("Processing post-authorize",this),this.qib(this,function(ra){ra.ja?Q.opb():Q.su(E.aa.Ivb,ra);})):this.opb():this.su(E.aa.uPa,this.Cza(this.Rc)):this.su(E.aa.GM,X);}};c.prototype.opb=function(){var T,X;l.__awaiter(this,void 0,void 0,function ka(){var ra;ra=this;return Ka(ka,function(R){!1;if(ra.state.value != P.jc.LOADING)return R.return();(null === (T=ra.ha.ba) || void 0 === T?0:T.Ra.Vo) && ra.xb.reset((0,xa.o9)(null === (X=ra.ha.ba) || void 0 === X?void 0:X.Ra.Vo,{config:v.config}));ra.qb=ra.Npa(ra.xb,ra);ra.qb.Cgc({Lr:d.Lr,config:v.config,Se:ra.Se,Vc:ra.Vc,rw:ra.rw.bind(ra),nk:C.nk,E1:ra.E1.bind(ra),wL:ra.wL.bind(ra)});ra.zac();R.dG=0;});});};c.prototype.tPb=function(){var T,X,Q,ka,ra,R,ha;T=this;!1;try{if(this.state.value === P.jc.LOADING){this.Wb.open();X=new Promise(function(wa){T.Wb.addEventListener(H.Kk.Qmb,wa);});this.rf=new I.lQa(this);Q=this.Rc.GX.Wi === U.pr.NONE;ka={Q2:this.Rc.GX.Iq || Q};ra={sa:this.sa,Cp:this.pg,ly:this.ly};try{if(this.state.value !== P.jc.LOADING)return;R=this.qb;R.Qba({flags:ka,A4a:ra,S:this.lib,hsa:this.hsa.bind(this)});ha=this.xb.Qaa(this);this.g4a(ha);R.Xw(ha);this.DGb();R.YIb({xk:this.xk,loadTime:this.loadTime});this.wf=this.bpa(R,this);this.wf.Hn.addListener(function(wa){wa.newValue?(T.Hp.u0b(),v.config.qu && T.Fd.aab()):T.Hp.dhc();});this.wf.addEventListener(P.n3.sE,function(){T.Fd.aab();});}catch(wa){throw (this.log.error("Failed to initialize ASE streaming",{error:wa,startPts:this.ca,flags:ka}),wa);}X.then(function(){var wa;T.state.value !== P.jc.CLOSING && T.state.value !== P.jc.CLOSED && (null === (wa=T.qb) || void 0 === wa?void 0:wa.open());});this.mediaTime.set(this.ca);this.Hp=new k.bWa(this);if("boolean" === typeof this.lb.pfa?this.lb.pfa:v.config.pfa)this.r2=new B.cWa(this);this.tS();x.nla.forEach(function(wa){wa(T);});this.N7b();}}catch(wa){this.su(E.aa.Gvb,{Ca:E.Y.rn,Ub:(0,L.pf)(wa)});}};c.prototype.O7b=function(){(0,G.ya)(this.state.value == P.jc.LM);this.loadTime=this.Ia.Rb().ia(D.va);this.state.set(P.jc.LOADING);};c.prototype.su=function(T,X){this.done || (this.done=!0,X instanceof W.rd?this.Td(X.code,X):this.Td(T,X));};c.prototype.eX=function(T){var Q,ka;function X(){var ra,R;ra=f.cy.Zua() + "";R=T.iqa[ra];R || (R=T.iqa[ra]=[]);R.push(Q.Ia.Rb().ia(D.va));Q.log.trace("charging change event",{level:f.cy.E9a(),charging:f.cy.Zua()});}Q=this;ka=f.cy.Hsb;f.cy.addEventListener(ka,X);T.addEventListener(P.ka.uh,function(){f.cy.removeEventListener(ka,X);});};c.prototype.rFa=function(T){var X,Q;X=this;if(this.state.value == P.jc.LM || this.state.value == P.jc.LOADING || this.state.value == P.jc.Ue){this.Vc.info("Playback closing",this,T?{ErrorCode:T.i$}:void 0);this.CI("Closing");u.Ze.removeListener(u.Pm,this.a0);this.Ki=T;this.ha.rX=this.rF();this.z7a();(null === (Q=this.qb) || void 0 === Q?0:Q.ej) && this.qb.flush();try{this.Pb.Zc(P.ka.uh,{movieId:this.QE});}catch(ka){this.Vc.error("Unable to fire playback closing event",ka);}this.state.set(P.jc.CLOSING);this.jrb();this.bhc || (0,O.Mg)(function(){return X.Pjb();});}};c.prototype.ZUb=function(){this.Pb.Zc(P.ka.hpb);};c.prototype.A7a=function(){var T;T=this.mediaTime.value;this.T3b != T && (!1,this.T3b=T,this.Pb.Zc(P.ka.aGa));};c.prototype.Pjb=function(){var T,X;T=this;(0,G.ya)(this.state.value == P.jc.CLOSING);X=this.Jca;this.Jca=void 0;X?g.LL.release(X,function(Q){(0,G.ya)(Q.ja);T.Hra();}):this.Hra();};c.prototype.jrb=function(){var T;null === (T=this.qb) || void 0 === T?void 0:T.ud();delete this.qb;};c.prototype.Hra=function(){var T;this.Hra=p.dA;(0,G.ya)(this.state.value == P.jc.CLOSING);T=x.Sp.indexOf(this);(0,G.ya)(0 <= T);x.Sp.splice(T,1);this.state.set(P.jc.CLOSED);this.Pb.Zc(P.ka.closed,void 0,!0);this.Pb.Ji();delete this.Ye;this.ha.Sda();};c.prototype.Kpa=function(){this.lb.playbackState && ("number" === typeof this.lb.playbackState.volume && this.volume.set((0,F.GD)(this.lb.playbackState.volume,0,1)),"boolean" === typeof this.lb.playbackState.muted && this.muted.set(this.lb.playbackState.muted),"number" === typeof this.lb.playbackState.playbackRate && this.playbackRate.set(this.lb.playbackState.playbackRate));};c.prototype.z7a=function(){this.Pb.Zc(P.ka.xmb,{xha:this.xha});};c.prototype.E1=function(T,X,Q){X=this.hab(X);T=this.Jj(T);X && T.Cc[Q].set(X);};c.prototype.rw=function(){return {AudioBufferLength:this.GW(),VideoBufferLength:this.L2()};};c.prototype.H8=function(){var T;if(null === (T=this.qb) || void 0 === T?0:T.ej)return this.qb.Hxa(!1);};c.prototype.N7b=function(){this.state.value == P.jc.LOADING && this.state.set(P.jc.Ue);};c.prototype.COb=function(){var T,X,Q;T=void 0 === T?this.K:T;X=this.tF({N:T});Q=this.Yn(T);return (0,fa.Hv)(X,function(ka){return Q.QQ.VC(ka);});};c.prototype.hsa=function(T){var X,Q;T=void 0 === T?this.K:T;X=this.tF({N:T});Q=this.Yn(T);return (0,fa.S$a)(X,function(ka){return Q.QQ.VC(ka);});};c.prototype.g4a=function(T){var X;X=this;Object.keys(T.U).filter(function(Q){return !X.rs.has(T.U[Q].N);}).forEach(function(Q){var ka,ra,R;ra=T.U[Q];R=ra.N;ra=Object.assign(null !== (ka=X.Hl.bQ(R).Gb) && void 0 !== ka?ka:{},{ca:ra.Ba,Ta:ra.Aa,ji:!1,RS:Date.now(),hca:!0});X.mpa({N:R,S:Q,lb:ra});});};Va.Object.defineProperties(c.prototype,{$K:{configurable:!0,enumerable:!0,get:function(){return this.rs.values();}},ha:{configurable:!0,enumerable:!0,get:function(){return this.rs.get(this.QE);}},ca:{configurable:!0,enumerable:!0,get:function(){var T,X;return void 0 !== this.Kn?this.Kn:null !== (X=null === (T=this.$K.next()) || void 0 === T?void 0:T.value.lb.ca) && void 0 !== X?X:0;}},Rc:{configurable:!0,enumerable:!0,get:function(){return this.ha.Rc;},set:function(T){this.ha.Rc=T;}},caa:{configurable:!0,enumerable:!0,get:function(){return this.ha.lb.caa;}},daa:{configurable:!0,enumerable:!0,get:function(){return this.ha.lb.daa;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ha.index;}},S:{configurable:!0,enumerable:!0,get:function(){return this.ha.S;}},lib:{configurable:!0,enumerable:!0,get:function(){return this.xb.bHa?this.xb.ei:this.ha.S;}},Ye:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ye;},set:function(T){this.ha.Ye=T;}},yo:{configurable:!0,enumerable:!0,get:function(){return this.ha.yo;},set:function(T){this.ha.yo=T;}},RI:{configurable:!0,enumerable:!0,get:function(){return this.ha.RI;},set:function(T){this.ha.RI=T;}},QI:{configurable:!0,enumerable:!0,get:function(){return this.ha.QI;},set:function(T){this.ha.QI=T;}},Pba:{configurable:!0,enumerable:!0,get:function(){return this.ha.Pba;},set:function(T){this.ha.Pba=T;}},ba:{configurable:!0,enumerable:!0,get:function(){return this.ha.ba;},set:function(T){this.ha.ba=T;}},Kn:{configurable:!0,enumerable:!0,get:function(){return this.ha.Kn;},set:function(T){this.ha.Kn=T;}},h2:{configurable:!0,enumerable:!0,get:function(){return this.ha.h2;},set:function(T){this.ha.h2=T;}},lb:{configurable:!0,enumerable:!0,get:function(){return this.ha.lb;},set:function(T){this.ha.lb=T;}},EQ:{configurable:!0,enumerable:!0,get:function(){return this.ha.EQ;},set:function(T){this.ha.EQ=T;}},Ym:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ym;}},K:{configurable:!0,enumerable:!0,get:function(){return this.ha.K;}},oe:{configurable:!0,enumerable:!0,get:function(){return this.ha.oe;}},Fj:{configurable:!0,enumerable:!0,get:function(){return this.ha.Fj;}},Cz:{configurable:!0,enumerable:!0,get:function(){return this.ha.Cz;}},dD:{configurable:!0,enumerable:!0,get:function(){return this.ha.dD;}},wi:{configurable:!0,enumerable:!0,get:function(){return this.ha.wi;}},fh:{configurable:!0,enumerable:!0,get:function(){return this.ha.fh;}},nK:{configurable:!0,enumerable:!0,get:function(){return this.ha.nK;}},Hw:{configurable:!0,enumerable:!0,get:function(){return this.ha.Hw;}},Lm:{configurable:!0,enumerable:!0,get:function(){return this.ha.Lm;}},th:{configurable:!0,enumerable:!0,get:function(){return this.ha.th;}},rB:{configurable:!0,enumerable:!0,get:function(){return this.ha.rB;},set:function(T){this.ha.rB=T;}},sa:{configurable:!0,enumerable:!0,get:function(){return this.ha.sa;}},Gl:{configurable:!0,enumerable:!0,get:function(){return this.ha.Gl;}},oj:{configurable:!0,enumerable:!0,get:function(){return this.ha.oj;}},ZB:{configurable:!0,enumerable:!0,get:function(){return this.ha.ZB;},set:function(T){this.ha.ZB=T;}},pg:{configurable:!0,enumerable:!0,get:function(){return this.ha.pg;}},AL:{configurable:!0,enumerable:!0,get:function(){return this.ha.AL;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ha.background;},set:function(T){this.ha.background=T;}},zX:{configurable:!0,enumerable:!0,get:function(){return this.ha.zX;}},yd:{configurable:!0,enumerable:!0,get:function(){return this.ha.yd;}},Or:{configurable:!0,enumerable:!0,get:function(){return this.ha.Or;}},bta:{configurable:!0,enumerable:!0,get:function(){return this.ha.bta;}},QQ:{configurable:!0,enumerable:!0,get:function(){return this.ha.QQ;}},ly:{configurable:!0,enumerable:!0,get:function(){return 0 !== v.config.m$ && 0 === this.ha.sa % v.config.m$;}},g$:{configurable:!0,enumerable:!0,get:function(){return this.ha.g$;}},Md:{configurable:!0,enumerable:!0,get:function(){return this.ha.Md;}},psa:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},Ch:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.K,TrackingId:this.Gl,Xid:this.sa};}},Jea:{configurable:!0,enumerable:!0,get:function(){return this.xb.Jea;}}});b.ZSa=c;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.jnb=void 0;c=a(17);l=a(9);g=a(4);a(23);b.jnb=function(m){var d;(0,l.nk)("Storage");d={};m({ja:!0,storage:{load:function(f,h){var k;if(d.hasOwnProperty(f)){k=d[f];!1;h({ja:!0,data:k,zga:f});}else (!1,h({Ca:g.Y.kA}));},save:function(f,h,k,n){k && d.hasOwnProperty(f)?n({ja:!1}):(d[f]=h,!1,n && n({ja:!0,zga:f}));},remove:function(f,h){delete d[f];!1;h && h(c.mh);}}});};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.hnb=void 0;c=a(9);l=a(83);g=a(31);m=a(572);b.hnb=function(d){c.Ha.get(l.Iz).create().then(function(f){d({ja:!0,storage:new m.aka(f,c.Ha.get(g.Di))});}).catch(function(f){d(f);});};},function(r,b){function a(c,l){this.Zx=c;this.Se=l;}Object.defineProperty(b,"__esModule",{value:!0});b.aka=void 0;a.prototype.load=function(c,l){var g;g=this;this.Zx.load(c).then(function(m){l && l(a.Cnb(m));}).catch(function(m){l && l(g.yta(c,m));});};a.prototype.save=function(c,l,g,m){var d;d=this;this.Zx.save(c,l,g).then(function(){m && m(a.Cnb({key:c,value:l}));}).catch(function(f){m && m(d.yta(c,f));});};a.prototype.remove=function(c,l){var g;g=this;this.Zx.remove(c).then(function(){l && l({ja:!0,zga:c});}).catch(function(m){l && l(g.yta(c,m));});};a.Cnb=function(c){return {ja:!0,data:c.value,zga:c.key};};a.prototype.yta=function(c,l){return {ja:!1,zga:c,Ca:l.Ca,Ub:l.cause?this.Se.pf(l.cause):void 0};};b.aka=a;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.inb=void 0;c=a(572);l=a(9);g=a(497);m=a(31);b.inb=function(d){d({ja:!0,storage:new c.aka(l.Ha.get(g.XOa),l.Ha.get(m.Di))});};},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.cy=void 0;c=a(17);l=a(19);r=a(4);g=a(9);m=a(14);d=a(34);f=a(15);h=a(64);k=a(5);a=g.Ha.get(d.vj);n=g.Ha.get(h.JD);a.register(r.aa.ENa,function(p){var w,u;function q(){p(c.mh);q=c.dA;}function v(x){if(!(x instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(y){if(!(0,f.qd)(x[y]))throw y + " is not a function";});}function t(){return Promise.resolve().then(function(){var x;x=m.hf.getBattery();if(!(0,f.qd)(x.then))throw "getBattery did not return a promise";return x;});}w=(0,g.nk)("BatteryManager");b.cy={Hsb:"chargingchange",E9a:function(){return u?u.level:null;},Zua:function(){return u?u.charging:null;},addEventListener:function(x,y){u && u.addEventListener(x,y);},removeEventListener:function(x,y){u && u.removeEventListener(x,y);}};l.config.eX && (0,f.qd)(m.hf.getBattery)?n.Cs((0,k.$b)(l.config.EWb),t()).then(function(x){v(x);u=x;}).catch(function(x){w.error("getBattery failed",x);}).then(q):q();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JOa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,l){var g;g=this;this.U9a=c;this.Igb=l;this.iGa=!1;this.lR=function(){g.xo=void 0;g.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.eWa=void 0;a.prototype.update=function(c){var l,g,m,d,f;m=this.U9a();if(this.Jpb !== m){d=null === (g=null === (l=this.s_) || void 0 === l?void 0:l.LJ(m)) || void 0 === g?void 0:g[0];if(d && ("startTime" in d))if(d.startTime <= m && m <= d.endTime){f=d;this.vpb(d.endTime - m);}else this.vpb(d.startTime - m);this.Jpb=m;this.Yoa !== f && (this.Yoa=f,!c && this.Igb && this.Igb());}};a.prototype.start=function(){this.iGa=!0;this.update();};a.prototype.Tlb=function(c){this.s_=c;this.Yoa=this.Jpb=void 0;c || this.stop();};a.prototype.stop=function(){this.iGa=!1;this.Is();};a.prototype.jWb=function(){this.update(!0);return this.Yoa;};a.prototype.vpb=function(c){this.Is();this.iGa && 0 < c && (this.xo=setTimeout(this.lR,c + a.Qwb));};a.prototype.Is=function(){this.xo && (clearTimeout(this.xo),this.xo=void 0);};b.eWa=a;a.Qwb=10;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.sNa=void 0;c=a(16);l=a(107);b.sNa=function(g){function m(d){g.fireEvent(c.ka.BB,{response:d,K:g.ha.K});}return {download:function(d,f){d.j=g;d=l.Bf.download(d,f);d.i8(m);return d;}};};},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.ZNa=void 0;c=a(19);l=a(62);g=a(4);m=a(579);d=a(14);f=a(15);h=a(16);k=a(9);n=a(236);b.ZNa=function(p){var v,t,w,u;function q(){p.state.value !== h.jc.Ue || p.Db.value !== h.nb.bj && p.Db.value !== h.nb.Os?t.Is():t.bF();}v=c.config.t$b;if(!p.tQ() && v){t=k.Ha.get(n.OU)(v,function(){p.fireEvent(h.ka.hQ,g.aa.t5);});p.Db.addListener(q);p.state.addListener(q);if(c.config.jxa){w=(0,l.Wo)();u=new m.lUa(c.config.jxa,function(){var x,y;x=(0,l.Wo)();y=x - w;y > v && (p.fireEvent(h.ka.hQ,g.aa.a5),u.U2a());y > 2 * c.config.jxa && (p.kxa=(0,d.bv)(y,p.kxa || 0));w=x;});u.wgc();}p.addEventListener(h.ka.uh,function(){t.Is();(0,f.xd)(u) && u.U2a();});}};},function(r,b){function a(c,l){this.gGa=c;this.yy=l;}Object.defineProperty(b,"__esModule",{value:!0});b.lUa=void 0;a.prototype.wgc=function(){this.U7 || (this.U7=setInterval(this.yy,this.gGa));};a.prototype.U2a=function(){this.U7 && (clearInterval(this.U7),this.U7=void 0);};b.lUa=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n){var p,q,v,t;p=this;this.j=n;this.wX=void 0;this.cna=(0,g.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Nma=(0,g.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Ema=(0,g.createElement)("DIV","width:100%;text-align:center");this.dAb=this.Pma("Audio Bitrate");this.Poa=this.Pma("Video Bitrate / VMAF");this.Hma=this.Pma("CDN");this.KV={};this.gZ=m.Ha.get(d.Lp);this.cna.appendChild(this.Nma);this.Nma.appendChild(this.Ema);q=(0,g.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.Yzb.bind(this),!1);this.Ema.appendChild(q);q=(0,g.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.toa.bind(this),!1);this.Ema.appendChild(q);v=this.FDb.bind(this);l.Ze.addListener(l.wF,v);n.addEventListener(h.ka.xK,function(){p.KV={};});n.addEventListener(h.ka.uh,function(){l.Ze.removeListener(l.wF,v);});t=this.kEb.bind(this);n.Cc.forEach(function(w){w.addListener(t);});n.Gc.addListener(t);n.Uh.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.fTa=void 0;l=a(58);g=a(44);m=a(9);d=a(39);f=a(207);h=a(16);k=a(49);c.prototype.show=function(){this.kW || (this.KZa(),document.body.appendChild(this.cna),this.kW=!0);};c.prototype.Ay=function(){this.kW && (document.body.removeChild(this.cna),this.kW=!1);};c.prototype.toggle=function(){this.kW?this.Ay():this.show();};c.prototype.jpb=function(){var q,v,t,w;function n(u,x,y){var z,B,A;B=[];x.filter(function(C){return C.mf === u;}).forEach(function(C){0 <= y.indexOf(C)?(void 0 === A?A=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== A && void 0 !== z && (B.push({min:A,max:z}),A=z=void 0);});if(void 0 !== A && void 0 !== z){B.push({min:A,max:z});A=z=void 0;}return B;}function p(u,x,y){var z;z=[];x.filter(function(B){return B.mf === u;}).forEach(function(B){-1 === y.indexOf(B) && z.push({stream:{bitrate:B.bitrate},disallowedBy:["manual"]});});return z;}v=this.j.Hv();t=this.j.tF().sort(function(u,x){return u.bitrate - x.bitrate;});w=t.reduce(function(u,x){0 > u.indexOf(x.mf) && u.push(x.mf);return u;},[]).map(function(u){return {profile:u,ranges:n(u,t,v),disallowed:p(u,t,v)};});!1;null === (q=this.j.qb) || void 0 === q?void 0:q.Rw(w,this.j.K);};c.prototype.Yzb=function(){var q,v;this.KV={};for(var n=this.Poa.options,p=n.length;p--;){q=n[p];q.selected && (this.KV[q.value]=1);}this.wX=this.AAb.bind(this);this.jpb();if(n=this.j.th){v=this.Hma.value;n=n.filter(function(t){return t.id == v;})[0];p=this.j.Cc[k.u.J].value;n && n != p && (n.p2a={testreason:"streammanager",selreason:"userselection"},this.j.Cc[k.u.J].set(n));}this.Ay();};c.prototype.toa=function(){this.wX=void 0;this.j.jmb(this.j.K);this.Ay();};c.prototype.AAb=function(){var n;n=this;return this.j.tF().filter(function(p){return n.KV[p.bitrate];});};c.prototype.KZa=function(){var n,p,q,v;n=this;p=this.j.Gc.value;q=this.j.Uh.value;v=this.j.th;p && (v=v.slice(),v.sort(function(t,w){return t.vc - w.vc;}),this.yoa(this.dAb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == n.j.bi.value};})));q && (this.yoa(this.Poa,q.streams.map(function(t){var w,u,x;w=n.j.QQ.VC(t);u=t.bitrate;t=t.hb;x="" + u;t && (x+=" / " + t);w && (x+=" (" + w.join("|") + ")");return {value:u,caption:x,selected:n.wX?n.KV[u]:!w};})),this.Poa.removeAttribute("disabled"));v && (this.yoa(this.Hma,v.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == n.j.Cc[k.u.J].value};})),this.Hma.removeAttribute("disabled"));};c.prototype.kEb=function(){this.kW && this.KZa();};c.prototype.Pma=function(n){var p,q;p=(0,g.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,g.createElement)("DIV",void 0,n);q=(0,g.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.Nma.appendChild(p);return q;};c.prototype.yoa=function(n,p){n.innerHTML="";p.forEach(function(q){var v;v={title:q.caption};q.selected && (v.selected="selected");v=(0,g.createElement)("option",void 0,q.caption,v);v.value=q.value;n.appendChild(v);});};c.prototype.FDb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == f.AD.Dyb && this.gZ.lya && this.toggle();};b.fTa=c;},function(r,b,a){var l,g,m,d,f;function c(h,k){this.$$=h;this.tJ={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,l.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.Llb(k);this.uua=this.l9a(this.$$);}Object.defineProperty(b,"__esModule",{value:!0});b.aWa=void 0;l=a(44);g=a(582);m=a(583);d=a(14);f=a(23);c.prototype.mp=function(){return this.element;};c.prototype.Lfc=function(h){this.$x=h;};c.prototype.Xfc=function(h){this.entry=h;this.PR();};c.prototype.cgc=function(h){this.Llb(h);this.PR();};c.prototype.PR=function(){var h,k,n,p,q,v,t,w,u,x,y,B,A,C;h=this;k=this.mp();n=k.parentElement;p=n && n.clientWidth || 0;q=n && n.clientHeight || 0;v=n=0;t={width:p,height:q};if(0 < p && 0 < q && this.entry){this.$x && (t=(0,l.Z$)(p,q,this.$x),n=Math.round((p - t.width) / 2),v=Math.round((q - t.height) / 2));u=this.eKb(t);x=(0,l.Z$)(u.width,u.height,this.$x);u=(w=this.entry.blocks) && w.map(function(D){var E;E=(0,m.uta)(D,x,h.$$,h.uua);D=(0,m.K6a)(D) + ";position:absolute";return (0,l.createElement)("div",D,E,c.Qia);});}Object.assign(this.tJ,{left:n + "px",right:n + "px",top:v + "px",bottom:v + "px"});k.style.display="none";k.style.direction=this.tJ.direction;k.innerHTML="";if(u && u.length){p=t.width;n=t.height;y=t;this.VW && (y=this.MFb(t,this.VW,q,v));this.tJ.margin=this.du?this.k9(t,"top") + "px " + this.k9(t,"right") + "px " + this.k9(t,"bottom") + "px " + this.k9(t,"left") + "px ":void 0;u.forEach(function(D){return k.appendChild(D);});q=(0,l.vX)(this.tJ);k.style.cssText=q + ";visibility:hidden;z-index:-1";v=[];for(var z=u.length - 1;0 <= z;z--){B=u[z];A=w[z];C=this.ggb(B,A,p,n);C.width > p && (B.innerHTML=(0,m.uta)(A,t,this.$$,this.uua,p / C.width),C=this.ggb(B,A,p,n));v[z]=C;}v=(0,g.apb)(v,y);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (B=Math.round(n / 50),t=(0,m.M6a)(w,v,B,y,t),t=(0,l.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,t,c.Qia),k.insertBefore(t,k.firstChild)));k.style.display="none";for(t=v.length - 1;0 <= t;t--){z=v[t];y=u[t].style;B=w[t].region;z=(0,m.L6a)(B,z,p,n,0);Object.assign(y,z);}k.style.cssText=q;}};c.prototype.REa=function(h){this.VW=h;this.PR();};c.prototype.pwa=function(){return this.VW;};c.prototype.SEa=function(h){this.du=h;this.PR();};c.prototype.qwa=function(){return this.du;};c.prototype.rwa=function(){return "block" === this.tJ.display;};c.prototype.TEa=function(h){var k;k=h?"block":"none";this.element.style.display=k;this.tJ.display=k;h && this.PR();};c.prototype.Nkc=function(h){this.$$=h;this.uua=this.l9a(h);};c.prototype.l9a=function(h){var k,n;k=this;n={};(0,f.zh)(h,function(p,q){n[p]=k.l6b(q);});return n;};c.prototype.Llb=function(h){this.tJ.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.k9=function(h,k){if(this.du){if("left" === k || "right" === k)return h.width * (this.du[k] || 0);if("top" === k || "bottom" === k)return h.height * (this.du[k] || 0);}return 0;};c.prototype.eKb=function(h){return this.du?{height:h.height * (1 - (this.du.top || 0) - (this.du.bottom || 0)),width:h.width * (1 - (this.du.left || 0) - (this.du.right || 0))}:h;};c.prototype.l6b=function(h){var k;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,l.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Qia);d.Xh.body.appendChild(h);k={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.Xh.body.removeChild(h);return k;};c.prototype.ggb=function(h,k,n,p){var q,v,t,w,u;q=k.region;v=(q.marginTop || 0) * p;t=(q.marginBottom || 0) * p;w=(q.marginLeft || 0) * n;u=(q.marginRight || 0) * n;k=h.clientWidth || 1;h=h.clientHeight || 1;switch(q.verticalAlignment){case "top":p=v;break;case "center":p=(v + p - t - h) / 2;break;default:p=p - t - h;}switch(q.horizontalAlignment){case "left":n=w;break;case "right":n=n - u - k;break;default:n=(w + n - u - k) / 2;}return {top:p,left:n,width:k,height:h};};c.prototype.MFb=function(h,k,n,p){return {height:n - Math.max(p,k.bottom || 0) - Math.max(p,k.top || 0),width:h.width};};b.aWa=c;c.Qia={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.apb=void 0;c=a(14);b.apb=function(l,g){function m(h,k,n){var t,u,x,y,z;if(h && 1 < h.length){for(var p=[],q=[],v=0;v < h.length;v++){p[v]=0;q[v]=0;}t=!1;for(v=0;v < h.length;v++){for(var w=v + 1;w < h.length;w++){u=h[v];x=h[w];if(0 > u.width || 0 > x.width || x.left > u.left + u.width || x.left + x.width < u.left || x.top > u.top + u.height?0:x.top + x.height >= u.top){y=(0,c.bv)(u.left,x.left);z=(0,c.bv)(u.top,x.top);y={width:(0,c.bv)((0,c.Zz)(u.left + u.width,x.left + x.width) - y,0),height:(0,c.bv)((0,c.Zz)(u.top + u.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,u=d(h[v]),x=d(h[w]),z && k || !z && !k))(y=(0,c.bv)(y.width / 2,.25),u.x <= x.x?(q[v]-=y,q[w]+=y):(q[w]-=y,q[v]+=y));else if(z && !k || !z && k)(u=(0,c.bv)(y.height / 2,.25),p[v]-=u,p[w]+=u);}}for(v=0;v < h.length;v++){if(-.25 > q[v] && 0 <= h[v].left + q[v] || .25 < q[v] && h[v].left + h[v].width + q[v] <= n.width)(h[v].left+=q[v],t=!0);if(-.25 > p[v] && 0 <= h[v].top + p[v] || .25 < p[v] && h[v].top + h[v].height + p[v] <= n.height)(h[v].top+=p[v],t=!0);}return t;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}l=l.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,k){h.forEach(function(n){0 > n.left && n.left + n.width < k.width?n.left+=(0,c.Zz)(-n.left,k.width - (n.left + n.width)):n.left + n.width > k.width && 0 < n.left && (n.left-=(0,c.Zz)(n.left + n.width - k.width,n.left));0 > n.top && n.top + n.height < k.height?n.top+=(0,c.Zz)(-n.top,k.height - (n.top + n.height)):n.top + n.height > k.height && 0 < n.top && (n.top-=(0,c.Zz)(n.top + n.height - k.height,n.top));});})(l,g);for(var f=0;50 > f && m(l,!0,g);f++){;}for(f=0;50 > f && m(l,!1,g);f++){;}return l;};},function(r,b,a){var f,h,k;function c(n,p,q,v,t){var w;w={};"right" == n.horizontalAlignment?w.right=100 * (q - p.left - p.width - t) / q + "%":w.left=100 * (p.left - t) / q + "%";"bottom" == n.verticalAlignment?w.bottom=100 * (v - p.top - p.height - t) / v + "%":w.top=100 * (p.top - t) / v + "%";return w;}function l(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function g(n,p,q,v,t){var w,u;w=n.style;u=(0,h.Ywa)(n.text);for(n=n.lineBreaks;n--;){u="<br />" + u;}return m(u,w,p,q,v,t);}function m(n,p,q,v,t,w){var u;u=p.characterStyle;t=t[u];u=0 <= u.indexOf("MONOSPACE")?l(t,p.cellResolution) || t.lineHeight:t.lineHeight;v=p.characterSize * v.height / (u || 1);v=0 < w?(0,k.IM)(v * w):(0,k.Op)(v);w={"font-size":v + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (w["font-style"]="italic");p.characterUnderline && (w["text-decoration"]="underline");p.characterColor && (w.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (w["background-color"]=d(p.backgroundColor,p.backgroundOpacity));v=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=v + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + v + ",0px 1px " + v + ",1px 0px " + v + ",0px -1px " + v;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=(0,f.vX)(w);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + w + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.K6a=b.mTb=b.kTb=b.nTb=b.lTb=b.L6a=b.M6a=b.uta=void 0;f=a(44);h=a(23);k=a(14);b.uta=function(n,p,q,v,t){var w;w="";n.textNodes.forEach(function(u){w+=g(u,q,p,v,t);});n.region && n.region.multiRowAlignment && (w='<span style="display:inline-block;text-align:' + n.region.multiRowAlignment + '">' + w + "</span>");return w;};b.M6a=function(n,p,q,v,t){var w,u,y,z,B;w="";u=t.width;t=t.height;for(var x=p.length;x--;){y=p[x];z=n[x];z=z && z.region;B="position:absolute;background:" + v + ";width:" + (0,k.Op)(y.width + 2 * q) + "px;height:" + (0,k.Op)(y.height + 2 * q) + "px;";y=c(z,y,u,t,q);(0,h.zh)(y,function(A,C){B+=A + ":" + C + ";";});w+='<div style="' + B + '"></div>';}return w;};b.L6a=c;b.lTb=l;b.nTb=g;b.kTb=m;b.mTb=d;b.K6a=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,f.vX)(p);};},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.USa=void 0;c=a(17);l=a(19);g=a(62);m=a(95);d=a(14);f=a(59);h=a(15);k=a(16);b.USa=function(n){var t,w,u,x,y,z;function p(){return n.state.value === k.jc.LOADING || n.state.value === k.jc.Ue && n.Db.value === k.nb.Dg;}function q(){p()?z || (z=setInterval(v,100)):z && (clearInterval(z),z=void 0,(0,f.Mg)(v));}function v(){var B,A,C,D,E,G,F,L;B=(0,g.Wo)();A=t.value;C=A?A.progress:0;D=n.state.value == k.jc.LOADING || p() && B - w > l.config.zJb;if(D && n.state.value == k.jc.Ue){if(n.Lg.value === k.ig.HUa)(E=C,G=!0);else {F=B;u=u || B;x=x || u + l.config.M6b + 1;(0,h.Oa)(F) && (F=(0,d.bv)(F,x),E=(0,d.Op)(1E3 * (0,m.GD)((B - u) / (F - u),0,.99)) / 1E3);}if(E < C)if(C - E < l.config.Rbc / 100)(E=C,y=void 0);else if(y){if(B - y > l.config.Qbc){L=!0;y=void 0;}else E=C;}else (y=B,E=C);}else y=x=u=void 0;B=D?{Cu:G,progress:E,Sbc:L}:null;(!B || !t || !A || (0,h.Oa)(B.progress) && !(0,h.Oa)(A.progress) || (0,h.Oa)(B.progress) && (0,h.Oa)(A.progress) && .01 < (0,d.g5)(B.progress - A.progress) || B.Cu !== A.Cu) && t.set(B);}t=n.Bqa;w=0;n.state.addListener(function(){q();v();},c.s5);n.Db.addListener(function(B){if(B.oldValue !== k.nb.Dg || B.newValue !== k.nb.Dg)w=(0,g.Wo)();q();});n.Lg.addListener(function(){q();});n.qt.addListener(function(){q();});n.wo.addListener(function(){q();});z || (z=setInterval(v,100));};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M;function c(H){var J;J=this;this.j=H;this.Wb=this.j.Wb;this.log=(0,k.lj)(this.j,"MediaPresenterASE");this.Hda=this.S9=0;this.ea=this.Wb.ea;this.AC=new I.JWa(this.ea,this.j);this.Pmb=this.Xhb=this.Nhb=this.ica=this.ZBa=!1;this.Dca=new Set();this.Sic=k.Ha.get(A.$M)((0,B.$b)(y.P5));this.xO=void 0;this.Wj=k.Ha.get(D.SUa)(this.j);this.Bz={};this.Yeb={};this.hZ={};this.Dh=new G.UPa(this.j,this.Wj);this.Qic=function(){var N,P,W;J.j.h2=(0,h.Wo)();if(!J.ml() && J.hw){N=J.Wb.x$a();N || (J.E$b(),J.Dh.Rob(J.mediaTime));J.j.paused.value || !J.Dh.Asa(J.mediaTime) || !J.xqa() || N || J.Wj.gca?J.PDa():J.ZBa || J.QDa();J.D$b();if(!J.Wb.x$a() && !J.ica){N=J.Wb.kF(!0);P=J.j.Db.value;W=J.cMb();P !== W && !1;W === u.nb.Os?(J.mediaTime=J.j.ss.ia(B.va),J.PDa()):W !== u.nb.Dg && J.$kc(N);J.Apb();J.Dh.cra(J.mediaTime);J.j.Db.set(W);W !== u.nb.Dg || P !== u.nb.Xc && P !== u.nb.bj || J.i9b();}}};this.hn=(0,E.Wib)(this.Qic);this.mediaTime=H.ca;this.j.gj=!1;this.Wb.addEventListener(z.Kk.Omb,function(){J.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");J.Pmb=!0;try{J.oa();}catch(N){J.log.error("Exception while initializing",N);J.Td(n.aa.Nxb);}});this.Wb.addEventListener(z.Kk.rdb,function(N){N=N.N;J.Pmb?J.Mgb(N):J.Dca.add(N);});}Object.defineProperty(b,"__esModule",{value:!0});b.lQa=void 0;l=a(17);g=a(19);m=a(65);d=a(58);f=a(44);h=a(62);k=a(9);a(100);n=a(4);p=a(363);q=a(22);v=a(95);t=a(23);w=a(59);u=a(16);x=a(15);y=a(178);z=a(309);B=a(5);A=a(113);C=a(236);D=a(586);E=a(1360);G=a(1361);F=a(75);L=a(233);O=a(14);K=a(49);I=a(1363);M=a(56);c.prototype.Xbc=function(H){var J,N,P;J=this;if(this.AC.paused){N=Math.ceil(H.J1b);P=function(W){J.Wj.BC?J.Wj.BC.time=W:J.afb=W;};N > (this.Wj.BC?this.Wj.BC.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",N),P(N));H.Dua && (this.log.trace("ptsChanged forcedTimestamp",H.Dua),P(H.Dua));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.b9a=function(){return this.Wb.kF(!1);};c.prototype.zaa=function(){return this.Wb.zaa();};c.prototype.vy=function(){return this.Wb.vy();};c.prototype.NJ=function(){return this.Wb.NJ();};c.prototype.KY=function(){return this.Wb.KY();};c.prototype.oa=function(){var H;H=this;this.log.trace("Video element initializing");this.Wb.sourceBuffers.forEach(function(J){return H.Dh.rgc(J);});this.C1b(this.j.nK);};c.prototype.C1b=function(H){var J,N;J=this;H?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.K}),null === (N=this.j.qb) || void 0 === N?void 0:N.rJ(this.j.K));0 < this.Dca.size && setTimeout(function(){J.log.trace("Notifying about licenses that were added before source buffers created");Array.from(J.Dca).forEach(function(P){J.Dca.delete(P);J.Mgb(P);});},0);this.log.trace("Waiting for loadedmetadata");(0,f.a0a)(this.ea,"loadedmetadata",function(){J.log.trace("Video element event: loadedmetadata");J.j.af("md");});d.Ze.addListener(d.Pm,this.hZ[d.Pm]=function(){return J.close();},l.NM);this.j.addEventListener(u.ka.uh,function(){return J.close();},l.NM);this.j.addEventListener(u.ka.Xkb,function(){return J.QDa();});this.j.addEventListener(u.ka.xK,function(){return J.U8b();});this.j.paused.addListener(function(){return J.hn();});this.j.muted.addListener(function(){return J.RGa();});this.j.volume.addListener(function(){return J.RGa();});this.j.playbackRate.addListener(function(){return J.jha();});this.j.qt.addListener(function(){return J.hn();});this.j.wo.addListener(function(){return J.hn();});this.RGa();this.jha();this.Dh.bga(function(){return J.fda();});this.fda();this.kkc();};c.prototype.Mgb=function(H){var J;this.j.af("ld",H);null === (J=this.j.qb) || void 0 === J?void 0:J.rJ(H);this.j.fireEvent(u.ka.odb);};c.prototype.z8=function(H){var J;J=this;!1;this.Dh.vHb(H);this.FKb(H).then(function(){J.fda();J.j.fireEvent(u.ka.eda);}).catch(function(N){J.Td(n.aa.Rxb,{Ub:(0,t.pf)(N)});});};c.prototype.Fpa=function(H,J,N){N=void 0 === N?{}:N;J=this.$Rb(H,J);this.Dh.uHb(H,J,N);this.fda();this.Nhb || H.type !== K.u.J || (this.Wj.gca || this.seek(this.j.ca,u.Hd.Zu),this.Nhb=!0);};c.prototype.kkc=function(){var H;H=this;this.Wb.addEventListener(z.Kk.u1,this.Bz[z.Kk.u1]=function(){return H.l9b();});this.Wb.addEventListener(z.Kk.rq,this.Bz[z.Kk.rq]=function(){return H.aea();});this.ea.addEventListener("ended",this.Bz.ended=function(){return H.O8b();});this.ea.addEventListener("play",this.Bz.play=function(){return H.dBa();});this.ea.addEventListener("pause",this.Bz.pause=function(){return H.cBa();});this.ea.addEventListener("playing",this.Bz.playing=function(){return H.fBa();});this.hw=!0;this.Dh.Rob(this.mediaTime);this.log.trace("Video element initialization complete");this.j.af("vi");g.config.i5a?setTimeout(function(){H.TAa=!0;H.hn();},g.config.i5a):this.TAa=!0;this.Jhc();this.j.Md.ta && this.Khc();(0,w.Mg)(function(){return H.hn();});};c.prototype.Jhc=function(){var N;function H(){var P;N.j.Db.value !== u.nb.Xc || 0 !== (null === (P=N.j.rf) || void 0 === P?void 0:P.zaa()) || O.Xh.hidden?(N.fgb.Is(),P="stopTimer"):(N.fgb.bF(),P="ensureTimer");N.log.trace("No render timer update: " + P,{presentingState:u.nb[N.j.Db.value],hidden:O.Xh.hidden});}function J(P){var W,V;P=void 0 === P?!0:P;W=N.j.qb;V=(null === W || void 0 === W?void 0:W.ej) && W.Gwa();N.j.Db.value == u.nb.Dg && N.j.state.value == u.jc.Ue && N.j.qt.value == u.ig.Ue && N.j.wo.value == u.ig.Ue && !N.j.gj && V?(P && N.U9.Is(),N.U9.bF(),W="ensureTimer"):(N.U9.Is(),W="stopTimer");N.log.trace("Timer update: " + W,{presentingState:u.nb[N.j.Db.value],playbackState:u.jc[N.j.state.value],avBufferingState:u.ig[N.j.qt.value],textBufferingState:u.ig[N.j.wo.value],autoplayWasBlocked:N.j.gj,hasLicense:V,restartTimer:P});}N=this;g.config.U4a && ((0,q.ya)(!this.U9),this.U9=k.Ha.get(C.OU)(g.config.U4a,function(){var P;P=k.Ha.get(p.bja).t5a(N.j);N.Td(P.code,P);}),this.j.Db.addListener(function(){return J();}),this.j.qt.addListener(function(){return J();}),this.j.wo.addListener(function(){return J();}),this.j.state.addListener(function(){return J();}),this.j.addEventListener(u.ka.odb,function(){return J();}),this.j.addEventListener(u.ka.gj,function(){return J();}),this.j.addEventListener(u.ka.Ypa,function(){return J();}),this.j.addEventListener(u.ka.xG,function(){return J(!0);}),J());g.config.egb && (this.fgb=k.Ha.get(C.OU)(g.config.egb,function(){var P;0 === (null === (P=N.j.rf) || void 0 === P?void 0:P.vy()) && (P=k.Ha.get(p.bja).t5a(N.j),N.Td(P.code,P));N.j.Db.removeListener(H);d.Ze.removeListener(d.Pt,N.hZ[d.Pt]);}),this.j.Db.addListener(H),d.Ze.addListener(d.Pt,this.hZ[d.Pt]=H),H());};c.prototype.Khc=function(){var N;function H(){var P,W,V,S;N.fHa.Is();V=N.Wb.sourceBuffers.find(function(U){return U.mediaType === K.u.J;});V=null !== (P=null === V || void 0 === V?void 0:V.Yua()) && void 0 !== P?P:[];if(1 < V.length){S=N.j.Db.value == u.nb.Xc;P=(null === (W=N.ea) || void 0 === W?void 0:W.readyState) === M.Eo.TT.HAVE_CURRENT_DATA;W=J(V,N.mediaTime);S && P && W?(N.fHa.bF(),S="ensureTimer"):S="stopTimer";N.log.trace("Video Gaps Monitor Timer update: " + S,{presentingState:u.nb[N.j.Db.value],mediaTime:N.mediaTime,bufferedRanges:JSON.stringify(V),nextRange:JSON.stringify(W),readyStateIsStalled:P});}}function J(P,W){P=oa(P);for(var V=P.next();!V.done;V=P.next()){if((V=V.value,V.start >= W))return V;}}N=this;g.config.oqb && ((0,q.ya)(!this.fHa),this.fHa=k.Ha.get(C.OU)(g.config.oqb,function(){var P,W;W=N.Wb.sourceBuffers.find(function(V){return V.mediaType === K.u.J;});W=null !== (P=null === W || void 0 === W?void 0:W.Yua()) && void 0 !== P?P:[];if(P=J(W,N.mediaTime))(N.log.error("Detected media gaps: seeking over gap",{seekPoint:P.start,ranges:JSON.stringify(W)}),N.seek(P.start,u.Hd.LD));}),this.j.Db.addListener(function(){return H();}),this.j.mediaTime.addListener(function(){return H();}),H());};c.prototype.$Rb=function(H,J){var N;N=this.j.Ye;(N=(0,L.Mxa)(N)?N.NP():void 0) && H.type === K.u.J && ((H=new F.Tja(this.log,{mediaType:K.u.J,url:"http://some-url"},J).Ka(N))?J=H:!1);return J;};c.prototype.fda=function(){this.hw && this.hn();this.Dh.z2a();};c.prototype.Thc=function(){!1;this.j.Db.set(u.nb.Dg);this.ica=!0;this.hn();};c.prototype.$Lb=function(){var H;H=this;this.ica && (!1,this.ica=!1,(0,w.Mg)(function(){return H.Z7b();}));};c.prototype.raa=function(){return this.Dh.raa();};c.prototype.Z7b=function(){var H,J;H=this.j.rF() || 0;if(this.j.lb.ji){if(g.config.kJb){H=H - (this.Wb.lEa + 1) - g.config.kEa;J=this.j.qb.Zn().Ud;H=Math.max(H,J);}}else (H-=g.config.efc,H=Math.max(H,this.Wj.Fya));this.seek(H,u.Hd.a6);};c.prototype.W_=function(H){var J;J=this;this.Dh.tgc(H);(0,w.Mg)(function(){return J.hn();});};c.prototype.TXb=function(){return {S9:this.S9,Hda:this.Hda};};c.prototype.FKb=function(H){var J;J=this.Wb && this.Wb.T9a();(0,q.ya)(this.j.ss,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.ss && J && (H=Infinity !== H.llb?H.llb + H.Jw:H.Iw,H > this.j.ss.vib(B.va) && (this.j.ss=(0,B.$b)(H)));return Promise.resolve();};c.prototype.D$b=function(){var H,J;H=this;this.Wj.vea && (!1,this.xqa() && this.Dh.Asa(this.mediaTime) && (this.Wb.seek(null !== (J=this.afb) && void 0 !== J?J:this.mediaTime),this.afb=void 0,this.Wj.vea=!1,(0,w.Mg)(function(){return H.hn();})));};c.prototype.$kc=function(H){var J;if(H < this.mediaTime){J=this.mediaTime - H;g.config.F$b && H && J > y.P5 && (H={ElementTime:(0,v.Ci)(H),MediaTime:(0,v.Ci)(this.mediaTime)},J > y.hUa?this.Td(n.aa.ayb,{Ub:Object.assign({Trace:this.Wb.sF()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=(0,v.GD)(H,0,this.j.ss.ia(B.va));};c.prototype.xqa=function(){return this.j.qt.value === u.ig.Ue && this.j.wo.value === u.ig.Ue;};c.prototype.cMb=function(){var H,J,N;H=this;J=this.j.Db.value;N=J;this.Wj.gca?N=u.nb.Dg:this.ea && this.ea.ended?J === u.nb.Xc && (N=u.nb.Os):this.xqa() && this.Dh.Asa(this.mediaTime)?this.Wb.$Qb()?N=this.AC.paused?u.nb.bj:u.nb.Xc:this.Sic.yl(function(){return H.Ric();}):N=this.j.ss?this.j.iab(this.mediaTime,this.Dh.R9())?u.nb.Dg:u.nb.Os:u.nb.Dg;return N;};c.prototype.i9b=function(){var H;if(this.j.Db.value === u.nb.Dg){H=this.Dh.Djc() > this.Dh.R9();this.j.wo.value !== u.ig.Ue?this.j.Dj.value?(this.j.fireEvent(u.ka.aB,{cause:m.RSa}),this.log.warn("rebuffer due to timed text",this.j.Dj.value.Ch)):this.j.fireEvent(u.ka.GS):H?(this.S9++,this.j.fireEvent(u.ka.aB,{cause:m.ila})):(this.Hda++,this.j.fireEvent(u.ka.aB,{cause:m.jla}));}};c.prototype.Ric=function(){this.ml() || (g.config.c8b && this.Dh.b8b(),this.hn());};c.prototype.l9b=function(){this.hn();};c.prototype.aea=function(){this.hn();this.j.fireEvent(u.ka.rq);};c.prototype.O8b=function(){this.log.trace("Video element event: ended");this.hn();};c.prototype.dBa=function(){this.log.trace("Video element event: play");this.hn();};c.prototype.cBa=function(){this.log.trace("Video element event: pause");this.AC.cBa();this.hn();};c.prototype.fBa=function(){this.log.trace("Video element event: playing");this.AC.dBa();this.hn();};c.prototype.RGa=function(){this.ml() || (this.ea && this.ea.volume !== this.j.volume.value && (this.ea.volume=this.j.volume.value),this.ea && this.ea.muted !== this.j.muted.value && (this.ea.muted=this.j.muted.value));};c.prototype.jha=function(){!this.ml() && this.ea && (this.ea.playbackRate=this.j.playbackRate.value);};c.prototype.QDa=function(){var H;H=this;!this.ml() && (0,x.xd)(this.ea) && !this.ea.ended && this.TAa && this.AC.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.AC.play()).then(function(){H.closed || (H.ZBa=!1,H.ea.style.display=null,H.j.gj=!1,H.j.fireEvent(u.ka.Ypa));}).catch(function(J){"NotAllowedError" === J.name?(H.log.warn("Playback is blocked by the browser settings",J),H.j.gj=!0,H.closed || (H.ZBa=!0,H.ea.style.display="none",H.j.fireEvent(u.ka.gj,{player:{play:function(){return H.QDa();}}}))):H.closed || H.Xhb || (H.Xhb=!0,H.log.error("Play promise rejected",J));}));};c.prototype.U8b=function(){this.Wj.Fya=this.j.rF() || 0;};c.prototype.PDa=function(){this.ml() || !(0,x.xd)(this.ea) || this.ea.ended || !this.TAa || this.AC.paused || (this.log.trace("Calling pause on element"),this.AC.pause());};c.prototype.Apb=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.lVb();};c.prototype.seek=function(H,J,N,P){var W,V;N=void 0 === N?this.j.S:N;P=void 0 === P?!1:P;V=null === (W=this.j.qb) || void 0 === W?void 0:W.ej;!this.ml() && V && (this.j.fireEvent(u.ka.xG,{cause:J}),this.Wj.BC={time:H,cause:J,S:N,uVb:P},this.j.Db.set(u.nb.Dg),this.hn());};c.prototype.E$b=function(){var H,J,N,P,W,V,S,U;if(this.Wj.BC){H=this.Wj.BC;J=H.time;N=H.cause;P=H.S;W=H.uVb;if(!this.Dh.Li() || N === u.Hd.Zu){H=this.j.Jj(P).K;V=this.Dh.Li()?void 0:this.Dh.JWb();V=this.Wj.zYb(J,N,P,W,V);P=V.Kda;W=V.el;S=V.gac;V=V.ci;this.Dh.cra(this.mediaTime);U=this.mediaTime;J=(0,v.Ci)(J);this.j.CI("SEEKING: Requested: (" + H + ":" + N + ":" + J + ") - Actual: (contentPts: " + W + ",playerPts: " + (S + ", newMediaTime: " + P + ")"));this.log.info("Seeking",{Requested:J,Actual:(0,v.Ci)(P),Cause:N,Skip:V});N === u.Hd.Zu || V || (this.Dh.ykb(),this.Dh.ngc());this.mediaTime=P;this.Wj.Fya=W;J=this.j.gg.value;S=this.j.Qe.value;this.j.gg.set(null);this.j.Qe.set(null);this.Apb(!0);this.Wj.BC=void 0;this.Wj.vea=!0;this.j.fireEvent(u.ka.sl,{UAa:U,Kda:P,el:W,cause:N,skip:V,gg:J,Qe:S,K:H});V && this.Dh.skip(P);}}};c.prototype.Td=function(H,J,N){this.closed || this.j.Td(H,J,N);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Dh.close();this.Wb.removeEventListener(z.Kk.u1,this.Yeb[z.Kk.u1]);this.Wb.removeEventListener(z.Kk.rq,this.Yeb[z.Kk.rq]);this.ea.removeEventListener("ended",this.Bz.ended);this.ea.removeEventListener("play",this.Bz.play);this.ea.removeEventListener("pause",this.Bz.pause);this.ea.removeEventListener("playing",this.Bz.playing);this.AC.close();d.Ze.removeListener(d.Pm,this.hZ[d.Pm]);d.Ze.removeListener(d.Pt,this.hZ[d.Pt]);this.closed=!0;try{this.ea.volume=0;this.ea.muted=!0;this.PDa();this.Wb.close();}catch(H){}this.ea=void 0;this.Dh.ykb();}};c.prototype.ml=function(){return this.closed?!0:(0,x.xd)(this.ea)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.lQa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SUa="SeekManagerFactorySymbol";},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.dMa=void 0;c=a(19);l=a(58);g=a(23);m=a(4);d=a(16);b.dMa=function(f,h,k){function n(q){var v,t;v=q.error || q;t=(0,g.pf)(v);k.error("uncaught exception",v,t);(v=(v=v && v.stack) && c.config.cpb && c.config.ykc?0 <= v.indexOf(c.config.cpb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.Td(m.aa.wWa));}function p(){l.Ze.removeListener(l.fba,n);f.removeEventListener(d.ka.uh,p);f.removeEventListener(d.ka.zw,p);}try{l.Ze.addListener(l.fba,n);f.addEventListener(d.ka.uh,p);c.config.c1b && f.addEventListener(d.ka.zw,p);}catch(q){k.error("exception in exception handler ",q);}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rla="PlayedSegmentsTrackerFactorySymbol";},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.Zdb=void 0;c=a(19);l=a(17);g=a(62);r=a(4);m=a(14);d=a(15);f=a(9);a=a(34);f.Ha.get(a.vj).register(r.aa.INa,function(h){var p,q,v,t,w;function k(){return (0,m.IM)((0,g.Wo)() / v);}function n(){var u;u=k();if(u != w){for(var x=(0,m.Zz)(u - w,30);x--;){t.push(0);}(x=(0,m.bv)(t.length - 31,0)) && t.splice(0,x);w=u;}t[t.length - 1]++;}p=c.config.j5b;q=-6 / (p - 2 - 2);v=l.av;t=[];w=k();(0,d.eya)(p) && (setInterval(n,1E3 / p),b.Zdb={NXb:function(){var y;for(var u=[],x=t.length - 1;x--;){y=t[x];u.unshift(0 >= y?9:1 >= y?8:y >= p - 1?0:(0,m.Op)((y - 2) * q + 7));}return u;}});h(l.mh);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ola="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kSa="PboManifestRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PRa="PboBindCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aca=void 0;b.Aca=function(a,c,l){var g;if(l.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");g=l.get;l.get=function(){var m,d;m=g.apply(this,arguments);d={enumerable:l.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return m;};};},function(r,b,a){var l,g,m,d,f;function c(h,k){this.Wb=h;this.j=k;this.b_=[];}Object.defineProperty(b,"__esModule",{value:!0});b.vT=void 0;r=a(0);l=a(4);g=a(1);m=a(15);d=a(23);f=a(9);c.prototype.W$=function(h){this.b_.forEach(function(k){return k(h);});};c.prototype.Td=function(h,k,n){this.j.Td(h,k,n);};c.prototype.uGb=function(h){-1 === this.b_.indexOf(h) && this.b_.push(h);};c.prototype.rdc=function(h){h=this.b_.indexOf(h);0 <= h && this.b_.splice(h,1);};c.prototype.R$a=function(h){var k,n;k={};(0,m.xd)(h.code)?k.Ca=(0,l.aMa)(h.code):k.Ca=l.Y.rn;try{n=h.message.match(/\((\d*)\)/)[1];k.Sf=(0,f.hqa)(n,4);}catch(p){}k.Ub=(0,d.pf)(h);return k;};a=c;a=r.__decorate([(0,g.$)()],a);b.vT=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FTa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JTa="PlaygraphStateFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GOa="LegacyPostPlayShimFactorySymbol";},function(r,b,a){var l;function c(g,m,d,f,h){var k;k=this;this.xb=g;this.Hl=m;this.Pw=d;this.Pb=f;this.io=h;this.Oea=new Map();this.Egc();this.Pb.addListener(l.Qa.loaded,function(){return k.Bib();});}Object.defineProperty(b,"__esModule",{value:!0});b.zH=void 0;l=a(16);c.prototype.d0a=function(g){var m,d;m=this;d=Object.keys(this.xb.jm.U).find(function(f){return m.xb.jm.U[f].N === g.K;});g.id || (g.id=null !== d && void 0 !== d?d:this.io.Mt(g.K));d || (this.xb.jm=this.io.xHb(this.xb.jm,g));d=this.fL(g.id);g.yk && this.xb.glc(g.id,g.yk);return d;};c.prototype.Vob=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.ywa=function(g,m){var d;d=this;m=void 0 === m?{}:m;return this.Pw.transition(g,m).then(function(){d.xb.ei=g;});};c.prototype.close=function(g){return this.Pw.close(g);};c.prototype.isReady=function(){return this.Pw.mZb();};c.prototype.mp=function(){return this.Pw.mp();};c.prototype.SJ=function(){return this.Pw.SJ();};c.prototype.fL=function(g){this.Oea.has(g) || this.Oea.set(g,this.Pw.Jg(this.yJb(g)));return this.Oea.get(g);};c.prototype.Egc=function(){var g;g=this;this.Pw.addListener(l.GH.w1,function(){return g.Pb.Zc(l.GH.w1);});Object.values(l.Qa).forEach(function(m){g.Pw.addListener(m,function(d){return g.Pb.Zc(m,d);});});};c.prototype.Uy=function(){this.Bib();};c.prototype.jBa=function(g){this.Pw.dlc({id:g,K:this.xb.Ce(g).N,yk:this.xb.GZb(g)});};c.prototype.OK=function(){};c.prototype.Bib=function(){var g,m;if(this.isReady()){g=this.xb.ei;m=this.xb.UY(g);m && !this.Oea.has(m) && (this.jBa(g),this.fL(m));}};c.prototype.yJb=function(g){var m,d,f,h;d=this.xb.Ce(g);f=this.Hl.bQ(d.N);h=null === f || void 0 === f?void 0:f.Gb;f=null === f || void 0 === f?void 0:f.ba;return {id:g,K:d.N,ca:d.Ba,yk:null !== (m=null === h || void 0 === h?void 0:h.yk) && void 0 !== m?m:d.Aa,Gb:h,ba:f};};b.zH=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.pla=void 0;a.prototype.Dza=function(c){c=void 0 === c?{}:c;return {Gl:c.trackingId,U8:c.authParams,po:c.sessionParams,oe:c.uiLabel,sha:c.uxLabels,Rsa:c.disableTrackStickiness,RS:c.uiPlayStartTime,caa:c.forceAudioTrackId,daa:c.forceTimedTextTrackId,ji:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,qP:c.enableTrickPlay,Owa:c.heartbeatCooldown,hca:c.isPlaygraph,Ica:c.loadImmediately || !1,Qhb:c.pin,F0:c.preciseSeeking,ca:c.startPts,Ta:c.endPts,yk:c.logicalEnd,pfa:c.renderTimedText,W6a:c.extraManifestParams,Qpa:c.assetId,kIb:c.audioLanguages,fjc:c.textLanguages,pqb:c.videoLanguage,Bp:c.packageId,o5a:c.desiredDownloadables,xDa:c.requestReference,UGb:c.additionalAudioAssets,YGb:c.additionalTextAssets};};b.pla=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uMa=void 0;b.uMa=function(a){var g,m,d,f;function c(){if(d)for(var h;h=g.pop();){h(f);}}function l(h){d=!0;f=h;c();}g=[];return function(h){g.push(h);m || (m=!0,a(l));c();};};},function(r,b,a){var l,g,m,d,f,h;function c(k){var p,q;function n(){p.eW=new f.dWa(q.j);return p.eW;}(0,l.nk)("MediaSourceASE").trace("Inside MediaSourceASE");p=this;q=k.Fva();p.WYa=q;p.readyState=h.cd.CLOSED;p.addSourceBuffer=function(v){return v === d.u.Za?n():q.addSourceBuffer(v);};p.m8=function(v){v.includes(d.u.Za) && n();return q.m8(v);};p.removeSourceBuffer=function(v){return v=v.mediaType === d.u.Za?p.eW=void 0:q.removeSourceBuffer(v);};p.Gt=function(v){p.eW=void 0;q.Gt(v);};p.duration=void 0;this.readyState=h.cd.OPEN;this.Yc=g.Ha.get(m.Di).ZF(h.Yc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.qQa=void 0;l=a(9);g=a(9);m=a(31);d=a(60);f=a(1456);Object.defineProperty(c.prototype,"sourceBuffers",{get:function(){return this.eW?this.WYa.sourceBuffers.concat(this.eW):this.WYa.sourceBuffers;}});Object.defineProperty(c.prototype,"duration",{get:function(){return this.Pk;},set:function(k){var n;this.Pk=k || Infinity;n=Math.floor(1E3 * k) || Infinity;this.sourceBuffers.forEach(function(p){p.Pk=n;});}});h={cd:{CLOSED:0,OPEN:1,Os:2,name:["CLOSED","OPEN","ENDED"]},Yc:{a3a:!0,Lfb:!0}};b.qQa=Object.assign(c,h);},function(r,b,a){var h,k,n,p,q,v,t,w;function c(u){return u.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function l(u){return u && "object" === typeof u?JSON.stringify(u):"string" === typeof u?'"' + u + '"':"" + u;}function g(u,x,y){var z;if("string" === typeof u)return g.call(this,c(u),x,y);z=0;Object.keys(u).forEach(function(B){var A,C,D;A=q[B];C=u[B];if(A){if(D=v[B] || w[typeof h[A]])try{C=D(C);}catch(E){y && y.error("Failed to convert value '" + C + "' for config '" + B + "' : " + E.toString());return;}D=p[A];this[A]=C;p[A] !== D && (y && y.debug("Config changed for '" + B + "' from " + l(D) + " (" + typeof D + ") to " + l(C) + " (" + typeof C + ")"),++z);}else x?(A=(A=t[B])?A.filter(function(E){return E[0] !== this;},this):[],A.push([this,C]),t[B]=A):y && y.error("Attempt to change undeclared config option '" + B + "'");},this);z && p.emit("changed");return z;}function m(){return Object.keys(q).reduce(function(u,x){var y,z;y=q[x];z=u[y];z?(z.push(x),u[y]=z.sort(function(B,A){return A.length - B.length;})):u[y]=[x];return u;},{});}function d(u,x){return u.hasOwnProperty(x)?l(u[x]):void 0;}function f(u,x){return "undefined" === typeof u?x:u;}b=a(92);a=a(1461).EventEmitter;h={};k=Object.create(h);n=Object.create(k);p=Object.create(n);q={};v={};t={};p.declare=function(u){Object.keys(u).forEach(function(x){var y,z,B,A;y=u[x];z=y[0];B=y[1];A=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof B && (B=B()),h[x]=B);q[C]=x;"function" === typeof A && (v[C]=A);if(D=t[C])(D.forEach(function(E){var G,F;G=E[0];F={};F[C]=E[1];g.call(G,F,!1);}),delete t[C]);});});return p;};w={object:function(u){return "object" == typeof u?u:JSON.parse("" + u);},"boolean":function(u){return "boolean" == typeof u?u:!("0" === "" + u || "false" === ("" + u).toLowerCase());},number:function(u){if("number" == typeof u)return u;u=parseFloat("" + u);if(isNaN(u))throw Error("parseFloat returned NaN");return u;}};p.set=g.bind(k);p.p0=g.bind(n);p.dump=function(u,x){var z,B,A,C;function y(){C && u && u.log("===========================================");}z=Object.keys(t).sort();B={};A=m();x=f(x,!0);Object.keys(q).sort().forEach(function(D){var E,G,F;D=q[D];if(!B[D]){B[D]=!0;E=d(k,D);G=d(n,D);if(x || "undefined" !== typeof E || "undefined" !== typeof G){F=A[D].join(",");F+=" = " + l(p[D]) + " (" + typeof p[D] + ") [";F+=f(G,"<unset>") + ",";F+=f(E,"<unset>") + ",";F+=d(h,D) + "]";C || (C=!0,u && u.log("Current config values"),y());u && u.log(F);}}});(x || z.length) && u && u.log("<undeclared> :",z);y();};p.Hi=function(u){var x,y;x={};y={};Object.keys(q).forEach(function(z){z=q[z];y[z] || (y[z]=!0,x[z]=p[z]);});u && g.call(x,u);return x;};p.Ohb=function(){var u;u=m();return Object.getOwnPropertyNames(k).reduce(function(x,y){x[u[y][0]]=k[y];return x;},{});};p.reset=function(){Object.keys(k).forEach(function(u){delete k[u];});};p.Rd={};b(a,p);r.exports=Object.freeze(p);},function(r,b,a){var l;function c(g){for(var m="",d=0;d < g.length;d++){m+=g[d].N + "|";}return m;}l=a(316);r.exports={assert:function(g,m){if(!g)throw Error("PlayPredictionModel assertion failed" + (m?" : " + m:""));},Avc:function(g,m,d){Array.prototype.splice.apply(g,[m,0].concat(d));},ZWb:function(g){for(var m=[],d=0;d < g.length;d++){if(g[d].context === l.aU.Ysb){m=g[d].list;break;}}return m;},GWb:function(g){for(var m=[],d=0;d < g.length;d++){if(g[d].context === l.aU.Prb){m=g[d].list;break;}}return m;},WQb:function(g,m){for(var d=0,f,h,k,n=0,p=g.length - 1;n < p;n++){f=c(g[n].list || []);k=!1;for(var q=0,v=m.length;q < v;q++){if((h=c(m[q].list || []),h == f)){k=!0;break;}}if(!1 === k){d=n;break;}}return d;},r8b:function(g,m,d){for(var f=[],h,k=0;k < Math.min(m,g.length);k++){h=g[k].list || [];f=f.concat(h.slice(0,d));}return f;},q8b:function(g,m){for(var d=[],f,h=0;h < g.length && (f=g[h].list || [],f=f.slice(0,Math.min(f.length,m)),m-=f.length,d=d.concat(f),0 !== m);h++){;}return d;},p8b:function(g,m,d){var f;m < g.length && 0 <= m && (g=g[m].list || [],d < g.length && (f=g[d]));return f;},u7a:function(g){for(var m={},d=g.length,f,h=0;h < d;h++){f=g[h].list || [];for(var k=0;k < f.length;k++){if(f[k].property === l.CM.yU || f[k].property === l.CM.wKa){m.vl=h;m.Pn=k;break;}}}void 0 === m.vl && void 0 === m.Pn && (m.vl=0,m.Pn=0);return m;}};},function(r,b,a){var m;function c(d,f,h,k,n,p,q){this.K2=k;this.brb=d;this.cgb=f;this.rAa=h;this.m3b=p;this.BG=q;this.split=n;}function l(){this.V={};this.V["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.V["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.V["3"]=new c("7","8","7","10","1.5",0,0);this.V["7"]=new c("15","16","15","9","4.5",0,0);this.V["15"]=new c("31","32","31","2","5.5",0,0);this.V["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.V["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.V["123"]=new c("123","124","123","0","0",1,.207298);this.V["124"]=new c("123","124","123","0","0",1,.49076);this.V["64"]=new c("125","126","125","4","40.5",0,0);this.V["125"]=new c("125","126","125","0","0",1,-.00157835);this.V["126"]=new c("125","126","125","0","0",1,.934205);this.V["32"]=new c("65","66","65","135","5.5",0,0);this.V["65"]=new c("127","128","128","4","1272.5",0,0);this.V["127"]=new c("127","128","128","0","0",1,-.510333);this.V["128"]=new c("127","128","128","0","0",1,.18363);this.V["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.V["129"]=new c("129","130","129","0","0",1,-.0464542);this.V["130"]=new c("129","130","129","0","0",1,.458833);this.V["16"]=new c("33","34","34","10","2.00001",0,0);this.V["33"]=new c("67","68","67","0","29.5",0,0);this.V["67"]=new c("131","132","131","2","39.5",0,0);this.V["131"]=new c("131","132","131","0","0",1,-.37577);this.V["132"]=new c("131","132","131","0","0",1,.512087);this.V["68"]=new c("133","134","134","140","1.5",0,0);this.V["133"]=new c("133","134","134","0","0",1,.321272);this.V["134"]=new c("133","134","134","0","0",1,-.675396);this.V["34"]=new c("69","70","70","2","24.5",0,0);this.V["69"]=new c("135","136","136","9","28.5",0,0);this.V["135"]=new c("135","136","136","0","0",1,-.0573845);this.V["136"]=new c("135","136","136","0","0",1,-.507455);this.V["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.V["137"]=new c("137","138","137","0","0",1,-.503909);this.V["138"]=new c("137","138","137","0","0",1,.450886);this.V["8"]=new c("17","18","17","4","44189.5",0,0);this.V["17"]=new c("35","36","35","2","21.5",0,0);this.V["35"]=new c("71","72","72","0","19.5",0,0);this.V["71"]=new c("139","140","140","9","2.5",0,0);this.V["139"]=new c("139","140","140","0","0",1,.00403497);this.V["140"]=new c("139","140","140","0","0",1,-.312656);this.V["72"]=new c("141","142","141","135","96",0,0);this.V["141"]=new c("141","142","141","0","0",1,-.465786);this.V["142"]=new c("141","142","141","0","0",1,.159633);this.V["36"]=new c("73","74","73","130","89.5",0,0);this.V["73"]=new c("143","144","144","10","4.5",0,0);this.V["143"]=new c("143","144","144","0","0",1,-.76265);this.V["144"]=new c("143","144","144","0","0",1,-.580804);this.V["74"]=new c("145","146","146","10","16.5",0,0);this.V["145"]=new c("145","146","146","0","0",1,.296357);this.V["146"]=new c("145","146","146","0","0",1,-.691659);this.V["18"]=new c("37","38","38","9","1.5",0,0);this.V["37"]=new c("37","38","38","0","0",1,.993951);this.V["38"]=new c("75","76","75","0","19",0,0);this.V["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.V["147"]=new c("147","148","147","0","0",1,-.346535);this.V["148"]=new c("147","148","147","0","0",1,-.995745);this.V["76"]=new c("147","148","147","0","0",1,-.99978);this.V["4"]=new c("9","10","9","5","4.5",0,0);this.V["9"]=new c("19","20","19","2","4.5",0,0);this.V["19"]=new c("39","40","39","140","7.5",0,0);this.V["39"]=new c("77","78","78","134","6.5",0,0);this.V["77"]=new c("149","150","150","7","11.5",0,0);this.V["149"]=new c("149","150","150","0","0",1,.729843);this.V["150"]=new c("149","150","150","0","0",1,.383857);this.V["78"]=new c("151","152","151","133","4.5",0,0);this.V["151"]=new c("151","152","151","0","0",1,.39017);this.V["152"]=new c("151","152","151","0","0",1,.0434342);this.V["40"]=new c("79","80","79","133","3.5",0,0);this.V["79"]=new c("153","154","154","8","4.5",0,0);this.V["153"]=new c("153","154","154","0","0",1,-.99536);this.V["154"]=new c("153","154","154","0","0",1,-.00943396);this.V["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.V["155"]=new c("155","156","155","0","0",1,.266272);this.V["156"]=new c("155","156","155","0","0",1,.959904);this.V["20"]=new c("41","42","42","10","65.5",0,0);this.V["41"]=new c("81","82","82","7","10.5",0,0);this.V["81"]=new c("157","158","158","2","37.5",0,0);this.V["157"]=new c("157","158","158","0","0",1,-.701873);this.V["158"]=new c("157","158","158","0","0",1,.224649);this.V["82"]=new c("159","160","159","133","9.5",0,0);this.V["159"]=new c("159","160","159","0","0",1,.0955181);this.V["160"]=new c("159","160","159","0","0",1,-.58962);this.V["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.V["83"]=new c("161","162","161","135","31",0,0);this.V["161"]=new c("161","162","161","0","0",1,-.229692);this.V["162"]=new c("161","162","161","0","0",1,.88595);this.V["84"]=new c("163","164","164","1","13.5",0,0);this.V["163"]=new c("163","164","164","0","0",1,-.992157);this.V["164"]=new c("163","164","164","0","0",1,.922159);this.V["10"]=new c("21","22","22","4","486",0,0);this.V["21"]=new c("43","44","44","133","4.5",0,0);this.V["43"]=new c("85","86","86","10","4.5",0,0);this.V["85"]=new c("165","166","166","4","158.5",0,0);this.V["165"]=new c("165","166","166","0","0",1,-.127778);this.V["166"]=new c("165","166","166","0","0",1,.955189);this.V["86"]=new c("165","166","166","0","0",1,-.994012);this.V["44"]=new c("87","88","88","1","3.5",0,0);this.V["87"]=new c("167","168","168","135","7",0,0);this.V["167"]=new c("167","168","168","0","0",1,-.997015);this.V["168"]=new c("167","168","168","0","0",1,.400821);this.V["88"]=new c("169","170","169","130","36",0,0);this.V["169"]=new c("169","170","169","0","0",1,-.898638);this.V["170"]=new c("169","170","169","0","0",1,.56129);this.V["22"]=new c("45","46","45","9","2.5",0,0);this.V["45"]=new c("89","90","90","9","1.5",0,0);this.V["89"]=new c("171","172","171","10","10.5",0,0);this.V["171"]=new c("171","172","171","0","0",1,.573986);this.V["172"]=new c("171","172","171","0","0",1,-.627266);this.V["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.V["173"]=new c("173","174","173","0","0",1,.925273);this.V["174"]=new c("173","174","173","0","0",1,-.994805);this.V["46"]=new c("91","92","91","136","5.5",0,0);this.V["91"]=new c("175","176","175","10","10.5",0,0);this.V["175"]=new c("175","176","175","0","0",1,.548352);this.V["176"]=new c("175","176","175","0","0",1,-.879195);this.V["92"]=new c("177","178","178","8","14.5",0,0);this.V["177"]=new c("177","178","178","0","0",1,.457305);this.V["178"]=new c("177","178","178","0","0",1,-.998992);this.V["2"]=new c("5","6","5","10","2.5",0,0);this.V["5"]=new c("11","12","11","9","4.5",0,0);this.V["11"]=new c("23","24","24","10","4.00001",0,0);this.V["23"]=new c("47","48","48","133","5.5",0,0);this.V["47"]=new c("93","94","93","3","13.5",0,0);this.V["93"]=new c("179","180","179","138","15.5",0,0);this.V["179"]=new c("179","180","179","0","0",1,.658398);this.V["180"]=new c("179","180","179","0","0",1,-.927007);this.V["94"]=new c("181","182","182","3","15.5",0,0);this.V["181"]=new c("181","182","182","0","0",1,-.111351);this.V["182"]=new c("181","182","182","0","0",1,-.99827);this.V["48"]=new c("95","96","95","7","167",0,0);this.V["95"]=new c("183","184","183","132","36.5",0,0);this.V["183"]=new c("183","184","183","0","0",1,.895161);this.V["184"]=new c("183","184","183","0","0",1,-.765217);this.V["96"]=new c("185","186","186","137","6.00001",0,0);this.V["185"]=new c("185","186","186","0","0",1,-.851095);this.V["186"]=new c("185","186","186","0","0",1,.674286);this.V["24"]=new c("49","50","49","137","5.5",0,0);this.V["49"]=new c("97","98","97","5","23.5",0,0);this.V["97"]=new c("187","188","187","3","28.5",0,0);this.V["187"]=new c("187","188","187","0","0",1,.951654);this.V["188"]=new c("187","188","187","0","0",1,-.993808);this.V["98"]=new c("187","188","187","0","0",1,-.99705);this.V["50"]=new c("187","188","187","0","0",1,-.997525);this.V["12"]=new c("25","26","25","8","8.5",0,0);this.V["25"]=new c("51","52","52","10","4.00001",0,0);this.V["51"]=new c("99","100","100","133","5.5",0,0);this.V["99"]=new c("189","190","190","7","40.5",0,0);this.V["189"]=new c("189","190","190","0","0",1,.151839);this.V["190"]=new c("189","190","190","0","0",1,-.855517);this.V["100"]=new c("191","192","192","133","14.5",0,0);this.V["191"]=new c("191","192","192","0","0",1,.86223);this.V["192"]=new c("191","192","192","0","0",1,.544394);this.V["52"]=new c("101","102","101","135","47.5",0,0);this.V["101"]=new c("193","194","194","4","24.5",0,0);this.V["193"]=new c("193","194","194","0","0",1,.946185);this.V["194"]=new c("193","194","194","0","0",1,.811859);this.V["102"]=new c("193","194","194","0","0",1,-.991561);this.V["26"]=new c("53","54","54","132","6.5",0,0);this.V["53"]=new c("103","104","103","131","85",0,0);this.V["103"]=new c("195","196","196","134","16.5",0,0);this.V["195"]=new c("195","196","196","0","0",1,.0473538);this.V["196"]=new c("195","196","196","0","0",1,-.999401);this.V["104"]=new c("197","198","198","8","15.5",0,0);this.V["197"]=new c("197","198","198","0","0",1,.816129);this.V["198"]=new c("197","198","198","0","0",1,-.99322);this.V["54"]=new c("105","106","105","133","3.5",0,0);this.V["105"]=new c("105","106","105","0","0",1,-.998783);this.V["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.V["199"]=new c("199","200","199","0","0",1,.528588);this.V["200"]=new c("199","200","199","0","0",1,-.998599);this.V["6"]=new c("13","14","14","10","7.5",0,0);this.V["13"]=new c("27","28","28","133","7.5",0,0);this.V["27"]=new c("55","56","56","10","4.5",0,0);this.V["55"]=new c("107","108","107","3","3.5",0,0);this.V["107"]=new c("201","202","201","4","17.5",0,0);this.V["201"]=new c("201","202","201","0","0",1,-.379512);this.V["202"]=new c("201","202","201","0","0",1,.15165);this.V["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.V["203"]=new c("203","204","203","0","0",1,-.884606);this.V["204"]=new c("203","204","203","0","0",1,.265406);this.V["56"]=new c("109","110","109","136","6.5",0,0);this.V["109"]=new c("205","206","205","4","157.5",0,0);this.V["205"]=new c("205","206","205","0","0",1,-.0142737);this.V["206"]=new c("205","206","205","0","0",1,.691279);this.V["110"]=new c("205","206","205","0","0",1,-.998086);this.V["28"]=new c("57","58","58","138","11.5",0,0);this.V["57"]=new c("111","112","112","2","6.5",0,0);this.V["111"]=new c("207","208","208","7","67.5",0,0);this.V["207"]=new c("207","208","208","0","0",1,.763925);this.V["208"]=new c("207","208","208","0","0",1,-.309645);this.V["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.V["209"]=new c("209","210","209","0","0",1,-.306635);this.V["210"]=new c("209","210","209","0","0",1,.556696);this.V["58"]=new c("113","114","113","138","50.5",0,0);this.V["113"]=new c("211","212","212","8","25.5",0,0);this.V["211"]=new c("211","212","212","0","0",1,.508234);this.V["212"]=new c("211","212","212","0","0",1,.793551);this.V["114"]=new c("211","212","212","0","0",1,-.998438);this.V["14"]=new c("29","30","29","134","27.5",0,0);this.V["29"]=new c("59","60","60","7","17.5",0,0);this.V["59"]=new c("115","116","115","135","5.5",0,0);this.V["115"]=new c("213","214","214","137","5.5",0,0);this.V["213"]=new c("213","214","214","0","0",1,.401747);this.V["214"]=new c("213","214","214","0","0",1,.0367503);this.V["116"]=new c("215","216","216","8","5.5",0,0);this.V["215"]=new c("215","216","216","0","0",1,-.0241984);this.V["216"]=new c("215","216","216","0","0",1,-.999046);this.V["60"]=new c("117","118","117","0","12.5",0,0);this.V["117"]=new c("217","218","218","132","5.5",0,0);this.V["217"]=new c("217","218","218","0","0",1,-.997294);this.V["218"]=new c("217","218","218","0","0",1,.210398);this.V["118"]=new c("219","220","219","137","1.5",0,0);this.V["219"]=new c("219","220","219","0","0",1,-.55763);this.V["220"]=new c("219","220","219","0","0",1,.074493);this.V["30"]=new c("61","62","62","133","42.5",0,0);this.V["61"]=new c("119","120","119","135","5.5",0,0);this.V["119"]=new c("221","222","222","4","473.5",0,0);this.V["221"]=new c("221","222","222","0","0",1,-.920213);this.V["222"]=new c("221","222","222","0","0",1,-.17615);this.V["120"]=new c("223","224","224","5","144",0,0);this.V["223"]=new c("223","224","224","0","0",1,-.954295);this.V["224"]=new c("223","224","224","0","0",1,-.382538);this.V["62"]=new c("121","122","121","133","50",0,0);this.V["121"]=new c("225","226","226","10","18.5",0,0);this.V["225"]=new c("225","226","226","0","0",1,-.0731343);this.V["226"]=new c("225","226","226","0","0",1,.755454);this.V["122"]=new c("227","228","228","0","30",0,0);this.V["227"]=new c("227","228","228","0","0",1,.25);this.V["228"]=new c("227","228","228","0","0",1,-.997101);}function g(d,f,h,k,n,p){this.Dfa=n;this.v9=p;}b=a(602);m=a(315);a={};a.fIb=new (function(){this.nBb=m();this.Va=0;this.update=function(){this.Va=m() - this.nBb;};this.type="num";})();a.d4b=new (function(){this.type="cat";})();a.e4b=new (function(){this.type="cat";})();a.g4b=new (function(){this.type="cat";})();a.h4b=new (function(){this.type="cat";})();a.f4b=new (function(){this.type="cat";})();a.i4b=new (function(){this.type="cat";})();a.j4b=new (function(){this.type="cat";})();a.k4b=new (function(){this.type="cat";})();a.l4b=new (function(){this.type="cat";})();a.m4b=new (function(){this.type="cat";})();a.n4b=new (function(){this.type="cat";})();a.o4b=new (function(){this.type="cat";})();a.q4b=new (function(){this.type="cat";})();a.r4b=new (function(){this.type="cat";})();a.s4b=new (function(){this.type="cat";})();a.p4b=new (function(){this.type="cat";})();a.SIb=new (function(){this.update=function(d){for(var f in d.Sb){if("becauseYouAdded" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.TIb=new (function(){this.update=function(d){for(var f in d.Sb){if("becauseYouLiked" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.WIb=new (function(){this.update=function(d){for(var f in d.Sb){if("billboard" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.vMb=new (function(){this.update=function(d){for(var f in d.Sb){if("continueWatching" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.VIb=new (function(){this.update=function(d){for(var f in d.Sb){if("bigRow" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.gWb=new (function(){this.update=function(d){for(var f in d.Sb){if("genre" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.v7b=new (function(){this.update=function(d){for(var f in d.Sb){if("netflixOriginals" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.y7b=new (function(){this.update=function(d){for(var f in d.Sb){if("newRelease" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.xac=new (function(){this.update=function(d){for(var f in d.Sb){if("popularTitles" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.tu=new (function(){this.update=function(d){for(var f in d.Sb){if("queue" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.zcc=new (function(){this.update=function(d){for(var f in d.Sb){if("recentlyAdded" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.ihc=new (function(){this.update=function(d){for(var f in d.Sb){if("similars" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.bkc=new (function(){this.update=function(d){for(var f in d.Sb){if("trendingNow" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.wkc=new (function(){this.update=function(d){for(var f in d.Sb){if("ultraHD" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Amc=new (function(){this.update=function(d){for(var f in d.Sb){if("watchAgain" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Ojc=new (function(){this.update=function(d){for(var f in d.Sb){if("topTen" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.FMb=new (function(){this.type="cat";})();a.GMb=new (function(){this.type="cat";})();a.HMb=new (function(){this.type="cat";})();a.IMb=new (function(){this.type="cat";})();a.JMb=new (function(){this.type="cat";})();a.KMb=new (function(){this.type="cat";})();a.LMb=new (function(){this.type="cat";})();a.MMb=new (function(){this.type="cat";})();a.NMb=new (function(){this.type="cat";})();a.OMb=new (function(){this.type="cat";})();a.PMb=new (function(){this.type="cat";})();a.QMb=new (function(){this.type="cat";})();a.RMb=new (function(){this.type="cat";})();a.SMb=new (function(){this.type="cat";})();a.TMb=new (function(){this.type="cat";})();a.UMb=new (function(){this.type="cat";})();a.VMb=new (function(){this.type="cat";})();a.WMb=new (function(){this.type="cat";})();a.XMb=new (function(){this.type="cat";})();a.YMb=new (function(){this.type="cat";})();a.ZMb=new (function(){this.type="cat";})();a.$Mb=new (function(){this.type="cat";})();a.aNb=new (function(){this.type="cat";})();a.bNb=new (function(){this.type="cat";})();a.cNb=new (function(){this.type="cat";})();a.dNb=new (function(){this.type="cat";})();a.eNb=new (function(){this.type="cat";})();a.fNb=new (function(){this.type="cat";})();a.gNb=new (function(){this.type="cat";})();a.hNb=new (function(){this.type="cat";})();a.iNb=new (function(){this.type="cat";})();a.jNb=new (function(){this.type="cat";})();a.kNb=new (function(){this.type="cat";})();a.lNb=new (function(){this.type="cat";})();a.mNb=new (function(){this.type="cat";})();a.nNb=new (function(){this.type="cat";})();a.oNb=new (function(){this.type="cat";})();a.pNb=new (function(){this.type="cat";})();a.qNb=new (function(){this.type="cat";})();a.rNb=new (function(){this.type="cat";})();a.sNb=new (function(){this.type="cat";})();a.tNb=new (function(){this.type="cat";})();a.uNb=new (function(){this.type="cat";})();a.vNb=new (function(){this.type="cat";})();a.wNb=new (function(){this.type="cat";})();a.xNb=new (function(){this.type="cat";})();a.yNb=new (function(){this.type="cat";})();a.zNb=new (function(){this.type="cat";})();a.ANb=new (function(){this.type="cat";})();a.BNb=new (function(){this.type="cat";})();a.CNb=new (function(){this.type="cat";})();a.DNb=new (function(){this.type="cat";})();a.ENb=new (function(){this.type="cat";})();a.FNb=new (function(){this.type="cat";})();a.GNb=new (function(){this.type="cat";})();a.HNb=new (function(){this.type="cat";})();a.INb=new (function(){this.type="cat";})();a.JNb=new (function(){this.type="cat";})();a.KNb=new (function(){this.type="cat";})();a.LNb=new (function(){this.type="cat";})();a.MNb=new (function(){this.type="cat";})();a.NNb=new (function(){this.type="cat";})();a.ONb=new (function(){this.type="cat";})();a.PNb=new (function(){this.type="cat";})();a.QNb=new (function(){this.type="cat";})();a.RNb=new (function(){this.type="cat";})();a.SNb=new (function(){this.type="cat";})();a.TNb=new (function(){this.type="cat";})();a.UNb=new (function(){this.type="cat";})();a.VNb=new (function(){this.type="cat";})();a.WNb=new (function(){this.type="cat";})();a.XNb=new (function(){this.type="cat";})();a.YNb=new (function(){this.type="cat";})();a.ZNb=new (function(){this.type="cat";})();a.$Nb=new (function(){this.type="cat";})();a.aOb=new (function(){this.type="cat";})();a.bOb=new (function(){this.type="cat";})();a.cOb=new (function(){this.type="cat";})();a.dOb=new (function(){this.type="cat";})();a.Ccc=new (function(){this.type="cat";})();a.Dcc=new (function(){this.type="cat";})();a.Ecc=new (function(){this.type="cat";})();a.Fcc=new (function(){this.type="cat";})();a.Gcc=new (function(){this.type="cat";})();a.Hcc=new (function(){this.type="cat";})();a.Icc=new (function(){this.type="cat";})();a.Jcc=new (function(){this.type="cat";})();a.Kcc=new (function(){this.type="cat";})();a.Lcc=new (function(){this.type="cat";})();a.Mcc=new (function(){this.type="cat";})();a.Ncc=new (function(){this.type="cat";})();a.Occ=new (function(){this.type="cat";})();a.Pcc=new (function(){this.type="cat";})();a.Qcc=new (function(){this.type="cat";})();a.Rcc=new (function(){this.type="cat";})();a.Scc=new (function(){this.type="cat";})();a.Tcc=new (function(){this.type="cat";})();a.Ucc=new (function(){this.type="cat";})();a.Vcc=new (function(){this.type="cat";})();a.Wcc=new (function(){this.type="cat";})();a.Xcc=new (function(){this.type="cat";})();a.Ycc=new (function(){this.type="cat";})();a.Cic=new (function(){this.update=function(d){"down" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.Eic=new (function(){this.update=function(d){"right" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.Dic=new (function(){this.update=function(d){"left" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.Fic=new (function(){this.update=function(d){"up" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.f6b=new (function(){this.Va=0;this.update=function(d){this.Va=Math.max(this.Va,d.rowIndex);};this.type="num";})();a.g6b=new (function(){this.Va=0;this.update=function(d){this.Va=Math.max(this.Va,d.d3a);};this.type="num";})();a.j6b=new (function(){this.VH=this.Va=0;this.update=function(d){this.VH++;this.Va=1 * (this.Va + d.rowIndex) / this.VH;};this.type="num";})();a.k6b=new (function(){this.VH=this.Va=0;this.update=function(d){this.VH++;return this.Va=1 * (this.Va + d.d3a) / this.VH;};this.type="num";})();a.fbc=new (function(){this.type="num";})();a.gbc=new (function(){this.type="num";})();l.prototype.BG=function(d){return this.UZa(this.V["0"].elb(d),d);};l.prototype.UZa=function(d,f){return "string" == typeof d?this.UZa(this.V[d].elb(f),f):d;};c.prototype.elb=function(d){switch(this.m3b){case 0:switch(d.features[this.K2].type){case "cat":return null === d.features[this.K2].value?this.cgb:"missing" == d.features[this.K2].value?this.rAa:this.brb;case "num":return null === d.features[this.K2].value?this.rAa:d.features[this.K2].value < this.split?this.brb:this.cgb;default:return this.rAa;}case 1:return this.BG;default:return this.BG;}};b.declare({O_:["modelSelector","modelone"],OLb:["colEpisodeList",5],C0b:["holdDuration",15E3],Qkb:["rowFirst",2],c3a:["colFirst",5],Rkb:["rowScroll",2],e3a:["colScroll",6],Dec:["rowScrollHorizontal",6],cfc:["searchTop",3],I4a:["cwFirst",2],rZ:["horizontalItemsFocusedMode",3],o3b:["itemsPerRank",1],V5b:["maxNumberPayloadsStored",10],Feb:["maxNumberTitlesScheduled",5],uuc:["enableDetailedLogging",!0],txc:["rowStep",20],Ftc:["colStep",15],Swc:["pageRows",100],Rwc:["pageColumns",75],Hza:["maskParamsList",new (function(){var d,f;this.Hza=[];this.bn={};this.Dfa=20;this.v9=15;for(d=0;100 > d;d++){for(f=0;75 > f;f++){(Math.floor(d / this.Dfa) + "_" + Math.floor(f / this.v9) in this.bn) || (this.bn[Math.floor(d / this.Dfa) + "_" + Math.floor(f / this.v9)]=1,this.Hza.push(new g("grid",10,5,5,Math.floor(d / this.Dfa),Math.floor(f / this.v9))));}}})().Hza],V:["nodes",new l().V],mapping:["mapping",{g6b:"0",k6b:"1",f6b:"2",j6b:"3",fIb:"4",Fic:"5",Dic:"6",Eic:"7",Cic:"8",gbc:"9",fbc:"10",d4b:"11",e4b:"12",g4b:"13",h4b:"14",f4b:"15",i4b:"16",j4b:"17",k4b:"18",l4b:"19",m4b:"20",n4b:"21",o4b:"22",p4b:"23",q4b:"24",r4b:"25",s4b:"26",Ccc:"27",Dcc:"28",Ecc:"29",Fcc:"30",Gcc:"31",Hcc:"32",Icc:"33",Jcc:"34",Kcc:"35",Lcc:"36",Mcc:"37",Ncc:"38",Occ:"39",Pcc:"40",Qcc:"41",Rcc:"42",Scc:"43",Tcc:"44",Ucc:"45",Vcc:"46",Wcc:"47",Xcc:"48",Ycc:"49",FMb:"50",GMb:"51",HMb:"52",IMb:"53",JMb:"54",KMb:"55",LMb:"56",MMb:"57",NMb:"58",OMb:"59",PMb:"60",QMb:"61",RMb:"62",SMb:"63",TMb:"64",UMb:"65",VMb:"66",WMb:"67",XMb:"68",YMb:"69",ZMb:"70",$Mb:"71",aNb:"72",bNb:"73",cNb:"74",dNb:"75",eNb:"76",fNb:"77",gNb:"78",hNb:"79",iNb:"80",jNb:"81",kNb:"82",lNb:"83",mNb:"84",nNb:"85",oNb:"86",pNb:"87",qNb:"88",rNb:"89",sNb:"90",tNb:"91",uNb:"92",vNb:"93",wNb:"94",xNb:"95",yNb:"96",zNb:"97",ANb:"98",BNb:"99",CNb:"100",DNb:"101",ENb:"102",FNb:"103",GNb:"104",HNb:"105",INb:"106",JNb:"107",KNb:"108",LNb:"109",MNb:"110",NNb:"111",ONb:"112",PNb:"113",QNb:"114",RNb:"115",SNb:"116",TNb:"117",UNb:"118",VNb:"119",WNb:"120",XNb:"121",YNb:"122",ZNb:"123",$Nb:"124",aOb:"125",bOb:"126",cOb:"127",dOb:"128",Amc:"129",zcc:"130",ihc:"131",tu:"132",vMb:"133",gWb:"134",bkc:"135",Ojc:"136",WIb:"137",y7b:"138",wkc:"139",xac:"140",SIb:"141",VIb:"142",TIb:"143",v7b:"144"}],features:["features",a],Csc:["_modelName","tree"],xsc:["_format","xgboost"],Bsc:["_itemsToKeep",5],Asc:["_itemsThreshold",null],mtc:["cacheLimit",20]});r.exports={config:b,$vc:g,Otc:c};},function(r,b,a){r.exports=a(606);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(607);a(608)();a(635)();mb._cad_global={};mb.DEBUG=!1;a(17);a(14);a(15);a(23);a(44);a(95);a(1446);a(600);a(59);a(62);a(22);a(70);a(58);a(1447);a(308);a(367);a(1448);a(579);a(1449);a(576);a(583);a(581);a(582);a(570);a(571);a(573);a(304);a(303);a(1450);a(19);a(589);a(1451);a(212);a(107);a(577);a(206);a(539);a(540);a(538);a(1452);a(1453);a(537);a(1454);a(529);a(306);a(527);a(305);a(569);a(1455);a(307);a(585);a(209);a(601);a(167);a(1457);a(140);a(1464);a(1465);a(1467);a(1469);a(584);a(65);a(580);a(506);a(578);a(587);a(1470);a(314);a(141);a(1471);a(1472);a(1473);a(1475);a(1476);a(574);},function(r,b,a){(function(c){var l;(function(g){var G,F,L,O,K,I,M,H,J;function m(N,P,W){var V;V=J.get(N);if(!V){if(!W)return;V=new M();J.set(N,V);}N=V.get(P);if(!N){if(!W)return;N=new M();V.set(P,N);}return N;}function d(N,P,W){if(f(N,P,W))return !0;P=u(P);return null !== P?d(N,P,W):!1;}function f(N,P,W){P=m(P,W,!1);return void 0 !== P && !!P.has(N);}function h(N,P,W){if(f(N,P,W))return k(N,P,W);P=u(P);return null !== P?h(N,P,W):void 0;}function k(N,P,W){P=m(P,W,!1);return void 0 === P?void 0:P.get(N);}function n(N,P){var W,S;W=p(N,P);N=u(N);if(null === N)return W;P=n(N,P);if(0 >= P.length)return W;if(0 >= W.length)return P;N=new H();for(var V=0;V < W.length;V++){S=W[V];N.add(S);}for(W=0;W < P.length;W++){S=P[W];N.add(S);}return z(N);}function p(N,P){var W;N=m(N,P,!1);W=[];N && y(N,function(V,S){return W.push(S);});return W;}function q(N){return void 0 === N;}function v(N){return Array.isArray?Array.isArray(N):N instanceof Array || "[object Array]" === Object.prototype.toString.call(N);}function t(N){return "object" === typeof N?null !== N:"function" === typeof N;}function w(N){return "symbol" === typeof N?N:String(N);}function u(N){var P,W;P=Object.getPrototypeOf(N);if("function" !== typeof N || N === I || P !== I)return P;W=N.prototype;W=W && Object.getPrototypeOf(W);if(null == W || W === Object.prototype)return P;W=W.constructor;return "function" !== typeof W || W === N?P:W;}function x(N){N=N.next();return N.done?void 0:N;}function y(N,P,W){var V,S,U;V=N.entries;if("function" === typeof V){V=V.call(N);try{for(;S=x(V);){U=S.value;P.call(W,U[1],U[0],N);}}finally{S && (N=V["return"]) && N.call(V);}}else (V=N.forEach,"function" === typeof V && V.call(N,P,W));}function z(N){var P;P=[];y(N,function(W,V){P.push(V);});return P;}function B(N,P,W){var V;V=0;return {next:function(){var S;if((N || P) && V < (N || P).length){S=V++;switch(W){case "key":return {value:N[S],done:!1};case "value":return {value:P[S],done:!1};case "key+value":return {value:[N[S],P[S]],done:!1};}}P=N=void 0;return {value:void 0,done:!0};},"throw":function(S){if(N || P)P=N=void 0;throw S;},"return":function(S){if(N || P)P=N=void 0;return {value:S,done:!0};}};}function A(){var N;N={};return (function(){function P(){this.Kf=[];this.mg=[];this.Ax=N;this.hv=-2;}Object.defineProperty(P.prototype,"size",{get:function(){return this.Kf.length;},enumerable:!0,configurable:!0});P.prototype.has=function(W){return 0 <= this.xA(W,!1);};P.prototype.get=function(W){W=this.xA(W,!1);return 0 <= W?this.mg[W]:void 0;};P.prototype.set=function(W,V){W=this.xA(W,!0);this.mg[W]=V;return this;};P.prototype.delete=function(W){var V;V=this.xA(W,!1);if(0 <= V){W=this.Kf.length;for(V+=1;V < W;V++){this.Kf[V - 1]=this.Kf[V];this.mg[V - 1]=this.mg[V];}this.Kf.length--;this.mg.length--;this.Ax=N;this.hv=-2;return !0;}return !1;};P.prototype.clear=function(){this.Kf.length=0;this.mg.length=0;this.Ax=N;this.hv=-2;};P.prototype.keys=function(){return B(this.Kf,void 0,"key");};P.prototype.values=function(){return B(void 0,this.mg,"value");};P.prototype.entries=function(){return B(this.Kf,this.mg,"key+value");};P.prototype.xA=function(W,V){var S;if(this.Ax === W)return this.hv;S=this.Kf.indexOf(W);0 > S && V && (S=this.Kf.length,this.Kf.push(W),this.mg.push(void 0));return (this.Ax=W,this.hv=S);};return P;})();}function C(){return (function(){function N(){this.Gg=new M();}Object.defineProperty(N.prototype,"size",{get:function(){return this.Gg.size;},enumerable:!0,configurable:!0});N.prototype.has=function(P){return this.Gg.has(P);};N.prototype.add=function(P){return (this.Gg.set(P,P),this);};N.prototype.delete=function(P){return this.Gg.delete(P);};N.prototype.clear=function(){this.Gg.clear();};N.prototype.keys=function(){return this.Gg.keys();};N.prototype.values=function(){return this.Gg.values();};N.prototype.entries=function(){return this.Gg.entries();};return N;})();}function D(){var V,S;function N(U,fa){for(var qa=0;qa < fa;++qa){U[qa]=255 * Math.random() | 0;}return U;}function P(){var U,xa;do {U="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):N(new Uint8Array(16),16):N(Array(16),16);U[6]=U[6] & 79 | 64;U[8]=U[8] & 191 | 128;for(var fa="",qa=0;16 > qa;++qa){xa=U[qa];if(4 === qa || 6 === qa || 8 === qa)fa+="-";16 > xa && (fa+="0");fa+=xa.toString(16).toLowerCase();}U="@@WeakMap@@" + fa;}while(K.has(V,U));V[U]=!0;return U;}function W(U,fa){if(!G.call(U,S)){if(!fa)return;Object.defineProperty(U,S,{value:O()});}return U[S];}V=O();S=P();return (function(){function U(){this.sv=P();}U.prototype.has=function(fa){fa=W(fa,!1);return void 0 !== fa?K.has(fa,this.sv):!1;};U.prototype.get=function(fa){fa=W(fa,!1);return void 0 !== fa?K.get(fa,this.sv):void 0;};U.prototype.set=function(fa,qa){W(fa,!0)[this.sv]=qa;return this;};U.prototype.delete=function(fa){fa=W(fa,!1);return void 0 !== fa?delete fa[this.sv]:!1;};U.prototype.clear=function(){this.sv=P();};return U;})();}function E(N){N.tsc=1;delete N.usc;return N;}G=Object.prototype.hasOwnProperty;F="function" === typeof Object.create;L=(function(){var P;function N(){}P={};N.prototype=P;return new N().__proto__ === P;})();O=F?function(){return E(Object.create(null));}:L?function(){return E({__proto__:null});}:function(){return E({});};(function(N){var P;P=!F && !L;N.has=P?function(W,V){return G.call(W,V);}:function(W,V){return (V in W);};N.get=P?function(W,V){return G.call(W,V)?W[V]:void 0;}:function(W,V){return W[V];};})(K || (K={}));I=Object.getPrototypeOf(Function);M="function" === typeof Map?Map:A();H="function" === typeof Set?Set:C();J=new ("function" === typeof WeakMap?WeakMap:D())();g.RE=function(N,P,W,V){var U;if(q(V)){if(q(W)){if(!v(N))throw new TypeError();if("function" !== typeof P)throw new TypeError();for(W=N.length - 1;0 <= W;--W){if((V=(0,N[W])(P),!q(V))){if("function" !== typeof V)throw new TypeError();P=V;}}return P;}if(!v(N))throw new TypeError();if(!t(P))throw new TypeError();W=w(W);for(V=N.length - 1;0 <= V;--V){(0,N[V])(P,W);}}else {if(!v(N))throw new TypeError();if(!t(P))throw new TypeError();if(q(W))throw new TypeError();if(!t(V))throw new TypeError();W=w(W);for(var S=N.length - 1;0 <= S;--S){U=(0,N[S])(P,W,V);if(!q(U)){if(!t(U))throw new TypeError();V=U;}}return V;}};g.gd=function(N,P){return function(W,V){if(q(V)){if("function" !== typeof W)throw new TypeError();m(W,void 0,!0).set(N,P);}else {if(!t(W))throw new TypeError();V=w(V);m(W,V,!0).set(N,P);}};};g.b$=function(N,P,W,V){if(!t(W))throw new TypeError();q(V) || (V=w(V));m(W,V,!0).set(N,P);};g.$_b=function(N,P){var W;if(!t(P))throw new TypeError();q(W) || (W=w(W));return d(N,P,W);};g.Hwa=function(N,P){var W;if(!t(P))throw new TypeError();q(W) || (W=w(W));return f(N,P,W);};g.getMetadata=function(N,P,W){if(!t(P))throw new TypeError();q(W) || (W=w(W));return h(N,P,W);};g.d$a=function(N,P,W){if(!t(P))throw new TypeError();q(W) || (W=w(W));return k(N,P,W);};g.Zuc=function(N,P){if(!t(N))throw new TypeError();q(P) || (P=w(P));return n(N,P);};g.avc=function(N,P){if(!t(N))throw new TypeError();q(P) || (P=w(P));return p(N,P);};g.auc=function(N,P,W){var V;if(!t(P))throw new TypeError();q(W) || (W=w(W));V=m(P,W,!1);if(q(V) || !V.delete(N))return !1;if(0 < V.size)return !0;N=J.get(P);N.delete(W);if(0 < N.size)return !0;J.delete(P);return !0;};(function(N){if("undefined" !== typeof N.Reflect){if(N.Reflect !== g)for(var P in g){G.call(g,P) && (N.Reflect[P]=g[P]);}}else N.Reflect=g;})("undefined" !== typeof mb?mb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(l || (l={}));}).call(this,a(213));},function(r,b,a){var c,l;c=a(317);l=a(612);r.exports=function(){var g;g=l();c(Array.prototype,{includes:g},{includes:function(){return Array.prototype.includes !== g;}});return g;};},function(r,b,a){var c,l,g,m,d;c=Array.prototype.slice;l=a(318);g=Object.keys;m=g?function(f){return g(f);}:a(610);d=Object.keys;m.Rxc=function(){Object.keys?(function(){var f;f=Object.keys(arguments);return f && f.length === arguments.length;})(1,2) || (Object.keys=function(f){return l(f)?d(c.call(f)):d(f);}):Object.keys=m;return Object.keys || m;};r.exports=m;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;l=Object.prototype.toString;g=a(318);b=Object.prototype.propertyIsEnumerable;m=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");f=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");h=function(q){var v;v=q.constructor;return v && v.prototype === q;};k={Wmc:!0,Xmc:!0,Ymc:!0,Zmc:!0,$mc:!0,anc:!0,bnc:!0,cnc:!0,dnc:!0,fnc:!0,gnc:!0,hnc:!0,inc:!0,jnc:!0,knc:!0,lnc:!0,mnc:!0,nnc:!0,onc:!0,pnc:!0,qnc:!0,rnc:!0,snc:!0};n=(function(){if("undefined" === typeof mb)return !1;for(var q in mb){try{if(!k["$" + q] && c.call(mb,q) && null !== mb[q] && "object" === typeof mb[q])try{h(mb[q]);}catch(v){return !0;}}catch(v){return !0;}}return !1;})();p=function(q){var v,t,w,u,x,z;v=null !== q && "object" === typeof q;t="[object Function]" === l.call(q);w=g(q);u=v && "[object String]" === l.call(q);x=[];if(!v && !t && !w)throw new TypeError("Object.keys called on a non-object");v=d && t;if(u && 0 < q.length && !c.call(q,0))for(u=0;u < q.length;++u){x.push(String(u));}if(w && 0 < q.length)for(w=0;w < q.length;++w){x.push(String(w));}else for(var y in q){v && "prototype" === y || !c.call(q,y) || x.push(String(y));}if(m){if("undefined" !== typeof mb && n)try{z=h(q);}catch(B){z=!1;}else z=h(q);for(w=0;w < f.length;++w){z && "constructor" === f[w] || !c.call(q,f[w]) || x.push(f[w]);}}return x;};}r.exports=p;},function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var l;l=this;if("function" !== typeof l || "[object Function]" !== a.call(l))throw new TypeError("Function.prototype.bind called on incompatible " + l);for(var g=b.call(arguments,1),m,d=Math.max(0,l.length - g.length),f=[],h=0;h < d;h++){f.push("$" + h);}m=Function("binder","return function (" + f.join(",") + "){ return binder.apply(this,arguments); }")(function(){var k;if(this instanceof m){k=l.apply(this,g.concat(b.call(arguments)));return Object(k) === k?k:this;}return l.apply(c,g.concat(b.call(arguments)));});l.prototype && (d=function(){},d.prototype=l.prototype,m.prototype=new d(),d.prototype=null);return m;};},function(r,b,a){var c;c=a(613);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;c=a(322);l=a(628);g=a(630);m=a(633);d=a(142);f=a(324);b=a(40);h=a(122);k=a(634);n=h("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(v){var t,w,u;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(v) && f(t) && "undefined" !== typeof v)return -1 < p.apply(this,arguments);w=g(this);u=l(w.length);if(0 === u)return !1;for(t=0 <= t?t:q(0,u + t);t < u;){if(m(v,k(w)?n(w,t):w[t]))return !0;t+=1;}return !1;};},function(r,b,a){var c;c=a(40)("%Math.abs%");r.exports=function(l){return c(l);};},function(r,b,a){var c,l;c=a(96);l=Math.floor;r.exports=function(g){return "BigInt" === c(g)?g:l(g);};},function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w;c=a(40);l=c("%TypeError%");g=c("%Number%");b=c("%RegExp%");m=c("%parseInt%");c=a(122);d=a(619);f=a(621);h=c("String.prototype.slice");k=d(/^0b[01]+$/i);n=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);v=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=c("String.prototype.replace");w=a(622);r.exports=function y(x){var z;x=f(x)?x:w(x,g);if("symbol" === typeof x)throw new l("Cannot convert a Symbol value to a number");if("bigint" === typeof x)throw new l("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof x){if(k(x))return y(m(h(x,2),2));if(n(x))return y(m(h(x,2),8));if(q(x) || p(x))return NaN;z=t(x,v,"");if(z !== x)return y(z);}return g(x);};},function(r,b,a){var l,g,m,d,f,h,k;function c(){return d(l,g,arguments);}l=a(214);b=a(40);g=b("%Function.prototype.apply%");m=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || l.call(m,g);f=b("%Object.getOwnPropertyDescriptor%",!0);h=b("%Object.defineProperty%",!0);k=b("%Math.max%");if(h)try{h({},"a",{value:1});}catch(n){h=null;}r.exports=function(n){var p;p=d(l,m,arguments);f && h && f(p,"length").configurable && h(p,"length",{value:1 + k(0,n.length - (arguments.length - 1))});return p;};h?h(r.exports,"apply",{value:c}):r.exports.apply=c;},function(r,b,a){var c,l,g,m;b=a(122);c=a(40);l=a(620);g=b("RegExp.prototype.exec");m=c("%TypeError%");r.exports=function(d){if(!l(d))throw new m("`regex` must be a RegExp");return function(f){return null !== g(d,f);};};},function(r,b,a){var c,l,g,m,d,f,h;b=a(122);if(a=a(215)()){c=b("Object.prototype.hasOwnProperty");l=b("RegExp.prototype.exec");g={};m=function(){throw g;};d={toString:m,valueOf:m};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=m);}f=b("Object.prototype.toString");h=Object.getOwnPropertyDescriptor;r.exports=a?function(k){var n;if(!k || "object" !== typeof k)return !1;n=h(k,"lastIndex");if(!n || !c(n,"value"))return !1;try{l(k,d);}catch(p){return p === g;}}:function(k){return !k || "object" !== typeof k && "function" !== typeof k?!1:"[object RegExp]" === f(k);};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c;c=a(623);r.exports=function(l){return 1 < arguments.length?c(l,arguments[1]):c(l);};},function(r,b,a){var c,l,g,m,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;l=a(624);g=a(323);m=a(625);d=a(626);r.exports=function(f){var h,k,n;if(l(f))return f;h="default";1 < arguments.length && (arguments[1] === String?h="string":arguments[1] === Number && (h="number"));if(c)if(Symbol.toPrimitive){k=Symbol.toPrimitive;n=f[k];if(null !== n && "undefined" !== typeof n){if(!g(n))throw new TypeError(n + " returned for property " + k + " of object " + f + " is not a function");k=n;}else k=void 0;}else d(f) && (k=Symbol.prototype.valueOf);if("undefined" !== typeof k){h=k.call(f,h);if(l(h))return h;throw new TypeError("unable to convert exotic object to primitive");}"default" === h && (m(f) || d(f)) && (h="string");a:{h="default" === h?"number":h;if("undefined" === typeof f || null === f)throw new TypeError("Cannot call method on " + f);if("string" !== typeof h || "number" !== h && "string" !== h)throw new TypeError('hint must be "string" or "number"');h="string" === h?["toString","valueOf"]:["valueOf","toString"];for(k=0;k < h.length;++k){if((n=f[h[k]],g(n) && (n=n.call(f),l(n))))break a;}throw new TypeError("No default value");}return n;};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c,l,g;c=Date.prototype.getDay;l=Object.prototype.toString;g=a(215)();r.exports=function(m){if("object" !== typeof m || null === m)m=!1;else if(g)try{c.call(m);m=!0;}catch(d){m=!1;}else m="[object Date]" === l.call(m);return m;};},function(r,b,a){var c,l,g;c=Object.prototype.toString;if(a(320)()){l=Symbol.prototype.toString;g=/^Symbol\(.*\)$/;r.exports=function(m){if("symbol" === typeof m)return !0;if("[object Symbol]" !== c.call(m))return !1;try{return "symbol" !== typeof m.valueOf()?!1:g.test(l.call(m));}catch(d){return !1;}};}else r.exports=function(){return !1;};},function(r){r.exports=function(b){return 0 <= b?1:-1;};},function(r,b,a){var c,l;c=a(629);l=a(322);r.exports=function(g){g=l(g);return 0 >= g?0:g > c?c:g;};},function(r,b,a){a=a(40);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},function(r,b,a){var c,l;c=a(40)("%Object%");l=a(631);r.exports=function(g){l(g);return c(g);};},function(r,b,a){r.exports=a(632);},function(r,b,a){var c;c=a(40)("%TypeError%");r.exports=function(l,g){if(null == l)throw new c(g || "Cannot call method on " + l);return l;};},function(r,b,a){var c;c=a(142);r.exports=function(l,g){return l === g || c(l) && c(g);};},function(r,b,a){var c,l,g;c=String.prototype.valueOf;l=Object.prototype.toString;g=a(215)();r.exports=function(m){if("string" === typeof m)m=!0;else if("object" !== typeof m)m=!1;else if(g)try{c.call(m);m=!0;}catch(d){m=!1;}else m="[object String]" === l.call(m);return m;};},function(r,b,a){var c,l,g;c=a(216);l=a(636);g=a(317);r.exports=function(){var m;c();m=l();g(Promise.prototype,{"finally":m},{"finally":function(){return Promise.prototype["finally"] !== m;}});return m;};},function(r,b,a){var c,l;c=a(216);l=a(637);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:l;};},function(r,b,a){var d,f,h,k;function c(n){var p,q,v;if("Object" !== h(this))throw new TypeError("receiver is not an Object");p=f(this,k);q=n;v=n;d(n) && (q=g(p,n),v=l(p,n));return this.then(q,v);}function l(n,p){return function(q){var v;v=p();return m(n,v).then(function(){throw q;});};}function g(n,p){return function(q){var v;v=p();return m(n,v).then(function(){return q;});};}function m(n,p){return new n(function(q){q(p);});}a(216)();d=a(325);f=a(638);h=a(96);k=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},function(r,b,a){var c,l,g,m;b=a(40);c=b("%Symbol.species%",!0);l=b("%TypeError%");g=a(639);m=a(96);r.exports=function(d,f){if("Object" !== m(d))throw new l("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return f;if("Object" !== m(d))throw new l("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return f;if(g(d))return d;throw new l("no constructor found");};},function(r,b,a){var c,l,g;c=a(640)("%Reflect.construct%",!0);b=a(641);try{b({},"",{"[[Get]]":function(){}});}catch(m){b=null;}if(b && c){l={};g={};b(g,"length",{"[[Get]]":function(){throw l;},"[[Enumerable]]":!0});r.exports=function(m){try{c(m,g);}catch(d){return d === l;}};}else r.exports=function(m){return "function" === typeof m && !!m.prototype;};},function(r,b,a){r.exports=a(40);},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;c=a(40)("%TypeError%");l=a(642);g=a(643);m=a(645);d=a(648);f=a(649);h=a(650);k=a(651);n=a(652);p=a(96);r.exports=function(q,v,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!h(v))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=l({tWa:p,mOa:f,lOa:d},t)?t:n(t);if(!l({tWa:p,mOa:f,lOa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return g(f,k,m,q,v,t);};},function(r,b,a){var c,l;b=a(40);c=a(108);l=b("%TypeError%");r.exports=function(g,m){var d,f;if("Object" !== g.tWa(m))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(f in m){if(c(m,f) && !d[f])return !1;}if(g.mOa(m) && g.lOa(m))throw new l("Property Descriptors may not be both accessor and data descriptors");return !0;};},function(r,b,a){var c,l,g,m,d;b=a(319);c=a(40);l=b() && c("%Object.defineProperty%",!0);g=b.Q_b();m=g && a(644);d=a(122)("Object.prototype.propertyIsEnumerable");r.exports=function(f,h,k,n,p,q){if(!l){if(!f(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in n) && d(n,p) !== !!q["[[Enumerable]]"])return !1;f=q["[[Value]]"];n[p]=f;return h(n[p],f);}if(g && "length" === p && ("[[Value]]" in q) && m(n) && n.length !== q["[[Value]]"])return (n.length=q["[[Value]]"],n.length === q["[[Value]]"]);l(n,p,k(q));return !0;};},function(r,b,a){var c;b=a(40)("%Array%");c=!b.isArray && a(122)("Object.prototype.toString");r.exports=b.isArray || (function(l){return "[object Array]" === c(l);});},function(r,b,a){var c,l,g;c=a(217);l=a(647);g=a(96);r.exports=function(m){"undefined" !== typeof m && c(g,"Property Descriptor","Desc",m);return l(m);};},function(r,b,a){var c;c=a(108);r.exports=function(l){return c(l,"[[StartIndex]]") && c(l,"[[EndIndex]]") && 0 <= l["[[StartIndex]]"] && l["[[EndIndex]]"] >= l["[[StartIndex]]"] && String(parseInt(l["[[StartIndex]]"],10)) === String(l["[[StartIndex]]"]) && String(parseInt(l["[[EndIndex]]"],10)) === String(l["[[EndIndex]]"]);};},function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},function(r,b,a){var c,l,g;c=a(108);l=a(217);g=a(96);r.exports=function(m){if("undefined" === typeof m)return !1;l(g,"Property Descriptor","Desc",m);return c(m,"[[Get]]") || c(m,"[[Set]]")?!0:!1;};},function(r,b,a){var c,l,g;c=a(108);l=a(217);g=a(96);r.exports=function(m){if("undefined" === typeof m)return !1;l(g,"Property Descriptor","Desc",m);return c(m,"[[Value]]") || c(m,"[[Writable]]")?!0:!1;};},function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},function(r,b,a){var c;c=a(142);r.exports=function(l,g){return l === g?0 === l?1 / l === 1 / g:!0:c(l) && c(g);};},function(r,b,a){var c,l,g,m,d;c=a(108);l=a(40)("%TypeError%");g=a(96);m=a(653);d=a(325);r.exports=function(f){var h,k;if("Object" !== g(f))throw new l("ToPropertyDescriptor requires an object");h={};c(f,"enumerable") && (h["[[Enumerable]]"]=m(f.enumerable));c(f,"configurable") && (h["[[Configurable]]"]=m(f.configurable));c(f,"value") && (h["[[Value]]"]=f.value);c(f,"writable") && (h["[[Writable]]"]=m(f.writable));if(c(f,"get")){k=f.get;if("undefined" !== typeof k && !d(k))throw new l("getter must be a function");h["[[Get]]"]=k;}if(c(f,"set")){f=f.set;if("undefined" !== typeof f && !d(f))throw new l("setter must be a function");h["[[Set]]"]=f;}if((c(h,"[[Get]]") || c(h,"[[Set]]")) && (c(h,"[[Value]]") || c(h,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return h;};},function(r){r.exports=function(b){return !!b;};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v;c=this && this.__awaiter || (function(t,w,u,x){return new (u || (u=Promise))(function(y,z){function B(D){try{C(x.next(D));}catch(E){z(E);}}function A(D){try{C(x["throw"](D));}catch(E){z(E);}}function C(D){D.done?y(D.value):new u(function(E){E(D.value);}).then(B,A);}C((x=x.apply(t,w || [])).next());});});l=this && this.__generator || (function(t,w){var y,z,B,A,C;function u(D){return function(E){return x([D,E]);};}function x(D){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,B && (A=B[D[0] & 2?"return":D[0]?"throw":"next"]) && !(A=A.call(B,D[1])).done))return A;if((B=0,A))D=[0,A.value];switch(D[0]){case 0:case 1:A=D;break;case 4:return (y.label++,{value:D[1],done:!1});case 5:y.label++;B=D[1];D=[0];continue;case 7:D=y.TK.pop();y.$q.pop();continue;default:if(!(A=y.$q,A=0 < A.length && A[A.length - 1]) && (6 === D[0] || 2 === D[0])){y=0;continue;}if(3 === D[0] && (!A || D[1] > A[0] && D[1] < A[3]))y.label=D[1];else if(6 === D[0] && y.label < A[1])(y.label=A[1],A=D);else if(A && y.label < A[2])(y.label=A[2],y.TK.push(D));else {A[2] && y.TK.pop();y.$q.pop();continue;}}D=w.call(t,y);}catch(E){D=[6,E];B=0;}finally{z=A=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}y={label:0,ub:function(){if(A[0] & 1)throw A[1];return A[1];},$q:[],TK:[]};return (C={next:u(0),"throw":u(1),"return":u(2)},"function" === typeof Symbol && (C[Symbol.iterator]=function(){return this;}),C);});Object.defineProperty(b,"__esModule",{value:!0});g=a(655);m=a(55);d=a(79);a(41);f=a(326);h=a(656);k=a(663);n=a(665);p=a(109);q=a(143);a(668);v=a(669);r=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + m.Xsb);if(void 0 === w.hJ)w.hJ=d.Wu.d6;else if(w.hJ !== d.Wu.Sla && w.hJ !== d.Wu.d6 && w.hJ !== d.Wu.Request)throw Error("" + m.Vsb);if(void 0 === w.RW)w.RW=!1;else if("boolean" !== typeof w.RW)throw Error("" + m.Usb);if(void 0 === w.GL)w.GL=!1;else if("boolean" !== typeof w.GL)throw Error("" + m.Wsb);this.options={RW:w.RW,hJ:w.hJ,GL:w.GL};this.id=p.id();this.SH=new v.iwb();this.REb=[];this.parent=this.Xna=null;this.ACb=new f.xka();}t.prototype.load=function(){var y,z;for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}u=this.dYa();for(var x=0;x < w.length;x++){y=w[x];z=u(y.id);y.gDa(z.v1a,z.$ob,z.Dcb,z.zjb);}};t.prototype.j_=function(){for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}c(this,void 0,void 0,function(){var x,y,z,B,A;return l(this,function(C){switch(C.label){case 0:(x=this.dYa(),y=0,z=w,C.label=1);case 1:if(!(y < z.length))return [3,4];B=z[y];A=x(B.id);return [4,B.gDa(A.v1a,A.$ob,A.Dcb,A.zjb)];case 2:(C.ub(),C.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};t.prototype.epb=function(){function w(z){return function(B){return B.zfb === z;};}for(var u=this,x=[],y=0;y < arguments.length;y++){x[y]=arguments[y];}x.forEach(function(z){z=w(z.id);u.SH.ndc(z);});};t.prototype.bind=function(w){var u;u=new g.hsb(w,this.options.hJ || d.Wu.d6);this.SH.add(w,u);return new n.jsb(u);};t.prototype.vcc=function(w){this.Zob(w);return this.bind(w);};t.prototype.Zob=function(w){try{this.SH.remove(w);}catch(u){throw Error(m.Fsb + " " + q.WP(w));}};t.prototype.Nbb=function(w){var u;u=this.SH.jab(w);!u && this.parent && (u=this.parent.Nbb(w));return u;};t.prototype.restore=function(){var w;w=this.REb.pop();if(void 0 === w)throw Error(m.Wwb);this.SH=w.UW;this.Xna=w.H6b;};t.prototype.mOb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.cYa(!1,!1,d.lA.jma,w);};t.prototype.getAll=function(w){return this.cYa(!0,!0,d.lA.jma,w);};t.prototype.resolve=function(w){var u;u=this.mOb();u.bind(w).vob();return u.get(w);};t.prototype.dYa=function(){var z;function w(B){return function(A){A=z.vcc.bind(z)(A);A.Mc.zfb=B;return A;};}function u(){return function(B){return z.Nbb.bind(z)(B);};}function x(){return function(B){z.Zob.bind(z)(B);};}function y(B){return function(A){A=z.bind.bind(z)(A);A.Mc.zfb=B;return A;};}z=this;return function(B){return {v1a:y(B),Dcb:u(B),zjb:w(B),$ob:x(B)};};};t.prototype.cYa=function(w,u,x,y){var z;z=null;w={HIb:w,uMb:function(B){return B;},M2b:u,key:void 0,Gh:y,Zic:x,value:void 0};if(this.Xna){if((z=this.Xna(w),void 0 === z || null === z))throw Error(m.Ovb);}else z=this.PDb()(w);return z;};t.prototype.PDb=function(){var w;w=this;return function(u){var x;x=h.tR(w.ACb,w,u.M2b,u.Zic,u.Gh,u.key,u.value,u.HIb);x=u.uMb(x);return k.resolve(x);};};return t;})();b.B3=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(79);l=a(109);r=(function(){function g(m,d){this.id=l.id();this.Xoa=!1;this.Gh=m;this.scope=d;this.type=c.Hk.$vb;this.bJ=function(){return !0;};this.iP=this.Ty=this.GC=this.BP=this.cache=this.$n=null;}g.prototype.clone=function(){var m;m=new g(this.Gh,this.scope);m.Xoa=!1;m.$n=this.$n;m.iP=this.iP;m.scope=this.scope;m.type=this.type;m.BP=this.BP;m.GC=this.GC;m.bJ=this.bJ;m.Ty=this.Ty;m.cache=this.cache;return m;};return g;})();b.hsb=r;},function(r,b,a){var d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B,A,C){var D,E;D=m(B.zb,C.Gh);E=[];D.length === d.xia.VQa && B.zb.options.RW && "function" === typeof C.Gh && y.P8a(C.Gh).n3a && (B.zb.bind(C.Gh).vob(),D=m(B.zb,C.Gh));E=z?D:D.filter(function(G){var F;F=new u.Request(G.Gh,B,A,G,C);return G.bJ(F);});l(C.Gh,E,C,B.zb);return E;}function l(y,z,B,A){switch(z.length){case d.xia.VQa:if(B.ecb())return z;y=p.WP(y);z=f.Uwb;z+=p.c4b(y,B);z+=p.wdb(A,y,m);throw Error(z);case d.xia.jxb:if(!B.isArray())return z;default:if(B.isArray())return z;y=p.WP(y);z=f.frb + " " + y;z+=p.wdb(A,y,m);throw Error(z);}}function g(y,z,B,A,C,D){var E;if(null === C){z=c(y,z,A,null,D);E=new u.Request(B,A,null,z,D);B=new t.kyb(A,E);A.CGb(B);}else (z=c(y,z,A,C,D),E=C.J_a(D.Gh,z,D));z.forEach(function(G){var F,L,O;F=null;if(D.isArray())F=E.J_a(G.Gh,G,D);else {if(G.cache)return;F=E;}if(G.type === h.Hk.Instance && null !== G.$n){L=w.eXb(y,G.$n);if(!A.zb.options.GL){O=w.CWb(y,G.$n);if(L.length < O)throw (G=f.hrb(w.getFunctionName(G.$n)),Error(G));}L.forEach(function(K){g(y,!1,K.Gh,A,F,K);});}});}function m(y,z){var B,A;B=[];A=y.SH;A.jab(z)?B=A.get(z):null !== y.parent && (B=m(y.parent,z));return B;}Object.defineProperty(b,"__esModule",{value:!0});d=a(657);f=a(55);h=a(79);k=a(41);n=a(327);p=a(143);q=a(658);v=a(68);t=a(659);w=a(660);u=a(662);x=a(329);b.Suc=function(y){return y.SH;};b.tR=function(y,z,B,A,C,D,E,G){void 0 === G && (G=!1);z=new q.mKa(z);B=new v.Metadata(B?k.vH:k.ZT,C);A=new x.b6(A,"",C,B);void 0 !== D && (D=new v.Metadata(D,E),A.gd.push(D));try{return (g(y,G,C,z,null,A),z);}catch(F){throw (n.rcb(F) && z.tR && p.kLb(z.tR.NDa),F);}};b.Jtc=function(y,z,B,A){B=new x.b6(h.lA.jma,"",z,new v.Metadata(B,A));y=new q.mKa(y);return new u.Request(z,y,null,[],B);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xia={fqc:2,VQa:0,jxb:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);r=(function(){function l(g){this.id=c.id();this.zb=g;}l.prototype.CGb=function(g){this.tR=g;};return l;})();b.mKa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kyb=(function(){return function(a,c){this.nR=a;this.NDa=c;};})();},function(r,b,a){var d,f,h,k,n,p;function c(q,v,t,w){var u,x,y,z,A,C,D,E,G,F,L,O;u=q.P8a(t);x=u.n3a;if(void 0 === x)throw Error(f.twb + " " + v + ".");u=u.Mlc;y=Object.keys(u);z=0 === t.length && 0 < y.length?y.length:t.length;y=[];for(var B=0;B < z;B++){A=B;C=w;D=v;E=x;G=u[A.toString()] || [];F=m(G);L=!0 !== F.Jp;E=E[A];O=F.l || F.KK;E=O?O:E;E instanceof d.Yja && (E=E.Fkc());if(L){L=E === Function;L=E === Object || L || void 0 === E;if(!C && L)throw Error(f.uwb + " argument " + A + " in class " + D + ".");A=new p.b6(h.lA.jKa,F.l2,E);A.gd=G;G=A;}else G=null;null !== G && y.push(G);}q=l(q,t);return y.concat(q);}function l(q,v){var y,z,B;for(var t=q.hZb(v),w=[],u=0,x=Object.keys(t);u < x.length;u++){y=x[u];z=t[y];B=m(t[y]);y=new p.b6(h.lA.YJa,B.l2 || y,B.l || B.KK);y.gd=z;w.push(y);}v=Object.getPrototypeOf(v.prototype).constructor;v !== Object && (q=l(q,v),w=w.concat(q));return w;}function g(q,v){var t,w;v=Object.getPrototypeOf(v.prototype).constructor;if(v !== Object){t=n.getFunctionName(v);t=c(q,t,v,!0);w=t.map(function(u){return u.gd.filter(function(x){return x.key === k.PU;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:g(q,v);}return 0;}function m(q){var v;v={};q.forEach(function(t){v[t.key.toString()]=t.value;});return {l:v[k.ZT],KK:v[k.vH],l2:v[k.i5],Jp:v[k.PU]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(328);f=a(55);h=a(79);k=a(41);n=a(143);b.getFunctionName=n.getFunctionName;p=a(329);b.eXb=function(q,v){var t;t=n.getFunctionName(v);return c(q,t,v,!1);};b.CWb=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.xS=c;}a.prototype.startsWith=function(c){return 0 === this.xS.indexOf(c);};a.prototype.endsWith=function(c){var l;l=c.split("").reverse().join("");c=this.xS.split("").reverse().join("");return this.startsWith.call({xS:c},l);};a.prototype.contains=function(c){return -1 !== this.xS.indexOf(c);};a.prototype.equals=function(c){return this.xS === c;};a.prototype.value=function(){return this.xS;};return a;})();b.vyb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);r=(function(){function l(g,m,d,f,h){this.id=c.id();this.Gh=g;this.nR=m;this.yC=d;this.target=h;this.kra=[];this.UW=Array.isArray(f)?f:[f];this.Wdc=null === d?new Map():null;}l.prototype.J_a=function(g,m,d){g=new l(g,this.nR,this,m,d);this.kra.push(g);return g;};return l;})();b.Request=r;},function(r,b,a){var g,m,d,f,h;function c(k){return function(n){var p,q,v,t,w;p=n.UW;q=n.kra;v=n.target && n.target.isArray();t=!n.yC || !n.yC.target || !n.target || !n.yC.target.J5b(n.target.Gh);if(v && t)return q.map(function(u){return c(k)(u);});v=null;if(!n.target.ecb() || 0 !== p.length){w=p[0];p=w.scope === m.Wu.Sla;t=w.scope === m.Wu.Request;if(p && w.Xoa)return w.cache;if(t && null !== k && k.has(w.id))return k.get(w.id);if(w.type === m.Hk.hKa)v=w.cache;else if(w.type === m.Hk.Function)v=w.cache;else if(w.type === m.Hk.iKa)v=w.$n;else if(w.type === m.Hk.uLa && null !== w.iP)v=l("toDynamicValue",w.Gh,function(){return w.iP(n.nR);});else if(w.type === m.Hk.sja && null !== w.BP)v=l("toFactory",w.Gh,function(){return w.BP(n.nR);});else if(w.type === m.Hk.cUa && null !== w.GC)v=l("toProvider",w.Gh,function(){return w.GC(n.nR);});else if(w.type === m.Hk.Instance && null !== w.$n)v=h.kec(w.$n,q,c(k));else throw (q=f.WP(n.Gh),Error(g.Kvb + " " + q));"function" === typeof w.Ty && (v=w.Ty(n.nR,v));p && (w.cache=v,w.Xoa=!0);t && null !== k && !k.has(w.id) && k.set(w.id,v);return v;}};}function l(k,n,p){try{return p();}catch(q){if(d.rcb(q))throw Error(g.Jsb(k,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);m=a(79);d=a(327);f=a(143);h=a(664);b.resolve=function(k){return c(k.tR.NDa.Wdc)(k.tR.NDa);};},function(r,b,a){var g,m,d;function c(f,h,k){var n;h=h.filter(function(p){return null !== p.target && p.target.type === m.lA.YJa;});n=h.map(k);h.forEach(function(p,q){p=p.target.name.value();f[p]=n[q];});return f;}function l(f,h){var k;if(Reflect.$_b(d.AU,f)){k=Reflect.getMetadata(d.AU,f);try{h[k.value]();}catch(n){throw Error(g.dyb(f.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);m=a(79);d=a(41);b.kec=function(f,h,k){var n;n=null;0 < h.length?(n=h.filter(function(p){return null !== p.target && p.target.type === m.lA.jKa;}).map(k),n=new (f.bind.apply(f,[void 0].concat(n)))(),n=c(n,h,k)):n=new f();l(f,n);return n;};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(79);g=a(666);m=a(330);r=(function(){function d(f){this.Mc=f;}d.prototype.to=function(f){this.Mc.type=l.Hk.Instance;this.Mc.$n=f;return new g.ZIa(this.Mc);};d.prototype.vob=function(){if("function" !== typeof this.Mc.Gh)throw Error("" + c.Qvb);this.to(this.Mc.Gh);};d.prototype.kn=function(f){this.Mc.type=l.Hk.hKa;this.Mc.cache=f;this.Mc.iP=null;this.Mc.$n=null;new m.cH(this.Mc);};d.prototype.PG=function(f){this.Mc.type=l.Hk.uLa;this.Mc.cache=null;this.Mc.iP=f;this.Mc.$n=null;return new g.ZIa(this.Mc);};d.prototype.Ijc=function(f){this.Mc.type=l.Hk.iKa;this.Mc.$n=f;new m.cH(this.Mc);};d.prototype.df=function(f){this.Mc.type=l.Hk.sja;this.Mc.BP=f;new m.cH(this.Mc);};d.prototype.Jjc=function(f){if("function" !== typeof f)throw Error(c.Nvb);this.kn(f);this.Mc.type=l.Hk.Function;};d.prototype.tob=function(f){this.Mc.type=l.Hk.sja;this.Mc.BP=function(h){return function(){return h.zb.get(f);};};new m.cH(this.Mc);};d.prototype.u2=function(f){this.Mc.type=l.Hk.cUa;this.Mc.GC=f;new m.cH(this.Mc);};d.prototype.Ljc=function(f){this.PG(function(h){return h.zb.get(f);});};return d;})();b.jsb=r;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(667);l=a(220);g=a(221);r=(function(){function m(d){this.Mc=d;this.XU=new g.yia(this.Mc);this.Ama=new l.t3(this.Mc);this.sXa=new c.isb(d);}m.prototype.la=function(){return this.sXa.la();};m.prototype.ixa=function(){return this.sXa.ixa();};m.prototype.when=function(d){return this.XU.when(d);};m.prototype.X2=function(){return this.XU.X2();};m.prototype.Ty=function(d){return this.Ama.Ty(d);};return m;})();b.ZIa=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(79);l=a(330);r=(function(){function g(m){this.Mc=m;}g.prototype.la=function(){this.Mc.scope=c.Wu.Sla;return new l.cH(this.Mc);};g.prototype.ixa=function(){this.Mc.scope=c.Wu.d6;return new l.cH(this.Mc);};return g;})();b.isb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.soc=(function(){function a(){}a.of=function(c,l){var g;g=new a();g.UW=c;g.H6b=l;return g;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);r=(function(){function l(){this.Gg=new Map();}l.prototype.add=function(g,m){var d;if(null === g || void 0 === g)throw Error(c.vU);if(null === m || void 0 === m)throw Error(c.vU);d=this.Gg.get(g);void 0 !== d?(d.push(m),this.Gg.set(g,d)):this.Gg.set(g,[m]);};l.prototype.get=function(g){if(null === g || void 0 === g)throw Error(c.vU);g=this.Gg.get(g);if(void 0 !== g)return g;throw Error(c.qOa);};l.prototype.remove=function(g){if(null === g || void 0 === g)throw Error(c.vU);if(!this.Gg.delete(g))throw Error(c.qOa);};l.prototype.ndc=function(g){var m;m=this;this.Gg.forEach(function(d,f){d=d.filter(function(h){return !g(h);});0 < d.length?m.Gg.set(f,d):m.Gg.delete(f);});};l.prototype.jab=function(g){if(null === g || void 0 === g)throw Error(c.vU);return this.Gg.has(g);};l.prototype.clone=function(){var g;g=new l();this.Gg.forEach(function(m,d){m.forEach(function(f){return g.add(d,f.clone());});});return g;};return l;})();b.iwb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);b.Gd=(function(){return function(l){this.id=c.id();this.gDa=l;};})();b.LIa=(function(){return function(l){this.id=c.id();this.gDa=l;};})();},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(41);b.$=function(){return function(g){var m;if(Reflect.Hwa(l.Kka,g))throw Error(c.bub);m=Reflect.getMetadata(l.ztb,g) || [];Reflect.b$(l.Kka,m,g);return g;};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(68);l=a(97);b.Pnb=function(g,m){return function(d,f,h){var k;k=new c.Metadata(g,m);"number" === typeof h?l.PL(d,f,h,k):l.k2(d,f,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(68);g=a(97);b.Ofb=function(m){return function(d,f,h){var k;k=new l.Metadata(c.CD,m);"number" === typeof h?g.PL(d,f,h,k):g.k2(d,f,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(68);g=a(97);b.optional=function(){return function(m,d,f){var h;h=new l.Metadata(c.fRa,!0);"number" === typeof f?g.PL(m,d,f,h):g.k2(m,d,h);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(68);g=a(97);b.Jp=function(){return function(m,d,f){var h;h=new l.Metadata(c.PU,!0);g.PL(m,d,f,h);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(68);g=a(97);b.KK=function(m){return function(d,f,h){var k;k=new l.Metadata(c.vH,m);"number" === typeof h?g.PL(d,f,h,k):g.k2(d,f,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(68);g=a(97);b.l2=function(m){return function(d,f,h){var k;k=new l.Metadata(c.i5,m);g.PL(d,f,h,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(41);g=a(68);b.sib=function(){return function(m,d){d=new g.Metadata(l.AU,d);if(Reflect.Hwa(l.AU,m.constructor))throw Error(c.Hwb);Reflect.b$(l.AU,d,m.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kfb=function(a){return function(c){return function(){for(var l=[],g=0;g < arguments.length;g++){l[g]=arguments[g];}return l.forEach(function(m){return a.bind(m).Ljc(c);});};};};},function(r,b,a){var d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C;function c(){}function l(D){this.Kd=D;}function g(D){var E;E=k.fla.call(this) || this;D.qQ?Object.assign(E,(0,x.v9a)(D)):D.aca?Object.assign(E,(0,u.h9a)(D)):D.bya?Object.assign(E,(0,w.a$a)()):D.$B || D.KZ?Object.assign(E,(0,t.Z8a)()):D.PZ?Object.assign(E,(0,x.t$a)(D)):Object.assign(E,(0,v.K8a)(D));return E;}function m(D){this.data=D.aca?(0,u.j9a)(D):D.bya?(0,w.c$a)(D):D.$B || D.KZ?(0,t.a9a)(D):D.PZ?(0,x.v$a)(D):(0,v.M8a)(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.Bsb=b.Asb=b.zsb=b.ysb=void 0;r=a(0);d=a(1);f=a(45);h=a(110);k=a(681);n=a(169);p=a(333);q=a(222);v=a(682);t=a(712);w=a(713);u=a(714);x=a(715);y=a(716);z=a(717);Va.Object.defineProperties(m.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},Cda:{configurable:!0,enumerable:!0,get:function(){return this.data.Cda;}},Kt:{configurable:!0,enumerable:!0,get:function(){return this.data.Kt;}},uq:{configurable:!0,enumerable:!0,get:function(){return this.data.uq;}},IP:{configurable:!0,enumerable:!0,get:function(){return this.data.IP;}},TE:{configurable:!0,enumerable:!0,get:function(){return this.data.TE;}},Msa:{configurable:!0,enumerable:!0,get:function(){return this.data.Msa;}},b5a:{configurable:!0,enumerable:!0,get:function(){return this.data.b5a;}},jza:{configurable:!0,enumerable:!0,get:function(){return this.data.jza;}},LX:{configurable:!0,enumerable:!0,get:function(){return this.data.LX;}},fqb:{configurable:!0,enumerable:!0,get:function(){return this.data.fqb;}},r8:{configurable:!0,enumerable:!0,get:function(){return this.data.r8;}}});B=m;B=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(n.eH))],B);b.ysb=B;la(g,k.fla);A=g;A=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(n.eH))],A);b.zsb=A;l.prototype.apply=function(){this.Kd.aca?Object.assign(this,(0,u.i9a)(this.Kd)):this.Kd.bya?Object.assign(this,(0,w.b$a)(this.Kd)):this.Kd.$B || this.Kd.KZ?Object.assign(this,(0,t.$8a)(this.Kd)):this.Kd.PZ?Object.assign(this,(0,x.u$a)(this.Kd)):Object.assign(this,(0,v.L8a)(this.Kd));return this;};C=l;C=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(n.eH))],C);b.Asb=C;c=r.__decorate([(0,d.$)()],c);b.Bsb=c;b.platform=new d.Gd(function(D){D(f.Rp).to(B).la();D(h.DH).to(A).la();D(p.HSa).to(C).la();D(f.y5).to(c).la();D(q.gla).df(function(E){return function(){var G;G=E.zb.get(n.eH);return G.$B || G.KZ?{mc:function(F,L,O){return new z.oma(F,L,O);},request:y.aXa}:G.PZ?{mc:function(F,L,O){return new (a(718))(F,L,O);},request:a(719)}:{};};});});},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.fla=void 0;c=a(5);l=a(52);g=a(42);m={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.fla=function(){this.yEa=!0;this.II=[];this.Bo=[];this.bu=[];this.mP=!1;this.lta=!0;this.Tw=[g.un.Ria,g.un.Oyb,g.un.KM,g.un.ANa];this.bo=void 0;this.sta=!0;this.y$=!1;this.E8=(0,l.ga)(288E4);this.I8=(0,l.ga)(335544320);this.jC=(0,c.$b)(15E3);this.R5b=(0,l.ga)(6291456);this.DQ=1E3;this.Rqa=!0;this.Qga=m;this.HS=(0,l.ga)(0);this.gQ=("ro zh-Hans zh-Hant ko vi ar he hi th en es").split(" ");this.Cca=["th"];this.Uga=(0,c.$b)(0);this.uZ=!0;this.oha=!1;this.pP=this.$za=this.maa=!0;this.fM=this.ZE=this.gy=!1;this.cJ=["start"];};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.L8a=b.K8a=b.M8a=void 0;c=a(26);l=a(42);g=a(123);m=a(144);b.M8a=function(d){return Object.assign(Object.assign({},(0,m.LP)()),{Kt:d.vcb?"T":d.JZ?"C":"M",uq:d.vcb?"NFCDTS-01-":d.Ey?"NFCDCH-02-":d.jK?"NFCDCH-MC-":d.JZ?"NFCDCH-01-":d.Tba?"NFCDCH-AP-":d.HZ?"NFCDCH-AT-":d.qQ?"NFCDCH-PH-":"NFCDCH-LX-",TE:d.JZ?"chromeos-cadmium":"chrome-cadmium"});};b.K8a=function(d){var f,h,k,n,p;f=(0,m.KP)();h=Object.assign(Object.assign({},f),{mP:!0,gy:!0,ZE:!0,fM:!0});k=[l.I.k4,l.I.i4,l.I.SU];n=[l.I.j4];if(d.Ey){p={minimumCores:5};h.Bo=[].concat(ia((0,g.$_).apply(null,[f.Bo].concat(ia(k)))),ia((0,g.Ti)([l.I.mD,l.I.nD].concat(ia(k),[l.I.kT,l.I.lT]),p)));h.bu=[].concat(ia((0,g.$_).apply(null,[f.bu].concat(ia(n)))),ia((0,g.Ti)([].concat(ia(n)),p)));}d.jK && (p={minimumCores:3},h.Bo=[].concat(ia((0,g.$_).apply(null,[f.Bo].concat(ia(k)))),ia((0,g.Ti)([l.I.mD,l.I.nD],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]})),ia((0,g.Ti)(k,p))),h.bu=[].concat(ia((0,g.$_).apply(null,[f.bu].concat(ia(n)))),ia((0,g.Ti)([].concat(ia(n)),p))));d.JZ && (h.Bo=(0,g.Ti)([].concat(ia(l.Qd.x3),ia(l.Qd.h3),ia(l.Qd.Oha),ia(l.Qd.Hia),ia(l.Qd.Iia),ia(l.Qd.Eia),ia(l.Qd.Fia))),h.bu=(0,g.Ti)([].concat(ia(l.Qd.g3),ia(l.Qd.Gia),ia(l.Qd.Dia))));return h;};b.L8a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.wn.qM,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= d.Pr && (f=Object.assign(Object.assign({},f),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.HZ && (f=Object.assign(Object.assign({},f),{enableFullHdForWidevineL1:!0}));d.JZ && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= d.Pr && (f=Object.assign(Object.assign({},f),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= d.Pr && d.Ey && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0}));if(d.Ey || d.jK)f=Object.assign(Object.assign({},f),{enableFullHdForWidevineL3:!0});d.Ey && 99 <= d.Pr && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var c;b=a(124);c=a(684);a=b(function(l,g,m){return c(function(d,f,h){return l(f,h);},g,m);});r.exports=a;},function(r,b,a){var c,l;b=a(124);c=a(334);l=a(685);a=b(function h(m,d,f){return l(function(k,n,p){return c(n) && c(p)?h(m,n,p):m(k,n,p);},d,f);});r.exports=a;},function(r,b,a){var c;b=a(124);c=a(223);a=b(function(l,g,m){var d,f;d={};for(f in g){c(f,g) && (d[f]=c(f,m)?l(f,g[f],m[f]):g[f]);}for(f in m){c(f,m) && !c(f,d) && (d[f]=m[f]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(335);c=a(695);a=a(705);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,l=a.length,g=[];c < l;){b(a[c]) && (g[g.length]=a[c]);c+=1;}return g;};},function(r,b,a){var c,l;b=a(125);c=a(337);l=a(690);a=b(function(g){return c(g)?!0:!g || "object" !== typeof g || l(g)?!1:1 === g.nodeType?!!g.length:0 === g.length?!0:0 < g.length?g.hasOwnProperty(0) && g.hasOwnProperty(g.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,l){return this.f(c,l);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(225);b=a(53)(function(l,g){return c(l.length,function(){return l.apply(g,arguments);});});r.exports=b;},function(r,b,a){var c,l;b=a(53);c=a(338);l=(function(){function g(m,d){this.c3=d;this.f=m;}g.prototype["@@transducer/init"]=c.oa;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(m,d){return this.f(d)?this.c3["@@transducer/step"](m,d):m;};return g;})();a=b(function(g,m){return new l(g,m);});r.exports=a;},function(r,b,a){var c,l;c=a(223);l=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === l.call(arguments)?function(g){return "[object Arguments]" === l.call(g);}:function(g){return c("callee",g);};};},function(r,b,a){var c;b=a(125);c=a(696);a=b(function(l){return c(function(){return Array.prototype.slice.call(arguments,0);},l);});r.exports=a;},function(r,b,a){var c,l,g,m,d;b=a(53);c=a(340);l=a(341);g=a(698);m=a(699);d=a(704);a=b(function(f,h){return l(d(g,0,m("length",h)),function(){var k,n;k=arguments;n=this;return f.apply(n,c(function(p){return p.apply(n,k);},h));});});r.exports=a;},function(r,b,a){var l,g;function c(m,d,f){return function(){var q;for(var h=[],k=0,n=m,p=0;p < d.length || k < arguments.length;){if(p < d.length && (!g(d[p]) || k >= arguments.length))q=d[p];else (q=arguments[k],k+=1);h[p]=q;g(q) || --n;p+=1;}return 0 >= n?f.apply(this,h):l(n,c(m,h,f));};}l=a(225);g=a(170);r.exports=c;},function(r,b,a){b=a(53)(function(c,l){return l > c?l:c;});r.exports=b;},function(r,b,a){var c,l;b=a(53);c=a(700);l=a(702);a=b(function(g,m){return c(l(g),m);});r.exports=a;},function(r,b,a){var c,l,g,m,d,f;b=a(53);c=a(336);l=a(340);g=a(224);m=a(701);d=a(341);f=a(339);a=b(c(["fantasy-land/map","map"],m,function(h,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return d(k.length,function(){return h.call(this,k.apply(this,arguments));});case "[object Object]":return g(function(n,p){n[p]=h(k[p]);return n;},{},f(k));default:return l(h,k);}}));r.exports=a;},function(r,b,a){var c,l;b=a(53);c=a(338);l=(function(){function g(m,d){this.c3=d;this.f=m;}g.prototype["@@transducer/init"]=c.oa;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(m,d){return this.c3["@@transducer/step"](m,this.f(d));};return g;})();a=b(function(g,m){return new l(g,m);});r.exports=a;},function(r,b,a){var c;b=a(53);c=a(703);a=b(function(l,g){return c([l],g);});r.exports=a;},function(r,b,a){b=a(53)(function(c,l){for(var g=0;g < c.length;){if(null == l)return;l=l[c[g]];g+=1;}return l;});r.exports=b;},function(r,b,a){b=a(124);a=a(224);a=b(a);r.exports=a;},function(r,b,a){var c,l;c=a(706);b=a(53);l=a(335);a=b(function(g,m){return l(c(g),m);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var c,l;c=a(708);b=a(124);l=a(709);a=b(function(g,m,d){return l(g,c(m,d));});r.exports=a;},function(r){r.exports=function(b,a){var c,l,g,m;b=b || [];a=a || [];l=b.length;g=a.length;m=[];for(c=0;c < l;){m[m.length]=b[c];c+=1;}for(c=0;c < g;){m[m.length]=a[c];c+=1;}return m;};},function(r,b,a){var c;c=a(342);b=a(53)(function(l,g){for(var m=0,d=g.length,f=[],h;m < d;){h=g[m];c(l,h,f) || (f[f.length]=h);m+=1;}return f;});r.exports=b;},function(r,b,a){b=a(53)(function(c,l){for(var g=[],m=0,d=l.length;m < d;){for(var f=m + 1;f < d && c(l[f - 1],l[f]);){f+=1;}g.push(l.slice(m,f));m=f;}return g;});r.exports=b;},function(r,b,a){var c;c=a(342);b=a(124)(function(l,g,m){for(var d=[],f=0,h=g.length;f < h;){c(l,g[f],m) || c(l,g[f],d) || d.push(g[f]);f+=1;}return d;});r.exports=b;},function(r,b,a){var l,g,m,d,f,h;function c(){var k,n,p;p=null === (k=mb.MSMediaKeys) || void 0 === k?void 0:k.isTypeSupported(g.yb.we,f.ce.jAa);k=p || (null === (n=mb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(g.yb.EH,f.ce.jAa));return {icb:p,hcb:k};}Object.defineProperty(b,"__esModule",{value:!0});b.$8a=b.qXb=b.Z8a=b.a9a=void 0;l=a(26);g=a(73);m=a(42);d=a(144);f=a(127);h=a(123);b.a9a=function(k){return Object.assign(Object.assign({},(0,d.LP)()),{Kt:k.$B?"D":"H",uq:k.$B?k.jK?"NFCDIE-04-":k.G2b?"NFCDIE-LX-":k.Tba?"NFCDIE-AP-":k.HZ?"NFCDIE-AT-":k.qQ?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",TE:"edge-cadmium",r8:!1});};b.Z8a=function(){var k,n,p;k=Object.assign(Object.assign({},(0,d.KP)()),{II:(0,h.Ti)([m.pe.lH,m.pe.mH,m.pe.HT,m.pe.IT]),Bo:(0,h.Ti)([].concat(ia(m.Qd.x3),ia(m.Qd.h3),ia(m.Qd.Oha),ia(m.Qd.Hia),ia(m.Qd.Iia),ia(m.Qd.Eia),ia(m.Qd.Fia),ia(m.Qd.xJa),ia(m.Qd.yJa),ia(m.Qd.zJa))),bu:(0,h.Ti)([].concat(ia(m.Qd.g3),ia(m.Qd.Gia),ia(m.Qd.Dia))),bo:void 0,uZ:!1});n=c();p=n.icb;n.hcb || (k.gy=!0,k.ZE=!0,k.fM=!0);k.cJ=p?[]:["start"];return k;};b.qXb=c;b.$8a=function(k){var n,p,q,v,t,w,u;n=k.KZ;p=k.$B;q=k.Ey;v=c();t=v.hcb;w=v.icb;v={nudgeSourceBuffer:!0,audioCapabilityDetectorType:l.dx.aA,videoCapabilityDetectorType:l.wn.aA,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:w?!1:!0,enableAdPlaygraphs:w?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};w={prepareCadmium:!0,enableLdlPrefetch:!t || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};u={audioCapabilityDetectorType:l.dx.Oz,videoCapabilityDetectorType:l.wn.qM,microsoftScreenSizeFilterEnabled:!1,keySystemList:[g.yb.n6],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,h.Ti)([m.pe.lH,m.pe.mH]),videoProfiles:(0,h.Ti)([m.I.jH,m.I.kH,m.I.e4,m.I.g4]),liveVideoProfiles:(0,h.Ti)([m.I.f4,m.I.h4]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};n && (14 <= k.Pr && (v=Object.assign(Object.assign(Object.assign({},v),w),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= k.Pr && (v=Object.assign(Object.assign({},v),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= k.Pr && (v=Object.assign(Object.assign({},v),{microsoftHwdrmRequiresHevc:!1})),17 <= k.Pr && (v=Object.assign(Object.assign({},v),{enableDDPlusAtmos:!0})));p && (v=Object.assign(Object.assign(Object.assign({},v),w),{useEncryptedEvent:!1}),q && (v=Object.assign(Object.assign({},v),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(v=Object.assign(Object.assign({},v),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[g.yb.hla,g.yb.OSa]}),94 === k.Pr && (v=Object.assign(Object.assign({},v),{enableHWDRM:!1})),102 <= k.Pr && (v=Object.assign(Object.assign({},v),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):v=Object.assign(Object.assign({},v),u));return v;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.b$a=b.a$a=b.c$a=void 0;c=a(26);l=a(144);b.c$a=function(g){return Object.assign(Object.assign({},(0,l.LP)()),{Kt:"O",uq:g.Tba?"NFCDOP-AP-":g.HZ?"NFCDOP-AT-":g.qQ?"NFCDOP-PH-":"NFCDOP-01-",TE:"opera-cadmium"});};b.a$a=function(){return Object.assign(Object.assign({},(0,l.KP)()),{mP:!0,gy:!0,ZE:!0,fM:!0});};b.b$a=function(g){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.wn.qM,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= g.Pr && (m=Object.assign(Object.assign({},m),{enableVP9:!0}));return m;};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.i9a=b.h9a=b.j9a=void 0;c=a(26);l=a(42);g=a(123);m=a(144);b.j9a=function(d){return Object.assign(Object.assign({},(0,m.LP)()),{Kt:"F",uq:d.jK?"NFCDFF-MC-":d.Ey?"NFCDFF-02-":d.Tba?"NFCDFF-AP-":d.HZ?"NFCDFF-AT-":d.qQ?"NFCDFF-PH-":"NFCDFF-LX-",TE:"firefox-cadmium"});};b.h9a=function(d){var f,h;f=(0,m.KP)();h=Object.assign(Object.assign({},f),{mP:!0,gy:!0,ZE:!0,fM:!0});d.Ey && (h.Bo=[].concat(ia(f.Bo),ia((0,g.Ti)([l.I.mD,l.I.nD],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.jK && (h.Bo=[].concat(ia(f.Bo),ia((0,g.Ti)([l.I.mD,l.I.nD],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return h;};b.i9a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.wn.qM,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(d.Ey || d.jK) && 95 <= d.Pr && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var l,g,m,d,f,h;function c(k){var n;n=Object.assign(Object.assign({},(0,h.KP)()),{II:(0,f.Ti)([d.pe.lH,d.pe.mH,d.pe.oA]),Bo:(0,f.Ti)([].concat(ia(d.Qd.x3),ia(d.Qd.h3),ia(d.Qd.Hia),ia(d.Qd.Iia),ia(d.Qd.Eia),ia(d.Qd.Fia),ia(d.Qd.xJa),ia(d.Qd.yJa),ia(d.Qd.zJa))),bu:(0,f.Ti)([].concat(ia(d.Qd.g3),ia(d.Qd.Gia),ia(d.Qd.Dia))),bo:m.yb.Sub,jC:(0,l.$b)(7E3),cJ:[]});(0,h.IZ)(k,14) && (n.cJ=["start"]);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.u$a=b.t$a=b.v9a=b.v$a=void 0;l=a(5);g=a(26);m=a(73);d=a(42);f=a(123);h=a(144);b.v$a=function(k){return Object.assign(Object.assign({},(0,h.LP)()),{Kt:"S",uq:k.qQ?"NFCDSF-PH-":"NFCDSF-01-",TE:"safari-cadmium"});};b.v9a=function(k){return Object.assign(Object.assign({},c(k)),{oha:!0,pP:!1,Tw:[d.un.k6]});};b.t$a=c;b.u$a=function(k){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:g.wn.Oz,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,h.IZ)(k,14) && (n=Object.assign(Object.assign({},n),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,h.NZ)(k,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,h.NZ)(k,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,h.NZ)(k,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,h.NZ)(k,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,h.IZ)(k,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));(0,h.IZ)(k,16) && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));return n;};},function(r,b,a){var l;function c(g,m,d,f){this.log=g;this.PJ=m;this.LC=d;this.context=f;}Object.defineProperty(b,"__esModule",{value:!0});b.aXa=void 0;l=a(4);c.prototype.ki=function(g){var m;m=this;(this.context.fg || this.context.$l) && this.log.trace("Requesting license",{drmType:g.fp});return this.PJ(g).catch(function(d){m.log.error("Unable to get the Playready license",d);if(m.context.Iyc)throw d;throw {ja:!1,code:l.aa.DM,xc:d.xc,vd:d.vd,gp:d.gp,jl:d.message || d.jl,dF:d.data,message:"Unable to send the Playready license request. " + (d.message || d.jl)};});};c.prototype.release=function(g){var m;m=this;this.log.trace("Requesting stop data");return this.LC(g).catch(function(d){m.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.xc,extCode:d.vd,edgeCode:d.gp,message:d.message || d.jl});throw {ja:!1,code:l.aa.Ela,xc:d.xc,vd:d.vd,gp:d.gp,jl:d.message || d.jl,message:"Unable to release the PlayReady license. " + (d.message || d.jl)};});};b.aXa=c;mb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.oma=void 0;c=a(4);l=a(219);g=a(226);m=a(31);d=a(82);f=a(32);h=a(26);k=a(56);(function(){var z;function n(B,A,C){var D;D=this;this.log=B;this.yp=A || y.bind(this);this.context=C;this.v0=this.challenge=this.keySystem=this.keySessionId=this.Nb=this.mediaKeys=void 0;this.yd={};this.Uya=this.CFa=!1;this.e0=t.bind(this);this.v0=void 0;this.lHa=new Promise(function(E,G){D.GDa=E;D.hDa=G;});this.lHa.catch(function(E){D.log.error("wait for license rejected",E);});l.uc.get(h.Pz).Aaa().then(function(E){(D.context.fg || D.context.$l) && D.log.debug("DRIVERINFO: ",E);}).catch(function(E){D.log.error("DRIVERINFO",E);});this.ns=function(E,G){D.hDa(E,G);D.context.onerror(E,G);};this.aBa=function(){D.GDa();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return l.uc.get(f.Zi);}function q(){return l.uc.get(m.Di);}function v(B){var A,C;A=l.uc.get(g.Zla);C="";B.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});B='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";A=new Uint8Array(A.tnb(B));(this.context.fg || this.context.$l) && this.log.trace("LICENSE: proactive license cdm data",{xml:B,b64:p().encode(A)});return A;}function t(B){var A;A=B.target.error?B.target.error.msExtendedCode:void 0;this.log.error("Received " + B.type + " event",{sessionId:this.Nb.sessionId,systemCode:A});if(this.context.onerror)this.context.onerror(z.Ug.Ts,z.OD.Yu,A);this.Nb=void 0;}function w(B,A,C){var E,G,F;for(var D=2;D < arguments.length;++D){;}D="";G=B.length;for(E=0;E < G;E++){F=B[E];0 < F && (D+=String.fromCharCode(F));}G="\\s*(.*)\\s*";for(E=arguments.length - 1;0 < E;E--){F=arguments[E];if(0 > D.search(F))return;F="(?:[^:].*:|)" + F;G="[\\s\\S]*<" + F + "[^>]*>" + G + "</" + F + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function u(B,A,C,D){var E,G;E=B.target && B.target.sessionId;G=p().decode(w(B.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + B.type + " event",{keySystem:B.target && B.target.keySystem,sessionId:E});(C.context.fg || C.context.$l || C.context.iD) && C.log.debug("LICENSE: License challenge",p().encode(G));C.keySessionId=E;B={Pg:A,messageType:"license-request",fp:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",al:[{data:G,sessionId:E}]};12 === C.state && (C.yp("lc"),G={data:G,fp:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.ZK || (C.v0=G));C.context.en.ki(B).then(function(F){if(12 === C.state && (C.yp("lr"),C.aBa(),!C.context.ZK))(C.w0=F.uk[0].data,C.state=13,D({ja:!0,state:C.state}));else if(C.Nb)return x(C,F.uk[0].data,C.Nb).then(function(){C.state=30;D({ja:!0,state:C.state});});}).catch(function(F){D(q().ZF(F,{state:C.state}));});}function x(B,A,C){B.Yba() && B.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(A)});return new Promise(function(D,E){try{B.Nb.update(A);D(void 0);B.Yba() && B.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){E({ja:!1,code:z.Ug.u5,message:"Unable to update the EME.",Ub:q().pf(G)});}});}function y(B){this.context.za && (this.yd[B]=this.context.za.getTime(),this.log.trace("Milestone: " + B + ", " + this.yd[B]));}z={Ug:c.aa,OD:c.Y};n.prototype.PP=function(){return this.keySystem;};n.prototype.Bpb=function(B,A){B.log && (this.log=B.log);B.yp && (this.yp=B.yp);A.en && (this.context.en=A.en);A.onerror && (this.context.onerror=A.onerror);};n.prototype.create=function(B){var A;A=this;return (B?Promise.resolve(B):l.uc.get(h.Pz).OJ()).then(function(C){A.yp("lg");A.log.trace("Creating the media keys",{keySystem:C});A.keySystem=C;if(A.context.Q0)C=Promise.reject({ja:!1,code:z.Ug.MT,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{A.mediaKeys=new mb.MSMediaKeys(C);}catch(D){C=Promise.reject({ja:!1,code:z.Ug.wRa,message:"create MSMediaKeys(" + C + ") failed",Ub:q().pf(D)});break a;}try{A.context.ea && A.context.ea.msSetMediaKeys(A.mediaKeys);}catch(D){C=Promise.reject({ja:!1,code:z.Ug.OM,message:"set MSMediaKeys failed",Ub:q().pf(D)});break a;}C=Promise.resolve({ja:!0,mediaKeys:A.mediaKeys});}return C;});};n.prototype.close=function(){this.mediaKeys=void 0;this.context.ea=void 0;if(this.Nb){this.log.info("Closing the session",{sessionId:this.Nb.sessionId});this.Nb.removeEventListener("mskeyerror",this.e0);try{this.Nb.close();}catch(B){this.log.error("Failed to close the key sessions",B);}this.Nb=void 0;}};n.prototype.ki=function(B,A,C){var D;if(1 < A.length)return Promise.reject({code:z.Ug.ARa});if(0 === A.length)return Promise.reject({code:z.Ug.zRa});A=A[0];D=this;D.context.fg && D.log.trace("LICENSE: Setting license");return D.context.Q0?Promise.reject({ja:!1,code:z.Ug.BLa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(E,G){var F,L,O,K,I,M,H;try{L=function(J){D.Nb && (D.Nb.removeEventListener("mskeymessage",K),D.Nb.removeEventListener("mskeyadded",I),D.Nb.removeEventListener("mskeyerror",M),D.Nb.addEventListener("mskeyerror",D.e0));J.state=11;J.ja?E(J):(D.close(),G(J));};O=function(J){var N,P;N=[];P=Array.prototype.map.call(J,function(V){return V?String.fromCharCode(V):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(P)N.push(P[1]);else {J=w(J,"KIDS");P=/VALUE="(.+?)">/g;for(var W=P.exec(J);null != W;){N.push(W[1]);W=P.exec(J);}}return N;};K=function(J){F && clearTimeout(F);u(J,B,D,L);};I=function(J){(D.context.fg || D.context.$l) && D.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});L({ja:!0});};M=function(J){var N,P;F && clearTimeout(F);if(J.target && J.target.error)(N=J.target.error.systemCode,P=J.target.error.code);N={code:z.Ug.Ts,xc:z.OD.Yu,vd:N?l.uc.get(d.Kz).FJ(N,4):P,details:q().pf(J),cause:J.target && J.target.error,Kga:N,H$:P};D.log.error("LICENSE: Received " + J.type + " event",{sessionId:D.Nb && D.Nb.sessionId,keySystem:J.target.keySystem,systemCode:N.Kga,code:N.H$});D.yp("le");D.ns && D.ns(z.Ug.Ts,N);L({ja:!1,code:z.Ug.Ts,xc:z.OD.Yu,vd:N.vd,message:"Received a key error.",Ub:N.details,cause:N.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.fg || D.context.$l) && D.log.debug("LICENSE: PSSH",p().encode(A));D.Fy || (D.Fy=O(A));if(C){H=v.call(D,D.Fy);D.Nb=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),H);}else D.Nb=D.mediaKeys.createSession("video/mp4",A,null);(D.context.fg || D.context.$l) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Nb.keySystem,sessionId:D.Nb.sessionId});D.Nb.addEventListener("mskeymessage",K);D.Nb.addEventListener("mskeyadded",I);D.Nb.addEventListener("mskeyerror",M);D.context.Rya && (F=setTimeout(function(){L({ja:!1,code:z.Ug.zU,xc:z.OD.Gub});},D.context.Rya));}catch(J){G({code:z.Ug.zU,xc:z.OD.rn});}});})();};n.prototype.jL=function(){var B;(this.context.fg || this.context.$l) && this.log.trace("LICENSE: Renewing license");B=[new Uint8Array(0)];return this.ki(k.Eo.Wja.nr,B,!0);};n.prototype.B8=function(B){this.w0 || this.log.error("pending license must exist at this point");this.context.ZK=!0;try{B && (this.context.ea=B,this.context.ea.msSetMediaKeys(this.mediaKeys));}catch(A){return Promise.reject({ja:!1,code:z.Ug.OM,message:"setMediaKeys failed",Ub:q().pf(A)});}return x(this,this.w0,this.Nb);};n.prototype.V6a=function(B){var A,C;A=this;A.log.trace("Releasing the license of current session",JSON.stringify(B));C={sa:B.sa,$e:B.$e};return new Promise(function(D,E){(function(){A.context.en.release.call(A.context.en,C).then(function(){var G;A.log.trace("successfully released the license",JSON.stringify(B));G={ja:!0};A.close();G.ja?D(G):E(G);}).catch(function(G){A.log.error("Unable to release the license",{sessionId:A.keySessionId,code:G.code,subCode:G.xc,extCode:G.vd,edgeCode:G.gp,message:G.jl});A.close();G.ja?D(G):E(G);});})();});};n.prototype.Yba=function(){return this.context.fg || this.context.$l;};b.oma=n;mb._cad_global.WindowsEmeSession=b.oma;})();},function(r,b,a){var u,x,y,z,B,A,C,D,E,G,F,L;function c(O,K,I){var M;M=this;this.log=O;this.yp=K || w.bind(this);this.context=I;this.v0=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.yd={};this.Nq=void 0;this.url="";this.Uya=this.CFa=!1;this.e0=k.bind(this);this.om=this.v0=void 0;this.lHa=new Promise(function(H,J){M.GDa=H;M.hDa=J;});this.ns=function(H,J){M.hDa(H,J);M.context.onerror(H,J);};this.aBa=function(){M.GDa();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function l(){return u.Ha.get(B.Vs);}function g(){return u.Ha.get(z.Zi);}function m(){return u.Ha.get(x.Di);}function d(O){return (/com.apple.fps/).test(O) && !(/com.apple.fps.2_0/).test(O);}function f(O){var K;O=(function(I){var H,J;function M(N,P,W,V){var S,U;S=new Uint8Array("piff" == P?88:72);U=new G.KT(S);U.lD(12);U.kD("frma");U.kD(N);U.lD(20);U.kD("schm");U.b3(0);U.b3(0);U.kD(P);U.lD(W);"piff" == P?(U.lD(56),U.kD("schi"),U.lD(48),U.kD("uuid"),U.a3([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(U.lD(40),U.kD("schi"),U.lD(32),U.kD("tenc"));U.b3(0);U.b3(0);U.lD(264);U.a3(V);return S;}H=M("avc1","piff",65537,I);H=l().decode(g().encode(H));I=M("avc1",F.fx,65536,I);I=l().decode(g().encode(I));J=new Uint8Array(7 + H.length + 8 + I.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(H,7);J.set([34,44,10,32,32,32,32,34],7 + H.length);J.set(I,7 + H.length + 8);J.set([34,10,32,32,93],7 + H.length + 8 + I.length);return J;})(O);K=new Uint8Array(13 + O.length + 2);K.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);K.set(O,13);K.set([10,125],13 + O.length);return K;}function h(O){var K;O=O.subarray(14,30);O=String.fromCharCode.apply(null,O);O=g().decode(O);O=O.subarray(4);K=new Uint8Array(16);K.set(O);return K;}function k(O){var K;K=n(O);this.log.error("LICENSE Error: Received event: " + O.type,{sessionId:this.Nb?this.Nb.sessionId:void 0,keySystem:O.target.keySystem,systemCode:K.Kga,code:K.H$});this.ns && this.ns(L.Ug.Ts,K);this.Nb=void 0;}function n(O){var K,I;if(O.target.error)(K=O.target.error.systemCode,I=O.target.error.code);return {code:L.Ug.Ts,xc:L.OD.Yu,vd:K?u.Ha.get(y.Kz).FJ(K,4):I,details:m().pf(O),cause:O.target.error,Kga:K,H$:I};}function p(O,K,I,M){var H,J,N;H=O.target.sessionId;J=O.message;N=m().KE(J,l().decode("certificate"));I.Uya=K === E.Eo.Wja.Mp;I.state=N?2:12;I.log.trace("LICENSE: Received event: " + O.type,{keySystem:O.target.keySystem,sessionId:H});(I.context.fg || I.context.$l || I.context.iD) && I.log.debug("LICENSE: License challenge",g().encode(J));I.keySessionId=H;O={Jq:I.Jq,Pg:K,messageType:"license-request",fp:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",al:[{data:J,sessionId:H}]};12 === I.state && (I.yp("lc"),J={data:J,fp:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.ZK || (I.v0=J));I.context.en.ki(O).then(function(P){if(12 === I.state && (I.yp("lr"),I.aBa(),!I.context.ZK))(I.w0=P.uk[0].data,I.state=13,M({ja:!0,state:I.state}));else if(I.Nb)return (P=t(I,N,P.uk[0].data,I.Nb),2 === I.state?P:P.then(function(){I.state=30;M({ja:!0,state:I.state});}));}).catch(function(P){M(m().ZF(P,{state:I.state}));});}function q(O,K,I){K.log.trace("LICENSE: Received event: " + O.type,{keySystem:O.target.keySystem,sessionId:O.target.sessionId});I({ja:!0});}function v(O,K,I){var M;M=n(O);K.ns && K.ns(L.Ug.Ts,M);K.log.error("LICENSE Error: Received event: " + O.type,{sessionId:K.Nb?K.Nb.sessionId:void 0,keySystem:O.target.keySystem,systemCode:M.Kga,code:M.H$});I({ja:!1,code:L.Ug.Ts,xc:L.OD.Yu,vd:M.vd,message:"Received a key error.",Ub:M.details,cause:M.cause});}function t(O,K,I,M){M={sessionId:M.sessionId};O.Yba() && (M.license=g().encode(I));O.log.trace("calling keysession update",M);return new Promise(function(H,J){function N(){O.Nb.removeEventListener("webkitkeyadded",N);H(void 0);}try{K || O.Nb.addEventListener("webkitkeyadded",N);O.Nb.update(I);K && H(void 0);}catch(P){J({ja:!1,code:L.Ug.u5,message:"Unable to update the EME.",e:P});}});}function w(O){this.yd[O]=u.Ha.get(A.jd).Rb().ia(C.va);this.log.trace("Milestone: " + O + ", " + this.yd[O]);}Object.defineProperty(b,"__esModule",{value:!0});u=a(9);b=a(4);x=a(31);y=a(82);z=a(32);B=a(69);A=a(18);C=a(5);D=a(14);E=a(56);G=a(171);F=a(43);L={Ug:b.aa,OD:b.Y};c.prototype.PP=function(){return this.keySystem;};c.prototype.Bpb=function(O,K){O.log && (this.log=O.log);O.yp && (this.yp=O.yp);K.en && (this.context.en=K.en);K.onerror && (this.context.onerror=K.onerror);};c.prototype.create=function(O){var K;K=this;K.yp("lg");K.log.trace("CREATE: Creating the media keys",{keySystem:O});K.keySystem=O;return K.context.Q0?Promise.reject({ja:!1,code:L.Ug.MT,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var M,H;M=m().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");H=M.lastChild;K.om=M;K.context.ea=D.Xh.createElement("VIDEO");H?K.om.insertBefore(K.context.ea,H):K.om.appendChild(K.context.ea);}return new Promise(function(M,H){function J(N){(K.context.fg || K.context.$l || K.context.iD) && K.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{K.mediaKeys=new mb.WebKitMediaKeys(O);K.context.ea.webkitSetMediaKeys(K.mediaKeys);M({ja:!0,mediaKeys:K.mediaKeys});}catch(P){K.log.error("CREATE: Exception on webkitSetMediaKeys",P);H({ja:!1,code:L.Ug.zU,Ub:m().pf(P)});}}if(d(K.keySystem))try{K.mediaKeys=new mb.WebKitMediaKeys(O);K.context.ea && (K.log.trace("LICENSE: calling setmediakeys on video element"),K.context.ea.webkitSetMediaKeys(K.mediaKeys));M({ja:!0,mediaKeys:K.mediaKeys});}catch(N){H({ja:!1,code:L.Ug.zU,Ub:m().pf(N)});}else (K.mediaKeys=new mb.WebKitMediaKeys(O),K.context.ea?(K.log.trace("LICENSE: calling setmediakeys on video element"),K.context.ea.webkitSetMediaKeys(K.mediaKeys)):(I(),K.Nq=new D.DD(),K.Nq.addEventListener("sourceopen",J),K.url=URL.createObjectURL(K.Nq),K.context.ea.src=K.url),M({ja:!0,mediaKeys:K.mediaKeys}));});})();};c.prototype.close=function(){this.Nb && (this.log.info("Closing the session",{sessionId:this.Nb.sessionId}),this.Nb.removeEventListener("webkitkeyerror",this.e0),this.Nb.close(),this.Nb=void 0);};c.prototype.ki=function(O,K){var I;if(1 < K.length)return Promise.reject({code:L.Ug.ARa});if(0 === K.length)return Promise.reject({code:L.Ug.zRa});K=K[0];I=this;I.context.fg && I.log.trace("LICENSE: Setting license",{initData:g().encode(K)});return I.context.Q0?Promise.reject({ja:!1,code:L.Ug.BLa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(M,H){var N,P,W;function J(V){I.Nb && (I.Nb.removeEventListener("webkitkeymessage",N),I.Nb.removeEventListener("webkitkeyadded",P),I.Nb.removeEventListener("webkitkeyerror",W),I.Nb.addEventListener("webkitkeyerror",I.e0));V.ja?M(V):(I.close(),H(V));}N=function(V){p(V,O,I,J);};P=function(V){q(V,I,J);};W=function(V){v(V,I,J);};d(I.keySystem) && (I.Jq=h(K),K=f(I.Jq));I.log.trace("LICENSE: Executing prefix based EME");I.context.fg | I.context.$l && I.log.debug("LICENSE: PSSH",g().encode(K));I.Nb=I.mediaKeys.createSession("video/mp4",K,null);(I.context.fg || I.context.$l) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Nb.keySystem,sessionId:I.Nb.sessionId});I.Nb.addEventListener("webkitkeymessage",N);I.Nb.addEventListener("webkitkeyadded",P);I.Nb.addEventListener("webkitkeyerror",W);});})();};c.prototype.jL=function(){var O;O=this;return O.CFa?Promise.resolve({ja:!0}):new Promise(function(K,I){var H,J,N;function M(P){O.Nb && (O.Nb.removeEventListener("webkitkeymessage",H),O.Nb.removeEventListener("webkitkeyadded",J),O.Nb.removeEventListener("webkitkeyerror",N));P.ja?K(P):(I(P),O.close());}H=function(P){p(P,E.Eo.Wja.nr,O,M);};J=function(P){q(P,O,M);K({ja:!0});};N=function(P){v(P,O,M);};O.Uya=!1;O.Nb.addEventListener("webkitkeymessage",H);O.Nb.addEventListener("webkitkeyadded",J);O.Nb.addEventListener("webkitkeyerror",N);O.Nb.update(l().decode("renew"));});};c.prototype.B8=function(O){this.w0 || this.log.error("pending license must exist at this point");this.context.ZK=!0;try{O && (this.context.ea=O,this.log.trace("calling setmediakeys on video element"),this.context.ea.webkitSetMediaKeys(this.mediaKeys));}catch(K){return new Promise(function(I,M){M({ja:!1,code:L.Ug.OM,message:"setMediaKeys failed",Ub:m().pf(K)});});}return t(this,!1,this.w0,this.Nb);};c.prototype.V6a=function(O){var K,I;K=this;K.log.trace("Releasing the license of the current session",JSON.stringify(O));K.CFa=!0;I={sa:O.sa,$e:O.$e};return new Promise(function(M,H){(function(){K.context.en.release.call(K.context.en,I).then(function(){var J;K.log.trace("successfully released the license",JSON.stringify(O));J={ja:!0};J.ja?M(J):(K.close(),H(J));}).catch(function(J){K.log.error("RELEASE: Unable to get the release the license",{sessionId:K.Nb?K.Nb.sessionId:void 0,code:J.code,subCode:J.xc,extCode:J.vd,edgeCode:J.gp,message:J.jl});J.ja?M(J):(K.close(),H(J));});})();});};c.prototype.Yba=function(){return this.context.fg || this.context.$l;};r.exports=c;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q){this.log=k;this.PJ=n;this.LC=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});l=a(4);g=a(9);m=a(31);d=a(69);f=a(32);h=a(43);c.prototype.ki=function(k){var n,p;n=this;(this.context.fg || this.context.$l) && this.log.debug("Requesting a license",k);if(g.Ha.get(m.Di).KE(g.Ha.get(d.Vs).decode("certificate"),k.al[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({uk:[{sessionId:k.al[0].sessionId,data:g.Ha.get(f.Zi).decode(h.Z3)}]});}else p=g.Ha.get(m.Di).KE(g.Ha.get(d.Vs).decode("content"),k.al[0].data)?Promise.resolve({uk:[{sessionId:k.al[0].sessionId,data:k.Jq}]}):(function(){n.log.trace("Requesting license",{drmType:k.fp});return n.PJ(k).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:l.aa.DM,xc:q.xc,vd:q.vd,gp:q.gp,jl:q.message || q.jl,dF:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.jl),cause:q};});})();return p;};c.prototype.release=function(k){var n;n=this;this.log.trace("Requesting stop data");return this.LC(k).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.xc,extCode:p.vd,edgeCode:p.gp,message:p.message || p.jl});throw {ja:!1,code:l.aa.Ela,xc:p.xc,vd:p.vd,gp:p.gp,jl:p.message || p.jl,message:"Unable to release the FairPlay license. " + (p.message || p.jl),cause:p};});};r.exports=c;},function(r,b,a){var m,d,f,h,k,n,p,q;function c(v,t,w){var u;u=this;this.is=v;this.gn=t;this.config=w;this.Vw=function(){return {version:u.version,drmData:u.q$.map(function(x){return x.Vw();})};};this.Iua=function(x){var y;u.is.So(x) && (x=l(x));1 === x.version && (x=g(u.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new q.T3(z);});}catch(z){throw new k.rd(f.aa.BM,f.Y.sD,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !u.is.Rl(x.version))throw new k.rd(f.aa.BM,f.Y.sD,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new k.rd(f.aa.BM,f.Y.sJa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.pm=new n.Mja(2,this.config.UX,this.is.So(this.config.UX),this.gn,this.Vw);}function l(v){v=JSON.parse(v);v={xid:v.xid,movieId:v.movieId,keySessionIds:v.keySessionIds,licenseContextId:v.licenseContextId};if(!v.licenseContextId || !v.xid || !v.movieId)throw new k.rd(f.aa.BM,f.Y.sD);return {version:1,drmData:[v]};}function g(v,t){if(v.vE(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var u;u=w.keySessionIds;return new q.T3({keySessionData:(u && 0 < u.length?u:[void 0]).map(function(x){return {id:x,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).Vw();})};throw new k.rd(f.aa.BM,f.Y.sD);}Object.defineProperty(b,"__esModule",{value:!0});b.MJa=void 0;r=a(0);m=a(1);d=a(63);f=a(4);h=a(25);k=a(36);n=a(344);p=a(83);q=a(228);c.prototype.rjb=function(){return this.Qhc();};c.prototype.M_a=function(v){return this.pm.add(v);};c.prototype.c1=function(v){return this.pm.remove(v,function(t,w){return t.sa === w.sa;});};c.prototype.toString=function(){return JSON.stringify(this.Vw(),null,"  ");};c.prototype.Qhc=function(){var v;v=this;this.vjb || (this.vjb=new Promise(function(t,w){v.pm.load(v.Iua).then(function(){t();}).catch(function(u){u.Ca && u.cause?w(new k.rd(f.aa.BM,u.Ca,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u)):w(u);});}));return this.vjb;};Va.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.pm.version;}},q$:{configurable:!0,enumerable:!0,get:function(){return this.pm.Ln;}}});a=c;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(h.Vg)),r.__param(1,(0,m.l)(p.Iz)),r.__param(2,(0,m.l)(d.Qs))],a);b.MJa=a;},function(r,b,a){var l,g;function c(m,d,f,h,k){this.version=m;this.YK=d;this.DFa=f;this.gn=h;this.Vw=k;}Object.defineProperty(b,"__esModule",{value:!0});b.YNa=void 0;l=a(4);g=a(36);c.prototype.load=function(m){return this.D4b(m);};c.prototype.set=function(m){this.Ln=m;return this.I$b();};c.prototype.D4b=function(m){var d;d=this;this.Cdb || (this.Cdb=new Promise(function(f,h){function k(n){d.BQb().then(function(){h(n);}).catch(function(){h(n);});}d.gwa().then(function(n){d.storage=n;return d.storage.load(d.YK);}).then(function(n){var p;n=n.value;try{p=m(n);d.version=p.version;d.Ln=p.data;f();}catch(q){k(q);}}).catch(function(n){n.Ca !== l.Y.kA?h(n):f();});}));return this.Cdb;};c.prototype.I$b=function(){var m,d,f,h,k;m=this;if(!this.DFa)return Promise.resolve();if(this.Aga){h=new Promise(function(n,p){d=n;f=p;});k=function(){m.Aga=h;m.lnb().then(function(){d();}).catch(function(n){f(n);});};this.Aga.then(k).catch(k);return h;}return this.Aga=this.lnb();};c.prototype.lnb=function(){var m,d;m=this;d=this.Vw();return new Promise(function(f,h){m.gwa().then(function(k){return k.save(m.YK,d,!1);}).then(function(){f();}).catch(function(k){h(c.Hjc(l.aa.Kxb,k));});});};c.prototype.BQb=function(){var m;m=this;return this.DFa?new Promise(function(d,f){m.gwa().then(function(h){return h.remove(m.YK);}).then(function(){d();}).catch(function(h){f(h);});}):Promise.resolve();};c.prototype.gwa=function(){return this.storage?Promise.resolve(this.storage):this.gn.create();};c.Hjc=function(m,d){var f;if(d.Ca && d.cause)return new g.rd(m,d.Ca,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.xc){f=d.message?d.message + " ":"";d.code=m;d.message="" === f?void 0:f;return d;}return d instanceof Error?new g.rd(m,l.Y.rn,void 0,void 0,void 0,void 0,d.stack,d):new g.rd(m,l.Y.Ho,void 0,void 0,void 0,void 0,void 0,d);};b.YNa=c;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Xib=void 0;c=a(4);l=a(98);g=a(128);m=a(227);b.Xib=function(f){m.jP.parent=f.zb;return function(){d || (d=new Promise(function(h,k){try{h(m.jP.get(g.mLa));}catch(n){k(new l.Vh(c.aa.Cvb,c.Y.Mvb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.kQa=void 0;a.prototype.lab=function(){return void 0 !== this.mediaKeys;};a.prototype.T_a=function(c){this.mediaKeys=c;};a.prototype.sdc=function(){this.lab() && (this.mediaKeys=void 0);};b.kQa=a;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t,w){this.sJ=p;this.yc=q;this.OQ=t;this.Mq=w;this.log=v.fb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.OJa=void 0;r=a(0);l=a(1);g=a(128);m=a(32);d=a(7);f=a(145);h=a(99);k=a(126);n=a(345);c.prototype.cwa=function(p){var q;q=this;return Promise.all([this.sJ(),this.sva()]).then(function(v){var t;t=oa(v);v=t.next().value;t=t.next().value;return v.aWb({type:p,initData:t,Wba:!1},q.OQ());}).then(function(v){var t;t=oa(v);v=t.next().value;t=t.next().value;t=q.yc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {mc:v,Yqa:t};});};c.prototype.sva=function(){var p;p=this;return this.Mq.mF().then(function(q){return q.Yv();}).then(function(q){switch(q){case k.xm.gF:return n.lMa;case k.xm.CC:return n.NSa;default:return n.XWa;}}).then(function(q){return q.map(p.yc.decode);});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.U3)),r.__param(1,(0,l.l)(m.Zi)),r.__param(2,(0,l.l)(d.jb)),r.__param(3,(0,l.l)(f.nU)),r.__param(4,(0,l.l)(h.$z))],a);b.OJa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.Se=t;this.Ai=w;this.yc=u;this.is=x;this.Q_=y;this.Ij=z;}Object.defineProperty(b,"__esModule",{value:!0});b.MLa=void 0;r=a(0);l=a(1);g=a(32);m=a(25);d=a(37);f=a(69);h=a(31);k=a(126);n=a(63);p=a(726);q=a(728);v=a(231);c.prototype.create=function(t){switch(t){case k.xm.CC:return new q.NTa(this.Q_,this.is,this.yc,this.Se,this.Ij,this.Ai);case k.xm.gF:return new p.kMa(this.Q_,this.is,this.yc,this.Se,this.Ij,this.Ai);default:return new v.sx(this.Q_,this.is,this.yc,this.Se,this.Ij,this.Ai);}};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.Di)),r.__param(1,(0,l.l)(f.Vs)),r.__param(2,(0,l.l)(g.Zi)),r.__param(3,(0,l.l)(m.Vg)),r.__param(4,(0,l.l)(d.MM)),r.__param(5,(0,l.l)(n.Qs))],a);b.MLa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){t=g.sx.call(this,t,w,u,x,y,z) || this;t.yc=u;t.Yi=x;t.Ij=y;t.Ai=z;t.Eab=new m.jMa(t.yc,t.Yi,t.Ai);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.kMa=void 0;r=a(0);l=a(1);g=a(231);m=a(727);d=a(37);f=a(25);h=a(32);k=a(31);n=a(63);p=a(69);q=a(346);v=a(347);la(c,g.sx);c.prototype.generateRequest=function(t,w,u){var x,y,z;x=this;try{y=w.map(function(B){return x.Eab.YXb(B);});this.ibb=y.map(function(B){return x.yc.encode(B);});z=this.Eab.oMb(y,u);return g.sx.prototype.generateRequest.call(this,t,[z],!1);}catch(B){return Promise.reject(B);}};c.prototype.update=function(t,w,u){var x,y,z,B,A;x=this;if(u)try{y=this.Ai.encode(t[0]);z=JSON.parse(y).RESPONSES.map(function(C){var D;D=v.U5.unb(C.ID);return {keyID:w === q.MH.mUa?x.ibb[x.ibb.length - 1]:u[D],payload:C.PAYLOAD};});if(w === q.MH.Request){B=z.map(function(C){return C.keyID;});u.forEach(function(C){-1 === B.indexOf(C) && z.push({keyID:C,error:1});});}A=JSON.stringify(z);t=[this.Ai.decode(A)];}catch(C){return Promise.reject(C);}return g.sx.prototype.update.call(this,t,w);};c.prototype.jL=function(){return g.sx.prototype.update.call(this,[this.Ai.decode("renew")],q.MH.Request);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.MM)),r.__param(1,(0,l.l)(f.Vg)),r.__param(2,(0,l.l)(h.Zi)),r.__param(3,(0,l.l)(k.Di)),r.__param(4,(0,l.l)(n.Qs)),r.__param(5,(0,l.l)(p.Vs))],a);b.kMa=a;},function(r,b){function a(c,l,g){var m;m=this;this.yc=c;this.Yi=l;this.Ai=g;this.YXb=function(d){var f;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=m.yc.decode(d);d=d.subarray(4);f=new Uint8Array(16);f.set(d);return f;};this.nMa={fx:1667591779,Gsb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.jMa=void 0;a.prototype.oMb=function(c,l){l=l?this.nMa.Gsb:this.nMa.fx;c=c.map(function(g){return {Kvc:"",B3b:g,Qpa:g,Fhc:g,amc:[1]};});return this.n5b(l,c);};a.prototype.m5b=function(c){var l;l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,c);return this.yza("fpsi",[l]);};a.prototype.l5b=function(c,l,g,m){c=[this.yza("fkri",[c])];l.byteLength && c.push(this.q_("fkai",[l]));g.byteLength && c.push(this.q_("fkcx",[g]));m.length && c.push(this.q_("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.q_("fpsk",c);};a.prototype.n5b=function(c,l){var g,d;g=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.m5b(c)];for(var m in l){d=l[m];c.push(this.l5b(d.B3b,d.Qpa,d.Fhc,d.amc));}l=this.q_("fpsd",c);m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,l.byteLength);return this.yza("pssh",[g,m,l]);};a.prototype.yza=function(c,l){var g,m,d;g=0;for(d in l){g+=l[d].byteLength;}g=new Uint8Array(12 + g);m=new DataView(g.buffer);d=0;m.setUint32(d,g.byteLength);d+=4;g.set(this.Ai.decode(c),d);d+=4;m.setUint32(d,0);d+=4;for(var f in l){c=l[f];g.set(c,d);d+=c.byteLength;}return g;};a.prototype.q_=function(c,l){var g,m;g=0;for(m in l){g+=l[m].byteLength;}g=new Uint8Array(8 + g);m=0;new DataView(g.buffer).setUint32(m,g.byteLength);m+=4;g.set(this.Ai.decode(c),m);m+=4;for(var d in l){c=l[d];g.set(c,m);m+=c.byteLength;}return g;};b.jMa=a;},function(r,b,a){var l,g,m,d;function c(){return g.sx.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.NTa=void 0;r=a(0);l=a(1);g=a(231);m=a(98);d=a(4);la(c,g.sx);c.prototype.K9=function(f,h,k,n,p){this.Yjb(k);this.Vjb(n);this.Tjb(p);this.HYa=this.Eb;this.Eb=f.createSession(h);this.U_a(k);this.Q_a(n);this.N_a(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var h;function f(k){return k && k.sessionId?k.close():Promise.resolve();}h=this;this.Ara=void 0;return this.Eb?Promise.all([f(this.Eb),f(this.HYa)]).then(function(){}).finally(function(){h.Eb=void 0;h.HYa=void 0;}):Promise.reject(new m.Vh(d.aa.vLa,d.Y.wM,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,h,k){this.initDataType=f;this.initData=h;return g.sx.prototype.generateRequest.call(this,f,h,k);};a=c;a=r.__decorate([(0,l.$)()],a);b.NTa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.Ai=t;this.ik=w;this.yc=u;this.config=x;this.Ij=y;this.Ri=z;}Object.defineProperty(b,"__esModule",{value:!0});b.nLa=void 0;r=a(0);l=a(1);g=a(82);m=a(32);d=a(69);f=a(11);h=a(84);k=a(126);n=a(63);p=a(730);q=a(731);v=a(732);c.prototype.create=function(t){switch(t){case k.xm.CC:return new q.LLa(this.ik,this.yc);case k.xm.gF:return new v.NUa(this.ik,this.yc,this.Ai,this.Ri);default:return new p.WJa(this.ik,this.yc,this.Ij,this.config);}};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.Vs)),r.__param(1,(0,l.l)(g.Kz)),r.__param(2,(0,l.l)(m.Zi)),r.__param(3,(0,l.l)(f.wc)),r.__param(4,(0,l.l)(n.Qs)),r.__param(5,(0,l.l)(h.gA))],a);b.nLa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u){this.ik=v;this.yc=t;this.Ij=w;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.WJa=void 0;r=a(0);l=a(1);g=a(4);m=a(82);d=a(32);f=a(98);h=a(64);k=a(63);n=a(11);p=a(36);q=a(43);c.prototype.w9=function(){return !1;};c.prototype.Xpa=function(){return !0;};c.prototype.Sqa=function(){return !0;};c.prototype.tva=function(){return q.fx;};c.prototype.vaa=function(){return this.Ij.zEa?this.yc.decode(this.Ij.zEa):this.yc.decode(q.VWa);};c.prototype.Xva=function(){return [q.ix,q.T5,q.S5];};c.prototype.Exa=function(){Promise.reject(new p.rd(g.aa.jja));};c.prototype.Xra=function(v){var t;return {type:v.type,sessionId:null === (t=v.target) || void 0 === t?void 0:t.sessionId,EK:[new Uint8Array(v.message)],messageType:v.messageType};};c.prototype.tB=function(v){var t,w,u;t=new f.Vh(g.aa.Ts);w=null === v || void 0 === v?void 0:v.code;null != w && void 0 !== w?(w=parseInt(w,10),t.xc=1 <= w && 9 >= w?g.Y.Yu + w:g.Y.Yu):t.xc=v instanceof h.Us?g.Y.NT:g.Y.rn;try{u=v.message.match(/\((\d*)\)/)[1];t.vd=this.ik.FJ(u,4);}catch(x){}t.KX(v);return t;};c.prototype.NP=function(){};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.Kz)),r.__param(1,(0,l.l)(d.Zi)),r.__param(2,(0,l.l)(k.Qs)),r.__param(3,(0,l.l)(n.wc))],a);b.WJa=a;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q){this.ik=p;this.yc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.LLa=void 0;r=a(0);l=a(1);g=a(4);m=a(82);d=a(32);f=a(98);h=a(64);k=a(36);n=a(43);c.prototype.w9=function(){return !0;};c.prototype.Xpa=function(){return !1;};c.prototype.Sqa=function(){return !1;};c.prototype.tva=function(){return n.fx;};c.prototype.vaa=function(){};c.prototype.Xva=function(){return [];};c.prototype.Exa=function(){Promise.reject(new k.rd(g.aa.jja));};c.prototype.Xra=function(p){var q;q=new Uint8Array(p.message);q=this.Tta(q,"PlayReadyKeyMessage","Challenge");q=this.yc.decode(q);return {type:p.type,sessionId:p.target.sessionId,EK:[q],messageType:p.messageType};};c.prototype.tB=function(p){var q,v,t;q=new f.Vh(g.aa.Ts);v=p.code;null != v && void 0 !== v?(v=parseInt(v,10),q.xc=1 <= v && 9 >= v?g.Y.Yu + v:g.Y.Yu):q.xc=p instanceof h.Us?g.Y.NT:g.Y.rn;try{t=(/\((\d+)\)/).exec(p.message);q.vd=this.ik.FJ(Number(t && t[1]),4);}catch(w){}q.KX(p);return q;};c.prototype.Tta=function(p,q){var t,w,u;for(var v=1;v < arguments.length;++v){;}for(v=1;v < arguments.length;v++){;}v="";w=p.length;for(t=0;t < w;t++){u=p[t];0 < u && (v+=String.fromCharCode(u));}w="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){u=arguments[t];if(0 > v.search(u))return "";u="(?:[^:].*:|)" + u;w="[\\s\\S]*<" + u + "[^>]*>" + w + "</" + u + ">[\\s\\S]*";}return (v=v.match(new RegExp(w)))?v[1]:"";};c.prototype.NP=function(){};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.Kz)),r.__param(1,(0,l.l)(d.Zi))],a);b.LLa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t;function c(w,u,x,y){this.ik=w;this.yc=u;this.Ai=x;this.Ri=y;}Object.defineProperty(b,"__esModule",{value:!0});b.NUa=void 0;r=a(0);l=a(1);g=a(4);m=a(82);d=a(69);f=a(98);h=a(64);k=a(32);n=a(43);p=a(348);q=a(36);v=a(84);t=a(347);c.prototype.w9=function(){return !1;};c.prototype.Xpa=function(){return !1;};c.prototype.Sqa=function(){return !0;};c.prototype.tva=function(){return n.fx;};c.prototype.vaa=function(){return this.yc.decode(n.Z3);};c.prototype.Xva=function(){return [];};c.prototype.Exa=function(w){w.jL();};c.prototype.Xra=function(w){var u,x;u=[];if(w.messageType === p.nka || w.messageType === p.mka){if(w.messageType === p.nka){x=this.Ai.encode(new Uint8Array(w.message));u=JSON.parse(x);x=u.map(function(y){return y.keyID;});u=u.map(function(y){return y.payload;});}else u=[this.yc.encode(new Uint8Array(w.message))];if(0 === u.length || !u.every(function(y){return y && y.length;}))throw new q.rd(g.aa.ALa);u=this.Fjc(u);u=this.Ai.decode(JSON.stringify(u));}else u=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,EK:[u],messageType:w.messageType,Fy:x};};c.prototype.tB=function(w){var u,x,y,z;x=null === (u=w.target) || void 0 === u?void 0:u.error;if(x)(y=x.systemCode,z=x.code);u=new f.Vh(g.aa.Ts,w instanceof h.Us?g.Y.NT:g.Y.Yu,y?this.ik.FJ(y,4):z,"",x);u.KX(w);return u;};c.prototype.Fjc=function(w){w=w.map(function(u,x){return {ID:t.U5.s1b(x),PAYLOAD:u};});return {VERSION:this.Ri.gy?3:1,CHALLENGES:w};};c.prototype.NP=function(w,u){var x,y;x=this;if(u && this.Ri.gy)try{y=this.Ai.encode(u[0]);return JSON.parse(y).RESPONSES.sort(function(z,B){return z.ID > B.ID?1:-1;}).map(function(z){var B;B=t.U5.unb(z.ID);z=x.yc.decode(z.DHB).subarray(4,12);B=x.yc.decode(w[B]).subarray(0,8);return {from:z,to:B};});}catch(z){throw new f.Vh(g.aa.Sxb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.Kz)),r.__param(1,(0,l.l)(k.Zi)),r.__param(2,(0,l.l)(d.Vs)),r.__param(3,(0,l.l)(v.gA))],a);b.NUa=a;},function(r,b,a){var l,g,m,d;function c(f,h){this.WX=f;this.YX=h;}Object.defineProperty(b,"__esModule",{value:!0});b.gQa=void 0;r=a(0);l=a(1);g=a(232);m=a(230);d=a(734);c.prototype.create=function(f,h,k){return new d.iQa(f,this.WX,this.YX,h,k);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.gja)),r.__param(1,(0,l.l)(m.mja))],a);b.gQa=a;},function(r,b,a){var l,g;function c(m,d,f,h,k){this.keySystem=m;this.WX=d;this.YX=f;this.$F=h;this.fp=k;}Object.defineProperty(b,"__esModule",{value:!0});b.iQa=void 0;l=a(73);g=a(43);c.prototype.createMediaKeys=function(){return this.$F.createMediaKeys();};c.prototype.getConfiguration=function(){return this.$F.getConfiguration();};c.prototype.Yv=function(){return l.yb.NY(this.$F.keySystem);};c.prototype.Z3a=function(){return this.YX.create(this.fp);};c.prototype.Y3a=function(){return this.WX.create(this.fp);};Va.Object.defineProperties(c.prototype,{uca:{configurable:!0,enumerable:!0,get:function(){var m,d;m=this.keySystem;d=(0,g.Jaa)(this.$F);d && (m+="." + d);return m;}}});b.iQa=c;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t){this.co=p;this.config=q;this.WX=v;this.NF=t;this.log=this.co.fb("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.uOa=void 0;r=a(0);l=a(1);g=a(54);m=a(7);d=a(11);f=a(73);h=a(43);k=a(232);a=a(234);c.prototype.get=function(){var p,q,v;p=this;try{q=(this.config().Tcb || [this.config().bo]).map(function(t){var w;w=f.yb.NY(t);w=p.WX.create(w).Xva();return (0 < w.length?w:[void 0]).map(function(u){return {keySystem:t,robustness:u};});});v=(0,g.flatten)(q).filter(function(t){return p.xUb(t);});return this.NF.get().then(function(t){return p.AUb(v,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.xUb=function(p){var q;p=f.yb.jvb.includes(p.keySystem) || h.wNa.includes(null !== (q=p.robustness) && void 0 !== q?q:"");return this.config().p6a || !p;};c.prototype.AUb=function(p,q){var v;v=this;return p.reduce(function(t,w,u){var x;x=v.O_b(w);u=p.length - 1 === u;x=(0,h.w3a)(x);q.includes(x) && !u || t.push(w);return t;},[]);};c.prototype.O_b=function(p){var q;q={keySystem:p.keySystem === f.yb.Ezb?f.yb.n6:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};n=c;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(d.wc)),r.__param(2,(0,l.l)(k.gja)),r.__param(3,(0,l.l)(a.Uja))],n);b.uOa=n;},function(r,b,a){var l,g,m,d;function c(f,h,k){this.config=f;this.co=h;this.Iqa=k;this.log=this.co.fb("KeySystemRestrictor");this.H4b=this.config().s6a?this.Iqa.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.wOa=void 0;r=a(0);l=a(1);g=a(7);m=a(11);a=a(235);c.prototype.get=function(){var f;f=this;try{return this.config().s6a?this.H4b.then(function(h){return f.KUb(h);}):Promise.resolve([]);}catch(h){return (this.log.error("KeySystemRestrictor failed.",h),Promise.resolve([]));}};c.prototype.KUb=function(f){var h,n;this.Jkb={};h=f.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(h));f=[];h=oa(Object.entries(h));for(var k=h.next();!k.done;k=h.next()){n=oa(k.value);k=n.next().value;n=n.next().value;this.i0b(n) && f.push(k);}f.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + f);return this.uec=f;};c.prototype.i0b=function(f){var h,k;h=this;k=f.reduce(function(n,p){h.config().vTb.includes(p.code) && (p=h.AOb(p),n[p] || (n[p]=0),n[p]++);return n;},{});this.Jkb[f[0].keySystem]=k;return Object.values(k).some(function(n){return n >= h.config().wTb;});};c.prototype.AOb=function(f){return [f.code,f.xc,f.vd].filter(Boolean).join(".");};Va.Object.defineProperties(c.prototype,{Ucb:{configurable:!0,enumerable:!0,get:function(){return this.uec;}},Vcb:{configurable:!0,enumerable:!0,get:function(){return this.Jkb;}}});d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.wc)),r.__param(1,(0,l.l)(g.jb)),r.__param(2,(0,l.l)(a.Nia))],d);b.wOa=d;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(1);c=a(11);l=a(738);g=a(33);m=a(39);d=a(739);f=a(354);h=a(741);k=a(174);n=a(742);p=a(63);q=a(743);b.config=new r.Gd(function(v){v(c.wc).df(function(){return function(){return mb._cad_global.config;};});v(g.Pia).to(l.gKa).la();v(g.vn).to(l.GWa).la();v(g.$T).to(l.fOa).la();v(m.Lp).to(d.xMa).la();v(f.RQa).to(h.QQa).la();v(k.rMa).to(n.qMa).la();v(p.Qs).to(q.NLa).la();});},function(r,b,a){var m,d,f,h,k;function c(){this.xB={};this.Okb=0;}function l(n,p,q,v,t){this.debug=n;this.VB=p;this.Y_=q;this.vg=v;this.Zea=t;}function g(n,p,q){this.VB=n;this.Y_=p;this.Zea=q;}Object.defineProperty(b,"__esModule",{value:!0});b.fOa=b.GWa=b.gKa=void 0;r=a(0);m=a(1);d=a(111);f=a(7);h=a(146);k=a(353);a=a(33);g=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(a.$T)),r.__param(1,(0,m.l)(h.Z5)),r.__param(2,(0,m.l)(k.Cla))],g);b.gKa=g;l=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.Nz)),r.__param(1,(0,m.l)(a.$T)),r.__param(2,(0,m.l)(h.Z5)),r.__param(3,(0,m.l)(f.jb)),r.__param(4,(0,m.l)(k.Cla))],l);b.GWa=l;c.prototype.w6b=function(n){this.xB=Object.assign({},this.xB,n);this.Okb++;};Va.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.xB;}},Cfa:{configurable:!0,enumerable:!0,get:function(){return this.Okb;}}});a=c;a=r.__decorate([(0,m.$)()],a);b.fOa=a;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v){p=d.If.call(this,p,void 0 === v?"GeneralConfigImpl":v) || this;p.bh=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.xMa=b.vP=void 0;r=a(0);l=a(5);g=a(1);m=a(46);d=a(47);f=a(39);h=a(33);a=a(110);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.vP=function(p,q){return p.sjb(k[q] || q,f.Tz);};la(c,d.If);Va.Object.defineProperties(c.prototype,{vP:{configurable:!0,enumerable:!0,get:function(){return f.Tz.tyb;}},knb:{configurable:!0,enumerable:!0,get:function(){return (0,l.Vi)(8);}},WJ:{configurable:!0,enumerable:!0,get:function(){return "";}},LO:{configurable:!0,enumerable:!0,get:function(){return "";}},A2:{configurable:!0,enumerable:!0,get:function(){return "";}},C8:{configurable:!0,enumerable:!0,get:function(){return !0;}},uZ:{configurable:!0,enumerable:!0,get:function(){return this.bh.uZ;}},FTb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Kd:{configurable:!0,enumerable:!0,get:function(){return {};}},lya:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ou:{configurable:!0,enumerable:!0,get:function(){return !1;}},bY:{configurable:!0,enumerable:!0,get:function(){return !0;}},KG:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},FB:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.Tz.SVa,f.Tz.jOa].indexOf(this.vP);}}});n=c;r.__decorate([m.config(b.vP,"environment")],n.prototype,"vP",null);r.__decorate([m.config(m.cm,"storageTimeout")],n.prototype,"knb",null);r.__decorate([m.config(m.string,"groupName")],n.prototype,"WJ",null);r.__decorate([m.config(m.string,"canaryGroupName",!0)],n.prototype,"LO",null);r.__decorate([m.config(m.string,"uiGroupName")],n.prototype,"A2",null);r.__decorate([m.config(m.Dd,"applyIndexedDbOpenWorkaround")],n.prototype,"C8",null);r.__decorate([m.config(m.Dd,"ignoreIdbOpenError")],n.prototype,"uZ",null);r.__decorate([m.config(m.Dd,"executeStorageMigration")],n.prototype,"FTb",null);r.__decorate([m.config(m.object(),"browserInfo")],n.prototype,"Kd",null);r.__decorate([m.config(m.Dd,"isTestAccount")],n.prototype,"lya",null);r.__decorate([m.config(m.Dd,"useRangeHeader")],n.prototype,"Ou",null);r.__decorate([m.config(m.Dd,"enableMilestoneEventList")],n.prototype,"bY",null);r.__decorate([m.config(m.object,"storageRules")],n.prototype,"KG",null);n=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(h.vn)),r.__param(1,(0,g.l)(a.DH)),r.__param(2,(0,g.l)(h.A3)),r.__param(2,(0,g.optional)())],n);b.xMa=n;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Jka=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.Jka=a;},function(r,b,a){var l,g,m,d;function c(f,h){return m.If.call(this,f,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QQa=void 0;r=a(0);l=a(1);g=a(46);m=a(47);a=a(33);la(c,m.If);Va.Object.defineProperties(c.prototype,{Vpb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([g.config(g.Dd,"useNetworkMonitor")],d.prototype,"Vpb",null);d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.vn)),r.__param(1,(0,l.l)(a.A3)),r.__param(1,(0,l.optional)())],d);b.QQa=d;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t){p=d.If.call(this,p,"FtlProbeConfigImpl") || this;p.Gi=q;p.za=v;p.bh=t;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.qMa=void 0;r=a(0);l=a(27);g=a(1);m=a(5);d=a(47);f=a(175);h=a(46);k=a(33);a=a(110);la(c,d.If);Va.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.bh.maa;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Jua + (-1 === this.Jua.indexOf("?")?"?":"&") + "monotonic=" + this.za.Efb + "&device=web";}},Umb:{configurable:!0,enumerable:!0,get:function(){return m.Pa;}},Bua:{configurable:!0,enumerable:!0,get:function(){return "";}},Jua:{configurable:!0,enumerable:!0,get:function(){return this.Gi.endpoint + "/ftl/probe" + (this.Bua?"?force=" + this.Bua:"");}}});n=c;r.__decorate([h.config(h.Dd,"ftlEnabled")],n.prototype,"enabled",null);r.__decorate([h.config(h.cm,"ftlStartDelay")],n.prototype,"Umb",null);r.__decorate([h.config(h.string,"ftlEndpointForceParam")],n.prototype,"Bua",null);r.__decorate([h.config(h.url,"ftlEndpoint")],n.prototype,"Jua",null);n=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(k.vn)),r.__param(1,(0,g.l)(f.o3)),r.__param(2,(0,g.l)(l.Jh)),r.__param(3,(0,g.l)(a.DH))],n);b.qMa=n;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){k=g.If.call(this,k,void 0 === p?"EmeConfigImpl":p) || this;k.Kd=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.NLa=void 0;r=a(0);l=a(1);g=a(47);m=a(33);d=a(5);f=a(46);a=a(169);la(c,g.If);Va.Object.defineProperties(c.prototype,{Phb:{configurable:!0,enumerable:!0,get:function(){return this.Kd.Ey?!1:!0;}},rbb:{configurable:!0,enumerable:!0,get:function(){return this.Kd.Rbb || this.Kd.aca || this.Kd.PZ?!0:!1;}},QF:{configurable:!0,enumerable:!0,get:function(){return (0,d.Vi)(5);}},QBa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Vi)(10);}},UX:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},wY:{configurable:!0,enumerable:!0,get:function(){return !1;}},Qsa:{configurable:!0,enumerable:!0,get:function(){return !1;}},qu:{configurable:!0,enumerable:!0,get:function(){return !0;}},w0a:{configurable:!0,enumerable:!0,get:function(){return (0,d.Vi)(30);}},x0a:{configurable:!0,enumerable:!0,get:function(){return (0,d.Vi)(30);}},z0a:{configurable:!0,enumerable:!0,get:function(){return (0,d.Vi)(30);}},x8:{configurable:!0,enumerable:!0,get:function(){return (0,d.Vi)(30);}},A0a:{configurable:!0,enumerable:!0,get:function(){return (0,d.Vi)(30);}},zEa:{configurable:!0,enumerable:!0,get:function(){return "";}},fhb:{configurable:!0,enumerable:!0,get:function(){return this.Kd.$B?!1:!0;}},ghb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([f.config(f.Dd,"persistentStateRequired")],h.prototype,"Phb",null);r.__decorate([f.config(f.Dd,"initializeKeySystemAtStartup")],h.prototype,"rbb",null);r.__decorate([f.config(f.cm,"licenseRenewalRequestDelay")],h.prototype,"QF",null);r.__decorate([f.config(f.cm,"persistedReleaseDelay")],h.prototype,"QBa",null);r.__decorate([f.config(f.string,"drmPersistKey")],h.prototype,"UX",null);r.__decorate([f.config(f.Dd,"forceLimitedDurationLicense")],h.prototype,"wY",null);r.__decorate([f.config(f.Dd,"disableLicenseRenewal")],h.prototype,"Qsa",null);r.__decorate([f.config(f.Dd,"prepareCadmium")],h.prototype,"qu",null);r.__decorate([f.config(f.cm,"apiCloseTimeout")],h.prototype,"w0a",null);r.__decorate([f.config(f.cm,"apiCreateMediaKeysTimeout")],h.prototype,"x0a",null);r.__decorate([f.config(f.cm,"apiSetServerCertificateTimeout")],h.prototype,"z0a",null);r.__decorate([f.config(f.cm,"apiGenerateRequestTimeout")],h.prototype,"x8",null);r.__decorate([f.config(f.cm,"apiUpdateTimeout")],h.prototype,"A0a",null);r.__decorate([f.config(f.string,"serverCertificate")],h.prototype,"zEa",null);r.__decorate([f.config(f.Dd,"outputRestrictedIsFatal")],h.prototype,"fhb",null);r.__decorate([f.config(f.Dd,"outputRestrictedIsFatalForUhd")],h.prototype,"ghb",null);h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.vn)),r.__param(1,(0,l.l)(a.eH)),r.__param(2,(0,l.l)(m.A3)),r.__param(2,(0,l.optional)())],h);b.NLa=h;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.e6a=void 0;r=a(1);c=a(128);l=a(745);g=a(99);m=a(746);d=a(356);f=a(747);b.e6a=new r.Gd(function(h){h(c.mLa).to(l.lLa).la();h(g.$z).to(m.jQa).la();h(d.PLa).to(f.OLa);});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w;function c(u,x,y,z,B,A,C,D,E){var G;G=this;this.Jc=x;this.GC=y;this.config=z;this.Vv=B;this.eSb=A;this.KO=C;this.OQ=D;this.ho=E;this.sic=function(F,L){var O;G.ho.mark(w.Ua.c4,F.Tj.sa,"generate-challenge");O=!1;L.dgc(function(K){O || (O=!0,G.ho.mark(w.Ua.b4,F.Tj.sa,"generate-challenge"));G.PJ(F,L,K).then(function(I){L.R_a(I);G.FJb(L);}).catch(function(I){return L.vGb(I);});});};this.log=u.fb("DrmServices");this.Vv().Pu && this.KO.rjb().then(function(){G.fdc();}).catch(function(F){G.log.error("Unable to load the persisted DRM data",F);});this.config.rbb && this.OE(D(),h.aj.nr).then(function(F){return F.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.lLa=void 0;r=a(0);l=a(1);g=a(7);m=a(48);d=a(355);f=a(85);h=a(57);k=a(63);n=a(229);p=a(228);q=a(356);v=a(11);t=a(145);w=a(56);c.prototype.aWb=function(u,x){return this.OE(x,u.type,u.context).then(function(y){return y.dWb(u.initData,u.Wba).then(function(z){return [y,{fp:y.Yv(),data:z.al}];});});};c.prototype.ki=function(u,x){var y;y=this;this.log.info("Requesting challenges",this.F9a(u,u.type));return this.OE(x,u.type,u.context).then(function(z){y.Bfb(u,z);return z.eWb(u.initData,u.Wba).then(function(){return z;});});};c.prototype.Bfb=function(u,x){x.jgc(u.Tj);this.sic(u,x);};c.prototype.release=function(u,x){var y;y=this;this.log.info("Releasing server license",this.C$a(u));return this.oZb(u).then(function(){var z;z=Object.assign({active:!1,$e:[]},u.Tj);y.KO.c1(z);x.sdc();return u;});};c.prototype.F9a=function(u,x){return {movieId:u.Tj.K,xid:u.Tj.sa,type:(0,h.Sya)(x)};};c.prototype.C$a=function(u){return {movieId:u.Tj?u.Tj.K:void 0,xid:u.Tj?u.Tj.sa:void 0,keySessionId:u.KB()};};c.prototype.PJ=function(u,x,y){this.log.info("Sending license request",this.F9a(u,y.Pg));return this.GC.ki({sa:u.Tj.sa,fh:u.Tj.fh,p$:[u.Tj.Lm],al:[{sessionId:x.KB() || "session",data:y.al}],Pg:y.Pg,fp:x.Yv(),r2a:y.r2a,Mj:u.Tj.Mj,ih:u.Tj.ih});};c.prototype.oZb=function(u){this.log.info("Sending release request",this.C$a(u));return this.GC.release({sa:u.Tj.sa,$e:u.$e});};c.prototype.OE=function(u,x,y){return this.eSb.create().then(function(z){return z.createSession(u,x,y).then(function(){return z;});});};c.prototype.edc=function(u){var x;x=this;return this.GC.release({sa:u.sa,$e:u.$e}).catch(function(y){x.log.error("Unable to send release data to the server",y);});};c.prototype.fdc=function(){var u;u=this;this.Jc.zl(this.config.QBa,function(){u.log.trace("Removing cached sessions",{"count:":u.KO.q$.length});u.KO.q$.filter(function(x){return !x.active;}).reduce(function(x,y){return x.then(function(){return u.edc(y);}).then(function(){return u.KO.c1(y);});},Promise.resolve(void 0));});};c.prototype.FJb=function(u){var x;if(u.KB() && u.Tj){x=new p.T3();x.$e=u.$e;x.sa=u.Tj.sa;x.K=u.Tj.K;this.KO.M_a(x);}};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.ak)),r.__param(2,(0,l.l)(d.kLa)),r.__param(3,(0,l.l)(k.Qs)),r.__param(4,(0,l.l)(v.wc)),r.__param(5,(0,l.l)(q.PLa)),r.__param(6,(0,l.l)(n.Lia)),r.__param(7,(0,l.l)(t.nU)),r.__param(8,(0,l.l)(f.rU))],a);b.lLa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y,z,B,A,C,D){this.co=x;this.yc=y;this.config=z;this.Ij=B;this.c7b=A;this.YX=C;this.A3b=D;this.log=this.co.fb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.jQa=void 0;r=a(0);l=a(1);g=a(4);m=a(7);d=a(98);f=a(126);h=a(32);k=a(11);n=a(73);p=a(43);q=a(345);v=a(351);t=a(230);w=a(352);a=a(63);c.prototype.mF=function(){this.promise || (this.promise=this.Gec());return this.promise;};c.prototype.ROb=function(x,y){var z;z={initDataTypes:[p.fx],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],sessionTypes:[p.TEMPORARY]};x === f.xm.Y2 && this.Ij.Phb && (z.persistentState="required");x=z.videoCapabilities[0];y && (x.robustness=y);return [z];};c.prototype.KOb=function(x,y){var z;z=this;return new Promise(function(B,A){var C;C=n.yb.NY(x);z.YX.create(C).Odc(x,z.ROb(C,y)).then(function(D){z.log.trace("Created the media keys system access",{keySystem:x,supportedconfig:D.getConfiguration?JSON.stringify(D.getConfiguration()):void 0});D=z.c7b.create(x,D,C);z.uca=D.uca;B(D);}).catch(function(D){z.log.warn("Unable to create the media key system access object",{keySystem:x,error:D.message});A(new d.Vh(g.aa.wLa,g.Y.rn,void 0,"Unable to create media keys system access. " + D.message,D));});});};c.prototype.rXb=function(){var x;x=this.config().Tcb || [this.config().bo];if(1 < x.length)return (x=x.map(function(y){return n.yb.jva(n.yb.NY(y));}),1 === new Set(x).size?Promise.resolve(x[0]):this.mF().then(function(y){return y.Yv();}).then(function(y){return n.yb.jva(y);}));x=n.yb.NY(x[0]);return Promise.resolve(n.yb.jva(x));};c.prototype.cHa=function(x){var y,z,B,A;y=this;z=x.Yv();B=x.Z3a();A=x.Y3a();return x.createMediaKeys().then(function(C){B.createSession(C,p.TEMPORARY);return B.setServerCertificate(C,A.vaa());}).then(function(){return B.generateRequest(p.fx,y.sva(z),!1);}).then(function(){return B.close();}).then(function(){return x;}).catch(function(C){y.log.error("validateKeySystemAccess failed",C);return Promise.reject(C);});};c.prototype.sva=function(x){switch(x){case f.xm.gF:x=q.lMa;break;case f.xm.CC:x=q.NSa;break;default:x=q.XWa;}return x.map(this.yc.decode);};c.prototype.Gec=function(){var x;x=this;try{return this.A3b.get().then(function(y){return y.map(function(z,B){return function(){var A,C;A=B === y.length - 1;C=x.config().cHa && !A;return x.KOb(z.keySystem,z.robustness).then(function(D){return C?x.cHa(D):Promise.resolve(D);});};});}).then(function(y){return x.Hec(y);});}catch(y){return Promise.reject(y);}};c.prototype.Hec=function(x){return x.reduce(function(y,z){return y.then(function(B){return Promise.resolve(B);}).catch(function(){return z();});},Promise.reject(Error("keySystem missing")));};Va.Object.defineProperties(c.prototype,{Scb:{configurable:!0,enumerable:!0,get:function(){return this.uca;}}});u=c;u=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(h.Zi)),r.__param(2,(0,l.l)(k.wc)),r.__param(3,(0,l.l)(a.Qs)),r.__param(4,(0,l.l)(v.hQa)),r.__param(5,(0,l.l)(t.mja)),r.__param(6,(0,l.l)(w.vOa))],u);b.jQa=u;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t,w,u){this.co=p;this.Ia=q;this.yc=v;this.config=t;this.Tq=w;this.Mq=u;}Object.defineProperty(b,"__esModule",{value:!0});b.OLa=void 0;r=a(0);l=a(1);g=a(7);m=a(18);d=a(32);f=a(63);h=a(64);k=a(348);a=a(99);c.prototype.create=function(){var p;p=this;return this.Mq.mF().then(function(q){return new k.QLa(p.co,p.Ia,p.yc,p.config,p.Tq,q);});};n=c;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.jd)),r.__param(2,(0,l.l)(d.Zi)),r.__param(3,(0,l.l)(f.Qs)),r.__param(4,(0,l.l)(h.JD)),r.__param(5,(0,l.l)(a.$z))],n);b.OLa=n;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N;Object.defineProperty(b,"__esModule",{value:!0});b.Adb=void 0;c=a(749);l=a(775);g=a(784);m=a(787);d=a(793);f=a(797);h=a(1205);k=a(1208);n=a(1220);p=a(1229);q=a(1233);v=a(1235);t=a(1264);w=a(1266);u=a(1270);x=a(1285);y=a(1293);z=a(1299);B=a(1302);A=a(1309);C=a(227);D=a(1315);E=a(1322);G=a(1336);F=a(1342);L=a(1344);O=a(1351);K=a(1395);I=a(1417);M=a(1421);H=a(1425);J=a(1439);N=a(1442);b.Adb=function(P){P.load(c.nB,h.SL,l.Pdb,k.cp,g.Afb,m.U,d.rqb,f.Jab,n.storage,p.CO,q.Z1a,v.ieb,t.bG,w.fl,u.Odb,x.Tfb,y.g8a,z.Yib,B.bL,A.Y5a,C.d6a,D.Se,E.Fd,G.qb,F.Jfb,L.Jhb,O.j,K.j3a,I.transports,M.Sm,H.Qh,J.Y0a,N.ba);};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa,T,X,Q,ka,ra,R,ha,wa,va,Ea,Ya,wb,nb,zb,Pa,Za,Xa,cb,hb,sb,Hb,Lb,Rb,Tb,Ob;Object.defineProperty(b,"__esModule",{value:!0});b.nB=void 0;r=a(1);c=a(37);l=a(27);g=a(48);m=a(86);d=a(147);f=a(750);h=a(751);k=a(752);n=a(753);p=a(69);q=a(82);v=a(32);t=a(31);w=a(25);u=a(112);x=a(64);y=a(358);z=a(754);B=a(359);A=a(360);C=a(755);D=a(756);E=a(218);G=a(361);F=a(757);L=a(226);O=a(129);K=a(758);I=a(18);M=a(362);H=a(759);J=a(760);N=a(111);P=a(761);W=a(7);V=a(357);S=a(762);U=a(85);fa=a(763);qa=a(363);xa=a(764);Aa=a(765);Oa=a(113);T=a(14);X=a(766);Q=a(365);ka=a(366);ra=a(767);R=a(367);ha=a(11);wa=a(45);va=a(148);Ea=a(368);Ya=a(169);wb=a(768);nb=a(369);zb=a(370);Pa=a(236);Za=a(769);Xa=a(177);cb=a(770);hb=a(237);sb=a(771);Hb=a(772);Lb=a(176);Rb=a(773);Tb=a(235);Ob=a(774);b.nB=new r.Gd(function(Eb){Eb(c.x5).PG(function(){return {};}).la();Eb(c.qH).kn(JSON);Eb(c.YWa).kn(mb);Eb(d.LVa).kn(Math);Eb(c.ZOa).kn(T.l5);Eb(c.bla).kn(T.ox);Eb(c.BWa).kn(T.AH);Eb(c.FKa).kn(Date);Eb(c.MM).kn(T.hf);Eb(c.Kwb).kn(T.DD);Eb(V.bKa).to(S.aKa).la();Eb(I.jd).to(K.kIa).la();Eb(l.Jh).to(n.cKa).la();Eb(g.ak).to(f.OUa).la();Eb(m.Wz).to(h.XNa).la();Eb(x.JD).to(D.bUa).la();Eb(d.J5).to(k.jUa).la();Eb(Ea.uka).to(Hb.bQa).la();Eb(N.Nz).to(J.KKa).la();Eb(N.IKa).to(P.HKa).la();Eb(p.Vs).to(z.CWa).la();Eb(q.Kz).to(B.uia).la();Eb(v.Zi).to(A.wia).la();Eb(t.Di).to(C.DWa).la();Eb(w.Vg).kn(E.pH);Eb(nb.OT).to(zb.cMa).la();Eb(u.qja).to(G.Ik).ixa();Eb(u.Q3).to(G.Ik).la();Eb(u.XKa).to(G.Ik).la();Eb(u.tja).to(G.Ik).la();Eb(L.Zla).to(O.KH).la();Eb(M.sKa).to(H.rKa).la();Eb(U.bN).to(fa.ema).la();Eb(U.rU).to(fa.ema).la();Eb("Factory<LoggerFactory>").tob(W.jb);Eb(qa.bja).to(xa.MKa).la();Eb(Oa.$M).df(function(Sb){return function(Zb){return new Aa.UVa(Sb.zb.get(I.jd),Sb.zb.get(g.ak),Zb);};});Eb(Xa.P3).df(function(Sb){return function(Zb){return new cb.GKa(Sb.zb.get(g.ak),Zb);};});Eb(X.Ala).Ijc(Q.zla);Eb(X.ryb).df(function(Sb){var Zb;Zb=Sb.zb.get(X.Ala);return function(){return new Zb(!1);};});Eb(X.syb).df(function(Sb){var Zb;Zb=Sb.zb.get(X.Ala);return function(){return new Zb(!0);};});Eb(ka.yWa).df(function(){return function(Sb){return new ra.zWa(Sb);};});Eb(va.DU).df(function(Sb){return function(Zb,Jc,dd){return new R.nTa(Sb.zb.get(N.Nz),Sb.zb.get(ha.wc),Sb.zb.get(wa.Rp),Sb.zb.get(Ea.uka),Zb,Jc,dd);};});Eb(y.jRa).df(function(){return function(Sb){return new F.kRa(Sb);};});Eb(Ya.eH).to(wb.mJa);Eb(Lb.g6).to(Rb.AWa).la();Eb(Pa.OU).df(function(Sb){return function(Zb,Jc){return new Za.fWa(Sb.zb.get(g.ak),Zb,Jc);};});Eb(hb.WLa).to(sb.VLa).la();Eb(Tb.Nia).to(Ob.NJa).la();});},function(r,b,a){var g,m,d,f;function c(h){this.Yq=h;(0,m.Kq)(this,"timers");}function l(h,k){this.Yq=h;this.tKb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.OUa=void 0;r=a(0);g=a(1);m=a(54);d=a(37);f=a(5);l.prototype.cancel=function(){this.tKb(this.Yq);};c.prototype.yl=function(h){return this.zl(f.Pa,h);};c.prototype.zl=function(h,k){var n;n=this.Yq.setTimeout(k,h.ia(f.va));return new l(this.Yq,function(p){p.clearTimeout(n);});};c.prototype.$R=function(h,k){var n;n=this.Yq.setInterval(k,h.ia(f.va));return new l(this.Yq,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(d.YWa))],a);b.OUa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){this.za=h;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.XNa=void 0;r=a(0);g=a(1);m=a(5);d=a(27);a=a(147);c.prototype.uB=function(){return this.za.nf.ia(m.Go) * l.HJa + Math.floor(this.random.random() * l.HJa);};f=l=c;f.HJa=1E8;f=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(d.Jh)),r.__param(1,(0,g.l)(a.J5))],f);b.XNa=f;},function(r,b,a){var l,g;function c(m){this.Uic=m;}Object.defineProperty(b,"__esModule",{value:!0});b.jUa=void 0;r=a(0);l=a(1);a=a(147);c.prototype.random=function(){return this.Uic.random();};c.prototype.jjb=function(m,d){if("number" !== typeof m)(d=m.end,m=m.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(m + this.random() * (d - m));};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.LVa))],g);b.jUa=g;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v){var t;t=this;this.config=n;this.FPb=p;this.Pb=q;this.performance=v;this.n9b=function(w){t.AEa=w.Ea(t.nf);};(0,l.Kq)(this,"date");(0,l.Kq)(this,"performance");this.rHb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.AEa=g.Pa;this.Pb.addListener(k.Oja.ylb,this.n9b);}Object.defineProperty(b,"__esModule",{value:!0});b.cKa=void 0;r=a(0);l=a(54);g=a(5);m=a(1);d=a(37);f=a(357);h=a(112);k=a(16);c.prototype.$Gb=function(n){return n.add(this.AEa);};Va.Object.defineProperties(c.prototype,{nf:{configurable:!0,enumerable:!0,get:function(){return this.Efb?(0,g.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,g.$b)(this.FPb.now());}},yL:{configurable:!0,enumerable:!0,get:function(){return this.nf.add(this.AEa);}},Efb:{configurable:!0,enumerable:!0,get:function(){return this.config.Xpb && this.rHb;}}});a=c;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(f.bKa)),r.__param(1,(0,m.l)(d.FKa)),r.__param(2,(0,m.l)(h.tja)),r.__param(3,(0,m.l)(d.bla)),r.__param(3,(0,m.optional)())],a);b.cKa=a;},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.CWa=void 0;r=a(0);a=a(1);c.prototype.encode=function(m){return l.ota(m);};c.prototype.decode=function(m){return l.zsa(m);};c.ota=function(m){if(!m)throw new TypeError("Invalid byte array");for(var d=0,f,h=m.length,k="";d < h;){f=m[d++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (m[d++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((m[d++] & 63) << 6) + (m[d++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(f);}return k;};c.zsa=function(m){var d,f,h,k,n;d=m.length;f=0;k=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=m.charCodeAt(h);128 > n?f++:f=2048 > n?f + 2:f + 3;}f=new Uint8Array(f);for(h=0;h < d;h++){n=m.charCodeAt(h);128 > n?f[k++]=n:(2048 > n?f[k++]=192 | n >>> 6:(f[k++]=224 | n >>> 12,f[k++]=128 | n >>> 6 & 63),f[k++]=128 | n & 63);}return f;};g=l=c;g=l=r.__decorate([(0,a.$)()],g);b.CWa=g;},function(r,b,a){var l,g,m,d;function c(f,h){this.is=f;this.ik=h;}Object.defineProperty(b,"__esModule",{value:!0});b.DWa=void 0;r=a(0);l=a(1);a(4);g=a(25);m=a(82);d=a(14);c.prototype.ZF=function(f,h,k){var n,p,q,v;n=this;if(h)if(k){p=k.r_;q=k.prefix;v=k.jea;this.cF(h,function(t,w){if(!v || n.is.wh(w))f[(q || "") + (p?t.toLowerCase():t)]=w;});}else this.cF(h,function(t,w){f[t]=w;});return f;};c.prototype.cF=function(f,h){for(var k in f){f.hasOwnProperty(k) && h(k,f[k]);}};c.prototype.KE=function(f,h){if(f.length == h.length){for(var k=f.length;k--;){if(f[k] != h[k])return !1;}return !0;}return !1;};c.prototype.E3a=function(f,h){if(f.length != h.length)return !1;f.sort();h.sort();for(var k=f.length;k--;){if(f[k] !== h[k])return !1;}return !0;};c.prototype.pf=function(f){var h,k,n;if(f){h=f.stack;k=f.number;n=f.message;n || (n="" + f);h?(f="" + h,0 !== f.indexOf(n) && (f=n + "\n" + f)):f=n;k && (f+="\nnumber:" + k);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.ava=function(f){return this.getFunctionName(f.constructor);};c.prototype.SAa=function(f){var h,k;h=this;k="";this.is.vE(f) || this.is.t0a(f)?k=Array.prototype.reduce.call(f,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Ir(f)?k=f:this.cF(f,function(n,p){k+=(k?", ":"") + "{" + n + ": " + (h.is.e8(p)?h.getFunctionName(p) || "function":p) + "}";});return "[" + this.ava(f) + " " + k + "]";};c.prototype.createElement=function(f,h,k,n){var p;p=d.Xh.createElement(f);h && (p.style.cssText=h);k && (p.innerHTML=k);n && this.cF(n,function(q,v){p.setAttribute(q,v);});return p;};c.prototype.qUb=function(f,h){return function(k){return k[f] === h;};};c.prototype.u0=function(f){var h;h={};(f || "").split("&").forEach(function(k){var n,p;k=k.trim();n=k.indexOf("=");if(0 <= n){p=decodeURIComponent(k.substr(0,n)).toLowerCase();h[p]=decodeURIComponent(k.substr(n + 1));}else h[k.toLowerCase()]=void 0;});return h;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Vg)),r.__param(1,(0,l.l)(m.Kz))],a);b.DWa=a;},function(r,b,a){var l,g,m;function c(d){this.Jc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.bUa=void 0;r=a(0);l=a(1);g=a(48);m=a(64);c.prototype.Cs=function(d,f){var h;h=this;return new Promise(function(k,n){var p;p=h.Jc.zl(d,function(){n(new m.Us(d));});f.then(function(q){k(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.ak))],a);b.bUa=a;},function(r,b,a){var l;function c(g){this.kWb=g;this.nba=!1;this.Cba=this.Tg=this.ES=0;this.vZ=!1;this.Dba=0;}Object.defineProperty(b,"__esModule",{value:!0});b.kRa=void 0;l=a(15);c.prototype.npa=function(g){g < this.ES && (this.Tg+=this.ES);this.ES=g;this.nba=!0;};c.prototype.$Wb=function(){if(this.nba)return this.vZ?this.Dba - this.Cba:this.Tg + this.ES - this.Cba;};c.prototype.refresh=function(){var g;g=this.kWb();(0,l.Oa)(g) && this.npa(g);};c.prototype.Hhc=function(){this.vZ || (this.nba && (this.Dba=this.Tg + this.ES),this.vZ=!0);};c.prototype.Yhc=function(){this.vZ && (this.nba && (this.Cba+=this.Tg + this.ES - this.Dba),this.Dba=0,this.vZ=!1);};b.kRa=c;},function(r,b,a){var l,g,m,d;function c(f,h){this.za=f;this.naa=this.za.nf.ia(m.va) - 1;this.Y4b=this.xca=0;this.id="" + h.uB();}Object.defineProperty(b,"__esModule",{value:!0});b.kIa=void 0;r=a(0);l=a(1);g=a(27);m=a(5);a=a(86);c.prototype.Rb=function(){var f,h;f=this.za.nf.ia(m.va) - this.naa;if(f < this.xca){h=this.xca + 1;this.naa-=h - f;f=h;}this.xca=f;return (0,m.$b)(this.xca);};c.prototype.jYb=function(){return this.Y4b++;};Va.Object.defineProperties(c.prototype,{cC:{configurable:!0,enumerable:!0,get:function(){return (0,m.$b)(this.naa);}}});d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Jh)),r.__param(1,(0,l.l)(a.Wz))],d);b.kIa=d;},function(r,b,a){var l,g,m,d;function c(f,h){this.is=f;this.Se=h;}Object.defineProperty(b,"__esModule",{value:!0});b.rKa=void 0;r=a(0);g=a(1);m=a(25);a=a(31);c.prototype.encode=function(f){var h,k;h=this;k="";this.Se.cF(f,function(n,p){n=h.D6a(n) + "=" + h.D6a(p);k=k?k + ("," + n):n;});return k;};c.prototype.D6a=function(f){return this.is.jJ(f)?this.is.Rl(f)?"" + f:this.is.Ir(f)?(f=f.replace(l.dDa,this.Eza.bind(this)),!l.icc.test(f) && l.r7b.test(f) && (f='"' + f + '"'),f):this.is.c8(f)?"" + f:this.is.Soa(f)?"NaN":"":"";};c.prototype.Eza=function(f){return l.map[f];};d=l=c;d.map={'"':'""',"\r":"","\n":" "};d.dDa=/(?!^.+)["\r\n](?=.+$)/g;d.icc=/["].*["]/g;d.r7b=/[", ]/;d=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.Vg)),r.__param(1,(0,g.l)(a.Di))],d);b.rKa=d;},function(r,b,a){var l,g,m,d;function c(f,h,k){this.config=f;this.Ib=h;this.qa=k.fb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.KKa=void 0;r=a(0);l=a(1);g=a(25);m=a(111);a=a(7);c.prototype.assert=function(){};c.prototype.QHb=function(f,h){this.assert(this.Ib.jJ(f),h);};c.prototype.RHb=function(f,h){this.assert(this.Ib.wh(f),h);};c.prototype.K8=function(f,h){this.assert(this.Ib.Ir(f),h);};c.prototype.XHb=function(f,h){this.assert(this.Ib.So(f),h);};c.prototype.VHb=function(f,h){this.assert(this.Ib.Ir(f) || null === f || void 0 === f,h);};c.prototype.J8=function(f,h){this.assert(this.Ib.Rl(f),h);};c.prototype.THb=function(f,h){this.assert(this.Ib.Bpa(f),h);};c.prototype.WHb=function(f,h){this.assert(this.Ib.BW(f),h);};c.prototype.UHb=function(f,h){this.assert(this.Ib.lW(f),h);};c.prototype.PHb=function(f,h){this.assert(this.Ib.c8(f),h);};c.prototype.SHb=function(f,h){this.assert(this.Ib.e8(f),h);};c.prototype.c2b=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.IKa)),r.__param(1,(0,l.l)(g.Vg)),r.__param(2,(0,l.l)(a.jb))],d);b.KKa=d;},function(r,b,a){var l,g,m,d;function c(f){f=g.uT.call(this,f,"DebugConfigImpl") || this;f.Qtc=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.HKa=void 0;r=a(0);l=a(46);g=a(47);m=a(1);a=a(33);la(c,g.uT);Va.Object.defineProperties(c.prototype,{lJb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.Dd,"breakOnError")],d.prototype,"lJb",null);d=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(a.Pia))],d);b.HKa=d;},function(r,b,a){var l,g,m,d;function c(f){return g.uT.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.aKa=void 0;r=a(0);l=a(46);g=a(47);m=a(1);a=a(33);la(c,g.uT);Va.Object.defineProperties(c.prototype,{Xpb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.Dd,"usePerformanceApi")],d.prototype,"Xpb",null);d=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(a.Pia))],d);b.aKa=d;},function(r,b,a){var l,g,m,d;function c(f,h){this.Ia=f;this.entries=new Set();this.qa=h.fb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.ema=void 0;r=a(0);l=a(1);g=a(18);m=a(5);a=a(7);c.prototype.mark=function(f,h,k){f={name:f,Gu:this.Ia.Rb()};h && (f.sa=h);k && (f.pg=k);this.entries.add(f);return f;};c.prototype.Cva=function(){var f;f=[];this.entries.forEach(function(h){return f.push(h);});return f;};c.prototype.N9a=function(f){return this.Cva().filter(function(h){return h.sa === f;});};c.prototype.mYb=function(){var f;f={};try{f=this.Cva().filter(function(h){return !h.sa;}).reduce(function(h,k){h[k.name]=k.Gu.ia(m.va);return h;},{});}catch(h){this.qa.error(" getMapOfCommonMarks exception",h);}return f;};c.prototype.Xjb=function(f){var h;h=this;this.Cva().forEach(function(k){k.sa === f && h.entries.delete(k);});};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(a.jb))],d);b.ema=d;},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v){this.Ia=q;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.MKa=void 0;r=a(0);g=a(1);m=a(18);d=a(36);f=a(4);h=a(16);k=a(5);n=a(14);a=a(364);c.prototype.t5a=function(q){var v,t,w,u,x,y,z,B,A,C;v=this;u=q.mediaTime.value;x=q.qt.value;y=q.Db.value;z=q.state.value;B={segmentId:q.Rva(),mediaTime:u,segmentTime:q.rF(),bufferingState:l.uJb[x],presentingState:l.hbc[y],playbackState:l.$$b[z],mseBuffersBusy:this.HZb(q),intBuffersBusy:this.SXb(q),tabVisible:this.Vic(),decodedFrameCount:this.$Pb(q),videoElementInDom:this.jmc(q),lastVideoSync:this.Ia.Rb().Ea((0,k.$b)(q.h2)).ia(k.va)};A=y === h.nb.Dg?q.lb.ji?this.config.$gb:this.config.Zgb:this.config.wfb;if(x !== h.ig.Ue){if((x=f.Y.itb,this.F1a(B.mseBuffersBusy,B.intBuffersBusy)))C=l.WIa;}else (y !== h.nb.Xc?x=f.Y.ktb:(x=f.Y.jtb,(y=q.rf) && 0 === y.zaa() && (C=l.Jzb)),(y=q.rf) && y.Wb.sourceBuffers.forEach(function(D){var E,G;E=l.Xf[D.mediaType];B[E + "Ranges"]=D.saa();try{G=D.buffered();}catch(F){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - u,B[E + "Undecoded"]=D,1 < G.length && (C=l.$rb),u < 1E3 * G.start(0) || u > 1E3 * G.end(0)?C=l.bsb:D < A.ia(k.va)?C=l.csb:v.F1a(B.mseBuffersBusy,B.intBuffersBusy) && (C=l.WIa)):(B[E + "Undecoded"]=0,C=l.Zrb);}));y=q.kkb.H$a();z=u === (null === (t=y.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);B.lastRepositionCausedTimeout=z;B.trackChangeInProgress=null === (w=q.qb) || void 0 === w?void 0:w.mGa;Object.assign(B,y);q="";try{q=JSON.stringify(B);}catch(D){q="Cannot stringify details: " + D;}return new d.rd(f.aa.xRa,x,C,void 0,void 0,void 0,q,void 0);};c.prototype.HZb=function(q){var v;if(q.Wb){v={};q.Wb.sourceBuffers.forEach(function(t){v[0 === t.type?"audio":"video"]={updating:t.updating()};});return v;}};c.prototype.SXb=function(q){var v;if(q.Wb){v={};q.Wb.sourceBuffers.forEach(function(t){v[0 === t.type?"audio":"video"]={updating:t.Li()};});return v;}};c.prototype.Vic=function(){return !n.Xh.hidden;};c.prototype.$Pb=function(q){return (q=q.rf) && (q=q.Wb.ea) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.jmc=function(q){if(q=q.rf)if(q=q.Wb.ea)return n.Xh.body.contains(q);return !1;};c.prototype.F1a=function(q,v){var t,w,u,x;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (w=v.audio) || void 0 === w?void 0:w.updating) && (null === (u=q.video) || void 0 === u?void 0:u.updating) === (null === (x=v.video) || void 0 === x?void 0:x.updating));};p=l=c;p.Zrb="1";p.$rb="2";p.bsb="3";p.WIa="4";p.csb="5";p.Jzb="6";p.Xf=["Audio","Video"];p.uJb=["","NORMAL","BUFFERING","STALLED"];p.hbc=["","WAITING","PLAYING ","PAUSED","ENDED"];p.$$b=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.jd)),r.__param(1,(0,g.l)(a.Aka))],p);b.MKa=p;},function(r,b,a){var l,g,m,d;function c(f,h,k){var n;n=this;this.ah=f;this.Jc=h;this.D9=k;this.lR=function(p){n.Dk=void 0;n.mkc(p || n.D9);};this.Ycb=(0,m.$b)(-this.D9.ia(m.va));}Object.defineProperty(b,"__esModule",{value:!0});b.UVa=void 0;r=a(0);l=a(1);g=a(18);m=a(5);a=a(48);c.prototype.yl=function(f){this.dEa=f;this.Dk=this.Dk || this.Mg(this.lR);};c.prototype.Ji=function(){this.Dk && this.Dk.cancel();this.Dk=void 0;};c.prototype.mkc=function(f){var h,k;h=this.ah.Rb();if(this.dEa){k=f.Ea(h.Ea(this.Ycb));0 >= k.Jm(m.Pa)?(f=this.dEa,this.dEa=void 0,this.Ycb=h,f()):this.Dk=this.Dk || this.Jc.zl(k,this.lR.bind(this,f));}};c.prototype.Mg=function(f){return this.Jc.zl(m.Pa,f);};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(a.ak))],d);b.UVa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ala="PrioritizedSetOfListsSymbol";b.ryb="PrioritizedSetOfListsFactorySymbol";b.syb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(l){this.Nr=l;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.zWa=void 0;c.prototype.toString=function(){return this.href;};Va.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Nr + this.searchParams.toString();}}});b.zWa=c;a.prototype.get=function(l){return this.searchParams[l];};a.prototype.set=function(l,g){this.searchParams[l]=g;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(l,g,m){var d;d=oa(g);g=d.next().value;d=d.next().value;return "" + l + (0 == m?"?":"&") + g + "=" + d;},"");};},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){this.userAgentData=p;this.Kd=this.STb(k,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.HWa=b.mJa=void 0;r=a(0);l=a(1);g=a(11);m=a(33);d=a(37);a=a(176);c.prototype.cba=function(k,n){var p;if(n=this.l_b(n))switch(k){case h.iC:p=0 < n.length?Number(n[0]):0;break;case h.VQ:p=1 < n.length?Number(n[1]):0;break;case h.oR:p=2 < n.length?Number(n[2]):0;break;case h.Cfa:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.l_b=function(k){return null === k || void 0 === k?void 0:k.split(".");};c.prototype.hK=function(k){return this.Kd.name === k;};c.prototype.kK=function(k){return this.Kd.mea.name === k;};c.prototype.A2b=function(k){return this.Kd.P_b === k;};c.prototype.STb=function(k,n){return Object.assign(Object.assign({P_b:this.UTb(k,n)},this.RTb(k,n)),{mea:this.VTb(k,n)});};c.prototype.UTb=function(k,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(k)?g.X4.phone:(/Android/).test(k)?g.X4.Wic:g.X4.eMb;};c.prototype.RTb=function(k,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(k)?{name:g.Co.opera,version:""}:(/Tesla/).test(k)?{name:g.Co.Unb,version:""}:(n=k.match(/Edge\/(\d*)\./))?{name:g.Co.Sr,version:n[1]}:(n=k.match(/Edg\/(\d*)\./))?{name:g.Co.$5a,version:n[1]}:(n=k.match(/Chrome\/(\d*)\./))?{name:g.Co.mra,version:n[1]}:(n=k.match(/Firefox\/(\d*)\./))?{name:g.Co.D7a,version:n[1]}:(k=k.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:g.Co.Vkb,version:k[1]}:{name:g.Co.mra,version:""};};c.prototype.VTb=function(k,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(k)?{name:g.Pp.K2a,version:""}:(n=k.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:g.Pp.Ydb,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(k)?{name:g.Pp.qHa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(k) || (/Android.*Chrome\/[.0-9]* /).test(k)?{name:g.Pp.v8,version:""}:(/Linux/).test(k)?{name:g.Pp.vdb,version:""}:(/iPhone/).test(k)?{name:g.Pp.Hbb,version:""}:{name:g.Pp.qHa,version:""};};Va.Object.defineProperties(c.prototype,{Rbb:{configurable:!0,enumerable:!0,get:function(){return this.hK(g.Co.mra);}},KZ:{configurable:!0,enumerable:!0,get:function(){return this.hK(g.Co.Sr);}},$B:{configurable:!0,enumerable:!0,get:function(){return this.hK(g.Co.$5a);}},aca:{configurable:!0,enumerable:!0,get:function(){return this.hK(g.Co.D7a);}},bya:{configurable:!0,enumerable:!0,get:function(){return this.hK(g.Co.opera);}},PZ:{configurable:!0,enumerable:!0,get:function(){return this.hK(g.Co.Vkb);}},vcb:{configurable:!0,enumerable:!0,get:function(){return this.hK(g.Co.Unb);}},HZ:{configurable:!0,enumerable:!0,get:function(){return this.kK(g.Pp.v8);}},qQ:{configurable:!0,enumerable:!0,get:function(){return this.kK(g.Pp.Hbb);}},Tba:{configurable:!0,enumerable:!0,get:function(){return this.kK(g.Pp.v8) && this.A2b(g.X4.phone);}},JZ:{configurable:!0,enumerable:!0,get:function(){return this.kK(g.Pp.K2a);}},G2b:{configurable:!0,enumerable:!0,get:function(){return this.kK(g.Pp.vdb);}},jK:{configurable:!0,enumerable:!0,get:function(){return this.kK(g.Pp.Ydb);}},Ey:{configurable:!0,enumerable:!0,get:function(){return this.kK(g.Pp.qHa);}},Pr:{configurable:!0,enumerable:!0,get:function(){return this.cba(h.iC,this.Kd.version);}},J9b:{configurable:!0,enumerable:!0,get:function(){return this.cba(h.iC,this.Kd.mea.version);}},K9b:{configurable:!0,enumerable:!0,get:function(){return this.cba(h.VQ,this.Kd.mea.version);}},L9b:{configurable:!0,enumerable:!0,get:function(){return this.cba(h.oR,this.Kd.mea.version);}}});f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.BWa)),r.__param(1,(0,l.l)(m.$T)),r.__param(2,(0,l.l)(a.g6))],f);b.mJa=f;(function(k){k[k.iC=0]="major";k[k.VQ=1]="minor";k[k.oR=2]="patch";k[k.Cfa=3]="revision";})(h=b.HWa || (b.HWa={}));},function(r,b,a){var l,g,m;function c(d,f,h){this.Jc=d;this.gGa=f;this.yy=h;}Object.defineProperty(b,"__esModule",{value:!0});b.fWa=void 0;r=a(0);l=a(48);g=a(1);m=a(5);c.prototype.bF=function(){this.Dk || (this.Dk=this.Jc.zl((0,m.$b)(this.gGa),this.yy));};c.prototype.Is=function(){this.Dk && this.Dk.cancel();this.Dk=void 0;};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(l.ak))],a);b.fWa=a;},function(r,b,a){var l,g;function c(m,d){this.Jc=m;this.D9=d;}Object.defineProperty(b,"__esModule",{value:!0});b.GKa=void 0;r=a(0);l=a(1);a=a(48);c.prototype.yl=function(m){this.Ji();this.Dk=this.Jc.zl(this.D9,m);};c.prototype.Ji=function(){this.Dk && this.Dk.cancel();this.Dk=void 0;};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.ak))],g);b.GKa=g;},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.VLa=void 0;r=a(0);l=a(1);g=a(237);c.prototype.tP=function(m,d){var f;f=this;m && Object.entries(d).forEach(function(h){var k,n,p;k=oa(h);h=k.next().value;k=k.next().value;if(f.p2b(k)){n=oa(k);k=n.next().value;p=n.next().value;n=m[k];Array.isArray(n)?(f.Gsa(m,h,k),n.forEach(function(q){f.tP(q,p);})):k === g.Nk?Object.values(m).forEach(function(q){f.tP(q,p);}):(f.Gsa(m,h,k),"object" === typeof n && f.tP(n,p));}else f.Gsa(m,h,k);});};c.prototype.p2b=function(m){return Array.isArray(m);};c.prototype.Gsa=function(m,d,f){m.hasOwnProperty(d) || d === f || Object.defineProperty(m,d,{get:function(){return m[f];},set:function(h){return m[f]=h;},enumerable:!0});};a=c;a=r.__decorate([(0,l.$)()],a);b.VLa=a;},function(r,b,a){var l,g,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.bQa=void 0;r=a(0);l=a(11);g=a(17);a=a(1);c.prototype.Yv=function(){return this.o2b()?g.oLa:(/widevine/i).test(this.config().bo)?g.hja:(/fps/i).test(this.config().bo)?"fairplay":g.V3;};c.prototype.o2b=function(){return (/clearkey/i).test(this.config().bo);};m=c;m=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(l.wc))],m);b.bQa=m;},function(r,b,a){var l,g,m,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.AWa=void 0;r=a(0);m=a(1);a=a(14);d={UZ:!1,reason:"uninitialized"};null === (g=null === (l=null === a.hf || void 0 === a.hf?void 0:a.hf.userAgentData) || void 0 === l?void 0:l.getHighEntropyValues) || void 0 === g?void 0:g.call(l,["platformVersion"]).then(function(f){d=(f=f.platformVersion)?{UZ:!0,version:f}:{UZ:!1,reason:"undefined"};}).catch(function(){d={UZ:!1,reason:"exception"};});Va.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});l=c;l=r.__decorate([(0,m.$)()],l);b.AWa=l;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t;function c(w,u,x,y,z,B){this.gn=w;this.config=x;this.Tq=y;this.za=z;this.is=B;this.log=u.fb("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.NJa=b.Mia=void 0;r=a(0);g=a(1);m=a(4);d=a(7);f=a(5);h=a(83);k=a(11);n=a(64);p=a(27);q=a(25);v=a(73);t=a(43);b.Mia="errors";c.prototype.load=function(){var w,u;w=this;if(!this.config().j6a)return Promise.resolve([]);u=(0,f.$b)(this.config().MJb);return this.Tq.Cs(u,this.ydb([])).catch(function(x){w.log.error("Load failed.",x);return [];});};c.prototype.add=function(w,u,x,y,z){var B;B=this;return this.config().j6a && u && x && (u === v.yb.hla || u === v.yb.n6 + "." + t.ix)?this.ydb([{time:w,keySystem:u,code:x,xc:y,vd:z}]).then(function(){}).catch(function(A){B.log.error("Add failed.",A);}):Promise.resolve();};c.prototype.E4b=function(){var w;w=this;return this.gn.create().then(function(u){return u.load(b.Mia).then(function(x){var y;return (null === (y=x.value) || void 0 === y?void 0:y.errors) || [];}).catch(function(x){if(x.Ca === m.Y.kA)return (w.log.warn("No CachedErrors."),[]);throw x;});});};c.prototype.MVb=function(w){return {time:(0,f.Vi)(w[0]),keySystem:w[1],code:w[2],xc:w[3],vd:w[4]};};c.Gjc=function(w){return [w.time.ia(f.Go),w.keySystem,w.code,w.xc,w.vd];};c.prototype.Rec=function(w){var u;u={version:1,errors:w.map(l.Gjc)};return this.gn.create().then(function(x){return x.save(b.Mia,u,!1);}).then(function(){return w;});};c.prototype.wUb=function(w){var u,x;u=(0,f.Vi)(this.config().LJb);x=this.za.nf.Ea(u);return w.filter(function(y){return y.time.Ea(x).lcb();});};c.prototype.Ulc=function(w){return w.filter(this.m2b.bind(this)).map(this.MVb);};c.prototype.m2b=function(w){return this.is.Rl(w[0]) && this.is.Ir(w[1]) && this.is.Rl(w[2]) && (this.is.Rl(w[3]) || void 0 === w[3]) && (this.is.Ir(w[4]) || void 0 === w[4])?!0:!1;};c.prototype.rUb=function(w){var u;u=this;return w.filter(function(x){return u.config().uTb.includes(x.code);});};c.prototype.sUb=function(w){return w.slice(-this.config().JJb);};c.prototype.ydb=function(w){var u;u=this;return this.E4b().then(function(x){return u.Ulc(x);}).then(function(x){return u.wUb(x);}).then(function(x){return x.concat(w);}).then(function(x){return u.rUb(x);}).then(function(x){return u.sUb(x);}).then(function(x){return u.Rec(x);});};a=l=c;a=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(h.Iz)),r.__param(1,(0,g.l)(d.jb)),r.__param(2,(0,g.l)(k.wc)),r.__param(3,(0,g.l)(n.JD)),r.__param(4,(0,g.l)(p.Jh)),r.__param(5,(0,g.l)(q.Vg))],a);b.NJa=a;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Pdb=void 0;c=a(776);l=a(777);r=a(1);g=a(114);m=a(7);d=a(782);b.Pdb=new r.Gd(function(f){f(m.jb).to(l.qPa).la();f(g.FM).to(c.rPa).la();f(m.dka).to(d.fPa).la();});},function(r,b,a){var l;function c(){this.Dmb={};this.Gp=[];}Object.defineProperty(b,"__esModule",{value:!0});b.rPa=void 0;r=a(0);a=a(1);c.prototype.kfa=function(g,m){m && (this.Dmb[g]=m,this.Gp=Object.values(this.Dmb));};l=c;l=r.__decorate([(0,a.$)()],l);b.rPa=l;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q){this.Ia=n;this.Gp=p;this.fza=q;}Object.defineProperty(b,"__esModule",{value:!0});b.qPa=void 0;r=a(0);l=a(238);g=a(1);m=a(779);d=a(18);f=a(114);h=a(7);k=a(780);c.prototype.fb=function(n,p,q,v,t){q=void 0 === q?this.Gp:q;return p?new m.bTa(this.Ia,this.fza,q,p,n):t?new k.xIa(this.Ia,this.fza,q,n,v || "",t):new l.EM(this.Ia,this.fza,q,n);};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(d.jd)),r.__param(1,(0,g.l)(f.FM)),r.__param(2,(0,g.l)(h.dka))],a);b.qPa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.S1a=void 0;b.S1a=function(a,c){var g;a=a.gYb();for(var l=0;l < c.length;++l){g=c[l];void 0 != g && null != g && (g.Ch && (g=g.Ch),g.constructor === Uint8Array?a.QGb(g):"MediaRequest" === g.constructor.name?a.yGb(g):"string" === typeof g?a.NGb(g):"function" === typeof g?a.rGb(g):g instanceof Error?a.oGb(g):g instanceof Object && "function" === typeof g.toJSON?a.W_a(g.toJSON()):g instanceof Object?a.W_a(g):a.RGb(g));}return a.ij();};},function(r,b,a){var l,g,m;function c(d,f,h,k,n){d=m.EM.call(this,d,f,h,n) || this;d.j=k;(0,l.Kq)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.bTa=void 0;l=a(54);g=a(371);m=a(238);la(c,m.EM);c.prototype.I9=function(d){return new c(this.Ia,this.h9,this.Gp,this.j,d);};c.prototype.pE=function(d,f,h){d=new g.cka(d,this.oq,this.Ia.Rb(),f,h,this.j.index);f=oa(this.Gp.Gp);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d,this.j);}};b.bTa=c;},function(r,b,a){var l,g;function c(m,d,f,h,k,n){m=l.EM.call(this,m,d,f,h) || this;m.groups=k;Array.isArray(n)?m.prefix=n:n && "string" === typeof n && (m.prefix=[],m.prefix.push(n));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.xIa=void 0;l=a(238);g=a(781);la(c,l.EM);c.prototype.pE=function(m,d,f){m=new g.wIa(m,this.oq,this.Ia.Rb(),d,f,this.prefix);d=oa(this.Gp.Gp);for(f=d.next();!f.done;f=d.next()){f=f.value;f(m);}};c.prototype.I9=function(m){return new c(this.Ia,this.h9,this.Gp,m,this.groups,this.prefix);};b.xIa=c;},function(r,b,a){var l,g;function c(m,d,f,h,k,n,p){this.level=m;this.oq=d;this.timestamp=f;this.message=h;this.fd=k;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;l=a(5);g={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.Sga=function(m,d){m=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.oic(!!m));return (this.timestamp.ia(l.va) / 1E3).toFixed(3) + "|" + this.index + "|" + (g[this.level] || this.level) + "|" + this.oq + "| " + m;};c.prototype.oic=function(m){var k;for(var d=this.fd.length,f="",h=0;h < d;++h){k=this.fd[h].Kw;h && f.length && (f+=" ");if("object" === typeof k){if(null === k)f+="null";else if(k instanceof Error)f+=this.nic(k,m);else try{f+=JSON.stringify(k);}catch(n){f+=this.mic(k);}}else f+=k;}return f;};c.prototype.nic=function(m,d){return m.toString() + (m.stack && !d?"\n" + m.stack:"") + "\n";};c.prototype.mic=function(m){var d;d=[];return JSON.stringify(m,function(f,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.wIa=c;},function(r,b,a){var l,g,m,d;function c(f,h){this.yc=f;this.Se=h;}Object.defineProperty(b,"__esModule",{value:!0});b.fPa=void 0;r=a(0);l=a(1);g=a(783);m=a(32);a=a(31);c.prototype.gYb=function(){return new g.gPa(this.yc,this.Se);};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.Zi)),r.__param(1,(0,l.l)(a.Di))],d);b.fPa=d;},function(r,b,a){var p,q,v;function c(t,w){this.yc=t;this.Se=w;this.fd=[];}function l(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function g(t){return n.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function m(t,w){w=n.call(this,w,function(u){return {Base64:t.encode(u)};}) || this;w.yc=t;return w;}function d(t,w){w=n.call(this,w,function(u){return u();}) || this;w.Se=t;return w;}function f(t){return n.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function h(t,w,u){w=n.call(this,w,u) || this;w.Se=t;return w;}function k(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function n(t,w){this.Kw=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.gPa=void 0;r=a(0);p=a(1);q=a(31);a=a(32);n.prototype.hY=function(t){return this.Kw === t;};la(k,n);k.prototype.WL=function(t,w){return w?"":"\r\n" + this.Kw;};la(h,n);h.prototype.WL=function(){var t;t="";this.Se.cF(this.value,function(w,u){try{t+=", " + w + ": " + u;}catch(x){try{t+=", " + w + ": " + JSON.stringify(u);}catch(y){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};la(f,n);f.prototype.WL=function(t){var w;w="\r\n" + this.Kw.message;t || (w+="\r\n" + this.Kw.stack);return w;};la(d,n);d.prototype.WL=function(){var t;t="";this.Se.cF(this.value,function(w,u){t+=", " + w + ": " + u;});return t.replace(/[\r\n]+ */g," ");};la(m,n);m.prototype.WL=function(t,w){return this.Kw && !w?"\r\n" + this.yc.encode(this.Kw):"";};la(g,n);g.prototype.WL=function(){return this.Kw?this.Kw.toJSON():"";};la(l,n);l.prototype.WL=function(){return ", " + (this.Kw.toString?"" + this.Kw.toString():"");};c.prototype.NGb=function(t){this.fd.push(new k(t));};c.prototype.W_a=function(t){this.fd.push(new h(this.Se,t));};c.prototype.oGb=function(t){this.fd.push(new f(t));};c.prototype.rGb=function(t){this.fd.push(new d(this.Se,t));};c.prototype.QGb=function(t){this.fd.push(new m(this.yc,t));};c.prototype.yGb=function(t){this.fd.push(new g(t));};c.prototype.RGb=function(t){this.fd.push(new l(t));};c.prototype.ij=function(){return this.fd;};v=c;v=r.__decorate([(0,p.$)(),r.__param(0,(0,p.l)(a.Zi)),r.__param(1,(0,p.l)(q.Di))],v);b.gPa=v;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Afb=void 0;r=a(1);c=a(372);l=a(785);b.Afb=new r.Gd(function(g){g(c.CQa).to(l.BQa).la();});},function(r,b,a){var l,g,m;function c(d){this.Jc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.BQa=void 0;r=a(0);l=a(1);g=a(786);a=a(48);c.prototype.c4a=function(d,f){return new g.DQa(this.Jc,d,f);};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.ak))],m);b.BQa=m;},function(r,b){function a(c,l,g){this.Jc=c;this.config=l;this.getTime=g;}Object.defineProperty(b,"__esModule",{value:!0});b.DQa=void 0;a.prototype.observe=function(c,l){var g;g=this;this.cancel();this.Dk=this.Jc.$R(this.config.n$a(),function(){g.getTime() >= c && (g.cancel(),l());});};a.prototype.cancel=function(){this.Dk && (this.Dk.cancel(),this.Dk=void 0);};b.DQa=a;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.U=void 0;r=a(1);c=a(239);l=a(373);g=a(788);m=a(791);d=a(376);f=a(792);b.U=new r.Gd(function(h){h(c.Pla).to(g.aVa).la();h(l.XUa).to(m.WUa).la();h(d.iWa).to(f.hWa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w;function c(u,x,y,z,B,A,C,D,E,G){this.Ia=u;this.vg=x;this.WQ=y;this.hHa=z;this.y0=B;this.Jc=A;this.xO=C;this.Si=D;this.Jta=E;this.Yi=G;}Object.defineProperty(b,"__esModule",{value:!0});b.aVa=void 0;r=a(0);l=a(1);g=a(18);m=a(7);d=a(372);f=a(148);h=a(374);k=a(375);n=a(789);p=a(790);q=a(100);v=a(48);t=a(370);a=a(31);c.prototype.OOb=function(u,x,y){return new n.bVa(this.Ia,this.vg,this.WQ,this.hHa,x,u,this.Si,this.y0,this.Yi,this.Jta,y);};c.prototype.iOb=function(u,x){return new p.lJa(this.vg,u,x,this.WQ,this.Jc,this.xO);};w=c;w=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(m.jb)),r.__param(2,(0,l.l)(d.CQa)),r.__param(3,(0,l.l)(k.MWa)),r.__param(4,(0,l.l)(h.YSa)),r.__param(5,(0,l.l)(v.ak)),r.__param(6,(0,l.l)(q.oT)),r.__param(7,(0,l.l)(f.DU)),r.__param(8,(0,l.l)(t.OT)),r.__param(9,(0,l.l)(a.Di))],w);b.aVa=w;},function(r,b,a){var d,f,h;function c(k,n,p,q,v,t,w,u,x,y,z){var B;B=this;this.Ia=k;this.WQ=p;this.bCa=q;this.config=v;this.xb=t;this.Si=w;this.y0=u;this.Yi=x;this.Hl=z;this.BTb=Object.values(d.Qa).map(function(A){return {event:A,yy:function(C){return B.Pb.Zc(A,C);}};});this.Pb=y.create();this.tG=[];this.log=n.fb("SegmentManager");this.BJ=!0;this.om=this.Yi.createElement("div",h.Fla);}function l(k,n,p,q,v,t,w,u,x,y,z){var B;B=this;this.log=k;this.config=n;this.o8b=p;this.bCa=q;this.Si=v;this.y0=t;this.Pw=w;this.G=u;this.om=x;this.xb=y;this.Hl=z;this.MO=function(){B.eG && (B.eG.cancel(),B.eG=void 0);};this.Awa=function(A){B.log.trace("Received the transition event",{movieId:A.K});B.tcc();};this.Zya=function(){};this.log.debug("Constructing session data",g(u));this.Cjc=new Promise(function(A){B.tcc=A;});}function g(k){return {movieId:k.K};}function m(k){return JSON.stringify({movieId:k.K,startPts:k.ca,logicalEnd:k.yk,params:k.Gb?{trackingId:k.Gb.Gl,authParams:k.Gb.U8,sessionParams:k.Gb.po,disableTrackStickiness:k.Gb.Rsa,uiPlayStartTime:k.Gb.RS,loadImmediately:k.Gb.Ica,playbackState:k.Gb.playbackState?{currentTime:k.Gb.playbackState.currentTime,volume:k.Gb.playbackState.volume,muted:k.Gb.playbackState.muted,playbackRate:k.Gb.playbackState.playbackRate}:void 0,pin:k.Gb.Qhb,heartbeatCooldown:k.Gb.Owa,uiLabel:k.Gb.oe,uxLabels:k.Gb.sha}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.bVa=void 0;d=a(16);f=a(5);h=a(17);l.prototype.load=function(k){var n,p;n=this;this.log.trace("Loading new segment",g(this.G));this.X=this.bCa.TO(this.config,this.y0,this.Si,this.G,this.xb,this.Hl);this.X.addEventListener(d.Qa.hQ,function(q){n.log.trace("Segment is inactive",g(n.G));n.Pw.close(n.Si(q.errorCode));});this.X.addEventListener(d.Qa.closed,this.MO);if(k)(this.log.debug("Pausing background segment",g(this.G)),this.X.addEventListener(d.Qa.iya,this.Awa),this.X.pause());else {this.om.appendChild(this.X.mp());p=function(q){n.Awa(q);n.X.removeEventListener(d.Qa.loaded,p);};this.X.addEventListener(d.Qa.loaded,p);}};l.prototype.observe=function(){var k,n,p;k=this;this.log.trace("Observing segment",m(this.G));if(this.eG)this.log.trace("Segment is currently observing",g(this.G));else if(this.G.Gb && this.G.Gb.Ica)this.Zya(this);else {n=this.o8b.c4a(this.config,function(){var q;if(k.X){q=k.X.Ot();if(q)return q;}return 0;});p=this.VJb(this.G);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){k.log.trace("Segment has reached its loading point",g(k.G));k.Zya(k);k.MO();});}};l.prototype.close=function(k){this.log.info("Closing segment",{segment:m(this.G),error:k});return this.X?(this.X.removeEventListener(d.Qa.iya,this.Awa),this.X.close(k)):Promise.resolve();};l.prototype.q9b=function(k){this.Zya=k;};l.prototype.VJb=function(k){var n,p;n=k.yk;k=k.Gb?k.Gb.Ica:!1;p=0;n && !k && (p=n - this.config.J9a(),p < this.config.M9a() && (k=n - this.config.M9a(),p=n - k / 2));return p;};c.prototype.mZb=function(){return this.di && this.di.X?this.di.X.isReady():!1;};c.prototype.mp=function(){return this.om;};c.prototype.SJ=function(){if(!this.di || !this.di.X)throw Error("Player not ready");return this.di.X;};c.prototype.dlc=function(k){var n,p;p=this.fua(k);p?this.Cpb(p,k):this.xb.Ce(k.id) || this.log.error("Tried to update a non-existent segment",{segment:m(k),currentMovieId:this.di.G.K,queuedMovieIds:this.tG.map(function(q){return q.G.K;}),xid:null === (n=this.di.X) || void 0 === n?void 0:n.aw()});};c.prototype.Jg=function(k){var n;this.log.info("Adding segment",m(k));if(this.BJ){this.log.trace("First segment, loading",g(k));n=this.Ddb(k);this.BJ=!1;}else (this.log.trace("Subsequent segment, caching",g(k)),(n=this.fua(k))?this.Cpb(n,k):(n=this.createSession(k),this.tG.push(n),this.di.observe()));return n?n.Cjc:null;};c.prototype.transition=function(k,n){var p,q,v;q=this.MK;v=null === q || void 0 === q?void 0:q.X;if(q && v)return (this.MK=void 0,this.log.info("Transitioning segment",m(q.G)),v.UEa(this.Ia.Rb().ia(f.va)),this.Lob(q,n));n=null === q || void 0 === q?void 0:q.G;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.di.G.K,xid:null === (p=this.di.X) || void 0 === p?void 0:p.aw(),nextSegmentId:k,currentSegment:m(this.di.G),nextSegment:n?m(n):void 0,queuedMovieIds:this.tG.map(function(t){return t.G.K;})});return Promise.reject();};c.prototype.close=function(k){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(g(this.di.G)),nextSession:this.MK?JSON.stringify(g(this.MK.G)):void 0});k=[this.di.close(k)];this.MK && k.push(this.MK.close());return Promise.all(k).then(function(){n.MK=void 0;n.tG=[];n.BJ=!0;});};c.prototype.addListener=function(k,n,p){this.Pb.addListener(k,n,p);};c.prototype.removeListener=function(k,n){this.Pb.removeListener(k,n);};c.prototype.Cpb=function(k,n){this.T9b(k.G,n);this.log.trace("Overwrote existing segment data",m(k.G));};c.prototype.Ddb=function(k){var n,p;n=this;this.log.info("Loading the next episode",g(k));if(this.di){this.config.Wua()[k.K]=k.ca;p=this.fua(k);}else p=this.createSession(k);if(p)return (this.log.trace("Found the next session",g(k)),p.q9b(function(q){n.hob(q);}),this.di?(this.log.trace("Subsequent playback, caching player and pausing",g(k)),this.MK=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",g(k)),p.load(!1),this.Lob(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",g(k));};c.prototype.Lob=function(k,n){var p,q,v,t,w;n=void 0 === n?{}:n;t=k.X?null === (p=k.X) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=k.X) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.di.G.K,mid:k.G.K,error:t,xid:null === (v=k.X) || void 0 === v?void 0:v.aw()}),Promise.reject());this.log.trace("Playing episode",g(k.G));p=this.di;this.di=k;k=this.di.X;k.EEa(!1);this.jM(k,p?p.X:void 0);if(p && p.X){w=p.X.mp();q=k.mp();w.style.display="none";p=p.close();this.om.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";k.iha(n);k.tS();k.play();}return Promise.resolve();};c.prototype.hob=function(k){var n,p,q,v,t;if(this.tG.length && k.X){n=k.X.Ot();p=this.tG[0];q=this.di.G.yk;v=this.di.G.Gb?this.di.G.Gb.Ica:!1;if(q || v){v?t=0:q && (t=q - this.config.J9a());null !== n && n >= t && (this.log.info("Got a time change, loading the next player",g(p.G)),this.Ddb(p.G),this.tG.splice(0,1),this.hob(k));}}};c.prototype.fua=function(k){return this.di.G.K === k.K?this.di:this.tG.find(function(n){return n.G.K === k.K;});};c.prototype.T9b=function(k,n){k.ca=n.ca || k.ca;k.yk=n.yk || k.yk;k.Gb=n.Gb || k.Gb;k.ba=n.ba || k.ba;};c.prototype.createSession=function(k){return new l(this.log,this.config,this.WQ,this.bCa,this.Si,this.y0,this,k,this.om,this.xb,this.Hl);};c.prototype.jM=function(k,n){this.BTb.forEach(function(p){n && n.removeEventListener(p.event,p.yy);k.addEventListener(p.event,p.yy);});this.Pb.Zc(d.GH.w1);};b.bVa=c;},function(r,b,a){var m,d,f,h,k;function c(n,p,q,v,t,w){var u;u=this;this.X=p;this.j=q;this.WQ=v;this.Jc=t;this.xO=w;this.MO=function(){u.eG && (u.eG.cancel(),u.eG=void 0);};this.log=n.fb("SegmentManager",this.j);this.U=new Map();this.j.lb.ji && (this.j.addEventListener(f.ka.vL,function(x){return u.Vy(x);}),this.j.addEventListener(f.ka.closed,this.MO));}function l(n,p){this.id=n;this.lra=p;}function g(n,p,q,v){return d.rd.call(this,n,q,void 0,void 0,void 0,p,void 0,v) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lJa=void 0;m=a(4);d=a(36);f=a(16);h=a(5);k=a(19);la(g,d.rd);g.prototype.toString=function(){return this.code + "-" + this.xc + " : " + this.message + "\n" + JSON.stringify(this.data);};l.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.Ba,contentEndPts:this.Aa};};Va.Object.defineProperties(l.prototype,{Ba:{configurable:!0,enumerable:!0,get:function(){return this.lra.startTimeMs;}},Aa:{configurable:!0,enumerable:!0,get:function(){return this.lra.endTimeMs;}},tC:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.lra.next);}}});c.prototype.Vy=function(n){var p;p=this;!1;n=n.position.segmentId;0 === this.U.size && Object.entries(this.j.GY()).forEach(function(q){var v;v=oa(q);q=v.next().value;v=v.next().value;p.U.set(q,new l(q,v));});this.ha=this.U.get(n);};c.prototype.play=function(n){this.HR && (this.HR=void 0);this.MO();this.log.trace("Playing segment",n);return this.ccb(n)?this.W$b(n):this.x0(n);};c.prototype.tu=function(n){this.log.trace("Queueing segment",n);return this.ccb(n)?this.fcc(n):this.gcc(n);};c.prototype.Gk=function(n,p){var q,v;q=this;v=this.j.qb;if(null === v || void 0 === v || !v.ej)return Promise.reject(this.getError(m.aa.VIa,"ASE session manager is not yet initialized",m.Y.tia,{segmentId:n,updates:p}));this.log.trace("Updating next segment weights",n,p);return new Promise(function(t,w){try{v.fha(n,p);q.j.fireEvent(f.ka.MGa,{S:n,rlc:p});t();}catch(u){w(q.getError(m.aa.VIa,"updateNextSegmentWeights threw an exception",m.Y.Xrb,{segmentId:n,updates:p,error:u}));}});};c.prototype.ccb=function(n){return this.ha?void 0 !== this.j.GY()[this.ha.id].next[n]:!1;};c.prototype.Tva=function(){var n;n=this.j.qb;if(null === n || void 0 === n?0:n.ej)return n.Zn().Yf;};c.prototype.eZb=function(){var n;n=this.j.qb;if(null === n || void 0 === n?0:n.ej)return n.Zn().id;};c.prototype.TWb=function(n){var p;p=this.j.qb;if(null === p || void 0 === p?0:p.ej)return (n=p.$ua(n)) && n.ng;};c.prototype.W$b=function(n){var p,q;p=this;q=this.j.qb;return null !== q && void 0 !== q && q.ej?this.ha && 1 === this.ha.tC.length?this.x0(n):this.j.rf?void 0 === this.TWb(n)?(this.log.error("playNextSegment: branchOffset missing",{segment:n}),this.x0(n)):new Promise(function(v,t){var z,B,A,C,D,E;function w(){!A && B && z && (E.cancel(),A=!0,p.log.trace("Telling ASE to choose the next segment",{id:n,stopped:B,repositioned:z,completed:A}),q.fy(n,!1,!0)?(v(),A=!0):(A=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:n}),p.x0(n).then(v).catch(t)));}function u(){z=!0;p.log.trace("Player is repositioned",{id:n,stopped:B,repositioned:z,completed:A});p.j.removeEventListener(f.ka.sl,u);w();}function x(){p.j.removeEventListener(f.ka.xG,x);q.stop();}function y(){B=!0;p.log.trace("ASE is stopped",{id:n,stopped:B,repositioned:z,completed:A});q.removeEventListener("stop",y);w();}z=!1;B=!1;A=!1;C=p.U.get(n);D=p.Tva();if(void 0 === D)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:n}),p.x0(n));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:n,seekTo:D,currentSegment:p.ha,nextSegment:C},null,"  "));p.j.fireEvent(f.ka.Lda,{ei:p.ha && p.ha.id,bR:n});q.addEventListener("stop",y);p.j.addEventListener(f.ka.xG,x);p.j.addEventListener(f.ka.sl,u);E=p.Jc.zl((0,h.Vi)(10),function(){A=!0;E.cancel();t(p.getError(m.aa.sT,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.Y.Trb,{id:n,stopped:B,repositioned:z,completed:A}));});p.X.seek(D,f.Hd.XM);}):(this.log.warn("MediaPresenter is not initialized",n),Promise.reject(this.getError(m.aa.sT,"MediaPresenter is not initialized",m.Y.Urb,{id:n}))):Promise.reject(this.getError(m.aa.sT,"ASE session manager is not yet initialized",m.Y.tia,{id:n}));};c.prototype.x0=function(n){var p;p=this.U.get(n);return p?this.t1(p,m.aa.sT):Promise.reject(this.getError(m.aa.sT,"Unable to find the separated segment",m.Y.UIa,{id:n}));};c.prototype.fcc=function(n){var p;p=this.j.qb;if(null === p || void 0 === p || !p.ej)return Promise.reject(this.getError(m.aa.tT,"ASE session manager is not yet initialized",m.Y.tia,{id:n}));this.j.fireEvent(f.ka.Lda,{ei:this.ha && this.ha.id,bR:n});if(p.fy(n,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:n});return this.j5a(n);};c.prototype.gcc=function(n){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:n,mid:this.j.K,srcsegment:this.eZb()});return this.j5a(n);};c.prototype.j5a=function(n){var p,q;p=this;if(this.HR)return Promise.reject(this.getError(m.aa.tT,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",m.Y.Wrb,{currentSegment:this.ha?this.ha.id:void 0,queuedSegment:this.HR.id,failedSegment:n}));if(!this.ha)return Promise.reject(this.getError(m.aa.tT,"Unable to queue segment for delayed seek because there is no currently playing segment",m.Y.Srb,{nextSegmentid:n}));q=this.U.get(n);if(!q)return Promise.reject(this.getError(m.aa.tT,"Unable to find the separated segment",m.Y.UIa,{nextSegmentid:n,currentSegmentId:this.ha.id}));this.HR={id:n,promise:new Promise(function(v,t){var w;p.eG=p.WQ.c4a({n$a:function(){return (0,h.$b)(100);}},function(){return p.X.Ot() || 0;});w=p.Tva() - k.config.xfb;p.log.trace("Adding moment for queued segment for delayed seek",{segment:n,pts:w});p.eG.observe(w,function(){p.log.trace("Moment has arrived, seek to segment",{segment:n,currentSegment:p.ha.id,playerEndPts:p.Tva(),pts:w});p.HR=void 0;p.MO();p.t1(q,m.aa.tT).then(v).catch(t);});})};this.HR.promise.catch(function(v){p.j.Td(v.code,v);});return Promise.resolve();};c.prototype.t1=function(n,p){var q;q=this;return new Promise(function(v,t){var w;try{w=n.Ba;!1;q.X.seek(w,f.Hd.LD);v();}catch(u){t(q.getError(p,"Seek threw an exception",m.Y.Vrb,{id:n.id,error:u}));}});};c.prototype.getError=function(n,p,q,v){this.log.warn(p,v);return new g(n,p,q,v);};b.lJa=c;},function(r,b,a){var g,m;function c(){}function l(d,f,h,k,n){this.debug=d;this.version=f;this.v3b=h;this.T$b=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.WUa=void 0;r=a(0);g=a(1);m=a(5);l.prototype.HXb=function(){return this.config().WJ;};l.prototype.Wua=function(){return this.config().B1a;};l.prototype.n$a=function(){return (0,m.$b)(this.config().vac);};l.prototype.J9a=function(){return this.config().L4b;};l.prototype.M9a=function(){return this.config().C5b;};c.prototype.KJ=function(d,f,h,k,n){return new l(d,f,h,k,n);};a=c;a=r.__decorate([(0,g.$)()],a);b.WUa=a;},function(r,b,a){var l,g,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.hWa=void 0;r=a(0);l=a(1);g=a(11);m=a(23);c.prototype.Mbc=function(d,f,h,k){this.config().Efc && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (h={isBranching:k || void 0,isPlaygraph:!k || void 0,mid:f.K,xid:f.sa,srcxid:h.sa,srcmid:h.K,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!k && d.auxMid && d.auxMid !== f.K && (h.moffms=(0,m.sg)(f.zX)),f.EQ.rb.transition(h)));};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.wc))],a);b.hWa=a;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.rqb=void 0;r=a(1);c=a(375);l=a(794);b.rqb=new r.Gd(function(g){g(c.MWa).to(l.LWa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O;function c(K){this.uc=K;}Object.defineProperty(b,"__esModule",{value:!0});b.LWa=void 0;r=a(0);l=a(1);g=a(80);m=a(31);d=a(25);f=a(7);h=a(112);k=a(239);n=a(377);p=a(795);q=a(240);v=a(88);t=a(378);w=a(796);u=a(241);x=a(86);y=a(18);z=a(115);B=a(242);A=a(379);C=a(11);D=a(380);E=a(381);G=a(27);F=a(243);L=a(382);O=a(34);c.prototype.TO=function(K,I,M,H,J,N){return this.uc.get(C.wc)().oha?new w.NWa(this.uc.get(f.jb),this.uc.get(u.qla),this.uc.get(x.Wz),this.uc.get(y.jd),this.uc.get(z.wH),this.uc.get(h.qja),this.uc.get(B.ska),this.uc.get(A.VMa),this.uc.get(D.qTa),this.uc.get(E.Xla),this.uc.get(E.Xla),this.uc.get(G.Jh),this.uc.get(L.iU),this.uc.get(F.Bja),this.uc.get(O.vj),H,M):new p.kOa(this.uc.get(m.Di),this.uc.get(d.Vg),this.uc.get(f.jb),this.uc.get(h.qja),this.uc.get(k.Pla),this.uc.get(q.$ka),this.uc.get(v.pja),this.uc.get(t.aSa),this.uc.get(n.YKa),K,I,M,H,J,N);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.hOa))],a);b.LWa=a;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q,v,t,w,u,x,y,z,B,A,C,D){var E;E=this;this.Se=k;this.Ib=n;this.Pb=q;this.Bw=t;this.kX=w;this.k8a=u;this.config=y;this.Si=B;this.G=A;this.j=z.create(A.K,A.oj,x,C,D,A.Gb,A.id,A.ba);this.j.background=!0;this.log=p.fb("VideoPlayer",this.j);this.Mhb=[];this.ended=!1;this.jM();this.j.state.addListener(function(G){G.newValue === g.jc.Ue && E.Bb(g.Qa.iya,{movieId:A.K});});this.j.lb.ji && (this.DO=v.iOb(this,this.j),this.j.addEventListener(g.ka.vL,function(G){G=G.position.segmentId;E.R3b !== G && (E.R3b=G,E.Bb(g.Qa.pfc,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.kOa=void 0;l=a(4);g=a(16);m=a(5);d=a(14);f=a(88);h=a(23);c.prototype.isReady=function(){return this.j.state.value === g.jc.Ue;};c.prototype.X9a=function(){return this.j.K;};c.prototype.aw=function(){return this.j.sa;};c.prototype.mp=function(){return this.j.om;};c.prototype.js=function(){return this.j.pj.value;};c.prototype.lw=function(){return this.j.paused.value;};c.prototype.Nxa=function(){return this.ended;};c.prototype.Li=function(){var k;k=this.j.Bqa.value;return k?{networkStalled:!!k.Cu,stalled:!!k.Cu,progress:k.progress,progressRollback:!!k.Sbc}:null;};c.prototype.getError=function(){var k;k=this.j.Ki;return k?k.v2():null;};c.prototype.zq=function(){var k;return null === (k=this.j.zq()) || void 0 === k?void 0:k.bTb;};c.prototype.Xn=function(){return this.j.Md;};c.prototype.kF=function(){return this.Xn().ta?this.Xn().aba():this.Ot();};c.prototype.Ot=function(){return this.j.mediaTime.value;};c.prototype.B8a=function(){var k;k=(this.waa() || 0) + this.j.A8a();return Math.min(k,this.bva());};c.prototype.waa=function(){return this.Xn().ta?this.Xn().aba():this.j.rF();};c.prototype.bva=function(){return this.Xn().ta?this.Xn().H9a():this.j.rB.ia(m.va);};c.prototype.T$a=function(){var k;k=this.j.XG.value;return k?{width:k.width,height:k.height}:null;};c.prototype.xaa=function(){return this.j.xaa();};c.prototype.j8a=function(k){var n,p;return (null === (n=this.j.ba) || void 0 === n?0:n.Mj.QP("generateScreenshots"))?this.k8a.wq(this.log,this.j.ba.Mj,k):(n=null === (p=this.j.lb) || void 0 === p?void 0:p.Bp)?this.k8a.Tf(this.log,Object.assign({packageId:n},k)):Promise.reject("Unknown packageId");};c.prototype.V8a=function(){return this.hXb(this.j.u5a);};c.prototype.s8a=function(){var k;k=this;return this.j.Fj.map(function(n){return k.$r(n);});};c.prototype.R9a=function(){var k;return this.SY(this.j.Fj,null === (k=this.j.ba) || void 0 === k?void 0:k.Ra.Heb);};c.prototype.owa=function(k){var n;n=this;return this.ZY(k).map(function(p){return n.$r(p);});};c.prototype.Dva=function(k){var n;return this.SY(this.ZY(k),null === (n=this.j.ba) || void 0 === n?void 0:n.Ra.Ieb);};c.prototype.Yxa=function(){return this.j.muted.value;};c.prototype.U$a=function(){return this.j.volume.value;};c.prototype.r8a=function(){var k,n;n=(null === (k=this.Xy) || void 0 === k?void 0:k.Gc) || this.j.Gc.value;return n && this.$r(n);};c.prototype.nwa=function(){var k,n;n=(null === (k=this.Xy) || void 0 === k?void 0:k.m2) || this.j.Ob.value;return n && this.$r(n);};c.prototype.Lbb=function(){return !!this.j.background;};c.prototype.Vlb=function(k){this.j.muted.set(!!k);};c.prototype.lmb=function(k){this.j.volume.set(this.h8b(k));};c.prototype.Xlb=function(k){this.j.playbackRate.set(k);};c.prototype.Nt=function(){return this.j.playbackRate.value;};c.prototype.Flb=function(k){var n,p,q,v,t;n=this;q=this.qY(k);if(q){if(q.Oh)return (this.j.Gc.set(q),Promise.resolve());v=(k=(null === (p=this.Xy) || void 0 === p?void 0:p.m2) || this.j.Ob.value) && this.wcb(q,k)?k:q.wi[0];p=q.trackId;t=v.trackId;this.Xy={Gc:q,m2:v};this.Bb(g.Qa.Jn);this.Bb(g.Qa.Uw);v !== k && this.Bb(g.Qa.jn);return this.j.Nab(p,t).then(function(w){w=w.Gc;n.Xy=void 0;n.j.Gc.set(w);}).catch(function(w){n.Xy=void 0;w=n.Se.pf(w);n.log.error(w);n.close(n.Si(l.aa.GM,{Ca:l.Y.kka,Ub:w,$J:{T0b:q.trackId,Oab:q.Of,U0b:v.trackId,Pab:v.Of}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.QEa=function(k){var n,p,q,v;n=this;q=(null === (p=this.Xy) || void 0 === p?void 0:p.Gc) || this.j.Gc.value;if(null !== q){v=q.wi;p={};for(var t=0;t < v.length;(p={Uu:p.Uu},t++)){p.Uu=v[t];if(!k && null === p.Uu)return (this.j.Ob.set(null),Promise.resolve());if(this.$r(p.Uu) === k){if(p.Uu.Oh)return (this.log.info("Setting Timed Text, profile: " + p.Uu.profile),this.j.Ob.set(p.Uu),Promise.resolve());k=q.trackId;v=p.Uu.trackId;this.Xy={Gc:q,m2:p.Uu};this.Bb(g.Qa.jn);return this.j.Nab(k,v).then(function(w){w=w.m2;n.Xy=void 0;n.j.Ob.set(w);}).catch((function(w){return function(u){n.Xy=void 0;u=n.Se.pf(u);n.log.error(u);n.close(n.Si(l.aa.GM,{Ca:l.Y.kka,Ub:u,$J:{T0b:q.trackId,Oab:q.Of,U0b:w.Uu.trackId,Pab:w.Uu.Of}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.EEa=function(k){this.j.background=k;};c.prototype.tS=function(){this.j.tS();};c.prototype.iha=function(k){this.j.iha(k);};c.prototype.Jj=function(k){return this.j.Jj(k);};c.prototype.i$a=function(){return this.j.lb;};c.prototype.Uy=function(){this.j.Uy();};c.prototype.OK=function(k){this.j.OK(k);};c.prototype.iZ=function(k,n,p){return this.j.iZ(k,n,p);};c.prototype.opa=function(k,n){this.j.addEventListener(k,n,void 0);};c.prototype.addEventListener=function(k,n,p){this.Pb.addListener(k,n,p);};c.prototype.removeEventListener=function(k,n){this.Pb.removeListener(k,n);};c.prototype.eL=function(){};c.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{k.Bb(g.Qa.Fdb,void 0,!0);n.ba && (n.ba.Ra.Jqb && k.Bb(g.Qa.Dmc,n.ba.Ra.Jqb,!0),n.ba.Ra.Vo && k.Bb(g.Qa.ofc,{segmentMap:n.ba.Ra.Vo},!0));p({ja:!0});}catch(q){p({Ca:l.Y.rn,Ub:k.Se.pf(q)});}}));};c.prototype.close=function(k){var n;n=this;this.Z2a || (this.Z2a=new Promise(function(p){k?n.j.XI(k,p):n.j.close(p);}));return this.Z2a;};c.prototype.play=function(){this.j.gj?this.j.fireEvent(g.ka.Xkb):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(g.ka.eqb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(g.ka.dqb));};c.prototype.seek=function(k,n,p,q){n=void 0 === n?g.Hd.LD:n;this.j.rKb() && (this.Xn().ta && this.Xn().Bcb(this.Xn().Nkb(k))?this.Xn().mEa():this.j.rf?(this.Xn().ta && (k=this.Xn().Nkb(k)),this.j.rf.seek(k,n,p,q)):(this.Xn().ta && (k=this.Xn().Bva(k).Kn),this.j.Kn=k));};c.prototype.Yhb=function(k){return this.DO?(this.log.trace("Playing a segment",k),this.DO.play(k)):Promise.resolve();};c.prototype.gjb=function(k){return this.DO?(this.log.trace("Queueing a segment",k),this.DO.tu(k)):Promise.resolve();};c.prototype.Gk=function(k,n){return this.DO?(this.log.trace("Updating next segment weights",k,n),this.DO.Gk(k,n)):Promise.resolve();};c.prototype.cZ=function(){var k;k=this.j.Hp.cZ();return {bounds:k.VW,margins:k.du,size:k.size,visibility:k.visibility};};c.prototype.kS=function(k){var n,p,q;n=k.bounds;p=k.margins;q=k.size;k=k.visibility;this.j.r2 && (n && this.j.r2.REa(n),p && this.j.r2.SEa(p),"boolean" === typeof k && this.j.r2.TEa(k));this.j.Hp && q && this.j.Hp.vgc(q);};c.prototype.UEa=function(k){this.j.yo=k;};c.prototype.Q$a=function(k){return this.j.cD && this.j.cD.EXb(k) || null;};c.prototype.p8a=function(){return this.Se.ZF({playerver:this.config.version,jssid:this.config.v3b,groupName:this.config.HXb(),xid:this.j.sa,pbi:this.j.index},this.config.T$b,{prefix:"pi_"});};c.prototype.hbb=function(k){this.j.Td(l.aa.KLa,l.Y.Ho,k);};c.prototype.Bdb=function(k,n,p,q){if(!this.Ib.u0a(k))throw Error("invalid url");this.Mhb.push({url:k,name:n,DIb:p,options:q});this.Rib();};c.prototype.ewa=function(){var k,n,p,q,v,t,w,u;k={};n=this.j.U1;try{if((this.j.Ki && (k.errorCode=this.j.Ki.i$,k.errorType=n?"endplay":"startplay"),k.playdelay=(0,h.sg)(this.j.cX()),k.xid=this.j.sa,this.j.ba && this.Ib.Ir(this.j.ba.Ra.Bp) && (k.packageId=Number(this.j.ba.Ra.Bp)),k.auth=this.j.zWb(),n)){k.totaltime=this.j.Ym?this.Vn(this.j.Ym.Zr("content")):0;k.abrdel=this.j.Ym?this.j.Ym.Uua():0;p=this.j.rf;q=p?p.NJ():null;this.Ib.Rl(q) && (k.totdfr=q);q=p?p.KY():null;this.Ib.Rl(q) && (k.totcfr=q);v=p?p.TXb():null;v && (k.rbfrs_decoder=v.S9,k.rbfrs_network=v.Hda);k.rbfrs_delay=this.j.Ym?this.j.Ym.Ixa:0;k.init_vbr=this.j.Pba;t=this.TJ();this.Ib.jJ(t) && (k.pdltime=t);w=this.j.Qe.value;u=w && w.stream;u && (k.vbr=u.bitrate,k.vdlid=u.Tb);k.bufferedTime=this.j.A8a();}}catch(x){this.log.error("error capturing session summary",x);}return k;};c.prototype.rP=function(k){this.j.lb.po && (this.j.lb.po.userEngageAction=1);return this.Ib.Rl(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.Bw.create(this.j)),{action:k}),this.kX(f.hr.rP).wq(this.log,this.j.ba.Mj,k).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.xc,errorExternalCode:n.vd,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.hXb=function(k){return {register:k.register.bind(k),notifyUpdated:k.wgb.bind(k),getModel:k.tYb.bind(k),getGroups:k.QY.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};c.prototype.$r=function(k){var n;n=k.LCa=k.LCa || ({trackId:k.trackId,bcp47:k.Of,displayName:k.displayName,trackType:k.Wi,rawTrackType:k.vG,channels:k.channels});this.cya(k) && (n.isNative=k.isNative,n.surroundFormatLabel=k.f2);this.dya(k) && (n.isNoneTrack=k.Iq(),n.isForcedNarrative=k.up(),n.isImageBased=k.am);n.subType=k.NL;n.variant=k.variant;return n;};c.prototype.cya=function(k){return "undefined" !== typeof k.isNative;};c.prototype.dya=function(k){return "undefined" !== typeof k.Iq && "undefined" !== typeof k.up;};c.prototype.qY=function(k){var n;n=this;return k && this.j.Fj.find(function(p){return n.$r(p) === k;});};c.prototype.ZY=function(k){var n,p;k=this.qY(k) || (null === (n=this.Xy) || void 0 === n?void 0:n.Gc) || this.j.Gc.value;return null !== (p=null === k || void 0 === k?void 0:k.wi) && void 0 !== p?p:[];};c.prototype.SY=function(k,n){var p;p=k.length - 1;if("number" !== typeof n)return p;k=k.findIndex(function(q){return q.vc > n;});return -1 === k?p:k - 1;};c.prototype.wcb=function(k,n){return 0 <= k.wi.indexOf(n);};c.prototype.h8b=function(k){return 0 <= k?1 >= k?k:1:0;};c.prototype.Vn=function(k){return this.Ib.Rl(k)?(k / 1E3).toFixed(0):"";};c.prototype.Bb=function(k,n,p){n=n || ({});n.target=this;this.Pb.Zc(k,n,!p);};c.prototype.jM=function(){var k;k=this;this.j.addEventListener(g.ka.aGa,function(){k.Bb(g.Qa.rq);});this.j.XG.addListener(function(){k.Bb(g.Qa.iHa);});this.j.addEventListener(g.ka.hpb,function(){k.Bb(g.Qa.gpb);});this.j.addEventListener(g.ka.eda,function(){k.Bb(g.Qa.g9);});this.j.addEventListener(g.ka.sl,function(){k.Bb(g.Qa.g9);});this.j.addEventListener(g.ka.hQ,function(n){k.Bb(g.Qa.hQ,{errorCode:n});});this.j.addEventListener(g.ka.Ypa,function(){k.Bb(g.Qa.i1a);});this.j.addEventListener(g.ka.gj,function(n){k.Bb(g.Qa.V8,n);});this.j.addEventListener(g.ka.Hob,function(){k.Bb(g.Qa.S8);k.Bb(g.Qa.Uw);});this.j.pj.addListener(function(){k.Bb(g.Qa.hCa);});this.j.paused.addListener(function(){k.Bb(g.Qa.Ghb);});this.j.muted.addListener(function(){k.Bb(g.Qa.Mfb);});this.j.volume.addListener(function(){k.Bb(g.Qa.Bqb);});this.j.Db.addListener(function(){k.rpb();});this.j.state.addListener(function(){k.rpb();});this.j.Bqa.addListener(function(n){k.M4b || k.j.state.value != g.jc.Ue || n.newValue || (k.M4b=!0,k.Bb(g.Qa.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.ewa());}));k.Bb(g.Qa.FO);});this.j.Gc.addListener(function(){k.Bb(g.Qa.Jn);k.Bb(g.Qa.Uw);setTimeout(function(){var n,p;n=k.j.Gc.value;p=k.j.Ob.value;null === n || null === p || k.wcb(n,p) || (k.log.info("Changing timed text track to match audio track"),k.j.Ob.set(n.wi[0]));},0);});this.j.Ob.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || k.Bb(g.Qa.jn);});this.j.addEventListener(g.ka.Uw,function(){k.Bb(g.Qa.Uw);});this.j.addEventListener(g.ka.x2,function(){k.Bb(g.Qa.x2);});this.j.state.addListener(function(n){switch(n.newValue){case g.jc.Ue:k.Bb(g.Qa.cta);k.Bb(g.Qa.iHa);k.Bb(g.Qa.S8);k.Bb(g.Qa.Uw);k.Bb(g.Qa.Edb);k.Rib();k.Imc();break;case g.jc.CLOSING:k.j.Ki && k.Bb(g.Qa.Ebb,k.j.Ki);break;case g.jc.CLOSED:(k.Bb(g.Qa.closed),k.Pb.Ji());}});this.j.addEventListener(g.ka.vK,function(){k.Bb(g.Qa.vK);k.Bb(g.Qa.rq);k.Bb(g.Qa.g9);k.Bb(g.Qa.cta);});};c.prototype.Imc=function(){var k;k=this;this.j.Hp.addEventListener("showsubtitle",function(n){k.Bb(g.Qa.aFa,n,!0);});this.j.Hp.addEventListener("removesubtitle",function(n){k.Bb(g.Qa.kDa,n,!0);});this.j.zq().Hn.addListener(function(){k.Bb(g.Qa.fHb);});};c.prototype.Rib=function(){if(this.j.state.value == g.jc.Ue){for(var k,n,p;n=this.Mhb.shift();){k=this.j.Hp.epa(n.url,n.name,n.options);n.DIb && (p=k);}p && this.j.Ob.set(p);}};c.prototype.rpb=function(){var k;k=this.j.state.value == g.jc.Ue && this.j.Db.value == g.nb.Os;this.ended !== k && (this.ended=k,this.j.CI("Ended changed: " + k),(k || this.j.state.value === g.jc.CLOSING) && this.Bb(g.Qa.H6a));};c.prototype.TJ=function(){var k,n;try{k=/playercore.*js/;n=d.ox.getEntriesByType("resource").filter(function(p){return null !== k.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.kOa=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w;function c(u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H){var J,N,P;J=this;this.B0=x;this.TB=y;this.Ia=z;this.zk=B;this.Pb=A;this.v_=C;this.rac=D;this.cib=E;this.yha=G;this.Q8=F;this.za=L;this.FQ=O;this.config=K;this.xE=I;this.G=M;this.Si=H;this.k_=new n.ic(!0);this.pj=new n.ic(!1);this.Cu=new n.ic(!1);this.ended=new n.ic(!1);this.i9=new n.ic(0);this.Db=new n.ic(l.nb.Dg);this.QR=new n.ic(void 0);this.loaded=this.U1=this.closed=!1;this.Eib=function(W,V){return function(S){var U,fa,qa,xa,Aa;U=S.newValue;fa=U.Uo;S=U.Nn;qa=U.stream;U=W.value;xa=U.streams.find(function(Oa){return Oa.bitrate === qa.stream.bitrate;});Aa=J.Ga.th.find(function(Oa){return Oa.id === fa;});J.log.info("Presenting " + xa.type + " request with bitrate " + xa.bitrate + ", track " + (U.trackId + " [" + S.startTime + "..." + S.endTime + "]"));V.set({stream:xa,Nn:S,Cc:Aa});};};this.rnb=function(W,V,S){return function(U){var fa,qa;fa=W.value;qa=fa.streams.find(function(xa){return xa.bitrate === U.newValue.stream.bitrate;});J.log.info("Streaming " + qa.type + " stream with bitrate " + qa.bitrate + ", track " + fa.trackId);V.set(qa,{VI:U.jj.VI,TW:void 0});fa=J.Ga.th.filter(function(xa){return xa.id === U.jj.Uo;})[0];S.set(fa);};};this.C7a=new Set();this.log=u.fb("HLSVideoPlayer");this.ea=(0,g.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.ea.playsInline=this.config.oib;this.Ga=this.B0(m.HD.index++,M.K,M.id,null !== (N=M.Gb) && void 0 !== N?N:{},this.TB.uB(),this.Ia.Rb(),!1,void 0,function(){return J.Ot();});this.Ga.mediaTime.set(null !== (P=this.Ga.Kn) && void 0 !== P?P:0);this.jM();this.oCb=this.FQ.create(this);this.oCb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.NWa=void 0;l=a(16);g=a(44);m=a(65);d=a(101);f=a(57);h=a(4);k=a(56);n=a(74);p=a(5);q=a(15);v=a(81);t=a(23);w=a(49);c.prototype.Lic=function(){return !!this.ea.canPlayType && ("" !== this.ea.canPlayType("application/vnd.apple.mpegURL") || "" !== this.ea.canPlayType("audio/mpegurl"));};c.prototype.jM=function(){var u;u=this;this.ea.addEventListener("loadedmetadata",function(){u.Bb(l.Qa.Fdb);u.Bb(l.Qa.Edb);u.Bb(l.Qa.Jn);u.Bb(l.Qa.S8);u.Bb(l.Qa.jn);u.Bb(l.Qa.Uw);});this.ea.addEventListener("error",function(x){x=u.Si(h.aa.BRa,x);u.close(x);});this.ea.addEventListener("timeupdate",function(){u.ended.set(!1);u.Ga.mediaTime.set(u.Ot());u.Lsa();u.Bb(l.Qa.rq);u.Bb(l.Qa.gpb);});this.ea.addEventListener("durationchange",function(){u.Bb(l.Qa.cta);});this.ea.addEventListener("resize",function(){u.Bb(l.Qa.iHa);});this.ea.addEventListener("playing",function(){u.Lsa();u.Cu.set(!1);u.pj.set(!0);u.ended.set(!1);u.Db.set(l.nb.Xc);});this.ea.addEventListener("pause",function(){u.pj.set(!1);u.Cu.set(!1);u.Db.set(l.nb.bj);});this.ea.addEventListener("waiting",function(){u.Db.set(l.nb.Dg);});this.ea.addEventListener("stalled",function(){u.Cu.set(!0);});this.ea.addEventListener("seeking",function(){u.Cu.set(!1);u.QR.set(u.Ga.mediaTime.value);u.Db.set(l.nb.Dg);});this.ea.addEventListener("seeked",function(){void 0 !== u.QR.value && (u.Ga.Ym.NAa(u.QR.value,u.Ot()),u.QR.set(void 0));u.Db.set(u.js()?l.nb.Xc:l.nb.bj);});this.ea.addEventListener("progress",function(){u.Bb(l.Qa.g9);u.Jkc();});this.ea.addEventListener("ended",function(){u.Db.set(l.nb.Os);u.Cu.set(!1);u.pj.set(!1);u.ended.set(!0);});this.ea.addEventListener("volumechange",function(){u.Bb(l.Qa.Bqb);u.Bb(l.Qa.Mfb);});this.pj.addListener(function(){u.Bb(l.Qa.hCa);u.Bb(l.Qa.Ghb);u.NO();});this.i9.addListener(function(){u.Bb(l.Qa.FO);});this.Cu.addListener(function(){u.Bb(l.Qa.FO);});this.k_.addListener(function(){u.NO();});this.ended.addListener(function(){u.Bb(l.Qa.H6a);});this.Ga.playbackRate.addListener(function(x){u.ea.playbackRate=x.newValue;});};c.prototype.NO=function(){!this.js() || this.k_.value || this.U1 || this.h1a || (this.U1=!0,this.Ga.ZB=this.za.yL,this.cib.Cl(this,this.Ga));};c.prototype.cX=function(){return this.A0 - (this.Ga.oj.ia(p.va) + this.Ia.cC.ia(p.va));};c.prototype.HJ=function(){var u;u=this.Ga.lb.RS;return (0,q.Oa)(u)?u:this.Ga.oj.ia(p.va) + this.Ia.cC.ia(p.va);};c.prototype.Kqa=function(){return this.za.nf.ia(p.va) - this.HJ();};c.prototype.Oqa=function(){return this.A0 - this.HJ();};c.prototype.Jkc=function(){var u;u=this.ea.readyState <= k.Eo.TT.HAVE_METADATA?0:this.ea.readyState <= k.Eo.TT.HAVE_CURRENT_DATA?.5:1;1 === u && (this.A0=this.za.nf.ia(p.va),this.k_.set(!1),this.jua(l.Qa.loaded));this.i9.set(u);};c.prototype.Lsa=function(){var u;u=this.Ot();this.yha.Ilb(u);this.Q8.Ilb(u);};c.prototype.z1=function(){var u;u=this;this.Ga.af("ats");return this.zk.QJ({sa:this.Ga.sa,lb:this.Ga.lb,N:this.Ga.K,ry:d.Np.R5,Pg:f.aj.nr}).then(function(x){var z;function y(B){var A;A=B;B && B.Iq() && !B.up() && (A=null);u.Ga.Dj.set(A);}u.Ga.af("at");z=u.v_.create({}).Bhb(x);u.Ga.ba=x;u.Ga.Rc=z;u.ea.audioTracks.addEventListener("addtrack",function(){u.Epb(u.Ga.Gc.value);});u.ea.audioTracks.addEventListener("change",function(){for(var B,A,C={},D=oa(u.ea.audioTracks),E=D.next();!E.done;(C={gT:C.gT},E=D.next())){C.gT=E.value;C.gT.enabled && C.gT.label !== (null === (B=u.Ga.Gc.value) || void 0 === B?void 0:B.displayName) && (!1,E=null !== (A=u.Ga.Fj.find((function(G){return function(F){return F.displayName === G.gT.label;};})(C))) && void 0 !== A?A:null,u.Ga.Gc.set(E));}});u.Ga.Gc.addListener(function(B){u.Epb(B.newValue);u.Bb(l.Qa.Jn);u.Bb(l.Qa.Uw);});u.ea.textTracks.addEventListener("addtrack",function(){u.Fpb(u.Ga.Ob.value);});u.ea.textTracks.addEventListener("change",function(){var G;for(var B,A,C=u.ea.textTracks,D={},E=0;E < C.length;(D={hT:D.hT},E++)){if((D.hT=C[E],"showing" === D.hT.mode && D.hT.label !== (null === (B=u.Ga.Ob.value) || void 0 === B?void 0:B.displayName))){!1;G=null !== (A=u.Ga.wi.find((function(F){return function(L){return L.displayName === F.hT.label;};})(D))) && void 0 !== A?A:null;u.Ga.Ob.set(G);y(G);}}});u.Ga.Ob.set(z.IX);y(z.IX);u.Ga.Ob.addListener(function(B){u.Fpb(B.newValue);u.Bb(l.Qa.jn);});return u.rac.ij(x,function(B){return u.Ga.af(B);});}).then(function(x){var y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J;y=x.w5b;z=x.BKb;x=x.eic;B=x.audio;A=x.Y4a;C=x.video;D=u.Ga;E=D.bi;G=D.Gc;F=D.Fj;L=D.Hf;O=D.Uh;x=D.Kn;K=D.Qe;I=D.gg;M=D.Ym;D=D.Rc;D.Fj=F.filter(function(N){return B.find(function(P){return P.track.xg === N.trackId;});});O.set(D.a$);G.set(F.find(function(N){return N.trackId === A;}));D=C[0];H=D.stream;F=B.find(function(N){return N.track.xg === A;});J=F.stream;u.BZ=H.bitrate;u.yha.qCa.addListener(u.Eib(O,K));u.yha.MFa.addListener(u.rnb(O,L,u.Ga.Cc[w.u.J]));L=z.get(H.ep).DR.Mh;u.yha.oa(C,D,L);u.Q8.qCa.addListener(u.Eib(G,I));u.Q8.MFa.addListener(u.rnb(G,E,u.Ga.Cc[w.u.T]));z=z.get(J.ep).DR.Mh;u.Q8.oa(B,F,z);u.ea.src=y;u.ea.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;u.ea.load();M.NAa(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,t.pf)(x);u.log.error("uncaught exception",x,z);}u.close(u.Si(null !== (y=x.code) && void 0 !== y?y:h.aa.wWa,x));});};c.prototype.Fpb=function(u){var z;for(var x=this.ea.textTracks,y=0;y < x.length;y++){z=x[y];z.label === u.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== u.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.Epb=function(u){for(var x=oa(this.ea.audioTracks),y=x.next();!y.done;y=x.next()){y=y.value;y.label !== u.displayName || y.enabled || (!1,y.enabled=!0);y.label !== u.displayName && y.enabled && (!1,y.enabled=!1);}};c.prototype.zq=function(){};c.prototype.Xn=function(){};c.prototype.Ot=function(){return Math.floor(1E3 * this.ea.currentTime);};c.prototype.waa=function(){return this.Ot();};c.prototype.kF=function(){return this.Ot();};c.prototype.bva=function(){return Math.floor(1E3 * this.ea.duration);};c.prototype.X9a=function(){return this.G.K;};c.prototype.aw=function(){return this.Ga.sa;};c.prototype.mp=function(){return this.ea;};c.prototype.isReady=function(){return null === this.Li();};c.prototype.js=function(){return this.pj.value;};c.prototype.lw=function(){return !this.pj.value;};c.prototype.Nxa=function(){return this.ea.ended;};c.prototype.Li=function(){return 1 !== this.i9.value?{stalled:this.Cu.value,progress:this.i9.value,progressRollback:!1}:null;};c.prototype.getError=function(){var u,x;return null !== (x=null === (u=this.Ki) || void 0 === u?void 0:u.v2()) && void 0 !== x?x:null;};c.prototype.B8a=function(){return 1 === this.ea.buffered.length?1E3 * this.ea.buffered.end(0):null;};c.prototype.T$a=function(){return {width:this.ea.videoWidth,height:this.ea.videoHeight};};c.prototype.Yxa=function(){return this.ea.muted;};c.prototype.U$a=function(){return this.ea.volume;};c.prototype.Vlb=function(u){this.ea.muted=u;};c.prototype.lmb=function(u){this.ea.volume=u;};c.prototype.addEventListener=function(u,x,y){this.Pb.addListener(u,x,y);};c.prototype.removeEventListener=function(u,x){this.Pb.removeListener(u,x);};c.prototype.load=function(){var u;u=this;this.loaded || (this.loaded=!0,this.xE.j_(function(x){u.Lic()?x.ja?u.z1():u.close(u.Si(x.errorCode || h.aa.Ija,x)):u.close(u.Si(h.aa.bvb));}));};c.prototype.close=function(u){if(this.closed)return Promise.resolve();this.Ga.mediaTime.set(this.Ot());this.Lsa();this.Ga.rX=this.waa();this.closed=!0;this.ea.removeAttribute("src");this.ea.load();null === u || void 0 === u?void 0:u.Zlb(!this.k_.value);(this.Ki=u) && this.Bb(l.Qa.error,u.v2());this.Bb(l.Qa.closed);return this.cib.X1(this.Ga);};c.prototype.play=function(){var u,x;u=this;x=this.ea.play();this.h1a=!1;x && x.then(function(){u.jua(l.Qa.i1a);}).catch(function(y){u.Bb(l.Qa.FO);"NotAllowedError" === y.name && (u.log.warn("Playback is blocked by the browser settings",y),u.h1a=!0,u.gj=!0,u.jua(l.Qa.V8,{player:{play:function(){return u.play();}}}));});};c.prototype.Bb=function(u,x,y){x=x || ({});x.target=this;this.Pb.Zc(u,x,!y);};c.prototype.jua=function(u,x){this.C7a.has(u) || (this.C7a.add(u),this.Bb(u,x,void 0));};c.prototype.pause=function(){this.ea.pause();};c.prototype.seek=function(u){this.ea.currentTime=u / 1E3;};c.prototype.hbb=function(u){this.close(this.Si(h.aa.KLa,h.Y.Ho,u));};c.prototype.Nt=function(){return this.Ga.playbackRate.value;};c.prototype.Xlb=function(u){this.Ga.playbackRate.set(u);};c.prototype.s8a=function(){var u;u=this;return this.Ga.Fj.map(function(x){return u.$r(x);});};c.prototype.owa=function(u){var x;x=this;return this.ZY(u).map(function(y){return x.$r(y);});};c.prototype.r8a=function(){var u;u=this.Ga.Gc.value;return u && this.$r(u);};c.prototype.nwa=function(){var u;u=this.Ga.Ob.value;return u && this.$r(u);};c.prototype.Flb=function(u){if((u=this.qY(u)) && u.Oh)return (this.Ga.Gc.set(u),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.QEa=function(u){var x,y;x=this;y=this.Ga.wi.find(function(z){return x.$r(z) === u;});if(y && y.Oh)return (this.Ga.Ob.set(y),this.Ga.Dj.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.R9a=function(){var u;return this.SY(this.Ga.Fj,null === (u=this.Ga.ba) || void 0 === u?void 0:u.Ra.Heb);};c.prototype.Dva=function(u){var x;return this.SY(this.ZY(u),null === (x=this.Ga.ba) || void 0 === x?void 0:x.Ra.Ieb);};c.prototype.$r=function(u){var x;x=u.LCa=u.LCa || ({trackId:u.trackId,bcp47:u.Of,displayName:u.displayName,trackType:u.Wi,rawTrackType:u.vG,channels:u.channels});this.cya(u) && (x.isNative=u.isNative,x.surroundFormatLabel=u.f2);this.dya(u) && (x.isNoneTrack=u.Iq(),x.isForcedNarrative=u.up(),x.isImageBased=u.am);x.subType=u.NL;x.variant=u.variant;return x;};c.prototype.cya=function(u){return "undefined" !== typeof u.isNative;};c.prototype.dya=function(u){return "undefined" !== typeof u.Iq && "undefined" !== typeof u.up;};c.prototype.qY=function(u){var x;x=this;return u && this.Ga.Fj.find(function(y){return x.$r(y) === u;});};c.prototype.ZY=function(u){var x;u=this.qY(u) || this.Ga.Gc.value;return null !== (x=null === u || void 0 === u?void 0:u.wi) && void 0 !== x?x:[];};c.prototype.SY=function(u,x){var y;y=u.length - 1;if("number" !== typeof x)return y;u=u.findIndex(function(z){return z.vc > x;});return -1 === u?y:u - 1;};c.prototype.iha=function(u){this.Ga.lb=(0,v.lda)(this.Ga.lb,u);};c.prototype.Jj=function(u){if(u !== this.Ga.S)throw (!1,Error("Unknown segmentId " + u));return this.Ga;};c.prototype.i$a=function(){return this.Ga.lb;};c.prototype.opa=function(){!1;};c.prototype.Uy=function(){!1;};c.prototype.OK=function(){!1;};c.prototype.iZ=function(){!1;return Promise.reject();};c.prototype.ewa=function(){return {};};c.prototype.xaa=function(){};c.prototype.p8a=function(){return {};};c.prototype.EEa=function(){};c.prototype.tS=function(){};c.prototype.Lbb=function(){return !1;};c.prototype.V8a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.rP=function(){!1;return Promise.resolve({success:!0});};c.prototype.Q$a=function(){!1;};c.prototype.cZ=function(){!1;};c.prototype.kS=function(){!1;};c.prototype.UEa=function(){!1;};c.prototype.Bdb=function(){!1;};c.prototype.j8a=function(){!1;return Promise.reject();};c.prototype.Yhb=function(){!1;return Promise.reject();};c.prototype.gjb=function(){!1;return Promise.reject();};c.prototype.Gk=function(){!1;return Promise.reject();};c.prototype.eL=function(){!1;};b.NWa=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A;Object.defineProperty(b,"__esModule",{value:!0});b.Jab=void 0;r=a(1);c=a(383);l=a(798);g=a(385);m=a(799);d=a(379);f=a(843);h=a(393);k=a(844);n=a(380);p=a(845);q=a(381);v=a(846);t=a(484);w=a(243);u=a(1199);x=a(394);y=a(1200);z=a(1201);B=a(382);A=a(1203);b.Jab=new r.Gd(function(C){C(c.hNa).to(l.gNa).la();C(g.lNa).to(m.kNa).la();C(d.VMa).to(f.UMa).la();C(h.XMa).to(k.WMa).la();C(x.VJa).to(y.UJa).la();C(n.qTa).to(p.pTa).la();C(q.Xla).to(v.DVa);C(t.fU).to(z.eU);C(B.iU).to(A.hU);C(w.Bja).to(u.oNa);});},function(r,b,a){var l,g,m,d;function c(f,h){this.M0b=f;this.log=h.fb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.gNa=void 0;r=a(0);l=a(1);g=a(7);m=a(384);d=a(66);c.prototype.download=function(f){var k,n,p,q,v;function h(t){if(v < n.length - 1)return (!1,v++,k.O5a(n[v].url,p,q).catch(h));throw t;}k=this;n=f.urls;p=f.offset;q=f.length;v=0;return this.O5a(n[v].url,p,q).catch(h);};c.prototype.O5a=function(f,h,k){return this.M0b.download({url:f,withCredentials:!1,responseType:d.ResponseType.gsb,UE:"hls_headers",Ou:!0,offset:h,length:k,Au:d.wU},{Leb:1});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.rNa)),r.__param(1,(0,l.l)(g.jb))],a);b.gNa=a;},function(r,b,a){var l,g,m;function c(d){this.qa=d.fb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.kNa=void 0;r=a(0);l=a(1);g=a(75);a=a(7);c.prototype.parse=function(d,f,h){d=new g.dv(this.qa,{mediaType:d},f,["sidx"]).parse();if(d.xw && d.ma)return this.q8(d.ma,h);};c.prototype.q8=function(d,f){var h,k,n,p,q;h=0;k=0;n=0;p=d.offset;q=[];d.Me.forEach(function(v,t){k+=v;n+=d.sizes[t];if(1E3 * k / d.W >= f || t === d.Me.length - 1)(q.push({duration:k / d.W,ca:h / d.W,byteOffset:p,BJb:n}),h+=k,k=0,p+=n,n=0);});return q;};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.jb))],m);b.kNa=m;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.Rh();this.fd=1 === this.version?this.fz([{creationTime:"int64"},{modificationTime:"int64"},{W:"int32"},{duration:"int64"}]):this.fz([{creationTime:"int32"},{modificationTime:"int32"},{W:"int32"},{duration:"int32"}]);return !0;};g.xf="mvhd";g.wd=!1;return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(180);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.zJ=function(d){var f;if(d && d.da && !d.F9b){f=this.ar("mdia");f && (f=f.ar("mdhd")) && f.W !== d.da.W && (d.da=new l.P(d.da).Zf(f.W));}return !0;};m.xf="trak";m.wd=!0;return m;})(a(24).Bg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){var d;this.Rh();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{Nvc:"int16"},{Rsc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.fd=this.fz(d);this.fd.xyc=!!(this.flags & 1);this.fd.yyc=!!(this.flags & 2);this.fd.zyc=!!(this.flags & 4);this.fd.Ayc=!!(this.flags & 8);this.R.console.trace("Finished parsing track box");if(null === m || void 0 === m?0:m.Ff)(m.Ff.width=this.fd.width,m.Ff.height=this.fd.height);m && m.Fl && (m.Fl[this.fd.trackId]={});return !0;};g.xf="tkhd";g.wd=!1;return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.Rh();this.fd=this.fz(1 === this.version?[{Y7a:"int64"}]:[{Y7a:"int32"}]);return !0;};g.xf="mehd";g.wd=!1;return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){this.fd=this.fz([{D0b:"int32"},{cmc:"int32"}]);if(null === m || void 0 === m?0:m.Ff)(m.Ff.gvc=this.fd.D0b,m.Ff.Myc=this.fd.cmc);return !0;};g.xf="pasp";g.wd=!1;return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.fd=this.fz([{ltc:"int32"},{maxBitrate:"int32"},{X8:"int32"}]);return !0;};g.xf="btrt";g.wd=!1;return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.R.IC();this.R.IC();for(this.Gra=[];this.R.offset <= this.byteOffset + this.byteLength - 4;){this.Gra.push(this.R.IC());}return !0;};g.xf="ftyp";g.wd=!1;return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(89);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){var f,h,k,n,p;this.Rh();this.fd=this.fz([{$wc:"int32"},{Cwa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.fd.Cwa=l.xN(this.fd.Cwa);if(d && d.Fl){p=null === (n=null === (k=null === (h=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === h?void 0:h.yq("tkhd")) || void 0 === k?void 0:k.fd) || void 0 === n?void 0:n.trackId;"number" === typeof p && d.Fl[p] && (d.Fl[p].yy=this.fd.Cwa);}return !0;};m.xf="hdlr";m.wd=!1;return m;})(a(24).Bg);b.default=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(103);g=a(180);m=a(181);r=a(24);d=a(90);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){this.Rh();this.uP=this.R.kc();return !0;};h.prototype.zJ=function(k){var n;n=Object.keys(this.ze);n.length && (n=n[0],this.ze[n].length && (n=this.ze[n][0],n instanceof m.default?this.da=new g.P(n.EJ,n.samplerate):n instanceof d.default && (n=n.ze[l.Cka]) && n.length && (n=n[0].fd,1E3 !== n.Ft && 1001 !== n.Ft || 0 !== n.lu % 1E3?this.R.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.lu + "/" + n.Ft):this.da=new g.P(n.Ft,n.lu)),k && this.da && (k.da=this.da)));return !0;};h.prototype.akb=function(k){void 0 !== this.ze[k] && 0 !== this.ze[k].length && (this.Xb.Zw(this.uP - 1,this.byteOffset + 12),k=this.ze[k][0],this.lo(k.byteLength,k.byteOffset));};h.xf="stsd";h.wd=!0;return h;})(r.Bg);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.WVb=this.R.Od(2);this.mJb=this.R.Od(5);this.nJb=this.R.Od(3);this.NFb=this.R.Od(3);this.R.Od(1);this.R.Od(5);this.R.Od(5);return !0;};g.xf="dac3";return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){var d,f;d=this.R.Fh();this.K4a=d >> 3;this.g8b=d & 7;this.wic=[];for(d=0;d < this.g8b;d++){f={WVb:this.R.Od(2),mJb:this.R.Od(5),nJb:this.R.Od(5),NFb:this.R.Od(3),Pvc:this.R.Od(1),f8b:this.R.Od(4)};0 < f.f8b?f.vtc=this.R.Od(9):this.R.Od(1);this.wic.push(f);}m && m.WRb && (m.WRb.K4a=this.K4a);return !0;};g.xf="dec3";return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){this.Rh();this.gEa=this.R.IC();l.M && this.R.console.trace("SchemeTypeBoxTranslator: " + this.gEa);if("cenc" === this.gEa){if((this.R.offset-=4,l.M && this.R.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.R.offset),this.Xb.Pqb("piff"),null === d || void 0 === d?0:d.Ff))d.Ff.eTb="piff";}else if(null === d || void 0 === d?0:d.Ff)d.Ff.eTb=this.gEa;this.R.kc();return !0;};m.xf="schm";m.wd=!1;return m;})(l.Bg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){var d;this.R.Nd();this.Drb=this.R.Nd();this.R.Nd();this.R.Nd();this.R.Nd();this.sga=this.ooa(this.R.Nd() & 31);this.tib=this.ooa(this.R.Nd());this.FR=this.sga.length?this.sga[0][1]:this.Drb;this.AZa=this.R.offset;this.startOffset + this.length < this.R.offset && (100 === this.FR || 110 === this.FR || 122 === this.FR || 144 === this.FR) && (this.R.Nd(),this.R.Nd(),this.ooa(this.R.Nd()));d=this.startOffset + this.length - this.AZa;0 < d && this.lo(d,this.AZa);m && m.bqa && (m.bqa.sga=this.sga,m.bqa.tib=this.tib,m.bqa.FR=this.FR);return !0;};g.prototype.ooa=function(m){var h;for(var d=[],f=0;f < m;++f){h=this.R.Fh();d.push(this.R.bfa(h));}return d;};g.xf="avcC";g.wd=!1;return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){this.R.Od(1);this.R.Od(7);this.vlb=this.R.Od(3);this.ulb=this.R.Od(5);this.wlb=this.R.Od(1);this.Gab=this.R.Od(1);this.Wob=this.R.Od(1);this.Dfb=this.R.Od(1);this.I2a=this.R.Od(1);this.J2a=this.R.Od(1);this.H2a=this.R.Od(2);this.R.Od(3);(this.Cxa=this.R.Od(1))?this.pbb=this.R.Od(4):this.R.Od(4);m && (m.Zsc={vlb:this.vlb,ulb:this.ulb,wlb:this.wlb,Gab:this.Gab,Wob:this.Wob,Dfb:this.Dfb,I2a:this.I2a,J2a:this.J2a,H2a:this.H2a,Cxa:this.Cxa,pbb:this.pbb});return !0;};g.xf="av1C";return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(102);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.zJ=function(){var d;d=this.yq("esds");if(d=d && d.Iub.yq(5))(l.assert(this.samplerate),this.EJ=d.EJ * this.samplerate / d.Kfa);return !0;};m.xf="mp4a";m.wd=!0;return m;})(a(181).default);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(246);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){this.Rh();this.Iub=l.ELa.qjb(this.R,d);return !0;};m.xf="esds";m.wd=!1;return m;})(a(24).Bg);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(103);a=a(24);l=r.Cka;a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(){this.Rh();this.fd=this.fz([{lu:"int32"},{Ft:"int16"}]);return !0;};m.xf=l;m.wd=!1;return m;})(a.Bg);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){var d,f,h,k,n;this.Rh();d=this.fz([{OS:"int32"},{Esa:"int32"},{ky:"int32"},{zB:"int32"},{yB:"int32"}]);f=d.OS;h=d.Esa;k=d.ky;n=d.yB;d=d.zB;this.fd={trackId:f,Utc:h,Y9:k,Vtc:n,Wtc:d};(null === m || void 0 === m?0:m.Fl) && m.Fl[f] && (m.Fl[f].Esa=h,m.Fl[f].ky=k,m.Fl[f].yB=n,m.Fl[f].zB=d);this.OS=f;this.Esa=h;this.ky=k;this.zB=d;this.yB=n;return !0;};g.xf="trex";g.wd=!1;return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(819);g=a(102);m=a(390);r=(function(d){function f(h,k,n,p,q){h=d.call(this,h,k,n,p,q) || this;h.XX=!1;return h;}c.__extends(f,d);Object.defineProperties(f.prototype,{J4a:{get:function(){return !!(this.flags & 1);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{X$:{get:function(){return !!(this.flags & 4);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Hfa:{get:function(){return !!(this.flags & 256);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{Jfa:{get:function(){return !!(this.flags & 512);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{VDa:{get:function(){return !!(this.flags & 1024);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{UDa:{get:function(){return !!(this.flags & 2048);},enumerable:!0,configurable:!0}});f.prototype.parse=function(h){var k,n,p;this.Rh();this.lqa=this.R.offset;this.Zd=this.R.kc();this.$o=this.J4a?this.R.efa():0;this.kVb=this.X$?this.R.kc():void 0;this.TDa=(this.Hfa?4:0) + (this.Jfa?4:0) + (this.VDa?4:0) + (this.UDa?4:0);this.EP=this.R.offset;g.assert(this.J4a,"Expected data offset to be present in Track Run");g.assert(this.length - (this.R.offset - this.startOffset) === this.Zd * this.TDa,"Expected remaining data in box to be sample information");if(h && h.pa){h.pa.$o=this.$o;h.pa.Zd=this.Zd;this.xl=[];p=null === (n=null === (k=this.parent) || void 0 === k?void 0:k.yq("tfhd")) || void 0 === n?void 0:n.OS;for(k=0;k < this.Zd;k++){n={};this.Hfa?n.Gfa=this.R.kc():h.pa.ky?n.Gfa=h.pa.ky:p && h.Fl && h.Fl[p] && (n.Gfa=h.Fl[p].ky);this.Jfa?n.tL=this.R.kc():h.pa?n.tL=h.pa.zB:p && h.Fl && h.Fl[p] && (n.tL=h.Fl[p].zB);this.VDa?n.Ifa=this.R.kc():h.pa?n.Ifa=h.pa.yB:p && h.Fl && h.Fl[p] && (n.Ifa=h.Fl[p].yB);this.UDa && (n.zxc=0 === this.version?this.R.kc():this.R.efa());0 === k && this.X$ && (n.Ifa=this.kVb);this.xl.push(n);}h.pa.xl=this.xl;if(h.pa.sL)for((g.assert(h.pa.sL.length === h.pa.xl.length,"num fragment samples: " + h.pa.xl.length + ", num samples in auxiliary info: " + h.pa.sL.length),p=0);p < h.pa.xl.length;p++){h.pa.xl[p].Lja=h.pa.sL[p].Lja;h.pa.xl[p].NFa=h.pa.sL[p].NFa;}}return !0;};f.prototype.t7=function(h,k,n){var p,q,v;p=this.Hfa?this.R.kc():h.ky;q=this.Jfa?this.R.kc():h.zB;h=this.VDa?this.R.kc():h.yB;v=this.UDa?0 === this.version?this.R.kc():this.R.efa():0;return {Lec:v,Ifa:h,tL:q,Gfa:p,bxc:(n || 0) + v - (void 0 !== k?k:v)};};f.prototype.Ka=function(h,k,n,p,q,v,t){var w,u,x,y;g.assert(void 0 !== this.$o);g.assert(void 0 !== this.EP);g.assert(void 0 !== this.lqa);g.assert(void 0 !== this.Zd);g.assert(void 0 !== h.tt);w=0;u=0;this.Xb.offset=this.EP;for(p=0;p < q;++p){x=this.t7(k,y,u);if(0 === p)y=x.Lec;w+=x.tL;u+=x.Gfa;}p=q;q=this.R.offset;x=this.t7(k,y,u);this.lDa=t;this.nS=p;this.Imb=u;if(t){if((this.OR=this.$o + w,this.As=0,p === this.Zd))return !0;}else if((this.OR=this.$o,this.As=w,0 === p))return !0;if(0 === p || p === this.Zd)return !1;this.XX=!0;if(t){this.As+=x.tL;for(t=p + 1;t < this.Zd;++t){x=this.t7(k,y,u);this.As+=x.tL;}this.Xb.offset=this.lqa;this.Zd=p;this.Xb.Zw(this.Zd);this.Xb.sHa(v);this.X$ && (this.R.offset+=4);this.lo(this.length - (q - this.startOffset),q);}else (k=q - this.EP,this.EP=q,this.Xb.offset=this.lqa,this.Zd-=p,this.Xb.Zw(this.Zd),this.$o+=w,this.Xb.sHa(v,this.$o),this.X$ && (this.R.offset+=4),this.lo(k,this.Xb.offset));n.lo(this.As,h.tt + this.OR);return !0;};f.prototype.f7b=function(h,k,n,p,q,v,t,w){var u,y,z,B,A;void 0 === t && (t=!1);g.assert(void 0 !== this.$o);g.assert(void 0 !== this.EP);g.assert(void 0 !== this.Zd);g.assert(void 0 !== this.TDa);g.assert(void 0 !== h.tt);for(var x=p.length;x < this.Zd;++x){p[x]=p[x - 1];}p.some(function(C){return 0 >= C;}) && (y=null === (u=this.yBb(q,v)) || void 0 === u?void 0:u.nga);this.R.offset=this.EP;h=h.tt + this.$o;q=-1 !== q.indexOf("heaac")?"aac":"ddp";v=new Uint8Array(this.R.view.buffer,this.R.view.byteOffset,this.R.view.byteLength);for(x=0;x < this.Zd;++x){u=this.t7(k).tL;if(-Infinity === p[x]){if(y && this.Jfa){n.rfa(u,y,h);z=this.TDa - (this.Hfa?4:0);this.Xb.offset-=z;this.Xb.Zw(y.byteLength);this.Xb.offset+=z - 4;}}else if(0 > p[x])try{B=v.subarray(h,h + u);A=l.fF({je:q,frame:B,YA:p[x],qL:t,zK:w}).HVb;A !== u && this.R.console.error("TrackRunBoxEditor: parse frame size error " + A + " should be " + u);}catch(C){this.R.console.error("TrackRunBoxEditor: fadeFrame error: " + C.message + " " + C.stack);}h+=u;}};f.prototype.yBb=function(h,k){if("string" === typeof k)return (g.assert("reset" !== k && "standard" !== k),m.LW[k]);if(void 0 !== h)return k?m.LW.reset[h] || m.LW.standard[h]:m.LW.standard[h];};f.xf="trun";f.wd=!1;return f;})(a(24).Bg);b.szb=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(820),b);},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.fF=void 0;c=a(250);l=a(821);b.fF=function(){var h,k,n,p;for(var d=[],f=0;f < arguments.length;f++){d[f]=arguments[f];}h="string" === typeof d[0]?{je:d[0],frame:d[1],YA:d[2],NLb:d[3],zK:d[4]}:d[0];k=h.je;d=h.frame;f=h.YA;n=h.NLb;p=h.zK;h=h.qL;h=void 0 === h?!1:h;switch(k){case "aac":void 0 === g && (g=a(822).fF);k=6;n && (n=new c.u3(n),k=l.xhb(n).Lfa);d=g(d,f,h,{Lfa:k}).rBa;break;case "ddp":void 0 === m && (m=a(831).fF);d=m(d,f,{zK:p}).rBa;break;default:throw Error("Unrecognized codec in fadeFrame: " + k);}return {HVb:d};};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.xhb=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.xhb=function(c){var l,g,m,d;l=c.read(5);g=c.read(4);if(15 === g){m=c.read(24);g=a.indexOf(m);}else m=a[g];d=c.read(4);switch(l){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + l + " not supported.");}return {Mr:l,sampleRate:m,Lfa:g,wtc:d,GVb:1024};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.fF=void 0;c=a(250);l=a(823);b.fF=function(g,m,d,f){var h;h=new c.u3(g);m=l.Mib(h,{YA:m,qL:d},f && f.Lfa);h=h.offset;return {frame:g.subarray(0,h),rBa:h,Lyc:m};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Mib=void 0;c=a(251);l=a(824);b.Mib=function(g,m,d){var f,h,k;if(4095 === g.read(12)){g.advance(3);f=!!g.read(1);h=g.read(2) + 1;d=g.read(4);g.advance(8);k=g.read(13);g.advance(13 + (f?0:16));f={Mr:h,Lfa:d,GVb:k};}else g.reverse(12);c.assert(void 0 !== d);l.Sib(g,d,m);return f;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Sib=void 0;c=a(825);l=a(830);b.Sib=function(g,m,d){var h;for(var f;7 !== (f=g.read(3));){h=g.read(4);switch(f){case 1:c.Jib(g,m,d);break;case 6:l.Lib(g,h,d);break;default:throw Error("Unsupported AAC element " + f);}}g.AJb();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Jib=void 0;c=a(826);b.Jib=function(l,g,m){var d,f;d=l.read(1);if(d){f=new c.WNa(l,d,g);1 === l.read(2) && l.advance(f.gR * f.A_);}c.CCa(l,g,f,m);c.CCa(l,g,f,m);};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.WNa=b.CCa=void 0;c=a(251);l=a(827);g=a(829);b.CCa=function(h,k,n,p){var q,v,t;q=h.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.YA / 20)) / Math.log(2)));h.reverse(8);h.write(8,p);n || (n=new f(h,0,k));q=n;v=2 === q.pHa?3:5;t=(1 << v) - 1;k=[];p=[];for(var w=[],u=0;u < q.gR;++u){for(var x=0,y=0;x < q.A_;){for(var z=h.read(4),B=0,A;(A=h.read(v)) === t;){B+=A;}B+=A;x+=B;k.push(z);p.push(B);++y;}w.push(y);}q=!0;for(v=0;v < k.length;++v){0 !== k[v] && (13 === k[v] && q?(h.advance(9),q=!1,l.Z4.Gmb(h,p[v] - 1)):l.Z4.Gmb(h,p[v]));}h.read(1) && h.advance(6 + 9 * (h.read(2) + 1));if(h.read(1))for((q=n,v=2 === q.pHa?m:d,t=0);t < q.Dgb;++t){if(w=h.read(v[0]))for((u=h.read(1),x=0);x < w;++x){if((h.advance(v[1]),y=h.read(v[2])))(h.advance(1),z=h.read(1),h.advance(y * (u + 3 - z)));}}c.assert(!h.read(1));q=n.gR;v=n.A_;t=n.Mnb;n=n.Fha;for(u=w=0;u < q;++u){for((x=n[u],y=0);y < v;++w){if((z=k[w],B=p[w],0 === z || 13 === z || 15 === z || 14 === z))y+=B;else {A=5 <= z?2:4;for(var C=0;C < B;(++C,++y)){for(var D=x * (t[y + 1] - t[y]) / A,E=0;E < D;++E){l.Z4.rhc(h,z);}}}}}};m=[1,4,3];d=[2,6,5];f=(function(){return function(h,k,n){var p;this.Fha=[];this.gR=1;this.Fha[0]=1;h.advance(1);this.pHa=h.read(2);h.read(1);if(2 === this.pHa){this.Dgb=8;this.A_=h.read(4);for(k=0;7 > k;++k){h.read(1)?this.Fha[this.gR - 1]++:(this.gR++,this.Fha[this.gR - 1]=1);}this.Mnb=g.MUa[n];}else {this.Dgb=1;this.A_=h.read(6);if(h.read(1)){p=14 + Math.min(this.A_,40);h.read(1) && h.advance(p);k && h.read(1) && h.advance(p);}this.Mnb=g.LUa[n];}};})();b.WNa=f;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.Z4=void 0;c=a(828);l=[c.GMa,c.JMa,c.KMa,c.LMa,c.MMa,c.NMa,c.OMa,c.PMa,c.QMa,c.HMa,c.IMa];g=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.Z4=(function(){function m(){}m.t7a=function(d,f){var h,q,v;h=f.table;f=f.width;for(var k=0,n=h[0],p=d.read(n);p !== h[k + 1];){k+=f;q=h[k];v=q - n;n=q;p<<=v;p|=d.read(v);}return k;};m.Fmb=function(d){for(var f=4;d.read(1);){++f;}d.advance(f);};m.Gmb=function(d,f){for(;f--;){m.t7a(d,c.RMa);}};m.rhc=function(d,f){var h,k;h=l[f - 1];k=h.table;h=this.t7a(d,h);if(11 > f)g[f - 1] && (f=k[h + 2]) && d.advance(f);else if(11 === f || 15 < f)(h+=2,(f=k[h]) && d.advance(f),(k=k[h + 1]) && this.Fmb(d),1 < k && this.Fmb(d));else throw Error("Huffman: unknown spectral codebook: " + f);};return m;})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RMa=b.IMa=b.HMa=b.QMa=b.PMa=b.OMa=b.NMa=b.MMa=b.LMa=b.KMa=b.JMa=b.GMa=void 0;b.GMa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.JMa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.KMa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.LMa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.MMa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.NMa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.OMa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.PMa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.QMa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.HMa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.IMa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.RMa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},function(r,b){var a,c,l,g,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Eyb=b.Zvb=b.Gyb=b.azb=b.bzb=b.MUa=b.LUa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);l=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);m=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);h=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);k=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.LUa=[r,r,c,g,g,d,f,f,k,k,k,p];b.MUa=[a,a,l,m,m,m,h,h,n,n,n,q];b.bzb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.azb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.Gyb=(function(){for(var v=new Float32Array(428),t=0;428 > t;t++){v[t]=Math.pow(2,(t - 200) / 4);}return v;})();b.Zvb=(function(){for(var v=new Float32Array(8191),t=4 / 3,w=0;8191 > w;w++){v[w]=Math.pow(w,t);}return v;})();b.Eyb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lib=void 0;b.Lib=function(a,c,l){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== l.YA && !l.qL?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.fF=void 0;c=a(250);l=a(832);b.fF=function(g,m,d){var f;f=new c.u3(g);m=l.G0a(f,m,null === d || void 0 === d?void 0:d.zK).IVb;g=g.subarray(0,m);l.hmb(g);return {frame:g,rBa:m};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.hmb=b.G0a=void 0;c=a(251);l=a(833);b.G0a=function(g,m,d){var f,h;f=g.read(16);c.assert(2935 === f);f=2 * ((g.read(16) & 2047) + 1);g.advance(13);h=g.read(5);g.reverse(5);d && (m*=-h / d);g.write(5,Math.min(31,Math.max(1,Math.floor(h + m))));return {IVb:f};};b.hmb=function(g){var m;m=l.R3a(g.subarray(2,g.length - 2));g[g.length - 2]=m >> 8;g[g.length - 1]=m & 255;};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.R3a=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.R3a=function(c,l){void 0 === l && (l=0);l=~~l;for(var g=0;g < c.length;g++){l=(a[(l >> 8 ^ c[g]) & 255] ^ l << 8) & 65535;}return l;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){this.EPb=this.R.IC();m && m.Ff && (m.Ff.Jec=this.EPb);return !0;};g.xf="frma";return g;})(a(24).Bg);b.default=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(836);g=a(252);m=a(102);d=a(180);f=a(24);r=a(388);h=a(389);k=a(391);n=a(149);p=a(244);q=a(103);v=a(392);t=a(839);a=(function(){function w(u,x,y,z,B,A){this.console=u;this.stream=x;this.Nw=z;this.VGb=B;this.view=y instanceof ArrayBuffer?new DataView(y):new DataView(y.data,y.offset,y.length);this.config=A || ({});this.a0b=n.iXb();}w.path=function(u,x){return x.reduce(function(y,z){return y && y.ze[z] && y.ze[z][0];},u);};w.qYb=function(u){return u && u.Gra && -1 !== u.Gra.indexOf("mcl0")?"mcl0":void 0;};w.PUb=function(u,x){var y,z;m.assert("mcl0" === u,"Unsupported McClearen brand");y=x.ma;u=y.Me;x=new d.P(120,1).Zf(y.W).Fa;z=0;for(y=y.so;z < u.length && y < x;){y+=u[z++];}return z;};w.prototype.parse=function(u){var x;x=this.Xec();if(!x.done){if(x.Qfb)return {xw:!1,WGb:x.Qfb};this.console.error("Scan error: " + x.error);return {xw:!1,parseError:x.error || "unknown mp4 scan error"};}if(null === u || void 0 === u?0:u.da)u.F9b=u.da;this.view=new DataView(this.view.buffer,this.view.byteOffset,x.offset);u=this.b$b(u);return u.done?this.pMb():(this.console.error("Parse error: " + u.error),{xw:!1,parseError:u.error || "unknown mp4 parse error"});};w.prototype.GB=function(u){return f.Bg.GB(this,u);};w.prototype.yq=function(u){return f.Bg.yq(this,u);};w.prototype.Xec=function(){var u,x;u=new v.ivb(this.Nw,this.VGb?[q.k5,q.j5]:[],this.config && this.config.lyc || ["moof",q.JQa],this.config && this.config.CBa);x=c.__assign(c.__assign({},this.config),{BBa:!1});return new k.zia(w.$Da,u,this.view,this.console,x).parse();};w.prototype.b$b=function(u){var x,y,z;x=new v.PKa(this.view.byteLength);y=Object.create(p.ZQ.ze);this.config && ((this.config.ABa || this.config.Mob || this.config.rga) && l(p.ZQ.SDa,y),this.config.pGa && l(p.ZQ.akc,y),this.config.Mob && l(p.ZQ.Nob,y));z=c.__assign(c.__assign({},this.config),{BBa:!0});this.yg=new k.zia(y,x,this.view,this.console,z);u=this.yg.parse(u);u.done && (this.ze=this.yg.ze);return u;};w.prototype.pMb=function(){var u,x,y,z,B,A,C,D;u={xw:!0};x=w.path(this,["moov"]);y=null === x || void 0 === x?void 0:x.GB("trak");if(1 === (null === y || void 0 === y?void 0:y.length)){z=y[0].ar("tkhd");z && (u.trackId=z.fd.trackId);}z=w.path(x,["trak","mdia","minf","stbl","stsd"]);if(this.config.ABa)if(z)(u.da=z.da,u.yxc=z.ze);else return {xw:!1,parseError:"Missing sample descriptions"};B=w.path(z,["encv","sinf","schi"]);B && (B=w.path(B,["tenc"]) || w.path(B,[q.uRa])) && (u.dTb={Itc:B.Jq,uya:B.uya,Jvc:!1});if(B=w.path(x,["trak","mdia","mdhd"]))u.W=B.W;if(B=w.path(x,["mvex","trex"]))u.Y9=B && B.fd.Y9;u.Y9 && u.W && (u.da=new d.P(u.Y9,u.W));if(B=w.path(this,["sidx"])){A=w.path(this,[q.k5]);A=A && A.i6b;C=w.path(this,[q.j5]);C=C && C.Zk;u.ma=B.ma;u.YQ=A;u.Zk=C;}if(A=this.ze.vmaf && this.ze.vmaf[0])u.Ez=A.Ez;if(this.config.pDa && (A=w.path(x,["mvex"])) && y && y.length){D=y.reduce(function(E,G){return G.byteOffset > E.byteOffset?G:E;});D.byteOffset > A.byteOffset && (y=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=t.Yob(y,A.byteOffset,A.byteOffset + A.byteLength),D=t.Yob(y,A.byteOffset + A.byteLength,D.byteOffset + D.byteLength),y.set(D,A.byteOffset),y.set(C,A.byteOffset + D.byteLength));}if(this.config.Mkb)if(x)(this.trim(x.byteOffset + x.byteLength),this.config.rga && z && 1 < z.uP && B && (u.dh=this.rga(z,B)),void 0 === u.dh && (x=this.yg.XX?g.concat(this.yg.Ka()):this.view.buffer,u.dh=[{Vd:0,data:x}]));else return {xw:!1,parseError:"Missing movie box"};u.xw=!0;u.rea=this.yg.offset;return u;};w.prototype.trim=function(u){var x;x=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.yg.trim(u);this.view=new DataView(x);};w.prototype.rga=function(u,x){var y,z,B;y=Object.keys(u.ze);z=y.filter(function(A){return "encv" !== A;});if(!(2 > y.length || z.length === y.length || 0 === z.length)){y=w.path(this,["ftyp"]);B=w.qYb(y);if(B)return (y=[],this.yg.acc(),u.akb("encv"),y.push({Vd:0,Mm:!1,data:g.concat(this.yg.Ka())}),this.yg.wac(),u.akb(z[0]),u=w.PUb(B,x),y.push({Vd:u,Mm:!0,data:g.concat(this.yg.Ka())}),y);}};w.$Da={};return w;})();b.dv=a;a.$Da[q.Dka]=r.default;a.$Da[q.Eka]=h.default;},function(r){r.exports=function l(a,c){var g;a.__proto__ && a.__proto__ !== Object.prototype && l(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){g=Object.getOwnPropertyDescriptor(a,m);void 0 !== g && Object.defineProperty(c,m,g);});};},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(102);g=a(252);m=a(89);r=a(838);d=(function(){function f(h){h?(this.Wq=h.Wq.slice(),this.Tu=h.Tu.slice(),this.Qi=h.Qi.slice(),this.trim=h.trim):(this.Wq=[],this.Tu=[],this.Qi=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Wq.length && 0 === this.Tu.length && 0 === this.Qi.length;},enumerable:!0,configurable:!0}});return f;})();r=(function(f){function h(k,n,p){k=f.call(this,k,n,p) || this;k.b6a=[];k.Ne=new d();return k;}c.__extends(h,f);h.DHb=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.M1?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.M1?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:l.assert(!n.M1);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:l.assert(!1);}};Object.defineProperties(h.prototype,{XX:{get:function(){return !this.Ne.empty;},enumerable:!0,configurable:!0}});h.prototype.Hha=function(k,n){this.Ne.Tu.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};h.prototype.Qmc=function(k){this.Ne.Tu.push({offset:!1,value:k,size:2,M1:!1});};h.prototype.Zw=function(k,n){this.Ne.Tu.push({offset:void 0 !== n?n:this.offset,value:k,size:4,M1:!1});void 0 === n && (this.offset+=4);};h.prototype.Rmc=function(k,n){this.Ne.Tu.push({offset:void 0 !== n?n:this.offset,value:k,size:8,M1:!1});void 0 === n && (this.offset+=8);};h.prototype.Pqb=function(k){this.Zw(m.AXa(k));};h.prototype.sHa=function(k,n){this.Ne.Qi.push({offset:this.offset,Nr:k,value:n});this.offset+=4;};h.prototype.lo=function(k,n,p){this.Ne.Wq.push({offset:n,remove:k,zb:p});};h.prototype.rfa=function(k,n,p,q){this.Ne.Wq.push({offset:p,remove:k,replace:n,zb:q});};h.prototype.trim=function(k){this.Ne.trim=k;};h.prototype.acc=function(){this.b6a.push(new d(this.Ne));};h.prototype.wac=function(){this.Ne=this.b6a.pop() || new d();};h.prototype.Ka=function(){var k,n,p,q,v,t,w,u,x;k=this;if(0 === this.Ne.Wq.length && 0 === this.Ne.Tu.length && 0 === this.Ne.Qi.length)return [void 0 === this.Ne.trim?this.view.buffer:this.view.buffer.slice(0,this.Ne.trim)];this.Ne.Wq.sort(function(y,z){return y.offset - z.offset;});this.Ne.Tu.sort(function(y,z){return y.offset - z.offset;});this.mec();n=this.GUb();p=new Uint8Array(this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + n));q=new DataView(p.buffer,p.byteOffset,p.byteLength);this.Ne.Tu.forEach(h.DHb.bind(void 0,q));this.Mkc(q);this.Lkc(q);v=[];t=void 0 !== this.Ne.trim?Math.min(this.Ne.trim,this.view.byteLength):this.view.byteLength;w=0;u=!0;this.Ne.Wq.filter(function(y){return y.offset <= t;}).forEach(function(y){y.offset > w && (v.push(p.subarray(w,y.offset)),u && y.offset > n && (u=!1,p=new Uint8Array(k.view.buffer,k.view.byteOffset,k.view.byteLength),v.push(p.subarray(n,y.offset))));y.replace && v.push(new Uint8Array(y.replace));w=y.offset + y.remove;});w < n && v.push(p.subarray(w));w < t && (q=Math.max(n,w),v.push(new Uint8Array(this.view.buffer,this.view.byteOffset + q,t - q)));q=v.reduce(function(y,z){return y + z.byteLength;},0);x=new Uint8Array(q);v.reduce(function(y,z){x.set(z,y);return y + z.byteLength;},0);return [x.buffer];};h.prototype.GUb=function(){var k,n,p;k=[];n=this.Ne.Tu[this.Ne.Tu.length - 1];p=this.Ne.Qi[this.Ne.Qi.length - 1];n && k.push(n.offset + n.size);p && k.push(p.offset + 4);this.Ne.Wq.filter(function(q){return q.zb;}).forEach(function(q){return k.push(q.zb.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.Ne.trim?Math.min(n,this.Ne.trim):n;};h.prototype.mec=function(){this.Ne.Wq=this.Ne.Wq.reduce(function(k,n){var p,q;if(0 === k.length)return (k.push(n),k);p=k[k.length - 1];q=p.offset + p.remove;n.offset >= q?k.push(n):n.offset + n.remove > q && (l.assert(p.zb === n.zb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?g.concat(p.replace,n.replace):n.replace));return k;},[]);};h.prototype.Mkc=function(k){var n;n=this;this.Ne.Qi.forEach(function(p){var q,v,t,w;q=k;v=p.offset;n.Ne.Wq.some(function(u){return u.offset <= p.offset && u.replace && u.offset + u.replace.byteLength >= p.offset + 4?(q=new DataView(u.replace),v=p.offset - u.offset,!0):!1;});t=p.Nr + (void 0 !== p.value?p.value:q.getInt32(v));w=n.Ne.Wq.reduce(function(u,x){return x.offset > p.Nr && x.offset < t?u + (x.remove - (x.replace?x.replace.byteLength:0)):u;},0);q.setInt32(v,t - p.Nr - w);});};h.prototype.Lkc=function(k){this.Ne.Wq.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.zb;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(r.Bzb);b.Azb=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(149);a(149);l=a(89);r=(function(){function g(m,d,f){this.view=m;this.console=d;this.config=f;this.view=m;this.console=d;this.Xd=this.ut=this.offset=0;}g.prototype.T8a=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};g.prototype.Od=function(m){for(;this.Xd < m;){this.ut=(this.ut << 8) + this.Nd();this.Xd+=8;}this.Xd-=m;return this.ut >>> this.Xd & (1 << m) - 1;};g.prototype.Nd=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};g.prototype.Fh=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};g.prototype.kc=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};g.prototype.efa=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};g.prototype.z$b=function(m,d){var f;f=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + m;};g.prototype.km=function(m,d){m=this.z$b(m,d);this.offset+=8;return m;};g.prototype.B$b=function(){var m,d;m=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < m?m:-m) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * m + d;};g.prototype.rcc=function(){var m;m=this.B$b();this.offset+=8;return m;};g.prototype.IC=function(){return l.xN(this.kc());};g.prototype.ffa=function(){var d,f,h,k,n,p;function m(q,v){return ("000000" + q.toString(16)).slice(2 * -v);}d=this.kc(!0);f=this.Fh(!0);h=this.Fh(!0);k=this.Fh();n=this.Fh();p=this.kc();return [m(d,4),m(f,2),m(h,2),m(k,2),m(n,2) + m(p,4)].join("-");};g.prototype.cfa=function(m){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + m);this.offset+=m;return d;};g.prototype.lcc=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var f=this.Nd();0 !== f && 0 <= --m;){d.push(f);f=this.Nd();}return String.fromCharCode.apply(null,d);};g.prototype.bfa=function(m){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.rl(this.config.TS && c.g_b || c.aQ,1,m,d,f);};g.prototype.kcc=function(m){var d,f,h;d=10;f=!1;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.rl(this.config.TS && c.e_b || c.bba,2,m,d,f,h);};g.prototype.afa=function(m,d,f){var h;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.rl(this.config.TS && c.f_b || c.eZ,4,m,d,f,h);};g.prototype.ncc=function(){for(var m=this.Nd(),d=m & 127;m & 128;){m=this.Nd();d=d << 7 | m & 127;}return d;};g.prototype.rl=function(m,d,f,h,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,f,h,n);this.offset=k || !h || h === d?this.offset + f * (h || d):this.offset + d;return m;};return g;})();b.Bzb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yob=function(a,c,l){var g,m,d;g=Uint8Array;if(null !== a && void 0 !== a && a.slice)return a.slice(c,l);m=Math.min(a.length,l);d=Math.min(a.length,c);for(l=new g(Math.max(l - c,0));d < m;d++){l[d - c]=a[d];}return l;};},function(r,b,a){var l,g,m,d,f;function c(h){return "number" === typeof h[0] || void 0 === h[0]?{sj:h[0],W:h[1],YA:h[2],EDa:h[3],qL:h[4]}:h[0];}Object.defineProperty(b,"__esModule",{value:!0});l=a(0);g=a(103);r=a(253);m=a(89);d=a(102);f=a(24);a=(function(h){function k(n,p,q){return h.call(this,n,p,q) || this;}l.__extends(k,h);k.prototype.Wjb=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ka(l.__assign(l.__assign({},c(n)),{lDa:!1}));};k.prototype.ckb=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ka(l.__assign(l.__assign({},c(n)),{lDa:!0}));};k.prototype.Ka=function(n){var q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H;function p(P){z=y[P];B=z.ar("traf");if(void 0 === B || void 0 === B.tt)return !1;E=B.ar("tfdt");if(void 0 === E)return !1;A=B.ar("trun");return void 0 === A?!1:!0;}q=n.sj;v=n.W;t=n.lDa;w=n.YA;u=n.EDa;u=void 0 === u?!1:u;x=n.qL;x=void 0 === x?!1:x;n=n.zK;if(!this.parse().done)return !1;y=this.ze.moof;if(!y || 0 === y.length)return !1;if(void 0 !== q){C=q;for(q=0;q < y.length;++q){if(!p(q,this.yg.console.trace))return !1;d.assert(z && B && E && A && void 0 !== A.Zd);if(A.Zd > C || t && A.Zd === C)break;C-=A.Zd;}d.assert(z && B && E && A);}else if((q=t?y.length - 1:0,!p(q,this.yg.console.trace)))return !1;d.assert(z && B && E && A);if(t && q < y.length - 1){D=y[q + 1];this.yg.lo(this.view.byteOffset - D.startOffset,D.startOffset);}else !t && 0 < q && this.yg.lo(z.startOffset,0);D=B.ar("tfhd");if(void 0 === D)return !1;E=B.ar("tfdt");G=A.Zd;F=B.ar("saiz");L=B.ar("saio");O=B.ar(g.tRa);K=B.ar("sbgp");if(!(!F && !L || F && L))return !1;I=B.ar("sdtp");M=f.Bg.GB(this,"mdat");if(M && q < M.length)H=M[q];else if(q !== y.length - 1)return !1;void 0 === C && (C=t?A.Zd:0);if("number" === typeof w && 0 < w){M=t?C:A.Zd - C;for(var J=Array(M),N=0;N < M;++N){J[N]=t?N >= M - w?-Infinity:0:N < w?-Infinity:0;}w=J;}if(A.Ka(B,D,H || this.yg,v,C,B.tt,t))A.XX && (d.assert(void 0 !== A.Imb),d.assert(void 0 !== A.nS),!t && E && E.Ka(A.Imb),F && L && (F.Ka(A.nS,t),L.Ka(O?0:F.RDa,B.tt)),O && O.Ka(A.nS,t),I && I.Ka(A.nS,G,t),K && K.Ka(A.nS,t));else if(!t){if(q === y.length - 1)return !1;this.yg.lo(y[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === A.nS)return !1;Array.isArray(w) && H && this.stream.profile && void 0 !== u && A.f7b(B,D,H,w,this.stream.profile,u,x,n);v=this.yg.Ka();t=v.reduce(function(P,W){return P + W.byteLength;},0);v={pa:v,length:t,UK:this.yg.view.byteLength};A.XX && !H && (v.OR=B.tt + A.OR,v.As=A.As);return v;};return k;})((function(h){function k(n,p,q){return h.call(this,n,p,q) || this;}l.__extends(k,h);return k;})(r.yH));b.bA=a;b.GQ=function(h){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,h + 8);n.setUint32(4,m.AXa("mdat"));return k;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(253);l=a(252);a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.Ka=function(d){var f,h,k,n;f=this;if(!this.parse().done)return !1;h=this.ze.moov;if(!h || 0 === h.length)return !1;k=h[0].yq("tenc");if(!k)return !1;n=new Uint8Array(k.Jq);d.forEach(function(p){for(var q=p.from,v=!0,t=0;t < q.length;t++){if(n[t] !== q[t]){v=!1;break;}}v && f.yg.rfa(p.from.length,p.to,k.uya);});return l.concat(this.yg.Ka());};return m;})(r.yH);b.Tja=a;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(49);b.u=r.u;},function(r,b,a){var d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B){this.JX=z;this.gd=y.filter(function(A){return A.xGa[p.un.k6];}).map(function(A){return {track:A,stream:A.xGa[p.un.k6],id:A.S5a[p.un.k6]};});B || (this.gd=this.gd.filter(function(A){return A.track.xg === z;}));}function l(y,z,B){var A;this.QL=z;this.vw=B;A=y[0];this.aM=A.streams.map(function(C){return {track:A,pZ:C.Tmb,stream:C};});}function g(y,z,B,A,C){function D(E,G){return E.bitrate > G.bitrate?E:G;}this.log=y;this.QL=B;this.JX=A;this.aM=z.map(function(E){var G;G=E.streams.reduce(D);return {track:E,pZ:G.rm?G.rm.offset + G.rm.size:void 0,stream:G};});C || (this.aM=this.aM.filter(function(E){return E.track.xg === A;}));}function m(y,z,B,A,C,D){this.n0b=y;this.o0b=z;this.sac=B;this.yKb=A;this.YJ=C;this.vg=D;this.qa=D.fb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.ozb=b.zzb=b.Nrb=b.UMa=void 0;r=a(0);d=a(1);f=a(383);h=a(385);k=a(4);n=a(36);p=a(42);q=a(393);v=a(394);t=a(243);w=a(7);u=a(254);x=a(49);m.prototype.ij=function(y,z){var B,A,C,D,E,G;B=this;D=y.Ra;y=this.wWb(D,z);E=this.n_b(D,z);G=null !== (C=null === (A=D.Y0) || void 0 === A?void 0:A.IS) && void 0 !== C?C:D.JS.find(function(F){var L;return F.id === (null === (L=D.Z9) || void 0 === L?void 0:L[0].Bnb);}).xg;A=new c(D.JS,G,this.YJ.zpa);return Promise.all([y,E,A]).then(function(F){var L,O;L=oa(F);F=L.next().value;O=L.next().value;L=L.next().value;F={audio:F.getMetadata(),video:O.getMetadata(),text:L.getMetadata(),Y4a:F.eva(),kQb:L.eva(),duration:D.duration,qm:D.qm};O=B.yKb.RWb(F);z("h_s");return {w5b:B.sac.transform(F,O),BKb:O,eic:F};});};m.prototype.n_b=function(y,z){var B;B=new l(y.Yw,this.YJ.Kab,this.YJ.vw);return this.M5a(B.aM,x.u.J,z).then(function(A){B.GEa(A);return B;});};m.prototype.wWb=function(y,z){var B,A,C,D;C=null !== (A=null === (B=y.Y0) || void 0 === B?void 0:B.lq) && void 0 !== A?A:y.Av.find(function(E){var G;return E.id === (null === (G=y.Z9) || void 0 === G?void 0:G[0].lq);}).xg;D=new g(this.qa,y.Av,this.YJ.Qy,C,this.YJ.zpa);return this.M5a(D.aM,x.u.T,z).then(function(E){D.GEa(E);return D;});};m.prototype.yBa=function(y,z,B,A){if(y=this.o0b.parse(z,y,B))return y;this.qa.error("Failed to parse headers",{type:z === x.u.T?"audio":"video",downloadableId:A.stream.ep});};m.prototype.M5a=function(y,z,B){var A;A=this;return Promise.all(y.map(function(C,D){if(C.pZ)return A.n0b.download({urls:C.stream.urls,offset:0,length:C.pZ}).then(function(E){B("h_" + (0 === z?"A":"V") + "_" + D + "_s");return A.yBa(E,z,z == x.u.T?A.YJ.Qy:A.YJ.qC,C);}).catch(function(){B("h_" + C.track.Wi[0] + "_" + D + "_f");A.qa.warn("Failed to download and parse headers for " + C.stream.ep);});A.qa.warn("Stream data offset is missing",{downloadableId:C.stream.ep});}));};a=m;a=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(f.hNa)),r.__param(1,(0,d.l)(h.lNa)),r.__param(2,(0,d.l)(q.XMa)),r.__param(3,(0,d.l)(v.VJa)),r.__param(4,(0,d.l)(t.Bja)),r.__param(5,(0,d.l)(w.jb))],a);b.UMa=a;g.prototype.GEa=function(y){var z;z=this;if(!y.find(function(B){return void 0 !== B;}))throw n.rd.Mqb(k.aa.RNa,k.Y.pka);this.gd=this.aM.map(function(B,A){if(A=y[A])return {track:B.track,stream:B.stream,ma:A,QL:z.QL};}).filter(u.fya);};g.prototype.getMetadata=function(){return this.gd;};g.prototype.eva=function(){var y,z;y=this;if(!this.gd.find(function(B){return B.track.xg === y.JX;}) && 0 < this.gd.length){z=this.gd[0].track.xg;this.log.warn("Did not find metadata for audio track " + this.JX + ", falling back to " + z);return z;}return this.JX;};b.Nrb=g;l.prototype.GEa=function(y){var z,B;z=this;if(!y.find(function(A){return void 0 !== A;}))throw n.rd.Mqb(k.aa.RNa,k.Y.qka);B=this.aM.map(function(A,C){if(C=y[C])return {track:A.track,stream:A.stream,ma:C,QL:z.QL};}).filter(u.fya);this.gd=this.OYb(B);};l.prototype.getMetadata=function(){return this.gd;};l.prototype.OYb=function(y){var z,B,A;z=this;y.sort(function(C){return C.stream.bitrate;});B=y.findIndex(function(C){var D;return (null !== (D=C.stream.hb) && void 0 !== D?D:0) >= z.vw;});if(-1 !== B && B !== y.length - 1){A=y[B];y.splice(B,1);y.push(A);}y.reverse();return y;};b.zzb=l;c.prototype.eva=function(){return this.JX;};c.prototype.getMetadata=function(){return this.gd;};b.ozb=c;},function(r,b,a){var l,g,m,d,f,h;function c(k){this.qa=k.fb("HLSPlaylistTransformerImpl");this.omc=d.S3.Ct();this.sIb=f.cja.Ct();}Object.defineProperty(b,"__esModule",{value:!0});b.WMa=void 0;r=a(0);l=a(1);g=a(7);m=a(130);d=a(255);f=a(395);h=[0,1];c.prototype.transform=function(k,n){var p,q,v,t,w,u,x,y,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];v=k.text;t=k.audio;w=k.video;u=k.duration;x=k.Y4a;y=k.kQb;v.forEach(function(B){h.forEach(function(A){var C,D,E,G;C=0 === A;D=B.stream;E=B.track;G=n.get(B.id);C=C?G.DR:G.Nfa;D=p.WZb({url:C.url,duration:u / 1E3,size:D.size,Qn:"Manifest for subtitles " + E.language + ' stream "' + E.OF + '", ' + E.xg + ", cdn " + C.Mh});p.qa.trace("Text variant manifest",D.join("\n"));A=p.XZb({groupId:A,name:E.OF,Lxa:E.xg === y,up:E.bca,i2b:E.Wi === m.pr.Rha,language:E.language,uri:p.Oca(D)});q.push(A);});});t.forEach(function(B){h.forEach(function(A){var C,D,E,G,F,L;C=0 === A;D=B.stream;E=B.track;G=B.ma;F=B.QL;L=n.get(D.ep);C=C?L.DR:L.Nfa;D=p.V9a({url:C.url,pZ:D.rm.offset + D.rm.size,ma:G,Rnb:Math.floor(F / 1E3),Qn:"Manifest for audio " + E.language + ' stream "' + E.OF + '", ' + E.xg + ", cdn " + C.Mh});p.qa.trace("Audio variant manifest",D.join("\n"));A=p.xWb({groupId:A,language:E.language,name:E.OF,Lxa:E.xg === x,uri:p.Oca(D)});q.push(A);});});z=this.sIb[t[0].track.profile];w.forEach(function(B){h.forEach(function(A){var C,D,E,G,F,L;C=0 === A;D=B.stream;E=B.track;G=B.ma;F=B.QL;L=n.get(D.ep);L=C?L.DR:L.Nfa;C=0 < v.length;E=p.V9a({url:L.url,pZ:D.rm?D.rm.offset + D.rm.size:D.Tmb,ma:G,Rnb:Math.floor(F / 1E3),Qn:"Manifest for video bitrate " + D.bitrate + ", stream " + E.xg + ", cdn " + L.Mh});p.qa.trace("Video variant manifest",E.join("\n"));A=p.o_b({groupId:A,TW:1E3 * D.bitrate,FIb:1E3 * D.bitrate,Q2b:0 <= D.NE.indexOf("-hdr-") || 0 <= D.NE.indexOf("-dv5-"),framerate:(D.e8a / D.d8a).toFixed(3),mm:D.BDa + "x" + D.wkb,hmc:p.omc[D.NE],iIb:z,gjc:C});q.push(A);A=p.Oca(E);q.push("" + A);});});this.qa.trace("Primary manifest",q.join("\n"));return this.Oca(q);};c.prototype.xWb=function(k){var n;n=k.Lxa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + k.groupId + '"','CHANNELS="2"','LANGUAGE="' + k.language + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + k.uri + '"'].join(", ");};c.prototype.V9a=function(k){var n,p;n=k.ma;p=["#EXTM3U","# " + k.Qn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + k.Rnb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + n[0].byteOffset + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];n.forEach(function(q,v){p.push("#EXTINF:" + q.duration.toFixed(3) + "," + q.ca.toFixed(3));p.push("#EXT-X-BYTERANGE:" + q.BJb + "@" + q.byteOffset);p.push("{$U}&fi=" + v);});p.push("#EXT-X-ENDLIST");return p;};c.prototype.o_b=function(k){var n,p;n=k.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + k.TW,"AVERAGE-BANDWIDTH=" + k.FIb,"VIDEO-RANGE=" + (k.Q2b?"PQ":"SDR"),"FRAME-RATE=" + k.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + k.mm,'CODECS="' + k.hmc + "," + k.iIb + '"'];k.gjc && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.WZb=function(k){var n;n=k.duration;return ["#EXTM3U","# " + k.Qn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + k.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.XZb=function(k){var n,p,q;n=k.Lxa;p=k.language;q=k.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + k.groupId + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (k.up?"YES":"NO")];k.i2b && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.Oca=function(k){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(k.join("\n"));};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb))],a);b.WMa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){var p;function n(){p.IBa.then(function(q){p.qa.trace("Unloading PBO Playdata Services");q.close();});d.Ze.removeListener(d.Pm,n);}p=this;this.Khb=k;this.IBa=k();this.qa=h.fb("PlayerPlaydataMonitorImpl");d.Ze.addListener(d.Pm,n);}Object.defineProperty(b,"__esModule",{value:!0});b.pTa=void 0;r=a(0);l=a(1);g=a(7);m=a(151);d=a(58);f=a(16);c.prototype.Cl=function(h,k){this.IBa.then(function(n){n.Cl(k,!0,function(p){return h.close(p);});n.wFa(k);h.addEventListener(f.Qa.hCa,function(){h.js() && n.rlb(k).catch(function(p){(p=p.vR) && h.close(p);});});h.addEventListener(f.Qa.jn,function(){n.Wfa(k).catch(function(p){(p=p.vR) && h.close(p);});});h.addEventListener(f.Qa.Jn,function(){n.Wfa(k).catch(function(p){(p=p.vR) && h.close(p);});});});};c.prototype.X1=function(h){return this.IBa.then(function(k){k.gnb();return k.X1(h).catch();});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.BU))],a);b.pTa=a;},function(r,b,a){var l,g,m,d;function c(f){this.fAa={};this.Hba={};this.wca=-1;this.MFa=new m.ic(null);this.qCa=new m.ic(null);this.qa=f.fb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.DVa=void 0;r=a(0);l=a(1);g=a(60);m=a(74);a=a(7);c.prototype.oa=function(f,h,k){var n;n=this;f.forEach(function(p){p.stream.urls.forEach(function(q){n.fAa[q.url]=[p,q.Mh];});});this.Dsa=h;this.fQb=k;new PerformanceObserver(function(p){n.Qkc(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.Ilb=function(f){var h,k,n;if(this.Dsa){k=this.Daa(f);if(k !== this.wca){for(this.wca=k;0 <= k && !this.Hba[k];){k--;}n=oa(null !== (h=this.Hba[k]) && void 0 !== h?h:[this.Dsa,this.fQb]);h=n.next().value;n=n.next().value;this.qa.debug("Setting time to " + f + ", using metadata from fragment " + k + " for " + ((0,g.bfb)(h.track.type) + " track with bitrate ") + (h.stream.bitrate + " from cdn " + n));f=h.ma[this.wca];k=f.ca;this.qCa.set({stream:h,Nn:{startTime:Math.floor(1E3 * k),endTime:Math.floor(1E3 * (k + f.duration))},Uo:n});}}};c.prototype.Daa=function(f){var h,k,n,p,q;h=this.Dsa.ma;f/=1E3;k=0;n=h.length - 1;if(f >= h[n].ca)return n;for(;n >= k;){p=k + Math.floor((n - k) / 2);q=h[p];if(f < q.ca)n=p - 1;else if(f >= q.ca + q.duration)k=p + 1;else return p;}return h.length - 1;};c.prototype.Qkc=function(f){var h;h=this;f.filter(function(k){return "video" === k.initiatorType;}).forEach(function(k){var n,p,q;n=k.name.indexOf("&fi=");if(0 < n){p=k.name.substring(0,n);n=Number(k.name.substring(n + 4));if(h.fAa[p]){q=oa(h.fAa[p]);k=q.next().value;q=q.next().value;p && !Number.isNaN(n) && k && (h.Hba[n] && (h.wca=-1),h.Hba[n]=[k,q],p=k.ma[n].ca,!1,h.MFa.set(k,{VI:Math.floor(1E3 * p),Uo:q}));}}});};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.jb))],d);b.DVa=d;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(848),b);r.__exportStar(a(849),b);r.__exportStar(a(850),b);r.__exportStar(a(851),b);r.__exportStar(a(852),b);r.__exportStar(a(396),b);r.__exportStar(a(853),b);r.__exportStar(a(854),b);r.__exportStar(a(855),b);r.__exportStar(a(856),b);r.__exportStar(a(857),b);r.__exportStar(a(858),b);r.__exportStar(a(862),b);r.__exportStar(a(256),b);r.__exportStar(a(863),b);r.__exportStar(a(76),b);r.__exportStar(a(864),b);r.__exportStar(a(865),b);r.__exportStar(a(866),b);r.__exportStar(a(867),b);r.__exportStar(a(868),b);r.__exportStar(a(869),b);r.__exportStar(a(870),b);r.__exportStar(a(871),b);r.__exportStar(a(872),b);r.__exportStar(a(873),b);r.__exportStar(a(874),b);r.__exportStar(a(875),b);r.__exportStar(a(876),b);r.__exportStar(a(877),b);r.__exportStar(a(878),b);r.__exportStar(a(879),b);r.__exportStar(a(880),b);r.__exportStar(a(881),b);r.__exportStar(a(882),b);r.__exportStar(a(891),b);r.__exportStar(a(894),b);r.__exportStar(a(895),b);r.__exportStar(a(896),b);r.__exportStar(a(897),b);r.__exportStar(a(898),b);r.__exportStar(a(899),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(859),b);r.__exportStar(a(860),b);r.__exportStar(a(861),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(76);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(76);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FD=void 0;r=b.FD || (b.FD={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.wD=1]="HAVE_SOMETHING";r[r.vD=2]="HAVE_MINIMUM";r[r.PT=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.La=b.Gea=void 0;c=a(396);(function(g){g[g.Yh=0]="STARTING";g[g.ae=1]="BUFFERING";g[g.Wg=2]="REBUFFERING";g[g.Xc=3]="PLAYING";g[g.ND=4]="STOPPING";g[g.zm=5]="STOPPED";g[g.bj=6]="PAUSED";})(l || (l={}));b.La=l;b.Gea=function(g){return g === c.bd.ae?l.ae:g === c.bd.Wg?l.Wg:g === c.bd.MU?l.ae:g === c.bd.Am?l.Xc:l.Yh;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GT=void 0;r=b.GT || (b.GT={});r[r.ro=0]="skipped";r[r.cHb=1]="adjustment";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(883),b);r.__exportStar(a(884),b);r.__exportStar(a(885),b);r.__exportStar(a(886),b);r.__exportStar(a(887),b);r.__exportStar(a(888),b);r.__exportStar(a(889),b);r.__exportStar(a(890),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(892),b);r.__exportStar(a(893),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gv=void 0;r=b.gv || (b.gv={});r[r.Lxb=0]="PLAYGRAPH_CHANGED";r[r.Mxb=1]="PLAYGRAPH_UNCHANGED";r[r.Vwb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.Jyb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.Lub=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.Kub=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.Kyb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.grb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.gwb=8]="LOSS_OF_POSITION";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GIa=void 0;c=a(6);r=(function(){function l(g){this.config=g;}l.prototype.kl=function(g,m){return this.config.Z1 || m !== c.bd.Am?g.filter(function(d){return d.Tv;}):g;};return l;})();b.GIa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.eN=void 0;r=a(0);c=a(10);l=r.__importDefault(a(3));g=a(397);a=(function(){function m(d){this.console=d;this.Z4a=[];this.y1a={};this.v5a=!1;}m.prototype.Rw=function(d,f){this.Z4a=d;void 0 !== f?this.y1a[f]=d:this.v5a || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.v5a=!0);};m.prototype.kl=function(d){var f,h,k,n,p;f=this;if(0 === d.length)return d;n=d[0].N;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=l.default.Hv) || void 0 === h?void 0:h.call(l.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (k=this.y1a[n]) && void 0 !== k?k:this.Z4a;c.M && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(p)));d=d.filter(function(q){return (0,g.Ipa)(q.profile,q.bitrate,p,f.console).inRange;});c.M && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return m;})();b.eN=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IIa=void 0;r=(function(){function a(c){var l;l=this;c.yS && c.yS.enabled && c.yS.profiles && c.yS.profiles.length && "keepLowest" === c.yS.action && (this.Rcb={},c.yS.profiles.forEach(function(g){return l.Rcb[g]=!0;}));}a.prototype.kl=function(c){var l,g;l={};g=this.Rcb;return void 0 === g?c:c.filter(function(m){return !g[m.profile] || (l[m.profile]?!1:l[m.profile]=!0);});};return a;})();b.IIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FIa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.kl=function(c){var l;l=this.config;return c.filter(function(g){return !(void 0 !== g.hb && (g.hb < l.GK || g.hb > l.reb) || (void 0 === g.hb || 0 >= l.GK) && g.bitrate < l.kAa || (void 0 === g.hb || Infinity === l.reb) && g.bitrate > l.K5b);});};return a;})();b.FIa=r;},function(r,b,a){var l;function c(g,m){m=Math.max(g,m);return isNaN(m)?g || -Infinity:m;}Object.defineProperties(b,{__esModule:{value:!0}});b.rIa=void 0;l=a(6);r=(function(){function g(m){this.config=m;this.hfa=0;this.state=l.bd.zm;this.yfb=c(m.kAa,m.nda);this.qAa=c(m.GK,m.I_);}g.prototype.kl=function(m,d){var f;f=this;if(d !== this.state){this.state=d;if(d === l.bd.ae || d === l.bd.MU)return m;d === l.bd.Wg && this.Ajb();}return m.filter(function(h){return !(void 0 !== h.hb && h.hb < f.qAa || (void 0 === h.hb || 0 > f.qAa) && h.bitrate < f.yfb);});};g.prototype.Ajb=function(){++this.hfa;this.qAa=c(this.config.GK,this.config.I_ - this.config.I6b * this.hfa);this.yfb=this.config.kAa || -Infinity;};return g;})();b.rIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.EIa=void 0;c=a(21);r=(function(){function l(g){this.config=g;}l.prototype.Ogc=function(g){return g % 100 + 1 <= this.config.NBa;};l.prototype.kl=function(g){var m,d,f,h,k,n,p,q,v,t,w;p=Number(null === (m=g[0]) || void 0 === m?void 0:m.K);if(!(this.config.x$ && this.Ogc(p) && 0 < this.config.zfa.length))return g;m=g.length;q=null !== (d=g[m - 1].yfa) && void 0 !== d?d:0;if(d=(0,c.Oc)(this.config.zfa,function(u){return u.mxc >= q && u.Ekb <= q;})){for(p=0;p < m;p++){v=g[Math.max(p - 1,0)];t=g[p];if(!((null !== (f=t.yfa) && void 0 !== f?f:0) < d.Ekb || (null !== (h=v.yfa) && void 0 !== h?h:0) < d.Ekb)){w=null !== (k=t.hb) && void 0 !== k?k:Infinity;v=null !== (n=v.hb) && void 0 !== n?n:Infinity;if(!(v < d.zwc || v < d.ywc && t.bitrate < d.maxBitrate || !w && t.bitrate < d.awc))break;}}return g.slice(0,p);}return g;};return l;})();b.EIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gka=b.pia=void 0;c=a(21);b.pia={kl:function(l){return l.filter(function(g){return g.gs && !g.RB;});}};b.gka={kl:function(l){return (l=(0,c.Oc)(l,function(g){return !!g.gs && !g.RB;}))?[l]:[];}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hka=void 0;b.hka={kl:function(a){return a.length?[a[0]]:[];}};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eJ=b.dJ=void 0;c=a(399);l=a(116);b.dJ=function(g,m){m && (null === g || void 0 === g?0:g.Sab) && (m=new l.vx(m).or(l.BH));return new l.vx(l.pia).and(null !== m && void 0 !== m?m:l.BH).or(l.gka,c.ZM.yJ).or(l.hka,c.ZM.yJ);};b.eJ=function(g,m){m && g.Sab && (m=new l.vx(m).or(l.BH));return new l.vx(l.pia).and(new l.GIa(g)).and(new l.FIa(g)).and(new l.rIa(g)).and(new l.IIa(g)).and(g.x$?new l.EIa(g):l.BH).and(null !== m && void 0 !== m?m:l.BH).or(l.gka,c.ZM.yJ).or(l.hka,c.ZM.yJ);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;function c(y){var z,B,A,C,D,E;z=y.za;B=y.Gv;A=y.Iqb;C=y.xo;y=y.priority;D=void 0 === y?0:y;(0,f.assert)(z.sk,("Current time: ").concat(n.default.time.fa()," cr: ").concat(z.currentTime));(0,f.assert)(z.currentTime.isFinite());y=A.Ea(z.currentTime);y=Math.max(Math.ceil(y.EC / z.speed),0);E=null !== C && void 0 !== C?C:{id:void 0,l5a:y,ygb:0,D9b:y};E.id=(0,p.fga)(function(){A.Ea(z.currentTime).PF(m.P.Pa)?B():(E.ygb++,c({za:z,Gv:B,Iqb:A,xo:E,priority:D}));},y,D);E.l5a=y;return E;}Object.defineProperties(b,{__esModule:{value:!0}});b.Eha=b.NU=void 0;l=a(0);g=a(13);m=a(20);d=a(184);f=a(2);h=a(10);k=a(917);n=l.__importDefault(a(3));p=a(918);q=a(183);v=a(403);t=a(404);w=a(152);u=(function(){function y(){this.complete();}Object.defineProperties(y.prototype,{VL:{get:function(){return this.Joa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{$fb:{get:function(){return this.NCb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{uPb:{get:function(){return this.JAb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bEa:{get:function(){return this.CEb;},enumerable:!1,configurable:!0}});y.prototype.set=function(z,B,A){this.JAb=B === x.dR?0:n.default.time.fa();this.NCb=z;this.CEb=B;h.M && (0,f.assert)(!this.Joa,"Invalid replacement of timeout value");this.Joa=A;};y.prototype.complete=function(){this.Joa=void 0;this.set(m.P.Ut,x.dR);};return y;})();(function(y){y[y.dR=0]="none";y[y.ffb=1]="microTask";y[y.setTimeout=2]="setTimeout";})(x || (x={}));r=(function(y){function z(B,A,C,D){var E;void 0 === C && (C="unknown");void 0 === D && (D=0);E=y.call(this) || this;E.za=B;E.console=A;E.name=C;E.priority=D;E.LCb=0;E.d7=!1;E.Vma=!1;E.Ql=new u();E.G$=new g.gf();E.dk=new d.sU([],(0,k.t3a)(function(G,F){return G.oL.Jm(F.oL);},function(G,F){return F.sm.priority - G.sm.priority;},function(G,F){return G.sm.id > F.sm.id?1:G.sm.id < F.sm.id?-1:0;}));E.U0a(B);return E;}l.__extends(z,y);Object.defineProperties(z.prototype,{Qgc:{get:function(){return this.za.sk;},enumerable:!1,configurable:!0}});z.prototype.t4a=function(B,A){B=new (B.bind.apply(B,l.__spreadArray([void 0],l.__read(A),!1)))();B.id=this.LCb++;B.YHb(this);this.rpa(B);return B;};z.prototype.vB=function(){for(var B=[],A=0;A < arguments.length;A++){B[A]=arguments[A];}return this.t4a(v.pOa,B);};z.prototype.ty=function(){var B;B={hasSchedule:!!this.Ql.VL,schedule:this.Ql.VL && ({sleepTime:this.Ql.VL.l5a,originalSleepTime:this.Ql.VL.D9b,clockSkewAdjustments:this.Ql.VL.ygb}),nextWakeup:this.Ql.$fb.Z,timeScheduled:this.Ql.uPb,scheduleType:x[this.Ql.bEa],numTasks:this.dk.length,clock:{ir:this.za.sk,ct:this.za.currentTime.Z,sp:this.za.speed}};h.M && this.trace("audit",B);return B;};z.prototype.UO=function(){for(var B=[],A=0;A < arguments.length;A++){B[A]=arguments[A];}return this.t4a(t.jVa,B);};z.prototype.a4a=function(B,A,C){return this.vB(function(){return l.__generator(this,function(D){switch(D.label){case 0:return [4,w.cj.ZG(A)];case 1:return (D.ub(),B(),[3,0]);case 2:return [2];}});},C);};z.prototype.U0a=function(B){var A;A=this;this.jB();this.G$.clear();this.za=B;this.G$.on(B,"stopStart",function(){return A.KR();});this.G$.on(B,"clockAdjusted",function(){return A.b0();});this.G$.on(B,"speedChanged",function(){return A.o9b();});this.b0();this.emit("clockChanged");};z.prototype.o9b=function(){this.jB();this.KR();};z.prototype.Wa=function(){this.reset();this.d7 && (this.Vma=!0);};z.prototype.reset=function(){var B;this.jB();B=this.dk.El();this.dk.clear();B.forEach(function(A){return A.sm.Wa();});};z.prototype.zg=function(){var B;this.jB();B=this.dk.El();this.dk.clear();B.forEach(function(A){return A.sm.zg();});};z.prototype.b0=function(){var B,A;B=this;A=this.dk.map(function(C){return C.sm;});this.jB();this.dk.clear();A.forEach(function(C){return B.rpa(C,!1);});this.KR();};z.prototype.rpa=function(B,A){var C,D;void 0 === A && (A=!0);C=B.Mda();D=this.sob(C);C={sm:B,oL:D,tfa:C};h.M && this.trace(("Adding task ").concat(B.name," for ").concat(D.Z));(0,f.assert)(!this.dk.contains(C));this.dk.push(C);A && this.KR();};z.prototype.KR=function(){var B,A,C,D,E;B=this;h.M && this.trace("recheck schedule task count:" + this.dk.length);if(this.Qgc){if(this.d7)h.M && this.trace("already executing, bailing");else {C=this.Ql.$fb;D=this.dk.Pq();E=null !== (A=null === D || void 0 === D?void 0:D.oL) && void 0 !== A?A:m.P.Ut;E.isFinite() && E.Qda(C)?(this.jB(!1),this.za.currentTime.pk(E)?(this.Ql.set(E,x.ffb),Promise.resolve().then(function(){B.Ql.bEa === x.ffb && (B.Ql.complete(),B.Ukb());})):(h.M && this.trace("scheduling next wake up for",{Syc:E.Z,sm:null === D || void 0 === D?void 0:D.sm.name}),A=c({za:this.za,Gv:function(){B.Ql.complete();B.Ukb();},Iqb:E,priority:this.priority}),this.Ql.set(E,x.setTimeout,A))):E.isFinite() || this.Ql.bEa !== x.setTimeout || this.jB(!1);}}else (h.M && this.trace("should check schedule is false, stopping"),this.jB());};z.prototype.Ukb=function(){var B,A,C;A=0;C=null === (B=this.dk.Pq()) || void 0 === B?void 0:B.tfa;try{for(this.d7=!0;1E4 > A++ && this.nkc();){;}}finally{this.d7=!1;this.jB();1E4 < A && !this.h0b(C)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(h.M && this.trace("Next tasks",this.dk.map(function(D){return {name:D.sm.name,Tyc:D.oL.Z};})),this.KR());}};z.prototype.h0b=function(B){var A,C;C=null === (A=this.dk.Pq()) || void 0 === A?void 0:A.tfa;return B && C && B.timestamp.equal(C.timestamp) && B.type === C.type?!1:!0;};z.prototype.nkc=function(){var B,A,C;C=null !== (A=null === (B=this.dk.Pq()) || void 0 === B?void 0:B.oL) && void 0 !== A?A:m.P.Ut;h.M && this.trace(("tryExecuteNextTask @").concat(this.za.currentTime.Z,", next wakeup at ").concat(C));if(this.za.currentTime.pk(C) && (B=this.dk.pop())){A=B.sm;h.M && this.trace("Running a task @" + this.za.currentTime.Z + ", scheduled for time:" + C.Z + ("Name:").concat(A.name));try{A.lz();B.tfa=A.Mda();B.oL=this.sob(B.tfa);}catch(D){throw (this.error(("Unhandled error from a task ").concat(A.name," occurred.") + " Removing the task from future executions:" + D,{stack:D.stack}),A.Wa(),D);}finally{this.Vma?(A.Wa(),this.Vma=!1):B.oL !== m.P.Ut && A.state === q.Bm.Ffa && ((0,f.assert)(!this.dk.contains(B)),this.dk.push(B));}return !0;}};z.prototype.KDa=function(B){(0,f.assert)(B.Ee === this);this.ofa(B,!1);this.rpa(B);};z.prototype.ofa=function(B,A){var C;void 0 === A && (A=!0);C=this.dk.find(function(D){return D.sm === B;});C && this.xdc(C,A);};z.prototype.xdc=function(B,A){this.dk.remove(B);A && this.KR();};z.prototype.jB=function(B){void 0 === B && (B=!0);this.Ql.VL && (B && this.emit("stopping"),B=this.Ql.VL,(0,p.r9)(B.id),this.Ql.complete());};z.prototype.sob=function(B){return B.type === w.V5.absolute?B.timestamp:B.timestamp.add(this.za.currentTime);};z.prototype.trace=function(){for(var B,A=[],C=0;C < arguments.length;C++){A[C]=arguments[C];}null === (B=this.console) || void 0 === B?void 0:B.trace.apply(B,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(A),!1));};z.prototype.error=function(){for(var B,A=[],C=0;C < arguments.length;C++){A[C]=arguments[C];}null === (B=this.console) || void 0 === B?void 0:B.error.apply(B,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(A),!1));};return z;})(g.EventEmitter);b.NU=r;b.Eha=function(y,z,B){var A;A=void 0;return (B || y.za.sk) && y.za.currentTime.pk(z)?{promise:Promise.resolve()}:{promise:new Promise(function(C){A=y.UO(w.cj.jD(z),C);}),sm:A};};},function(r){function b(c,l,g,m){c.trace(":",g,":",m);l(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,l,g,m){g=m?g.bind(m):g;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addListener)c.addListener(l,g);else if("function" === typeof c.addEventListener)c.addEventListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,m;g=l[0];m=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(m,l):"function" === typeof g.removeListener && g.removeListener(m,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.t3a=void 0;c=a(0);l=a(10);g=a(2);b.t3a=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}l.M && (0,g.assert)(m.length);return function(f,h){var k,q,v;try{for(var n=c.__values(m),p=n.next();!p.done;p=n.next()){q=p.value;v=q(f,h);if(0 !== v)return v;}}catch(w){var t;t={error:w};}finally{try{p && !p.done && (k=n.return) && k.call(n);}finally{if(t)throw t.error;}}return 0;};};},function(r,b,a){var l,g,m,d,f;function c(h,k){return h.time - k.time || h.priority - k.priority || h.id - k.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.wEb=b.r9=b.fga=void 0;r=a(0);l=a(10);g=r.__importDefault(a(3));m=a(2);d=a(184);f=(function(){function h(){var k;k=this;this.Yq=new d.sU([],c);this.hGa=0;this.console=new g.default.Console("SETTIMEOUT");this.GTb=function(){var n,p;n=g.default.time.fa();k.i2=void 0;l.M && k.console.trace(("[").concat(n,"] Wake"));try{for(;!k.Yq.empty && k.Yq.Pq().time <= n;){p=k.Yq.pop();l.M && k.console.trace(("[").concat(g.default.time.fa(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.Gv();}}finally{k.aEa();}};}Object.defineProperties(h,{instance:{get:function(){return h.rv || (h.rv=new h());},enumerable:!1,configurable:!0}});h.toa=function(){(0,m.assert)(void 0 === h.rv || h.rv.Yq.empty,"Singleton SetTimeoutWithPriority reset with pending timers");h.rv=void 0;};h.prototype.fga=function(k,n,p){var q,v,t;(0,m.assert)(isFinite(n) && 0 <= n);q=this.Yq;v=g.default.time.fa();t=v + n;q.push({id:++this.hGa,time:t,priority:p,Gv:k});l.M && this.console.trace(("[").concat(v,"] New p").concat(p," timer ").concat(this.hGa," scheduled for ").concat(t," in ").concat(n,"ms"));this.aEa();return this.hGa;};h.prototype.r9=function(k){var n,p,q;n=this.Yq;p=n.find(function(v){return v.id === k;});if(p){q=n.Pq().time;n.remove(p);l.M && this.console.trace(("[").concat(g.default.time.fa(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(n.empty || n.Pq().time > q) && this.aEa();}};h.prototype.T2a=function(){this.i2 && (clearTimeout(this.i2.id),l.M && this.console.trace(("[").concat(g.default.time.fa(),"] Clearing wake timer")),this.i2=void 0);};h.prototype.aEa=function(){var k,n;n=this.Yq;n.empty?this.T2a():(n=n.Pq().time,n !== (null === (k=this.i2) || void 0 === k?void 0:k.time) && (this.T2a(),k=Math.max(0,n - g.default.time.fa()),l.M && this.console.trace(("[").concat(g.default.time.fa(),"] Setting wake timer for ").concat(n," in ").concat(k,"ms")),this.i2={id:setTimeout(this.GTb,k),time:n}));};return h;})();b.fga=function(h,k,n){return f.instance.fga(h,k,n);};b.r9=function(h){f.instance.r9(h);};b.wEb=function(){f.toa();};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(923),b);r.__exportStar(a(409),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.nM=void 0;r=b.nM || (b.nM={});r[r.start=0]="start";r[r.end=1]="end";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var l;function c(g,m){var d;void 0 === m && (m=c);d="";g.yP && (d=null === g || void 0 === g?void 0:g.yP.map(m).reduce(function(f,h){return ("").concat(f,",").concat(h);}));return ("").concat(null === g || void 0 === g?void 0:g.name,"::").concat(null === g || void 0 === g?void 0:g.message,"::{").concat(null === g || void 0 === g?void 0:g.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.aia=void 0;l=a(0);r=(function(g){function m(d,f){d=g.call(this,m.bWb(d,f)) || this;d.bBb=f;d.name="AggregateError";return d;}l.__extends(m,g);m.bWb=function(d,f){return f.reduce(function(h,k){return ("").concat(h,"\n").concat(k);},d);};m.stringify=function(d){return c(d);};Object.defineProperties(m.prototype,{yP:{get:function(){return this.bBb;},enumerable:!1,configurable:!0}});return m;})(Error);b.aia=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.GPa=void 0;c=a(0);l=a(13);g=a(259);m=a(988);d=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(f){function h(k,n){var p;p=f.call(this) || this;p.L=k;p.tk=new m.EOa(k,n);p.Ph=new l.gf();d.forEach(function(q){p.Ph.on(p.tk,q,function(v){return p.emit(q,v);});});return p;}c.__extends(h,f);Object.defineProperties(h.prototype,{Ac:{get:function(){return this.tk.Ac;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ku:{get:function(){return this.tk.ku;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Qw:{get:function(){return this.tk.Qw;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{N1:{get:function(){return this.tk.N1;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{nya:{get:function(){return this.tk.nya;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qga:{get:function(){return this.tk.qga;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{tg:{get:function(){return this.tk.tg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vk:{get:function(){return this.tk.vk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dxa:{get:function(){return this.tk.dxa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{n_:{get:function(){return this.tk.n_.bind(this.tk);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rua:{get:function(){return this.tk.Rua.bind(this.tk);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fqa:{get:function(){var k;k=this;return function(){k.tk.Fqa();};},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{j9:{get:function(){var k;k=this;return function(){k.tk.j9();};},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{FI:{get:function(){var k;k=this;return function(n,p,q){var v;null === (v=k.tg) || void 0 === v?void 0:v.FI(n,p,q);};},enumerable:!1,configurable:!0}});h.prototype.oa=function(k,n,p,q,v,t){this.tk.oa(k,n,p,q,v,t);};h.prototype.createSession=function(k,n,p,q,v,t,w,u,x,y){u || (u=this.tk.config);return this.tk.createSession(k,n,p,q,v,t,w,u,x,y);};h.prototype.eM=function(){throw Error("Update viewable not supported in legacy.");};h.prototype.addEventListener=function(k,n){this.addListener(k,n);return !0;};h.prototype.removeEventListener=function(k,n){this.removeListener(k,n);return !0;};h.prototype.Wa=function(){this.Ph.clear();this.tk.Wa();g.rM.reset();};return h;})(l.EventEmitter);b.GPa=r;},function(r,b,a){r.exports={xyb:a(932),$nc:a(933)};},function(r,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function l(f){this.Lf=null;this.Jo=f;this.size=0;}function g(f){return null !== f && f.red;}function m(f,h){var k;k=f.hi(!h);f.Gs(!h,k.hi(h));k.Gs(h,f);f.red=!0;k.red=!1;return k;}function d(f,h){f.Gs(!h,m(f.hi(!h),!h));return m(f,h);}b=a(414);c.prototype.hi=function(f){return f?this.right:this.left;};c.prototype.Gs=function(f,h){f?this.right=h:this.left=h;};l.prototype=new b();l.prototype.rp=function(f){var h,k,n,p,q,v,t,w,u;h=!1;if(null === this.Lf)(this.Lf=new c(f),h=!0,this.size++);else {k=new c(void 0);n=0;p=0;q=null;v=k;t=null;w=this.Lf;for(v.right=this.Lf;;){null === w?(w=new c(f),t.Gs(n,w),h=!0,this.size++):g(w.left) && g(w.right) && (w.red=!0,w.left.red=!1,w.right.red=!1);if(g(w) && g(t)){u=v.right === q;w === t.hi(p)?v.Gs(u,m(q,!p)):v.Gs(u,d(q,!p));}u=this.Jo(w.data,f);if(0 === u)break;p=n;n=0 > u;null !== q && (v=q);q=t;t=w;w=w.hi(n);}this.Lf=k.right;}this.Lf.red=!1;return h;};l.prototype.remove=function(f){var h,k,t,w,u;if(null === this.Lf)return !1;h=new c(void 0);k=h;k.right=this.Lf;for(var n=null,p,q=null,v=1;null !== k.hi(v);){t=v;p=n;n=k;k=k.hi(v);w=this.Jo(f,k.data);v=0 < w;0 === w && (q=k);if(!g(k) && !g(k.hi(v)))if(g(k.hi(!v)))(p=m(k,v),n.Gs(t,p),n=p);else if(!g(k.hi(!v)) && (w=n.hi(!t),null !== w))if(g(w.hi(!t)) || g(w.hi(t))){u=p.right === n;g(w.hi(t))?p.Gs(u,d(n,t)):g(w.hi(!t)) && p.Gs(u,m(n,t));t=p.hi(u);t.red=!0;k.red=!0;t.left.red=!1;t.right.red=!1;}else (n.red=!1,w.red=!0,k.red=!0);}null !== q && (q.data=k.data,n.Gs(n.right === k,k.hi(null === k.left)),this.size--);this.Lf=h.right;null !== this.Lf && (this.Lf.red=!1);return null !== q;};r.exports=l;},function(r,b,a){function c(g){this.data=g;this.right=this.left=null;}function l(g){this.Lf=null;this.Jo=g;this.size=0;}b=a(414);c.prototype.hi=function(g){return g?this.right:this.left;};c.prototype.Gs=function(g,m){g?this.right=m:this.left=m;};l.prototype=new b();l.prototype.rp=function(g){if(null === this.Lf)return (this.Lf=new c(g),this.size++,!0);for(var m=0,d=null,f=this.Lf;;){if(null === f)return (f=new c(g),d.Gs(m,f),ret=!0,this.size++,!0);if(0 === this.Jo(f.data,g))return !1;m=0 > this.Jo(f.data,g);d=f;f=f.hi(m);}};l.prototype.remove=function(g){var m,d,n;if(null === this.Lf)return !1;m=new c(void 0);d=m;d.right=this.Lf;for(var f=null,h=null,k=1;null !== d.hi(k);){f=d;d=d.hi(k);n=this.Jo(g,d.data);k=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,f.Gs(f.right === d,d.hi(null === d.left)),this.Lf=m.right,this.size--,!0):!1;};r.exports=l;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.IQa=void 0;c=a(21);l=a(2);r=(function(){function g(){this.data={};}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){var m;m=this;return Object.keys(this.data).reduce(function(d,f){return d + m.data[f].length;},0);},enumerable:!1,configurable:!0}});g.prototype.get=function(m){var d;return null !== (d=this.data[m]) && void 0 !== d?d:[];};g.prototype.has=function(m,d){return (m=this.data[m])?void 0 === d?!0:-1 !== m.indexOf(d):!1;};g.prototype.count=function(m){return (m=this.data[m])?m.length:0;};g.prototype.keys=function(){return Object.keys(this.data);};g.prototype.values=function(){var m;m=this;return (0,c.flatten)(this.keys().map(function(d){return m.data[d];}));};g.prototype.set=function(m,d){(this.data[m] || (this.data[m]=[])).push(d);return this;};g.prototype.clear=function(){this.data={};};g.prototype.delete=function(m,d){var f,h;f=this.data[m];if(void 0 === f)return !1;if(void 0 === d)return ((0,l.assert)(1 === arguments.length),delete this.data[m],!0);h=f.indexOf(d);if(-1 === h)return !1;1 === f.length?delete this.data[m]:f.splice(h,1);return !0;};g.prototype.forEach=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;this.keys().forEach(function(h){return f.data[h].forEach(function(k){return m(k,h,f);});});};g.prototype.reduce=function(m,d,f){var h,k;h=this;m=void 0 !== f?m.bind(f):m;k=d;this.forEach(function(n,p){k=m(k,n,p,h);});return k;};g.prototype.map=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;return (0,c.flatten)(this.keys().map(function(h){return f.data[h].map(function(k){return m(k,h,f);});}));};g.prototype.filter=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;return (0,c.flatten)(this.keys().map(function(h){return f.data[h].filter(function(k){return m(k,h,f);});}));};return g;})();b.IQa=r;},function(r,b,a){var l,g;function c(m,d,f){var h;void 0 === f && (f={});h=l.__assign(l.__assign({},g),f);return m.filter(function(k){var n;n=k.Sc;k=k.Ed;return !!k && k.PF(d) && (!h.m3a || n.pk(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.Zta=b.DUb=b.iua=void 0;l=a(0);g={m3a:!1};b.iua=function(m,d,f){void 0 === f && (f={});return c(m,d,f).pop();};b.DUb=c;b.Zta=function(m,d,f){return m.filter(function(h){var k;k=h.Sc;h=h.Ed;return !!h && !!k && (h.pk(d) && h.PF(f) || k.pk(d) && k.PF(f) || h.PF(d) && k.pk(f));});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hVa=b.gVa=void 0;c=a(21);r=(function(){function l(g){this.Va=g;this.listeners=[];this.l0=[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});l.prototype.set=function(g){var m;this.Va=g;m=this.l0;this.l0=[];this.listeners.forEach(function(d){return d(g);});m.forEach(function(d){return d(g);});};l.prototype.Dkb=function(){this.Va=void 0;};l.prototype.on=function(g){this.listeners=this.listeners.concat([g]);void 0 !== this.Va && g(this.Va);};l.prototype.once=function(g){void 0 !== this.Va?g(this.Va):this.l0.push(g);};l.prototype.Sy=function(g){this.listeners=this.listeners.filter(function(m){return m !== g;});this.l0=this.l0.filter(function(m){return m !== g;});};return l;})();b.gVa=r;r=(function(){function l(){this.listeners=[];}l.prototype.on=function(g,m){this.listeners.push({signal:g,listener:m});g.on(m);};l.prototype.once=function(g,m){var d,f;d=this;if(void 0 === g.value){f=function(h){d.remove(g,m);m(h);};this.listeners.push({signal:g,listener:m,Oqb:f});g.once(f);}else g.once(m);};l.prototype.Sy=function(g,m){var d,f;f=(0,c.Oc)(this.listeners,function(h){return h.signal === g && h.listener === m;});void 0 !== f && g.Sy(null !== (d=f.Oqb) && void 0 !== d?d:f.listener);this.remove(g,m);};l.prototype.removeAllListeners=function(){this.listeners.forEach(function(g){var m,d;m=g.listener;d=g.Oqb;return g.signal.Sy(null !== d && void 0 !== d?d:m);});this.listeners=[];};l.prototype.remove=function(g,m){this.listeners=this.listeners.filter(function(d){return d.signal !== g || d.listener !== m;});};return l;})();b.hVa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uD=b.hya=void 0;b.hya=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};r=(function(){function a(){var c;c=this;this.RZa=!1;this.promise=new Promise(function(l){c.PZa=l;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{HDa:{get:function(){return this.RZa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){var l;this.RZa=!0;null === (l=this.PZa) || void 0 === l?void 0:l.call(this,c);this.PZa=void 0;};return a;})();b.uD=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.X4a=void 0;b.X4a=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var l;function c(g,m,d){var f,k,n;if(g === m || !d.vo && g == m)return !0;if(typeof g !== typeof m)return !1;if(g && "object" === typeof g){for(var h in g){if(!c(g[h],m[h],d))return !1;}if(!d.RKb){k=Object.keys(g);n=Object.keys(m).filter(function(t){return 0 > k.indexOf(t);});try{for(var p=l.__values(n),q=p.next();!q.done;q=p.next()){if((h=q.value,!c(g[h],m[h],d)))return !1;}}catch(t){var v;v={error:t};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(v)throw v.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.V9=void 0;l=a(0);b.V9=function(g,m,d){void 0 === d && (d={});d=l.__assign({vo:!1,RKb:!1},d);return c(g,m,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.JH=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.xa=NaN;}Object.defineProperties(a.prototype,{uu:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.xa=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.xa+=(c - this.xa) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.xa,count:this.count};};return a;})();b.JH=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(416);r=(function(){function l(g,m){this.xa=g;this.He=m;}l.prototype.o2a=function(g){return .5 * (0,c.wP)(-(g - this.xa) / Math.sqrt(2 * this.He));};l.prototype.$y=function(g){return this.xa - Math.sqrt(2 * this.He) * (0,c.Rab)(2 * g);};return l;})();b.default=r;},function(r,b,a){r.exports={Cuc:a(418),Xxc:a(261),coc:a(943),dja:a(262),boc:a(419),doc:a(420),Tub:a(421)};},function(r,b,a){var g,m,d,f;function c(h,k,n){g.call(this,h,k,n);}function l(h,k){m.call(this,new c(h,k,!1));}g=a(944);m=a(945);d=a(104).AWb;f=a(104).k_b;c.prototype=Object.create(g.prototype);c.prototype.xa=function(){return Math.floor(8 * d(this.se) / this.fe);};c.prototype.He=function(){return Math.floor(64 * f(this.se) / (this.fe * this.fe));};c.prototype.get=function(){return {xa:this.xa(),He:this.He(),ktc:this.se.length};};c.prototype.toString=function(){return "bsw(" + this.lO + "," + this.fe + "," + this.Yk + ")";};l.prototype=Object.create(m.prototype);l.prototype.setInterval=function(h){this.wN.setInterval(h);};r.exports=l;},function(r){function b(a,c,l){this.lO=a;this.Yk=Math.floor((a + c - 1) / c);this.fe=c;this.gEb=l;this.reset();}b.prototype.shift=function(){this.se.shift();this.fj.shift();};b.prototype.update=function(a,c){this.se[a]+=c;};b.prototype.push=function(a){this.se.push(0);this.fj.push(a?a:0);this.Ab+=this.fe;};b.prototype.add=function(a,c,l,g){var m,d;if(null === this.Ab){m=Math.max(Math.floor((l - c + this.fe - 1) / this.fe),1);for(this.Ab=c;this.se.length < m;){this.push(g);}}for(;this.Ab < l;){if((this.push(g),this.gEb))for(;1 < this.se.length && l + g - (this.Ab - this.fe * this.se.length + this.fj[0]) > this.lO;){this.shift();}else this.se.length > this.Yk && this.shift();}if(c > this.Ab - this.fe)this.update(this.se.length - 1,a);else if(c == l)(g=this.se.length - Math.max(Math.ceil((this.Ab - l) / this.fe),1),0 <= g && this.update(g,a));else for(g=1;g <= this.se.length;++g){m=this.Ab - g * this.fe;d=m + this.fe;if(!(m > l)){if(d < c)break;this.update(this.se.length - g,Math.round(a * (Math.min(d,l) - Math.max(m,c)) / (l - c)));}}for(;this.se.length > this.Yk;){this.shift();}};b.prototype.reset=function(){this.se=[];this.fj=[];this.Ab=null;};b.prototype.setInterval=function(a){this.Yk=Math.floor((a + this.fe - 1) / this.fe);};r.exports=b;},function(r){function b(a){this.wN=a;this.Mb=0;this.fO=null;}b.prototype.add=function(a,c,l){null !== this.fO && c > this.fO && (this.Mb+=c - this.fO,this.fO=null);this.wN.add(a,c - this.Mb,l - this.Mb,this.Mb);};b.prototype.stop=function(a){null === this.fO && (this.fO=a);};b.prototype.lCa=function(a,c){return this.wN.lCa(a,c);};b.prototype.get=function(){return this.wN.get();};b.prototype.reset=function(){this.wN.reset();};b.prototype.toString=function(){return this.wN.toString();};r.exports=b;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.d5=void 0;c=a(416);r=(function(){function l(g,m){this.vAa=g;this.He=m;0 < m?(this.Wcb=m=Math.pow(g,3) / m,g=2 * m / g,500 >= g && (this.Ota=Math.exp(g))):this.Ota=0;}l.prototype.o2a=function(g){var m,d,f;m=this.vAa;d=this.Ota;if(d && 0 < g){f=Math.sqrt(this.Wcb / (2 * g));m=g / m;g=(0,c.wP)(f * (m - 1));f=(0,c.wP)(f * (m + 1));return Math.max((2 - g + d * f) / 2,0);}return g < m?0:g > m?1:.5;};l.prototype.$y=function(g,m,d){for(var f=0,h=this.vAa + 5 * Math.sqrt(this.He),k=1,n=0;Math.abs(k) > m && d--;){n=(f + h) / 2;k=this.o2a(n);k=g - k;0 > k?h=n:f=n;}return n;};l.prototype.wKb=function(g){var m,d,f,h;m=this.vAa;d=this.Ota;if(d && 0 < g){f=Math.sqrt(this.Wcb / (2 * g));h=g / m;g=2 - (0,c.wP)(f * (h - 1));d*=(0,c.wP)(f * (h + 1));return [Math.max((g + d) / 2,0),Math.max(m * (g - d) / 2,0)];}return g < m?[0,0]:g > m?[1,m]:[.5,m / 2];};return l;})();b.d5=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eKa=void 0;c=a(0);l=a(186);new (c.__importDefault(a(3)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function g(m){this.config=m;this.Lra=m.c;this.Oza=m.kwc;this.o_=m.o_;this.qZ=m.qZ;this.Oba=m.Oba;this.Sgc=m.Rtc;this.XJ=m.XJ;this.ueb=m.ueb;this.reset();}g.prototype.reset=function(){this.jh=new l.ama(this.Lra,this.Oza);this.Ab=null;};g.prototype.add=function(m,d,f){var h,k,n,v;f=Math.max(f - d,1);m=8 * m / f;if(this.Sgc){null === this.Ab && (this.Ab=d);k=Math.pow(2,(d - this.Ab) / this.XJ);n=f * k;if(k >= this.ueb){n=new l.ama(this.Lra,this.Oza);try{for(var p=c.__values(this.jh.El()),q=p.next();!q.done;q=p.next()){v=q.value;n.push(v.wg,v.n / k);}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (h=p.return) && h.call(p);}finally{if(t)throw t.error;}}this.jh=n;n=f;this.Ab=d;}this.jh.push(m,n);}else this.jh.push(m,f);};g.prototype.get=function(){var m;m=this.jh.Sj([this.o_,this.qZ,this.Oba]);return {low:m[0] || 0,high:m[1] || 0,initial:m[2] || 0};};g.prototype.Hi=function(){var m,d,f,n;d=new g(this.config);f=new l.ama(this.Lra,this.Oza);try{for(var h=c.__values(this.jh.El()),k=h.next();!k.done;k=h.next()){n=k.value;f.push(n.wg,n.n);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (m=h.return) && m.call(h);}finally{if(p)throw p.error;}}d.jh=f;return d;};g.prototype.flush=function(){};g.prototype.start=function(){};g.prototype.stop=function(){};return g;})();b.eKa=r;},function(r,b,a){var l;function c(){this.Vk=void 0;this.iE=0;}l=a(12);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.iE && this.Vk?{p25:this.Vk.fm,p50:this.Vk.Bk,p75:this.Vk.gm,c:this.iE}:null;};c.prototype.Pd=function(g){if(!(!l.wb(g) && l.has(g,"p25") && l.has(g,"p50") && l.has(g,"p75") && l.has(g,"c") && l.isFinite(g.p25) && l.isFinite(g.p50) && l.isFinite(g.p75) && l.isFinite(g.c)))return (this.Vk=void 0,this.iE=0,!1);this.Vk={fm:g.p25,Bk:g.p50,gm:g.p75};this.iE=g.c;};c.prototype.get=function(){return {wea:this.Vk,xl:this.iE};};c.prototype.set=function(g,m){this.Vk=g;this.iE=m;};c.prototype.reset=function(){this.Vk=void 0;this.iE=0;};c.prototype.toString=function(){return "IQRHist(" + this.Vk + "," + this.iE + ")";};r.exports=c;},function(r,b,a){var l;function c(g){var m,d;m=g.sw;d=g.mw;this.kO=m;this.Bma={uhd:g.uhdl,hd:g.hdl};this.Yk=Math.max(Math.ceil(1 * m / d),1);this.FCb=g.mins || 1;l.call(this,m,d);this.reset();}l=a(153);new (a(3).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(l.prototype);c.prototype.flush=function(){this.se.map(function(g,m){this.c0a(g,this.Lua(m));},this);};c.prototype.NJb=function(){var g,m,d,f,h,k,n,t;g=this.Bma;for(m in g){if(g.hasOwnProperty(m)){d=g[m];f=this.Loa[m];h=this.Koa[m];if(f.first){k=f.first;n=f.hL;void 0 !== n && (h[k][n]+=1);f.first=void 0;}f=[];k=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,v=0;v < d;v++){q+=h[v][p];}k+=q;f.push(q);}q=-1;if(k > this.FCb){for(p=q=0;p < n;p++){if(0 < f[p])for(v=0;v < d;v++){t=h[v][p];0 < t && (q-=t * Math.log(1 * t / f[p]));}}q/=k * Math.log(2);}this.dna[m]=q;}}return this.dna;};c.prototype.c0a=function(g,m){var k,n;for(var d=this.Yk,f=this.Bma;this.Q6.length >= d;){this.Q6.shift();}for(;this.R6.length >= d;){this.R6.shift();}this.Q6.push(g);this.R6.push(m);g=this.Q6.reduce(function(p,q){return p + q;},0);m=this.R6.reduce(function(p,q){return p + q;},0);if(0 < m){g=8 * g / m;for(var h in f){if(f.hasOwnProperty(h)){m=this.Loa[h];d=this.Koa[h];k=this.bcc(g,f[h]);n=m.hL;void 0 !== n?d[k][n]+=1:m.first=k;m.hL=k;}}}};c.prototype.bcc=function(g,m){for(var d=0;d < m.length && g > m[d];){d+=1;}return d;};c.prototype.shift=function(){this.c0a(this.se[0],this.Lua(0));l.prototype.shift.call(this);};c.prototype.reset=function(){var g,m,d,f,h,k,n;this.Loa={};this.Q6=[];this.R6=[];this.Koa={};this.dna={};g=this.Bma;for(m in g){if(g.hasOwnProperty(m)){d=this.Koa;f=m;k=void 0;n=Array(k);k=h=g[m].length + 1;for(var p=0;p < k;p++){n[p]=Array(h);for(var q=0;q < h;q++){n[p][q]=0;}}d[f]=n;this.Loa[m]={first:void 0,hL:void 0};this.dna[m]=0;}}l.prototype.reset.call(this);};r.exports=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rTa=void 0;r=(function(){function a(c,l){this.Cj=0;this.filter=c;this.Iea=l;this.Cj=0;}a.prototype.w_=function(c){return 0 < this.Iea.filter(function(l){var g;return l === (null === (g=c.SC) || void 0 === g?void 0:g.sf);}).length;};a.prototype.add=function(c,l,g,m){this.w_(m) && this.filter.add(c,l,g,m);};a.prototype.start=function(c,l){this.filter.start && this.w_(l) && this.filter.start(c);};a.prototype.stop=function(c,l){this.filter.stop && this.w_(l) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.Cj=0;this.filter.reset && this.filter.reset();};a.prototype.Lw=function(c,l){this.w_(l) && (this.Cj+=1,this.filter.Lw && this.filter.Lw(c,l));};a.prototype.hz=function(c,l,g){this.w_(g) && (this.Cj=Math.max(this.Cj - 1,0),0 === this.Cj && this.stop(c,g),this.filter.hz && this.filter.hz(c,g));};return a;})();b.rTa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eIa=void 0;c=a(0);l=a(952);r=(function(){function g(m,d){this.hm=m;this.filter=d;this.xeb=Math.max(m.max_n || 10,0);this.reset();}g.prototype.reset=function(){this.X0=[];this.offset=0;this.wz=this.NG=null;this.filter.reset();this.s2=null;};g.prototype.add=function(m,d,f){var h;h=this.wz;null !== h && f > h && (this.offset+=Math.max(d - h,0),this.wz=null);for((0,l.xbb)(this.X0,[d - this.offset,f - this.offset,m]);this.X0 && this.X0.length > this.xeb;){m=c.__read(this.X0.shift(),3);this.filter.add(m[2],m[0],m[1]);}this.s2=null;};g.prototype.get=function(m,d){var f,n;if(!this.s2){this.s2=this.filter.Hi();try{for(var h=c.__values(this.X0),k=h.next();!k.done;k=h.next()){n=c.__read(k.value,3);this.s2.add(n[2],n[0],n[1]);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (f=h.return) && f.call(h);}finally{if(p)throw p.error;}}}p=this.wz;return this.s2.get((null === p?m:p) - this.offset,d);};g.prototype.Hi=function(){var m;m=new g(this.hm,this.filter.Hi());m.wz=this.wz;m.offset=this.offset;return m;};g.prototype.start=function(m){var d;d=this.wz;null !== d && m > d && (this.offset+=m - d,this.wz=null);this.filter.start(m - this.offset);};g.prototype.stop=function(m){this.wz=null === this.wz?m:Math.min(this.wz,m);this.filter.stop(m - this.offset);};g.prototype.flush=function(){this.filter.flush();};g.prototype.toString=function(){return "AggregatingFilter(" + this.xeb + ", " + this.filter.toString() + ")";};return g;})();b.eIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.xbb=void 0;c=a(0);b.xbb=function(l,g){var h,k,n,p,q,v,t,x,y,z,B,A,C,D;for(var m,d,f=0;f < l.length;f++){h=c.__read(g,3);k=h[0];n=h[1];p=h[2];q=c.__read(l[f],3);v=q[0];h=q[1];t=q[2];if(!(k >= h)){k=[k,Math.min(h,n),v,h].filter(function(E,G,F){return F.indexOf(E) === G;}).sort(function(E,G){return E - G;});v=k.length - 1;q=Array(v);p+=t;try{for(var w=(m=void 0,c.__values([g,l[f]])),u=w.next();!u.done;u=w.next()){x=c.__read(u.value,3);y=x[0];z=x[1];B=x[2];t=z - y;for(g=0;g < v;g++){A=k[g + 1];C=Math.min(A,z) - Math.max(k[g],y);if(0 < C){D=C * B / t;p-=D;q[g]=q[g]?q[g] + D:D;}if(z <= A)break;}}}catch(E){m={error:E};}finally{try{u && !u.done && (d=w.return) && d.call(w);}finally{if(m)throw m.error;}}t=[];for(g=0;g < v;g++){B=q[g];0 < B && t.push([k[g],k[g + 1],B]);}l.splice.apply(l,c.__spreadArray([f,1],c.__read(t),!1));if(h < n)g=[h,n,p];else return;}}g && 0 < g[2] && l.splice(l.length,0,g);};},function(r,b,a){var l,g;function c(m){this.L=m;this.CV();}l=a(12);g=a(3).default;new g.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var m;m=this.getState();g.storage.set("nh",m);};c.prototype.Shc=function(){this.wI || (this.wI=!0,this.JA=g.time.fa());};c.prototype.Zhc=function(){var m;if(this.wI){m=g.time.fa();this.MA+=m - this.JA;this.JA=m;this.wI=!1;this.AV=null;}};c.prototype.Fbb=function(m,d){this.wI && (d > this.JA && (this.MA+=d - this.JA,this.JA=d),null === this.AV || m > this.AV) && (m=d - m,this.KN.push([this.MA - m,m]),this.jFb(),this.AV=d);};c.prototype.jFb=function(){var m;m=this.MA - this.L.w7b;this.KN=this.KN.filter(function(d){return d[0] > m;});};c.prototype.CV=function(){var m;m=g.storage.get("nh");this.zoa(m) || (this.JA=g.time.fa(),this.MA=0,this.wI=!1,this.AV=null,this.KN=[]);};c.prototype.zoa=function(m){if(!(m && l.has(m,"t") && l.has(m,"s") && l.has(m,"i") && l.Oa(m.t) && l.Oa(m.s) && l.isArray(m.i)))return !1;this.JA=g.time.OAa(1E3 * m.t);this.MA=1E3 * m.s;this.wI=!1;this.KN=m.i.map(function(d){return [1E3 * d[0],d[1]];});this.AV=null;return !0;};c.prototype.getState=function(){return this.wI?{t:g.time.now() / 1E3 | 0,s:(this.MA + (g.time.fa() - this.JA)) / 1E3 | 0,i:this.KN.map(function(m){return [m[0] / 1E3 | 0,m[1]];})}:{t:g.time.sAa(this.JA) / 1E3 | 0,s:this.MA / 1E3 | 0,i:this.KN.map(function(m){return [m[0] / 1E3 | 0,m[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.PQa=void 0;r=a(0).__importDefault(a(3));c=a(6);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function l(g,m){this.config=g;this.bea=m;this.reset();}l.prototype.reset=function(){this.confidence=c.FD.HAVE_NOTHING;this.startTime=this.ga=0;};l.prototype.Hi=function(){var g;g=new l(this.config,this.bea);g.confidence=this.confidence;g.ga=this.ga;g.startTime=this.startTime;return g;};l.prototype.add=function(g,m,d){0 === this.startTime && (this.startTime=m,this.ga=0);this.ga+=g;g=d - this.startTime;this.confidence=Math.max(this.confidence,c.FD.wD);this.confidence < c.FD.vD && (g > this.config.ECb || this.ga > this.config.DCb) && (this.confidence=c.FD.vD);this.confidence < c.FD.PT && (g > this.config.YDb || this.ga > this.config.XDb) && (this.confidence=c.FD.PT,this.bea());};l.prototype.get=function(){return this.confidence;};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.flush=function(){};return l;})();b.PQa=a;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nja=void 0;r=a(0);c=a(956);l=a(6);new (r.__importDefault(a(3)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var i2e;i2e=2;for(;i2e !== 7;){switch(i2e){case 4:g.prototype.uE=function(m,d,f,h){var x$V;x$V=2;for(;x$V !== 1;){switch(x$V){case 2:h.il && (this.mxa?this.OG.add(m,d,f,h.il):this.qW === h.il && this.OG.add(m,d,f,h.il));x$V=1;break;}}};g.prototype.op=function(){var q6r;q6r=2;for(;q6r !== 1;){switch(q6r){case 4:return this.OG.get();break;case 2:return this.OG.get();break;}}};g.prototype.kpb=function(m){var t2s,d,f;t2s=2;for(;t2s !== 5;){switch(t2s){case 2:(d=Object.keys(this.EB).map(function(h){var Q2Y;Q2Y=2;for(;Q2Y !== 1;){switch(Q2Y){case 2:return parseInt(h);break;}}}),f=this.EB[d[0]]);1 === d.length && !1 === f.R$?(this.OG.start(m,f.il),this.qW=f.il):1 < d.length && this.qW && (d=this.EB[this.qW],this.OG.stop(m,this.qW),d.R$=!1,this.qW=void 0);t2s=5;break;}}};i2e=8;break;case 2:g.prototype.reset=function(){var y9B;y9B=2;for(;y9B !== 1;){switch(y9B){case 2:this.OG=new c.RJa();y9B=1;break;}}};g.prototype.Lw=function(m,d){var U3B;U3B=2;for(;U3B !== 1;){switch(U3B){case 2:d.il && (this.mxa?this.OG.start(m,d.il):d.type === l.u.J && (this.EB[d.il]?this.EB[d.il].S2+=1:this.EB[d.il]={il:d.il,S2:1,R$:!1},this.kpb(m)));U3B=1;break;}}};g.prototype.hz=function(m,d){var A49,f;A49=2;for(;A49 !== 9;){switch(A49){case 1:A49=this.mxa?5:4;break;case 7:A49=d.il?5:10;break;case 2:A49=d.il?1:9;break;case 5:this.OG.stop(m,d.il);A49=9;break;case 4:f=this.EB[d.il];d.type === l.u.J && f && (--f.S2,0 === f.S2 && (f.R$ && this.OG.stop(m,d.il),f.R$=!1,delete this.EB[d.il]),this.kpb(m));A49=9;break;}}};i2e=4;break;case 8:return g;break;}}function g(m){var u0X;u0X=2;for(;u0X !== 4;){switch(u0X){case 2:var G2g="1SIY";G2g+="b";G2g+="ZrNJCp9";this.mxa=m;this.EB={};G2g;u0X=4;break;}}}})();b.nja=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RJa=void 0;c=a(0).__importDefault(a(263));r=(function(){var p0D;p0D=2;function l(){var D9n;D9n=2;for(;D9n !== 5;){switch(D9n){case 3:this.u7={};"";D9n=6;break;case 2:var i8H="1SI";i8H+="YbZrNJC";i8H+="p9";this.u7={};i8H;D9n=5;break;}}}for(;p0D !== 9;){switch(p0D){case 2:l.prototype.add=function(g,m,d,f){var J5f,h;J5f=2;for(;J5f !== 4;){switch(J5f){case 2:h=this.u7;void 0 === h[f] && (h[f]=new c.default());h[f].add(g,m,d);J5f=4;break;}}};l.prototype.start=function(g,m){var W2B,d;W2B=2;for(;W2B !== 4;){switch(W2B){case 2:d=this.u7;void 0 === d[m] && (d[m]=new c.default());d[m].start(g);W2B=4;break;}}};l.prototype.stop=function(g,m){var O1T,d;O1T=2;for(;O1T !== 5;){switch(O1T){case 2:d=this.u7;void 0 !== d[m] && d[m].stop(g);O1T=5;break;}}};l.prototype.get=function(){var y35,h,k,g,m,d,f;y35=2;for(;y35 !== 8;){switch(y35){case 9:return d;break;case 5:(h=m[f],k=g[h].get());k && d.push({cdnid:h,avtp:k.xa,tm:k.k$});y35=3;break;case 3:f++;y35=1;break;case 1:y35=f < m.length?5:9;break;case 2:(g=this.u7,m=Object.keys(g).map(function(n){var r6J;r6J=2;for(;r6J !== 1;){switch(r6J){case 4:return parseInt(n);break;case 2:return parseInt(n);break;}}}),d=[],f=0);y35=1;break;}}};return l;break;}}})();b.RJa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GRa=void 0;r=a(0);c=a(6);l=r.__importDefault(a(263));a=(function(){var M9O;M9O=2;for(;M9O !== 3;){switch(M9O){case 2:g.prototype.reset=function(){var n_O;n_O=2;for(;n_O !== 4;){switch(n_O){case 2:this.m1=[0,0];this.Sg=[0,0];this.q0=[0,0];n_O=4;break;}}};g.prototype.uE=function(m,d,f,h){var b41,k,n;b41=2;for(;b41 !== 8;){switch(b41){case 5:b41=(null === (k=h.n1) || void 0 === k?0:k.fca())?4:3;break;case 2:this.Sg[h.type]+=m;b41=5;break;case 4:(this.m1[h.type]+=m,this.rhb.add(m,d,f),this.tBa[h.type].add(m,d,f));b41=3;break;case 9:this.q0[h.type]+=m;b41=8;break;case 3:b41=(null === (n=h.n1) || void 0 === n?0:n.Jza(m,d,f,this.r0))?9:8;break;}}};g.prototype.Oaa=function(){var Y0k;Y0k=2;for(;Y0k !== 1;){switch(Y0k){case 2:return {bytesRequestedPacingVideo:this.m1[c.u.J],bytesRequestedPacingAudio:this.m1[c.u.T],estimatedBytesPacedVideo:this.q0[c.u.J],estimatedBytesPacedAudio:this.q0[c.u.T],bytestotalVideo:this.Sg[c.u.J],bytestotalAudio:this.Sg[c.u.T],pacedAvtpVideo:this.tBa[c.u.J].get().xa,pacedAvtpAudio:this.tBa[c.u.T].get().xa,pacedAvtp:this.rhb.get().xa};break;}}};return g;break;}}function g(m){var y7A;y7A=2;for(;y7A !== 7;){switch(y7A){case 8:this.rhb=new l.default();y7A=7;break;case 2:var e$o="1";e$o+="S";e$o+="IYbZr";e$o+="NJCp9";this.m1=[0,0];this.Sg=[0,0];this.q0=[0,0];e$o;this.r0=m.r0;this.tBa=[new l.default(),new l.default()];y7A=8;break;}}}})();b.GRa=a;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(959),b);r.__exportStar(a(264),b);},function(r,b,a){var l,g,m,d,f,h,k;function c(n){if(-1 !== m.O2.indexOf(n))return n;for(var p,q=0;q < m.O2.length;++q){if(-1 !== n.indexOf(m.O2[q])){p=m.O2[q];break;}}f.assert(p);return p;}Object.defineProperty(b,"__esModule",{value:!0});b.yVa=void 0;l=a(0);g=a(960);m=a(985);d=a(264);f=a(425);h=a(986);k=a(987);r=(function(){function n(p,q){this.atob=p;this.console=q;this.JO=1;this.N2=[];this.IW=[];}n.prototype.LZb=function(p,q,v,t,w){var u,z;void 0 === t && (t={w:16,cs:9});void 0 === w && (w=1);q=c(q);u=h.Oc(d.gHa,function(B){return d.c8a(v,d.b8a[B]);});f.assert(u);f.assert(16 === t.w && 9 === t.cs || 4 === t.w && 3 === t.cs);t=16 === t.w?"16:9":"4:3";for(var x=0,y=this.N2;x < y.length;x++){z=y[x];if(z.type === p && z.$x === t && z.je === q && z.frameRate === u && z.trackId === w)return z;}p=this.ZPb(p,t,q,u,w);this.N2.unshift(p);this.N2.length > this.JO && this.N2.splice(this.JO,this.N2.length - this.JO);return p;};n.prototype.KZb=function(p,q,v){var x;void 0 === v && (v=1);for(var t,w=0,u=this.IW;w < u.length;w++){x=u[w];"silence" === x.type && x.je === p && x.bitrate === q && x.trackId === v && (t=x);}void 0 === t && (t=this.PPb(p,q,v),this.IW.unshift(t),this.IW.length > this.JO && this.IW.splice(this.JO,this.IW.length - this.JO));return t;};n.prototype.ZPb=function(p,q,v,t,w){var u;u=g.qqb[p][q][v][t]();return l.__assign(l.__assign({},this.decode(u,w)),{type:p,$x:q,je:v,frameRate:t,width:u.width,height:u.height,zd:u.zd,Ad:u.Ad});};n.prototype.PPb=function(p,q,v){var t;t=g.a1a.silence[p][q];f.assert(t);t=t();return l.__assign(l.__assign({},this.decode(t,v)),{type:"silence",je:p,bitrate:q,channels:t.channels});};n.prototype.decode=function(p,q){var v,t,w,u;v=p.Zb?this.V4a(p.oa,p.Cf,p.Ef,p.Df):this.atob(p.oa);t=p.Yb?this.V4a(p.pa,p.yf,p.Af,p.zf):this.atob(p.pa);if(1 !== q){w=new DataView(v);u=new DataView(t);p.qc.forEach(function(x){return w.setUint32(x,q);});p.pc.forEach(function(x){return u.setUint32(x,q);});}return l.__assign(l.__assign({},p),{oa:v,pa:t,trackId:q});};n.prototype.V4a=function(p,q,v,t){p=void 0 === q?k.Nca(p):t?k.Nca(q + p):k.Nca(p,new Uint8Array(this.atob(q)));return p.buffer.slice(p.byteOffset + (v || 0),p.byteOffset + p.byteLength);};return n;})();b.yVa=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.a1a=b.qqb=void 0;b.qqb={padding:{"16:9":{h264hpl:{23976:function(){return a(155);},24:function(){return a(961);},25:function(){return a(962);},2997:function(){return a(963);},30:function(){return a(964);}},h264:{23976:function(){return a(156);},24:function(){return a(965);},25:function(){return a(966);},2997:function(){return a(967);},30:function(){return a(968);}}},"4:3":{h264hpl:{23976:function(){return a(157);},24:function(){return a(969);},25:function(){return a(970);},2997:function(){return a(971);},30:function(){return a(972);}},h264:{23976:function(){return a(158);},24:function(){return a(973);},25:function(){return a(974);},2997:function(){return a(975);},30:function(){return a(976);}}}}};b.a1a={silence:{heaac:{64:function(){return a(977);},96:function(){return a(978);},128:function(){return a(979);}},ddp:{192:function(){return a(980);},256:function(){return a(981);},384:function(){return a(982);},448:function(){return a(983);},640:function(){return a(984);}}}};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(155);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Zb=!0;b.Ef=751;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:24E3};b.duration={Fa:6E3,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(155);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Zb=!0;b.Ef=751;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:25E3};b.duration={Fa:7E3,W:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(155);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Zb=!0;b.Ef=751;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Fa:1001,W:3E4};b.duration={Fa:8008,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(155);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADDAheApgi4CgjYDheBVAfg8YCheASDogBoG";b.Zb=!0;b.Ef=751;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:3E4};b.duration={Fa:8E3,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(156);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Zb=!0;b.Ef=749;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:24E3};b.duration={Fa:6E3,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(156);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Zb=!0;b.Ef=749;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:25E3};b.duration={Fa:7E3,W:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(156);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Zb=!0;b.Ef=749;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Fa:1001,W:3E4};b.duration={Fa:8008,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,729];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(156);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABDghdwogioCgjIDhdxVAfg8IChdwSDogBoG";b.Zb=!0;b.Ef=749;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:3E4};b.duration={Fa:8E3,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(157);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Zb=!0;b.Ef=751;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:24E3};b.duration={Fa:6E3,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(157);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Zb=!0;b.Ef=751;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:25E3};b.duration={Fa:7E3,W:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(157);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Zb=!0;b.Ef=751;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Fa:1001,W:3E4};b.duration={Fa:8008,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(157);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADDAheApgi4CgjYDheBVAfg7wCheASDogBoG";b.Zb=!0;b.Ef=751;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:3E4};b.duration={Fa:8E3,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(158);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Zb=!0;b.Ef=749;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:24E3};b.duration={Fa:6E3,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(158);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Zb=!0;b.Ef=749;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:25E3};b.duration={Fa:7E3,W:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(158);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Zb=!0;b.Ef=749;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Fa:1001,W:3E4};b.duration={Fa:8008,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,729];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(158);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABDghdwogioCgjIDhdxVAfg7gChdwSDogBoG";b.Zb=!0;b.Ef=749;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Fa:1E3,W:3E4};b.duration={Fa:8E3,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,731];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Zb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Yb=!0;b.da={Fa:1024,W:24E3};b.duration={Fa:7168,W:24E3};b.bitrate=64;b.profile="heaac-2-dash";b.channels="2.0";b.qc=[176,599];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBBgEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Zb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Yb=!0;b.da={Fa:1024,W:24E3};b.duration={Fa:7168,W:24E3};b.bitrate=96;b.profile="heaac-2-dash";b.channels="2,0";b.qc=[176,599];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBCAEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Zb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Yb=!0;b.da={Fa:1024,W:24E3};b.duration={Fa:7168,W:24E3};b.bitrate=128;b.profile="heaac-2hq-dash";b.channels="2.0";b.qc=[176,599];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70";b.Yb=!0;b.da={Fa:1536,W:48E3};b.duration={Fa:12288,W:48E3};b.bitrate=192;b.profile="ddplus-5.1-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAIgZYAAPgBgCAUBignwAB0gAwAAEgAQAADDogGYGgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAEgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgIQBcIbWRhB0ALB3ABD/A/CHDAgBoAgCgBgHYCcD+B9lEEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwUB/DOCvgDQWgAwDAfDzCrgHgYgAwBDHD8DqgLwaD5DxgQAgCggXoBd3zWtagCAABtC2DbgAQJe1rWtAgDIdBfA+gDAMDWgDIABogDAAAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LgNYBBagDIegXIxgDIVB2gAYBcAHfNaDWgmgAgDgKgAQAgNYBDQgDIdgXIygDIVCyhPQCDvCagjQADzDmgNgMgDoADWCAgDIdgXIxgDIWCQgQoBAHB8gNYAhUQAA2gD4LgNYBC0gDIegXIxgDIVDsgAYBAAA7DmgjQAhWQAg2ILDbgDoAC1hXYBgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x";b.Yb=!0;b.da={Fa:1536,W:48E3};b.duration={Fa:12288,W:48E3};b.bitrate=256;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAMgZYAAPgBgCAUBignwAB0gEICAAAFDcgGYCgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgPYBg5QEAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBgAYAgCQAgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcwCG1kBhB0ALB3ACD/A/CHDAgKAAgCgBgHYCcEEB+6EEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwlDHD8DqgF4rgAwAAfDzCrgF4rgAwAB/DOCvgF4rD5DxgYwygnwCA2gGwCdttttvAeA8B4DxDjDHCPgAwDgB4AgCYAda1rWtBrgAgCBogEoBBvgGYBDbgEoBgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBCbgEYBgIwIgAwAcbbbfPCagEYGBrBAgEgAADBrgP4BA2gJQBgEgbgSQBDmgEYBDegSQJB2gB4AgCYAgEYGBaDQgN4BDZgXwCgJ4SAegB4AgV4AA1gFQGDWCAhHgBgd4BDNgTIABtC8gJ4IDGgJ4PgZwAgOwAgEYBC3gcQIgAwAgB4AgCYAgJAHC0glwVgEgPA3gsQBgEYBBtgSQJA3glwQCQgv3/gvz/gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q";b.Yb=!0;b.da={Fa:1536,W:48E3};b.duration={Fa:12288,W:48E3};b.bitrate=384;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAOgZYAAPgBgCAUBignwAB0gAwAAHgEgBDWgGYCDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAHgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAc4CG1kBhB0ALB3ADB/A/CHDAgKAAgCgBgHYCcEKB/MAEgEoAdAEAQYD5DzDnDPCfA+B8gAwBDfDzCrgBQGgAwoDHD8DqgF4rgAwDfx/zq+gMwsgAwCB/DOCvgTougAwAAfgag1gpwCcb5tttC2gAQAe3jx48R3gAACd48ePHCPAbgCYAfPmta1CtBrBagAgEC0gFgLA7S7gAABC8gFgCCNgCgADnDNgFAGgAgCgFYBANDzgFQCgAQAgJIAgFgrAdTdgAABDeA8gFgBDGgCgADzDmgQYIgAgAgFYBAGD5gFQDBtgUYBgFgMB2gFgSDwgcgCgRZwgFgcCOTugAABDvguoAgFgBgCgAgx4AgQYJDWCAgFYAADB8gFQDC2gUYBgFgMC7gFgSB4gcgCgRZwgFgdhJ4HhLYBgFgAgCgAhOoAgQYJBrBAh4QBC+gtIEgxICgFgLDdgFgSC8gcgCgRZwgFgdhJwGC7hLYBgFgAgCgAh+YAgQYJC1CggWQBDfA2gQoDhN4CgFgLBugFgSDeijwDgRZvgFgdhJwGDdhLYBgFgAgCgADfA+hmYKDQgFYBBvCbgQoDhN4CgFgLA3gFgTi5ADgRZvgFgdhJwGDuifoCAegN4ABvCfA1gtQJBogFYBA3DNgtIDBvgUYBgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m";b.Yb=!0;b.da={Fa:1536,W:48E3};b.duration={Fa:12288,W:48E3};b.bitrate=448;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAUgZYAAPgBgCAUBignwAB0gAwAAKgAQAAJgYQCACgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAKgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAdQCG1kBhB0ALB3AED/A/CHDAgEgDBAgAYBeOBhhhCGAfDzCrDnDPCfA+B8D5DzgAw0B/DOCvgHo5f58f86C+gHo4gAwADHD8DqgHo5gAwAgfxACggtQCfePHjxPdgrgEgAAQADK7dtttttgdYAfWta1rBagIYMgEACc7x48eA7gEgBC4gIAVAAJ3gIACC3DPCagIICBfgQ4LCAgD4BAHgQAADjDHgEgBB3gIAWAOHuDtgIABC2gGAABagIICgZYLDwgEACDvAegYgAgEYAgAAADggIAVABgb4BgIACDfA+gYAAgIIBghAMgEACAdgQAACPAdgEgBDcgQQWgcABgIACDbDnDNgIIChG4MgnICADC8glYDC8gZQBghQBC7gawCgAASAHgcgAB2gIwCgGwAgpQBgI4AgpYLD4glYDgpYAA8ghQCBwgRAWgcoBgIACBvCfA1gIIChQAMglYDgpYBCOghYCgIAWgcwBgIACBtDzDmg5wCDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/gHIWgADBAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c";b.Yb=!0;b.da={Fa:1536,W:48E3};b.duration={Fa:12288,W:48E3};b.bitrate=640;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.oIb=b.mIb=b.pIb=b.lIb=b.nIb=b.qIb=b.lmc=b.emc=b.O2=b.nmc=void 0;c=a(264);Object.defineProperty(b,"videoMediaFrameRatesList",{enumerable:!0,get:function(){return c.gHa;}});b.nmc=["padding"];b.O2=["h264hpl","h264"];b.emc=["16:9","4:3"];b.lmc={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash"};b.qIb=["silence"];b.nIb=["heaac","ddp"];b.lIb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.pIb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.mIb={heaac:{64:"2.0",96:"2,0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.oIb={heaac:{Fa:1024,W:24E3},ddp:{Fa:1536,W:48E3}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oc=void 0;b.Oc=function(a,c){for(var l=0;l < a.length;l++){if(c(a[l],l,a))return a[l];}};},function(r,b,a){var d;function c(f){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f & 63];}function l(f,h){d.assert(0 < h && 8 > h);return c((h - 1 << 8) + f);}function g(f){return c(1792 + f[0]) + c((f[1] << 4) + (f[2] >>> 4)) + c((f[2] << 8 & 3840) + f[3]);}function m(f){return 43 === f?62:47 === f?63:58 > f?f - 48 + 52:91 > f?f - 65:f - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.Nca=b.h5b=void 0;d=a(425);b.h5b=function(f,h){var p,q,v,t,w,u;function k(x,y){var z;z=p;x=q - y - x;d.assert(1 <= x);d.assert(16384 > x - 1);d.assert(2 <= y && 512 > y - 2);y=c(2048 + (x - 1 >>> 3)) + c(((x - 1 & 7) << 9) + (y - 2));p=z + y;v=q;t=0;}function n(x,y,z){return f.subarray(x,x + z).every(function(B,A){return B === f[y + A];});}p="";q=h || 0;v=q;t=0;for(h=0;q < f.byteLength;){w=v;u=t;if(0 !== t && 513 > t && f[q] === f[v + t])(++t,++q);else if(513 === t)(k(w,u),h=0);else {for(--v;0 <= v && v >= q - t - 16384 && (f[w] !== f[v] || 0 < t && !n(q - t,v,t + 1));){--v;}if(0 <= v && v >= q - t - 16384)(++t,++q);else if(w === q || 1 === u){q-=u;for(w=1;5 > w && f[q + w] === f[q];){++w;}p+=l(f[q],w);q+=w;h=1 < w?0:h + 1;4 === h && (p=p.slice(0,p.length - 8),p+=g(f.subarray(q - 4,q)));v=q;t=0;}else (k(w,u),h=0);}}1 === t?p+=l(f[v],1):1 < t && k(v,t);return p;};b.Nca=function(f,h){var t;function k(u,x){var y;if(v + x > p.byteLength){y=new Uint8Array(2 * p.byteLength);y.set(p,0);p=y;}if(u + x <= v)p.set(p.subarray(u,u + x),v);else for(y=0;y < x;++y){p[v + y]=p[u + y];}v+=x;}function n(){var u;u=f.slice(q,q+=2);return (m(u.charCodeAt(0)) << 6) + m(u.charCodeAt(1));}for(var p=h || new Uint8Array(4096),q=0,v=h?h.byteLength:0;q < f.length;){t=n();if(t & 2048)(h=n(),k(v - (((t & 2047) << 3) + (h >>> 9) + 1),(h & 511) + 2));else if(1792 === (t & 3840))(p[v++]=t & 255,h=n(),t=n(),p[v++]=h >>> 4,p[v++]=(h << 4 & 240) + (t >>> 8),p[v++]=t & 255);else {h=t & 255;t=(t >>> 8) + 1;for(var w=0;w < t;++w){p[v++]=h;}}}return p.subarray(0,v);};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.EOa=void 0;c=a(0);l=c.__importStar(a(12));r=a(13);g=c.__importDefault(a(29));m=c.__importDefault(a(989));d=c.__importDefault(a(3));f=a(182);h=a(259);c.__importDefault(a(260));k=c.__importDefault(a(990));a(426);n=a(2);p=a(993);q=a(1078);v=new d.default.Console("ASEJS","media|asejs");t=v.trace.bind(v);w=v.warn.bind(v);r=(function(u){var S4f;function x(y,z){var m6r,B;m6r=2;for(;m6r !== 13;){switch(m6r){case 5:var h8G="DE";h8G+="B";h8G+="U";h8G+="G:";var W7u="nf-ase";W7u+=" v";W7u+="ers";W7u+="ion";W7u+=":";B.o2=z;y=a(1093);t(W7u,y,h8G,!1);m6r=9;break;case 9:var E54="1";E54+="S";E54+="IYbZrN";E54+="JC";E54+="p9";B.Dna=!1;B.ODb=!1;B.qI=[];E54;m6r=14;break;case 14:return B;break;case 2:B=u.call(this) || this;B.config=y;m6r=5;break;}}}S4f=2;for(;S4f !== 15;){switch(S4f){case 4:Object.defineProperties(x.prototype,{Qw:{get:function(){var F_I;F_I=2;for(;F_I !== 1;){switch(F_I){case 2:return this.woa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{N1:{get:function(){var j1V;j1V=2;for(;j1V !== 1;){switch(j1V){case 2:return this.Doa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{nya:{get:function(){var B$Z;B$Z=2;for(;B$Z !== 1;){switch(B$Z){case 2:return !l.wa(this.$Eb);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{qga:{get:function(){var p8j;p8j=2;for(;p8j !== 1;){switch(p8j){case 2:return this.QEb;break;case 4:return this.QEb;break;}}},enumerable:!1,configurable:!0}});S4f=7;break;case 2:c.__extends(x,u);Object.defineProperties(x.prototype,{Ac:{get:function(){var h4e;h4e=2;for(;h4e !== 1;){switch(h4e){case 2:return this.A6.Ac;break;case 4:return this.A6.Ac;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ku:{get:function(){var X1q;X1q=2;for(;X1q !== 1;){switch(X1q){case 2:return this.A6.ku;break;}}},enumerable:!1,configurable:!0}});S4f=4;break;case 18:x.prototype.j9=function(){var Y2A,y;Y2A=2;for(;Y2A !== 5;){switch(Y2A){case 2:null === (y=this.AA) || void 0 === y?void 0:y.VQb();Y2A=5;break;}}};x.prototype.Wa=function(){var z8E;z8E=2;for(;z8E !== 6;){switch(z8E){case 4:delete this.woa;delete this.o2;this.j9();delete this.AA;z8E=7;break;case 7:h.rM.reset();z8E=6;break;case 2:var B7o="Attem";B7o+="pted to destruct Manager before all Ses";B7o+="sions removed";(0,n.assert)(0 === this.qI.length,B7o);this.Dna=!1;delete this.A6;z8E=4;break;}}};return x;break;case 20:x.prototype.Rua=function(y,z,B){var S9v;S9v=2;for(;S9v !== 1;){switch(S9v){case 4:return (4,f.Eva)(y,z,B);break;case 2:return (0,f.Eva)(y,z,B);break;}}};x.prototype.Fqa=function(){var E3u,y;E3u=2;for(;E3u !== 5;){switch(E3u){case 2:null === (y=this.AA) || void 0 === y?void 0:y.J7a();E3u=5;break;}}};S4f=18;break;case 7:Object.defineProperties(x.prototype,{tg:{get:function(){var i8S;i8S=2;for(;i8S !== 1;){switch(i8S){case 2:return this.AA;break;case 4:return this.AA;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{vk:{get:function(){var M4L;M4L=2;for(;M4L !== 1;){switch(M4L){case 4:return this.A6.vk;break;case 2:return this.A6.vk;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{dxa:{get:function(){var b69;b69=2;for(;b69 !== 1;){switch(b69){case 2:return this.ODb;break;}}},enumerable:!1,configurable:!0}});x.prototype.oa=function(y,z,B,A,C,D){var c9H,E,G;c9H=2;for(;c9H !== 11;){switch(c9H){case 13:var c2s="m";c2s+="e";c2s+="dia";c2s+="cach";c2s+="e";var T8m="c";T8m+="acheEv";T8m+="ic";T8m+="t";var o0q="flush";o0q+="edB";o0q+="yt";o0q+="es";var r5n="discard";r5n+="edByt";r5n+="e";r5n+="s";var N7V="prebu";N7V+="f";N7V+="fs";N7V+="tats";(z=new q.fNa(this,G,B,D),y=function(F){var j$8;j$8=2;for(;j$8 !== 1;){switch(j$8){case 4:E.emit(F.type,F);j$8=3;break;case 2:E.emit(F.type,F);j$8=1;break;}}},z.addListener(N7V,y),z.addListener(r5n,y),z.addListener(o0q,y),z.addListener(T8m,y),(G.$Ga || G.ZGa) && z.addListener(c2s,function(F){var y1J;y1J=2;for(;y1J !== 1;){switch(y1J){case 2:var a9E="med";a9E+="i";a9E+="ac";a9E+="ach";a9E+="e";E.emit(a9E,F);y1J=1;break;case 4:E.emit("",F);y1J=2;break;}}}),this.AA=z);c9H=12;break;case 14:c9H=G.Spb || G.WGa?13:12;break;case 12:this.Dna=!0;c9H=11;break;case 9:this.QEb=C;(0,m.default)(G);this.A6=h.rM.Naa(G,v,this.o2);this.woa=new k.default(G);c9H=14;break;case 2:(E=this,G=this.config);h.rM.reset();0 < G.gu && (!l.wa(y) && y > G.gu && (y=G.gu),z > G.gu && (z=G.gu));l.wa(y) && (this.$Eb=z);this.Doa=A;c9H=9;break;}}};x.prototype.createSession=function(y,z,B,A,C,D,E,G,F,L){var Y8A;Y8A=2;for(;Y8A !== 4;){switch(Y8A){case 2:Y8A=this.Dna?1:5;break;case 1:return (G=G || this.config,this.Ac.reset(),this.ku.Shc(),this.woa.reset(),void 0 === D && (D=this.Rua(y,z)),l.wa(this.Doa) && (this.Doa=d.default.Cq()[g.default.de.J] <= G.S6b?0:G.o1),y=new p.eVa(this,y,L,z,B,A,C,D,E,G,F),this.qI.push(y),y);break;case 5:var l3Z="open: str";l3Z+="eami";l3Z+="ngManager not i";l3Z+="ni";l3Z+="tted";w(l3Z);Y8A=4;break;}}};x.prototype.n_=function(y,z){var s7J;s7J=2;for(;s7J !== 1;){switch(s7J){case 2:return this.AA && (y=this.AA.n_(y,z))?y:!1;break;}}};x.prototype.lEb=function(y){var T11,z;T11=2;for(;T11 !== 4;){switch(T11){case 2:var e$P="c";e$P+="an't find sessi";e$P+="on in arra";e$P+="y, movieI";e$P+="d:";this.Ac.G1(null);z=this.qI.indexOf(y);l.wa(z)?w(e$P,y.Rf.O.K):(this.qI.splice(z,1),0 === this.qI.length && this.ku.Zhc(),this.ku.save(),this.vk.save());T11=4;break;}}};S4f=20;break;}}})(r.EventEmitter);b.EOa=r;},function(r,b,a){var l,g,m,d;function c(f){var h;h=nrdp.fl.$xc.match(/android-(\d*)/);h?23 < h[1]?f.RFa=!1:(h=nrdp.fl.urc.pq.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),f.RFa=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):f.RFa=!1;f.Gic=!1;}l=a(2).assert;a(187);g=a(3).default;m=g.kr;d=g.Jwb;r.exports=function(){var f,h,k,n;f=new g.Console("ASEJSMONKEY","media|asejs");if(!g.kr.Yc){h=function(p){this.yCb=p;};k=d.prototype.appendBuffer;g.MediaSource.Yc || (g.MediaSource.Yc={});"undefined" !== typeof nrdp && nrdp.v8 && (c(g.MediaSource.Yc,f),g.MediaSource.Yc.a3a=!1,g.MediaSource.Yc.Lfb=!1);g.kr.Yc={WR:{irb:!0,YM:!0,Twb:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.YEb || this.NAb;},set:function(p){this.NAb=p;}});n=m.prototype.open;m.prototype.open=function(p,q,v,t,w,u,x){1 === v && (this.YEb=new h(this));return n.call(this,p,q,v,t,w,u,x);};m.prototype.MR=function(){this.bO=void 0;};d.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return k.call(this,p);if(p instanceof h)return this.z8(p.yCb);l(!1);};}};},function(r,b,a){var g,m;function c(){this.EA=this.gV=this.U6=this.j7=this.S6=null;}function l(d){this.L=d;this.kE=[];this.Xs=new c();this.CV();}g=a(12);a(29);a(8);m=a(3).default;new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Pd=function(d){var f;f=!1;d && g.has(d,"ens") && g.has(d,"lns") && g.has(d,"fns") && g.has(d,"d") && g.has(d,"t") && (this.S6=d.ens,this.j7=d.lns,this.U6=d.fns,this.gV=d.d,this.EA=d.t,f=!0);return f;};c.prototype.getState=function(){var d;if(g.wb(this.S6) || g.wb(this.j7) || g.wb(this.U6) || g.wb(this.gV) || g.wb(this.EA))return null;d={d:this.gV,t:this.EA};d.ens=this.S6;d.lns=this.j7;d.fns=this.U6;return d;};c.prototype.get=function(){var d,f;d=this.getState();if(d){f=new Date(this.EA);d.dateint=1E4 * f.getFullYear() + 100 * (f.getMonth() + 1) + f.getDate();d.hour=f.getHours();}return d;};l.prototype.CV=function(){var d;d=m.storage.get("sth");d && this.Pd(d);};l.prototype.Pd=function(d){var f,h;f=null;h=this.L;d.forEach(function(k){var n;n=new c();n.Pd(k)?(f=!0,this.kE.push(n)):g.wb(f) && (f=!1);},this);this.kE=this.kE.filter(function(k){return k.gV >= h.wda;});this.kE.sort(function(k,n){return k.EA - n.EA;});return g.wb(f)?!0:f;};l.prototype.sna=function(){var d;d=[];this.kE.forEach(function(f){d.push(f.getState());},this);return d;};l.prototype.save=function(){var d,f,h;d=this.sna();f=this.L;h=this.Xs.getState();h && h.d >= f.wda && (d.push(h),this.kE.push(this.Xs));d.length > f.Wca && (d=d.slice(d.length - f.Wca,d.length));this.Xs=new c();d && m.storage.set("sth",d);};l.prototype.reset=function(){this.Xs=new c();};l.prototype.aXb=function(){return this.Xs.get();};l.prototype.CZb=function(){return this.kE.length + 1;};l.prototype.lGb=function(d){this.Xs.S6=d;this.Xs.EA=m.time.fa();};l.prototype.xGb=function(d){this.Xs.j7=d;this.Xs.EA=m.time.fa();};l.prototype.qGb=function(d,f){this.Xs.U6=d;this.Xs.EA=m.time.fa();this.Xs.gV=f;};r.exports=l;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sPa=void 0;r=(function(){function a(c,l,g){this.dFb=l;this.hAb=g;this.H=c;}a.prototype.lCa=function(c){c=this.Q1b(c,this.dFb) + this.hAb;return this.loa=isNaN(c)?NaN:this.dFa(c);};a.prototype.qLb=function(c){return isNaN(this.loa)?0:this.loa > c?1:0;};a.prototype.Q1b=function(c,l){var g;g=0;if(c.length !== l.length)g=NaN;else for(var m=0;m < c.length;m++){g+=c[m] * l[m];}return g;};a.prototype.dFa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.sPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CU=void 0;r=(function(){function a(c){this.Vk={};this.Una=c;this.Zg=[];this.ht=!1;this.tI=void 0;}a.prototype.l8=function(c){this.Zg.length === this.Una && this.Zg.shift();Array.isArray(c)?this.Zg=this.Zg.concat(c):this.Zg.push(c);this.ht=!0;};a.prototype.VP=function(){return this.Zg.length;};a.prototype.Nqa=function(){var c;c=this.Zg;return 0 < c.length?c.reduce(function(l,g){return l + g;},0) / this.Zg.length:void 0;};a.prototype.m9=function(){var c,l;c=this.Zg;l=this.Nqa();if(0 < c.length && "undefined" !== typeof l)return (c=c.reduce(function(g,m){return g + m * m;},0) / c.length,Math.sqrt(c - l * l));};a.prototype.Fv=function(c){var l,g,m;if(this.ht || void 0 === this.tI)(this.tI=this.Zg.slice(0).sort(function(d,f){return d - f;}),this.ht=!1);if(void 0 === this.Vk[c]){l=this.tI;g=Math.floor(c / 100 * (l.length - 1) + 1) - 1;m=(c / 100 * (l.length - 1) + 1) % 1;this.Vk[c]=g === l.length - 1?l[g]:l[g] + m * (l[g + 1] - l[g]);}return this.Vk[c];};return a;})();b.CU=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I;Object.defineProperties(b,{__esModule:{value:!0}});b.eVa=void 0;r=a(0);c=a(13);l=r.__importStar(a(12));a(117);g=a(994);m=a(182);d=a(6);f=a(76);h=a(269);k=a(1016);n=a(1017);p=r.__importDefault(a(3));q=p.default.MediaSource;v=a(8);t=a(2);w=a(185);u=a(440);x=a(1019);y=a(1020);z=a(159);r=a(35);B=a(1021);A=a(1022);C=a(441);D=a(1058);E=a(451);G=a(1068);F=a(455);L=a(1074);O=a(1075);K=a(1076);I=a(1077);a=(function(){var t_B;t_B=2;function M(H,J,N,P,W,V,S,U,fa,qa,xa){var O4L,Aa,Oa,ka,T,X;O4L=2;for(;O4L !== 76;){switch(O4L){case 39:var l0G="ma";l0G+="nagerdeb";l0G+="ugev";l0G+="ent";this.ck.on(this.Nc.tg,l0G,function(ra){var d7$;d7$=2;for(;d7$ !== 1;){switch(d7$){case 2:(0,v.kb)(Aa,ra.type,ra);d7$=1;break;}}});O4L=38;break;case 2:var x7W="medi";x7W+="a|a";x7W+="s";x7W+="ej";x7W+="s";var k32="A";k32+="SE";k32+="J";k32+="S";var Q9Y="1";Q9Y+="SIYbZr";Q9Y+="NJ";Q9Y+="Cp9";Aa=this;this.QD=new z.K5();this.tXa=[];this.yF={Ix:[Object.create(null),Object.create(null)]};Q9Y;this.H=new p.default.Console(k32,x7W,"(" + S.sessionId + ")");O4L=8;break;case 38:O4L=(qa.$Ga || qa.ZGa) && this.Nc.tg?37:36;break;case 28:this.poa=0;this.ck=new c.gf();this.Ep=new L.UUa(this,this.H,this.zc.bind(this),Oa);this.xh=new O.gLa(this,this.H,this.zc.bind(this));this.o$=new x.fLa(this,this.H,Oa);O4L=40;break;case 61:this.Zh.JGa(this.L);O4L=60;break;case 31:this.M7=!1;this.sV=void 0;this.g7=-1;O4L=28;break;case 8:this.Ll=this.H.error.bind(this.H);this.ac=this.H.warn.bind(this.H);this.fk=this.H.trace.bind(this.H);Oa=new I.ZQa(this,this.H);O4L=13;break;case 55:this.X.addListener(function(ra){var H0S,p97;H0S=2;for(;H0S !== 1;){switch(H0S){case 2:try{p97=2;for(;p97 !== 1;){switch(p97){case 2:ka.Qb.alc.bind(ka.Qb)(ra);p97=1;break;}}}catch(R){var C6N="Hindsight: Error when addi";C6N+="ng updatePlaySegment Li";C6N+="sten";C6N+="er: ";R7xOY.o4M(6);ka.Lb.xp(R7xOY.h1T(R,C6N));}H0S=1;break;}}});O4L=77;break;case 64:O4L=qa.nta && this.Zh.cca?63:60;break;case 36:T && qa.nP && !qa.lSb && (qa.set?qa.set({enableAdaptiveParallelStreaming:!1}):qa.nP=!1);0 === Math.floor(1E6 * Math.random()) % qa.yO && (this.sEb=new k.rUa(qa));O4L=53;break;case 20:this.Jt=X.Jt;this.jz=qa.jz;this.Qg=new K.NOa(this,this.H,this.zc.bind(this),X);this.aFb=[!V.Q2,!V.Upa,!1];O4L=16;break;case 37:var F_y="medi";F_y+="acac";F_y+="he";this.ck.on(this.Nc.tg,F_y,function(ra){var m0L;m0L=2;for(;m0L !== 1;){switch(m0L){case 4:(1,v.kb)(Aa,"",ra);m0L=3;break;case 2:var W7l="me";W7l+="di";W7l+="ac";W7l+="ac";W7l+="he";(0,v.kb)(Aa,W7l,ra);m0L=1;break;}}});O4L=36;break;case 56:ka=this;O4L=55;break;case 77:xa && this.Qb.Rw(xa,J.N);O4L=76;break;case 35:this.X=new y.vIa(fa);this.Qo=W || 0;this.FV=0;this.oXa=U;O4L=31;break;case 13:var I7$="b";I7$+="ranch";I7$+="ing";this.Lb=Oa;this.J3a=new u.nKa(this.H);(T=!(!J || !J.choiceMap || I7$ !== J.choiceMap.type),X=T?{$X:!1,Jt:!1}:(0,n.u9a)(qa));this.$X=X.$X;O4L=20;break;case 46:this.xe=[J];O4L=45;break;case 24:this.t_a=!!V.Spb;this.vFb=!!V.WGa;this.QN=V.oza;this.z7=void 0;O4L=35;break;case 63:qa=qa.w0b;for(var Q in qa){N=qa[Q];qa.hasOwnProperty(Q) && N && (this.L[Q]=N);}O4L=61;break;case 57:O4L=this.Jt?56:77;break;case 16:this.zc(f.u.T) && this.zc(f.u.J);this.Nc=H;this.yn=S;this.L=qa=this.J3a.Zzb(J,qa);this.s7=V.D0;O4L=24;break;case 40:O4L=qa.kj && this.Nc.tg?39:38;break;case 45:J=J.O;this.Zh=new G.fIa(this,this.H,J.wk.MZb(),this.Nc.Ac,qa,this.IQ(),H,this.zc.bind(this),X);O4L=64;break;case 53:this.Lx=[];this.$h=[];H=null;qa.cY && (H=this.Nc.Qw.kE);w.Lz.instance().reset();J=g.rka.create({Vb:0,ba:J,Rq:N,plb:P,rg:!!V.rg,acb:!1,Tl:!!V.Tl,Xf:(0,f.bAa)(!!V.Upa,!!V.Q2),ca:0,Ta:V.Ta,Lb:this.Lb,Qt:this.mYa.bind(this),mc:this,config:this.L,H:this.H,xh:this.xh,Ep:this.Ep,tg:this.t_a?this.Nc.tg:void 0,yF:this.yF});J.EW=!0;O4L=46;break;case 60:this.ab=new E.Bia(this,this.Lb,this.H,this.Aoa.bind(this),J,this.Qo,this.L,this.xh,this.X,this.FY.bind(this));Q={oza:this.oza,dn:this.dn,Ao:this.Ao,D0:this.D0};this.Qb=new F.xVa(this.H,this.Zh,this.L,this.zc.bind(this),this.X,Q,this.Nc.Ac,this.Lb,this.xh,this.ab,X);O4L=57;break;}}}for(;t_B !== 94;){switch(t_B){case 32:M.prototype.bib=function(){};M.prototype.close=function(){var X5z;X5z=2;for(;X5z !== 5;){switch(X5z){case 2:this.xe.forEach(function(H){var C$S;C$S=2;for(;C$S !== 1;){switch(C$S){case 2:H.close();C$S=1;break;case 4:H.close();C$S=2;break;}}});this.Qg.close();X5z=5;break;}}};M.prototype.wdc=function(){var S3w;S3w=2;for(;S3w !== 1;){switch(S3w){case 2:this.Nc.lEb(this);S3w=1;break;}}};M.prototype.ud=function(){var r3h,H;r3h=2;for(;r3h !== 20;){switch(r3h){case 2:this.Zh.K8b();r3h=5;break;case 12:var q9O="Erro";q9O+="r on MediaS";q9O+="ource ";q9O+="dest";q9O+="roy: ";H=this.Hg;this.Hg=void 0;l.wa(H) || H.Gt() || this.ac(q9O,H.error);r3h=20;break;case 5:this.w6();this.ab.Wa();r3h=3;break;case 3:this.o$.SAb();null === (H=this.sA) || void 0 === H?void 0:H.reset();this.Lx.forEach(function(J){var e2z;e2z=2;for(;e2z !== 1;){switch(e2z){case 2:J.reset();e2z=1;break;case 4:J.reset();e2z=2;break;}}});this.X.Pd(d.La.zm);this.xe.forEach(function(J){var m4n;m4n=2;for(;m4n !== 1;){switch(m4n){case 4:J.ud();m4n=8;break;case 2:J.ud();m4n=1;break;}}});this.xe=[];this.ck.clear();r3h=12;break;}}};M.prototype.suspend=function(){var u2n;u2n=2;for(;u2n !== 1;){switch(u2n){case 2:this.Qg.suspend();u2n=1;break;}}};M.prototype.resume=function(){var G6u;G6u=2;for(;G6u !== 1;){switch(G6u){case 2:this.Qg.resume();G6u=1;break;}}};M.prototype.Lo=function(){var j3X;j3X=2;for(;j3X !== 1;){switch(j3X){case 4:return this.Qg.Lo();break;case 2:return this.Qg.Lo();break;}}};M.prototype.OEb=function(){var n3W,H;n3W=2;for(;n3W !== 8;){switch(n3W){case 4:this.u6 || (this.u6=setInterval(this.Lb.gZa.bind(this.Lb),H.XW));this.N7 || (this.N7=setInterval(this.Lb.qDb.bind(this.Lb),H.LFa));this.dn && !this.r6 && (this.r6=setInterval(this.Lb.fZa.bind(this.Lb),H.G8));n3W=8;break;case 2:H=this.L;this.nE && clearTimeout(this.nE);this.nE=setTimeout(this.jW.bind(this),H.kha);n3W=4;break;}}};M.prototype.w6=function(){var S7K;S7K=2;for(;S7K !== 7;){switch(S7K){case 2:this.nE && (clearTimeout(this.nE),this.nE=void 0);this.u6 && (clearInterval(this.u6),this.u6=void 0);this.N7 && (clearInterval(this.N7),this.N7=void 0);S7K=4;break;case 4:this.r6 && (clearInterval(this.r6),this.r6=void 0);this.qN && (clearTimeout(this.qN),this.qN=void 0);this.bna && (clearTimeout(this.bna),this.bna=void 0);this.xh.w6();S7K=7;break;}}};M.prototype.play=function(){var Z15;Z15=2;for(;Z15 !== 1;){switch(Z15){case 2:this.Qg.play();Z15=1;break;}}};t_B=39;break;case 13:Object.defineProperties(M.prototype,{Qw:{get:function(){var k12;k12=2;for(;k12 !== 1;){switch(k12){case 2:return this.Nc.Qw;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{dn:{get:function(){var e3q;e3q=2;for(;e3q !== 1;){switch(e3q){case 2:return this.sEb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{oza:{get:function(){var o16;o16=2;for(;o16 !== 1;){switch(o16){case 2:return this.QN;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{D0:{get:function(){var i0$;i0$=2;for(;i0$ !== 1;){switch(i0$){case 2:return this.s7;break;}}},enumerable:!1,configurable:!0}});M.prototype.zc=function(H){var M$9;M$9=2;for(;M$9 !== 1;){switch(M$9){case 2:return this.aFb[H];break;}}};M.prototype.FY=function(){var I5h;I5h=2;for(;I5h !== 1;){switch(I5h){case 2:return p.default.time.fa() - this.Dma;break;case 4:return p.default.time.fa() % this.Dma;break;}}};M.prototype.O9a=function(){var D3h;D3h=2;for(;D3h !== 1;){switch(D3h){case 2:return (this.xe || []).reduce(function(H,J){var y9p,N;y9p=2;for(;y9p !== 4;){switch(y9p){case 2:N=J.O;f.jg.forEach(function(P){var F98;F98=2;for(;F98 !== 1;){switch(F98){case 2:N.eu[P] > H[P] && (H[P]=N.eu[P]);F98=1;break;}}});return H;break;}}},[0,0]);break;}}};M.prototype.IQ=function(){var e50,H;e50=2;for(;e50 !== 4;){switch(e50){case 2:H=0;l.forEach(this.Rf.O.ba.audio_tracks,function(J){var Y5k;Y5k=2;for(;Y5k !== 1;){switch(Y5k){case 2:l.forEach(J.streams,function(N){var Q2_;Q2_=2;for(;Q2_ !== 1;){switch(Q2_){case 2:H=Math.max(H,N.bitrate);Q2_=1;break;}}});Y5k=1;break;}}});return H;break;}}};M.prototype.gi=function(H){var M$B;M$B=2;for(;M$B !== 1;){switch(M$B){case 2:return this.xe[H];break;}}};M.prototype.RXb=function(){var Z0O,H;Z0O=2;for(;Z0O !== 5;){switch(Z0O){case 2:H=this.xe[0];return H.O.Wf.rg?this.xe[1]:H;break;}}};t_B=27;break;case 87:M.prototype.bab=function(H){var J59;J59=2;for(;J59 !== 1;){switch(J59){case 2:this.Ok && (this.Ok.G5b(H),this.v2a());J59=1;break;}}};M.prototype.iba=function(H){var d$M;d$M=2;for(;d$M !== 1;){switch(d$M){case 2:this.Ok && (this.Ok.F5b(H),this.v2a());d$M=1;break;}}};M.prototype.v2a=function(){var g5X,H;g5X=2;for(;g5X !== 4;){switch(g5X){case 1:var L_I="al";L_I+="lC";L_I+="omp";L_I+="leted";H=this.L;this.Ok.dQ() || (this.Ok=void 0,H.uO || this.QD.UA || this.Y7(L_I));g5X=4;break;case 9:g5X=this.Ok?2:6;break;case 2:g5X=this.Ok?1:4;break;}}};M.prototype.jW=function(){var l2s,H,J,N,P,W,V,S,U;l2s=2;for(;l2s !== 7;){switch(l2s){case 3:U=Math.max(U,1);this.nE && clearTimeout(this.nE);this.nE=setTimeout(this.jW.bind(this),U);l2s=7;break;case 2:(H=this,J=this.L,N=this.L0,P=this.xe[N],W=this.ab.md,V=this.X.eg() || 0,S=this.sB(N,V),U=J.kha);this.Nc.tg && void 0 !== P.NK && P.NK - V <= J.mfb && this.Nc.tg.FI(!0,this.yn.sessionId);this.X.getState() === d.La.Xc && ([f.u.J,f.u.T].forEach(function(fa){var U4i,Q,Oa,T,X,xa,Aa,qa;U4i=2;for(;U4i !== 35;){switch(U4i){case 24:l.wa(Aa) || Aa == qa.$hb || (qa.$hb=Aa);U4i=23;break;case 11:U4i=!H.Ao || fa === f.u.J?10:15;break;case 20:H.g7=X;Q=0 < X?X - 1:null;H.Lb.cDb(T,V,Aa.Jw,null !== Q?H.xe[Q].O.K:null,Q);U4i=17;break;case 12:xa=Aa.Xa;U4i=11;break;case 6:xa=Aa.Yf - V;xa < U && (U=xa);(Oa=H.Qb.Py[fa],T=Aa.O,X=T.Vb);U4i=12;break;case 21:var H_o="Unable to find request presenting ";H_o+="at";H_o+=" play";H_o+="erPts:";qa.ac(H_o,V);U4i=23;break;case 4:xa=qa.Xa;qa.OO(V);(Aa=H.ab.oy(V,W,fa)) && !Aa.he && (Aa=H.$h[fa].G3b);U4i=7;break;case 23:H.dEb(xa,V);H.ab.Vbc();U4i=35;break;case 17:S=H.sB(X,V);U4i=15;break;case 15:Oa.Q3b=Aa.Jw;T=Aa.Sa;T != Oa.Iya && (Oa.Iya=T,fa=H.xe[X].O.xy(fa,T),X=H.sB(X,Aa.Bd),H.Lb.mDb(fa,Aa.Bd,X,fa.O.Vb));Aa=Aa.bitrate;U4i=24;break;case 10:U4i=(H.ab.W7b(Aa,Aa.Jw),X > H.g7)?20:16;break;case 5:U4i=qa?4:35;break;case 16:H.QN && Aa.Jw != Oa.Q3b && H.Lb.rDb(Aa.Jw);U4i=15;break;case 1:qa=W.gb(fa);U4i=5;break;case 7:U4i=Aa?6:21;break;case 2:U4i=H.zc(fa)?1:35;break;}}}),this.ab.Lu(V,S));this.xh.Pl();l2s=3;break;}}};M.prototype.C6=function(H){var J7S;J7S=2;for(;J7S !== 1;){switch(J7S){case 4:return this.xh.C6(H);break;case 2:return this.xh.C6(H);break;}}};M.prototype.Pl=function(){var I5Z;I5Z=2;for(;I5Z !== 1;){switch(I5Z){case 2:return this.xh.Pl();break;case 4:return this.xh.Pl();break;}}};M.prototype.oO=function(H,J){var P2B,P,N;P2B=2;for(;P2B !== 13;){switch(P2B){case 5:P=H.mediaType;H.abort();H.ud();P2B=9;break;case 1:P2B=N?5:14;break;case 2:N=H.Xa;P2B=1;break;case 14:var D7e="abortR";D7e+="equest ";D7e+="with n";D7e+="o requestManagaer:";this.ac(D7e,H);P2B=13;break;case 9:H.ck && H.ck.clear();N.i1(H);this.$h[P].i1(H);P2B=6;break;case 6:!0 === J && this.xh.Pl();P2B=13;break;}}};M.prototype.TEb=function(H){var X_O,J,N;X_O=2;for(;X_O !== 5;){switch(X_O){case 2:var D_q="n";D_q+="o newAud";D_q+="i";D_q+="oTrack";D_q+=" set";(J=H.mediaType,N=this.Qb.hh[J]);l.wa(N.Ufb)?H.ac(D_q):(this.$h[J].pause(),N.W2=!0,H=this.Rf.Xv(f.u.T),N=this.Rf.O.getTrackById(N.Ufb.trackId),this.Lb.SCb(H,N));X_O=5;break;}}};M.prototype.dEb=function(H,J){var U02,N;U02=2;for(;U02 !== 4;){switch(U02){case 2:N=this.$h[H.mediaType];H=this.ab.S0(H.bb,H.mediaType,J,this.Nc.N1 || 0,function(P){var A01;A01=2;for(;A01 !== 1;){switch(A01){case 2:N.i1(P);A01=1;break;}}});l.wa(H) || this.xh.Pl();U02=4;break;}}};M.prototype.DBb=function(H){var X9Z,J,N,P;X9Z=2;for(;X9Z !== 8;){switch(X9Z){case 2:(J=H.mediaType,N=H.manifestIndex,P=H.streamId);H=this.ab.md.gb(J);J=this.xe[N].O.xy(J,P);this.MEb(H,J);this.L=this.J3a.$zb(J.mf,this.L);this.xe.forEach(function(W,V){var w9t,S;w9t=2;for(;w9t !== 5;){switch(w9t){case 2:S=W.O;S.vba || 0 === V || S.SR([W.Xv(f.u.T),W.Xv(f.u.J)]);w9t=5;break;}}});X9Z=8;break;}}};t_B=104;break;case 48:M.prototype.Gwa=function(){var h$o;h$o=2;for(;h$o !== 1;){switch(h$o){case 2:return this.X.hs(this.Rf.O);break;}}};M.prototype.zXa=function(H){var q8c,J,N,P;q8c=2;for(;q8c !== 11;){switch(q8c){case 8:q8c=!(H === this.FV + 1 && N.Wf.replace || J && P) || !this.X.hs(N)?7:6;break;case 2:q8c=H >= this.xe.length?1:5;break;case 1:return !1;break;case 7:return !1;break;case 5:(J=this.ab.md.Be(f.u.T),N=this.ab.md.Be(f.u.J));J=!J || J.$i;P=!N || N.$i;N=this.xe[H].O;q8c=8;break;case 6:H=N.mj[f.u.T];J=N.mj[f.u.J];J=!this.Ao || J && J.stream.te;return (!this.pt || H && H.stream.te) && J?!0:!1;break;}}};M.prototype.X7=function(){var L58;L58=2;for(;L58 !== 1;){switch(L58){case 2:this.W7(this.FV + 1);L58=1;break;}}};M.prototype.W7=function(H){var i8o,J;i8o=2;for(;i8o !== 6;){switch(i8o){case 1:return !1;break;case 5:J=this.xe[H];i8o=4;break;case 3:return !1;break;case 4:i8o=J.YTb || !J.O.Wf.replace?3:9;break;case 2:i8o=!this.zXa(H)?1:5;break;case 9:this.bFb(H);this.xh.Pl();return !0;break;}}};M.prototype.bFb=function(H){var u7o,J,N,P,W,V,S;u7o=2;for(;u7o !== 20;){switch(u7o){case 2:(J=this.xe[H],N=this.L,P=this.ab.md,W=P.gb(f.u.T));W=W?W.Ec:void 0;V=P.gb(f.u.J);V=V?V.Ec:void 0;u7o=3;break;case 11:this.Ep.jna();this.xh.Pl();u7o=20;break;case 3:var Z5E=",";Z5E+=" ";var P2N=", stre";P2N+="amingPt";P2N+="s: ";var M3x="switchMani";M3x+="fe";M3x+="st manifestIndex:";M3x+=" ";N.kj && this.Lb.fo(M3x + H + P2N + W + Z5E + V);N=this.Rf;W=N.O.Wf.rg;S=[];u7o=6;break;case 6:[f.u.J,f.u.T].forEach(function(U){var G8q;G8q=2;for(;G8q !== 1;){switch(G8q){case 2:J.O.zc(U) && (S[U]=J.Xv(U));G8q=1;break;}}});W?this.ab.Adc(N.O,J.O,S):P.kmb(J.O,S);this.NYa(H);J.IAa();u7o=11;break;}}};M.prototype.XFa=function(H){var S8h,N,J,V,P,W;S8h=2;for(;S8h !== 35;){switch(S8h){case 7:N=this.Qb.hh[f.u.T];S8h=6;break;case 25:var R1g=" ";R1g+="to";R1g+=":";R1g+=" ";var s4Q="sw";s4Q+="itchT";s4Q+="racks current: ";J.kj && this.Lb.fo(s4Q + V + R1g + W.trackId);N.Ufb={trackId:H};J=P.gb(f.u.T);S8h=22;break;case 16:var O5n="switc";O5n+="hTracks can't find ";O5n+="trackI";O5n+="d:";return (this.ac(O5n,H),!1);break;case 9:S8h=this.X.Vf()?8:7;break;case 6:S8h=N.W2?14:13;break;case 10:S8h=W < J.qda?20:19;break;case 14:var e6W="switchTracks rejected, previous switch st";e6W+="ill waiting to";e6W+=" start";return (this.ac(e6W),!1);break;case 2:J=this.L;S8h=1;break;case 15:V=this.Rf.Xv(f.u.T).trackId;S8h=27;break;case 26:return !1;break;case 13:P=this.ab.md;S8h=12;break;case 27:S8h=V === W.trackId?26:25;break;case 20:var z6M="swi";z6M+="tchTracks re";z6M+="jected, bufferLevelMs";return (this.ac(z6M,W,"<",J.qda),!1);break;case 17:S8h=!W?16:15;break;case 1:S8h=!this.pt?5:4;break;case 8:var S$p="switchTracks ";S$p+="reje";S$p+="cted, bufferin";S$p+="g";return (this.ac(S$p),!1);break;case 12:S8h=this.X.getState() === d.La.Xc?11:19;break;case 22:this.TEb(J);return !0;break;case 5:var N6c="swi";N6c+="tchTrac";N6c+="ks rejected, audio";N6c+=" disabled";return (this.ac(N6c),!1);break;case 19:H=H.lq;W=this.Rf.O.getTrackById(H);S8h=17;break;case 3:var F2T="switc";F2T+="hT";F2T+="racks rejected, prev";F2T+="ious swit";F2T+="ch still in progress: ";return (this.ac(F2T + JSON.stringify(this.Qb.JI)),!1);break;case 4:S8h=this.Qb.JI?3:9;break;case 11:W=this.ab.dy(P,f.u.J);S8h=10;break;}}};M.prototype.Rw=function(H,J){var L7z;L7z=2;for(;L7z !== 1;){switch(L7z){case 4:this.Qb.Rw(H,J);L7z=2;break;case 2:this.Qb.Rw(H,J);L7z=1;break;}}};M.prototype.oy=function(H,J,N){var j92;j92=2;for(;j92 !== 1;){switch(j92){case 2:return this.ab.oy(H,this.ab.oi,J,N);break;}}};M.prototype.ci=function(H){var g6O;g6O=2;for(;g6O !== 1;){switch(g6O){case 2:return this.Ep.ci(H);break;}}};M.prototype.Bta=function(H,J){var O54,f6H,N,P;O54=2;for(;O54 !== 6;){switch(O54){case 9:N.CDa();O54=6;break;case 8:J=P.MWb();try{f6H=2;for(;f6H !== 1;){switch(f6H){case 2:this.Lb.$Cb(J);f6H=1;break;}}}catch(W){var a2h="]";a2h+=" ";a2h+="[";var J_S="ex";J_S+="ce";J_S+="p";J_S+="ti";J_S+="on: [";this.H.error(J_S.concat(W.message,a2h).concat(W.byc,"]"));}O54=6;break;case 2:N=this.Qb;H=N.Yta(H,J);P=this.Zh.PCa;H && !H.wO && P.Ata(H);O54=3;break;case 3:O54=J?9:8;break;}}};t_B=59;break;case 39:M.prototype.stop=function(){var O29;O29=2;for(;O29 !== 1;){switch(O29){case 4:this.Qg.stop();O29=5;break;case 2:this.Qg.stop();O29=1;break;}}};M.prototype.uL=function(H,J){var f3N;f3N=2;for(;f3N !== 1;){switch(f3N){case 4:return this.Ep.uL(H,J);break;case 2:return this.Ep.uL(H,J);break;}}};M.prototype.seek=function(H,J){var G$s;G$s=2;for(;G$s !== 1;){switch(G$s){case 4:return this.Ep.seek(H,J);break;case 2:return this.Ep.seek(H,J);break;}}};M.prototype.pn=function(H){var L1M,J,N,P,W,V,l8M;L1M=2;for(;L1M !== 18;){switch(L1M){case 2:var N3N="b";N3N+="r";N3N+="an";N3N+="chO";N3N+="ffset:";var U4T="e";U4T+="ntry.manifest";U4T+="Offset:";var B1f="conten";B1f+="t";B1f+="P";B1f+="ts:";var e_G="unde";e_G+="rflow: going to BUFFERING at p";e_G+="layer pts:";(J=this,N=this.L,P=this.sB(this.L0,H));this.ac(e_G,H,B1f,P,U4T,this.Rf.Jy,N3N,this.ab.ng);W=N.qw;this.$h.forEach(function(S){var t_p;t_p=2;for(;t_p !== 1;){switch(t_p){case 2:W=Math.max(0,Math.min(W,S.Ava - H));t_p=1;break;}}});this.poa+=1;L1M=9;break;case 9:var r6n="u";r6n+="nde";r6n+="rf";r6n+="low";V=this.ab.md;f.jg.forEach(function(S){var F2P,qa,xa,U,fa;F2P=2;for(;F2P !== 6;){switch(F2P){case 5:F2P=N.kj?4:9;break;case 1:F2P=fa?5:6;break;case 9:N.kj && J.Lb.fo(qa);fa.rra();null === (U=fa.Th) || void 0 === U?void 0:U.Kdc();F2P=6;break;case 4:(qa=J.$h[S],xa=J.ab.SI(V,S));F2P=3;break;case 3:var y57=", toA";y57+="ppe";y57+="nd: ";var Z84=", f";Z84+="ragm";Z84+="en";Z84+="ts: ";var B6l=", completeStre";B6l+="a";B6l+="mingPts: ";var Z$o=",";Z$o+=" streamingPt";Z$o+="s:";Z$o+=" ";var g9V=",";g9V+=" par";g9V+="tial";g9V+="s";g9V+=": ";var t24=",";t24+=" ";t24+="comp";t24+="let";t24+="edBytes: ";var w1E=", co";w1E+="m";w1E+="pletedMs: ";var r37=",";r37+=" medi";r37+="aT";r37+="ype";r37+=": ";var c9C="un";c9C+="d";c9C+="e";c9C+="rflo";c9C+="w: ";qa=c9C + H + r37 + S + w1E + fa.RO + t24 + xa + g9V + fa.Xa.gG + Z$o + fa.Ec + B6l + fa.zt + Z84 + JSON.stringify(fa.Xa.ma) + y57 + (qa && qa.Yfa());F2P=9;break;case 2:fa=V.Be(S);F2P=1;break;}}});this.Rf.O.li();this.emit(r6n);this.G7(2);this.xh.Pl();L1M=12;break;case 10:P=this.Nc.Ac.get();P=P.confidence?P.Ya.xa:0;W > N.aUb && P > N.$Tb && this.Aoa();L1M=18;break;case 12:L1M=this.Jt?11:10;break;case 11:try{l8M=2;for(;l8M !== 1;){switch(l8M){case 4:this.Bta(d.La.ae);l8M=5;break;case 2:this.Bta(d.La.ae);l8M=1;break;}}}catch(S){var p_v="Hindsight: Error whe";p_v+="n evaluating Q";p_v+="oE at Bu";p_v+="ffering:";p_v+=" ";R7xOY.e_n(6);this.Lb.xp(R7xOY.p3p(S,p_v));}L1M=10;break;}}};M.prototype.ro=function(H){var J6B;J6B=2;for(;J6B !== 1;){switch(J6B){case 2:return this.Ep.ro(H);break;}}};M.prototype.fy=function(H,J,N){var c_Z;c_Z=2;for(;c_Z !== 1;){switch(c_Z){case 2:return this.Ep.fy(H,J,N);break;case 4:return this.Ep.fy(H,J,N);break;}}};M.prototype.NYa=function(H){var J$h,J;J$h=2;for(;J$h !== 3;){switch(J$h){case 2:this.FV=H;J=this.xe[H];this.Lb.eDb(H,J);this.Lb.iZa(J.O.eu);J$h=3;break;}}};M.prototype.wW=function(H,J,N){var R85,V,S,qa,U,fa,P,W;R85=2;for(;R85 !== 34;){switch(R85){case 1:R85=this.Lo()?5:4;break;case 5:var F4G="addManifest: pip";F4G+="elines alrea";F4G+="dy shutdown";this.ac(F4G);R85=34;break;case 4:J || (J={});(V=this.ab.md.Be(f.u.T),S=this.ab.md.Be(f.u.J));R85=9;break;case 26:this.xe[V]=H;H.a2a();J.replace || this.ab.IGb(fa,S,U);J=this.Qb.Py[f.u.T].tK;R85=22;break;case 8:var C1Q="addMani";C1Q+="fest ignored, pipel";C1Q+="ines already set EOS:";this.ac(C1Q,V.Ps,S.Ps);R85=34;break;case 19:var d83="v";d83+="i";d83+="deo_tr";d83+="a";d83+="cks";var u3A="au";u3A+="di";u3A+="o";u3A+="_tra";u3A+="cks";N=[u3A,d83];qa=this.O9a();J.replace && N.forEach(function(xa,Aa){var X0F,Oa,T;X0F=2;for(;X0F !== 3;){switch(X0F){case 1:X0F=Oa?5:3;break;case 2:Oa=fa.OB(Aa);X0F=1;break;case 8:Oa=fa.OB(Aa);X0F=2;break;case 5:T=P.xe[0].O;Object.keys(Oa).forEach(function(X){var G1z,Q;G1z=2;for(;G1z !== 5;){switch(G1z){case 2:Q=T.xy(Aa,X);Q && Q.te && (Oa[X].E9(Q),X=fa.eu,X[Aa] > qa[Aa] && (qa[Aa]=X[Aa]));G1z=5;break;}}});X0F=3;break;case 7:X0F=Oa?2:0;break;}}});R85=16;break;case 12:U=J.Ta;H=g.rka.create({Vb:V,ba:H,Rq:N,plb:J.UG || [this.Rf.yaa(f.u.T),this.Rf.yaa(f.u.J)],rg:!1,acb:!!J.replace,Tl:!!J.Tl,Xf:(0,f.bAa)(!!J.Upa,!!J.Q2),ca:S,Ta:U,Lb:this.Lb,Qt:this.mYa.bind(this),mc:this,config:this.L,H:this.H,xh:this.xh,Ep:this.Ep,tg:this.t_a?this.Nc.tg:void 0,yF:this.yF});fa=H.O;(J.ZIb || this.tXa) && this.Qb.Rw(J.ZIb || this.tXa,fa.N);R85=19;break;case 2:(P=this,W=this.L);R85=1;break;case 9:R85=!J.xvc && (this.pt && V.Ps || this.Ao && S.Ps)?8:7;break;case 7:var Z6D="addManifest in fastplay but n";Z6D+="ot drm manifest, leaving s";Z6D+="pace for i";Z6D+="t";J.D0 && (this.s7=!0);V=this.xe.length;J.replace && 1 !== V?V=1:this.Rf.O.Wf.rg && !J.replace && 1 === V && (this.ac(Z6D),V=this.xe[0].clone(),this.xe.push(V),V=this.xe.length);S=J.ca || 0;R85=12;break;case 22:var v5O=",";v5O+=" ";var h9c=") la";h9c+="stStreamAppen";h9c+="ded: (";var z1D=",";z1D+=" ";var J9$=" strea";J9$+="mC";J9$+="oun";J9$+="t: (";var S8D=" p";S8D+="laye";S8D+="r";S8D+="Sta";S8D+="te: ";var Y$j="addMan";Y$j+="if";Y$j+="est, curr";Y$j+="entPts";Y$j+=": ";N=this.Qb.Py[f.u.J].tK;W.kj && this.Lb.fo(Y$j + this.X.eg() + S8D + this.X.getState() + J9$ + H.Xv(f.u.T).Lc.length + z1D + H.Xv(f.u.J).Lc.length + h9c + J + v5O + N + ")");this.pt && l.wa(J) || this.Ao && l.wa(N) || (H.O.SR([H.Xv(f.u.T),H.Xv(f.u.J)]),this.X7());R85=34;break;case 16:var y55="boole";y55+="a";y55+="n";N.forEach(function(xa,Aa){var I6S,Oa;I6S=2;for(;I6S !== 5;){switch(I6S){case 2:Oa=fa.OB(Aa);Oa && Object.keys(Oa).forEach(function(T){var F2B;F2B=2;for(;F2B !== 1;){switch(F2B){case 2:Oa[T].npb(p.default.Cq()[Aa],fa.Cy()?W.Aeb:0);F2B=1;break;}}});I6S=5;break;}}});H.EW=y55 === typeof J.CIb?J.CIb:!0;this.xe[V] && this.xe[V].ud();R85=26;break;}}};M.prototype.f8=function(H){var z4_;z4_=2;for(;z4_ !== 1;){switch(z4_){case 4:return this.Ep.f8(H);break;case 2:return this.Ep.f8(H);break;}}};M.prototype.rJ=function(H){var q__,J,N,P,W,V;q__=2;for(;q__ !== 7;){switch(q__){case 9:var t2G="d";t2G+="rmRead";t2G+="y";R7xOY.e_n(6);this.X.dga(R7xOY.p3p("",H),J);J && (this.$h.forEach(function(S){var i1y;i1y=2;for(;i1y !== 5;){switch(i1y){case 2:P.baa && S.N7a();S.rJ();i1y=5;break;}}}),P.Cha && this.y7(),this.Rf.O.Wf.rg && this.W7(this.Ep.bE?this.Ep.bE.Vb:this.FV + 1),P.uO || (null === (N=this.Ok) || void 0 === N?0:N.dQ()) || this.QD.UA || this.Y7(t2G),this.Ep.jna());q__=7;break;case 2:P=this.L;q__=1;break;case 1:q__=!this.Lo()?5:7;break;case 5:var X5B=" ";X5B+="re";X5B+="ad";X5B+="yState";X5B+=": ";var m9g=" for mov";m9g+="ieId";m9g+=": ";var G8C=",";G8C+=" ";var s$0="dr";s$0+="mRe";s$0+="ady at streaming pts: ";l.wa(J) && (J=!0);(W=this.ab.md.Be(f.u.T),V=this.ab.md.Be(f.u.J));P.kj && this.Lb.fo(s$0 + (W?W.Ec:null) + G8C + (V?V.Ec:null) + m9g + H + X5B + J);q__=9;break;}}};t_B=48;break;case 72:M.prototype.Y7=function(H){var J2n,J;J2n=2;for(;J2n !== 3;){switch(J2n){case 2:var g8M="Adop";g8M+="tingDat";g8M+="a";g8M+=" still has lock:";var b6u="w";b6u+="ipeHe";b6u+="ad";b6u+="erCache:";R7xOY.o4M(6);H=R7xOY.p3p(H,b6u);this.QD.UA && this.Ll(g8M + H);J=this.L;J2n=4;break;case 4:J.Jda || (J.kj && this.Lb.fo(H),this.Nc.j9(),this.Ok && (this.Ok=void 0));J2n=3;break;}}};M.prototype.yXa=function(H){var P1g,N,P,W,V;P1g=2;for(;P1g !== 13;){switch(P1g){case 2:var A0Q="Previously adopted ";A0Q+="request list still";A0Q+=" retained was unexpect";A0Q+="ed";N=this;(null === (P=this.Ok) || void 0 === P?0:P.dQ()) && this.Ll(A0Q);this.Ok=void 0;W=this.L;P1g=3;break;case 8:var P25="ch";P25+="e";P25+="ckFo";P25+="rHcdStar";P25+="t";this.Lb.An(P25);this.xe.forEach(function(S){var O2D;O2D=2;for(;O2D !== 1;){switch(O2D){case 2:S.O.K === H && (V=S);O2D=1;break;}}});return this.Nc.tg.e5b(H,V?V.O:void 0).then(function(S){var h7F,U,fa;h7F=2;for(;h7F !== 8;){switch(h7F){case 2:var s$X="c";s$X+="heckFor";s$X+="H";s$X+="cdE";s$X+="nd";N.Lb.An(s$X);h7F=1;break;case 1:h7F=l.wa(S)?5:4;break;case 5:var q1s="headerCacheDataNot";q1s+="Fo";q1s+="und";return (W.uO || N.QD.UA || N.Y7(q1s),Promise.resolve());break;case 4:var u8B="a";u8B+="d";u8B+="optHcdS";u8B+="ta";u8B+="rt";(U=N.ab.md.Be(f.u.T),fa=N.ab.md.Be(f.u.J));N.Lb.An(u8B);return N.QD.Gha(function(){var Y3S,qa,xa;Y3S=2;for(;Y3S !== 7;){switch(Y3S){case 3:var Z4i="ad";Z4i+="optH";Z4i+="c";Z4i+="d";Z4i+="End";N.qYa=S;N.Lb.An(Z4i);return Promise.all([qa,xa]);break;case 2:qa=Promise.resolve();N.Ao && (qa=J(fa,S));xa=Promise.resolve();!N.pt || W.zab && !qa || (xa=W.zab?qa.then(function(Aa){var X3q;X3q=2;for(;X3q !== 1;){switch(X3q){case 4:return Aa?J(U,S):Promise.resolve();break;case 2:return Aa?J(U,S):Promise.resolve();break;}}}):J(U,S));Y3S=3;break;}}});break;}}}).then(function(){var L8d,S;L8d=2;for(;L8d !== 5;){switch(L8d){case 2:var C_S="adopt";C_S+="edComplet";C_S+="edRequests";W.uO || (null === (S=N.Ok) || void 0 === S?0:S.dQ()) || N.QD.UA || !N.X.hs(N.Rf.O) || N.Y7(C_S);L8d=5;break;}}}).catch(function(S){var v5D;v5D=2;for(;v5D !== 1;){switch(v5D){case 4:N.ac("",S);v5D=4;break;case 2:var f9Y="headerCache:lo";f9Y+="okupDat";f9Y+="aPromise caught error:";N.ac(f9Y,S);v5D=1;break;}}});break;case 3:P1g=!this.vFb || !this.Nc.tg?9:8;break;case 9:return (this.Nc.Fqa(),Promise.resolve());break;}}function J(S,U){var K6s,Aa,Oa,T,X,fa,qa,xa;K6s=2;for(;K6s !== 10;){switch(K6s){case 12:U.j8(qa.header,!U.Wf.rg && !U.Tl && fa === f.u.J,!0) && (void 0 !== S.XK && S.iS(S.XK),xa=U.Yr(fa,Aa).stream.ma.kp(S.Ec,void 0,!0),U=Oa.Zl(xa),Oa=U.ca,(U=U.hua(S.Ec)) && 0 < U.ue && (Oa=U.ue),S.Ec !== Oa && (S.CL(Oa,xa),N.xoa(fa,Oa)),xa=N.Tzb(S,qa.data).then(function(){var n8D;n8D=2;for(;n8D !== 1;){switch(n8D){case 2:return Aa;break;}}}),T.eVb=!0,S=N.Zh,qa=qa.header.bitrate,fa === f.u.T?S.TC(qa):S.EL(qa));K6s=11;break;case 9:X.qy=U.qy;K6s=8;break;case 13:U=N.Rf.O;K6s=12;break;case 5:(Aa=qa.Sa,Oa=qa.header.stream,T=N.Qb.hh[fa],X=N.Qb.YC[fa]);l.wa(U.zF) || N.Zh.Qlb(U.zF,U.Fq,U.Gq);X.XB=U.XB;K6s=9;break;case 1:K6s=qa?5:11;break;case 6:K6s=!qa.header?14:13;break;case 14:var E7u="adoptPipeli";E7u+="ne no header for st";E7u+="reamId:";return (S.Ll(E7u,Aa),xa);break;case 7:return xa;break;case 11:return xa;break;case 8:K6s=!S.$lc(Aa)?7:6;break;case 2:(fa=S.mediaType,qa=U[fa],xa=Promise.resolve(void 0));K6s=1;break;}}}};M.prototype.Tzb=function(H,J){var p7p,P,W,V,S,U,fa,N;p7p=2;for(;p7p !== 9;){switch(p7p){case 4:(P=H.Bca,W=P.G,V=Math.min(this.xe[0].Ta || Infinity,P.Pc || Infinity),S=H.mediaType,U=this.Qb.hh[S]);return this.QD.Gha(function(){var a5A,xa;function qa(){var Y0T,Aa;Y0T=2;for(;Y0T !== 5;){switch(Y0T){case 2:var X0f="adoptData, not ";X0f+="adopting fai";X0f+="led ";X0f+="me";X0f+="diaRequest:";var D5n="ado";D5n+="ptData, not adopti";D5n+="ng aborted mediaRequest:";Aa=J.shift();7 === Aa.readyState?H.ac(D5n,Aa.toString()):6 === Aa.readyState?(H.ac(X0f,Aa.toString()),N.oO(Aa,!1)):H.Ec >= Aa.Ud && H.Ec < Aa.Pc && (H.Ec < V || !l.Oa(V))?(xa.push(N.Uzb(H,Aa).then(function(){var W4Y;W4Y=2;for(;W4Y !== 1;){switch(W4Y){case 2:Aa.complete && N.bab(Aa);W4Y=1;break;case 4:Aa.complete || N.bab(Aa);W4Y=5;break;}}})),H.ggc(Aa.Pc),l.Oa(V) && H.Ec >= V && N.Lb.Zna(W,Aa.Pc),S === f.u.T && N.Zh.TC(Aa.bitrate),Aa.complete?(U.Dw+=Aa.duration,Aa.N4b && (U.E0+=Aa.duration),fa=Aa):(N.Ok || (N.Ok=new A.dIa(N.H)),N.Ok.push(Aa))):N.oO(Aa,!1);Y0T=5;break;}}}a5A=2;for(;a5A !== 3;){switch(a5A){case 7:a5A=1 >= J.length?2:8;break;case 1:a5A=0 < J.length?5:4;break;case 5:qa();a5A=1;break;case 14:return Promise.all(xa);break;case 4:return Promise.all(xa);break;case 2:xa=[];a5A=1;break;}}}).then(function(){var e9p,xa,qa;e9p=2;for(;e9p !== 8;){switch(e9p){case 4:qa=N.xe[P.O.Vb];xa=H.aua(H.Ec);void 0 !== xa?(H.Xm=xa,H.pd=qa.O.mj[S].stream.Zl(H.Xm)):H.Xm=H.Wd?H.Wd.index + 1:H.Xm + 1;e9p=8;break;case 2:fa && H.cab(fa);e9p=5;break;case 5:e9p=fa || (null === (qa=N.Ok) || void 0 === qa?0:qa.dQ())?4:8;break;}}});break;case 14:return Promise.resolve();break;case 5:return Promise.resolve();break;case 1:p7p=0 === J.length?5:4;break;case 2:N=this;p7p=1;break;}}};M.prototype.Uzb=function(H,J){var a1f,N,P;a1f=2;for(;a1f !== 3;){switch(a1f){case 2:var B0N=",";B0N+=" p";B0N+="ts";B0N+=": ";var d8l=", ";d8l+="s";d8l+="tate: ";var t2E="ad";t2E+="optM";t2E+="ediaRequ";t2E+="est: type";t2E+=": ";(N=this,P=H.mediaType);this.L.kj && this.Lb.fo(t2E + P + d8l + J.readyState + B0N + J.Ud);this.xoa(P,J.Ud);a1f=4;break;case 4:return H.Xa.eHb(J).catch(function(W){var L5Q;L5Q=2;for(;L5Q !== 1;){switch(L5Q){case 4:N.Ll("",W);L5Q=2;break;case 2:var r2Z="Error ad";r2Z+="optin";r2Z+="g request";r2Z+="s";N.Ll(r2Z,W);L5Q=1;break;}}});break;}}};M.prototype.NZa=function(H,J){var A$e,N;A$e=2;for(;A$e !== 9;){switch(A$e){case 2:N=this;void 0 === J && (J=C.N5.dqa);this.ab.md.FDa(H,J);this.sA.reset();(void 0 === H?f.jg:[H]).forEach(function(P){var w2q;w2q=2;for(;w2q !== 1;){switch(w2q){case 2:N.zc(P) && (N.Lx[P].reset(),N.xEb(P),N.Zh.a9b(P));w2q=1;break;}}});A$e=9;break;}}};M.prototype.enb=function(){var X$Z,H;X$Z=2;for(;X$Z !== 5;){switch(X$Z){case 2:H=this;f.jg.forEach(function(J){var U_8,N;U_8=2;for(;U_8 !== 5;){switch(U_8){case 2:null === (N=H.Lx[J]) || void 0 === N?void 0:N.stop();U_8=5;break;}}});X$Z=5;break;}}};M.prototype.S1=function(H){var Q6r,J;Q6r=2;for(;Q6r !== 4;){switch(Q6r){case 2:J=this;(void 0 === H?f.jg:[H]).forEach(function(N){var t7o,P;t7o=2;for(;t7o !== 5;){switch(t7o){case 2:null === (P=J.Lx[N]) || void 0 === P?void 0:P.resume();t7o=5;break;}}});return Promise.resolve();break;}}};M.prototype.y7=function(){var r6r,H,J,N;r6r=2;for(;r6r !== 4;){switch(r6r){case 2:(H=this,N=f.jg);null === (J=this.sA) || void 0 === J?void 0:J.reset();N.forEach(function(P){var b4v,W;b4v=2;for(;b4v !== 5;){switch(b4v){case 2:null === (W=H.Lx[P]) || void 0 === W?void 0:W.resume();b4v=5;break;}}});r6r=4;break;}}};M.prototype.xEb=function(H){var t0Z,J;t0Z=2;for(;t0Z !== 3;){switch(t0Z){case 2:J=this.Qb.hh[H];this.Qb.Py[H].Iya=void 0;J.Dw=0;t0Z=4;break;case 4:J.E0=0;t0Z=3;break;case 14:J.E0=3;t0Z=9;break;}}};M.prototype.xoa=function(H,J){var I5r,N,P,W;I5r=2;for(;I5r !== 9;){switch(I5r){case 2:N=this.ab.md;I5r=1;break;case 7:N=this.ab.md;I5r=4;break;case 1:I5r=N.gb(H)?5:9;break;case 6:I5r=N.gb(H)?1:2;break;case 5:var F$o="pts";F$o+="ch";F$o+="an";F$o+="ged";(P=this.Qb.hh[H],W=this.Qb.YC[H]);l.wa(P.kq) && (P.kq=J,H === f.u.J && this.pt && (H=this.Qb.hh[f.u.T],l.wa(H.kq) && (N=N.gb(f.u.T),N.iS(J)),this.emit(F$o,J)));l.wa(W.aX) && (W.aX=J);I5r=9;break;}}};t_B=87;break;case 104:M.prototype.GBb=function(H){var W$J,J,N;W$J=2;for(;W$J !== 8;){switch(W$J){case 2:J=H.request;H=H.mediaType;N=J.Xa.bb;N.D5b(H);W$J=3;break;case 3:J.Vr && this.Lb.XCb(J);J.Rm && this.Lb.kDb(H,J.O.Vb,N.G);W$J=8;break;}}};M.prototype.MEb=function(H,J){var D$p;D$p=2;for(;D$p !== 1;){switch(D$p){case 2:this.Qb.Py[H.mediaType].tK={id:J.Sa,index:J.Ag,bitrate:J.bitrate,Ya:J.Jb && J.Jb.confidence && J.Jb.Ya?J.Jb.Ya.xa:0,location:J.location};D$p=1;break;}}};M.prototype.Hxa=function(H){var g7O,fa,qa,xa,J,N,P,W,V,S,U;g7O=2;for(;g7O !== 11;){switch(g7O){case 12:return V;break;case 5:(fa=U.md,qa=fa.Be(f.u.T),xa=fa.Be(f.u.J));V.vspts=null !== (J=null === xa || void 0 === xa?void 0:xa.Ec) && void 0 !== J?J:0;V.aspts=null !== (N=null === qa || void 0 === qa?void 0:qa.Ec) && void 0 !== N?N:0;V.vbuflbytes=null !== (P=null === xa || void 0 === xa?void 0:xa.Yo.ga) && void 0 !== P?P:0;g7O=8;break;case 2:(V={},S=this.$h,U=this.ab);g7O=1;break;case 6:V.abuflmsec=U.dy(fa,f.u.T);H && (V.a=null === qa || void 0 === qa?void 0:qa.Xa.ma.toJSON(),V.v=null === xa || void 0 === xa?void 0:xa.Xa.ma.toJSON());g7O=13;break;case 1:g7O=!U.md.Qf?5:12;break;case 13:H && S && (H=S[f.u.J],S=S[f.u.T],V.atoappend=null === H || void 0 === H?void 0:H.Yfa(),V.vtoappend=null === S || void 0 === S?void 0:S.Yfa());g7O=12;break;case 8:V.abuflbytes=null !== (W=null === qa || void 0 === qa?void 0:qa.Yo.ga) && void 0 !== W?W:0;V.vbuflmsec=U.dy(fa,f.u.J);g7O=6;break;}}};M.prototype.SZb=function(H){var R4s,P,W,V,S,J,N;R4s=2;for(;R4s !== 8;){switch(R4s){case 5:(P=this.Qb.Py[H],W=this.ab.SI(J,H));P=P.tK?P.tK.bitrate:0;(V=N.Xa.DBa,S=this.ab.ng);return {type:H,availableMediaBuffer:p.default.Cq()[H] - W,completeBuffer:J.Nh(H),incompleteBuffer:V,playbackBitrate:N.$hb,streamingBitrate:P,streamingTime:N.Ec + S,usedMediaBuffer:W,toappend:N.ymc};break;case 2:(J=this.ab.md,N=J.gb(H));R4s=1;break;case 1:R4s=N?5:8;break;}}};M.prototype.Sdc=function(){var e20,H;e20=2;for(;e20 !== 5;){switch(e20){case 2:var T8X="reque";T8X+="stGarbageCollectio";T8X+="n";H={type:T8X,time:p.default.time.fa()};(0,v.kb)(this,H.type,H);e20=5;break;}}};M.prototype.Dr=function(H,J,N,P,W,V,S){var x_3;x_3=2;for(;x_3 !== 5;){switch(x_3){case 2:var O5M="NFE";O5M+="rr_M";O5M+="C_Streaming";O5M+="Fail";O5M+="ure";void 0 === S && (S=!1);this.M7 || (l.wa(N) && (N=O5M),this.M7=!0,this.Lb.oDb(N,H,P,W,V,void 0 !== J?J:this.L0,S));x_3=5;break;}}};M.prototype.mYa=function(){var I7X;I7X=2;for(;I7X !== 5;){switch(I7X){case 2:var Z83="Netw";Z83+="ork";Z83+=" fai";Z83+="lures";Z83+=" reset!";this.ac(Z83);this.xh.Pl();I7X=5;break;}}};M.prototype.HBb=function(H,J){var j5E;j5E=2;for(;j5E !== 5;){switch(j5E){case 2:J=(0,m.S9a)(J);this.oXa[H.mediaType]=J;j5E=5;break;}}};Object.defineProperties(M.prototype,{JI:{set:function(H){var l4G;l4G=2;for(;l4G !== 1;){switch(l4G){case 2:this.Qb.JI=H;l4G=1;break;}}},enumerable:!1,configurable:!0}});return M;break;case 59:M.prototype.e2a=function(H,J){var J92;J92=2;for(;J92 !== 5;){switch(J92){case 2:R7xOY.e_n(8);(0,t.assert)(R7xOY.p3p(0,J));return this.xe[J].fKb(f.u.J,H);break;}}};M.prototype.sB=function(H,J){var c8D,P,N;c8D=2;for(;c8D !== 7;){switch(c8D){case 4:P=N.ng;c8D=3;break;case 5:c8D=N?4:8;break;case 2:void 0 === H && (H=this.L0);N=this.ab.FUb(J,H);c8D=5;break;case 3:l.Oa(P) || (P=this.xe[H].Jy);R7xOY.e_n(0);return R7xOY.h1T(J,P);break;case 8:(N=this.ab.$ta(H),0 < N.length && (N=N[0],P=N.ng));c8D=3;break;}}};M.prototype.tX=function(H,J){var d9p,N,P;d9p=2;for(;d9p !== 7;){switch(d9p){case 2:void 0 === H && (H=this.L0);N=this.ab.EUb(J,H);d9p=5;break;case 4:P=N.ng;d9p=3;break;case 3:l.Oa(P) || (P=this.xe[H].Jy);R7xOY.o4M(6);return R7xOY.h1T(P,J);break;case 5:d9p=N?4:8;break;case 8:(N=this.ab.$ta(H),0 < N.length && (N=N[0],P=N.ng));d9p=3;break;}}};M.prototype.dO=function(){var y4g,H;y4g=2;for(;y4g !== 4;){switch(y4g){case 8:y4g=H && this.Qb.JI?4:9;break;case 2:H=this.X.Vf();y4g=1;break;case 1:y4g=H || this.Qb.JI?5:4;break;case 5:(H && this.Lb.Yna(),this.jW(),this.X.Pd(d.La.Xc),this.xh.Pl());y4g=4;break;}}};M.prototype.Aoa=function(){var U_E,H,J;U_E=2;for(;U_E !== 3;){switch(U_E){case 2:(H=this,J=this.X.Vf());this.ab.md.aga(J,function(N){var b3F;b3F=2;for(;b3F !== 1;){switch(b3F){case 2:return H.$h[N]?H.$h[N].Yfa():"";break;}}});this.qN && (clearTimeout(this.qN),this.qN=void 0);this.sA.I5b();U_E=3;break;}}};M.prototype.WZa=function(H){var w2S,J,r6g;w2S=2;for(;w2S !== 7;){switch(w2S){case 2:H.$i=!0;H.Ps=!1;J=this.X.eg() || 0;w2S=4;break;case 8:try{r6g=2;for(;r6g !== 1;){switch(r6g){case 2:this.Bta(d.La.ND,{Ta:H.Pc});r6g=1;break;}}}catch(N){var v2f="Hindsight: Error ev";v2f+="alua";v2f+="ting ";v2f+="QoE at endOfStream: ";R7xOY.e_n(6);this.Lb.xp(R7xOY.p3p(N,v2f));}w2S=7;break;case 4:H.OO(J);this.Qb.uA();w2S=9;break;case 9:w2S=this.Jt && H.mediaType === f.u.J?8:7;break;}}};M.prototype.oEb=function(){var f_7,H;f_7=2;for(;f_7 !== 5;){switch(f_7){case 2:H=this.Nc.Ac;H && (H=H.get()) && H.avtp && this.Qw.lGb({avtp:H.avtp.xa});f_7=5;break;}}};M.prototype.VEb=function(){var m0C,H,J,N;m0C=2;for(;m0C !== 4;){switch(m0C){case 2:this.X.Pd(d.La.Yh);(H=this.ab.md,J=H.Be(f.u.T),N=H.Be(f.u.J));m0C=5;break;case 5:var V1W="startup, playerState no longer ST";V1W+="ARTIN";V1W+="G:";var o9v="fa";o9v+="iled";o9v+=" to start audio pipeline";var H1_="failed to s";H1_+="tar";H1_+="t vide";H1_+="o";H1_+=" pipeline";this.Ao && !this.b_a(N)?this.ac(H1_):this.pt && !this.b_a(J)?this.ac(o9v):(this.sZa=!0,this.xe[0].O.vba=!0,J=this.Qb.hh[f.u.J],N=this.Qb.hh[f.u.T],(J && 0 < J.Dw || N && 0 < N.Dw) && this.Lb.YCb(String(H.O.K),N?N.Dw:0,J?J.Dw:0,N?N.E0:0,J?J.E0:0),this.X.scb()?(this.G7(0),this.pt && (H=this.Rf.yaa(f.u.T),J=this.Rf.Xv(f.u.T).trackId,this.Lb.aDb(H,J))):this.ac(V1W,this.X.getState()));m0C=4;break;}}};M.prototype.b_a=function(H){var p3Q,J,N;p3Q=2;for(;p3Q !== 14;){switch(p3Q){case 2:(J=H.mediaType,N=this.Qb.BZb(H));p3Q=1;break;case 6:return !0;break;case 9:return !0;break;case 8:N=this.Rf.O;H.O.$3a(H,{offset:0,XE:!N.Wf.rg && !N.Tl && J === f.u.J,py:!this.Qb.hh[J].eVb});p3Q=6;break;case 4:H=H.track.Lc[N];p3Q=3;break;case 3:p3Q=H.Yr()?9:8;break;case 1:p3Q=l.wa(N)?5:4;break;case 5:var A1B="NFE";A1B+="rr_MC";A1B+="_StreamingInitFailure";var Y8D="startPi";Y8D+="peline fail";Y8D+="ed";return (this.Lo() || this.Dr(Y8D,H.bb.O.Vb,A1B),!1);break;}}};M.prototype.G7=function(H,J){var e$t,N,P,W,V,S;e$t=2;for(;e$t !== 19;){switch(e$t){case 2:(N=this,P=this.L,W=this.Qb.hh[f.u.T] || ({}),V=this.Qb.hh[f.u.J] || ({}),S=this.Qb.YC[f.u.J] || ({}));(this.Qb.YC[f.u.T] || ({})).aX=void 0;S.aX=void 0;this.X.Pd(2 === H?d.La.Wg:d.La.ae);e$t=3;break;case 7:var z2y="st";z2y+="a";z2y+="rtBuffering";this.emit(z2y);f.jg.forEach(function(U){var m7A;m7A=2;for(;m7A !== 5;){switch(m7A){case 1:(U.vqa=0,U.seeking=0 === H || 1 === H,U.rra());m7A=5;break;case 2:m7A=(U=N.ab.md.Be(U))?1:5;break;}}});this.Dma=p.default.time.fa();e$t=13;break;case 3:this.Lb.VCb(J);e$t=9;break;case 10:this.X.Vf() && (this.qN=setTimeout(function(){var E2y;E2y=2;for(;E2y !== 1;){switch(E2y){case 2:N.Qb.uA();E2y=1;break;}}},P.DC));this.xh.Pl();e$t=19;break;case 9:this.sA.reset();this.Rf.O.XAa();e$t=7;break;case 13:W.Im=V.Im=this.Dma;0 === H && (!this.Ao || 0 < V.Dw) && (!this.pt || 0 < W.Dw) && this.Qb.uA();P.cY && (this.bna=setTimeout(function(){var I14;I14=2;for(;I14 !== 1;){switch(I14){case 4:N.oEb();I14=7;break;case 2:N.oEb();I14=1;break;}}},P.hta));e$t=10;break;}}};t_B=72;break;case 2:Object.defineProperties(M.prototype,{addEventListener:{get:function(){var H2t;H2t=2;for(;H2t !== 1;){switch(H2t){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{removeEventListener:{get:function(){var E3m;E3m=2;for(;E3m !== 1;){switch(E3m){case 4:return this.removeListener.bind(this);break;case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{p6b:{get:function(){var Y8I;Y8I=2;for(;Y8I !== 1;){switch(Y8I){case 2:return this.Hg.Yc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{mediaSourceId:{get:function(){var u3V;u3V=2;for(;u3V !== 1;){switch(u3V){case 2:return this.Hg?this.Hg.ayc:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{pt:{get:function(){var I27;I27=2;for(;I27 !== 1;){switch(I27){case 2:return this.zc(f.u.T);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Ao:{get:function(){var X5I;X5I=2;for(;X5I !== 1;){switch(X5I){case 2:return this.zc(f.u.J);break;case 4:return this.zc(f.u.J);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{attributes:{get:function(){var N1I;N1I=2;for(;N1I !== 1;){switch(N1I){case 4:return this.oXa;break;case 2:return this.oXa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Ph:{get:function(){var r9F;r9F=2;for(;r9F !== 1;){switch(r9F){case 2:return this.ck;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{L0:{get:function(){var c3x;c3x=2;for(;c3x !== 1;){switch(c3x){case 2:return 0 <= this.g7?this.g7:0;break;case 4:return 3 < this.g7?this.g7:1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Rf:{get:function(){var m$r;m$r=2;for(;m$r !== 1;){switch(m$r){case 2:return this.xe[this.FV];break;}}},enumerable:!1,configurable:!0}});t_B=13;break;case 27:M.prototype.RP=function(){var v3H;v3H=2;for(;v3H !== 1;){switch(v3H){case 2:return this.xe.length;break;case 4:return this.xe.length;break;}}};M.prototype.Oxa=function(H,J){var c5R;c5R=2;for(;c5R !== 9;){switch(c5R){case 1:return !0;break;case 7:c5R=H != J?8:1;break;case 2:c5R=H === J?1:5;break;case 5:H=this.xe[H];J=this.xe[J];return H.O.Wf.rg && J.O.Wf.C_ || J.O.Wf.rg && H.O.Wf.C_;break;}}};M.prototype.$ua=function(H){var j1c;j1c=2;for(;j1c !== 5;){switch(j1c){case 1:return {id:H.G.id,ng:H.ng,Bd:H.dCa,Yf:H.Yf,Ud:H.Sfa,Pc:H.Pc};break;case 2:j1c=(H=this.ab.oi.children[H])?1:5;break;}}};M.prototype.Zn=function(){var P5J,H;P5J=2;for(;P5J !== 5;){switch(P5J){case 2:H=this.ab.oi;return {id:H.G.id,ng:H.ng,Bd:H.dCa,Yf:H.Yf,Ud:H.Sfa,Pc:H.Pc};break;}}};M.prototype.fha=function(H,J){var Q$1;Q$1=2;for(;Q$1 !== 1;){switch(Q$1){case 4:return this.ab.fha(H,J);break;case 2:return this.ab.fha(H,J);break;}}};M.prototype.open=function(){var L0p,U,J,N,P,W,V,S,fa,qa,H;L0p=2;for(;L0p !== 33;){switch(L0p){case 5:var o6Q="NFErr_MC_StreamingIn";o6Q+="itFai";o6Q+="lure";var b4l="st";b4l+="artPts";b4l+=" ";b4l+="must be a positive num";b4l+="ber, not ";this.Dr(b4l + this.Qo,void 0,o6Q);L0p=33;break;case 6:this.Nc.tg && this.Nc.tg.FI(S,this.yn.sessionId);U=this.o$.EAb(V,N);L0p=13;break;case 15:fa.sourceBuffers.forEach(function(xa){var D6S,Aa,Oa;D6S=2;for(;D6S !== 13;){switch(D6S){case 7:var P70="mana";P70+="g";P70+="erdebuge";P70+="ven";P70+="t";J.kj && xa.addListener(P70,function(T){var o84;o84=2;for(;o84 !== 1;){switch(o84){case 2:(0,v.kb)(H,T.type,T);o84=1;break;}}});H.$h[Aa]=xa;H.Lx[Aa]=Oa;D6S=13;break;case 2:var k2q="log";k2q+="dat";k2q+="a";var B6p="e";B6p+="r";B6p+="ro";B6p+="r";var q1D="r";q1D+="e";q1D+="questA";q1D+="p";q1D+="pended";var i0y="he";i0y+="a";i0y+="der";i0y+="A";i0y+="ppended";(Aa=xa.mediaType,Oa=H.Qb.hh[Aa]);xa=new h.Cia(Aa,fa,xa,J,!1,H.X,void 0,H.gi.bind(H));Oa=new D.zOa(xa,Aa,H.ab,H.L,Oa.H);xa.addListener(i0y,H.DBb.bind(H));xa.addListener(q1D,H.GBb.bind(H));xa.addListener(B6p,function(T){var K1u;K1u=2;for(;K1u !== 1;){switch(K1u){case 2:var P9K="NF";P9K+="Err_MC_St";P9K+="r";P9K+="eamingFailure";H.Dr(T.errorstr,void 0,P9K);K1u=1;break;}}});xa.addListener(k2q,function(T){var R8Q;R8Q=2;for(;R8Q !== 1;){switch(R8Q){case 2:(0,v.kb)(H,T.type,T);R8Q=1;break;}}});D6S=7;break;}}});this.sA=new B.kTa(this.Lx,this.dO.bind(this),this.X.eg.bind(this.X));this.dn && this.Lb.QCb();N=this.O9a();L0p=24;break;case 4:var a9S="h";a9S+="ea";a9S+="d";a9S+="e";a9S+="rs";(J=this.L,N=this.Rf.O,P=N.K,W=[],V=[a9S]);this.Ao && (W.push(f.u.J),V.push(f.u.J));this.pt && (W.push(f.u.T),V.push(f.u.T));this.o$.VBb();S=J.uO;L0p=6;break;case 20:var y72="createMediaS";y72+="ource";y72+="En";y72+="d";this.Lb.An(y72);fa.Yc || (fa.Yc=q.Yc);this.Hg=fa;L0p=17;break;case 17:L0p=!fa.m8(W)?16:15;break;case 34:var m2A="NFErr_MC_Strea";m2A+="mingInitFailu";m2A+="re";var G4B="exc";G4B+="eption in";G4B+=" i";G4B+="ni";G4B+="t";var K7g="E";K7g+="r";K7g+="ror:";(this.fk(K7g,fa.error),this.Dr(G4B,void 0,m2A));L0p=33;break;case 22:var P3x="st";P3x+="art";P3x+="pl";P3x+="ay";var E02="log";E02+="d";E02+="a";E02+="t";E02+="a";J.xQb?setTimeout(function(){var R_I;R_I=2;for(;R_I !== 1;){switch(R_I){case 2:H.yXa(P).then(qa);R_I=1;break;case 4:H.yXa(P).then(qa);R_I=4;break;}}},0):this.yXa(P).then(function(){var g_P;g_P=2;for(;g_P !== 1;){switch(g_P){case 2:setTimeout(qa,0);g_P=1;break;}}});N={type:E02,target:P3x,fields:{audiogapconfig:J.TQ,audiogapdpi:this.Hg.Yc && this.Hg.Yc.TQ,aseApiVersion:this.y8}};this.emit(N.type,N);L0p=33;break;case 13:var h0$="createMe";h0$+="d";h0$+="iaSourceStar";h0$+="t";V.forEach(function(xa,Aa){var f_y;f_y=2;for(;f_y !== 1;){switch(f_y){case 2:var v7N="h";v7N+="ea";v7N+="de";v7N+="r";v7N+="s";v7N === xa?H.sV=U[Aa]:H.Qb.hh[xa].cf=U[Aa];f_y=1;break;}}});this.Lb.An(h0$);fa=new q(this.X.WI);L0p=10;break;case 24:this.Lb.iZa(N);qa=function(){var s1G;s1G=2;for(;s1G !== 5;){switch(s1G){case 2:var g$q="s";g$q+="hutdown detected be";g$q+="fo";g$q+="re startRequests";H.Lb.hDb();H.Lo()?H.ac(g$q):H.VEb();s1G=5;break;}}};L0p=22;break;case 10:L0p=1 === fa.readyState?20:34;break;case 16:var g_6="E";g_6+="r";g_6+="r";g_6+="or:";throw (this.fk(g_6,fa.error),fa.error);L0p=15;break;case 1:L0p=!l.Oa(this.Qo) || 0 > this.Qo?5:4;break;case 2:H=this;L0p=1;break;}}};Object.defineProperties(M.prototype,{y8:{get:function(){var n$G;n$G=2;for(;n$G !== 1;){switch(n$G){case 2:var i1U="1";i1U+=".";i1U+="0";return i1U;break;}}},enumerable:!1,configurable:!0}});M.prototype.Uva=function(){};M.prototype.flush=function(){var I87;I87=2;for(;I87 !== 1;){switch(I87){case 2:this.Qg.flush();I87=1;break;case 4:this.Qg.flush();I87=8;break;}}};M.prototype.paused=function(){var S8n;S8n=2;for(;S8n !== 1;){switch(S8n){case 2:this.X.paused();S8n=1;break;case 4:this.X.paused();S8n=6;break;}}};t_B=32;break;}}})();b.eVa=a;(0,r.ef)(c.EventEmitter,a);},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.rka=void 0;c=a(13);l=a(6);g=a(8);m=a(265);r=(function(){function d(f,h,k,n,p,q,v,t,w,u,x,y){void 0 === k && (k=0);this.Ke=f;this.D7=h;this.ca=k;this.Ta=n;this.qaa=p;this.gi=q;this.RP=v;this.config=t;this.H=w;this.Lb=u;this.YTb=x;this.Ph=y;this.Jy=0;}d.create=function(f){var k,n,p,q,v,t,w,u,x,y,z,B,A,C,D;function h(E){(0,g.kb)(u,E.type,E);}k=f.Vb;n=f.ba;p=f.plb;q=f.ca;v=f.Ta;t=f.Qt;w=f.Lb;u=f.mc;x=f.config;y=f.H;z=f.xh;B=f.Ep;A=f.tg;C=f.yF;D=new m.nia(Number(n.movieId),{Vb:k,ba:n,Rq:f.Rq,Seb:{Pxa:f.rg,pcb:!!f.acb},Tl:f.Tl,Xf:f.Xf,config:x,Aab:{yl:z.Pl.bind(z),tg:A,yF:C,uC:h,Xba:function(E){return E === u.ab.md.O;},aZ:function(E,G,F,L,O){E=u.Qb.hh[E];return !G || F || L || O?u.sV:E.cf;},qF:function(E){return u.Qb.Py[E];},gi:u.gi.bind(u)},X_:function(E){u.emit("requestComplete",{type:"requestComplete",timestamp:E.ug,mediaRequest:E});},paa:function(){return u.Zh;},Ac:u.Nc.Ac,vk:u.Nc.vk,O6a:{Qt:t,hg:function(E,G,F,L,O,K){void 0 === K && (K=!1);return !K || u.X.Vf()?(u.Dr(E,k,G,F,L,O,K),!0):!1;},vp:function(){return u.M7;},uC:h},TR:void 0,HG:{Z:u.Nc.N1,ga:u.Nc.qga}});x.$E && D.DL({Cp:u.yn.Cp,sa:u.yn.sa,QX:u.yn.QX,xp:w.xp.bind(w)});f=new c.gf();f.addListener(D.events,"onHeaderFragments",function(E){var G,F,L,O,K;G=E.mediaType;F=E.Sa;L=E.stream.ma;O=u.gi(k);if(O){if(D.mj[G] && E !== D.mj[G])E.py && (O=D.mj[G],E=E.stream,K=O && O.stream,y.warn("first header received for non-current track (trackId " + E.trackId + "streamId " + E.Sa + "), expected track " + (K && K.trackId) + ", stream " + (K && K.Sa) + ", " + O));else {D.mj[G]=E;E=u.ab.md;if(0 === k){K=D.zc(l.u.J)?E.gb(l.u.J).Ec:E.gb(l.u.T).Ec;E.l9(K,D);}O.RCa=!1;O.Mqa();u.X7();}B.jna();w.iDb(k,G,F,D.K,L);z.Pl();}else y.warn("addFragments for stale manifestIndex:",k);});f.addListener(D.events,"onHeaderRequestComplete",function(E){var G,F;E.Mm?u.X7():E.XE && (y.warn("drm header header:",E.toString(),"but no headers seen, marking pipeline drmReady"),u.rJ(E.K));G=E.mediaType;F=Object.getOwnPropertyNames(C.Ix[G]);u.$h[G].pgb(E.stream,1 === F.length && F[0] === E.Sa);z.PXa();u.Sdc();});f.addListener(D.events,"onHeaderFromCache",function(E){var G;G=E.header;E=E.fVb;G.Mm && u.X7();E && w.ZCb(G.K,G.Sa);});return new d(D,p,q,v,function(){return u.ab;},u.gi.bind(u),u.RP.bind(u),x,y,w,!1,f);};Object.defineProperties(d.prototype,{O:{get:function(){return this.Ke;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vb:{get:function(){return this.O.Vb;},enumerable:!1,configurable:!0}});d.prototype.Xv=function(f){return this.Ke.b_b(f,this.yaa(f));};d.prototype.yaa=function(f){return this.D7[f];};d.prototype.close=function(){this.Ph.clear();this.O.close();};d.prototype.ud=function(){this.Ke.ud();delete this.Ke;};d.prototype.clone=function(){return new d(this.O,this.D7,this.ca,this.Ta,this.qaa,this.gi,this.RP,this.config,this.H,this.Lb,!0,this.Ph);};d.prototype.lpb=function(f){this.H.trace("updateAudioTrack:",this.D7[l.u.T],"->",f);this.D7[l.u.T]=f;};d.prototype.B9a=function(){return void 0 !== this.NK?this.NK:this.Ta?this.Ta:this.Ke.duration;};d.prototype.fKb=function(f,h){var k;k=this.Ke.mj[f];if(k && k.stream.te){if(this.IB && this.IB[f] && this.IB[f].ca <= h && this.IB[f].Ta > h)return this.IB[f].Bd;f=k.stream.ma;h=f.kp(h,void 0,!0);k=void 0;void 0 === k && (k=f.Dl(h));return k;}};d.prototype.Mqa=function(){var f,h;if(!this.RCa && this.oab()){this.IAa();f=[0,0];if(0 !== this.Vb && !this.Ke.Wf.C_ && !this.Ke.Wf.replace){h=this.gi(this.Vb - 1);h=this.Ke.K === h.Ke.K;f=this.qaa().md;h=f.l9(this.ca,this.O,f,h);f=h.GR;}this.ca=f[l.u.J];this.GR=f;this.IB=h && h.IB;this.a2a();h=this.Ke.zc(l.u.J)?this.Ke.mj[l.u.J].stream.ma.Ta:this.Ke.mj[l.u.T].stream.ma.Ta;this.Lb.dDb(this.Vb,this.Jy,this.ca,this.NK,h);this.RCa=!0;for(h=this.Vb + 1;h < this.RP();++h){f=this.gi(h);f.RCa=!1;f.Mqa();}}};d.prototype.a2a=function(){var f;if(0 === this.Vb || this.Ke.Wf.replace)this.Jy=0;else {f=this.gi(this.Vb - 1);this.Jy=f.Jy + f.B9a() - this.ca;}};d.prototype.IAa=function(){var f,h,k,n,p,q,v,t;if(this.oab()){p=this.qaa().md;q=this.Ta || Infinity;v=this.Ke.zc(l.u.J);t=p.pY(q,this.O);this.NK=v?t[l.u.J].Ta:t[l.u.T].Ta;p=v?this.Ke.mj[l.u.J].stream.ma.Ta:this.Ke.mj[l.u.T].stream.ma.Ta;v=Math.min(null !== (h=null === (f=t[l.u.J]) || void 0 === f?void 0:f.Ta) && void 0 !== h?h:Infinity,null !== (n=null === (k=t[l.u.T]) || void 0 === k?void 0:k.Ta) && void 0 !== n?n:Infinity);this.Lb.fDb(this.Vb,this.NK,p,v);f=this.qaa().$ta(this.Vb);0 < f.length && f.forEach(function(w){w.Skc(t,q);});}};d.prototype.oab=function(){var f,h,k,n;f=this.Ke.zc(l.u.T);h=this.Ke.zc(l.u.J);k=this.Ke.mj[l.u.T];n=this.Ke.mj[l.u.J];k=k && k.stream.te;n=n && n.stream.te;return (!f || k) && (!h || n);};return d;})();b.rka=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fVa=void 0;r=a(0);c=a(8);a=r.__importDefault(a(3));l=a.default.kr;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function g(m,d,f){this.xp=f;this.FFb=new c.qma(m);this.sa=d.sa;this.kAb=1E3 * d.h6b / d.oJb;this.tRb=d.QX;this.L0a=!1;}g.prototype.Iv=function(m){var d,f;d={s_xid:this.sa,dl:this.tRb?1:0};m.EE && (d.bs=(0,c.fX)(Math.floor(m.EE / this.kAb) + 1,1,5));m.Nda && (d.limit_rate=m.Nda);m.z1a && (d.bb_reason=m.z1a);m.rob && (d.tm=m.rob);if(m.uX){f=m.uX.fca();if(f || !f && this.L0a)(d.cpr_ss=m.uX.WC,d.cpr_ca=m.uX.qB,d.cpr_rec=m.uX.KC,this.L0a=f);}m.mqa && (d.br="" + m.mqa.start + "+" + m.mqa.size);return this.uDb(d);};g.prototype.tEa=function(m,d){var f,h;try{f=new l(void 0,"notification");h=this.Iv({z1a:m});d && h && f.open(d,void 0,2,void 0,void 0,void 0,h);}catch(k){this.xp("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};g.prototype.uDb=function(m){var d;try{d=this.JEb(m);return this.FFb.encrypt(d);}catch(f){this.xp("SideChannel: Error when obfuscating msg. Error: " + f);}};g.prototype.JEb=function(m){return Object.keys(m).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(m[d]));}).join("&");};return g;})();b.fVa=a;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EVa=b.gzb=void 0;c=a(0);a(75);l=a(2);r=c.__importDefault(a(3));g=a(430);a=a(428);m=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}f=(function(h){function k(n,p){p=h.call(this,n.Zq,p) || this;p.vI=n;return p;}c.__extends(k,h);Object.defineProperties(k.prototype,{ga:{get:function(){return this.vI.Emb(this.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.vI.Qi(this.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{tAa:{get:function(){return this.vI.YQ && this.vI.YQ[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Zk:{get:function(){return this.vI.qWb(this.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hb:{get:function(){return this.vI.Ez && this.vI.Ez[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{kqa:{get:function(){return 8 * this.ga / (1E3 * this.Mv / this.W);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.cb,contentEndTicks:this.sb,durationTicks:this.Mv,timescale:this.W,startPts:this.ca,endPts:this.Ta,duration:this.duration,additionalSAPs:this.Zk};};return k;})(a.gWa);b.gzb=f;r=(function(){function h(k,n,p,q,v,t,w){this.UN=128;this.ed=n;this.Mb=p.offset;this.Po=p.sizes;this.K7=k;this.rN=this.aV=this.fj=this.Gr=this.Coa=void 0;this.HCb=q;this.vma=v && v.Qi;this.Qoa=t;this.$f=Math.min(this.ed.length,this.Po.length);k=this.WJb();this.tCb=k.maxBitrate;this.uCb=k.Lq;this.Zq.Ys.length !== this.Po.length && m.trace("Mis-matched stream duration (" + this.Zq.Ys.length + "," + this.Po.length + ") for movie id " + w);this.Zq.n8 && !this.vma && m.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.ed.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.$f;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{so:{get:function(){return this.ed.so;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rta:{get:function(){return this.ed.rta;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ca:{get:function(){return this.ed.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ta:{get:function(){return this.ed.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Nza:{get:function(){return this.ed.Nza;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ny:{get:function(){return this.tCb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Lq:{get:function(){return this.uCb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{da:{get:function(){return this.ed.da;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{W:{get:function(){return this.ed.W;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Sg:{get:function(){return this.Gr || this.Fma();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{YQ:{get:function(){return this.HCb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vpa:{get:function(){return this.vma;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ez:{get:function(){return this.Qoa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Zq:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Vq:{get:function(){return this.Coa || this.FAb();},enumerable:!1,configurable:!0}});h.prototype.Emb=function(k){if(this.Po)return this.Po[k];m.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.Dl=function(k){return this.ed.Dl(k);};h.prototype.eY=function(k){return this.ed.Dl(k) + this.ed.Me(k);};h.prototype.Qi=function(k){var n,p,q;if(this.aV !== k || void 0 === this.rN){if(0 === k)return this.Mb;if(this.aV === k - 1 && void 0 !== this.rN)(this.rN+=this.Po[this.aV],++this.aV);else {n=this.fj || this.pAb();p=Math.floor(k / this.UN);q=p * this.UN;for(n=n[p];q < k;++q){n+=this.Po[q];}this.aV=k;this.rN=n;}}return this.rN;};h.prototype.Me=function(k){return this.ed.Me(k);};h.prototype.get=function(k){return new f(this,k);};h.prototype.qWb=function(k){var n,p,q,v,t;(0,l.assert)(0 <= k);n=this.Zq.n8;p=this.Zq.g0a;q=this.vma;if(!q || !n || !p || k >= n.length)return [];v=[];t=k === n.length - 1?p.length:n[k + 1];for(n=n[k];n < t;++n){v.push({sj:p[n],ue:this.Dl(k) + this.da.Ry(p[n]).Z,offset:q[n]});}return v;};h.prototype.kp=function(k,n,p){return this.ed.kp(k,n,p);};h.prototype.T$=function(k,n,p){return this.ed.T$(k,n,p);};h.prototype.Zra=function(k,n){return this.ed.Zra(k,n);};h.prototype.TJb=function(k,n,p,q,v){var t,w,u,x,y,z,B,A,C;t=!0;w=0;u=this.ed.Ys;x=this.Po;k=Math.floor(k * this.W / 1E3);y=Math.floor(p * this.W / 1E3);z=0;B=0;A=0;if(this.ed.CGa && this.ed.BGa)for(w=this.ed.CGa;w <= this.ed.BGa;++w){z+=u[w];B+=x[w];}if(B > n)t=!1;else for(;w < this.length && (!v || w < v);){C=x[w];p=u[w];if(B + C > n){for(;1 < w - A && B + C > n && (z - u[A] >= y || B - x[A] > q);){z-=u[A];B-=x[A];++A;}if(z < k || B + C > n){t=!1;this.ed.CGa=A;this.ed.BGa=w;break;}}z+=p;B+=C;++w;}return t;};h.prototype.subarray=function(k,n){(0,l.assert)(void 0 === k || 0 <= k && k < this.length);(0,l.assert)(void 0 === n || n > k && n <= this.length);return new h(this.K7,this.ed.subarray(k,n),{offset:this.Qi(k),sizes:this.Po.subarray(k,n)},this.YQ && this.YQ.subarray(k,n),this.vpa && ({Qi:this.vpa}),this.Qoa && this.Qoa.subarray(k,n));};h.prototype.forEach=function(k){for(var n=0;n < this.length;++n){k(this.get(n),n,this);}};h.prototype.map=function(k){for(var n=[],p=0;p < this.length;++p){n.push(k(this.get(p),p,this));}return n;};h.prototype.reduce=function(k,n){for(var p=0;p < this.length;++p){n=k(n,this.get(p),p,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;m.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){n=this.get(k);m.trace(("StreamFragments: ").concat(k,": [").concat(n.ca,"-").concat(n.Ta,"] @ ").concat(n.offset,", ").concat(n.ga," bytes"));}};h.prototype.WJb=function(){var k,n,p,q,v,t,x;k=0;n=0;p=this.ed.yeb;q=this.ed.zeb;v=this.ed.Ys;t=this.Po;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var w=0,u=this.length;w < u;++w){x=t[w];x > n && (n=x,q=w);x/=v[w];x > k && (k=x,p=w);}void 0 === this.ed.yeb && (this.ed.yeb=p);void 0 === this.ed.zeb && (this.ed.zeb=q);}else (k=t[p] / v[p],n=t[q]);return {maxBitrate:Math.floor(k * this.W / 125),Lq:n};};h.prototype.Fma=function(){for(var k=0,n=0;n < this.length;++n){k+=this.Po[n];}return this.Gr=k;};h.prototype.FAb=function(){return this.Coa=new g.Rla(this.ed.Ys,this.Po,this.ed.W);};h.prototype.pAb=function(){if(!this.fj){for(var k=d?new Float64Array(Math.ceil(this.length / this.UN)):Array(Math.ceil(this.length / this.UN)),n=this.Mb,p=0;p < k.length;++p){k[p]=n;for(var q=0;q < this.UN;++q){n+=this.Po[p * this.UN + q];}}this.fj=k;}return this.fj;};return h;})();b.EVa=r;r.prototype.$mb=(0,a.Hy)(r.prototype.Dl);(0,a.Hy)(r.prototype.eY);(0,a.Hy)(r.prototype.Me);(0,a.Hy)(r.prototype.Qi);(0,a.Hy)(r.prototype.Emb);(0,a.Hy)(r.prototype.get);},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.XLa=void 0;c=a(0);l=a(13);g=c.__importStar(a(12));m=c.__importDefault(a(3));d=new m.default.Console("ASEJS_ERROR_DIRECTOR","asejs");f=c.__importDefault(a(29));h=a(998);k=a(159);n=m.default.kr;p=n.X3;q={};v={};r=[f.default.Wh.cA,!1];a=[f.default.Wh.cA,!0];t=[f.default.Wh.IH,!1];w=[f.default.Wh.IH,!0];u=[f.default.Wh.URL,!0];x=[f.default.Wh.URL,!1];y=[-1,!1];z=[f.default.Wh.IH,!1];q[p.unc]=t;q[p.UNKNOWN_ERROR]=t;q[p.xqc]=t;q[p.Ltb]=t;q[p.zKa]=t;q[p.Xtb]=t;q[p.Ptb]=w;q[p.Psb]=w;q[p.GJa]=z;q[p.EJa]=z;q[p.Qsb]=y;q[p.Rsb]=z;q[p.Ssb]=z;q[p.Msb]=t;q[p.Osb]=t;q[p.FJa]=r;q[p.Nsb]=t;q[p.Lsb]=z;q[p.koc]=w;q[p.evb]=z;q[p.bNa]=z;q[p.aNa]=z;q[p.YMa]=z;q[p.ZMa]=z;q[p.dvb]=u;q[p.Cja]=w;q[p.V4]=u;q[p.Dja]=a;q[p.Eja]=w;q[p.gvb]=u;q[p.W4]=z;q[p.cNa]=w;q[p.fvb]=w;q[p.Stb]=w;q[p.Mtb]=t;q[p.Ryb]=t;q[p.Ctb]=t;q[p.Dtb]=t;q[p.Etb]=t;q[p.Ftb]=t;q[p.Gtb]=t;q[p.Htb]=t;q[p.Itb]=t;q[p.Jtb]=t;q[p.Ktb]=t;q[p.Ntb]=t;q[p.Otb]=t;q[p.Qtb]=t;q[p.Rtb]=t;q[p.Ttb]=t;q[p.Utb]=t;q[p.Vtb]=t;q[p.Wtb]=t;q[p.Ytb]=t;q[p.Ztb]=t;q[p.Qyb]=z;q[p.TIMEOUT]=r;v[p.GJa]=!0;v[p.bNa]=!0;v[p.aNa]=!0;v[p.ZMa]=!0;v[p.zKa]=!0;r=(function(){var e7i;e7i=2;function B(A,C,D,E){var b6U;b6U=2;for(;b6U !== 20;){switch(b6U){case 2:this.wk=A;this.config=C;this.Bwa=D;this.Qt=E;this.events=new l.EventEmitter();this.Ph=new l.gf();b6U=8;break;case 8:var W7I="1SIYb";W7I+="ZrNJC";W7I+="p9";W7I;this.L2a=new k.K5();b6U=6;break;case 12:this.CS=this.Jv=0;this.bGa={};this.yCa=new h.$Ta(A,E,C);b6U=20;break;case 6:var I1k="net";I1k+="work";I1k+="Fail";I1k+="e";I1k+="d";q[p.YMa]=C.N0b?w:z;this.Ph.addListener(this.wk,I1k,this.F_b.bind(this));this.zQ=m.default.time.fa();b6U=12;break;}}}for(;e7i !== 12;){switch(e7i){case 13:return B;break;case 2:B.prototype.Wa=function(){var K_G;K_G=2;for(;K_G !== 1;){switch(K_G){case 2:this.Ph.clear();K_G=1;break;case 4:this.Ph.clear();K_G=7;break;}}};B.prototype.DL=function(A){var G2e;G2e=2;for(;G2e !== 1;){switch(G2e){case 4:this.mga=A;G2e=2;break;case 2:this.mga=A;G2e=1;break;}}};B.prototype.vu=function(A,C,D,E,G){var a83,J,N,C_X,X,Q,n_t,D8s,Z76,F,L,O,K,I,M,H,f6w,U,fa,qa,xa,Aa,Oa,V,S,W5J,o21,F2y,P,W;a83=2;for(;a83 !== 25;){switch(a83){case 11:C=H.A$a(A).map(function(ra){var A7M;A7M=2;for(;A7M !== 1;){switch(A7M){case 2:return {url:A.url,$c:ra.id,cc:ra,stream:N,urls:ra.urls,S:A.wp};break;}}});a83=10;break;case 9:var g$m="critic";g$m+="alNe";g$m+="twor";g$m+="kErro";g$m+="r";var p2Y="criticalNe";p2Y+="twor";p2Y+="kEr";p2Y+="ror";J=q[E];H.ta && A && (this.config.u6a && E === p.V4 && 404 === D && this.CS < this.config.Wya?J=x:E === p.Eja && A.Z_b && (J=t));this.bC={ZJ:D,Ah:E,b7a:I,Pj:G};v[E] && (++this.Jv,this.events.emit(p2Y,{type:g$m,Ah:E}));a83=14;break;case 12:N=H.w9a(A.iz);a83=11;break;case 15:var c$5="I";c$5+="n";c$5+="valid affected";c$5+=" fo";c$5+="r network failure";d.error(c$5);a83=27;break;case 3:a83=E && g.isArray(q[E])?9:26;break;case 18:try{C_X=2;for(;C_X !== 13;){switch(C_X){case 2:(X=c.__values(C),Q=X.next());C_X=1;break;case 14:Q=X.next();C_X=1;break;case 1:C_X=!Q.done?5:13;break;case 5:U=Q.value;xa=U.$c;fa=U.urls;qa=U.url;C_X=8;break;case 8:C_X=J === z && !this.Hdc(xa)?13:7;break;case 7:var B2C="e";B2C+="rr";B2C+="or";fa.some(function(ra){var P0G;P0G=2;for(;P0G !== 5;){switch(P0G){case 2:H.vu(P,W,ra.url);return P === f.default.Wh.IH;break;}}});!this.mga || 0 !== D && void 0 !== D || this.mga.tEa(B2C,qa);C_X=14;break;}}}catch(ra){var ka;ka={error:ra};}finally{n_t=2;for(;n_t !== 1;){switch(n_t){case 2:try{D8s=2;for(;D8s !== 1;){switch(D8s){case 2:Q && !Q.done && (L=X.return) && L.call(X);D8s=1;break;}}}finally{Z76=2;for(;Z76 !== 5;){switch(Z76){case 2:Z76=ka?1:5;break;case 9:throw ka.error;Z76=2;break;case 1:throw ka.error;Z76=5;break;}}}n_t=1;break;}}}a83=25;break;case 17:a83=C?16:15;break;case 13:a83=A?12:17;break;case 27:return;break;case 26:var I_y="Unmapped fail";I_y+="ure code i";I_y+="n J";I_y+="SASE error director : ";R7xOY.o4M(6);d.error(R7xOY.h1T(E,I_y));a83=25;break;case 2:var e5d=" : cr";e5d+="itical er";e5d+="r";e5d+="or ";e5d+="count = ";var T2y=" ";T2y+="o";T2y+="n ";var W_p=" h";W_p+="t";W_p+="tpC";W_p+="ode ";var B7i="F";B7i+="ailur";B7i+="e";B7i+=" ";I=n.X3.name;I=E?I[E]:void 0;(M=this.config,H=this.wk);d.warn(B7i + I + W_p + D + T2y + JSON.stringify(A?A:C) + e5d + this.Jv);a83=3;break;case 14:a83=J !== y?13:25;break;case 16:C=H.Ifc(C.host,C.port).map(function(ra){var j04;j04=2;for(;j04 !== 1;){switch(j04){case 2:return {url:ra.url.url,$c:ra.cc.id,cc:ra.cc,stream:ra.url.stream,urls:ra.cc.urls};break;}}});a83=10;break;case 19:try{f6w=2;for(;f6w !== 8;){switch(f6w){case 9:S=V.next();f6w=1;break;case 5:var W9o="e";W9o+="r";W9o+="r";W9o+="o";W9o+="r";(U=S.value,fa=U.urls,qa=U.url,xa=U.$c,Aa=U.stream,Oa=U.cc);J === z || J === t?this.yCa.ubc(U,{l0a:xa,z2:J,ZJ:D,Ah:E,b7a:I,Pj:G}):this.config.u6a && J === x && (null === (O=null === Aa || void 0 === Aa?void 0:Aa.wE) || void 0 === O?0:O.ta) && (null === (K=null === Aa || void 0 === Aa?void 0:Aa.wE) || void 0 === K?void 0:K.cc) === Oa.id && A?(this.CS++,Aa.wE.hGb(A.wp || 0)):(fa.some(function(ra){var a4N;a4N=2;for(;a4N !== 5;){switch(a4N){case 2:H.vu(P,W,ra.url);return P === f.default.Wh.IH;break;}}}),H.ta && this.CS === this.config.Wya && J === u && (this.CS=0));!this.mga || 0 !== D && void 0 !== D || this.mga.tEa(W9o,qa);f6w=9;break;case 1:f6w=!S.done?5:8;break;case 2:(V=c.__values(C),S=V.next());f6w=1;break;}}}catch(ra){var T;T={error:ra};}finally{W5J=2;for(;W5J !== 1;){switch(W5J){case 2:try{o21=2;for(;o21 !== 1;){switch(o21){case 2:S && !S.done && (F=V.return) && F.call(V);o21=1;break;}}}finally{F2y=2;for(;F2y !== 5;){switch(F2y){case 1:throw T.error;F2y=5;break;case 2:F2y=T?1:5;break;}}}W5J=1;break;}}}a83=25;break;case 20:a83=M.Fw?19:18;break;case 10:(P=J[0],W=J[1]);a83=20;break;}}};e7i=4;break;case 4:B.prototype.Hdc=function(A){var g1D,C,D,E;g1D=2;for(;g1D !== 7;){switch(g1D){case 3:g1D=!(E.eh >= C - D.Mga || E.NC || (E.eh=C,++E.count,E.count < D.Yca))?9:7;break;case 8:this.bGa[A]={eh:C,count:1};g1D=7;break;case 4:(E.eh=C,E.count=1);g1D=7;break;case 2:(C=m.default.time.fa(),D=this.config,E=this.bGa[A]);g1D=1;break;case 1:g1D=E?5:8;break;case 9:return E.NC=!0;break;case 5:g1D=E.eh < this.zQ?4:3;break;}}};B.prototype.F_b=function(A){var G5G,C,D,E,G,F,L,O;G5G=2;for(;G5G !== 7;){switch(G5G){case 2:var T86=" ms ";T86+="ag";T86+="o";var x6X=" la";x6X+="st suc";x6X+="ce";x6X+="ss was ";var x9F="t";x9F+="e";x9F+="mporari";x9F+="l";x9F+="y";var B94="perma";B94+="ne";B94+="ntly";var f_E="N";f_E+="etwor";f_E+="k h";f_E+="as failed ";(C=this,D=m.default.time.fa() - this.zQ,E=A,G=this.config);R7xOY.o4M(9);d.warn(R7xOY.p3p(f_E,A?B94:x9F,x6X,D,T86));!A && D > G.wAa && (E=!0);G5G=4;break;case 4:G5G=this.bC?3:9;break;case 9:var t1V="temp";t1V+="oraryNetwor";t1V+="kError";var Y3o="tempora";Y3o+="ryNetwor";Y3o+="kErr";Y3o+="or";A || this.events.emit(Y3o,{type:t1V,errorCode:F,httpCode:L,nativeCode:O});E?(this.VR && (clearTimeout(this.VR),this.VR=void 0),this.V2a(),this.yCa.reset(),this.Bwa({R2b:A,E9b:F,G9b:L,H9b:O})):this.VR || (this.VR=setTimeout(function(){var g6M;g6M=2;for(;g6M !== 5;){switch(g6M){case 2:C.VR=void 0;C.wfa();g6M=5;break;}}},G.xAa));G5G=7;break;case 3:(F=this.bC.Ah,L=this.bC.ZJ,O=this.bC.Pj);G5G=9;break;}}};e7i=9;break;case 9:B.prototype.wfa=function(){var v$C,A;v$C=2;for(;v$C !== 5;){switch(v$C){case 2:A=this;this.L2a.UA || this.L2a.Gha(function(){var n0y;n0y=2;for(;n0y !== 1;){switch(n0y){case 2:A.VR || (A.wk.wfa(),A.bGa={},A.Qt());n0y=1;break;}}});v$C=5;break;}}};B.prototype.gha=function(A){var D$4,C;D$4=2;for(;D$4 !== 8;){switch(D$4){case 2:C=this.config;this.zQ=Math.max(A.ug || m.default.time.fa(),this.zQ);this.V2a();D$4=4;break;case 4:var G6f="updati";G6f+="ngLastSuccess";G6f+="Event";var L8g="upda";L8g+="tin";L8g+="gLastSu";L8g+="ccessEvent";this.wk.ta && void 0 !== A.wp && !A.iz.HCa(A.wp) && (this.wk.w9a(A.iz).wE.mdc(A.wp),this.CS=0);C.Fw && this.yCa.gha(A);this.events.emit(L8g,{type:G6f});D$4=8;break;}}};e7i=7;break;case 7:B.prototype.XAa=function(){var m4v;m4v=2;for(;m4v !== 1;){switch(m4v){case 4:this.Jv=7;m4v=6;break;case 2:this.Jv=0;m4v=1;break;}}};B.prototype.li=function(){var N0L,A,C,D;N0L=2;for(;N0L !== 4;){switch(N0L){case 2:var u7D="m";u7D+="s";var S5K="S";S5K+="etting underflow time";S5K+="out ";S5K+="in ";(A=this,C=this.config,D=C.Rca);this.zQ=Math.max(m.default.time.fa(),this.zQ);!C.Opb || this.B2 || C.pha && C.w$ && C.G7b || (d.info(S5K + D + u7D),this.B2=setTimeout(function(){var E4T;E4T=2;for(;E4T !== 4;){switch(E4T){case 2:var n19="Forcing permanent networ";n19+="k f";n19+="ailure after ";var G8v="ms, ";G8v+="since un";G8v+="derflow with no success";R7xOY.e_n(10);d.info(R7xOY.h1T(G8v,n19,D));A.B2=void 0;A.wk.vu(f.default.Wh.cA,!0);E4T=4;break;}}},D));N0L=4;break;}}};B.prototype.V2a=function(){var a_y;a_y=2;for(;a_y !== 1;){switch(a_y){case 2:var n1i="Cleared u";n1i+="n";n1i+="d";n1i+="er";n1i+="flow timeout";this.B2 && (clearTimeout(this.B2),this.B2=void 0,d.info(n1i));a_y=1;break;}}};e7i=13;break;}}})();b.XLa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ta=void 0;c=a(2);l=a(999);g=a(3).default;new g.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function m(d,f,h){this.DV=d;this.Qt=f;this.config=h;this.Sv={};this.qG={};this.sI=!0;this.groupId=1;}m.prototype.ubc=function(d,f){var h,k,n,p,q,v,t,w,u,x;h=this;k=this.config;n=d.$c;p=d.stream;q=d.cc.location;(0,c.assert)(p,"Failing url should have an associated stream");(0,c.assert)(q,"Failing url should have an associated location");v=[];t=p.Nj[0];w=!1;u=this.Sv[n];x=g.time.fa();if(!u)u=this.Hgc(n,x,f,d);else if(u.eh >= x - k.Mga)return;u.NC || (t && q.id === t.id && (d.isPrimary=!0),u.eh=x,u.NC=!1,u.error=f,++u.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(y){var z,B,A,C,D;A=y.cc.id;C=A + "-" + n;D=h.qG[C];if(void 0 === D || void 0 === D.Tea)(D && D.xo && clearTimeout(D.xo),y=(null === (B=null === (z=d.stream) || void 0 === z?void 0:z.wE) || void 0 === B?0:B.ta)?h.dYb(d.stream.wE,d.S,y.url):y.url,(0,c.assert)(y,("Unexpected probeUrl: ").concat(y)),z=h.h4a(y,d,A),h.qG[C]={ja:!1,count:0,Tea:z.Mi()},v.push(z.Mi()),w=!0);-1 === u.CEa.indexOf(A) && u.CEa.push(A);}),0 < v.length && (k={ts:g.time.fa(),es:f.l0a,fc:f.Ah,fn:f.b7a,nc:f.Pj,pb:v,gid:this.groupId},f.ZJ && (k.hc=f.ZJ),this.wK(k,"errpb")),w && this.groupId++));};m.prototype.h4a=function(d,f,h){var k,n;k=new l.CIa(this);n="random=" + parseInt(("").concat(1E7 * Math.random()));k.x9b(d + (-1 !== d.indexOf("?")?"&":"?") + n,f,h);return k;};m.prototype.Hgc=function(d,f,h,k){var n;n=this.Sv[d];k=k.cc.location;n || (n=this.Sv[d]={count:0,eh:f,NC:!1,error:h,CEa:[],ACa:{},location:k,S:h.S,xuc:h});return n;};m.prototype.getState=function(d){return this.Sv[d];};m.prototype.yLb=function(d){this.Sv[d]=void 0;};m.prototype.wK=function(d,f){var h;if(this.sI){h={type:"logdata",target:"endplay",fields:{}};h.fields[f]={type:"array",value:d,adjust:["ts"]};this.DV.uC(h);}};m.prototype.dYb=function(d,f,h){var k;k=void 0 === f || f === d.Aq().HL;return d.Vaa(k,k?void 0:f - 1,h);};m.prototype.vbc=function(d,f){var h,k,n,p,q,v,t,w,u,x,y,z;h=this;p=this.DV;q=this.config;v=f.$c;t=this.Sv[v];if(t){w=d.url;u=this.qG[d.$c + "-" + v];if(u){x=t.error;u && u.xo && clearTimeout(u.xo);u.ja=!0;u.count=0;u.Tea=void 0;t.ACa[d.$c]=!0;u=this.Sv[d.$c];if((null === u || void 0 === u?0:u.NC) && q.TA){p.Ckb(d.$c,u.error.z2[1]);if(this.sI){y={ts:g.time.fa(),id:d.requestId,servid:f.$c,gid:d.groupId?d.groupId:-1};this.wK(y,"errst");}this.Sv[d.$c]=void 0;this.Qt();}if(w !== f.url){z=this.qG[v + "-" + v];z && z.ja || (v=null === u || void 0 === u?void 0:u.location,q=Math.min((null === (n=null === (k=null === v || void 0 === v?void 0:v.Jb) || void 0 === k?void 0:k.fQ) || void 0 === n?void 0:n.xa) || Math.random() * q.Sca,q.Sca),setTimeout(function(){var B;if(!(!1 !== t.NC || z && z.ja) && (t.NC=!0,p.vu(x.z2[0],x.z2[1],f.stream.wE.url,x),h.sI)){B={ts:g.time.fa(),id:d.requestId,servid:f.$c,gid:d.groupId?d.groupId:-1};h.wK(B,"erep");}},q));}this.sI && (y={ts:g.time.fa(),id:d.requestId,result:1,servid:d.$c,gid:d.groupId?d.groupId:-1},this.wK(y,"pbres"));}}};m.prototype.sbc=function(d,f){var h,k,n,p,q,v,t,w,u,x,y,z,B;h=this;p=this.DV;q=this.config;v=f.$c;t=this.Sv[v];w=d.$c;u=this.qG[w + "-" + v];if(u && t){x=0;u.ja=!1;u.Tea=void 0;t.ACa[w]=!1;y=t.CEa;if(q.TA && w === v && f.isPrimary){z=t.location;z=(null === (n=null === (k=null === z || void 0 === z?void 0:z.Jb) || void 0 === k?void 0:k.fQ) || void 0 === n?void 0:n.xa) || 300 * Math.random();k=Math.min(z * Math.pow(2,u.count),12E4);k+=Math.random() * (1E4 > k?100:1E4);u.xo=setTimeout(function(){var A;u.xo=void 0;A=h.h4a(d.url,f,w);A.agc(d.groupId);u.Tea=A.Mi();},k);}++u.count;if(w === v && (x=0,y.forEach(function(A){!1 === t.ACa[A] && x++;}),y.length === x && t.count >= q.Yca)){B=t.error;t.NC=!0;q=f.stream;(0,c.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(A){p.vu(B.z2[0],B.z2[1],A.url,B);h.sI && (A={ts:g.time.fa(),id:-1,servid:A.cc.id},h.wK(A,"erep"));});}this.sI && (q={ts:g.time.fa(),id:d.requestId,result:0,servid:d.$c,gid:d.groupId?d.groupId:-1},this.wK(q,"pbres"));}};m.prototype.gha=function(d){var f,h,k;if(d.url){h=this.DV;k=h.Ffc(d.url);k || (k=null === (f=this.DV.A$a(d)[0]) || void 0 === f?void 0:f.id);k && (d=this.Sv[k]) && d.NC && this.config.TA && (h.Ckb(d.error.l0a,!1),this.sI && (h={ts:g.time.fa(),id:-1,servid:k},this.wK(h,"errst")),this.yLb(k),(k=this.qG[k + "-" + k]) && k.xo && clearTimeout(k.xo));}};m.prototype.reset=function(){var d,f,h;d=this.qG;for(h in d){d.hasOwnProperty(h) && (f=d[h + "-" + h]) && f.xo && clearTimeout(f.xo);}this.qG={};this.Sv={};};return m;})();b.$Ta=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.CIa=void 0;c=a(0);l=a(13);g=c.__importDefault(a(3)).default.rx;r=(function(m){function d(f){var h;h=m.call(this) || this;h.yZa=f;h.W6=f.groupId;h.ck=new l.gf();h.ck.on(h,g.ff.xU,h.boa);h.ck.on(h,g.ff.CH,h.IV);return h;}c.__extends(d,m);d.prototype.x9b=function(f,h,k){g.prototype.open.call(this,f,h,k);};d.prototype.agc=function(f){this.W6=f;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.W6;},enumerable:!1,configurable:!0}});d.prototype.ud=function(){this.ck && this.ck.clear();g.prototype.ud.call(this);};d.prototype.boa=function(f){this.yZa.vbc(f.probed,f.affected);this.ud();};d.prototype.IV=function(f){this.yZa.sbc(f.probed,f.affected);this.ud();};return d;})(g);b.CIa=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.iNa=void 0;c=a(0);l=a(117);g=a(433);m=a(6);d=c.__importDefault(a(3));r=a(91);f=a(436);h=a(2);k=a(118);a=(function(n){function p(q,v,t,w,u,x,y,z,B,A,C){var D;D=n.call(this,q) || this;D.Ke=q;D.H=v;D.L=t;D.uC=w;D.qF=x;D.Xba=y;D.AA=z;D.TZa=B;D.gi=A;D.BYa=[void 0,void 0];D.rV=null !== C && void 0 !== C?C:{Ix:[Object.create(null),Object.create(null)]};u?D.aZ=u:(D.Ve=k.Do.instance.Dt("headers","" + D.Ke.N,!0,!1,{},D.L),D.Ve.oa());return D;}c.__extends(p,n);Object.defineProperties(p.prototype,{Ix:{get:function(){return this.rV.Ix;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{UD:{get:function(){return this.rV.UD;},set:function(q){this.rV.UD=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{zN:{get:function(){return this.rV.zN;},set:function(q){this.rV.zN=q;},enumerable:!1,configurable:!0}});p.prototype.ud=function(){var q;q=this;this.Ix.forEach(function(v,t){for(var w in v){v[w].ud();q.Isa(t,w);}});this.Ve && k.Do.instance.kJ(this.Ve);this.Ve=void 0;};p.prototype.Yr=function(q,v){return this.Ix[q][v];};p.prototype.oba=function(){return !(!this.UD || !this.UD.length);};p.prototype.tra=function(){this.UD=void 0;};p.prototype.hS=function(q){this.UD=q;};p.prototype.wGa=function(){var q,v,t;if(!this.oba() || this.zN)return !1;q=m.u.J;for(l.qn.Bq(q);0 < this.UD.length;){v=this.UD.shift();t=this.Ke.xy(q,v);if(t && !this.X_b(q,v) && t.nw)return (this.zN=v,this.aha(t,{offset:0,qS:!0}));}return !1;};p.prototype.PGa=function(q,v){var t;t=this;v.forEach(function(w){var u;u=t.Yr(q,w.Sa);u && !w.te && (u.stream.te?w.E9(u.stream):(u.o0 || (u.o0=[]),u.o0.push(t.Ke)));});};p.prototype.SR=function(q,v,t){var w,u,x;w=this;x=this.Ke;m.jg.forEach(function(y){var z,B,A,C,D;if(x.zc(y) && (void 0 === t || y === t)){C=q[y];(0,h.assert)(C && x.getTrackById(C.trackId) === C);C=C.Lc;if(x.ml)w.H.warn("requestHeadersFromManifest, shutdown detected");else if(x.wk.E2(x.N,C)){D=null !== (A=null === (B=null === (z=w.qF(y)) || void 0 === z?void 0:z.tK) || void 0 === B?void 0:B.bitrate) && void 0 !== A?A:0;z=(0,f.cua)(C,D);void 0 === z && w.H.warn(("Unable to find stream for bitrate ").concat(D));z=C[z];(B=x.Yr(y,z.Sa)) && B.stream.ma?x.Okc(y,B):(y={offset:0,qS:!1,XE:y === m.u.J,py:!0,$Q:!w.Xba(x)},x.$3a(z,y,v));}else w.H.warn("requestHeadersFromManifest, unable to update urls");}});x.vba=!0;null === (u=this.gi) || void 0 === u?void 0:u.call(this,x.Vb).Mqa();};p.prototype.VG=function(q,v){var t,w,u,x;t=this.L;w=this.Yr(q.mediaType,q.Sa);if(w)return (w.stream.ma || w.qS && this.R2a(w),!1);w=this.fCb;u=this.gCb;if(void 0 !== t.nAa && void 0 !== w && void 0 !== u){x=d.default.time.fa();if(x - w < t.nAa || x - u < t.nAa)return !1;}q=this.aha(q,{offset:0},void 0,void 0,v);this.gCb=d.default.time.fa();return q;};p.prototype.aha=function(q,v,t,w,u){var x,y,z,B,A;B=q.mediaType;l.qn.Bq(B);A=q.Sa;if(this.sAb(A,!!v.py))return (null === (x=this.TZa) || void 0 === x?void 0:x.call(this),!1);if(x=this.Yr(B,A))q=!1;else {x=(A=this.L.Enb && q.ta)?0:v.offset;A=A?0:null !== (y=v.ga) && void 0 !== y?y:this.cBb(q);y=c.__assign(c.__assign({},v),{offset:x,ga:A});x=!!y.XE;A=!!y.$Q;this.aZ?u=this.aZ(B,!!y.py,x,A,!!t):u || (u=this.Ve);(0,h.assert)(u);q.url && (this.qF(B).Nya=q.Vaa(!0));x=q=this.BXa(q,u,y);if(!q.SK())return (this.Ke.hg("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}v.py && w && (this.Ke.mj[B]=x);null === (z=this.TZa) || void 0 === z?void 0:z.call(this);return q;};p.prototype.vm=function(){var q,v;q=this;v=[];this.Ix.forEach(function(t,w){var x;l.qn.Bq(w);for(var u in t){w=t[u];x=w.QGa();1 === x?v.push(w):2 === x && q.Ke.hg("swapUrl failure");}});return v;};p.prototype.ql=function(q){var v,t;v=q.mediaType;t=l.qn.Bq(v);this.Ke.ml?t.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.uC({type:"logdata",target:"startplay",fd:{usedNativeDataView:q.Llc}}),q.rea > q.B9b && (this.BYa[v]=q.rea),q.qS && this.R2a(q),this.FBb(q),this.fCb=d.default.time.fa(),this.Ke.events.emit("onHeaderRequestComplete",q));this.Uv(q);};p.prototype.j8=function(q,v,t){var w;w=q.mediaType;l.qn.Bq(w);w=this.Ke.xy(w,q.Sa);if(v !== !!q.Mm)return !1;this.O_a(q);q.dHb(w);this.iXa(q);this.Ke.events.emit("onHeaderFromCache",{header:q,fVb:t});return !0;};p.prototype.nO=function(q,v){var t,w,u,x;t=[];w=this.Ix[q];for(u in w){x=w[u];x && !x.stream.ma && x.tu === v && (this.Isa(q,u),t.push({stream:x.stream,offset:x.offset,ga:x.ga,XE:x.XE,py:x.py,$Q:x.$Q,EBa:x.EBa}),x.ud());}return t;};p.prototype.LDa=function(q){var v;v=this;q.forEach(function(t){v.aha(t.stream,t);});};p.prototype.O_a=function(q){this.Ix[q.mediaType][q.Sa]=q;};p.prototype.X_b=function(q,v){return !!this.Yr(q,v);};p.prototype.FBb=function(q){var v,t,w,x;v=this.L;t=l.qn.Bq(q.mediaType);w=q.stream.ma;if(v.usa){v=w.length;t.trace("fragment count:",v);for(var u=0;u < v;++u){x=w.get(u);t.trace("fragment: " + u + ", startPts: " + x.ca + ", duration: " + x.duration + ", offset: " + x.offset);}}this.iXa(q);};p.prototype.iXa=function(q){var v,t;v=q.mediaType;t=q.Sa;l.qn.Bq(v);q.o0 && (q.o0.forEach(function(w){(w=w.xy(v,t)) && w !== q.stream && !w.te && w.E9(q.stream);}),q.o0=void 0);this.Ke.C_b(q);};p.prototype.BXa=function(q,v,t){var w,u;w=this;u=l.qn.Bq(q.mediaType);q=new g.fia(q,this.L,v,t,this,!1,u);q.addListener("headerRequestCancelled",function(x){w.EBb(x.request);});q.oa(void 0);this.O_a(q);return q;};p.prototype.sAb=function(q,v){return this.AA && (q=this.AA.n_(this.Ke.K,q)) && this.j8(q,!1,v)?!0:!1;};p.prototype.cBb=function(q){var v,t,w,u;v=q.rm;t=q.O;w=t.duration;u=this.L;return q.ta?512:t.Wf.rg?u.e7a?u.e7a:u.uba:u.Ilc && v?v.offset + v.size:(q=this.BYa[q.mediaType])?q + 128:u.zta?2292 + 12 * Math.ceil(w / 2E3):u.uba;};p.prototype.EBb=function(q){this.Isa(q.mediaType,q.Sa);};p.prototype.Isa=function(q,v){delete this.Ix[q][v];};p.prototype.R2a=function(q){this.zN === q.Sa && (this.zN=void 0);};return p;})(r.bx);b.iNa=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Byb=void 0;c=a(0).__importDefault(a(3));l=a(117);g=["",""];r=(function(){function m(d){this.Er=d;this.complete=this.append=this.Y$=this.$ya=this.open=0;}Object.defineProperties(m.prototype,{console:{get:function(){return l.qn.Bq(this.Er.mediaType);},enumerable:!1,configurable:!0}});m.prototype.$8b=function(){this.open=c.default.time.fa();};m.prototype.T8b=function(){this.$ya=c.default.time.fa();this.fk();};m.prototype.P8b=function(){this.Y$=c.default.time.fa();this.fk();};m.prototype.E8b=function(){this.append=c.default.time.fa();this.fk();};m.prototype.c0=function(){this.complete=c.default.time.fa();this.fk();};m.prototype.fk=function(){var d;d=("RequestLedger ID: ").concat(this.Er.Mi());d+=(" load-open: ").concat(this.$ya - this.open);0 < this.Y$ && (" firstbyte-load: ").concat(this.Y$ - this.$ya);0 < this.append && (" append-firstbyte: ").concat(this.append - this.Y$);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.Er.mediaType,this.complete - this.open > this.Er.duration?((" duration: ").concat(this.Er.duration),g[d]+="X"):g[d]+=".",10 < g[d].length && (g[d]=g[d].slice(1)));};return m;})();b.Byb=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zUa=void 0;c=a(0);l=a(13);r=(function(g){function m(d,f,h,k){var n;n=g.call(this) || this;n.H=d;n.track=f;n.Rn=!1;n.Cna=!1;n.Ph=new l.gf();n.Ph.on(f,"networkfailing",function(){n.emit("networkfailing");});n.Ph.on(f,"error",function(){n.H.warn("requestQueue got error");n.emit("error");});if(h)(n.Rn=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.Ph.on(f,"created",function(){n.Rn=!0;n.emit("created");});n.Cna=k;return n;}c.__extends(m,g);Object.defineProperties(m.prototype,{M$:{get:function(){return this.track.M$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ah:{get:function(){return this.track.Ah;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Pj:{get:function(){return this.track.Pj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{mY:{get:function(){return this.track.mY;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});m.prototype.oa=function(){var d,f;this.Cna || (null === (f=(d=this.track).oa) || void 0 === f?void 0:f.call(d),this.Cna=!0);};m.prototype.kw=function(){return this.track.kw();};m.prototype.toString=function(){return this.track.toString();};m.prototype.toJSON=function(){return this.track;};m.prototype.Gt=function(){this.Ph.clear();};return m;})(l.EventEmitter);b.zUa=r;},function(r,b,a){var f,h,k,n,p,q,v,t,w;function c(u){var x,y,z;u=u.parent;x=!1;if(u && u.children){y={};y[t.sn]=[];y[t.ym]=[];y[t.TEMPORARY]=[];z=u.children;z.forEach(function(B){B && y[B.Uf].push(B);});0 < y[t.sn].length || (y[t.ym].length === z.length?u.Uf !== t.ym && (u.Uf=t.ym,v.error("PERM failing :",n.default.Wh.name[u.hp] + " " + u.id),x=!0):(u.Uf === t.sn && (u.Uf=t.TEMPORARY,v.error("TEMP failing :",n.default.Wh.name[u.hp] + " " + u.id),x=!0),y[t.TEMPORARY].forEach(function(B){B.Uf=t.sn;})),x && c(u));}}function l(u){var x;if((u=u.parent) && 0 < u.children.length && u.Uf !== t.sn){x={};x[t.sn]=[];x[t.ym]=[];x[t.TEMPORARY]=[];u.children.forEach(function(y){y && x[y.Uf].push(y);});0 < x[t.sn].length && (u.Uf=t.sn,l(u));}}function g(u){return u.Uf !== t.sn;}function m(u){switch(u.Uf){case t.sn:return "OK";case t.ym:return "FAILED PERMANENTLY";case t.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(u,x){if(u.Uf === t.TEMPORARY || u.Uf === t.ym && x)u.Uf=t.sn;u.children && u.children.forEach(function(y){y && d(y,x);});}Object.defineProperties(b,{__esModule:{value:!0}});b.YOa=void 0;f=a(0);h=f.__importStar(a(12));r=a(13);k=a(6);n=f.__importDefault(a(29));p=f.__importDefault(a(3));q=a(2);v=new p.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(u){u[u.sn=0]="OK";u[u.TEMPORARY=1]="TEMPORARY";u[u.ym=2]="PERMANENT";})(t || (t={}));(function(u){u[u.ux=0]="STARTUP";u[u.yyb=1]="REBUFFER";})(w || (w={}));a=(function(u){var R4Y;R4Y=2;function x(y,z,B,A,C,D){var Z4M,E;Z4M=2;for(;Z4M !== 26;){switch(Z4M){case 12:var K3q="net";K3q+="w";K3q+="ork";E.Gda=!1;E.Oq={id:K3q,hp:n.default.Wh.cA,Uf:t.sn,bz:void 0,parent:void 0,children:E.sC};Z4M=10;break;case 7:E.qm={};E.urls={};E.streams={};E.sC=[];Z4M=12;break;case 15:var l14="1SIY";l14+="bZrNJCp";l14+="9";l14;return E;break;case 2:E=u.call(this) || this;E.Ac=B;E.vk=A;E.config=C;E.bDb=D;E.ybc=w.ux;E.Nj={};Z4M=7;break;case 18:var G3M="L";G3M+="I";G3M+="V";G3M+="E";B=y.ol;E.ta=G3M === y.ih && !!B;E.wW(y,z,n.default.tx.ux);Z4M=15;break;case 10:E.k7=null;E.EG=null;E.fS=n.default.tx.ux;Z4M=18;break;}}}for(;R4Y !== 22;){switch(R4Y){case 2:f.__extends(x,u);x.prototype.MZb=function(){var L1s;L1s=2;for(;L1s !== 1;){switch(L1s){case 4:return this.sC[5].Jb;break;case 2:return this.sC[0].Jb;break;}}};x.prototype.Rv=function(){var g3K;g3K=2;for(;g3K !== 1;){switch(g3K){case 2:return g(this.Oq);break;}}};R4Y=4;break;case 4:x.prototype.Ffc=function(y){var I5D;I5D=2;for(;I5D !== 5;){switch(I5D){case 2:I5D=(y=this.urls[y]) && y.parent?1:5;break;case 1:return y.parent.id;break;}}};x.prototype.A$a=function(y){var A7X,z,B,W03,D,A,C,b9X,O$p,i19;A7X=2;for(;A7X !== 4;){switch(A7X){case 2:B=[];try{W03=2;for(;W03 !== 9;){switch(W03){case 3:C=A.next();W03=1;break;case 5:D=this.urls[C.value];D.url === y.iz.url && B.push(D.cc);W03=3;break;case 1:W03=!C.done?5:9;break;case 2:(A=f.__values(Object.keys(this.urls)),C=A.next());W03=1;break;}}}catch(G){var E;E={error:G};}finally{b9X=2;for(;b9X !== 1;){switch(b9X){case 2:try{O$p=2;for(;O$p !== 1;){switch(O$p){case 2:C && !C.done && (z=A.return) && z.call(A);O$p=1;break;}}}finally{i19=2;for(;i19 !== 5;){switch(i19){case 2:i19=E?1:5;break;case 3:i19=E?4:6;break;case 1:throw E.error;i19=5;break;}}}b9X=1;break;}}}return B;break;}}};x.prototype.w9a=function(y){var K6p;K6p=2;for(;K6p !== 1;){switch(K6p){case 2:for(var z in this.streams){if(this.streams[z].wE === y){return this.streams[z];}}K6p=1;break;}}};x.prototype.wW=function(y,z,B){var I6V,D,E,A,C,G;I6V=2;for(;I6V !== 26;){switch(I6V){case 9:y.servers.forEach(function(F){var o_4,L,K,O;o_4=2;for(;o_4 !== 14;){switch(o_4){case 1:o_4=A.qm[L]?5:4;break;case 2:L=F.id;o_4=1;break;case 9:K=[];F={id:L,hp:n.default.Wh.IH,Uf:t.sn,bz:void 0,parent:O,children:K,urls:K,name:F.name,type:F.type,vc:F.rank,location:O};A.qm[F.id]=F;O.children.push(F);o_4=14;break;case 4:O=A.Nj[F.key];o_4=3;break;case 5:A.qm[L].vc=F.rank;o_4=14;break;case 3:o_4=O?9:14;break;}}});(D=y.ih,E=y.ol);I6V=7;break;case 20:y=this.sC.filter(function(F){var l6k,L;l6k=2;for(;l6k !== 4;){switch(l6k){case 2:L=F.qm.every(function(O){var q4u;q4u=2;for(;q4u !== 1;){switch(q4u){case 2:return 0 === O.urls.length;break;}}});L && (F.qm.forEach(function(O){var U8c;U8c=2;for(;U8c !== 1;){switch(U8c){case 2:A.qm[O.id]=void 0;U8c=1;break;}}}),A.Nj[F.id]=void 0,F.parent=void 0,F.children.length=0,F.streams={});return !L;break;}}});y.forEach(function(F){var y_T;y_T=2;for(;y_T !== 1;){switch(y_T){case 2:F.qm.sort(function(L,O){var D_E;D_E=2;for(;D_E !== 1;){switch(D_E){case 2:return L.vc - O.vc;break;}}});y_T=1;break;}}});I6V=18;break;case 18:this.sC=y;this.Oq.children=y;this.EG=null;this.fS=B;this.dump();I6V=26;break;case 2:A=this;void 0 === B && (B=n.default.tx.jwb);y.locations.forEach(function(F){var k_w,O,K,I,L;k_w=2;for(;k_w !== 7;){switch(k_w){case 4:(O=[],K=A.vk.get(L),I=A.Oq);F={id:L,hp:n.default.Wh.LOCATION,Uf:t.sn,vc:F.rank,level:F.level,weight:F.weight,bz:void 0,parent:I,children:O,qm:O,streams:{},Jb:K};A.Nj[F.id]=F;I.children.push(F);k_w=7;break;case 5:(A.Nj[L].vc=F.rank,A.Nj[L].level=F.level,A.Nj[L].weight=F.weight);k_w=7;break;case 1:k_w=A.Nj[L]?5:4;break;case 2:L=F.key;k_w=1;break;}}});this.k7=p.default.time.fa();this.sC.sort(function(F,L){var L52;L52=2;for(;L52 !== 1;){switch(L52){case 2:return F.level - L.level || F.vc - L.vc;break;}}});I6V=9;break;case 7:var y6V="L";y6V+="IV";y6V+="E";var i6q="L";i6q+="I";i6q+="V";i6q+="E";(0,q.assert)(this.ta && i6q === D && !!E || !this.ta && y6V !== D && !E);this.ta && (this.A4b=E.s8b);G=!0;z && (G=!1,this.Kbc(z));y.audio_tracks.forEach(function(F){var O9L;O9L=2;for(;O9L !== 1;){switch(O9L){case 2:A.Nib(k.u.T,F,G);O9L=1;break;}}});y.video_tracks.forEach(function(F){var j08;j08=2;for(;j08 !== 1;){switch(j08){case 2:A.Nib(k.u.J,F,G);j08=1;break;}}});null === (C=y.timedtexttracks) || void 0 === C?void 0:C.forEach(function(F){var D2I;D2I=2;for(;D2I !== 1;){switch(D2I){case 2:A.Cbc(F,G);D2I=1;break;}}});I6V=20;break;}}};x.prototype.E2=function(y,z,B){var K3E,A,C,D,E,G,L,F;K3E=2;for(;K3E !== 17;){switch(K3E){case 2:(A=this,C=this.config,D=this.ta && void 0 !== B);D && (this.EG=null);(E=this.Ac.get(),G=0);K3E=4;break;case 4:p.default.Hv && p.default.Hv(y);K3E=3;break;case 3:K3E=g(this.Oq)?9:8;break;case 11:L=this.EG;K3E=10;break;case 9:return !1;break;case 10:K3E=!L.length?20:19;break;case 14:h.wb(this.EG) && (this.EG=this.Wkc());K3E=13;break;case 20:return (this.vu(n.default.Wh.cA,!1),!1);break;case 13:K3E=!this.EG?12:11;break;case 8:F=n.default.$j.wD;C.R_ && (F=n.default.$j.vD);this.Ac.location && E.confidence >= F && (y=this.Nj[this.Ac.location]) && (y.Jb=E);K3E=14;break;case 19:var l65="(emp";l65+="t";l65+="y stream";l65+=" list)";var h3K="Did ";h3K+="not find a URL for ";h3K+="AN";h3K+="Y stre";h3K+="am...";var u8h="netwo";u8h+="rkFail";u8h+="ed";var n61="Network has failed, not upd";n61+="atin";n61+="g stream sele";n61+="ction";z.forEach(function(O,K){var H_n,I;H_n=2;for(;H_n !== 5;){switch(H_n){case 2:var x$L=" ";x$L+="K";x$L+="bps)";var z9Y=" ";z9Y+="(";var R7i="]";R7i+=" ";var u1s="Fa";u1s+="ilin";u1s+="g st";u1s+="ream ";u1s+="[";I=O.id;L.some(function(M){var g3y,J,H;g3y=2;for(;g3y !== 8;){switch(g3y){case 1:g3y=!H?5:4;break;case 4:J=H.Nj[0];void 0 === O.Rea && (O.Rea=J.id,O.xCa=H.SS[J.id][0].cc.id);return H.SS[M.id].some(function(N){var f2E,P;f2E=2;for(;f2E !== 20;){switch(f2E){case 4:return !1;break;case 5:f2E=g(N) || D && !N.Fca.some(function(W){var h0s;h0s=2;for(;h0s !== 1;){switch(h0s){case 2:R7xOY.e_n(11);return R7xOY.p3p(B,W);break;}}})?4:3;break;case 3:var Q_I="locati";Q_I+="onfailove";Q_I+="r";var t8M="serve";t8M+="rfa";t8M+="ilover";var s4K="p";s4K+="erfor";s4K+="m";s4K+="ance";var w3M="u";w3M+="nkn";w3M+="own";P=w3M;O.location !== M.id && (C.Fw?O.pya=M.id === J.id:P=M !== L[0] && D && H.Xya !== B?"" + n.default.tx.czb:M !== L[0]?"" + n.default.tx.sia:void 0 === O.location?"" + n.default.tx.ux:h.wa(O.bdb) || O.bdb === M.id?h.wa(O.fdb) || O.fdb === N.cc.id?s4K:t8M:Q_I,O.location=M.id,O.cza=M.level,O.zu=P);O.url=N.url;O.cc=N.cc.id;O.zL=N.cc.name;O.Au=N.cc.type;f2E=13;break;case 2:f2E=g(N.cc)?1:5;break;case 13:D && (H.Xya=B);O.Jb=C.jqa?M.Jb.confidence >= n.default.$j.vD || E.confidence < F?M.Jb:E:E.confidence === n.default.$j.HAVE_NOTHING || M.Jb.confidence >= n.default.$j.vD?M.Jb:E;C.q6a && !O.Jb.CZ && (O.Jb.CZ=M.Jb.CZ);f2E=10;break;case 1:return (N.cc.Uf === t.TEMPORARY && (O.Uf=t.TEMPORARY),C.Fw && O.cc === N.cc.id && N.cc.bz && (O.bz=N.cc.bz),!1);break;case 10:return !0;break;}}});break;case 2:H=M.streams[I];g3y=1;break;case 5:return !1;break;}}})?(O.RB=!1,O.Uf=void 0,O.gs && ++G):O.Uf && O.Uf === t.TEMPORARY?A.Oq.Uf=t.TEMPORARY:O.RB || (v.warn(u1s + K + R7i + I + z9Y + O.bitrate + x$L),O.ALb(),O.RB=!0);H_n=5;break;}}});return g(this.Oq)?(v.warn(n61),this.Gda=!0,this.emit(u8h,this.Oq.Uf === t.ym),!1):G?!0:(v.warn(h3K + (z.length?"":l65)),this.vu(n.default.Wh.cA,!0),!1);break;case 12:return (this.vu(n.default.Wh.cA,!1),!1);break;}}};R4Y=6;break;case 6:x.prototype.Ifc=function(y,z){var P5k,B,A;P5k=2;for(;P5k !== 4;){switch(P5k){case 2:(B=[],A=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(C,D){var z1Q,G,F,L,E;z1Q=2;for(;z1Q !== 13;){switch(z1Q){case 4:var f3D="8";f3D+="0";var l_A="4";l_A+="4";l_A+="3";(G="s" === E[1],F=E[2]);E=E[3];E.length || (E=G?l_A:f3D);z1Q=8;break;case 7:C.urls.some(function(O){var S5_;S5_=2;for(;S5_ !== 5;){switch(S5_){case 2:S5_=O.url === D?1:5;break;case 3:S5_=O.url !== D?2:7;break;case 9:return (L=O,~9);break;case 1:return (L=O,!0);break;}}});L && B.push({url:L,cc:C});z1Q=13;break;case 5:z1Q=E && 4 === E.length?4:13;break;case 2:C=C.cc;E=D.match(A);z1Q=5;break;case 8:z1Q=h.Og(F) && h.Og(E) && F === y && E == z?7:13;break;}}});return B;break;}}};x.prototype.vu=function(y,z,B,A){var v6e,C,D,E,F,G,z49,D_w,L;v6e=2;for(;v6e !== 42;){switch(v6e){case 2:(C=y !== n.default.Wh.cA && B?this.urls[B]:this.Oq,D=this.Oq.Uf,E=z?t.ym:t.TEMPORARY);v6e=1;break;case 14:v6e=13;break;case 9:var E$J=" ";E$J+="a";E$J+="t";E$J+=" ";var m4c=" failure repo";m4c+="rte";m4c+="d";m4c+=" for ";var J9z="T";J9z+="E";J9z+="M";J9z+="P";var y2v="P";y2v+="E";y2v+="RM";B=v;G=B.warn;y=(z?y2v:J9z) + m4c + n.default.Wh.name[y] + E$J;z=[];v6e=14;break;case 13:F=C;v6e=12;break;case 28:v6e=44;break;case 12:v6e=F?11:27;break;case 3:v6e=E !== C.Uf?9:42;break;case 29:v6e=D_w === t.sn?24:28;break;case 43:var E2e="Unable to find";E2e+=" failure entity ";E2e+="for URL ";R7xOY.o4M(6);v.warn(R7xOY.p3p(B,E2e));v6e=42;break;case 1:v6e=C && C.parent && C.hp !== y?5:4;break;case 44:var s_7="Invalid failu";s_7+="r";s_7+="e state";throw Error(s_7);v6e=24;break;case 4:v6e=C?3:43;break;case 17:z.unshift(F.id);v6e=19;break;case 20:z.unshift(L.id + "(" + L.name + ")");v6e=19;break;case 18:v6e=z49 === n.default.Wh.LOCATION?17:16;break;case 15:var p2t="<";p2t+="url f";p2t+="or ";z.unshift(p2t + F.stream.bitrate + ">");v6e=19;break;case 25:return;break;case 16:v6e=z49 === n.default.Wh.URL?15:19;break;case 11:z49=F.hp;v6e=z49 === n.default.Wh.IH?10:18;break;case 27:var E45=" ";E45+=":";E45+=" w";E45+="as ";G.call(B,y + (z.length?"/" + z.join("/"):"") + E45 + m(C));v6e=26;break;case 5:C=C.parent;v6e=1;break;case 30:v6e=D_w === t.TEMPORARY?24:29;break;case 19:F=F.parent;v6e=12;break;case 35:var P1M="netw";P1M+="orkF";P1M+="ailed";var g4U="Emitting net";g4U+="workFailed";g4U+=", permanent =";E > D && (v.warn(g4U,E === t.ym),this.emit(P1M,E === t.ym));this.EG=null;this.fS=n.default.tx.Cg;A && (this.fS=n.default.tx.eyb,C.bz=A);v6e=31;break;case 26:D_w=C.Uf;v6e=D_w === t.ym?25:30;break;case 24:C.Uf=E;c(C);this.Gda=this.Gda || g(this.Oq);E=this.Oq.Uf;v6e=35;break;case 31:this.dump();v6e=42;break;case 10:L=F;v6e=20;break;}}};x.prototype.Ckb=function(y,z){var v62;v62=2;for(;v62 !== 3;){switch(v62){case 5:this.EG=null;this.fS=n.default.tx.Ska;v62=3;break;case 1:(d(y,z),l(y));v62=5;break;case 2:v62=(y=this.qm[y])?1:5;break;case 8:v62=(y=this.qm[y])?2:2;break;}}};x.prototype.wfa=function(){var x0s;x0s=2;for(;x0s !== 1;){switch(x0s){case 2:d(this.Oq,!1);x0s=1;break;}}};R4Y=11;break;case 11:x.prototype.uC=function(y){var w$4,z;w$4=2;for(;w$4 !== 5;){switch(w$4){case 2:null === (z=this.bDb) || void 0 === z?void 0:z.call(this,y);w$4=5;break;}}};x.prototype.li=function(){var m1H;m1H=2;for(;m1H !== 1;){switch(m1H){case 2:this.Ndc(w.yyb);m1H=1;break;}}};x.prototype.Wa=function(){var z7T;z7T=2;for(;z7T !== 1;){switch(z7T){case 2:this.config.R4b && this.J$b();z7T=1;break;}}};x.prototype.Kbc=function(y){function z(F){var Z_G;Z_G=2;for(;Z_G !== 1;){switch(Z_G){case 2:Object.keys(F).forEach(function(L){var s4P,O,K;s4P=2;for(;s4P !== 9;){switch(s4P){case 2:O=F[L];C.add(L);s4P=5;break;case 5:s4P=O?4:9;break;case 14:s4P=O?5:5;break;case 4:var K4O="L";K4O+="I";K4O+="VE";K=A.streams[L];A.streams[L]=K?f.__assign(f.__assign({},K),O):{id:L,bitrate:O.bitrate,hb:null,type:O.mediaType,clear:O.Kj?!1:!0,gs:!0,urls:[],SS:{},Nj:[],wE:O,Xya:A.ta?K4O:void 0};s4P=9;break;}}});Z_G=1;break;}}}var R4x,B,A,C,q7F,D,E,N_V,Z25,p_V;R4x=2;for(;R4x !== 4;){switch(R4x){case 2:(A=this,C=new Set());try{q7F=2;for(;q7F !== 3;){switch(q7F){case 4:E=D.next();q7F=1;break;case 5:z(E.value);q7F=4;break;case 1:q7F=!E.done?5:3;break;case 14:E=D.next();q7F=8;break;case 2:(D=f.__values(y),E=D.next());q7F=1;break;}}}catch(F){var G;G={error:F};}finally{N_V=2;for(;N_V !== 1;){switch(N_V){case 2:try{Z25=2;for(;Z25 !== 1;){switch(Z25){case 2:E && !E.done && (B=D.return) && B.call(D);Z25=1;break;}}}finally{p_V=2;for(;p_V !== 5;){switch(p_V){case 9:throw G.error;p_V=9;break;case 1:throw G.error;p_V=5;break;case 2:p_V=G?1:5;break;}}}N_V=1;break;}}}Object.keys(this.streams).forEach(function(F){var t83;t83=2;for(;t83 !== 1;){switch(t83){case 2:C.has(F) || delete A.streams[F];t83=1;break;}}});R4x=4;break;}}};x.prototype.Nib=function(y,z,B){var y3L,A;y3L=2;for(;y3L !== 5;){switch(y3L){case 2:A=this;z.streams.forEach(function(C){var n7x;n7x=2;for(;n7x !== 1;){switch(n7x){case 2:A.Oib(y,C.downloadable_id,C,B);n7x=1;break;}}});y3L=5;break;}}};x.prototype.Cbc=function(y,z){var D8k,B;D8k=2;for(;D8k !== 4;){switch(D8k){case 2:var a07="n";a07+="o";a07+="n";a07+="e";D8k=a07 !== y.id?1:4;break;case 9:D8k="" != y.id?7:0;break;case 1:var h6H="im";h6H+="s";h6H+="c";h6H+="1.";h6H+="1";var a3n="im";a3n+="sc1.";a3n+="1";B=y.ttDownloadables[a3n];B && this.Oib(k.u.Za,y.downloadableIds[h6H],B,z);D8k=4;break;}}};x.prototype.Oib=function(y,z,B,A){var F9T,C,D;F9T=2;for(;F9T !== 10;){switch(F9T){case 2:C=this.streams[z];F9T=1;break;case 1:F9T=h.wa(C) && A?5:12;break;case 6:this.Dbc(C,B.urls);F9T=14;break;case 12:F9T=!C && !A?11:6;break;case 7:this.streams[C.id]=C;F9T=6;break;case 11:return;break;case 14:h.qg(C.SS,function(E){var R1h;R1h=2;for(;R1h !== 1;){switch(R1h){case 2:E.sort(function(G,F){var d_C;d_C=2;for(;d_C !== 1;){switch(d_C){case 2:return G.cc.vc - F.cc.vc;break;case 4:return G.cc.vc * F.cc.vc;break;}}});R1h=1;break;}}});C.Nj=C.Nj.sort(function(E,G){var l3B;l3B=2;for(;l3B !== 1;){switch(l3B){case 2:return E.level - G.level || E.vc - G.vc;break;}}});F9T=10;break;case 5:var U7J="L";U7J+="I";U7J+="V";U7J+="E";var H2x="n";H2x+="o";H2x+="n";H2x+="e";H2x+="-";A="";C=0;D=null;y !== k.u.Za && (A=B.content_profile,C=B.bitrate,y === k.u.J && (D=B.vmaf));C={id:z,bitrate:C,hb:D,type:y,profile:A,clear:0 === A.indexOf(H2x),gs:!0,urls:[],SS:{},Nj:[],Xya:this.ta?U7J:void 0};F9T=7;break;}}};R4Y=15;break;case 15:x.prototype.Dbc=function(y,z){var R9X,B;R9X=2;for(;R9X !== 5;){switch(R9X){case 2:B=this;z.forEach(function(A){var w3R,F,C,D,E,G;w3R=2;for(;w3R !== 14;){switch(w3R){case 8:0 === y.Nj.filter(function(L){var e8u;e8u=2;for(;e8u !== 1;){switch(e8u){case 2:return L.id === F.id;break;}}}).length && y.Nj.push(F);F.streams[y.id]=y;(A=y.SS[F.id])?A.push(D):y.SS[F.id]=[D];w3R=14;break;case 4:h.wa(D) && (D={id:C,hp:n.default.Wh.URL,Uf:t.sn,bz:void 0,parent:E,children:[],url:C,cc:E,stream:y,Fca:G},B.urls[C]=D,E.children.push(D));F=E.location;y.urls.push(D);w3R=8;break;case 5:w3R=E?4:14;break;case 2:(C=A.url,D=B.urls[C],E=B.qm[A.cdn_id]);B.ta && (G=A.liveOcaCapabilities);w3R=5;break;}}});R9X=5;break;}}};x.prototype.Wkc=function(){var j7d,y,z,B,A;j7d=2;for(;j7d !== 6;){switch(j7d){case 2:(y=this,z=this.config,B=this.sC.filter(function(C){var a$6;a$6=2;for(;a$6 !== 1;){switch(a$6){case 2:return !g(C) && 0 !== C.level;break;case 4:return -g(C) || 7 === C.level;break;}}}));j7d=1;break;case 3:j7d=null === this.k7 || this.k7 + z.bza < A?9:8;break;case 1:j7d=0 === B.length?5:4;break;case 9:(B.forEach(function(C){var t6t;t6t=2;for(;t6t !== 1;){switch(t6t){case 2:C.id !== y.Ac.location && (C.Jb=y.vk.get(C.id));t6t=1;break;}}}),this.k7=A);j7d=8;break;case 5:return null;break;case 8:B.sort(function(C,D){var B2u;B2u=2;for(;B2u !== 1;){switch(B2u){case 2:return C.level - D.level || C.vc - D.vc;break;}}});return B;break;case 4:A=p.default.time.fa();j7d=3;break;}}};x.prototype.Ndc=function(y){var m0s,z;m0s=2;for(;m0s !== 4;){switch(m0s){case 2:z=this.Ac.location;this.ybc=y;this.sC.forEach(function(B){var B93;B93=2;for(;B93 !== 1;){switch(B93){case 2:B.id !== z && B.Jb && B.Jb.confidence > n.default.$j.wD && (B.Jb.confidence=n.default.$j.wD);B93=1;break;}}});m0s=4;break;}}};x.prototype.J$b=function(){var j77,y;j77=2;for(;j77 !== 5;){switch(j77){case 2:y=this;this.Gda || this.sC.forEach(function(z){var P0p;P0p=2;for(;P0p !== 1;){switch(P0p){case 2:z.Uf === t.TEMPORARY && y.vk.fail(z.id,p.default.time.fa());P0p=1;break;}}});j77=5;break;}}};x.prototype.dump=function(){};return x;break;}}})(r.EventEmitter);b.YOa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.JIa=void 0;c=a(21);r=(function(){function l(g){this.config=g;}l.prototype.Lbc=function(g){var m,d,f;m=this.config;d=[];f=[];g.forEach(function(q,v){void 0 === q.hb?f.push(v):d.push(v);});if(0 !== f.length)for(var h=-1,k=-1,n=function(q){var v,t,w,u,x,y;v=f[q];t=g[v];if(0 === q || v !== f[q - 1] + 1)(h=d[(0,c.Lpa)(d,function(z){return z < v;})] || -1,k=d[(0,c.ot)(d,function(z){return z > v;})] || -1);w=0;u=m.b6b;q=0;x=m.c6b;-1 < k && (u=g[k].bitrate,x=g[k].hb);-1 < h && (q=g[h].hb,w=g[h].bitrate);u=Math.log(u);w=0 === w?0:Math.log(w);y=Math.log(t.bitrate);t.D$=Math.max(0,Math.min(110,Math.round((q * (u - y) + x * (y - w)) / (u - w) * 100) / 100));},p=0;p < f.length;p++){n(p);}};return l;})();b.JIa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.rQa=void 0;c=a(6);l=a(20);g=a(2);m=a(1006);d=a(1007);f=a(1008);h=a(1009);k=a(1010);n=a(1011);p=a(1012);q=a(1013);v=a(1014);t=a(1015);r=(function(){function w(u,x,y,z){this.config=u;this.mediaType=x;this.Yc=y;this.console=z;}w.prototype.append=function(u,x){var y,z,B,A;void 0 === this.track?this.mQ(u.stream):this.track !== u.stream.track && ((0,g.assert)(this.track.da),(0,g.assert)(u.stream.track.da),this.track=u.stream.track);(0,g.assert)(void 0 !== this.pq);z={pa:u,offset:null !== (y=u.KCa) && void 0 !== y?y:l.P.Pa,Re:this.config.aS,Hj:!1};z=this.pq.reduce(function(C,D){return D.append(C,x);},z);B=z.pa;y=z.offset;A=z.Hj;z=z.Oj;z=void 0 === z?[]:z;B.Ka && ((0,g.assert)(u.Ka,"Fragments must be marked for edit at request time"),u.tj(B.Ka));if(A || !this.Xeb)return {offset:y,Hj:A};A=this.Xeb.Ka(u);u=A.ja;B=A.Oj;A=A.response;Array.prototype.push.apply(z,void 0 === B?[]:B);return {offset:y,Hj:!u,Oj:z,response:A};};w.prototype.reset=function(){this.pq=this.track=void 0;};w.prototype.mQ=function(u){var x,y;this.track=u.track;this.Xeb=new v.dQa(this.console,this.config,this.mediaType,u.profile);this.pq=[];if(this.mediaType === c.u.T){this.config.aS && this.pq.push(new f.PUa(this.config,u.track,this.console));y=this.Pqa(u);y.equal(l.P.Pa)?this.config.Hm && u.Gf && this.Gxa(u.O.N) && this.pq.push(new n.iOa(this.config)):this.pq.push(new m.Bla(y));this.config.F_ || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(y.Fb(),", ") + ("").concat(null === (x=u.Gf) || void 0 === x?void 0:x.Fb())),this.pq.push(new h.OQa(this.config,u,this.console)));this.P2b()?(this.config.Th || this.pq.push(new p.NIa(u,this.config,this.Yc,this.console)),this.config.aS && this.pq.push(new t.oia(this.console)),this.pq.push(new d.$Qa(this.config,u,this.console)),this.$gc(u) && ((0,g.assert)(u.da),this.pq.push(this.qMb(u.Gf || l.P.Pa,u.da,y)))):(this.pq.push(new q.OIa(this.console)),this.config.aS && this.pq.push(new t.oia(this.console)));}};w.prototype.Gxa=function(u){return this.config.Gxa || this.config.Abb && -1 !== this.config.Abb.indexOf(u);};w.prototype.Pqa=function(u){return m.Bla.Pqa(this.config,u.Gf,this.Yc,this.console);};w.prototype.P2b=function(){return !this.config.nL;};w.prototype.$gc=function(u){return this.config.jkc && this.config.Hm && !!u.Gf;};w.prototype.qMb=function(u,x,y){return new k.sWa(u.Ea(y),x,this.console);};return w;})();b.rQa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Bla=void 0;c=a(20);l=a(10);r=(function(){function g(m){this.Gf=m;}g.Pqa=function(m,d,f,h){var k;k=c.P.Pa;d && (f=null === f || void 0 === f?void 0:f.buc,m.Alc && void 0 !== f && 0 <= f?(m=new c.P(f,48E3),k=d.add(m),l.M && h.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(m) + (" for ASE applied offset of ").concat(k,"."))):m.GI && (k=d));return k;};g.prototype.append=function(m){var d,f,h;d=m.Re;f=m.Hj;h=m.Oj;return {pa:m.pa,offset:m.offset.add(this.Gf),Re:d,Hj:f,Oj:h};};return g;})();b.Bla=r;},function(r,b,a){var l,g,m,d;function c(f){return ("").concat(f.toString()," (nrdp: ").concat(f.rL,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.$Qa=void 0;l=a(20);g=a(269);m=a(10);d=a(2);r=(function(){function f(h,k,n){this.console=n;this.offset=l.P.Pa;this.Gf=h.Hm?k.Gf:void 0;(0,d.assert)(k.da);this.da=k.da;}f.prototype.append=function(h){var k,n,p,q;if(h.Hj)return h;k=h.pa;n=h.offset;p=h.Re;q=h.Oj;void 0 !== this.Zcb && ((0,d.assert)(void 0 !== this.zya),k.oc.add(h.offset).equal(this.Zcb)?(h=this.$Jb(k,n.add(this.offset)).Z - this.zya,0 > h?this.offset=this.offset.add(l.P.vC):0 === h?this.offset.lessThan(l.P.Pa) && (this.offset=this.offset.add(l.P.vC)):1 === h?this.offset.greaterThan(l.P.Pa) && (this.offset=this.offset.Ea(l.P.vC)):this.offset=this.offset.Ea(l.P.vC)):this.offset=l.P.Pa);this.zya=this.ZJb(k,n.add(this.offset)).Z;this.Zcb=k.Ld.add(n);return {pa:k,offset:n.add(this.offset),Re:p,Hj:!1,Oj:q};};f.prototype.$Jb=function(h,k){var n,p;h=this.i0a(h.oc);n=(0,g.ww)(h).add((0,g.ww)(k));p=h.add(k).Ea(n);m.M && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(k) + ", start rounding error: " + (0,g.ww)(h).toString() + ", offset rounding error: " + (0,g.ww)(k).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.Fb() + ", (" + h.rL + k.rL + "ms), last fragment end nrdp: " + this.zya);return p;};f.prototype.ZJb=function(h,k){var n,p,q;n=this.da;h=this.i0a(h.Ld);p=(0,g.ww)(h.Ea(n)).add((0,g.ww)(n)).add((0,g.ww)(k));q=h.add(k).Ea(p);m.M && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Ea(n)) + ", frame duration: " + c(n) + ", offset: " + c(k) + ", timestamp rounding error: " + (0,g.ww)(h.Ea(n)).toString() + ", frame duration rouding error: " + (0,g.ww)(n).toString() + ", offset rounding error: " + (0,g.ww)(k).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.Fb() + ", (" + h.Ea(n).rL + n.rL + k.rL + "ms)");return q;};f.prototype.i0a=function(h){return this.Gf?h.Ea(this.Gf):h;};return f;})();b.$Qa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.PUa=void 0;c=a(20);l=a(2);g=a(10);r=(function(){function m(d,f,h){this.config=d;this.console=h;this.by=c.P.Pa;(0,l.assert)(f.da);this.da=f.da;d=f.Lc[0].profile;this.yda=this.sYb(d,this.da);this.cda=this.pYb(d,this.da);}m.prototype.append=function(d,f){var h,k,n,p,q;if(d.Hj)return d;h=d.pa;k=d.offset;n=d.Oj;n=void 0 === n?[]:n;d=d.Re;p=f.PQ;f=f.zAa;if(this.MBa){q=this.d7b(h,this.MBa);h.Ka && this.$pa(q)?(g.M && this.console.trace("SeamlessAudio: dropping first frame"),h.$sa(1),this.by=q):(this.by=q.add(this.da),this.m1a(this.by) || (g.M && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Ed.Fb() + " error would be " + this.by.Fb() + " (editing " + (h.Ka?"":"not ") + "allowed)"),n.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:h.Sa,pts:h.oc.Z}}}}),this.by=c.P.Pa,d=!1));this.MBa=void 0;}if(h.Rm || h.Gy)((0,l.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.Ka || !f && h.Gy || (q=this.e7b(h,p,f),q.pk(c.P.Pa) && (g.M && this.console.trace("SeamlessAudio: dropping last frame"),h.ata(1))),this.MBa=p);(0,l.assert)(this.m1a(this.by));this.yQ=h.Sc;return {pa:h,offset:k.add(this.by),Re:d,Hj:!1,Oj:n.length?n:void 0};};m.prototype.e7b=function(d,f,h){var k;if(h)k=this.by.add(d.Sc.Ea(h)).Ea(this.da);else (k=d.Sc.Ea(f),k=this.by.add(k).Ea(this.da));g.M && this.console.trace("SeamlessAudio: fragment end: " + d.Sc.Fb() + ", splice " + f.Fb() + ", next start " + (null === h || void 0 === h?void 0:h.Fb()) + ", error " + k.add(this.da).Fb() + ", error with frame drop " + k.Fb() + ", is" + (this.$pa(k)?"":" not") + " within bounds of [" + this.yda.Fb() + " and " + this.cda.Fb() + ")");return k;};m.prototype.d7b=function(d,f){var h;(0,l.assert)(this.yQ);h=this.by.add(this.yQ.Ea(d.Ed)).Ea(this.da);g.M && this.console.trace("SeamlessAudio: fragment start: " + d.Ed.Fb() + ", splice " + f.Fb() + ", last fragment end: " + this.yQ.Fb() + ", error " + h.add(this.da).Fb() + ", error with frame drop " + h.Fb() + ", is" + (this.$pa(h)?"":" not") + " within bounds of [" + this.yda.Fb() + " and " + this.cda.Fb() + ")");return h;};m.prototype.$pa=function(d){return d.lessThan(this.cda) && d.pk(this.yda);};m.prototype.m1a=function(d){return d.lessThan(this.cda.add(c.P.vC)) && d.pk(this.yda.Ea(c.P.vC));};m.prototype.pYb=function(d,f){return "object" === typeof this.config.hEa && void 0 !== this.config.hEa[d]?(d=new c.P(this.config.hEa[d],1E3).Zf(f.W).add(new c.P(1,f.W)),c.P.min(f,d)):f;};m.prototype.sYb=function(d,f){var h;if("object" === typeof this.config.iEa && void 0 !== this.config.iEa[d]){h=f.mk(-2);d=new c.P(this.config.iEa[d],1E3).Zf(f.W).Ea(new c.P(1,f.W));return c.P.max(h,d);}return new c.P(-12,1E3);};return m;})();b.PUa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.OQa=void 0;c=a(20);l=a(2);g=a(10);r=(function(){function m(d,f,h){var k;this.console=h;this.l1=!1;(0,l.assert)(f.da,"NegativePtsGuard: stream.frameDuration must exist.");this.da=f.da;this.Hm=d.Hm;this.Gf=null !== (k=f.Gf) && void 0 !== k?k:c.P.Pa;}m.prototype.append=function(d){var f,h,k,n,p;if(this.l1 || d.Hj)return d;f=d.pa;h=d.offset;k=d.Re;d=d.Oj;if(f.Ka){n=f.oc.Ea(this.Hm?this.Gf:c.P.Pa).add(h);if(n.lessThan(c.P.Pa)){p=Math.ceil(n.Ry(-1).mk(this.da));g.M && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Gf.Fb(),", ") + ("request content start ").concat(f.oc.Fb(),", ") + ("current timestamp offset ").concat(h.Fb()," => ") + ("firstPlatformTimestamp ").concat(n.Fb(),"."));f.$sa(p);}}this.l1=!0;return {pa:f,offset:h,Re:k,Hj:!1,Oj:d};};return m;})();b.OQa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sWa=void 0;c=a(20);l=a(10);r=(function(){function g(m,d,f){this.Gf=m;this.da=d;this.console=f;}g.prototype.append=function(m,d){var f,h,k,n,p,q;f=m.pa;h=m.offset;k=m.Re;n=m.Oj;m=m.Hj;if(!m){p=d.endOfStream;d=d.PQ;if(p && d){p=f.oc.Ea(this.Gf).add(h);q=f.Ld.Ea(this.Gf).add(h);d=d.Ea(c.P.vC);l.M && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.Fb() + "-" + q.Fb() + " vs media splice point at " + d.Fb());p.add(this.da).pk(d)?(l.M && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),m=!0):q.pk(d) && (d=Math.ceil(q.Ea(d).mk(this.da)),f.Ka?(l.M && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),f.ata(d)):(l.M && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),m=!0));}else p && l.M && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {pa:f,offset:h,Re:k,Hj:m,Oj:n};};return g;})();b.sWa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iOa=void 0;r=(function(){function a(c){this.l1=!1;this.hhc=c.S1b;}a.prototype.append=function(c){c.pa.Ka && (c.pa.qgc(this.l1?0:this.hhc),this.l1=!0);return c;};return a;})();b.iOa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.NIa=void 0;c=a(438);l=a(8);r=(function(){function g(m,d,f,h){this.config=d;this.Yc=f;this.console=h;this.da=m.da;}g.prototype.append=function(m,d){var f,h,k,n,p,q,v,t,w,u,x,y,z;if(m.Hj)return m;h=!1;k=(0,c.Jva)(this.config,this.Yc);n=m.pa;p=m.offset;q=m.Re;v=m.Oj;t=n.Sc;w=n.Ed;u=n.Gy;u=n.Rm || u;if(!m.pa.Ka || !u || q)return m;x=n.Ld.Ea(n.oc);u=Math.floor(x.mk(this.da));y=null !== (f=d.zAa) && void 0 !== f?f:t.Ea(this.da.Ry(2));t=y.Ea(w);f=u;z=!1;d.zAa && (d=this.d2a(x,t,t),f=d.xl,z=d.dgb);k=y.Ea(l.P.Na(k));w=l.P.max(k.Ea(w),l.P.Pa);z || (w=this.d2a(x,w,t),f=w.xl,w.dgb && (--f,this.da.Ry(f)));f < (this.config.Z6b || 1)?h=!0:0 < u - f && m.pa.ata(u - f);return {pa:n,offset:p,Re:q,Hj:h,Oj:v};};g.prototype.d2a=function(m,d,f){var h;m=l.P.min(m,d);m=Math.floor(m.mk(this.da));d=this.da.Ry(m);f=f.Ea(d);h=0 < m && f.lessThan(l.P.vC);return {xl:m,Bxc:d,Ruc:f,dgb:h};};return g;})();b.NIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OIa=void 0;c=a(10);r=(function(){function l(g){this.console=g;}l.prototype.append=function(g,m){var d,f,h,k,n,p,q;if(g.Hj)return g;d=!1;f=g.pa;h=g.offset;k=g.Re;g=g.Oj;m=m.PQ;n=f.Sc;if(this.ko && n.lessThan(this.ko.Sc)){p=this.ko.PQ.Ea(f.Ed);q=f.Sc.Ea(this.ko.PQ);q.lessThan(p) && (c.M && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(f) + (", current error: ").concat(p.Fb()) + (", discard error: ").concat(q.Fb())),d=!0);}this.ko=(f.Rm || f.Gy) && m?{PQ:m,Sc:n}:void 0;return {pa:f,offset:h,Re:k,Hj:d,Oj:g};};return l;})();b.OIa=r;},function(r,b,a){var g,m,d,f,h;function c(k,n,p,q,v){var t,w,u,x,y,z,B,A;if(void 0 !== k.oga || void 0 !== k.gFa || k.Pv || k.Qv){t=k.end - k.start;w=Array(t);u=k.Pv;x=k.Qv;y=k.Z6a?k.Z6a - 1:0;z=k.$6a?k.$6a - 1:0;B=Math.min(t,Math.max(k.oga || 0,v && u && !y?1:0));k=Math.min(t - B,Math.max(k.gFa || 0,v && x && !z?1:0));v=Math.floor(p.mk(n));n=Math.max(0,Math.min(t - B - k,u?Math.max(0,v - y):0));A=Math.max(0,Math.min(t - B - k - n,x?Math.max(0,v - z):0));n=B + n;p=t - k - A;z=z?0:Math.max(0,v + 1 - A);v=(1 - q) / (v + 1);for(A=0;A < t;++A){w[A]=A < B?-Infinity:A >= t - k?-Infinity:u && A < n?l(q + (A - B + y) * v):x && A >= p?l(1 - (A - p + z + 1) * v):0;}return w;}}function l(k){return 20 * Math.log(k) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.dQa=void 0;r=a(0);g=a(75);m=a(8);d=a(2);f=a(6);h=r.__importDefault(a(3));a=(function(){var o1T;o1T=2;for(;o1T !== 3;){switch(o1T){case 2:k.prototype.Ka=function(n){var P6S,q,v,t,p;P6S=2;for(;P6S !== 21;){switch(P6S){case 14:(q=this.aSb(n,n.response),v=q.ja,t=q.xk);P6S=13;break;case 26:P6S=!v?25:24;break;case 13:q=q.data;P6S=12;break;case 24:t && p.push(t);P6S=23;break;case 12:P6S=!v?11:10;break;case 18:P6S=n.Ka.end !== n.sy || n.Ka.gFa || n.Ka.Qv?17:22;break;case 8:P6S=!(n.response instanceof ArrayBuffer)?7:6;break;case 23:v=q;P6S=22;break;case 19:t=n.Ka.start;P6S=18;break;case 6:P6S=0 < n.Ka.start || n.Ka.oga || n.Ka.Pv?14:18;break;case 9:return {ja:!1};break;case 5:P6S=!n.Ka?4:3;break;case 3:P6S=0 >= n.duration?9:8;break;case 2:var M2d="MediaFr";M2d+="agmentEditor [${fragment.mediaType}]: Attempt ";M2d+="to edit appended fragment";p=[];(0,d.assert)(!n.he,M2d);P6S=5;break;case 4:return {ja:!0};break;case 25:return {ja:v};break;case 7:return {ja:!0};break;case 11:return {ja:v};break;case 27:q=n.data;P6S=26;break;case 10:t && p.push(t);v=q;P6S=19;break;case 22:return {ja:!0,Oj:p,response:v};break;case 17:n=this.bSb(n,v?(0,m.pB)(v):n.response,t);v=n.ja;t=n.xk;P6S=27;break;}}};k.prototype.aSb=function(n,p){var o2g,v,q;o2g=2;for(;o2g !== 8;){switch(o2g){case 3:var Q7M=" edit f";Q7M+="a";Q7M+="iled";var N1V="]";N1V+=":";N1V+=" ";var D62="Med";D62+="ia";D62+="Fragmen";D62+="tEditor [";v=c(n.Ka,n.da,this.Pfa,this.LQ,this.config.ybb);return (p=new g.bA(this.Hfb,n.stream,p).Wjb({sj:n.Ka.start,W:n.JK,YA:v,EDa:!1,qL:this.config.Afa,zK:l(this.LQ)}))?{ja:!0,xk:n.sDa(q),data:p.pa}:(this.console.error(D62.concat(n.mediaType,N1V).concat(n.toString(),Q7M)),{ja:!1});break;case 4:return {ja:!0};break;case 2:(0,d.assert)(n.Ka);o2g=1;break;case 1:q=n.Ka.oga;o2g=5;break;case 5:o2g=!(n.Ka.start || q || n.Ka.Pv || n.Ka.Qv)?4:3;break;}}};k.prototype.bSb=function(n,p,q){var x_T,v,t;x_T=2;for(;x_T !== 7;){switch(x_T){case 2:void 0 === q && (q=0);(0,d.assert)(n.Ka);v=n.Ka.gFa;x_T=4;break;case 4:x_T=n.Ka.end === n.sy && !v && !n.Ka.Pv && !n.Ka.Qv?3:9;break;case 9:var f19=" edit f";f19+="ai";f19+="le";f19+="d";var W12="]";W12+=":";W12+=" ";var F7G="MediaFr";F7G+="agment";F7G+="Editor [";t=c(n.Ka,n.da,this.Qfa,this.LQ,this.config.ybb);return (p=new g.bA(this.Hfb,n.stream,p).ckb({sj:n.Ka.end - q,W:n.JK,YA:t,EDa:!1,qL:this.config.Afa,zK:l(this.LQ)}))?{ja:!0,xk:n.sDa(v),data:p.pa}:(this.console.error(F7G.concat(n.mediaType,W12).concat(n.toString(),f19)),{ja:!1});break;case 3:return {ja:!0};break;}}};return k;break;}}function k(n,p,q,v){var g_L;g_L=2;for(;g_L !== 9;){switch(g_L){case 2:this.console=n;this.config=p;g_L=5;break;case 5:var T_t="med";T_t+="ia";T_t+="|a";T_t+="sej";T_t+="s";var A9n="M";A9n+="P";A9n+="4";var K9o="1S";K9o+="IYb";K9o+="ZrNJC";K9o+="p9";K9o;this.Hfb=new h.default.Console(A9n,T_t);q === f.u.T && (this.Pfa=m.P.Na(0 <= p.Pfa?p.Pfa:p.RC),this.Qfa=m.P.Na(0 <= p.Qfa?p.Qfa:p.RC),this.LQ=Math.pow(10,(p.LQ[v] || -44) / 20));g_L=9;break;}}}})();b.dQa=a;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.oia=void 0;c=a(10);l=a(20);r=(function(){function g(m){this.console=m;}g.prototype.append=function(m){var d,f,h,k,n,p;if(m.Hj)return m;d=m.pa;f=m.offset;h=m.Oj;k=d.oc;n=d.Ld;p=k.add(f);f=n.add(f);p=this.yQ && p.Ea(this.yQ);this.yQ=f;if(void 0 === p || p.equal(l.P.Pa))return m;m.Oj=h || [];d={stream:d.Sa,pts:k.Z,gap:p.Z};m.Oj.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});c.M && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return m;};return g;})();b.oia=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rUa=void 0;r=a(0);c=r.__importDefault(a(29));l=r.__importDefault(a(439));a=(function(){function g(m){this.O7=[];this.O7[c.default.de.J]=new l.default(m,c.default.de.J);this.O7[c.default.de.T]=new l.default(m,c.default.de.T);}g.prototype.MGb=function(m,d,f){this.O7[m].add(d,f);};g.prototype.iwa=function(){var m;m=[];this.O7.forEach(function(d){var f;if(d){f=d.get();f && 0 < f.length && f.forEach(function(h){m.push(h);});d.reset(!0);}});return m;};g.prototype.mUb=function(m){var d;d=this.iwa();m.strmsel=d;return 0 < d.length;};return g;})();b.rUa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.u9a=void 0;b.u9a=function(a){var c,l,g;c=Math.floor(1E6 * Math.random());l=a.Uwa;g=a.xba;a=0 === c % a.Vwa && 0 < g.length;return {Jt:a,$X:a && 0 === c % l};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.I3a=void 0;b.I3a=function(a,c){var l;if(!Array.isArray(a.F3a))return a;l=a.Hi?a.Hi():Object.create(a);a.F3a.forEach(function(g){if(void 0 !== g.X6b && c.duration >= g.X6b && g.config)for(var m in g.config){l[m]=g.config[m];}});return l;};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fLa=void 0;c=a(0).__importStar(a(12));l=a(118);g=a(2);r=(function(){var O2L;O2L=2;function m(d,f,h){var n9V;n9V=2;for(;n9V !== 3;){switch(n9V){case 4:var B7S="1";B7S+="SI";B7S+="Y";B7S+="bZrN";B7S+="JCp9";B7S;n9V=3;break;case 2:this.Tn=d;this.H=f;this.Aj=h;n9V=4;break;}}}for(;O2L !== 7;){switch(O2L){case 3:m.prototype.CXa=function(d,f,h,k,n){var a9m,p,q;a9m=2;for(;a9m !== 6;){switch(a9m){case 2:var o8Y="ne";o8Y+="twork";o8Y+="faili";o8Y+="ng";var E$g="crea";E$g+="t";E$g+="ed";(p=this,q=l.Do.instance.Dt(d,f,!0,h,k,n));q.Ph.on(q,E$g,function(){var h$G;h$G=2;for(;h$G !== 5;){switch(h$G){case 2:var B13="c";B13+="reate";B13+="Dl";B13+="T";B13+="racksEnd";--p.nI;0 === p.nI && p.Tn.Lb.An(B13);h$G=5;break;}}});q.Ph.on(q,o8Y,function(){var Y_K,v;Y_K=2;for(;Y_K !== 8;){switch(Y_K){case 5:(0,g.assert)(q.mY);v=p.Tn.Rf.O;v.tq.vu(void 0,q.mY,void 0,q.Ah,q.Pj);v.vm();Y_K=8;break;case 1:Y_K=q.M$?5:8;break;case 2:var z_V="re";z_V+="portNetwo";z_V+="r";z_V+="kFailing: ";n.kj && p.Aj.fo(z_V + q);Y_K=1;break;}}});a9m=4;break;case 4:var M8x="mediaReques";M8x+="tComp";M8x+="l";M8x+="ete";var n2o="transport";n2o+="re";n2o+="port";var R5m="e";R5m+="rr";R5m+="or";q.Ph.on(q,R5m,function(){var t8K;t8K=2;for(;t8K !== 5;){switch(t8K){case 2:var T$1="NFE";T$1+="rr_MC_Streami";T$1+="ng";T$1+="Fail";T$1+="ure";var w0Y="Download";w0Y+="Track fat";w0Y+="a";w0Y+="l er";w0Y+="ror";var e70="Downlo";e70+="a";e70+="dTrack fatal e";e70+="rror";n.kj && p.Aj.fo(e70);p.Tn.Dr(w0Y,void 0,T$1,q.Ah,0,q.Pj);t8K=5;break;}}});q.on(n2o,function(v){var f46;f46=2;for(;f46 !== 1;){switch(f46){case 4:p.Tn.emit("",v);f46=3;break;case 2:var s7i="t";s7i+="r";s7i+="anspo";s7i+="rt";s7i+="report";p.Tn.emit(s7i,v);f46=1;break;}}});q.on(M8x,function(v){var v4Y;v4Y=2;for(;v4Y !== 1;){switch(v4Y){case 4:p.Tn.emit("",v);v4Y=9;break;case 2:var b2s="m";b2s+="ediaR";b2s+="equestCom";b2s+="pl";b2s+="ete";p.Tn.emit(b2s,v);v4Y=1;break;}}});q.oa();a9m=7;break;case 7:return q;break;}}};m.prototype.RAb=function(d){var I29,f;I29=2;for(;I29 !== 9;){switch(I29){case 2:d=this.Tn.Qb.hh[d];f=d.cf;f.Rn || --this.nI;l.Do.instance.kJ(f);d.cf=void 0;I29=9;break;}}};return m;break;case 2:m.prototype.EAb=function(d,f){var t7e,h,k;t7e=2;for(;t7e !== 8;){switch(t7e){case 2:var S5S="crea";S5S+="teDlTr";S5S+="acks";S5S+="Start";(h=this,k=this.Tn.L);0 === this.nI && this.Tn.Lb.An(S5S);t7e=5;break;case 9:return d;break;case 5:this.nI+=d.length;d=d.map(function(n){var z8x;z8x=2;for(;z8x !== 1;){switch(z8x){case 2:return h.CXa(n,f.K,f.Cy(),h.Tn.yn,k);break;}}});l.Do.instance.Tf();t7e=9;break;}}};m.prototype.SAb=function(){var l_M,d,f;l_M=2;for(;l_M !== 3;){switch(l_M){case 2:(d=this,f=[]);this.Tn.Qb.hh.forEach(function(h){var C_t;C_t=2;for(;C_t !== 5;){switch(C_t){case 2:c.wa(h.cf) || f.push(h.cf);h.cf=void 0;C_t=5;break;}}});this.Tn.sV && (f.push(this.Tn.sV),this.Tn.sV=void 0);l_M=4;break;case 4:f.forEach(function(h){var C_B;C_B=2;for(;C_B !== 5;){switch(C_B){case 2:h.Rn || --d.nI;C_B=1;break;case 1:l.Do.instance.kJ(h);C_B=5;break;case 9:l.Do.instance.kJ(h);C_B=2;break;}}});l_M=3;break;}}};m.prototype.VBb=function(){var k14;k14=2;for(;k14 !== 1;){switch(k14){case 4:this.nI=1;k14=9;break;case 2:this.nI=0;k14=1;break;}}};m.prototype.iEb=function(d,f){var E7y,h,k;E7y=2;for(;E7y !== 5;){switch(E7y){case 2:(h=this.Tn.Qb.hh[d],k=h.cf);k && (k=f.nO(d,k),this.RAb(d),h.cf=this.CXa(d,f.K,f.Cy(),this.Tn.yn,this.Tn.L),f.LDa(k));E7y=5;break;}}};O2L=3;break;}}})();b.fLa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.vIa=void 0;c=a(6);l=a(8);r=(function(){function g(m){this.WI=m;this.state=new l.fA(c.La.Yh);this.uk={};}g.prototype.getState=function(){return this.state.value;};g.prototype.Pd=function(m){this.state.set(m);};g.prototype.addListener=function(m){this.state.addListener(m);};g.prototype.paused=function(){this.state.value === c.La.Xc && this.state.set(c.La.bj);};g.prototype.scb=function(){return this.state.value === c.La.Yh;};g.prototype.js=function(){return "function" === typeof this.WI.js?this.WI.js():this.state.value === c.La.Xc;};g.prototype.Vf=function(){return this.state.value === c.La.ae || this.state.value === c.La.Wg;};g.prototype.tcb=function(){return this.state.value === c.La.zm;};g.prototype.ucb=function(){return this.state.value === c.La.ND;};g.prototype.eg=function(){return this.WI.eg();};g.prototype.Nt=function(){return "function" === typeof this.WI.Nt?this.WI.Nt():1;};g.prototype.Fva=function(){return this.WI.Fva();};g.prototype.dga=function(m,d){this.uk[m]=d;};g.prototype.hs=function(m){return !!this.uk[m.K] || m.Tl;};return g;})();b.vIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kTa=void 0;c=a(6);r=(function(){function l(g,m,d){var f;this.KHb=g;this.Yna=m;this.KAb=d;this.hna=(f={},f[c.u.T]=!1,f[c.u.J]=!1,f[c.u.Za]=!1,f);this.reset();}l.prototype.hB=function(){var g,m;g=this;m=this.KHb.filter(function(d){return !d.Pbb(g.KAb());});0 === m.length && this.Jna?this.UCb():m.forEach(function(d){g.hna[d.mediaType] || (d.once("requestAppended",function(){g.hna[d.mediaType]=!1;g.hB();}),g.hna[d.mediaType]=!0);});};l.prototype.reset=function(){var g;g=this;this.Jna=!1;new Promise(function(m){g.UCb=m;}).then(function(){return g.Yna();});};l.prototype.I5b=function(){this.Jna || (this.Jna=!0,this.hB());};return l;})();b.kTa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dIa=void 0;c=a(10);r=(function(){function l(g){this.console=g;this.XN=[];this.WN=[];c.M && this.console.trace(("Received pending adoption ").concat(this.en.length));}Object.defineProperties(l.prototype,{length:{get:function(){return this.XN.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{en:{get:function(){return this.WN;},enumerable:!1,configurable:!0}});l.prototype.F5b=function(g){g=this.WN.indexOf(g);-1 !== g && (c.M && this.console.trace("Marking request attached"),this.XN[g].Kbb=!0,this.Uob(g));};l.prototype.G5b=function(g){g=this.WN.indexOf(g);-1 !== g && (c.M && this.console.trace("Marking request completed"),this.XN[g].Wt=!0,this.Uob(g));};l.prototype.push=function(g){this.WN.push(g);this.XN.push({Kbb:!1,Wt:!1});c.M && this.console.trace(("Pushing pending request, ").concat(this.length," total"));};l.prototype.dQ=function(){return 0 < this.length;};l.prototype.Uob=function(g){var m;m=this.XN[g];m.Kbb && m.Wt && (m=this.WN[g],this.WN.splice(g,1),this.XN.splice(g,1),c.M && this.console.trace(("Removing request, ").concat(this.length," left")),0 === this.length && c.M && this.console.trace(("Removing last request, contentEndPts: ").concat(m.Pc)));};return l;})();b.dIa=r;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t){return (v.mediaType === d.u.J?0:1) - (t.mediaType === d.u.J?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.FOa=b.dla=b.jyb=void 0;l=a(0);g=a(91);m=a(132);d=a(6);f=a(8);h=a(2);k=a(20);n=l.__importDefault(a(3));r=a(78);p=a(35);q=(function(v){function t(){return null !== v && v.apply(this,arguments) || this;}l.__extends(t,v);return t;})(a(271).JM);b.jyb=q;b.dla={WG:c};a=(function(v){function t(w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I){var M;z=v.call(this) || this;z.gyc=w;z.L=u;z.O=y;z.gq=B;z.Gaa=A;z.vr=E;z.oV=G;z.zj=L;z.tA=O;z.events=K;z.Mx=I;z.lf=new q([]);z.xn=!1;z.zV=0;z.ZU=z.YAa.bind(z);w=B.id && B.id.length?"{" + B.id + "}":"";z.H=(0,f.Oi)(n.default,x,w);z.Ll=z.H.error.bind(z.H);z.ac=z.H.warn.bind(z.H);z.fk=z.H.trace.bind(z.H);z.ao=null !== D && void 0 !== D?D:k.P.Na(z.G.ca);z.goa=null === F || void 0 === F?void 0:F.Sc;null === (M=z.tA) || void 0 === M?void 0:M.addListener(z.ZU);y && C && z.G1b(y,C);return z;}l.__extends(t,v);Object.defineProperties(t.prototype,{Qf:{get:function(){return this.xn;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{G:{get:function(){return this.gq;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ow:{get:function(){return this.lf.every(function(w){return w.ow;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Ej:{get:function(){return this.lf.every(function(w){return w.Ej;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{kt:{get:function(){return this.Om().reduce(function(w,u){return w + u.kt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Bh:{get:function(){return this.Om().every(function(w){return w.Bh();});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fe:{get:function(){return this.Om().map(function(w){return w.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{W:{get:function(){return this.Nx.W;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cb:{get:function(){return this.Nx.cb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{sb:{get:function(){return this.Nx.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Vj:{get:function(){return this.Sd.Zf(this.W).Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Vt:{get:function(){return this.ao.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{us:{get:function(){return this.G.uf.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{lG:{get:function(){return this.G.yh.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{AJ:{get:function(){var w,u;u=null === (w=this.G.G.xq) || void 0 === w?void 0:w[0];return u && this.oc?k.P.Na(Math.max(0,u[0] - this.oc.Z - this.G.uf.Z)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ZZ:{get:function(){return this.lf.reduce(function(w,u){return w && u.Sc?k.P.max(w,u.Sc):u.Sc?u.Sc:w;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{zxa:{get:function(){return this.Vt.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ng:{get:function(){return this.Sd.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{cr:{get:function(){return this.Nx.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Sd:{get:function(){return this.vr;},enumerable:!1,configurable:!0}});t.prototype.dr=function(w){this.Sd.equal(w) || (this.vr=w);};t.prototype.wy=function(w){return (w=this.gb(w))?Promise.resolve(w.wy()):Promise.resolve(m.AsyncIterator.c9a());};t.prototype.aF=function(){this.Om().forEach(function(w){return w.aF();});};t.prototype.reset=function(){this.lf.forEach(function(w){w.reset();});};t.prototype.ie=function(){var w,u;this.xn || (this.xn=!0,null === (w=this.cE) || void 0 === w?void 0:w.ud(),this.cE=void 0,this.lf.forEach(function(x){x.ie();}),null === (u=this.tA) || void 0 === u?void 0:u.removeListener(this.ZU),this.events.removeAllListeners());};t.prototype.nQ=function(){return !0;};t.prototype.gb=function(w){return this.lf.get(w);};t.prototype.Om=function(w){void 0 === w && (w=c);return this.lf.items.slice().sort(w);};t.prototype.TY=function(){return this.lf.items;};t.prototype.pF=function(w){return this.gb(w);};t.prototype.Nh=function(w,u){w=this.gb(w);if(!w)return 0;if(u)return w.mo;u=w.zt;if(void 0 === u)return 0;w=this.oV();return u - w;};t.prototype.JB=function(){var w,u,x,y,z,B,A;A=null === (w=this.gb(d.u.T)) || void 0 === w?void 0:w.Yo;w=null === (u=this.gb(d.u.J)) || void 0 === u?void 0:u.Yo;return {Kp:null !== (x=null === w || void 0 === w?void 0:w.Z) && void 0 !== x?x:0,jt:null !== (y=null === A || void 0 === A?void 0:A.Z) && void 0 !== y?y:0,Qu:null !== (z=null === w || void 0 === w?void 0:w.ga) && void 0 !== z?z:0,qE:null !== (B=null === A || void 0 === A?void 0:A.ga) && void 0 !== B?B:0};};t.prototype.vm=function(w){w=this.gb(w);(0,h.assert)(w);return w.vm();};t.prototype.YAa=function(w){w=w.newValue;(0,d.Hq)(w) && this.$s();};t.prototype.ME=function(w){return this.lf.every(function(u){return u.ME(w);});};t.prototype.LY=function(w){var u,x;return null !== (x=null === (u=this.lf.get(w)) || void 0 === u?void 0:u.C4a) && void 0 !== x?x:k.P.Pa;};t.prototype.ql=function(w){this.xn || (w.p8 || (0,h.assert)(!w.Hc),this.$s(),this.Ej && this.doa());this.Uv(w);};t.prototype.PK=function(w){this.L.v$ && this.$s(!0);this.DJ(w);};t.prototype.wC=function(w){this.L.v$ && this.$s(!0);this.iF(w);};t.prototype.WEa=function(w){var u;return (0,d.Hq)((null === (u=this.tA) || void 0 === u?void 0:u.value) || d.bd.Am) && (!w || this.zV + this.L.rda < n.default.time.fa());};t.prototype.$s=function(w){void 0 === w && (w=!1);this.WEa(w) && (this.zV=n.default.time.fa(),w={type:"checkBufferingProgress"},this.events.emit(w.type,w));};t.prototype.doa=function(){var w;w={type:"branchStreamingComplete"};this.events.emit(w.type,w);};t.prototype.G1b=function(w,u){var x;this.MEa(w);(0,h.assert)(w.N === this.G.N || isNaN(w.N) && isNaN(this.G.N));w=null !== u && void 0 !== u?u:null === (x=this.Gaa) || void 0 === x?void 0:x.call(this,w);(0,h.assert)(w,"tracks need to exist upon initialization");};t.prototype.toJSON=function(){var w,u;return {segment:this.G.id,branchOffset:this.ng,viewableId:this.gq.N,contentStartPts:null === (w=this.oc) || void 0 === w?void 0:w.Z,contentEndPts:null === (u=this.Ld) || void 0 === u?void 0:u.Z};};return t;})(g.bx);b.FOa=a;(0,p.ef)(r.Vu,a);(0,p.ef)(r.Jz,a);},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.FSa=void 0;r=a(0);c=r.__importDefault(a(29));l=c.default.de;g=c.default.tx;m=a(6);d=a(8);f=a(20);h=r.__importDefault(a(154));k=r.__importDefault(a(3));a=(function(){function n(p,q,v,t,w){this.ou=p;this.It=q;this.L=v;this.H=t;this.kg=w;}n.prototype.V7b=function(p){p={type:"requestCreated",request:p};(0,d.kb)(this.It,p.type,p);};n.prototype.U7b=function(p){var q;q=p.Xa.bb.G;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{S:q.id,offset:f.P.Na(this.ou.Ira - q.ca)},completePlayerStreamingTimestamp:f.P.Na(this.ou.zt),trackIndex:p.stream.track.QA};(0,d.kb)(this.It,p.type,p);};n.prototype.ugb=function(p,q,v){var t,w,u;w=this.kg;u=this.ou.Yj.De;u.emb(p);w === m.u.J && this.L.Mfa && (void 0 === u.Hya?u.gmb(k.default.time.fa()):k.default.time.fa() - u.Hya > this.L.Mfa && (p.bitrate !== u.gdb && (k.default.storage.set("vb",p.bitrate),u.sgc(p.bitrate)),u.gmb(k.default.time.fa())));u.WZ && u.WZ === p || (this.ou.Yj.gic(q,u.WZ,p),u.hgc(p),q=0,p.Jb && p.Jb.confidence && p.Jb.Ya && (q=p.Jb.Ya.xa),u={S:this.ou.bb.G.id,offset:f.P.Na(v - this.ou.bb.G.ca)},p={type:"streamSelected",nativetime:k.default.time.fa(),mediaType:w,streamId:p.id,manifestIndex:p.O.Vb,trackIndex:p.track.QA,streamIndex:p.Ag,movieTime:v,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.O) || void 0 === t?void 0:t.ba},(0,d.kb)(this.It,p.type,p));};n.prototype.Q7b=function(p,q,v){var t,w,u,x,y;t=q.O;w=t.wk;u=this.ou.Yj.De;x=t.g3b(q);y=x.pya;x=x.h3b;v && q.cc && !u.XZ?(x=g.ux,q.zu=g.name[x],this.tgb(p,q.cc,q.zu,q.location,q.bitrate),u.XZ=q.cc):!v && q.cc && q.cc !== u.XZ && (x=x?void 0 === u.XZ?g.ux:w.fS === g.Ska?g.Myb:g.sia:g.Lyb,q.zu=g.name[x],this.tgb(p,q.cc,q.zu,q.location,q.bitrate),u.XZ=q.cc);u.xQ || (x={type:"logdata",target:"startplay",fields:{}},this.kg === l.T?x.fields.alocid=q.location:this.kg === l.J && (x.fields.locid=q.location),(0,d.kb)(this.It,x.type,x));v && q.location && !u.xQ?(x=g.ux,q.zu=g.name[x],this.rgb(t.Vb,p,q.location,q.cza,q.cc,q.zL,q.zu,q.bz),u.xQ=q.location):!v && q.location && q.location !== u.xQ && (x=y?void 0 === u.xQ?g.ux:w.fS === g.Ska?g.ewb:g.sia:g.dwb,q.zu=g.name[x],this.rgb(t.Vb,p,q.location,q.cza,q.cc,q.zL,q.zu,q.bz),q.bz=void 0,u.xQ=q.location);this.L.Fw || (q.bdb=q.location,q.fdb=q.cc);};n.prototype.Vda=function(p){p={type:"requestsPruned",requests:p};(0,d.kb)(this.It,p.type,p);};n.prototype.tgb=function(p,q,v,t,w){var u,x;if(this.kg === l.Za)this.H.warn("notifyServerSwitch ignored for MediaType.TEXT");else {x=(u={},u[m.u.T]="audio",u[m.u.J]="video",u[m.u.Za]="subtitle",u)[this.kg];u=h.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:x,server:q,reason:v,location:t,bitrate:w,confidence:u.confidence};u.confidence && (p.throughput=u.Ya.xa);this.ou.Yj.De.XZ && (p.oldserver=q);(0,d.kb)(this.It,p.type,p);}};n.prototype.rgb=function(p,q,v,t,w,u,x,y){var z,B;if(this.kg === l.Za)this.H.warn("notifyServerSwitch ignored for MediaType.TEXT");else {B=(z={},z[m.u.T]="audio",z[m.u.J]="video",z[m.u.Za]="subtitle",z)[this.kg];p={type:"locationSelected",manifestIndex:p,segmentId:q,mediatype:B,location:v,locationlv:t,serverid:w,servername:u,selreason:x,seldetail:y};(0,d.kb)(this.It,"locationSelected",p);}};n.prototype.Zna=function(p,q){q={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};p.nG || (0,d.kb)(this.It,q.type,q);};n.prototype.fo=function(p){p={type:"managerdebugevent",message:"@" + k.default.time.fa() + ", " + p};(0,d.kb)(this.It,p.type,p);};n.prototype.AVb=function(p){(0,d.kb)(this.It,"transportReport",p);};n.prototype.zVb=function(p){(0,d.kb)(this.It,"mediaRequestComplete",p);};return n;})();b.FSa=a;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XQa=b.Uub=void 0;c=a(0);l=c.__importDefault(a(3));g=a(76);m=a(10);d=a(1026);f=a(8);r=(function(){return function(h,k,n,p){this.L=k;this.ou=p;p="[" + h + "]";n=(0,f.Oi)(l.default,n,p);this.rfb=h === g.u.J?k.xda:k.oda;p=l.default.Cq()[h];this.y_=h === g.u.J?k.e6b:k.M5b;this.y_=Math.min(k.U5b * p,this.y_);m.M && n.trace("This pipeline's buffer size ",p,this.y_);this.tda=(h === g.u.J?k.qC:k.Qy) || k.tda;this.Vca=(h === g.u.J?k.d6b:k.L5b) || k.Vca;this.ypa=k.ypa;};})();b.Uub=r;r=(function(h){function k(n,p,q,v){return h.call(this,n,p,q,v) || this;}c.__extends(k,h);k.prototype.n9a=function(n,p,q,v){var t,w,u,x,y,z,B,A,C;void 0 === q && (q=!1);void 0 === v && (v=!1);u=this.ou;x=n.O.Cy();y=u.pd.index;z=u.Wd.index;B=p === y;A=p === z;if(!A || B && u.pd.Ka){if(B){C=n.f9a(u.pd);C.jS(u.pd.rz);A && (u.pd.Ka || u.Wd.Ka) && C.tj({start:null === (t=C.Ka) || void 0 === t?void 0:t.start,end:null === (w=u.Wd.Ka) || void 0 === w?void 0:w.end});}else C=n.Zl(p);}else (C=n.f9a(u.Wd),C.jS(u.Wd.rz));C.aR=p + 1;if(t=(0,d.q$a)(u,u.Ec))(m.M && u.fk("getFragmentForRequest pts:",u.Ec,"in region:",t,"previous region:",u.Bya),w=void 0 === u.Bya || u.Bya !== t.region,(0,d.a6a)(u.H,C,t,{x2b:B,E2b:A,O2b:w}));A && (C.neb(),C.pgc(u.bb.G));B && C.Gza(!0);B=n.ma.Vq;if(!(C.aR === p || null !== B && void 0 !== B && B.Wbb(p) || x || !this.ypa && C.Ka || q && !(p > y + 1) || v && !(p < z - 2)))for((q=v?z - 1:z,++p);p < n.ma.length && p < q && (C.ga < this.rfb || C.duration < this.tda) && (1 === C.stream.dh.length || this.kKb(n,p));++p){v=n.Zl(p);if(null === B || void 0 === B?0:B.Wbb(p))break;if((0,d.Vbb)(u,v))break;if(C.duration + v.duration > this.Vca)break;if(C.ga + v.ga > this.y_)break;C.q8(v);C.aR=p + 1;m.M && u.fk("getFragmentForRequest: extended fragment startPts:",C.ca,"to duration:",C.duration,"size:",C.ga,"min request size:",this.rfb,"max request size:",this.y_,"min request duration:",this.tda,"max request duration:",this.Vca,"edit:",C.Ka);}m.M && u.fk("getFragmentForRequest(" + p + ") returning:",C,"stream:",C.stream,"firstRequestInRegion:",C.sua,"lastRequestInRegion:",C.Gy,"nextIndex:",C.aR);return C;};k.prototype.kKb=function(n,p){return !n.dh.some(function(q){return p === q.Vd;});};return k;})(r);b.XQa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.a6a=b.z2b=b.Vbb=b.q$a=void 0;c=a(21);b.q$a=function(l,g){if((l=l.bb.G.gz) && 0 !== l.length)return (0,c.Oc)(l,function(m){return m.oc.Z <= g && g < m.Ld.Z;});};b.Vbb=function(l,g){return g.index === l.pd.index?!0:(l=l.bb.G.gz) && 0 !== l.length?l.some(function(m){m=m.oc;return g.oc.PF(m) && m.lessThan(g.Ld);}):!1;};b.z2b=function(l,g){return g.index === l.Wd.index?!0:(l=l.bb.G.gz) && 0 !== l.length?l.some(function(m){m=m.Ld;return g.oc.lessThan(m) && m.PF(g.Ld);}):!1;};b.a6a=function(l,g,m,d){var f,h,k,n,p,q,v,t;l=null === (f=g.Ka) || void 0 === f?void 0:f.start;f=null === (h=g.Ka) || void 0 === h?void 0:h.end;t=h=!1;if((null === d || void 0 === d?0:d.O2b) || (null === d || void 0 === d || !d.x2b) && g.oc.lessThan(m.oc)){if(v=g.gua(m.oc.Z))(v=(null !== (n=null === (k=g.Ka) || void 0 === k?void 0:k.start) && void 0 !== n?n:0) + v.sj,l=Math.max(null !== l && void 0 !== l?l:0,v));v=m.oc.Z;h=!0;}if((null === d || void 0 === d || !d.E2b) && g.Ld.greaterThan(m.Ld)){if(v=g.gua(m.Ld.Z))(v=(null !== (q=null === (p=g.Ka) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + v.sj,f=Math.min(null !== f && void 0 !== f?f:Infinity,v),g.aR=g.index);v=m.Ld.Z;t=!0;}if(void 0 !== l || void 0 !== f)(g.tj({start:l,end:f}),void 0 !== v && (!g.rz || v > g.rz) && g.jS(v));g.mgc(m.region,h,t);};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.xUa=void 0;c=a(0);l=c.__importStar(a(12));g=a(190);m=a(1029);d=a(444);f=a(1032);r=a(91);h=a(6);k=a(2);n=a(192);p=a(8);q=a(61);v=a(133);a=(function(t){function w(u,x,y,z,B,A,C,D){var E;E=t.call(this,u) || this;E.L=x;E.H=y;E.Em=z;E.ee=B;E.kg=A;E.Maa=D;E.Npb=!0;E.Ve=new n.bH(E.H);E.Ll=E.H.error.bind(E.H);E.ac=E.H.warn.bind(E.H);E.fk=E.H.trace.bind(E.H);E.OZa();E.Br=null === C || void 0 === C?void 0:C.vB(function(){return E.Udc();},"pruner");return E;}c.__extends(w,t);Object.defineProperties(w.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mediaType:{get:function(){return this.kg;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{bb:{get:function(){return this.ee;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qz:{get:function(){return 0 < this.PC;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{vFa:{get:function(){return !this.FN;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{PC:{get:function(){return this.Ma.length;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ku:{get:function(){return this.Ma.Ku;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ecc:{get:function(){return this.Ve.count;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{tO:{get:function(){return this.Ve.Wt;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mX:{get:function(){return this.Ma.complete.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{zt:{get:function(){return this.Ma.p3a;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Ira:{get:function(){return this.Ma.o3a;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ZC:{get:function(){return this.Ma.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mo:{get:function(){return void 0 === this.Ma.Bd?0:this.Ma.Yf - this.Ma.Bd;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Yo:{get:function(){return {ga:this.Ma.LE,Z:Math.max(this.Ma.p3a - this.Ma.Bd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{RO:{get:function(){return this.Ma.XLb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{LE:{get:function(){return this.Ma.LE;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{kt:{get:function(){return this.Ma.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{gG:{get:function(){return this.xBb();},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{DBa:{get:function(){return this.Ma.o1b;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{pba:{get:function(){return this.Ma.length > this.Ma.Ku;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Cj:{get:function(){return this.Ma.Cj;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{P3b:{get:function(){return this.Ma.r$b;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Xcb:{get:function(){return this.zYa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Lhb:{get:function(){return this.Ma.length - this.zn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ma:{get:function(){return this.Ma;},enumerable:!1,configurable:!0}});w.prototype.ie=function(u){var y,z;function x(){return z.forEach(function(B){B.abort();B.ud();});}z=this.Ma;u?setTimeout(x,1):x();this.OZa();this.Ve.sP();null === (y=this.Br) || void 0 === y?void 0:y.Wa();};w.prototype.reset=function(){this.ie();this.Ve.Akb();};w.prototype.close=function(){this.Ve.sP();};w.prototype.Elb=function(){this.mXa=!0;};w.prototype.Uva=function(){return {endMarked:void 0 !== this.Ve.count,queueCount:this.Ve.count,isComplete:this.Ve.Wt,itemCount:this.Ve.q3a,continuousEndPts:this.Ve.El().reduce(function(u,x){return x && !x.done && (x=x.value,100 > Math.abs(x.Fua - u) || -1 === u)?x.CVb:u;},-1),sentinelItemCount:this.Ve.El().filter(function(u){return u && u.done;}).length,processedCount:this.Ve.KQb,rc:this.PC};};w.prototype.l4a=function(u,x,y){var z,B,A,C;z=this.L;(0,k.assert)(!u.header);if(y.ta){A=this.ee;C=A.N$a();A=A.uz;this.L.Enb?y.mediaType === h.u.J && void 0 !== C && (B=new d.gia(y,z,x.track,u,this.Ma,this.H,C,A)):B=new f.yIa(y,z,x.track,u,this.Ma,this.H,C,A);}B || (B=g.pT.create(y,z,x.track,u,this.Ma,!1,this.H,this.Maa));B.oa(this);this.yv(B);return B;};w.prototype.eHb=function(u){var x;u.oa(this);u.p8=!0;this.yv(u);x=Promise.resolve();u.complete?(this.Jma(u),this.Em.ugb(u.stream,u.Bd,u.Ud),x=this.bha(),this.Uv(u)):(u.active && this.HP(u),u.$Ca && this.iF(u));return x;};w.prototype.yv=function(u){var x,y;this.Ma.rp(u);(null === (x=this.Br) || void 0 === x?void 0:x.state) === q.Bm.complete && (null === (y=this.Br) || void 0 === y?void 0:y.zg());this.Jma(u);u.Rm && (this.FN=!1);};w.prototype.wy=function(){return this.Ve.Tua();};w.prototype.ara=function(){this.zn === this.Ma.length && this.mXa && this.Ve.sP();};w.prototype.bha=function(){var u,x,y,z,D;u=this;y=Promise.resolve();z=this.ee;if(!z.nQ(this.kg) || this.zn === this.Ma.length)return y;for(var B=this.L.X5b,A=0,C=[];this.zn < this.Ma.length;){if(x=this.Ma.get(this.zn)){if(this.Ma.H7a && this.Ma.H7a.cb < x.cb)break;if(!x.Qm())break;C.push(x);++A;l.Oa(this.Bd) || (this.Bd=x.Bd);}++this.zn;if(!l.wa(B) && A >= B)break;}if(C.length){void 0 !== this.Ve.count && (this.Ll("tryToAtach() but requestQueue has sentinel:",this.Ve.count),this.Ve.Akb());if(this.Npb)y=Promise.all(C.map(function(E){return u.Ve.enqueue(E).then(function(){return u.iba(E);});}));else for(x=0;x < C.length;x++){try{D=C[x];z.ZYb(this.mediaType).gRb(D);this.iba(D);}catch(E){return (this.zn-=C.length - x,Promise.reject(E));}}this.ara();}return y;};w.prototype.iba=function(u){this.zYa=u;this.S7a(u);};w.prototype.mW=function(u,x){var y,z,B;y=this;z=[];if(0 !== this.Ma.Ku){B=this.Ma.Ehb;this.Ma.Bkc.pFa(function(A){if(!l.wa(u) && A.O.Vb !== u || A.Rm || B > A.Bd)return !0;A.Vr && (y.FN=!1);if(!y.o6(A))return (y.ac("request abort failed:",A.toString()),!0);z.unshift(A);});this.moa();z.length && "function" === typeof x && x(z);}};w.prototype.i1=function(){this.moa();};w.prototype.Udc=function(){var u,x,y,z,B,A;return c.__generator(this,function(C){switch(C.label){case 0:C.label=1;case 1:if(!this.Ma.length)return [3,3];u=this.Ma.get(0);x=p.P.Na(null !== (A=null === (B=this.L.mS) || void 0 === B?void 0:B.Z) && void 0 !== A?A:0);y=x.add(u.Sc);return [4,q.cj.jD(y)];case 2:C.ub();if(1 >= this.Ma.complete.length && !u.Rm)return [3,3];(0,k.assert)(u === this.Ma.get(0));u.he || this.o6(u);z=this.Ma.splice(0,1);0 < this.zn && this.zn--;this.Em.Vda(z);z=void 0;return [3,1];case 3:return [2];}});};w.prototype.S0=function(u,x){var y,z,B,A,C,D;y=this;z=this.L;B=!1;A=0;C=this.Ma.some(function(E){if(u < E.Yf)return (B && y.Jma(E),!0);++A;E.he || (y.ac("pruning unappended request:",E && E.toString()),z.kj && y.Em.fo(("prune pts:").concat(u," unappended request:").concat(E && E.toString())),E.Vr && (y.FN=!1,B=!0),y.o6(E,x) || y.Ll("MediaRequest.abort error:",E.Ah));});if(0 < A){D=this.Ma.splice(0,A);this.zn-=Math.min(A,this.zn);this.Em.Vda(D);}return C;};w.prototype.Taa=function(u){var x,y,z;void 0 === u && (u={nX:null,wR:null,Bd:null,Rj:0,Dp:0,Sg:0,ma:[]});x=this.L;y=this.Ma;l.Oa(y.Bd) && (null === u.Bd || y.Bd < u.Bd) && (u.Bd=y.Bd);z=this.zt;void 0 !== z && null === u.nX && (u.nX=z);z=y.Yf;void 0 !== z && (null === u.wR || z > u.wR) && (u.wR=z);u.Rj+=y.Rj;u.Dp+=y.Dp;u.Sg=x.jFa?u.Sg + y.Djb:u.Sg + y.LE;Array.prototype.unshift.apply(u.ma,y.ub.ma);return u;};w.prototype.oy=function(u){if(this.Ma.length && (u=this.Ma.q7a(u)))return u;};w.prototype.JFb=function(u){var x,y,z;y=u.Ld;u=u.Ud;(0,k.assert)(y,"expected contentEndTimestamp to be defined");(0,k.assert)(void 0 !== u,"expected contentStartPts to be defined");u=this.Ma.bua(u);z=this.Ma.get(u);(0,k.assert)(z && void 0 !== z.Ud && void 0 !== z.Pc && void 0 !== z.index,"expected existing request to be defined with properties");if(null === (x=z.Ld) || void 0 === x?0:x.equal(y))return (this.A_a(u),[z.Pc,z.index + 1]);this.A_a(u - 1);return [z.Ud,z.index];};w.prototype.vm=function(u){var x,y;x=this;y=[];this.Ma.forEach(function(z){var B;B=z.QGa(u);1 === B?y.push(z):2 === B && x.bb.O.hg("swapUrl failure");});return y;};w.prototype.wC=function(u){u.IF && u.Qm() && this.bha();this.iF(u);};w.prototype.ql=function(u){var x,y;u.IF && !u.he && this.bha();(null === (x=this.Br) || void 0 === x?void 0:x.state) === q.Bm.complete && (null === (y=this.Br) || void 0 === y?void 0:y.zg());this.Uv(u);};w.prototype.Cpa=function(u){var x,y,z;x=this.kg === h.u.J?"v_":"a_";y=this.Ma;z=y.DP(u);u=0 <= z?y.get(z):void 0;return (y=0 <= z && z + 1 < y.length?y.get(z + 1):void 0) && u?u.Yf !== y.Bd?x + "rg":u.complete && y.complete?x + "uk":x + "fd":x + "rm";};w.prototype.xBb=function(){return this.Ma.Cj + this.Ma.Ku;};w.prototype.OZa=function(){var u,x,y;x=void 0 !== this.Ma && 0 < this.Ma.length;y=this.Ma;this.Ma=new m.sIa(this.H,this);this.zn=0;this.Ve.clear();this.zYa=void 0;this.Bd=null;null === (u=this.Br) || void 0 === u?void 0:u.zg();this.mXa=this.FN=!1;x && (u=y.map(function(z){return z;}),this.Em.Vda(u));};w.prototype.Jma=function(u){this.FN?u.Vr && u.Gza(!1):(u.Vr || u.Gza(!0),this.FN=!0);};w.prototype.A_a=function(u){var x;for(u+=1;u < this.PC;u++){x=this.Ma.get(u);(0,k.assert)(x,"expected request to exist");this.Ve.remove(x);x.aborted || (this.o6(x),x.ud());}this.moa();};w.prototype.o6=function(u,x){if(!u.abort())return !1;"function" === typeof x && x(u);return !0;};w.prototype.moa=function(){var u,x,y,z;u=this;if(0 !== this.Ma.length){y=[];z=0;this.Ma.Ubc(function(B,A){A < u.zn && ++z;y.push(B);});this.zn-=z;null === (x=this.Br) || void 0 === x?void 0:x.zg();this.Em.Vda(y);}};return w=c.__decorate([v.GJ],w);})(r.bx);b.xUa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.pIa=void 0;c=a(0);l=a(75);g=c.__importDefault(a(29));r=c.__importDefault(a(3));m=a(8);d=a(2);f=a(191);h=a(77);k=a(268);n=a(106);p=r.default.kr;a=(function(q){function v(t,w,u,x,y,z,B,A){var C;x=q.call(this,t,u,x,z,B,A) || this;y=h.Jl.prototype.toString.call(x) + (y?"(cache)":"");A={offset:u.offset,ga:u.tAa + 8,responseType:0};x.push(new k.qT(t,w,y + "(moof)",A,x,z,B));A={offset:u.offset + A.ga,ga:u.ga - A.ga,responseType:p.Yc && !p.Yc.WR.YM?0:1};if(x.mediaType === g.default.de.J && x.Ka){if(0 < x.Ka.start){C=x.x7a(x.Ka.start);C && (A.offset=u.offset + C,A.ga=u.ga - C);}x.Ka.end < x.sy && (C=x.x7a(x.Ka.end)) && (A.ga-=u.ga - C);}x.push(new k.qT(t,w,y + "(mdat)",A,x,z,B));return x;}c.__extends(v,q);v.prototype.Qm=function(){return !this.he && !!this.Ma.length && this.Ma.every(function(t){return t.Qm();});};v.prototype.VA=function(t,w){var u,x,y,z,B,A,C;if(this.he)return {status:n.Ih.Ns};if(!this.Qm())return {status:n.Ih.Cg};t=!1;u=this.Ma[0].response;x=u.slice(0,u.byteLength - 8);y=new DataView(u);u=y.getUint32(x.byteLength);(0,d.assert)("mdat" === (0,l.xN)(y.getUint32(x.byteLength + 4)));z=this.Ka && 0 < this.Ka.start;y=this.Ka && this.Ka.end < this.sy;if(this.Ka && (z || y)){if(z)(B=new l.bA(this.H,this.stream,x),A=B.Wjb(this.Ka.start,this.W));if(y && !1 !== A){B=new l.bA(this.H,this.stream,A?(0,m.pB)(A.pa):x);C=B.ckb(this.Ka.end - this.Ka.start,this.W);}if(B=y?C:A)(t=w.appendBuffer((0,m.pB)(B.pa),(0,m.Iy)(this)),A && ((0,d.assert)(void 0 !== A.As),(0,d.assert)(void 0 !== A.OR),u-=A.As),C && ((0,d.assert)(void 0 !== C.As),(0,d.assert)(void 0 !== C.OR),u-=C.As,A && (0,d.assert)(void 0 !== A.As)));B=this.sDa();}else t=w.appendBuffer(x,(0,m.Iy)(this));t && (t=w.appendBuffer((0,l.GQ)(u - 8),(0,m.Iy)(this))) && (t=w.appendBuffer(this.Ma[1].response,(0,m.Iy)(this)));this.he=t;this.hdc();return {status:t?n.Ih.Ns:n.Ih.Cg,xk:B};};v.prototype.toString=function(){return "ID: " + this.Mi() + ":" + q.prototype.toString.call(this);};return v;})(f.ax);b.pIa=a;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.sIa=void 0;c=a(0);a(2);l=a(1030);r=a(35);g=a(1031);m=a(78);d=a(91);f=a(266);a=(function(h){function k(n,p){var q,v;q=this;v=[new g.q3(n),new g.q3(n),new g.q3(n)];q=h.call(this,v,function(t){return t.complete?q.empty || t.cb <= q.YLb?0:1:t.active?1:2;}) || this;v=c.__read(v,3);q.dj=v[0];q.jf=v[1];q.vv=v[2];q.Cr=0;q.uma=0;q.H=n;q.re=p;return q;}c.__extends(k,h);Object.defineProperties(k.prototype,{ga:{get:function(){return this.dj.ga + this.jf.ga + this.vv.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bkc:{get:function(){return this.vv;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.jf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.dj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Djb:{get:function(){return this.Cr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{LE:{get:function(){return this.dj.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Rj:{get:function(){return this.dj.ga + this.jf.ga - this.Cr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ckc:{get:function(){return this.vv.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Dp:{get:function(){return this.ga - this.Cr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.VVb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{eh:{get:function(){return this.IIb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{gta:{get:function(){return !this.dj.empty || this.vv.empty || this.jf.empty?this.first:this.jf.cb < this.vv.cb?this.jf.first:this.vv.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{mdb:{get:function(){return this.vv.empty || this.jf.empty?this.eh:this.jf.sb < this.vv.sb?this.vv.eh:this.jf.eh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{H7a:{get:function(){return this.vv.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{cb:{get:function(){return this.gta && this.gta.cb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sb:{get:function(){return this.mdb && this.mdb.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vj:{get:function(){return this.first && this.first.Vj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{XLb:{get:function(){return this.dj.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{o1b:{get:function(){return this.Pc - this.o3a || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{YLb:{get:function(){return this.dj.empty?this.cb:this.dj.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{o3a:{get:function(){return this.dj.empty?this.Ud:this.dj.Pc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{p3a:{get:function(){return this.dj.empty?this.Bd:this.dj.Yf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{r$b:{get:function(){return this.jf.eh || this.dj.eh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ehb:{get:function(){return this.jf.Yf || this.dj.Yf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Ku:{get:function(){return this.vv.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Cj:{get:function(){return this.jf.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{r3a:{get:function(){return this.dj.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ub:{get:function(){return this.dj.concat(this.jf);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bt:{get:function(){return this.ph;},enumerable:!1,configurable:!0}});k.prototype.iN=function(n){var p;n.aborted?++this.uma:this.Cr+=n.bytesReceived || 0;if(this.empty)this.ph=new f.pD(this,{});else if(n.cb !== this.sb)if(n.cb > this.ph.sb)this.ph.F1(this.ph.sb);else if(n.cb < this.cb || n.cb === this.ph.sb){p=n.sb;this.nVb(function(q,v){return q.cb - v.cb;},function(q){p=q.cb === p?q.sb:p;});p === Math.max(this.sb,n.sb)?this.ph.sra():this.ph.F1(p);}n.MEa(this);};k.prototype.KA=function(n){n.aborted?--this.uma:this.Cr-=n.bytesReceived;this.empty?this.ph=void 0:n.cb !== this.sb && n.sb <= this.ph.sb && n.cb > this.ph.cb && this.ph.F1(n.cb);n.Q2a();};k.prototype.push=function(n){this.iN(n);return h.prototype.push.call(this,n);};k.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.KA(n);return n;};k.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.KA(n);return n;};k.prototype.unshift=function(n){this.iN(n);return h.prototype.unshift.call(this,n);};k.prototype.rp=function(n){this.iN(n);h.prototype.rp.call(this,n);};k.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.KA(n);return !0;};k.prototype.splice=function(n,p){for(var q=[],v=2;v < arguments.length;v++){q[v - 2]=arguments[v];}v=h.prototype.splice.apply(this,c.__spreadArray([n,p],c.__read(q),!1));q.forEach(this.iN.bind(this));v.forEach(this.KA.bind(this));return v;};k.prototype.Ubc=function(n){var p;p=this;this.reduce(function(q,v,t){v.aborted && (n && n(v,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};k.prototype.bua=function(n){return this.r7a(function(p){return p.bua(n);});};k.prototype.DP=function(n){return this.r7a(function(p){return p.DP(n);});};k.prototype.q7a=function(n){n=this.DP(n);return -1 !== n?this.get(n):void 0;};k.prototype.qfc=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};k.prototype.xC=function(n){this.move(n);this.HP(n);};k.prototype.PK=function(n){this.Cr+=n.bytesReceived - n.ru;this.DJ(n);};k.prototype.ql=function(n){for(this.Cr+=n.bytesReceived - n.ru;this.jf.first && this.jf.first.complete && (this.dj.empty?this.jf.first === this.gta:this.jf.first.cb === this.dj.sb);){this.Lgc();}this.Uv(n);};k.prototype.m0=function(n,p,q){this.Cr-=n.bytesReceived;++this.uma;this.GP(n,p,q);};k.prototype.QK=function(n,p,q){this.jf.Kkc(p - q);this.gaa(n,p,q);};return k;})(l.dKa);b.sIa=a;(0,r.ef)(d.bx,a,!1);(0,r.ef)(m.Vu,a);(0,r.ef)(m.Jz,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dKa=void 0;c=a(0);a(2);r=(function(){function l(g,m){this.Cd=g;this.tN=m;this.DA();}Object.defineProperties(l.prototype,{length:{get:function(){return this.$f;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.$f;},enumerable:!1,configurable:!0}});l.prototype.VVb=function(){return this.Lh && this.Lh.get(0);};l.prototype.IIb=function(){return this.pN && this.pN.get(this.pN.length - 1);};l.prototype.get=function(g){0 > g && (g+=this.length);for(var m=0;m < this.Cd.length;++m){if(this.fj[m + 1] > g)return this.Cd[m].get(g - this.fj[m]);}};l.prototype.push=function(g){this.Cd[this.tN(g)].push(g);this.DA();return this.$f;};l.prototype.shift=function(){var g;if(this.Lh){g=this.Lh.shift();this.DA();return g;}};l.prototype.pop=function(){var g;if(this.pN){g=this.pN.pop();this.DA();return g;}};l.prototype.unshift=function(g){this.Cd[this.tN(g)].unshift(g);this.DA();return this.$f;};l.prototype.rp=function(g){var m;m=this.tN(g);this.Cd[m].rp(g);this.DA();};l.prototype.remove=function(g){var m;m=this.Cd.some(function(d){return d.remove(g);});m && this.DA();return m;};l.prototype.splice=function(g,m){var q,v,t,w;for(var d,f=[],h=2;h < arguments.length;h++){f[h - 2]=arguments[h];}h=[];for(var k,n=g + Math.max(0,m),p=0;p < this.Cd.length;++p){q=this.Cd[p];v=this.fj[p];t=this.fj[p + 1];if(g < t){w=g - v;v=Math.min(n - v,q.length);void 0 === k && 0 < w && v < q.length?Array.prototype.push.apply(h,q.splice.apply(q,c.__spreadArray([w,v - w],c.__read(f),!1))):(Array.prototype.push.apply(h,q.splice(w,v - w)),void 0 === k && (k=0 < p && 0 === w?p - 1:p));g=t;if(g >= n)break;}}if(f.length && void 0 !== k){for(n=this.tN(f[0]);0 < k && n < k && this.Cd[k].empty;){--k;}for(;f.length && n === k;){this.Cd[k].push(f.shift());if(!f.length)break;n=this.tN(f[0]);}for(;f.length && ++k < this.Cd.length && this.Cd[k].empty;){for(;f.length && n === k;){this.Cd[k].push(f.shift());if(!f.length)break;n=this.tN(f[0]);}}f.length && (d=this.Cd[k]).splice.apply(d,c.__spreadArray([0,0],c.__read(f),!1));}this.DA();return h;};l.prototype.find=function(g){var m,d;m=this;return this.Cd.some(function(f,h){d=f.find(m.oE(g,h));return void 0 !== d;})?d:void 0;};l.prototype.findIndex=function(g){var d;for(var m=0;m < this.Cd.length;++m){d=this.Cd[m].findIndex(this.oE(g,m));if(-1 !== d)return d + this.fj[m];}return -1;};l.prototype.indexOf=function(g){var d;for(var m=0;m < this.Cd.length;++m){d=this.Cd[m].indexOf(g);if(-1 !== d)return d + this.fj[m];}return -1;};l.prototype.map=function(g){var m,d;m=this;d=this.Cd.map(function(f,h){return f.map(m.oE(g,h));});return Array.prototype.concat.apply([],d);};l.prototype.reduce=function(g,m){var d;d=this;return this.Cd.reduce(function(f,h,k){return h.reduce(d.EFb(g,k),f);},m);};l.prototype.forEach=function(g){var m;m=this;this.Cd.forEach(function(d,f){d.forEach(m.oE(g,f));});};l.prototype.aaa=function(g){for(var m=this.Cd.length - 1;0 <= m;--m){this.Cd[m].aaa(this.oE(g,m));}};l.prototype.some=function(g){var m;m=this;return this.Cd.some(function(d,f){return d.some(m.oE(g,f));});};l.prototype.pFa=function(g){for(var m=this.Cd.length - 1;0 <= m;--m){if(this.Cd[m].pFa(this.oE(g,m)))return !0;}return !1;};l.prototype.every=function(g){var m;m=this;return this.Cd.every(function(d,f){return d.every(m.oE(g,f));});};l.prototype.nVb=function(g,m){var n,p;function d(q){return q.reduce(function(v,t,w,u){return void 0 === t?v:void 0 === v?w:0 > g(t,u[v])?w:v;},void 0);}for(var f=this,h=this.Cd.map(function(){return 0;}),k=this.Cd.filter(function(q){return q.empty;}).length;k < this.Cd.length;){n=h.map(function(q,v){return q < f.Cd[v].length?f.Cd[v].get(q):void 0;});p=d(n);m(n[p],this.fj[p] + h[p],this);++h[p];h[p] === this.Cd[p].length && ++k;}};l.prototype.move=function(g){return this.remove(g)?(this.rp(g),!0):!1;};l.prototype.Lgc=function(){var g;if(this.Cd[1].length){g=this.Cd[1].shift();this.Cd[0].push(g);this.DA();}};l.prototype.r7a=function(g){for(var m=-1,d=0;d < this.Cd.length;++d){if((m=g(this.Cd[d]),-1 !== m)){m+=this.fj[d];break;}}return m;};l.prototype.toJSON=function(){return this.map(function(g){return g.toJSON();});};l.prototype.DA=function(){var m;this.$f=0;this.fj=[0];this.pN=this.Lh=void 0;for(var g=0;g < this.Cd.length;++g){m=this.Cd[g];this.$f+=m.length;this.fj.push(this.fj[this.fj.length - 1] + m.length);!this.Lh && m.length && (this.Lh=m);m.length && (this.pN=m);}};l.prototype.oE=function(g,m){var d,f;d=this;f=this.fj[m];return function(h,k){return g(h,f + k,d);};};l.prototype.EFb=function(g,m){var d,f;d=this;f=this.fj[m];return function(h,k,n){return g(h,k,f + n,d);};};return l;})();b.dKa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.q3=void 0;c=a(0);l=a(2);r=a(35);g=a(266);a=a(78);m=(function(){function d(f,h){this.$a=[];this.ph=void 0;this.kd=0;this.H=f;h && h.length && (Array.isArray(h)?(this.$a=h.slice(),this.VU(0,this.$a.length)):h instanceof d && (this.$a=h.$a.slice(),this.VU(0,this.$a.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.$a.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.$a.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.$a[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{eh:{get:function(){return this.$a[this.$a.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{cb:{get:function(){return this.first && this.first.cb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sb:{get:function(){return this.eh && this.eh.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Bt:{get:function(){return this.ph;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ga:{get:function(){return this.kd;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vj:{get:function(){return this.first && this.first.Vj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ma:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});d.prototype.Kkc=function(f){this.kd+=f;};d.prototype.xIb=function(){var f;if(0 === this.$a.length)((0,l.assert)(void 0 === this.ph),(0,l.assert)(0 === this.kd));else {(0,l.assert)(this.ph instanceof g.pD);(0,l.assert)("number" === typeof this.kd);(0,l.assert)(void 0 !== this.Bt && this.Bt.cb === this.cb);f=this.$a.reduce(function(h,k,n){return 0 === n || k.cb === h?k.sb:h;},0);(0,l.assert)(this.Bt.sb === f);(0,l.assert)(this.$a.reduce(function(h,k,n){return 0 === n || k.cb === h?k.sb:h;},0) === this.Bt.sb);(0,l.assert)(this.$a.reduce(function(h,k){return h + k.ga;},0) === this.kd);}};d.prototype.get=function(f){0 > f && (f+=this.$a.length);return this.$a[f];};d.prototype.push=function(f){this.$a.push(f);this.VU(this.$a.length - 1);return this.length;};d.prototype.unshift=function(f){this.$a.unshift(f);this.VU(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.$a.length)return (this.qoa(this.$a.length - 1),this.$a.pop());};d.prototype.shift=function(){if(0 !== this.$a.length)return (this.qoa(0),this.$a.shift());};d.prototype.splice=function(f,h){for(var k,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > f && (f+=this.$a.length);0 > f && (f=0);f > this.$a.length && (f=this.$a.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.$a.length - f);0 < h && this.qoa(f,f + h);p=(k=this.$a).splice.apply(k,c.__spreadArray([f,h],c.__read(n),!1));0 < n.length && this.VU(f,f + arguments.length - 2);return p;};d.prototype.slice=function(f,h){void 0 === f && (f=0);void 0 === h && (h=this.$a.length);0 > f && (f+=this.$a.length);if(f >= this.$a.length)return new d(this.H);h > this.$a.length && (h=this.$a.length);0 > h && (h+=this.$a.length);return new d(this.H,this.$a.slice(f,h));};d.prototype.rp=function(f){if(0 === this.$a.length || f.cb >= this.sb)this.push(f);else if(f.sb <= this.cb)this.unshift(f);else {for(var h=0,k=this.$a.length - 1,n;h < k - 1;){n=Math.floor((k + h) / 2);(0,l.assert)(n !== k && n !== h);f.cb >= this.$a[n].sb?h=n:k=n;}(0,l.assert)(h !== k);(0,l.assert)(this.$a[h].sb <= f.cb && this.$a[k].cb >= f.sb);this.splice(k,0,f);}};d.prototype.remove=function(f){f=this.$a.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};d.prototype.concat=function(){for(var f=[],h=0;h < arguments.length;h++){f[h]=arguments[h];}f=f.map(function(k){return k.$a;});return new d(this.H,Array.prototype.concat.apply(this.$a,f));};d.prototype.forEach=function(f){var h;h=this;this.$a.forEach(function(k,n){return f(k,n,h);});};d.prototype.some=function(f){var h;h=this;return this.$a.some(function(k,n){return f(k,n,h);});};d.prototype.every=function(f){var h;h=this;return this.$a.every(function(k,n){return f(k,n,h);});};d.prototype.map=function(f){var h;h=this;return this.$a.map(function(k,n){return f(k,n,h);});};d.prototype.reduce=function(f,h){var k;k=this;return this.$a.reduce(function(n,p,q){return f(n,p,q,k);},h);};d.prototype.indexOf=function(f){return this.$a.indexOf(f);};d.prototype.find=function(f){var h,k;h=this;return this.$a.some(function(n,p){k=p;return f(n,p,h);})?this.$a[k]:void 0;};d.prototype.findIndex=function(f){var h,k;h=this;return this.$a.some(function(n,p){k=p;return f(n,p,h);})?k:-1;};d.prototype.filter=function(f){var h;h=this;return new d(this.H,this.$a.filter(function(k,n){return f(k,n,h);}));};d.prototype.aaa=function(f){for(var h=this.$a.length - 1;0 <= h;--h){f(this.$a[h],h,this);}};d.prototype.pFa=function(f){for(var h=this.$a.length - 1;0 <= h;--h){if(f(this.$a[h],h,this))return !0;}return !1;};d.prototype.bua=function(f){if(this.empty || f < this.Ud || f >= this.Pc)return -1;for(var h=0,k=this.$a.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(f >= this.$a[n].Ud && f < this.$a[n].Pc){k=n;break;}f < this.$a[n].Pc?k=n - 1:h=n + 1;}return k;};d.prototype.DP=function(f){if(this.empty || f < this.Bd || f >= this.Yf)return -1;for(var h=0,k=this.$a.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(f >= this.$a[n].Bd && f < this.$a[n].Yf){k=n;break;}f < this.$a[n].Yf?k=n - 1:h=n + 1;}return k;};d.prototype.q7a=function(f){f=this.DP(f);return 0 <= f?this.$a[f]:void 0;};d.prototype.Z7=function(f){var h;h=this.$a[f].sb;for(f+=1;f < this.$a.length && h === this.$a[f].cb;++f){h=this.$a[f].sb;}f < this.$a.length?void 0 === this.ph?this.ph=new g.pD(this,{sb:h}):this.ph.F1(h):void 0 === this.ph?this.ph=new g.pD(this,{}):this.ph.sra();};d.prototype.iN=function(f,h){for(var k=f;k < h;++k){this.kd+=this.$a[k].ga;}void 0 === this.ph || 0 === f?this.Z7(0):this.ph.sb === this.sb?this.Z7(f - 1):this.$a[f].cb === this.ph.sb && this.Z7(f);};d.prototype.KA=function(f,h){var k;if(0 === f)(this.ph=void 0,h < this.length && this.Z7(h));else {k=this.ph;k.sb > this.$a[f - 1].sb && (h < this.length?k.F1(this.$a[f - 1].sb):k.sra());}for(;f < h;++f){this.kd-=this.$a[f].ga;}};d.prototype.VU=function(f,h){void 0 === h && (h=f + 1);this.iN(f,h);};d.prototype.qoa=function(f,h){void 0 === h && (h=f + 1);this.KA(f,h);};return d;})();b.q3=m;(0,r.ef)(a.Vu,m);(0,r.ef)(a.Jz,m);},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.yIa=void 0;c=a(0);c.__importDefault(a(3));l=a(6);g=a(8);m=a(2);d=a(191);f=a(77);h=a(268);k=a(106);(function(p){p[p.INIT=0]="INIT";p[p.B5=1]="READY";p[p.DONE=2]="DONE";})(n || (n={}));r=(function(p){function q(v,t,w,u,x,y,z,B){x=p.call(this,v,u,x,t,y) || this;x.iBb=0;x.i_a=0;x.fW=n.INIT;x.$ma=w;x.Dsc=u.offset;x.NN=f.Jl.prototype.toString.call(x) + " multiple";x.RBb=("AseMultiFragmentMediaRequest(").concat(x.Ud,"-").concat(x.Pc,")");x.wp=u.wp;t=t.x4b;x.w7=t;x.uv(x.NN,u.offset,t,1,x.$ma,x.Uc);z && B && v.mediaType === l.u.J?(x.j_a=z.Lc[0],x.Ioa=B.track,x.uv("TEXT",0,40,0,x.Ioa,x.j_a)):x.fW=n.DONE;return x;}c.__extends(q,p);Object.defineProperties(q.prototype,{ga:{get:function(){return this.w7;},enumerable:!1,configurable:!0}});q.prototype.wC=function(v){var t,w;if(0 === v.offset){t=this.nAb(v);if(void 0 === t)1 > this.iBb++?(this.zs(v),v.abort(),this.uv(this.NN,0,v.ga,v.responseType,v.mediaType === l.u.Za?this.Ioa:this.$ma,v.stream)):this.H.error("Missing content-range from url: " + v.url);else {w=t - (v.offset + v.ga);v.mediaType === l.u.Za && (this.i_a=t);0 < w && (v.mediaType === l.u.Za?this.uv(this.NN,v.offset + v.ga,w,0,this.Ioa,this.j_a):(this.uv(this.NN,v.offset + v.ga,w,1,this.$ma,this.Uc),w=this.w7,this.w7=t,d.ax.prototype.QK.call(this,this,this.w7,w)));}}d.ax.prototype.wC.call(this,v);};q.prototype.ql=function(v){0 === v.responseType && ((0,m.assert)(v.mediaType === l.u.Za),this.IBb(v),v.MR());d.ax.prototype.ql.call(this,v);};q.prototype.Qm=function(){return this.Rm?!this.he && !!this.Ma.length && this.Ma.every(function(v){return v.Qm();}):p.prototype.Qm.call(this);};q.prototype.VA=function(v,t,w){var u;if(this.he)return {status:k.Ih.Ns};if(!this.Qm())return {status:k.Ih.Cg};this.dW && this.fW === n.B5 && (this.wma(v),this.fW=n.DONE);u=k.Ih.MQa;(this.he=this.Ma.every(function(x){if(1 !== x.responseType || x.he)return !0;if(!x.Qm())return !1;u=x.VA(v,t,w,(0,g.Iy)(x)).status;return u === k.Ih.Ns;}) && this.fW === n.DONE) || (u=k.Ih.Lka);return {status:u};};q.prototype.uv=function(v,t,w,u,x,y){v=new h.qT(y,x,v + " (" + this.Ma.length + ")",{K:this.K,mediaType:y.mediaType,Sa:y.id,bitrate:this.bitrate,offset:t,ga:w,location:this.location,$c:this.$c,responseType:u,wp:this.wp},this,this.Le,this.H);this.push(v);};q.prototype.IBb=function(v){v.mediaType === l.u.Za && (v=v.response,this.dW=this.dW?(0,g.pB)(this.dW,v):v,this.dW.byteLength === this.i_a && (this.fW=n.B5));};q.prototype.wma=function(v){var w,u;function t(){return v.sourceBuffers.some(function(x){if(x.mediaType === l.u.Za)return (x.gga(w.Bd,1E3),x.appendBuffer(w.dW),!0);});}w=this;u=t();u || (v.addSourceBuffer(l.u.Za),u=t());};q.prototype.nAb=function(v){var t;if(v=v.getResponseHeader("content-range",!1)){t=v.indexOf("/");(0,m.assert)(-1 !== t,"unable to parse content-range: " + v);t=v.slice(t + 1);t=parseInt(t);(0,m.assert)(0 < t,"unable to parse content-range: " + v);return t;}};return q;})(d.ax);b.yIa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sVa=void 0;c=a(438);l=a(6);g=a(20);r=(function(){function m(d,f){this.Th=d;this.console=f;this.hI=Infinity;this.dV=this.x7=0;this.p_a=!1;}m.prototype.Kdc=function(){this.p_a=!0;};m.prototype.JUb=function(d,f,h,k,n){var p;if(this.Th){p=d.ma;if(p){if(h === l.u.J)(h=p.kp(Math.ceil(this.Th * d.da.EC),void 0,!0),p=d.Zl(h),d=p.Ht.mk(d.da),p.tj({start:0,end:this.Th - h * d}),this.hI=this.Th);else {void 0 !== k.Smb?(f=k.Smb,h=f * d.da.Z):(h=(0,c.Jva)(k,n) + Math.ceil(k.rIb * d.da.EC),g.P.Na(h).mk(d.da),h=f + h,f=Math.ceil(h / d.da.EC));h=p.kp(h,void 0,!0);for(n=k=0;n < h;++n){p=d.Zl(n);k+=p.Ht.mk(d.da);}k=f - k;p=d.Zl(h);p.tj({end:k});this.hI=f;}p.neb();return p;}}};m.prototype.p1b=function(d){this.dV+=d.tkb;this.console.warn(("StallAtFrameCount, adding frames: ").concat(d.tkb),("total frames: ").concat(this.dV),("needed frames: ").concat(this.hI));};m.prototype.W_b=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:",("requested: ").concat(this.x7),("needed: ").concat(this.hI));return this.x7 >= this.hI;};m.prototype.V_b=function(){return this.dV >= this.hI;};m.prototype.r1b=function(d,f){this.x7+=this.vy(d,f);};m.prototype.iTb=function(d,f,h){d.tkb=this.vy(f,h);};m.prototype.vy=function(d,f){return d.Ht.mk(f.da);};m.prototype.hB=function(){if(!this.V_b())return !1;if(this.p_a)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.dV," >= ").concat(this.hI));return !0;};return m;})();b.sVa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Yla=void 0;r=a(0);c=r.__importStar(a(12));l=r.__importDefault(a(29));g=r.__importDefault(a(3));m=a(21);d=a(6);f=a(270);h=a(1035);k=new g.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.La[d.La.Yh],d.La[d.La.ae],d.La[d.La.Wg],d.La[d.La.Xc],d.La[d.La.bj],"checkBuffering"];p=a(1037);q={first:function(){return a(1038);},random:function(){return a(1039);},optimized:function(){return a(194).default;},roundrobin:function(){return a(1044);},selectaudio:function(){return a(446);},selectaudioadaptive:function(){return a(1045);},"default":function(){return a(194).default;},lowest:function(){return a(1046);},highest:function(){return a(1047);},throughputthreshold:function(){return a(1048);},replay:function(){return a(1049).default;},checkdefault:function(){return a(1051);},livesimple:function(){return a(1052).default;},testscript:function(){return p;}};v={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};r=(function(){function t(w,u,x,y){var n4j,z;n4j=2;for(;n4j !== 6;){switch(n4j){case 9:w=w || this.L.FFa;this.Zh=n.reduce(function(B,A){var F3x,C;F3x=2;for(;F3x !== 4;){switch(F3x){case 2:C=(q[w] || q[v[A]])()[A] || q[v[A]]()[A];B[A]=C.bind(z);return B;break;}}},{});y && (this.qhb=new h.HRa(u));n4j=6;break;case 5:var g8q="1S";g8q+="I";g8q+="YbZrNJCp";g8q+="9";this.L=u;this.De=x;g8q;n4j=9;break;case 2:z=this;this.x1=w;n4j=5;break;}}}var J8S;J8S=2;for(;J8S !== 6;){switch(J8S){case 7:return t;break;case 4:t.prototype.mCa=function(w,u,x,y,z){var g4S,B,A,C;g4S=2;for(;g4S !== 5;){switch(g4S){case 2:B=this;w.vY(function(D){var K7c;K7c=2;for(;K7c !== 1;){switch(K7c){case 2:B.aaa(D,function(E){var i9r;i9r=2;for(;i9r !== 1;){switch(i9r){case 2:E.nw && E.Jb && E.Jb.confidence?(A !== E.Jb && (A=E.Jb,u && E.Jb && (E.Jb.Zt=!0),C=z(E.Jb,y,x,E.track.O.eu[d.u.T])),E.Ya=Math.floor(C.lower) || 1,E.sjc=Math.floor(C.upper || 1) || 1):E.Ya=void 0;i9r=1;break;}}});K7c=1;break;}}});g4S=5;break;}}};t.prototype.aaa=function(w,u){var a7I=R7xOY;var j6q,x;j6q=2;for(;j6q !== 3;){switch(j6q){case 1:j6q=0 <= x?5:3;break;case 8:a7I.o4M(10);var C4K=a7I.p3p(2,0,2);x=w.length + C4K;j6q=2;break;case 6:u(w[x],x,w);j6q=0;break;case 5:u(w[x],x,w);j6q=4;break;case 14:++x;j6q=2;break;case 2:a7I.e_n(12);var S04=a7I.p3p(4,8,2,23);x=w.length - S04;j6q=1;break;case 4:--x;j6q=1;break;}}};Object.defineProperties(t.prototype,{wQ:{get:function(){var g3w;g3w=2;for(;g3w !== 1;){switch(g3w){case 2:return this.Lna;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Mya:{get:function(){var p5m;p5m=2;for(;p5m !== 1;){switch(p5m){case 2:return this.Qna;break;}}},enumerable:!1,configurable:!0}});J8S=7;break;case 2:t.prototype.sEa=function(w,u,x,y,z,B,A){var j7H=R7xOY;var g$2,P,J,N,H,C,D,E,G,F,L,O,K,I,M,V,S,W,U,u$g;g$2=2;for(;g$2 !== 70;){switch(g$2){case 64:z=x.ma;V.el=z && void 0 !== B && !isNaN(B) && 0 <= B && B < z.length?z.Dl(B):F.Ec;V.m8b=S && S.Ya && S.Ya.xa || 0;V.yqa=F.kk - F.Qc;g$2=60;break;case 11:u.vY(function(fa,qa){var n$y,xa;n$y=2;for(;n$y !== 4;){switch(n$y){case 2:xa=(0,m.ot)(fa,function(Aa){var C5t;C5t=2;for(;C5t !== 1;){switch(C5t){case 2:return Aa.bitrate > W;break;}}});fa=0 < xa?xa - 1:0 === xa?0:fa.length - 1;0 === qa && (I=fa);n$y=4;break;}}});g$2=10;break;case 49:g$2=S && B && 0 < B.length?48:45;break;case 6:P=J[N - 1].Sa;g$2=14;break;case 43:x || (V.AB=void 0);g$2=42;break;case 21:g$2=O.Jmb && y > O.J_?35:43;break;case 56:V.NG=g.default.time.fa();g$2=55;break;case 40:var e5l="min_frag";e5l+="men";e5l+="t_vmaf";void 0 === V.N6b?this.De.H1(V.$d):this.De.H1(V.N6b);x=K[V.$d];V.H0=x.Ya || 0;V.reason && (x.zu=V.reason,e5l !== V.reason && (x.rEa=V.gw,x.WB=V.WB,x.Fq=V.Fq,x.Gq=V.Gq));g$2=36;break;case 35:j7H.e_n(6);var O7v=j7H.h1T(1,0);y=V.$d + O7v;g$2=34;break;case 10:c.wa(I) && (I=this.De.edb);w.state === d.La.Yh && c.Oa(I) && (w.state=d.La.ae);w.state !== d.La.Yh && void 0 === I && (w.state=d.La.Yh);g$2=18;break;case 28:M=K[y];g$2=44;break;case 8:(J=F.ma,N=J.length);g$2=7;break;case 75:g$2=u$g === d.La.Wg?76:74;break;case 31:g$2=!x?30:43;break;case 73:g$2=u$g === d.La.bj?15:72;break;case 4:g$2=c.wa(I) && w.state === d.La.Xc && (M=!0,void 0 !== this.De.nl)?3:8;break;case 41:return null;break;case 77:g$2=u$g === d.La.ae?76:75;break;case 14:I=(0,m.ot)(K,function(fa){var S_T;S_T=2;for(;S_T !== 1;){switch(S_T){case 2:return fa.Sa === P;break;}}});g$2=13;break;case 24:y=F.kk - F.Qc;M=void 0;x=!1;g$2=21;break;case 3:H=this.De.nl.bitrate;g$2=9;break;case 29:g$2=0 <= y?28:43;break;case 2:(C=this,F=null === w || void 0 === w?void 0:w.buffer,L=g.default.time.fa(),O=this.L,K=u.first,I=this.De.edb,M=!1);c.Oa(I) && w.state === d.La.Yh && (this.De.H1(void 0),I=void 0);c.Oa(I) && I >= K.length && (this.De.H1(void 0),I=void 0);g$2=4;break;case 9:u.vY(function(fa,qa){var N_y,xa;N_y=2;for(;N_y !== 3;){switch(N_y){case 5:u.ilc(qa,fa);0 === qa && (I=fa,C.De.H1(I));N_y=3;break;case 2:xa=(0,m.ot)(fa,function(Aa){var l_p;l_p=2;for(;l_p !== 1;){switch(l_p){case 2:return Aa.bitrate > H;break;}}});fa=0 < xa?xa - 1:0 === xa?0:fa.length - 1;N_y=5;break;}}});g$2=8;break;case 36:var P5G="p";P5G+="l";P5G+="ayin";P5G+="g";this.qhb && (V.Wy=this.qhb.QYb({EE:F.kk - F.Qc,qJb:F.Sg || 0,pJb:F.xt || 0,Qc:F.Qc,g5b:K[0],Sh:x,wlc:K[V.$d + 1] || x,Njc:K[K.length - 1],sf:w.state,playbackRate:w.playbackRate,Vd:w.Vd,iaa:A,nj:z}));c.Oa(I) && x.bitrate < K[I].bitrate && (this.Lna=F.Ec);w.state !== d.La.Xc && w.state !== d.La.bj?(z=(0,f.Hea)(w.state),B=this.hB(w.buffer,z,w.playbackRate,x,B),(V.Kg=B.complete)?V.d9=B.reason:(V.Kg=!1,V.zG=B.zG,V.TF=B.TF,V.progress=B.progress)):(V.Kg=!0,V.d9=P5G);g$2=52;break;case 55:return V;break;case 71:var X8G="Stream se";X8G+="lector ";X8G+="called with invalid player";X8G+=" state ";return (k.error(X8G + d.La[w.state]),null);break;case 52:g$2=w.lP?51:55;break;case 44:M.ma && M.ma.length || (x=!0,V.AB.push(M.Sa));g$2=43;break;case 33:M=K[y];g$2=32;break;case 16:this.De.Plb(l.default.E4.Yh);g$2=15;break;case 46:V.Iac=U;g$2=45;break;case 17:this.Qna=this.Lna=void 0;g$2=16;break;case 34:g$2=y < K.length?33:31;break;case 76:this.De.Plb(l.default.E4.Yh);g$2=15;break;case 15:void 0 !== y && this.mCa(u,!!w.Zt,w.state,w.buffer,y);V=this.Zh[d.La[w.state]].call(this,O,w,u,I,y,!!z,M,x);V.sf=w.state;g$2=25;break;case 51:S=x.Jb;B=O.LZa;g$2=49;break;case 12:W=J[N - 1].bitrate;g$2=11;break;case 48:U=[];B.forEach(function(fa){var J61,qa;J61=2;for(;J61 !== 4;){switch(J61){case 2:qa=fa.stat;qa=(fa=S[fa.filter]) && fa[qa];U.push(isNaN(qa)?-1:qa);J61=4;break;}}});g$2=46;break;case 7:g$2=0 < N?6:10;break;case 42:g$2=!V || null === V.$d?41:40;break;case 13:g$2=!(0 <= I)?12:10;break;case 45:V.Ec=F.Ec;B=w && w.Vd;g$2=64;break;case 30:j7H.e_n(13);var T0D=j7H.h1T(14,13,181);y=V.$d - T0D;g$2=29;break;case 74:g$2=u$g === d.La.Xc?15:73;break;case 32:M.ma && M.ma.length || (x=!0,V.AB.push(M.Sa));g$2=31;break;case 18:u$g=w.state;g$2=u$g === d.La.Yh?17:77;break;case 60:V.Q1a=F.Sg;V.kac=null !== (G=null === (E=null === (D=g.default.$uc) || void 0 === D?void 0:D.call(g.default)) || void 0 === E?void 0:E[w.mediaType === d.u.J?1:0]) && void 0 !== G?G:-1;V.Cj=w && w.Cj;V.Ju=L;g$2=56;break;case 25:g$2=V.Sh && (V.AB=[],u.oVb(function(fa,qa){var G93;G93=2;for(;G93 !== 5;){switch(G93){case 2:fa === V.Sh?V.$d=qa:(O.pSb && (!fa.ma || !fa.ma.length) || fa.GFa) && V.AB.push(fa.Sa);fa.GFa=!1;G93=5;break;}}}),!V.AB.length)?24:42;break;case 72:g$2=71;break;}}};t.prototype.hB=function(w,u,x,y,z){var G0S;G0S=2;for(;G0S !== 1;){switch(G0S){case 2:return this.Zh.checkBuffering.call(this,w,u,x,y,z,this.L);break;}}};t.prototype.gic=function(w,u,x){var x$8;x$8=2;for(;x$8 !== 1;){switch(x$8){case 2:c.wa(u)?this.Lna=this.Qna=void 0:u.bitrate < x.bitrate && (this.Qna=w);x$8=1;break;}}};J8S=4;break;}}})();b.Yla=r;},function(r,b,a){var v,t,w;function c(u){return h(u.Sh);}function l(u,x){var y,z;y=u.Yic;y=p(x) + y * q(x);x=x.Ya || 0;z=0;0 < x && (z=y / x - 1);return u.R6b + u.Xic * Math.max(0,z);}function g(u,x){var y,z,B,A;if(!x || "object" !== typeof x)return 0;y=u.Sh;z=u.wlc;B=u.Njc;A={selectedFragmentBitrate:f(u.iaa,y,u.Vd) * u.playbackRate,selectedPeakBitrate:(y.Ny || k(y) || 0) * u.playbackRate,upswitchPeakBitrate:(z.Ny || k(z) || 0) * u.playbackRate,maxPeakBitrate:(B.Ny || k(B) || 0) * u.playbackRate,selectedAverageBitrate:k(y) * u.playbackRate,upswitchAverageBitrate:k(z) * u.playbackRate,maxAverageBitrate:h(y) * u.playbackRate,bufferLevelMs:u.EE,observedThroughput:n(u.Sh) || 0,averagetp:p(u.Sh) || 0,stddevtp:q(u.Sh) || 0};u=x.offset || 0;return Object.keys(A).reduce(function(C,D){return C + (x[D] || 0) * A[D];},u);}function m(u,x,y){var B;function z(A,C){return void 0 !== A && 0 < A.filter(function(D){return D === C;}).length;}B=u.filter(function(A){return z(A.Iea,x);});0 === B.length && (B=u.filter(function(A){return !A.Iea || 0 === A.Iea.length;}));u=B.filter(function(A){return z(A.Rfb,y);});0 === u.length && (u=B.filter(function(A){return !A.Rfb || 0 === A.Rfb.length;}));return u.sort(function(A,C){return A.e9 - C.e9;});}function d(u,x){var y,A,C;y=m(x.ddc,u.sf,u.Sh.Jb.confidence);if(0 === y.length)return 0;a:switch(x.X9b){case "implicit":x=l(x,u.Sh);x=u.EE / x;break a;case "capacityPercentage":x=Math.max(u.qJb / u.pJb || 0,u.EE / x.qw);break a;default:x=0;}for(var z=-1,B=0;B < y.length;B++){if(y[B].e9 >= x){z=B;break;}}if(-1 === z)return g(u,y[y.length - 1].Bra);if(0 === z)return g(u,y[0].Bra);A=y[z - 1].e9;B=g(u,y[z - 1].Bra);C=y[z].e9;u=g(u,y[z].Bra);y=Math.min((x - A) / (C - A),1);return (1 - y) * B + y * u;}function f(u,x,y){var z;return void 0 !== y && x.ma?(void 0 === u?null === (z=x.ma) || void 0 === z?void 0:z.get(y).kqa:u.n9a(x,y).kqa) || x.Ny || 0:x.Ny || 0;}function h(u){var x,y;y=null === (x=null === u || void 0 === u?void 0:u.O) || void 0 === x?void 0:x.eu;return y?y[u.mediaType] || 0:0;}function k(u){return (null === u || void 0 === u?void 0:u.bitrate) || 0;}function n(u){var x;u=u.Jb;return (null === (x=null === u || void 0 === u?void 0:u.Ya) || void 0 === x?void 0:x.xa) || 0;}function p(u){var x;u=u.Jb;return (null === (x=null === u || void 0 === u?void 0:u.ap) || void 0 === x?void 0:x.BO) || 0;}function q(u){var x;u=u.Jb;return Math.sqrt(null === (x=null === u || void 0 === u?void 0:u.ap) || void 0 === x?void 0:x.XS) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.JYb=b.VWb=b.PXb=b.HRa=void 0;r=a(0).__importDefault(a(3));v=a(6);t=a(1036);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:c,"static":function(u,x){return x.dnb;},none:function(){return 0;},regression:d,epsGreedy:function(u,x){return Math.min(d(u,x) || 0,n(u.Sh));},"default":c};a=(function(){var D_u;D_u=2;for(;D_u !== 3;){switch(D_u){case 2:u.prototype.PYb=function(x){var Y1Q,y,z;Y1Q=2;for(;Y1Q !== 9;){switch(Y1Q){case 2:z=null === (y=x.Sh) || void 0 === y?void 0:y.mediaType;y=0;Y1Q=5;break;case 3:return y;break;case 5:Y1Q=z === v.u.T && this.L.s$ && this.L.tSb || z === v.u.J && this.L.t$ && this.L.uSb?4:3;break;case 4:var L57="st";L57+="at";L57+="i";L57+="c";y=L57 === this.L.V9b?this.L.dnb:h(x.Sh);Y1Q=3;break;}}};u.prototype.hva=function(x,y,z){var M4P,B;M4P=2;for(;M4P !== 8;){switch(M4P){case 4:R7xOY.e_n(14);y=Math.ceil(R7xOY.h1T(y,z));x=(this.L.W2a.Svc || 0) * ((null === (B=x.g5b) || void 0 === B?void 0:B.Ny) || 0);return y < x?0:y;break;case 5:return 0;break;case 1:M4P=!z?5:4;break;case 2:M4P=1;break;}}};u.prototype.QYb=function(x){var F$p,y,z,B;F$p=2;for(;F$p !== 6;){switch(F$p){case 5:return y;break;case 2:(y=new t.Vka({WC:0,qB:0,KC:0}),z=this.L.W2a);F$p=1;break;case 9:return y;break;case 4:B=this.L.Akc;F$p=3;break;case 8:y=x.nj?this.algorithm(x,this.L):this.PYb(x);return new t.Vka({WC:this.hva(x,y,z.kjb[0]),KC:this.hva(x,y,z.kjb[2]),qB:this.hva(x,y,z.kjb[1])});break;case 1:F$p=!z?5:4;break;case 3:F$p=B && x.Vd && 0 === x.Vd % B || x.EE < z.YF?9:8;break;}}};return u;break;}}function u(x){var e1d;e1d=2;for(;e1d !== 4;){switch(e1d){case 9:this.L=x;"";e1d=1;break;case 2:var n5E="1SI";n5E+="YbZr";n5E+="NJCp9";this.L=x;n5E;e1d=5;break;case 5:var X3e="d";X3e+="ef";X3e+="aul";X3e+="t";this.algorithm=(w[this.L.U9b] || w[X3e]).bind(this);e1d=4;break;}}}})();b.HRa=a;b.PXb=l;b.VWb=m;b.JYb=n;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Vka=void 0;c=a(0);r=(function(){function l(g){this.WC=g.WC;this.qB=g.qB;this.KC=g.KC;}Object.defineProperties(l.prototype,{ljb:{get:function(){return [this.WC,this.qB,this.KC];},enumerable:!1,configurable:!0}});l.prototype.sfb=function(){return Math.min(this.WC,this.qB,this.KC);};l.prototype.fca=function(){return this.ljb.some(function(g){return 0 < g;});};l.prototype.ZDa=function(g){return new l({WC:g * this.WC,qB:g * this.qB,KC:g * this.KC});};l.prototype.Jza=function(g,m,d,f){var h;h=8 * g / Math.max(d - m,1);if(!this.fca())return !1;g=this.ljb.map(function(k){return Math.abs(h - k) / k;});return Math.min.apply(Math,c.__spreadArray([],c.__read(g),!1)) < f;};return l;})();b.Vka=r;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){var q;q=p.first;f=q;h=q.map(function(v,t){return t;});if(null === d)return (k=g(q),d=q[k].bitrate,new m(k));if(!q.length)return null;k=h.filter(function(v){return q[v].bitrate == d;})[0];return void 0 === k?(l.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new m(h[0])):new m(k);}b=a(30);a=a(3).default;l=b.console;g=b.lua;m=b.Tp;d=null;f=null;h=null;a.EKb && (a.EKb.Yj={oa:function(){h=f=d=null;},sEa:function(k){d=k;},cvc:function(){return {all:f,Mpb:h};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var l,g,m,d;function c(f,h,k,n){f=k.first;if(l.wa(n))n=g(f);else if(!m(f[n]) && (n=g(f,n),0 > n))return null;return new d(n);}l=a(12);b=a(30);g=b.lua;m=b.mK;d=b.Tp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var l;function c(g,m,d){g=d.first.map(function(f,h){return f.nw?h:null;}).filter(function(f){return null !== f;});return g.length?new l(g[Math.floor(Math.random() * g.length)]):null;}l=a(30).Tp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ufa=void 0;r=a(0);c=r.__importStar(a(12));l=a(21);r=r.__importDefault(a(30));g=a(445);m=r.default.assert;d=r.default.Tp;b.Ufa=f;(function(){var W3e;W3e=2;function h(k,n,p,q){var Y$e,y,t,w,u,x;Y$e=2;for(;Y$e !== 19;){switch(Y$e){case 8:Y$e=void 0 === w?7:13;break;case 4:Y$e=w.Ya?3:12;break;case 14:y=null === w || void 0 === w?void 0:w.Ya;Y$e=12;break;case 13:var l$j="select_feasible";l$j+="_b";l$j+="uffering";x=l$j;Y$e=14;break;case 12:q=new d();q.Sh=w;p !== w && (q.reason=x,q.gw=y);return q;break;case 2:var k0$="Must ha";k0$+="ve";k0$+=" at least one selected stream";m(!c.wa(q),k0$);(t=p.first,w=t[q],u=w.bitrate);p=w;Y$e=4;break;case 7:w=t[0];Y$e=6;break;case 3:q=Math.min(q + (k.oHb?2:1),t.length);w=(0,l.Oc)(t.slice(0,q).reverse(),v);Y$e=8;break;case 6:var d65="fallb";d65+="ack_lowest_acceptable_";d65+="stream";x=d65;Y$e=14;break;}}function v(z){var B1J,B;B1J=2;for(;B1J !== 8;){switch(B1J){case 4:var V0M="b";V0M+="u";V0M+="ff_lt";V0M+="_his";V0M+="t";x=V0M;y=B;return !0;break;case 2:B=z.Ya;B1J=1;break;case 1:B1J=!B || (z.bitrate > u?k.vlc:1) * z.bitrate * n.playbackRate > B?5:4;break;case 5:return !1;break;}}}}for(;W3e !== 5;){switch(W3e){case 2:var S_A="1";S_A+="S";S_A+="IYb";S_A+="ZrNJCp9";b.Ufa=f=function(k,n,p,q,v,t,w){var P24;P24=2;for(;P24 !== 1;){switch(P24){case 2:var V41="p";V41+="l";V41+="a";V41+="yin";V41+="g";return V41 === k.wqa?g.oo.call(this,k,n,p,q,v,t,w):h.call(this,k,n,p,q);break;}}};S_A;W3e=5;break;}}})();},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);c.__importStar(a(12));l=a(30);b.default=function(g){var O47=R7xOY;var V7e,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,L,O,K,I,M,H,J,E,G,F;V7e=2;for(;V7e !== 50;){switch(V7e){case 28:O47.e_n(15);f+=O47.p3p(0,q,u,F);p+=A;V7e=43;break;case 34:E=Math.max(q,t);V7e=33;break;case 39:V7e=L >= v && G > C?51:38;break;case 43:w-=q;V7e=42;break;case 31:V7e=!z && (G=p - f,G < y)?30:29;break;case 32:(f=k,w+=M[d],++d,d >= M.length && ++I < m.length && (M=m.bZ(I),H=m.OP(I),d=0),G=H[d],k+=G);V7e=33;break;case 33:V7e=w < E?32:31;break;case 30:return (g && n.push(G / (B / 1E3)),c.__assign({result:!1,p_:G / (B / 1E3),Tv:!1},g && ({f9:n})));break;case 41:(w+=M[d],++d,d >= M.length && ++I < m.length && (M=m.bZ(I),H=m.OP(I),d=0));V7e=42;break;case 15:O47.o4M(1);C*=O47.h1T(B,1E3);G=c.__read(m.KYb(q),2);D=G[0];V7e=25;break;case 2:var G0r="1";G0r+="S";G0r+="IYbZrN";G0r+="J";G0r+="Cp9";(m=g.EVb,d=g.blocks,f=g.Qc,h=g.kk,k=g.qhc,n=g.Rj,p=g.Ec,q=g.Vd,v=g.cVb,t=g.TX,w=g.f8a,u=g.Ya,x=g.pda,y=g.YF,z=g.i3b);g=g.rSb;G0r;(B=m.W,A=Math.min(m.FVb,d),C=h - f,D=8 * n / u | 0);V7e=3;break;case 25:(L=G[1],O=m.bZ(D),K=m.OP(D),I=0,M=m.bZ(I),H=m.OP(I),J=A - q);V7e=24;break;case 51:return c.__assign({result:!0,p_:h / (B / 1E3),Tv:!0},g && ({f9:n}));break;case 29:O47.o4M(0);G=O47.h1T(p,f);V7e=28;break;case 53:V7e=(G=Math.max(p - f,0),G < x && G < E)?52:28;break;case 38:L >= O.length && ++D < m.length && (v-=O.length,O=m.bZ(D),K=m.OP(D),L=0);g && n.push(G / (B / 1E3));E=G;V7e=54;break;case 3:n=[];h=Infinity;E=0;d=0;G=m.OP(0)[0];O47.o4M(16);k=O47.p3p(G,1E3,k,B);O47.o4M(17);u=O47.h1T(8,u,0);V7e=12;break;case 52:return (g && n.push(G / (B / 1E3)),c.__assign({result:!1,p_:Math.min(G,h) / (B / 1E3),Tv:!0},g && ({f9:n})));break;case 42:V7e=k < f && d < L?41:40;break;case 40:++L;V7e=39;break;case 23:J--;q=O[L];A=K[L];V7e=35;break;case 12:var o$v=" >=";o$v+=" fragme";o$v+="ntsL";o$v+="engt";o$v+="h: ";var J8W="Stre";J8W+="amin";J8W+="gIndex:";J8W+=" ";O47.e_n(1);F=O47.p3p(B,1E3);q >= A && l.console.error(J8W + q + o$v + A);f+=D;0 === p && (f=0);V7e=19;break;case 35:V7e=w < q?34:53;break;case 19:O47.e_n(1);f*=O47.p3p(B,1E3);O47.e_n(1);p*=O47.h1T(B,1E3);O47.o4M(1);y*=O47.p3p(B,1E3);O47.o4M(1);x*=O47.p3p(B,1E3);V7e=15;break;case 54:h=Math.min(G,h);V7e=24;break;case 24:V7e=J?23:51;break;}}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kVa=void 0;r=(function(){function a(c){this.Vq=[];this.Vq.push(c);}Object.defineProperties(a.prototype,{W:{get:function(){return this.Vq[0].W;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Vq.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{FVb:{get:function(){var c;return null !== (c=this.oBb) && void 0 !== c?c:this.oBb=this.Vq.reduce(function(l,g){return l + g.length;},0);},enumerable:!1,configurable:!0}});a.prototype.OP=function(c){return this.Vq[c].Me;};a.prototype.bZ=function(c){return this.Vq[c].sizes;};a.prototype.add=function(c){this.Vq.push(c);};a.prototype.KYb=function(c){var g;for(var l=0;0 <= c;){g=this.Vq[l];if(c < g.length)break;l++;c-=g.length;}return [l,c];};return a;})();b.kVa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.w2b=b.mlb=void 0;c=a(0);l=c.__importDefault(a(92));g=c.__importStar(a(12));m=a(21);d=a(423);f=c.__importDefault(a(3));r=c.__importDefault(a(104));a=c.__importDefault(a(30));h=a.default.k7b;k=a.default.CJb;n=a.default.fX;p=a.default.Tp;q=r.default.dFa;a=(function(){function t(A,C,D){var w7B;w7B=2;for(;w7B !== 5;){switch(w7B){case 2:A=k(D.Ak,A * D.ida);return h(A,C);break;}}}function u(A,C){var c0Q=R7xOY;var y0K,D;y0K=2;for(;y0K !== 9;){switch(y0K){case 3:var r3P="si";r3P+="g";r3P+="m";r3P+="oi";r3P+="d";return 0 === C.cS.lastIndexOf(r3P,0)?(D=C.cS,(D=C.nlb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(A)):C.fu):C.fu;break;case 4:return (D=C.nlb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + A)):C.fu;break;case 1:var R7R="l";R7R+="o";R7R+="g";y0K=0 === C.cS.lastIndexOf(R7R,0)?5:3;break;case 7:c0Q.e_n(18);var Q8y=c0Q.p3p(1,1,6,6,0);c0Q.o4M(19);var B4A=c0Q.p3p(13,5346,4847);c0Q.o4M(6);var r4e=c0Q.h1T(16,651);A=n(A,Q8y,B4A) % r4e;y0K=6;break;case 5:D=C.cS;y0K=4;break;case 2:c0Q.e_n(20);var u8s=c0Q.h1T(11,99999,1250,15,6250);c0Q.e_n(21);var F36=c0Q.h1T(67,18,1,937,14);A=n(A,0,u8s) / F36;y0K=1;break;}}}function y(A,C,D,E,G,F){var m2x;m2x=2;for(;m2x !== 5;){switch(m2x){case 2:var R$5="no";R$5+="_v";R$5+="ali";R$5+="d_Bitra";R$5+="te";var b$$="n";b$$+="o";b$$+="_va";b$$+="lid_";b$$+="VMAF";var z52="n";z52+="o_valid_DelayT";z52+="arge";z52+="t";A=D?A.hb >= F.vw && A.hb <= F.Neb:A.bitrate >= F.uw && A.bitrate <= F.lC;return (E=E < G && A)?{O$:E}:{O$:E,reason:A?z52:D?b$$:R$5};break;}}}function B(A,C,D,E){var E8s,G;E8s=2;for(;E8s !== 7;){switch(E8s){case 5:return A.pW?x(A,C,D,E):z(A,C,D,E);break;case 1:var D4L="nu";D4L+="mb";D4L+="er";E8s=D4L !== typeof G?5:4;break;case 4:var S7S="hi";S7S+="s";S7S+="t_bitr";S7S+="ate";A=new p();A.Sh=(0,m.Oc)(D.slice().reverse(),function(F){var x48;x48=2;for(;x48 !== 1;){switch(x48){case 2:return F.bitrate <= G;break;case 4:return F.bitrate >= G;break;}}}) || D[0];A.reason=S7S;E8s=8;break;case 8:return A;break;case 2:var H$I="v";H$I+="b";G=f.default.storage.get(H$I);E8s=1;break;}}}function v(A,C){var G$9,D,E;G$9=2;for(;G$9 !== 12;){switch(G$9){case 3:D.Fq=A.In?A.In:0;G$9=9;break;case 2:D=new p();D.Sh=A;A=D.Sh.Jb || ({});D.Gq=A.In && A.jh;G$9=3;break;case 9:A=(0,l.default)(D.Gq,{});G$9=7;break;case 14:var s3I="hist_th";s3I+="roughpu";s3I+="t";var F57="h";F57+="i";F57+="st";F57+="_tdi";F57+="gest";E?(C=A.Sj(C.Vfa / 100) || D.Sh.Ya,D.gw=C,D.reason=F57):D.Sh.Ya && (C=D.Sh.Ya,D.gw=C,D.reason=s3I);return D;break;case 7:G$9=(E=g.Oa(C.Vfa) && 0 <= C.Vfa && 100 >= C.Vfa && !g.wa(A) && !g.wb(A))?6:14;break;case 6:(E=d.RVa.TYb(A),g.qd(E)?(A.Sj=E,E=!0):E=!1);G$9=14;break;}}}function z(A,C,D){var O27,E,G;O27=2;for(;O27 !== 4;){switch(O27){case 2:(E=new p(),G=Math.max(A.uw,A.nda,C.Rxa?A.lAa:-Infinity));E.Sh=(0,m.Oc)(D.filter(function(F){var U_y;U_y=2;for(;U_y !== 1;){switch(U_y){case 4:return F.bitrate < A.lC;break;case 2:return F.bitrate <= A.lC;break;}}}).reverse(),function(F){var G_C,K,L,O;G_C=2;for(;G_C !== 13;){switch(G_C){case 7:return L;break;case 9:K=w(A,F);G_C=8;break;case 14:var f8O="no_h";f8O+="i";f8O+="storical_lte";f8O+="_minbitrate";var A$h="hi";A$h+="st_tput_lt_minbitra";A$h+="te";var o0S="lt_hist_lte";o0S+="_";o0S+="min";o0S+="bitrate";(O=L.Ya,F.bitrate * C.playbackRate <= O?(E.gw=O,L && (E.Fq=L.In?L.In:0,E.Gq=L.In?L.jh:void 0),E.reason=o0S,L=!0):O?(E.gw=O,L && (E.Fq=L.In?L.In:0,E.Gq=L.In?L.jh:void 0),E.reason=A$h,L=!1):(E.reason=f8O,L=!0));G_C=7;break;case 3:G_C=O?9:6;break;case 6:L=!1;G_C=7;break;case 8:var d3x="h";d3x+="ist_buf";d3x+="f";d3x+="t";d3x+="ime";t(F,O,A) <= K?(E.gw=O,L && (E.Fq=L.In?L.In:0,E.Gq=L.In && L.jh),E.reason=d3x,L=!0):L=!1;G_C=7;break;case 1:G_C=F.bitrate > G?5:14;break;case 2:L={Ya:F.Ya,In:F.Jb && F.Jb.In,jh:F.Jb && F.Jb.jh};G_C=1;break;case 5:F=F.bitrate * C.playbackRate;O=L.Ya;G_C=3;break;}}}) || D[0];return E;break;}}}var M4g;M4g=2;for(;M4g !== 5;){switch(M4g){case 2:var d6D="1SIYb";d6D+="ZrN";d6D+="JCp";d6D+="9";d6D;return {FEb:function(A,C,D,E){var b9u;b9u=2;for(;b9u !== 5;){switch(b9u){case 2:var n4d="h";n4d+="istori";n4d+="cal";D=D.first;return D.some(function(G){var J$y;J$y=2;for(;J$y !== 1;){switch(J$y){case 2:return G.ta;break;}}})?z(A,C,D,E):n4d === A.vxa?B(A,C,D,E):A.pW?x(A,C,D,E):z(A,C,D,E);break;}}},ZBb:y};break;}}function w(A,C){var a5C,D,E;a5C=2;for(;a5C !== 13;){switch(a5C){case 6:return Math.floor(A.d + (D.d - A.d) * (C - A.r) / (D.r - A.r));break;case 2:a5C=A.Kba?1:14;break;case 4:return D[0].d;break;case 1:(D=A.Kba,E=(0,m.ot)(D,function(G){var d6j;d6j=2;for(;d6j !== 1;){switch(d6j){case 4:return C > G.r;break;case 2:return C <= G.r;break;}}}));a5C=5;break;case 5:a5C=0 === E?4:3;break;case 3:a5C=-1 === E?9:8;break;case 8:R7xOY.o4M(0);A=D[R7xOY.p3p(E,1)];D=D[E];a5C=6;break;case 9:return D[D.length - 1].d;break;case 14:return A.fu;break;}}}function x(A,C,D){var G6R,E,G,F,L,O,K;G6R=2;for(;G6R !== 19;){switch(G6R){case 2:(E=!!A.vw && !!A.Neb && D.every(function(I){var T8n;T8n=2;for(;T8n !== 1;){switch(T8n){case 2:return I.hb && 110 >= I.hb;break;}}}),G=null,F=D.length - 1);G6R=1;break;case 12:F--;G6R=1;break;case 14:G6R=L?11:13;break;case 1:G6R=0 <= F && (E?D[F].hb >= A.vw:D[F].bitrate >= A.uw)?5:11;break;case 5:L=D[F];G=v(L,A);G6R=3;break;case 11:var S4T="fallback_no";S4T+="_acceptable";S4T+="_stream";var M3n="bel";M3n+="ow_minIni";M3n+="tVide";M3n+="oBitrate";g.wb(G) && D[F].bitrate < A.uw && (G=v(D[F],A),G.reason=M3n);g.wb(G) && (G=v(D[0],A),G.reason=S4T);return G;break;case 3:(O=t(L.bitrate * C.playbackRate,G.gw,A),K=u(G.gw,A));K=y(L,G.gw,E,O,K,A);L=K.O$;K=K.reason;G.WB=O;G6R=14;break;case 13:G.reason=K;G6R=12;break;}}}})();r=a.ZBb;b.mlb=a.FEb;b.w2b=r;},function(r,b,a){var l,g,m,d;function c(f,h,k){var n,p;n=k.first;k=this.Ona;h=h.buffer.Ec;p="forward" === f.Cec;if(l.wa(k))return (k=p?g(n):g(n,n.length),this.Pna=h,this.Ona=k,new d(k));m(n[k]) || (k=g(n,k),this.Pna=h,this.Ona=k);if(0 > k)return null;if(h > this.Pna + f.vjc){f=n.map(function(q,v){return q.nw?v:null;}).filter(function(q){return null !== q;});if(!f.length)return null;p?k=(f.indexOf(k) + 1) % f.length:(k=f.indexOf(k) - 1,0 > k && (k=f.length - 1));this.Ona=f[k];this.Pna=h;return new d(f[k]);}return new d(k);}l=a(12);b=a(30);g=b.lua;m=b.mK;d=b.Tp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var o4l,g,m,d,f,h,k,n,p,q,v;o4l=2;for(;o4l !== 4;){switch(o4l){case 7:"";o4l=9;break;case 5:var x$j="1SIYbZ";x$j+="rNJC";x$j+="p9";x$j;o4l=4;break;case 2:(g=a(12),m=a(30),d=m.console,f=m.debug,h=m.assert,k=a(92),n=m.mK,p=m.Tp,q=a(446),v=a(6).La);r.exports={STARTING:function(t,w,u,x){var X6R,y,z,B;X6R=2;for(;X6R !== 7;){switch(X6R){case 4:var e3I=" k";e3I+="b";e3I+="ps,";e3I+=" pro";e3I+="file :";var K_2="select";K_2+="AudioStreamStarting: sele";K_2+="cted stream :";t=q[v[v.Yh]](y,w,u,x);z=z[t.$d];f && d.log(K_2 + z.bitrate + e3I + z.mf);return t;break;case 5:var R6z="selectAudioStreamS";R6z+="tar";R6z+="ting: overridin";R6z+="g config with ";(y={minInitAudioBitrate:t.M_,minHCInitAudioBitrate:t.K_,maxInitAudioBitrate:t.x_,minRequiredAudioBuffer:t.vda},f && d.log(R6z + JSON.stringify(B)),k(B,y));X6R=4;break;case 2:(y=t,z=u.first,B=z[x || 0].mf);X6R=1;break;case 1:X6R=(B=t && t.BS && 0 <= t.BS.indexOf(B)?c(B,t.Onb):c(B,t.uIb))?5:4;break;}}},BUFFERING:l,REBUFFERING:l,PLAYING:l,PAUSED:l};o4l=5;break;}}function l(t,w,u,x){var N5Y,F,B,y,z,L,O,A,C,D,E,G;N5Y=2;for(;N5Y !== 30;){switch(N5Y){case 16:u=C;N5Y=34;break;case 19:C=B[D];F=y[C];N5Y=17;break;case 35:var X9v="m";X9v+="s";var G5M=", buf";G5M+="fe";G5M+="r ";G5M+="level = ";var c4f=", l";c4f+="a";c4f+="stUpsw";c4f+="itchPts ";c4f+="= ";var s7r="  Upswitch";s7r+=" not allowed. l";s7r+="astDownswit";s7r+="chPts = ";f && d.log(s7r + O + c4f + L + G5M + F + X9v);N5Y=34;break;case 9:u=x;t.Onb.some(function(K){var w6z,I,M,H,J,N,P;w6z=2;for(;w6z !== 9;){switch(w6z){case 2:(I=K.profiles,M=I && 0 <= I.indexOf(z));w6z=1;break;case 12:return M;break;case 1:w6z=M?5:3;break;case 3:return M;break;case 5:(H=(K=K.p0) && K.vda || t.vda,J=K && K.rwc || -Infinity,N=K && K.IQ || Infinity,P=w.buffer.xt);w6z=4;break;case 4:B=y.filter(function(W){var L7Q,V;L7Q=2;for(;L7Q !== 5;){switch(L7Q){case 2:V=W.bitrate;return V >= J && V <= N && 0 <= I.indexOf(W.mf) && V * H / 8 < P;break;}}}).map(function(W){var m9o;m9o=2;for(;m9o !== 1;){switch(m9o){case 2:return W.Ag;break;}}});w6z=3;break;}}});N5Y=6;break;case 2:var b7z="Must have at least one s";b7z+="electe";b7z+="d stream";y=u.first;h(!g.wa(x),b7z);z=y[x].mf;N5Y=4;break;case 15:D--;N5Y=20;break;case 21:u=C;N5Y=34;break;case 27:var a9V=" kb";a9V+="p";a9V+="s";var W3L=" ";W3L+="k";W3L+="b";W3L+="p";W3L+="s > ";var c9z="th";c9z+="roughput for a";c9z+="udio ";N5Y=D < B.length - 1 && E > G.ipb * C * w.playbackRate && (f && d.log(c9z + E + W3L + G.ipb + "*" + C + a9V),C=w.buffer,F=C.kk - C.Qc,A.ma && A.ma.length)?26:34;break;case 25:N5Y=w.js && F > G.fC && (void 0 === O || Number(L) > O || C.Ec - O > G.m_)?24:35;break;case 6:N5Y=B && 1 < B.length?14:34;break;case 22:N5Y=(C=B[D],F=y[C],n(F) && E > G.ipb * F.bitrate * w.playbackRate)?21:23;break;case 4:N5Y=!(t && t.BS && 0 <= t.BS.indexOf(z))?3:9;break;case 3:return new p(x);break;case 20:N5Y=0 <= D?19:34;break;case 34:var r2D="kbp";r2D+="s, streami";r2D+="ngPts :";var w91=", a";w91+="udio throu";w91+="ghput:";var B1h=" kbps";B1h+=", profile";B1h+=" ";B1h+=":";var a32="se";a32+="lectAudi";a32+="oStream: selected stre";a32+="am";a32+=" :";var x5D=" kb";x5D+="p";x5D+="s";var I7s=" ";I7s+="kbp";I7s+="s,";I7s+=" to";I7s+=" ";var I3j="switchin";I3j+="g";I3j+=" audio";I3j+=" from ";var c8S="d";c8S+="o";c8S+="w";c8S+="n";var L5O="u";L5O+="p";E=y[u];u !== x && f && d.log((u > x?L5O:c8S) + I3j + A.bitrate + I7s + E.bitrate + x5D);f && d.log(a32 + E.bitrate + B1h + z + w91 + E.Ya + r2D + w.buffer.Ec);return new p(u);break;case 24:var I$$=",";I$$+=" strea";I$$+="mingP";I$$+="ts = ";var w_v=",";w_v+=" las";w_v+="tUpswitchPts";w_v+=" ";w_v+="= ";var I8v="  Upswitch";I8v+=" allowed. lastD";I8v+="ownswitchPts = ";f && d.log(I8v + O + w_v + L + I$$ + C.Ec);N5Y=23;break;case 10:var e8k=" kb";e8k+="ps, try to d";e8k+="owns";e8k+="witc";e8k+="h";var K96=" k";K96+="bps ";K96+="< ";var i92="throughput";i92+=" ";i92+="for audio";i92+=" ";(f && d.log(i92 + E + K96 + G.L5a + "*" + C + e8k),--D);N5Y=20;break;case 17:N5Y=n(F) && (0 == D || F.bitrate * w.playbackRate * G.L5a < E)?16:15;break;case 12:u=0;N5Y=34;break;case 23:N5Y=++D < B.length?22:34;break;case 26:(L=this.Mya,O=this.wQ);N5Y=25;break;case 11:N5Y=D && E < G.L5a * C * w.playbackRate?10:27;break;case 14:(A=y[x],C=A.bitrate,D=B.indexOf(x),E=A.Ya,G=t.vIb);N5Y=13;break;case 13:N5Y=0 > D?12:11;break;}}}function c(t,w){var Z2J,u;Z2J=2;for(;Z2J !== 4;){switch(Z2J){case 2:u=void 0;w.some(function(x){var Q_7,y;Q_7=2;for(;Q_7 !== 4;){switch(Q_7){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(t)) && (u=x.override);return y;break;}}});return u;break;}}}})();},function(r,b,a){var l;function c(){return new l(0);}a(12);l=a(30).Tp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var l;function c(g,m,d){return new l(d.first.length - 1);}a(12);l=a(30).Tp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var K_m,g,m,d,l;function c(f,h,k,n){var d0l,p;d0l=2;for(;d0l !== 11;){switch(d0l){case 8:p=k[n];d0l=7;break;case 13:h.$d=0;return h;break;case 3:R7xOY.o4M(22);var g_J=R7xOY.h1T(6,0,16,33,10);n=k.length - g_J;d0l=9;break;case 7:d0l=p.Jb && p.Jb.Ya && p.bitrate < p.Jb.Ya.xa - f.qjc?6:14;break;case 2:var m5P="p";m5P+="layer mis";m5P+="sing f";m5P+="ragmentIndex";var s76="Mu";s76+="st have at";s76+=" least one selecte";s76+="d stream";m(!l.wa(n),s76);m(l.Oa(h.Vd),m5P);h=d(n);k=k.first;d0l=3;break;case 9:d0l=-1 < n?8:13;break;case 6:return (h.$d=n,h);break;case 14:--n;d0l=9;break;}}}K_m=2;for(;K_m !== 6;){switch(K_m){case 1:a(29);g=a(30);a(3);(m=g.assert,d=g.Tp);g=a(194).default;r.exports={STARTING:g.STARTING,BUFFERING:g.BUFFERING,REBUFFERING:g.REBUFFERING,PLAYING:c,PAUSED:c};K_m=7;break;case 7:var h9H="1S";h9H+="I";h9H+="YbZrNJ";h9H+="Cp";h9H+="9";h9H;K_m=6;break;case 2:l=a(12);K_m=1;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1050);b.default={PLAYING:r.oo,PAUSED:r.oo};},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.oo=void 0;r=a(0);c=r.__importStar(a(12));l=r.__importDefault(a(30));g=r.__importDefault(a(194));m=a(77);d=r.__importDefault(a(3));f=l.default.assert;h=l.default.Tp;b.oo=k;(function(){var r8I;r8I=2;for(;r8I !== 5;){switch(r8I){case 2:var V4g="1SI";V4g+="Yb";V4g+="Zr";V4g+="NJCp";V4g+="9";b.oo=k=function(n,p,q,v,t,w,u){var X_M,L,H,x,y,z,B,A,C,K,I,M,O,J,D,E,G,F;X_M=2;for(;X_M !== 90;){switch(X_M){case 56:X_M=D < A?55:71;break;case 34:C=z[x];A=x <= v?!0:!1;D=void 0;L=[];C.Jb && C.Jb.throughput && (D=C.Jb.throughput.xa);X_M=29;break;case 17:X_M=n.PSb?16:59;break;case 22:y=z[v];X_M=21;break;case 68:x=C;X_M=72;break;case 67:X_M=y[C].f < A?72:66;break;case 65:H++;X_M=46;break;case 52:H=p.Vd;X_M=51;break;case 21:x=0;X_M=35;break;case 66:C--;X_M=70;break;case 72:A=x;X_M=20;break;case 48:H++;X_M=51;break;case 46:X_M=H < I.length?45:64;break;case 35:X_M=x < z.length?34:60;break;case 71:--C;X_M=70;break;case 2:var Z8H="pl";Z8H+="ayer missing fra";Z8H+="gmentInde";Z8H+="x";var N6C="Must ha";N6C+="ve at";N6C+=" least one selected stream";f(!c.wa(v),N6C);f(c.Oa(p.Vd),Z8H);(y=n.hic,z=q.first,B=new h(v),A=null !== (x=p.Vd) && void 0 !== x?x:-1);x=y[0].f;C=y[y.length - 1].f;X_M=8;break;case 36:C.Jb && C.Jb.tputTrace && (O=C.Jb.tputTrace);(K=[],I=C.ma,M=0);X_M=53;break;case 55:C+=1;X_M=77;break;case 69:X_M=y[C].f === A?68:67;break;case 28:O=C.Jb.tdigest;L.push(O.min);L.push(O.nea);X_M=42;break;case 57:x=void 0;X_M=56;break;case 74:X_M=y[C].f > A?72:73;break;case 61:x++;X_M=35;break;case 64:I=void 0;p.ZW && (I=d.default.time.fa() - p.ZW);q.push({Vd:p.Vd,tyc:I,hwc:M,atc:D,qyc:L,syc:O,yqa:t,f8a:w,Atc:K,Lvc:u.bitrate,Mvc:null !== (E=u.hb) && void 0 !== E?E:0,Ltc:C.bitrate,Mtc:null !== (G=C.hb) && void 0 !== G?G:0,Kxc:y.bitrate,Lxc:null !== (F=y.hb) && void 0 !== F?F:0,Yt:A});X_M=61;break;case 51:X_M=H < Math.min(H + n.yIb,I.length)?50:47;break;case 75:x=C;X_M=72;break;case 38:L.push(O.max);X_M=37;break;case 8:X_M=A < x || A > C?7:6;break;case 45:M+=I.get(H).duration;X_M=65;break;case 7:return g.default.PLAYING.call(this,n,p,q,v,t,w,u);break;case 50:J=I.get(H);K.push({d:J.duration,b:J.ga});X_M=48;break;case 47:H=p.Vd;X_M=46;break;case 6:R7xOY.o4M(0);C=R7xOY.h1T(A,x);0 > C && (C=0);C >= y.length && (C=y.length - 1);D=y[C].f;X_M=11;break;case 70:X_M=0 <= C?69:72;break;case 25:w=m.Jl.o4a(p.buffer.ma);w=p.buffer.xt - w.ga;u=z[v];X_M=22;break;case 11:X_M=D === A?10:57;break;case 20:X_M=void 0 !== A?19:58;break;case 59:return B;break;case 76:X_M=y[C].f === A?75:74;break;case 37:O=void 0;X_M=36;break;case 60:B.e1a=q;X_M=59;break;case 29:X_M=C.Jb && C.Jb.tdigest?28:37;break;case 19:B.$d=y[A].Iec;X_M=18;break;case 73:C++;X_M=77;break;case 77:X_M=C < y.length?76:72;break;case 10:A=C;X_M=20;break;case 53:X_M=void 0 !== I?52:64;break;case 16:q=[];t=p.buffer;t=t.kk - t.Qc;X_M=25;break;case 42:L.push(O.fm);L.push(O.Bk);L.push(O.gm);X_M=39;break;case 58:return g.default.PLAYING.call(this,n,p,q,v,t,w,u);break;case 18:B.Sh=z[B.$d];X_M=17;break;case 39:L.push(O.oea);X_M=38;break;}}};V4g;r8I=5;break;}}})();},function(r,b,a){(function(){var Z26,c;Z26=2;for(;Z26 !== 8;){switch(Z26){case 2:a(12);a(29);a(30);c=a(6).bd;Z26=3;break;case 3:var J5T="1SIY";J5T+="bZrNJCp";J5T+="9";r.exports={checkBuffering:function(l,g,m,d,f,h){var z7Z=R7xOY;var Q33,w,n,p,q,v,t,u;Q33=2;function k(x){var v5u;v5u=2;for(;v5u !== 5;){switch(v5u){case 2:x=d.ma.T$(l.Qc + x,void 0,!0);return (t - l.Rj) / (t + (x.offset + x.ga) - w);break;}}}for(;Q33 !== 54;){switch(Q33){case 44:p=d.ma.get(h);z7Z.o4M(23);var v8i=z7Z.h1T(136,139,11);u=v8i * u * m / g - p.ca - q;Q33=42;break;case 42:Q33=0 < u?41:40;break;case 41:return (q=Math.min(v,n + u),{complete:!1,zG:q,progress:k(q)});break;case 8:Q33=g <= h.uza && (0 < g || !h.Mta)?7:6;break;case 22:w=d.ma.Qi(f);Q33=21;break;case 2:(n=l.kk - l.Qc,p=g === c.Wg);g=d.Ya || 0;(q=0,v=h.YGa && !p?h.WF:h.Sza);Q33=4;break;case 20:t=0;l.ma.forEach(function(x){var p$s;p$s=2;for(;p$s !== 1;){switch(p$s){case 2:t+=x.ca + x.duration > l.Qc?x.ga:0;p$s=1;break;}}});m=Math.max(m,1);p=m * d.bitrate;Q33=16;break;case 16:Q33=d.ta?15:27;break;case 3:Q33=n >= v?9:8;break;case 15:var p5l="l";p5l+="o";p5l+="wL";p5l+="iveB";p5l+="uffer";var M1o="liveBu";M1o+="f";M1o+="f";M1o+="erL";M1o+="evel";return g > p && n > q?{complete:!0,reason:M1o}:{complete:!1,zG:q,Ya:g,bitrate:p,reason:p5l};break;case 37:0 < g && g < p && (q=Math.min(v,Math.max(h.W0 * (p / g - 1),q)));return {complete:!1,zG:q,progress:k(q)};break;case 28:Q33=h > f?44:38;break;case 21:Q33=n >= q?35:37;break;case 35:Q33=g > p * h.N$?34:33;break;case 23:var V3u="ou";V3u+="tofran";V3u+="g";V3u+="e";return {complete:!0,reason:V3u};break;case 33:q=d.ma.Me(f);h=Math.min(f + Math.floor(h.W0 / q),d.ma.length - 1);u=d.ma.Qi(h);z7Z.e_n(24);var i6m=z7Z.h1T(4,2,1,0,1);q=i6m * w * m / g - l.Qc;Q33=29;break;case 26:return (g < p && (q=Math.min(v,Math.max(h.W0 * (p / g - 1),q))),{complete:!1,zG:q,progress:0});break;case 11:Q33=!g?10:20;break;case 39:--h;Q33=28;break;case 27:Q33=!d.ma || !d.ma.length?26:25;break;case 29:--h;Q33=28;break;case 9:var x8T="m";x8T+="axsi";x8T+="z";x8T+="e";return {complete:!0,reason:x8T};break;case 40:u=p.offset;Q33=39;break;case 7:var q3B="l";q3B+="o";q3B+="wT";q3B+="hroughput";return {complete:!1,TF:!0,reason:q3B};break;case 10:var C35="n";C35+="othrou";C35+="g";C35+="hput";return {complete:!1,zG:q,reason:C35};break;case 24:Q33=-1 === f?23:22;break;case 6:z7Z.o4M(25);var D3t=z7Z.h1T(12,11);q=h.Ak * (p?h.ZCa:D3t);!d.ta && h.KSb && d.Jb && d.Jb.ul && d.Jb.ul.xa > h.nza && (q+=h.tpa + d.Jb.ul.xa * h.KBa);f && !d.ta && (q+=f.Jv * h.upa);q=v?Math.min(v,q):q;Q33=11;break;case 38:var u6X="no";u6X+="reb";u6X+="uf";u6X+="f";return {complete:!0,reason:u6X};break;case 25:f=d.ma.kp(l.Ec);Q33=24;break;case 34:var n_i="h";n_i+="ig";n_i+="ht";n_i+="p";return {complete:!0,reason:n_i};break;case 4:v=Math.min(h.qw,v);Q33=3;break;}}}};J5T;Z26=8;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1053);b.default={PLAYING:r.oo,PAUSED:r.oo};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.oo=void 0;r=a(0).__importDefault(a(30));c=r.default.console;l=r.default.Tp;b.oo=g;(function(){var t1X;t1X=2;for(;t1X !== 5;){switch(t1X){case 2:var Z3u="1S";Z3u+="IYbZrNJC";Z3u+="p9";b.oo=g=function(m,d,f,h){var Z7D,k,n,p,q,v;Z7D=2;for(;Z7D !== 10;){switch(Z7D){case 14:n.$d=m;Z7D=11;break;case 12:var X02="Stream has n";X02+="o throughp";X02+="ut s";X02+="tatis";X02+="tics";c.warn(X02);Z7D=13;break;case 2:(n=new l(h),p=d.buffer.Ec);f=f.first;R7xOY.e_n(26);var M32=R7xOY.p3p(4,21,17,86,5);q=m.ljc * Math.pow(Math.min(M32,(d.buffer.kk - d.buffer.Qc) / m.i_),m.kjc);m=void 0 === this.wQ || p - this.wQ > m.m_?f.length - 1:h;Z7D=3;break;case 3:n.$d=0;Z7D=9;break;case 11:return n;break;case 8:v=f[m];Z7D=7;break;case 7:Z7D=v.Jb && v.Jb.Ya?6:12;break;case 9:Z7D=-1 < m?8:11;break;case 13:--m;Z7D=9;break;case 6:Z7D=(h=v.Jb.Ya.xa,p=v.bitrate,v=v.HCa(null !== (k=d.Vd) && void 0 !== k?k:-1),p < h * q && v)?14:13;break;}}};Z3u;t1X=5;break;}}})();},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iVa=void 0;c=a(0);r=c.__importDefault(a(3));l=a(160);g=a(449);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){var x0d;x0d=2;for(;x0d !== 3;){switch(x0d){case 2:c.__extends(d,m);d.prototype.BWb=function(f,h){var O3I,k,n;O3I=2;for(;O3I !== 3;){switch(O3I){case 4:return n;break;case 2:(k=this.config,n=h?k.Pra:k.eqa);h=h?k.Qra:k.gqa;Array.isArray(h) && (n=(0,g.R6a)(h,f.kk - f.Qc,k.fqa));O3I=4;break;}}};d.prototype.ahc=function(f,h){var m7W;m7W=2;for(;m7W !== 3;){switch(m7W){case 2:h=this.op(f,h);f=!!f.Zt;this.config.UFa && h < this.config.oX && (f=!0);return f;break;}}};return d;break;}}function d(f,h){var D9o,k;D9o=2;for(;D9o !== 3;){switch(D9o){case 4:return k;break;case 2:var O2P="1SI";O2P+="Yb";O2P+="ZrNJCp";O2P+="9";k=m.call(this,f,h) || this;k.dL=function(n,p,q,v){var J$n,t;J$n=2;for(;J$n !== 8;){switch(J$n){case 3:p=k.z5a(p,v);return {lower:p,upper:p * k.config.TGa};break;case 2:v=null !== v && void 0 !== v?v:k.IQ;t=k.op(n,q);n=k.ahc(n,q);p=t?t * (100 - k.BWb(p,n)) / 100 | 0:0;J$n=3;break;}}};O2P;D9o=4;break;}}}})(l.qD);b.iVa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zVa=void 0;c=a(0);r=a(160);r=(function(l){var m$g;m$g=2;for(;m$g !== 5;){switch(m$g){case 2:c.__extends(g,l);m$g=1;break;case 3:c.__extends(g,l);m$g=5;break;case 1:return g;break;}}function g(m,d){var C4r,f;C4r=2;for(;C4r !== 3;){switch(C4r){case 2:var r9p="1SIY";r9p+="b";r9p+="Zr";r9p+="NJCp9";f=l.call(this,m,d) || this;f.dL=function(h){var P9y,l86,k;P9y=2;for(;P9y !== 10;){switch(P9y){case 3:k=Math.sqrt(h.ap.He || 0);P9y=9;break;case 8:P9y=!h.ap || !h.ap.BO?4:7;break;case 9:return {lower:8 / (h.ap.xa + f.config.AFa * k),upper:8 / (h.ap.xa - f.config.BFa * k)};break;case 1:var X6I="d";X6I+="elive";X6I+="rytim";X6I+="e";l86=f.config.Whc;P9y=l86 === X6I?5:12;break;case 6:return {lower:h.ap.BO + f.config.AFa * k,upper:h.ap.BO + f.config.BFa * k};break;case 5:P9y=!h.ap || !h.ap.xa?4:3;break;case 11:var j2y="e";j2y+="w";j2y+="m";j2y+="a";P9y=l86 === j2y?14:4;break;case 12:var e7K="ave";e7K+="ra";e7K+="getp";P9y=l86 === e7K?8:11;break;case 4:return k;break;case 7:k=Math.sqrt(h.ap.XS || 0);P9y=6;break;case 14:P9y=h.ap && h.ap.XS?13:4;break;case 2:k={lower:h.Ya.xa,upper:void 0};P9y=1;break;case 13:return (k=Math.sqrt(h.ap.XS || 0),{lower:h.Ya.xa + f.config.AFa * k,upper:h.Ya.xa + f.config.BFa * k});break;}}};r9p;return f;break;}}}})(r.qD);b.zVa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fKa=void 0;c=a(0);l=a(6);r=a(160);g=a(448);a=(function(m){var B5p;B5p=2;for(;B5p !== 5;){switch(B5p){case 2:c.__extends(d,m);return d;break;}}function d(f,h){var T1e,k;T1e=2;for(;T1e !== 9;){switch(T1e){case 3:return k;break;case 2:var x2c="1SIYbZrNJ";x2c+="C";x2c+="p9";k=m.call(this,f,h) || this;k.dL=function(n,p,q,v){var v$W,S6t;v$W=2;for(;v$W !== 11;){switch(v$W){case 5:var E7x="deliv";E7x+="er";E7x+="y";E7x+="time";E7x+="-ci";S6t=k.config.nra;v$W=S6t === E7x?4:13;break;case 7:return {lower:(null === p || void 0 === p?void 0:p.low) || n.Ya.xa,upper:(null === p || void 0 === p?void 0:p.high) || v};break;case 2:v$W=k.$Ea(q)?1:5;break;case 3:v=k.config.TGa * n.Ya.xa;v$W=9;break;case 9:v$W=q === l.La.Yh?8:6;break;case 13:v$W=12;break;case 12:var Y70="t";Y70+="hrough";Y70+="pu";Y70+="t-ci";p=n[Y70];v$W=3;break;case 4:var E6J="de";E6J+="liverytim";E6J+="e-ci";p=n[E6J];v$W=3;break;case 6:v$W=q === l.La.ae?8:14;break;case 14:v$W=7;break;case 8:return {lower:(null === p || void 0 === p?void 0:p.initial) || n.Ya.xa,upper:(null === p || void 0 === p?void 0:p.high) || v};break;case 1:return k.x5b.dL(n,p,q,v);break;}}};k.x5b=new g.tka(f,h);x2c;T1e=3;break;case 12:return k;break;}}}})(r.qD);b.fKa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BOa=void 0;r=(function(){function a(c,l,g,m,d,f,h,k){this.bb=c;this.I1a=l;this.config=g;this.console=m;this.mediaType=d;this.Lb=f;this.Xa=h;this.mc=k;this.Ps=this.$i=!1;}a.prototype.OO=function(c,l){!this.bb.G.Fu || this.mc.QN || this.mc.s7 || (c-=this.bb.ng,this.$i && !this.Ps && c + this.config.gob >= l && 0 === this.Xa.gG && 0 === this.Xa.Ku && 0 === this.Xa.ecc && (l=this.mc.Rf.O.Vb,c=this.mc.RP(),l + 1 < c || (this.I1a[this.mediaType].Fnb || this.Lb.WCb(this.mediaType),this.Ps=!0,this.I1a[this.mediaType].W_())));};return a;})();b.BOa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zOa=void 0;c=a(0);l=a(10);r=a(450);g=a(442);a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.gRb=function(f){m.prototype.qca.call(this,{value:f});};d.prototype.Pbb=function(){return !0;};d.prototype.sFa=function(){};d.prototype.qca=function(f){m.prototype.qca.call(this,f);f.done && (f=this.ft.yX,l.M && this.H.trace("Requests drained",{btc:f && f.G.id}),(f=f && f.gb(this.kg)) && f instanceof g.$ja && f.OO(this.Eg.Ava() || 0));};return d;})(r.kia);b.zOa=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jJa=void 0;c=a(0);l=a(132);g=a(10);r=(function(){function m(d,f,h){this.H=d;this.jAb=f;this.kg=h;this.J6=0;this.f7=!1;this.WU=[];this.YH=void 0;g.M && d.trace(("BranchRequestIterator [").concat(this.kg,"]: created"));}Object.defineProperties(m.prototype,{zPb:{get:function(){return this.J6;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{yX:{get:function(){return this.EXa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sk:{get:function(){return this.f7;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{E4a:{get:function(){return this.Dm?this.Dm.Wt?"Complete":this.Dm.FCa?"WaitingForBranch":void 0 !== this.YH && 0 !== this.YH?("In Policy ").concat(this.WU[this.YH].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.FYa);},enumerable:!1,configurable:!0}});m.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,f,h,k;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Dm;if(!d)return [3,6];this.YH=void 0;return [4,d.next()];case 1:(f=n.ub(),h=0,n.label=2);case 2:if(!(h < this.WU.length))return [3,5];this.YH=h;k=this.WU[h];return [4,k.process(f)];case 3:(f=n.ub(),n.label=4);case 4:return (h++,[3,2]);case 5:this.YH=void 0;if(f.done || this.Dm !== d)return [2,{done:!0}];this.J6++;f.value.B_a();return [2,{done:!1,value:f.value.value}];case 6:return [2,l.AsyncIterator.mwa()];}});});};m.prototype.sec=function(){this.fnb();this.Bcc();};m.prototype.fnb=function(){var d;if(this.Dm){this.FYa=this.E4a;d=this.Dm;d && d.Ji();this.WU.forEach(function(f){return f.reset();});d && g.M && this.H.trace(("BranchRequestIterator [").concat(this.kg,"]: Disposing iterator that was on branch "),this.yX && this.yX.G.id);this.f7=!1;this.YH=this.Dm=void 0;}};m.prototype.k8=function(d){this.WU.push(d);};m.prototype.Bcc=function(){var d,f,h,k;d=this;if(!this.f7){f=this.H;h=this.jAb;k=this.kg;this.J6=0;this.FYa=this.EXa=void 0;this.Dm=(0,l.flatten)((0,l.map)(h.z$a(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.EXa=n,this.J6=0,g.M && f.trace(("BranchRequestIterator [").concat(this.kg,"]: new branch ").concat(n.G.id)),[4,n.wy(k)]);case 1:if(p=q.ub())return [2,{value:p}];g.M && f.error(("BranchRequestIterator [").concat(this.kg,"]: skipping branch ").concat(n.G.id));return [2,{value:[]}];}});});},f),f);this.f7=!0;}};return m;})();b.jJa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.YTa=void 0;c=a(0);l=a(6);g=a(21);m=a(1061);d=a(1062);r=(function(){function f(h,k,n,p,q,v,t,w){this.mediaType=h;this.console=k;this.Hb=n;this.A8=p;this.vq=q;this.aCa=v;this.Ee=t;this.mE=[];this.mediaType === l.u.J && this.mE.push(new d.cVa(h,k,n,p,q,v,t,w,2));this.mE.push(new m.FVa(h,k,n,p,q,v,t,"stream",1,null === w || void 0 === w?void 0:w.Uab()));}f.prototype.ay=function(h,k,n){this.Hb=h;this.Ee=k;this.A8=n;this.bM.forEach(function(p){return p.ay(h,k,n);});};f.prototype.PGb=function(h){this.mE.push(h);};f.prototype.TUb=function(h){return (0,g.Oc)(this.mE,function(k){return k instanceof h;});};f.prototype.reset=function(){this.mE.forEach(function(h){return h.reset();});};f.prototype.close=function(){this.mE.forEach(function(h){return h.close();});};f.prototype.ci=function(h){return c.__read(this.mE,1)[0].ci(h);};Object.defineProperties(f.prototype,{bM:{get:function(){return this.mE;},enumerable:!1,configurable:!0}});return f;})();b.YTa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.FVa=void 0;c=a(0);l=a(10);g=a(2);r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.hu=function(f){var h,k,n;h=f.stream;k=f.Ed;n=f.Sc;f=f.oc;(0,g.assert)(void 0 !== k,"playerStartTimestamp undefined at media append");(0,g.assert)(void 0 !== f,"contentStartTimestamp undefined at media append");this.kpa({stream:h,oc:f},k,n) && l.M && this.trace(("stream ").concat(h.id,", ").concat(h.bitrate,"kbit/s @ ").concat(k.Z,"ms"));};d.prototype.nca=function(f,h){return f.stream === h.stream;};d.prototype.kta=function(f,h){var k,n,p,q;p=f.Iu.stream;q=this.Hb.$m(h);(0,g.assert)(void 0 !== q);l.M && this.trace(("emitStreamPresentingEvent @ ").concat(f.timestamp.Z,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:h,position:q,trackIndex:null === (k=null === p || void 0 === p?void 0:p.track) || void 0 === k?void 0:k.QA,streamIndex:null === p || void 0 === p?void 0:p.Ag,stream:p,manifest:null === (n=p.O) || void 0 === n?void 0:n.ba,contentStartTimestamp:f.Iu.oc});};d.prototype.pca=function(f){return ("").concat(f.stream.Sa,"@").concat(f.oc.Fb());};return d;})(a(273).z5);b.FVa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.cVa=void 0;c=a(0);l=a(10);g=a(2);m=a(8);r=(function(d){function f(h,k,n,p,q,v,t,w,u){h=d.call(this,h,k,n,p,q,v,t,"segment",u,null === w || void 0 === w?void 0:w.Uab()) || this;h.Ip=w;return h;}c.__extends(f,d);f.prototype.hu=function(h){var k,n,p,q,v,t,w,u,x;q=h.Ed;v=h.Sc;t=h.oc;w=h.bitrate;u=h.hb;(0,g.assert)(void 0 !== q);x=null === (k=this.Hb.$m(q)) || void 0 === k?void 0:k.S;(0,g.assert)(void 0 !== x);this.yca=h={S:x,gVb:h.Vr,oc:t,jqb:w,hb:u,mbc:null === (n=this.yca) || void 0 === n?void 0:n.jqb,nbc:null === (p=this.yca) || void 0 === p?void 0:p.hb};this.kpa(h,q,v) && l.M && this.trace(("segment ").concat(x," @ ").concat(q.Z,"ms"));};f.prototype.nca=function(h,k){return h.S === k.S && !k.gVb;};f.prototype.kta=function(h,k,n){var p,q,v,t,w,u;p=h.Iu;q=p.S;v=p.jqb;t=p.mbc;w=p.hb;p=p.nbc;u=this.Hb.$m(k);(0,g.assert)(void 0 !== u);l.M && this.trace(("emitSegmentPresentingEvent @ ").concat(h.timestamp.Z,"ms for segment ").concat(q));u.S !== q && (l.M && this.console.warn("player position:",u,"not equal to trackedElement:",q),u={S:q,offset:m.P.Pa});h={type:"segmentPresenting",playerTimestamp:k,position:u,seek:n};if(this.Ip){if(q=this.Ip.Iva(q))(q.destvbitrate=v,q.destvmaf=w,q.srcvbitrate=t,q.srcvmaf=p);h.metrics=q;}l.M && this.trace(("segmentPresenting: ").concat(JSON.stringify(h)));this.events.emit(h.type,h);};f.prototype.reset=function(){d.prototype.reset.call(this);this.yca=void 0;};f.prototype.close=function(){d.prototype.close.call(this);this.yca=void 0;};f.prototype.pca=function(h){return h.S;};return f;})(a(273).z5);b.cVa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.eMa=void 0;c=a(0);l=a(10);g=a(61);r=(function(){function m(d,f,h){this.Ee=d;this.J6b=f;this.H=h;}Object.defineProperties(m.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});m.prototype.waitUntil=function(d){var f;d=(0,g.Eha)(this.Ee,d,!0);f=d.promise;this.DFb=d.sm;return f;};m.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,h;return c.__generator(this,function(k){switch(k.label){case 0:if(d.done)return [3,2];f=d.value.value;if(!f.sua)return [3,2];h=f.Ed.Ea(this.J6b);l.M && this.H.trace(("[").concat(f.mediaType,"] JIT: waiting until playertime >= ").concat(h.Z),("to append next request ").concat(f.toString()));return [4,this.waitUntil(h)];case 1:(k.ub(),l.M && this.H.trace(("[").concat(f.mediaType,"] JIT: now appending request ").concat(f.toString())),k.label=2);case 2:return [2,d];}});});};m.prototype.reset=function(){var d;null === (d=this.DFb) || void 0 === d?void 0:d.Wa();};return m;})();b.eMa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.IRa=void 0;c=a(0);l=a(10);g=a(2);m=a(61);r=(function(){function d(f,h,k,n){var p;p=this;this.Ee=f;this.W9b=h;this.uBa=k;this.H=n;f.za.on("stopStart",function(){return p.HLb();});l.M && this.H.trace(("PacingThrottler: pacingFactory=").concat(h,", pacingThreshold=").concat(k.Fb()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.HLb=function(){var f,h;h=this.Ee.za;this.QO=h.sk?h.currentTime:void 0;this.DW=this.sY=void 0;l.M && this.H.trace(("PacingThrottler: clock reset ").concat(null === (f=this.QO) || void 0 === f?void 0:f.Z));};d.prototype.waitUntil=function(f){var h;f=(0,m.Eha)(this.Ee,f,!0);h=f.promise;this.vmc=f.sm;return h;};d.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var h,k,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(f.done)return [3,11];h=f.value.value;(0,g.assert)(h.Ed);k=this.Ee.za;if(!this.sY || !this.DW)return [3,10];if(!this.DW.greaterThan(this.uBa))return [3,8];if(!this.QO)return [3,5];n=h.Ed.Ea(this.QO).Ea(this.uBa);p=this.QO.add(n.mk(this.W9b));if(!p.lessThan(h.Ed))return [3,3];if(!p.greaterThan(k.currentTime))return [3,2];l.M && this.H.trace(("PacingThrottler: waiting until ").concat(p.Fb()," for mediaRequest @") + ("").concat(h.Ed.Fb(),", ") + ("current time ").concat(k.currentTime.Fb(),", ") + ("clock start time ").concat(this.QO.Fb(),", ") + ("distance ").concat(n.Fb()));return [4,this.waitUntil(p)];case 1:(q.ub(),q.label=2);case 2:return [3,4];case 3:(l.M && this.H.warn("PacingThrottler: invalid schedule time " + ("").concat(p.Fb()," for mediaRequest ") + ("@").concat(h.Ed.Fb(),", ") + ("current time ").concat(k.currentTime.Fb(),", ") + ("clock start time ").concat(this.QO.Fb(),", ") + ("distance ").concat(n.Fb())),q.label=4);case 4:return [3,7];case 5:n=h.Ed.Ea(this.sY);if(!n.greaterThan(this.uBa))return [3,7];l.M && this.H.trace(("PacingThrottler: (buffering) waiting until ").concat(this.sY.Z,"ms") + (" for mediaRequest @").concat(h.Ed.Z,"ms, ") + ("current time ").concat(k.currentTime.Z));return [4,this.waitUntil(this.sY)];case 6:(q.ub(),q.label=7);case 7:return [3,9];case 8:(this.DW=this.DW.add(h.Ht),q.label=9);case 9:return [3,11];case 10:(this.sY=h.Ed,this.DW=h.Ht,q.label=11);case 11:return [2,f];}});});};d.prototype.reset=function(){var f;null === (f=this.vmc) || void 0 === f?void 0:f.Wa();};return d;})();b.IRa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.RUa=void 0;c=a(0);l=a(10);r=(function(){function g(m,d){this.mz=m;this.H=d;}Object.defineProperties(g.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});g.prototype.process=function(m){var d,f,h,k;return c.__awaiter(this,void 0,void 0,function(){var n;return c.__generator(this,function(p){switch(p.label){case 0:if(m.done)return [3,3];n=m.value.value;if(!this.tv || !n.Vr || this.tv.Ed === n.Ed && this.tv.Tdc === n.index)return [3,2];l.M && this.H.trace(("Seamless Throttler: Waiting on request [").concat(n.mediaType,"]"),n.index,"in",null === (d=n.Xa) || void 0 === d?void 0:d.bb.G.id);return [4,this.mz.wmc({mediaType:n.mediaType,to:{stream:n.stream,S:null === (f=n.Xa) || void 0 === f?void 0:f.bb.G.id},from:{stream:this.tv.stream,S:this.tv.S},timestamp:n.Ed,pbc:null === (h=this.tv) || void 0 === h?void 0:h.Ed})];case 1:(p.ub(),p.label=2);case 2:(this.tv={Tdc:n.index,stream:n.stream,Ed:n.Ed,S:null === (k=n.Xa) || void 0 === k?void 0:k.bb.G.id},p.label=3);case 3:return [2,m];}});});};g.prototype.W8b=function(m,d){void 0 === m && (m=[]);void 0 === d && (d=[]);(null === m || void 0 === m?0:m.length) && m.length !== d.length && (this.tv=void 0);};g.prototype.reset=function(){};return g;})();b.RUa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.SOa=void 0;c=a(0);l=a(75);g=a(444);m=a(8);r=(function(){function d(f){this.H=f;}Object.defineProperties(d.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});d.prototype.process=function(f){var h;return c.__awaiter(this,void 0,void 0,function(){var k,n,p,q,v,t,w,u,x,y,z,B,A,C,D;return c.__generator(this,function(){f.done || (n=k=f.value.value,p=null !== (h=k.response) && void 0 !== h?h:this.H2b(n)?n.rec()[0]:void 0,p instanceof ArrayBuffer && (q=new l.dv(this.H,k.stream,p,["moof"],!0,{CBa:!0}),v=q.parse(),v.xw && (t=q.yq("moof"),w=t.yq("traf"),u=w.yq("trun"),x=w.yq("tfdt"),y=k.stream.Aq().pCa,z=u.Zd,B=x.MI,A=v.ma.W,C=new m.P(B,A),D=this.tv?C.Ea(this.tv.RIb):void 0,this.H.trace(("Live Request Logger: processing request [").concat(k.mediaType,"]"),{baseMediaDecodeTime:B,timescale:A,baseMediaDecodeMs:C.Z,ptsOffsetMs:y.Z,mediaTimestampMs:C.Ea(y).Z,offsetFromPriorMs:null === D || void 0 === D?void 0:D.Z,sampleCount:z,url:k.url}),this.tv={RIb:C})));return [2,f];});});};d.prototype.H2b=function(f){return f instanceof g.gia;};d.prototype.reset=function(){this.tv=void 0;};return d;})();b.SOa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VUa=void 0;r=(function(){function a(c,l,g,m,d,f,h,k,n,p){var q;q=this;this.id=c;this.O=l;this.ca=g;this.HX=d;this.Km=f;this.Fu=h;this.xq=k;this.Rq=n;this.Ge=p;this.$P=function(v){var t,w;return (null === (w=null === (t=q.Km) || void 0 === t?void 0:t[v]) || void 0 === w?void 0:w.Zjc) || q.Ge;};this.Ta=m || Infinity;}Object.defineProperties(a.prototype,{N:{get:function(){return this.O.N;},enumerable:!1,configurable:!0}});a.prototype.fva=function(){var c,l,g;c=this;g=Object.keys(this.Km || ({})).filter(function(m){var d,f;return !(null === (f=null === (d=c.Km) || void 0 === d?void 0:d[m]) || void 0 === f || !f.weight);});return g.length?null !== (l=g.map(this.$P).reduce(function(m,d){return m === d?d:void 0;})) && void 0 !== l?l:this.Ge:this.Ge;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.Rq + " viewableId: " + this.O.N + " pts: " + this.ca + "-" + this.Ta + " defaultKey: " + this.HX + " dests: " + JSON.stringify(this.Km) + " terminal: " + !!this.Fu;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.O.N,"startPts:":this.ca,endPts:this.Ta,defaultKey:this.HX,"dests:":this.Km,terminal:!!this.Fu,playlistSegmentId:this.Rq};};return a;})();b.VUa=r;},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.fIa=void 0;r=a(0);c=r.__importStar(a(12));l=a(195);g=a(76);m=r.__importDefault(a(1069));d=a(426);f=r.__importDefault(a(29));h=r.__importDefault(a(3));a=(function(){var S29;S29=2;function k(n,p,q,v,t,w,u,x,y){var B89=R7xOY;var m57,z,H6t,B2U,B;m57=2;for(;m57 !== 31;){switch(m57){case 26:this.Fna=!1;m57=25;break;case 10:this.PV=(0,l.TP)(t,w);p=this.gYa(q);void 0 !== p && void 0 !== p.fm && void 0 !== p.Bk && void 0 !== p.gm && (z=(p.gm - p.fm) / p.Bk);m57=17;break;case 23:this.JN=new d.Gja(u,t,this.H);m57=22;break;case 15:m57=this.mI.Jt?27:26;break;case 24:var X1E="bas";X1E+="eli";X1E+="n";X1E+="e";H6t=t.v0b;m57=H6t === X1E?23:21;break;case 21:var w4x="L";w4x+="R";m57=H6t === w4x?35:34;break;case 32:t.Dha && (this.B7=this.A7=!1);m57=31;break;case 22:this.Fna=this.JN.cca();m57=32;break;case 33:this.JN=new d.Gja(u,t,this.H);m57=22;break;case 35:this.JN=new d.mNa(u,t,this.H);m57=22;break;case 8:this.ac=this.H.warn.bind(this.H);this.fk=this.H.trace.bind(this.H);this.L=t;this.v_a=this.pXa=null;B89.e_n(23);var b7W=B89.p3p(999994,10,16);this.KYa=0 === Math.floor(b7W * Math.random()) % t.sqa;this.zF=this.Hab=this.Iab=this.z9=this.Zt=void 0;this.WFa=this.Bmb=this.Cmb=this.VFa=this.vhb=this.whb=0;m57=10;break;case 3:var J23="1SI";J23+="Y";J23+="bZ";J23+="rN";J23+="JCp9";J23;this.Eb=n;m57=8;break;case 25:m57=u && 1 < u.length && t.nta?24:32;break;case 2:this.H=p;this.$p=v;this.zc=x;this.mI=y;m57=3;break;case 17:v=t.R_?f.default.$j.vD:f.default.$j.wD;q && q.confidence >= v && q.Ya && z && this.WBb(q,p,z);m57=15;break;case 27:try{B2U=2;for(;B2U !== 4;){switch(B2U){case 2:B=new m.default(n,this.H,{bufferSize:h.default.Cq()},t);B2U=1;break;case 1:this.$p.pGb(B);this.CZa=B;B2U=4;break;}}}catch(A){var y7h="Hindsight: Error when cre";y7h+="ating QoEE";y7h+="valuator: ";B89.o4M(6);n.Lb.xp(B89.p3p(A,y7h));}m57=26;break;case 34:m57=33;break;}}}for(;S29 !== 24;){switch(S29){case 25:return k;break;case 2:Object.defineProperties(k.prototype,{cca:{get:function(){var T0P;T0P=2;for(;T0P !== 1;){switch(T0P){case 2:return this.Fna;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{PCa:{get:function(){var s_U;s_U=2;for(;s_U !== 1;){switch(s_U){case 4:return this.CZa;break;case 2:return this.CZa;break;}}},enumerable:!1,configurable:!0}});k.prototype.Qlb=function(n,p,q){var j1$;j1$=2;for(;j1$ !== 4;){switch(j1$){case 2:this.zF=n;c.wa(p) || (this.Iab=p);c.wa(q) || (this.Hab=q);j1$=4;break;}}};k.prototype.JGa=function(n){var A$8;A$8=2;for(;A$8 !== 5;){switch(A$8){case 2:this.L=n;this.PV.JGa(n);A$8=5;break;}}};S29=3;break;case 3:k.prototype.Hna=function(n,p,q,v){var A_R,t;A_R=2;for(;A_R !== 7;){switch(A_R){case 2:t=this.L;A_R=1;break;case 1:var p2n="i";p2n+="q";p2n+="r";A_R=n === p2n?5:9;break;case 8:return p.Ya?p.Ya.xa < t.oX:!0;break;case 9:var Y4y="a";Y4y+="v";Y4y+="g";A_R=n === Y4y?8:3;break;case 4:return !!(p.Ya && q && c.Oa(v) && p.Ya.xa < t.oX && v > t.Kja);break;case 5:A_R=void 0 !== v?4:3;break;case 3:return !1;break;}}};k.prototype.TP=function(n){var G$k;G$k=2;for(;G$k !== 1;){switch(G$k){case 2:return n === g.u.J?this.PV.dL:this.PV.G0;break;}}};k.prototype.TC=function(n){var F8C;F8C=2;for(;F8C !== 5;){switch(F8C){case 2:this.PV.TC(n);this.pXa=n;F8C=5;break;}}};k.prototype.CY=function(){var s3Q;s3Q=2;for(;s3Q !== 1;){switch(s3Q){case 4:return this.pXa;break;case 2:return this.pXa;break;}}};S29=6;break;case 6:k.prototype.EL=function(n){var m7z;m7z=2;for(;m7z !== 5;){switch(m7z){case 2:this.PV.EL(n);this.v_a=n;m7z=5;break;}}};k.prototype.fZ=function(){var R1l;R1l=2;for(;R1l !== 1;){switch(R1l){case 2:return this.v_a;break;}}};k.prototype.eGb=function(n,p,q,v,t,w){var F9M,u;F9M=2;for(;F9M !== 5;){switch(F9M){case 2:u=this.L;u.Dha && this.NDb(p) || !q || !v || !(q=w?Math.min(q,v,w):Math.min(q,v)) || (this.$p.get(),v=this.Eb.ab,n=v.dy(v.md,n),p.track.kw() && n > u.rqa && q === t?(u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:1}),u.set({maxActiveRequestsPerSession:2}),u.set({maxPendingBufferLen:500})):(u.nj=!0,u.JQ=1,u.My=2,u.Xca=500),p.track.Z0({type:p.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:u.YS,minRequestSize:u.HK}),this.VFa++,u.Dha && (this.A7=!0)):u.nj && !p.kw() && (n < u.qqa || q !== t) && (u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:3}),u.set({maxActiveRequestsPerSession:3}),u.set({maxPendingBufferLen:12E3})):(u.nj=!0,u.JQ=3,u.My=3,u.Xca=12E3),p.track.Z0({type:p.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:u.YS,minRequestSize:u.HK}),this.WFa++,u.Dha && (this.B7=!0)));F9M=5;break;}}};k.prototype.iGb=function(n,p){var h2C,v,t,q;h2C=2;for(;h2C !== 6;){switch(h2C){case 1:h2C=this.KYa?5:6;break;case 9:h2C=void 0 === v || q > v?8:7;break;case 5:void 0 === this.Io && (this.Io={startTime:h.default.time.fa(),JW:[],P2:[],Jya:void 0,Dya:void 0});q=Math.floor((h.default.time.fa() - this.Io.startTime) / q.XW);(v=this.Io.Dya,t=this.Io.Jya?q - this.Io.Jya - 1:q);h2C=9;break;case 2:q=this.L;h2C=1;break;case 7:this.Io.Dya=q;h2C=6;break;case 8:(this.Io.JW[t]=n,this.Io.P2[t]=p);h2C=7;break;}}};k.prototype.K8b=function(){var N6H,d4w,n;N6H=2;for(;N6H !== 4;){switch(N6H){case 8:N6H=this.mI.Jt?2:5;break;case 5:try{d4w=2;for(;d4w !== 1;){switch(d4w){case 2:(this.$p.qdc(),this.CZa.ud());d4w=1;break;}}}catch(p){var X4c="Hindsight: Error d";X4c+="uring ";X4c+="clean up: ";R7xOY.e_n(6);n.Lb.xp(R7xOY.p3p(p,X4c));}N6H=4;break;case 1:N6H=this.mI.Jt?5:4;break;case 2:n=this.Eb;N6H=1;break;}}};k.prototype.a9b=function(n){var X6o;X6o=2;for(;X6o !== 1;){switch(X6o){case 2:this.L.nP && n === f.default.de.J && (this.WFa=this.VFa=this.Bmb=this.Cmb=this.vhb=this.whb=0);X6o=1;break;}}};k.prototype.Y8b=function(n,p){var W6D;W6D=2;for(;W6D !== 1;){switch(W6D){case 2:n === f.default.de.J && (this.kmc=p);W6D=1;break;}}};S29=19;break;case 19:k.prototype.UKb=function(n){var y8B,w,v,t,p,q;y8B=2;for(;y8B !== 6;){switch(y8B){case 8:w=p.R_?f.default.$j.vD:f.default.$j.wD;v && v.confidence >= w && this.Hna(p.MG,v,t,q) && (this.Zt=!0,this.z9=n.state);y8B=6;break;case 1:var W$V="n";W$V+="o";W$V+="n";W$V+="e";y8B=W$V !== p.MG && !0 !== this.Zt && n.state <= p.Rza?5:6;break;case 9:void 0 !== t && void 0 !== t.fm && void 0 !== t.Bk && void 0 !== t.gm && (q=(t.gm - t.fm) / t.Bk);y8B=8;break;case 5:v=this.$p.get();y8B=4;break;case 3:t=this.gYa(v);y8B=9;break;case 2:p=this.L;y8B=1;break;case 4:var j_J="i";j_J+="q";j_J+="r";y8B=j_J === p.MG?3:8;break;}}};k.prototype.HGb=function(n){var o6E;o6E=2;for(;o6E !== 1;){switch(o6E){case 2:n.Zt=this.Zt;o6E=1;break;case 4:n.Zt=this.Zt;o6E=0;break;}}};k.prototype.nUb=function(n){var B90,x,y,u,p,q,v,t,w;B90=2;for(;B90 !== 25;){switch(B90){case 26:v.emit(t.type,t);B90=25;break;case 12:B90=u?11:16;break;case 11:x=function(z){var C0f;C0f=2;for(;C0f !== 1;){switch(C0f){case 2:return c.Oa(z)?Number(z).toFixed(2):-1;break;}}};w=[x(u.min || void 0),x(u.nea || void 0),x(u.fm || void 0),x(u.Bk || void 0),x(u.gm || void 0),x(u.oea || void 0),x(u.max || void 0)];y=[];B90=19;break;case 17:p.histtd=w;B90=16;break;case 9:p.actualbw=w;p.isConserv=this.Zt;p.ccs=this.z9;p.isLowEnd=this.I2b;p.histdiscbw=this.zF;u=this.Hab;B90=12;break;case 19:u=c.isArray(u.Gj) && u.Gj.reduce(function(z,B){var C8C,A;C8C=2;for(;C8C !== 3;){switch(C8C){case 1:B=x(B.n || void 0);-1 < A && -1 < B && z.push({mean:A,n:B});return z;break;case 2:A=x(B.wg || void 0);C8C=1;break;}}},y);p.histtdc=u;B90=17;break;case 16:p.histage=this.Iab;q.nta && this.JN && (p.ishighstable=this.Fna,p.avg_avtp=this.JN.EIb,p.avg_ne=Number(this.JN.GIb).toFixed(4));v.Nc && (q=h.default.Cq(),p.maxAudioBufferAllowedBytes=q[f.default.de.T],p.maxVideoBufferAllowedBytes=q[f.default.de.J]);B90=26;break;case 2:var u66="s";u66+="t";u66+="artpl";u66+="ay";var d0O="l";d0O+="og";d0O+="da";d0O+="t";d0O+="a";(p={},q=this.L,v=this.Eb,t={type:d0O,target:u66,fields:{}});t.fields=p;Object.keys(n).forEach(function(z){var q_r;q_r=2;for(;q_r !== 1;){switch(q_r){case 2:p[z]=n[z];q_r=1;break;}}});w=this.$p.get();w && w.Ya && (w=w.Ya.xa);B90=9;break;}}};k.prototype.oUb=function(n){var q45,w,u,x,p,q,v,t;q45=2;for(;q45 !== 6;){switch(q45){case 4:var G65="n";G65+="o";G65+="ne";(w=0,u=0,x=0);v.confidence && (w=v.Ya?v.Ya.xa:0,u=v.ul?v.ul.xa:0,x=v.fQ?v.fQ.xa:0);n.location={responseTime:u,httpResponseTime:x,bandwidth:w,confidence:v.confidence,name:this.kmc};this.KYa && (n.bt={startTime:this.Io.startTime,audioMs:this.Io.JW,videoMs:this.Io.P2},this.Io.JW=[],this.Io.P2=[],this.Io.Jya=this.Io.Dya);G65 !== q.MG && (n.isConserv=this.Zt,n.ccs=this.z9);q45=6;break;case 2:(p=this,q=this.L,v=this.$p.get(),t=[]);[f.default.de.J,f.default.de.T].forEach(function(y){var w10,z;w10=2;for(;w10 !== 4;){switch(w10){case 2:w10=p.zc(y)?1:4;break;case 1:z=p.Eb.SZb(y);void 0 !== z && (y === f.default.de.J && (q.nP && (z.parallelDownloadMs=p.whb,z.parallelDownloadBytes=p.vhb,z.singleDownloadMs=p.Cmb,z.singleDownloadBytes=p.Bmb,z.switchFromParallelToSingle=p.VFa,z.switchFromSingleToParallel=p.WFa),v && v.confidence && v.Ya && (z.asetput=v.Ya,z.aseiqr=v.iw,z.tdigest=v.jh && v.jh.MB() || void 0),v && v.avtp && (z.avtp=v.avtp.xa)),t.push(z));w10=4;break;}}});n.stat=t;q45=4;break;}}};k.prototype.NDb=function(n){var Y_I,p;Y_I=2;for(;Y_I !== 6;){switch(Y_I){case 1:Y_I=this.A7 && n.kw()?5:4;break;case 5:return !0;break;case 4:this.A7 && (this.A7=!1);Y_I=3;break;case 8:this.B7 && (this.B7=!1);return !1;break;case 9:return !0;break;case 3:Y_I=this.B7 && p.nj && !n.kw()?9:8;break;case 2:p=this.L;Y_I=1;break;}}};S29=27;break;case 27:k.prototype.gYa=function(n){var O4A,K4m;O4A=2;for(;O4A !== 4;){switch(O4A){case 1:n=n.jh;O4A=5;break;case 5:return n;break;case 12:O4A=4;break;case 14:return n;break;case 9:n=n.iw && n.iw.wea;O4A=5;break;case 2:var R_$="t";R_$+="d";R_$+="i";R_$+="ge";R_$+="st";K4m=this.L.Wwa;O4A=K4m === R_$?1:3;break;case 3:O4A=9;break;}}};k.prototype.WBb=function(n,p,q){var x_G,v;x_G=2;for(;x_G !== 3;){switch(x_G){case 4:this.Hna(v.qza,n,p,q) && (this.I2b=!0);x_G=3;break;case 2:v=this.L;this.Hna(v.MG,n,p,q)?this.Zt=!0:this.Zt=!1;this.z9=0;x_G=4;break;}}};S29=25;break;}}})();b.fIa=a;},function(r,b,a){var l,g,m;function c(d,f,h,k){this.Eb=d;this.H=f;this.Ll=this.H.error.bind(this.H);this.ac=this.H.warn.bind(this.H);this.fk=this.H.trace.bind(this.H);this.Fg=this.H.log.bind(this.H);this.Vzb=new g();this.L=k;this.r7=[];this.I7=void 0;d=k.yba;l.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.yna=!0;}a(29);b=a(3).default;l=a(153);a(452);g=a(1070);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(134).aUa || a(134);c.prototype=Object.create(l.prototype);c.prototype.add=function(d,f,h){this.I7 || (this.I7=f);l.prototype.add.call(this,d,f,h);};c.prototype.MWb=function(){var d;if(0 !== this.r7.length){d=[];this.r7.forEach(function(f){f && f.wO && d.push(f.MB());});return d;}};c.prototype.ud=function(){this.r7=[];};c.prototype.ZZb=function(){var d,f,h;d=this.get(this.L.yba.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,p){if(n)return (f=n,h=p,!0);});if(f)for(var k=0;k < h;k++){d[k]=f;}}d={trace:d,timestamp:this.I7,$A:this.fe};this.yna=!1;l.prototype.reset.call(this);this.yna=!0;this.I7=void 0;return d;};c.prototype.Ata=function(d){var f,h,k,n,p,q;if(d && !d.wO){h=d.Nv.ncb;h && (d.YCa=this.Cpa(d),d.gfa=!1);if((f=this.ZZb()) && f.trace && f.trace.length){k=d.Ek.mG;n=f.timestamp;if(n > k){p=f.$A;q=f.trace[0];k=Math.ceil((n - k) / p);f.timestamp=n - k * p;for(n=0;n < k;n++){f.trace.splice(0,0,q);}}f.trace.length && f.trace.pop();}d.bD=f;f.trace && 0 === f.trace.length || void 0 === f.timestamp || (f=this.PJb(d),d.Ygb=f,h && f && (d.gfa=f.Yt),d.wO=!0,this.r7.push(d));}};c.prototype.PJb=function(d){var p,q,v,t;function f(w){var y;for(var u,x=0;x < w.length;x++){y=w[x].reduce(function(z,B){return B.hb?z + 1:z;},0);if(void 0 === u)u=y;else if(y !== u)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > u?y - u:u - y) * Math.LOG2E) + "]");}}for(var h=this.L.xba,k={Yt:!1,Rba:!1,dSb:0},n=0;n < h.length;n++){p=h[n];q=this.Vzb.create(p);if(q){v=m.now();t={};try{f(d.Az);t=q(d);}catch(w){t.zP=w;}t.hHb=m.now() - v;k[p]=t;k.Yt=k.Yt || t.Yt;k.Rba=k.Rba || t.Rba;k.zP=k.zP || t.zP;}}return k;};c.prototype.Cpa=function(d){var f;d=d.Nv;f="";1E3 > d.Kp && (f+=d.Cqb);1E3 > d.jt && (f=f + ("" !== f?",":"") + d.K0a);1E3 <= d.Kp && 1E3 <= d.jt && (f="media");return f;};r.exports=c;},function(r,b,a){var g;function c(){}function l(m,d,f){return function(h){h.Es=d;h.compare=f;return m(h);};}g=a(1071);c.prototype.constructor=c;c.prototype.create=function(m){var d;switch(m){case "htwbr":break;case "htwbr-dlvmaf":d=l(g.mZ,!1,g.k3a);break;case "htwbr-segvmaf":d=l(g.mZ,!0,g.k3a);break;case "hvmafgr":d=l(g.mZ,!1,g.Fra);break;case "hvmafgr-dlvmaf":d=l(g.mZ,!1,g.Fra);break;case "hvmafgr-segvmaf":d=l(g.mZ,!0,g.Fra);break;case "hvmafdp":d=l(g.dp,!1);break;case "hvmafdp-dlvmaf":d=l(g.dp,!1);break;case "hvmafdp-segvmaf":d=l(g.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};r.exports=c;},function(r,b,a){var q,v,t,w,u,x,y,z,B,A,C;function c(D){var E,G,F;E=D.bD;G=D.Ek;F=D.Nv.Ta - G.ca;E.timestamp > G.mG && A.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + E.timestamp + " and " + G.mG);D=[];for(var L,O=E.timestamp,K=0;K < E.trace.length;K++){O >= G.mG && (D.push(E.trace[K]),L=E.trace[K]);O+=E.$A;F-=E.$A;}for(;0 < F;){D.push(L);F-=E.$A;}G=E.$A;E=D.length;if(0 === E)E=[];else {for(G=[G / 1E3];2 * G.length <= E;){G=G.concat(G);}G.length < E && (G=G.concat(G.slice(0,E - G.length)));E=G;}return new x(D,E,!1);}function l(D,E,G){E=D.Az[E][G];return E.ga + D.Ek.QW * E.duration / 8;}function g(D){var E,G,F,L,O,K,I,M,H;E=D.Ek;G=E.uo;F=D.Nv;L=F.my;K=[];for(F=L=Math.min(F.BK,L);F >= G;F--){C.update("backward step loop");I=O=D.Az[0][F].ca - D.Ek.ca;F < L && (q(void 0 !== K[F + 1],"expect solution[(fragIndex + 1)] !== undefined"),I=Math.min(K[F + 1].startTime,I));M=l(D,0,F);H=p(M,I,D.bD,E.mG);if(0 > H)throw Error("Infeasible: reason throughput at min bitrate");M={startTime:H,endTime:I,O9:I,ARb:O,eS:M,$d:0};M.W7a=F;K[F]=M;}E=0;for(F=G;F <= L;F++){E+=K[F].eS;K[F].Ssa=E;}if(!m(D,K,G,L))throw Error("Infeasible: reason buffer capacity at min bitrate");return {Yt:!0,EAa:0 == K.length,Hs:K};}function m(D,E,G,F){var L,O,K,I,M,H,J,N,P,W;for(;G <= F;G++){C.update("checkBuffer");L=D;O=E;K=G;C.update("check buffer vacancy");I=L.Ek;M=L.Az[I.zZ];H=L.H1a;J=!0;L=L.RUb(Math.floor(O[K].startTime) + I.ca);N=I.Qu + O[K].Ssa;P=0;W=0;if(L.index < I.uo){for(var V=0,S=I.XC;S < L.index;S++){V+=M[S].ga;}P+=V;V=0;for(S=I.XC;S < L.index;S++){V+=M[S].duration;}W+=V;}else (P+=I.Qu,W+=I.Kp);V=0;for(S=I.uo;S < L.index;S++){V+=O[S].eS;}P+=V;V=0;for(S=I.uo;S < L.index;S++){V+=M[O[S].W7a].duration;}W+=V;L=N - P;I=M[K].ca + M[K].duration - I.ca - W;if(I >= H.qw || L >= H.kqb)J=!1;O[K].Q1a=L;O[K].yqa=I;if(!J)return !1;}return !0;}function d(D){D=D.Ek.ma;for(var E=[],G,F=0;F < D.length;F++){C.update("get prebuffered chunks loop");G=D[F];q(void 0 !== G.hb,"expect frag.vmaf !== undefined");G=new t(G.ga,G.duration / 1E3,G.hb);E.push(G);}return E;}function f(D){var E,G,F,L,O,K,H;E=D.Az;G=D.Ek;F=D.Nv;L=F.my;O=D.Lc;K=[];L=Math.min(F.BK,L);for(var I=0;I < E.length;I++){F=[];for(var M=G.uo;M <= L;M++){C.update("get chunk map from play segment");H=E[I][M];H=new t(H.ga,H.duration / 1E3,D.Es && void 0 !== H.hb?H.hb:O[I].hb);F.push(H);}K.push(F);}return new w(K,!1);}function h(D,E,G){q(D.cQ() >= E.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var F=0,L=0,O,K,I=0;I < E.length;I++){C.update("calculate twvmaf");q(E[I].Qab === I,"expect stream_choices[idx].i_epoch === idx");K=D.On[E[I].Bba][I];O=void 0 !== G?G(K.quality):K.quality;K=K.no;F+=O * K;L+=K;}return {G5a:F / L,F5a:1E3 * L};}function k(D,E,G){q(D.cQ() >= E.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var F=0,L=0,O=G.Ek.QW,K,I=0,M=0,H=0;H < E.length;H++){C.update("calculate Bytes");q(E[H].Qab === H,"expect stream_choices[idx].i_epoch === idx");K=D.On[E[H].Bba][H];F+=K.ga;L+=O * K.no * 1E3 / 8;I+=K.no * G.Lc[E[H].Bba].bitrate;M+=K.no;}return {E5a:F,B5a:L,D5a:0 < M?1 * I / M:0};}function n(D,E,G){E=Math.min(D.length - 1,E);E=Math.max(0,E);return D[E] * G / 8;}function p(D,E,G,F){var L,O,K,I,M;L=G.trace;O=1 * G.$A;K=E + F - G.timestamp;I=Math.floor(1 * K / O);E=(K - I * O) / O * n(L,I,O);if(E >= D)M=K - 1 * D / E * (K - I * O);else for(K=I;E < D;){C.update("find download start time");--K;if(0 > K)return -1;I=n(L,K,O);if(E + I >= D){D=(D - E) / I * O;M=(K + 1) * O - D;break;}E+=I;}return M + G.timestamp - F;}q=a(2).assert;v=a(1072);t=a(453).$sb;w=a(453).atb;u=a(1073).rub;x=a(454).qzb;y=a(274).pJa;z=a(184).sU;B=a(92).default;A=new (a(3).default.Console)("ASEJS_QOE_EVAL","media|asejs");C=a(134).aUa || a(134);r.exports={mZ:function(D){var E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa,Q,ka,ra,R,ha,wa,va;A.debug("greedy DEBUG false");C.FEa("greedy-" + (D.Es?"segvmaf":"dlvmaf") + ": ");try{D.yK=[];E=D.Az;G=D.Ek;F=D.Nv;L=F.my;O=D.Lc;L=Math.min(F.BK,L);for(I=G.uo;I <= L;I++){M=new v();D.yK[I]=M;E[0][I].Eqa=E[0][I].ga;for(K=1;K < E.length;K++){E[K][I].Eqa=E[K][I].ga;}K=0;H=E[K][I];H.UF=Infinity;H.Ag=K;for(K=1;K < E.length;K++){H=E[K][I];H.Ag=K;J=M.Zba()?E[0][I]:M.A$b();N=8 * H.Eqa / H.duration;P=8 * J.Eqa / J.duration;if(D.Es && void 0 !== H.hb)(W=H.hb,V=J.hb);else (W=O[K].hb,V=O[J.Ag].hb);H.pw=N - P;H.UF=(W - V) / H.pw;isFinite(H.UF) && (0 < H.UF || K == E.length - 1) && 0 < H.pw && M.enqueue(H);}}for(I=G.uo;I <= L;I++){G=[];S=[];U=[];fa=D.yK[I].El();for(E=0;E < fa.length;E++){H=fa[E];G.push(H.pw.toFixed(2));D.Es && void 0 !== H.hb?S.push(H.hb):S.push(O[H.Ag].hb);U.push(H.UF.toFixed(4));}}qa=g(D);if(qa.EAa)return qa;xa=D.Ek;Aa=D.Nv;Oa=Aa.my;Oa=Math.min(Aa.BK,Oa);U=[];for(var T=xa.uo;T <= Oa;T++){D.yK[T].Zba() || U.push(D.yK[T].bP());}q(void 0 !== D.compare,"playSegment.compare required for greedy");for(var X=new z(U,D.compare);0 < X.length;){C.update("upgrade frags");Q=X.pop();a:{Oa=xa=void 0;T=D;U=qa;S=Q;ka=T.Ek;ra=T.Nv;R=Math.min(ra.BK,ra.my);ha=JSON.parse(JSON.stringify(U.Hs));q(S && ha[S.index].$d < S.Ag,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");Oa=S.index;xa=ha[Oa];xa.$d=S.Ag;xa.eS=l(T,xa.$d,Oa);xa.startTime=p(xa.eS,xa.O9,T.bD,ka.mG);ha[Oa]=xa;if(0 > xa.startTime)wa=!1;else {for(Oa=S.index - 1;Oa >= ka.uo;Oa--){xa=ha[Oa];va=ha[Oa + 1].startTime;if(xa.O9 <= va)break;xa.O9=va;xa.startTime=p(xa.eS,xa.O9,T.bD,ka.mG);ha[Oa]=xa;if(0 > xa.startTime){wa=!1;break a;}}for(var Ea=S.index + 1;Ea <= R;Ea++){ha[Ea].Ssa=ha[Ea].eS + (Ea > T.Ek.uo?ha[Ea - 1].Ssa:0);}for(var Ya=S.index + 1;Ya <= R;Ya++){if(ha[Ya].startTime > ha[S.index].ARb){R=Ya - 1;break;}}m(T,ha,S,Math.min(Oa + 1,S.index),R)?(U.Hs=ha,wa=!0):wa=!1;}}wa && (D.yK[Q.index].Zba() || X.push(D.yK[Q.index].bP()));}}finally{delete D.yK;}for(R=ra=ka=wa=Q=X=0;R < qa.Hs.length;R++){if(ha=qa.Hs[R])(va=D.Az[ha.$d][ha.W7a],X+=(va.hb?va.hb:D.Lc[ha.$d].hb) * va.duration,Q+=va.duration,wa+=va.ga,ka+=D.Ek.QW * va.duration / 8,ra+=va.duration * D.Lc[ha.$d].bitrate);}qa.G5a=0 < Q?1 * X / Q:0;qa.F5a=Q;qa.E5a=wa;qa.B5a=ka;qa.D5a=0 < Q?1 * ra / Q:0;qa.kC=C.P9a();A.debug("Max heap used: " + Math.round(qa.kC / 1024 / 1024) + " MB");return qa;},Fra:function(D,E){if(D.UF < E.UF)return 1;if(D.UF > E.UF)return -1;if(D.pw > E.pw)return 1;if(D.pw < E.pw)return -1;if(D.index > E.index)return 1;if(D.index < E.index)return -1;throw Error("Invalid frag comparison");},k3a:function(D,E){if(D.pw > E.pw)return 1;if(D.pw < E.pw)return -1;if(D.index > E.index)return 1;if(D.index < E.index)return -1;throw Error("Invalid frag comparison");},dp:function(D){var E,G,F,L,O,K;C.FEa("dp-" + (D.Es?"segvmaf":"dlvmaf") + ": ");E=g(D);if(!1 === E.Yt || !0 === E.EAa)return E;G=f(D);F=new u(G);L=d(D);L={mob:c(D),c1a:D.Ek.QW,vfb:0,Reb:240,Qeb:8 * D.H1a.kqb / 1E3,N1a:.5,u1a:new y(L),G6a:0,fvc:void 0,$$a:void 0,djb:void 0,r0a:!0};F=F.lz(L);L=h(G,F,void 0);G=k(G,F,D);O=[];K=D.Ek.uo;F.forEach(function(I){O[K]={$d:I.Bba};K++;});B(L,E);B(G,E);E.Hs=O;E.kC=C.P9a();A.debug("Max heap used: " + Math.round(E.kC / 1024 / 1024) + " MB");return E;}};},function(r){var c;function b(l){this.Xg=a(l);this.Lh=this.$f=0;if(c(l)){for(var g=l.length,m=0;m < g;++m){this[m]=l[m];}this.$f=g;}}function a(l){if("number" !== typeof l)if(c(l))l=l.length;else return 16;l=Math.min(Math.max(16,l),1073741824);l=(l >>> 0) - 1;l|=l >> 1;l|=l >> 2;l|=l >> 4;l|=l >> 8;return (l | l >> 16) + 1;}b.prototype.El=function(){for(var l=this.$f,g=Array(l),m=this.Lh,d=this.Xg,f=0;f < l;++f){g[f]=this[m + f & d - 1];}return g;};b.prototype.push=function(l){var g,m,d,h;g=arguments.length;m=this.$f;if(1 < g){d=this.Xg;if(m + g > d){for(var f=0;f < g;++f){this.v6(m + 1);h=this.Lh + m & this.Xg - 1;this[h]=arguments[f];m++;this.$f=m;}return m;}h=this.Lh;for(f=0;f < g;++f){this[h + m & d - 1]=arguments[f];h++;}this.$f=m + g;return m + g;}if(0 === g)return m;this.v6(m + 1);f=this.Lh + m & this.Xg - 1;this[f]=l;this.$f=m + 1;return m + 1;};b.prototype.pop=function(){var l,g,m;l=this.$f;if(0 !== l){g=this.Lh + l - 1 & this.Xg - 1;m=this[g];this[g]=void 0;this.$f=l - 1;return m;}};b.prototype.shift=function(){var l,g,m;l=this.$f;if(0 !== l){g=this.Lh;m=this[g];this[g]=void 0;this.Lh=g + 1 & this.Xg - 1;this.$f=l - 1;return m;}};b.prototype.unshift=function(l){var g,m,d,h;g=this.$f;m=arguments.length;if(1 < m){d=this.Xg;if(g + m > d){for(var f=m - 1;0 <= f;f--){this.v6(g + 1);d=this.Xg;h=(this.Lh - 1 & d - 1 ^ d) - d;this[h]=arguments[f];g++;this.$f=g;this.Lh=h;}return g;}h=this.Lh;for(f=m - 1;0 <= f;f--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[f];}this.Lh=h;this.$f=g + m;return g + m;}if(0 === m)return g;this.v6(g + 1);d=this.Xg;f=(this.Lh - 1 & d - 1 ^ d) - d;this[f]=l;this.$f=g + 1;this.Lh=f;return g + 1;};b.prototype.A$b=function(){var l;l=this.$f;if(0 !== l)return this[this.Lh + l - 1 & this.Xg - 1];};b.prototype.get=function(l){var g;if(l === (l | 0)){g=this.$f;0 > l && (l+=g);if(!(0 > l || l >= g))return this[this.Lh + l & this.Xg - 1];}};b.prototype.Zba=function(){return 0 === this.$f;};b.prototype.clear=function(){for(var l=this.$f,g=this.Lh,m=this.Xg,d=0;d < l;++d){this[g + d & m - 1]=void 0;}this.Lh=this.$f=0;};b.prototype.toString=function(){return this.El().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.bP=b.prototype.shift;b.prototype.toJSON=b.prototype.El;Object.defineProperty(b.prototype,"length",{get:function(){return this.$f;},set:function(){throw new RangeError("");}});b.prototype.v6=function(l){this.Xg < l && this.yEb(a(1.5 * this.Xg + 16));};b.prototype.yEb=function(l){var g,m;g=this.Xg;this.Xg=l;l=this.Lh;m=this.$f;if(l + m > g)for((l=l + m & g - 1,m=0);m < l;++m){this[m + g]=this[m + 0];this[m + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var q,v,t,w,u;function c(x,y,z){this.x1a=this.zAb(x,y,z);}function l(){}function g(){}function m(){}function d(x){this.hLb=x;}function f(){}function h(){}function k(){}function n(){this.Osa={};}function p(x,y){return Array.apply(0,Array(y)).map(function(z,B){return B + x;});}q=a(0);v=a(2).assert;b=a(274).pJa;t=a(454).rzb;w=a(274).Csb;new (a(3).default.Console)("ASEJS_QOE_EVAL","media|asejs");u=a(134).aUa || a(134);c.prototype.constructor=c;c.prototype.zAb=function(x,y,z){v(x < y,"expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y);v(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var B=[];x < y;x+=z){B.push(x);}B[B.length - 1] < y && B.push(y);return B;};c.prototype.uF=function(x){return this.CBb(x,this.x1a);};c.prototype.CBb=function(x,y){x=this.dRb(x,y);if(0 === x)throw new l();if(x === y.length)throw new g();return x;};c.prototype.dRb=function(x,y){v(0 < y.length,"expect bins.length > 0 but got " + y.length);if(x < y[0])return 0;if(x >= y[y.length - 1])return y.length;for(var z=1;z < y.length;z++){if(y[z - 1] <= x && x < y[z])return z;}v(!1,"expect not coming here in digitize()");};c.prototype.eba=function(){return p(1,this.x1a.length - 1);};l.prototype=Error();g.prototype=Error();m.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.utb=-20;d.prototype.ttb=20;d.prototype.stb=void 0;d.prototype.ntb=new b(void 0);d.prototype.ptb=0;d.prototype.otb=1;d.prototype.xtb=!1;d.prototype.rtb=!0;d.prototype.qtb=!0;d.prototype.vtb=void 0;d.prototype.ltb=!0;d.prototype.mtb=0;d.prototype.lz=function(x){v(void 0 !== x.mob,"expect recipe.time_varying_bandwidth !== undefined");return this.AEb(this.hLb,x.mob,void 0 !== x.vfb?x.vfb:this.utb,void 0 !== x.Reb?x.Reb:this.ttb,void 0 !== x.Qeb?x.Qeb:this.stb,void 0 !== x.u1a?x.u1a:this.ntb,void 0 !== x.G6a?x.G6a:this.ptb,void 0 !== x.N1a?x.N1a:this.otb,void 0 !== x.shc?x.shc:this.xtb,void 0 !== x.x_b?x.x_b:this.rtb,void 0 !== x.$$a?x.$$a:this.qtb,void 0 !== x.djb?x.djb:this.vtb,void 0 !== x.r0a?x.r0a:this.ltb,void 0 !== x.c1a?x.c1a:this.mtb);};d.prototype.AEb=function(x,y,z,B,A,C,D,E,G,F,L,O,K,I){var H,J,N,P,W,xa,ka,ra,R,ha,wa,va,Ea,Ya,wb,nb,zb,Pa,Za,Xa,hb;function M(sb){return sb[W];}u.FEa("dp: ");v(z <= C.yi,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");v(C.yi <= B,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");v(z <= D,"expect min_buffer_sec <= end_buffer_sec");v(D <= B,"expect end_buffer_sec <= max_buffer_sec");void 0 !== A && v(C.ln <= A,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + C.ln + " and " + A);J=new c(z,B,E);E=new n();N=0;P=C;E.put([0,J.uF(C.yi)],[N,P,void 0,void 0,y,void 0,void 0,void 0]);y=P=0;C=x.t_b();v(x.cQ() == C.length,"expect chunk_map.get_n_epoch() == durations_sec.length");W=-1;try{for(var V=q.__values(C),S=V.next();!S.done;S=V.next()){W+=1;C=!0;for(var U=x.On.map(M),fa=J.eba(),qa=0;qa < fa.length;qa++){xa=fa[qa];if(E.tya([W,xa]))for(var Aa=E.get([W,xa]),Oa=Aa[0],T=Aa[1],X=Aa[4],Q=0;Q < U.length;Q++){ka=U[Q];u.update("epoch-ibuf-chunk loop");ra=void 0 !== O?O(ka.quality):ka.quality;R=X.Hi();try{Aa=this.eBb(T,ka,R,I);ha=Aa[0];wa=Aa[1];va=Aa[2];Ea=Aa[3];Ya=Aa[4];wb=Aa[5];}catch(sb){if(sb instanceof t)continue;else if(sb instanceof l){P+=1;continue;}else throw sb;}nb=!1;zb=!1;try{Pa=J.uF(Ea.yi);F && J.uF(ha);L && J.uF(wa);if(void 0 !== A)if(L){if(va.ln > A)throw new m();}else if(Ea.ln > A)throw new m();}catch(sb){if(sb instanceof l)(Pa=void 0,P+=1);else if(sb instanceof g)(K?nb=!0:y+=1,Pa=void 0);else if(sb instanceof m)(K?zb=nb=!0:y+=1,Pa=void 0);else throw sb;}try{if(nb && zb){v(void 0 !== A,"expect max_buffer_kb !== undefined");Za=L?va.ln - A:Ea.ln - A;v(0 <= Za,"pause dlnd kb cannot be -ve but is " + Za);try{Xa=Ea.X$b(Za);}catch(sb){if(sb instanceof w)throw new l();throw sb;}R.Fhb(Xa);Ya+=Xa;v(Ea.yi < B,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Pa=J.uF(Ea.yi);}else if(nb && !zb){Xa=L?va.yi - B + 1E-8:Ea.yi - B + 1E-8;v(0 <= Xa,"pause dlnd kb cannot be -ve but is " + Xa);try{Ea.Zhb(Xa);}catch(sb){if(sb instanceof w)throw new l();throw sb;}R.Fhb(Xa);Ya+=Xa;v(z <= Ea.yi,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");v(Ea.yi < B,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Pa=J.uF(Ea.yi);}else Xa=0;}catch(sb){if(sb instanceof l)(Pa=void 0,P+=1,Xa=void 0);else if(sb instanceof t)continue;else throw sb;}N=E.tya([W + 1,Pa])?E.get([W + 1,Pa])[0]:-Infinity;this.tFb(Ea,Pa,ka,ra,xa,W + 1,N,E,Oa,Q,R,Ya,wb,Xa) && (C=!1);}}if(C){--W;break;}}}catch(sb){var cb;cb={error:sb};}finally{try{S && !S.done && (H=V.return) && H.call(V);}finally{if(cb)throw cb.error;}}try{hb=this.XXa(W + 1,J.uF(D),E,G,J);}catch(sb){if(sb instanceof f)try{hb=this.XXa(W + 1,J.uF(D),E,!G,J);}catch(Hb){if(Hb instanceof f){if(P > y)throw new h();throw new k();}throw Hb;}else throw sb;}xa=hb;for(z=[];-1 < W;W--){Aa=E.get([W + 1,xa]);N=Aa[0];P=Aa[1];xa=Aa[3];B=Aa[5];A=Aa[6];D=Aa[7];Aa=Aa[2];ka=x.On[Aa][W];G=ka.PB();ra=ka.quality;z.unshift({Qab:W,Bba:Aa,info:{gtc:G,quality:ra,uqa:P.yi,tqa:P.ln,c6a:B,Ya:A,GBa:D}});}return z;};d.prototype.XXa=function(x,y,z,B,A){var C,D;C=!1;D=A.eba()[0];for(A=A.eba()[A.eba().length - 1];;){if(y < D || y > A){C=!0;break;}if(z.tya([x,y]))break;else y=B?y - 1:y + 1;}if(C)throw new f("backtrack fails to find a solution");return y;};d.prototype.tFb=function(x,y,z,B,A,C,D,E,G,F,L,O,K,I){z=G + B * z.no;return void 0 !== y && z > D?(E.put([C,y],[z,x,F,A,L,O,K,I]),!0):!1;};d.prototype.eBb=function(x,y,z,B){var A,C,D;B=(y.PB() + B) * y.no;z=z.IRb(B);B/=z;A=x.yi - z;C=x.yi + y.no;D=x.Hi();D.add(y,void 0);x=x.Hi();x.add(y,void 0);try{x.Zhb(z);}catch(E){if(E instanceof w)throw new l();throw E;}return [A,C,D,x,z,B];};f.prototype=Error();h.prototype=new f();k.prototype=new f();n.prototype={yGa:function(x){return x.join(",");},put:function(x,y){this.Osa[this.yGa(x)]=y;},get:function(x){return this.Osa[this.yGa(x)];},tya:function(x){return (this.yGa(x) in this.Osa);}};r.exports={rub:d,eoc:c,Enc:l,Fnc:g};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.UUa=void 0;r=a(0);c=r.__importStar(a(12));l=a(6);g=a(6);m=r.__importDefault(a(3));d=a(413);f=a(451);a=(function(){function h(k,n,p,q){var F0E;F0E=2;for(;F0E !== 9;){switch(F0E){case 2:var R1$="1";R1$+="SIYbZ";R1$+="rN";R1$+="J";R1$+="Cp9";this.mb=k;this.H=n;this.zc=p;this.Aj=q;R1$;F0E=9;break;}}}var t9x;t9x=2;for(;t9x !== 13;){switch(t9x){case 2:h.prototype.uL=function(k,n){var y0x,p,q,v,t,u,x,w;y0x=2;for(;y0x !== 50;){switch(y0x){case 2:var W6S=" p";W6S+="l";W6S+="ayerSt";W6S+="at";W6S+="e: ";var z0w=" me";z0w+="dia.currentPt";z0w+="s: ";var o3A=" curr";o3A+="ent ";o3A+="m";o3A+="anifest";o3A+=": ";var G3V=" man";G3V+="i";G3V+="fes";G3V+="tIndex:";G3V+=" ";var q_6="s";q_6+="eek:";q_6+=" ";p=this;null === (q=this.GYa) || void 0 === q?void 0:q.cancel();(v=this.mb.L,t=this.mb.X.eg());q=k;v.kj && this.Aj.fo(q_6 + k + G3V + n + o3A + this.mb.Rf.O.Vb + z0w + t + W6S + this.mb.X.getState());y0x=9;break;case 39:this.mb.NZa();u=this.mb.ab.md.l9(k).GR;v.IAa();x=this.mb.ab.md;y0x=54;break;case 28:y0x=(t=this.mb.Rf.O.Vb === n && !this.aCb(n) && k === v.ca)?44:39;break;case 33:return;break;case 9:c.wa(n) && (n=this.mb.Rf.O.Vb);this.mb.ab.Bkb();y0x=7;break;case 19:y0x=!this.mb.zXa(n)?18:15;break;case 32:(k=t,q=k + this.mb.ab.ng);y0x=31;break;case 31:this.mb.X.Pd(l.La.Yh);this.mb.enb();this.mb.ab.Pic(k,n);y0x=28;break;case 12:y0x=n != t.O.Vb?11:26;break;case 15:y0x=this.fy(f.Bia.Kua(n),!1,!0)?27:26;break;case 21:y0x=!this.mb.W7(v.O.Vb + 1)?35:31;break;case 26:t=this.mb.ab.md.pY(v.Ta || Infinity,v.O);y0x=25;break;case 43:y0x=this.mb.X.scb()?42:41;break;case 41:var h2_="se";h2_+="ekFa";h2_+="i";h2_+="le";h2_+="d";var C_n="a";C_n+="fter seeking, playe";C_n+="rState no longer STAR";C_n+="TING: ";this.H.warn(C_n + this.mb.X.getState());this.mb.emit(h2_);y0x=50;break;case 22:y0x=v.O.Wf.rg?21:32;break;case 51:var A2R="se";A2R+="ekF";A2R+="ailed";var l28="se";l28+="ek, no ";l28+="manifest at manifestIndex:";(this.H.warn(l28,n),this.mb.emit(A2R));y0x=50;break;case 7:y0x=(v=this.mb.gi(n))?6:51;break;case 53:this.mb.y7();y0x=43;break;case 11:n < t.O.Vb && v.O.Wf.replace && (v.O.Wf.replace=!1);w=this.mb.ab.md;g.jg.forEach(function(y){var I_h;I_h=2;for(;I_h !== 1;){switch(I_h){case 2:(y=w.Be(y)) && p.mb.WZa(y);I_h=1;break;}}});y0x=19;break;case 42:var o5Y="se";o5Y+="e";o5Y+="k";var D4o="p";D4o+="tschan";D4o+="g";D4o+="ed";return (this.mb.emit(D4o,q),this.mb.emit(o5Y),this.f8(n),k=t && this.mb.Qb.uA()?100:0,this.mb.G7(1,k),this.mb.Pl(),q);break;case 6:!v.O.Wf.C_ && 0 < n && (q=this.mb.tX(n,k));this.mb.X.Pd(l.La.zm);t=this.mb.Rf;y0x=12;break;case 16:return;break;case 54:g.jg.forEach(function(y){var N8S,z;N8S=2;for(;N8S !== 5;){switch(N8S){case 1:p.zc(y) && p.aEb(z,u[y]);N8S=5;break;case 2:z=x.Be(y);N8S=1;break;}}});y0x=53;break;case 52:var h1E="se";h1E+="e";h1E+="kDelayed";(this.bE={Vb:n,el:k},this.mb.emit(h1E));y0x=50;break;case 18:var u8M="s";u8M+="ee";u8M+="kDelayed";this.bE={Vb:n,el:k};this.mb.emit(u8M);y0x=16;break;case 25:y0x=t.length?24:52;break;case 44:g.jg.forEach(function(y){var Z$x;Z$x=2;for(;Z$x !== 1;){switch(Z$x){case 2:p.mb.Lx[y].zg(!0);Z$x=1;break;}}});y0x=43;break;case 27:return;break;case 35:var x6E="s";x6E+="eek";x6E+="D";x6E+="elay";x6E+="ed";this.bE={Vb:v.O.Vb + 1,el:k};this.mb.emit(x6E);y0x=33;break;case 23:y0x=k > t?22:31;break;case 24:t=this.mb.pt?this.mb.Ao?Math.min(t[g.u.T].ca,t[g.u.J].ca):t[g.u.T].ca:t[g.u.J].ca;y0x=23;break;}}};h.prototype.seek=function(k,n){var b_O,p;b_O=2;for(;b_O !== 9;){switch(b_O){case 2:p=k;c.wa(n) && (n=this.mb.Rf.O.Vb);this.mb.ab.Bkb();this.mb.gi(n).O.Wf.C_ || this.mb.QN || (p=this.mb.sB(n,k));return this.uL(p,n);break;}}};h.prototype.fy=function(k,n,p){var A0q,q,v;A0q=2;for(;A0q !== 9;){switch(A0q){case 1:A0q=n?5:4;break;case 14:return v;break;case 4:var b5r="se";b5r+="e";b5r+="k";var O5R="pt";O5R+="sc";O5R+="ha";O5R+="n";O5R+="ged";v?(this.mb.X.Pd(l.La.zm),(k=this.mb.ab.oi.children[k]) && this.mb.emit(O5R,null !== (q=k.Bd) && void 0 !== q?q:k.zxa),this.mb.X.Pd(l.La.Yh),this.mb.emit(b5r),k && this.f8(k.O.Vb),this.mb.G7(1),this.mb.Pl(),this.mb.Qb.uA()):p || (q=this.mb.ab.zZb(k),this.uL(q));return v;break;case 5:return v;break;case 2:v=this.mb.ab.fy(k,n);A0q=1;break;}}};h.prototype.aCb=function(k){var d6e;d6e=2;for(;d6e !== 1;){switch(d6e){case 4:return ~-this.mb.gi(k).EW;break;case 2:return !!this.mb.gi(k).EW;break;}}};h.prototype.f8=function(k){var V$u,n;V$u=2;for(;V$u !== 4;){switch(V$u){case 2:n=this;k=this.mb.gi(k);k.EW || (k.EW=!0,g.jg.forEach(function(p){var M7h;M7h=2;for(;M7h !== 1;){switch(M7h){case 2:n.mb.$h[p].resume();M7h=1;break;}}}),this.mb.y7());V$u=4;break;}}};h.prototype.aEb=function(k,n){var l26,p,q,v;l26=2;for(;l26 !== 8;){switch(l26){case 3:(this.mb.Ok.en.forEach(function(t){var n0M;n0M=2;for(;n0M !== 1;){switch(n0M){case 2:p.mb.oO(t,!1);n0M=1;break;}}}),this.mb.Ok=void 0);l26=9;break;case 2:(p=this,v=k.mediaType);k.iS(n);k.gec();l26=4;break;case 4:l26=(null === (q=this.mb.Ok) || void 0 === q?0:q.dQ())?3:9;break;case 9:this.mb.o$.iEb(v,k.bb.O);l26=8;break;}}};h.prototype.jna=function(){var l2y,k,n;l2y=2;for(;l2y !== 4;){switch(l2y){case 1:(k=this.bE.el,n=this.bE.Vb);this.mb.gi(n) && (this.bE=void 0,this.uL(k,n));l2y=4;break;case 2:l2y=this.bE?1:4;break;}}};t9x=7;break;case 7:h.prototype.ro=function(k){var a2R,p,q;a2R=2;for(;a2R !== 7;){switch(a2R){case 3:g.jg.forEach(function(v){var N68,t;N68=2;for(;N68 !== 9;){switch(N68){case 1:var f93="skip: not resuming bufferM";f93+="ana";f93+="ger, audio track switch in progress";t=p.mb.Qb.hh[v];p.mb.Jt && (t.oFa=m.default.time.fa());t.W2?t.ac(f93):p.mb.$h[v].resume();N68=3;break;case 2:N68=p.zc(v)?1:9;break;case 3:n(p.mb.ab.md,v);N68=9;break;}}});this.GYa=k=new d.cN(this.mb.S1());return k.c0(function(){var L0i;L0i=2;for(;L0i !== 5;){switch(L0i){case 2:p.mb.X.Pd(l.La.Xc);p.mb.jW();L0i=5;break;}}}).Kkb;break;case 2:p=this;null === (q=this.GYa) || void 0 === q?void 0:q.cancel();this.mb.enb();this.mb.ab.oi.ro(k);a2R=3;break;}}function n(v,t){var B_f;B_f=2;for(;B_f !== 5;){switch(B_f){case 2:var U2j="skip: unexpect";U2j+="ed behav";U2j+="iour - a non-presenting branch doesn't have a previous branch";v !== p.mb.ab.oi && (v.qj?n(v.qj,t):p.H.error(U2j));(v=v.Be(t)) && v.ro();B_f=5;break;}}}};h.prototype.ci=function(k){var I32,n,p,q;I32=2;for(;I32 !== 8;){switch(I32){case 2:(p=this.mb.ab.oi,q=0 < Object.keys(p.G && p.G.Km || ({})).length && !p.Vl?p.Yf - this.mb.L.UQ:p.Yf);I32=1;break;case 1:I32=k < (null !== (n=p.Bd) && void 0 !== n?n:p.zxa) || k >= q?5:4;break;case 9:return void 0 !== n && void 0 !== k && n.complete && k.complete;break;case 4:n=this.mb.oy(k,g.u.T,!0);k=this.mb.oy(k,g.u.J,!0);I32=9;break;case 5:return !1;break;}}};return h;break;}}})();b.UUa=a;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.gLa=void 0;r=a(0);c=r.__importStar(a(12));l=a(6);g=a(6);m=r.__importDefault(a(3));a=(function(){var E0E;E0E=2;function d(f,h,k){var I5t;I5t=2;for(;I5t !== 9;){switch(I5t){case 2:var i6v="1S";i6v+="IYbZrN";i6v+="JCp9";this.ib=f;this.H=h;this.zc=k;i6v;I5t=3;break;case 3:this.vXa=this.RH=void 0;I5t=9;break;}}}for(;E0E !== 18;){switch(E0E){case 8:d.prototype.MXa=function(f,h){var q71,k,n,p,q,v;q71=2;for(;q71 !== 7;){switch(q71){case 3:return;break;case 4:q71=(this.ib.Ao && this.NXa(f,n,p),this.ib.pt && this.NXa(f,p,n),q=!p || p.$i,v=!n || n.$i,!v || !q)?3:9;break;case 5:q71=!v || !q?4:9;break;case 9:var y7E="Still in";y7E+=" buffering state while pipeline'";y7E+="s are done";this.ib.X.Vf() && (this.H.warn(y7E),this.ib.Qb.uA());h || k.Fu || f.O.Wf.rg || !this.NKb(f) || ((h=this.ib.X.Vf()) && this.ib.L.xsa && (this.ib.Aoa(),h=!1),f.eaa || this.ib.ab.B0b(f,h),f.AO(),f.PKb() && (h=Object.keys(f.children),this.ib.L.r$ && 1 === h.length && !f.children[h[0]].active && this.ib.ab.aeb(f,h[0]),this.WAb(f,k)));q71=7;break;case 2:(k=f.G,n=f.Be(g.u.J),p=f.Be(g.u.T),q=!p || p.$i,v=!n || n.$i);k.dm || this.ib.ab.Oda(f,k,f.O.Wf.rg && 0 === f.O.Vb);q71=5;break;}}};d.prototype.WAb=function(f,h){var H7P,v,t,k,w,u,n,p,q;H7P=2;for(;H7P !== 23;){switch(H7P){case 8:H7P=!p?7:26;break;case 7:(v=[],t=[]);c.qg(f.children,function(x,y){var i85;i85=2;for(;i85 !== 5;){switch(i85){case 2:y=h.Km[y].weight;0 !== y && (y={weight:y,bb:x},x.gra(!0,!0) || t.push(y),v.push(y));i85=5;break;}}});H7P=14;break;case 4:H7P=Math.min(n[0] - f.Kma[0],n[1] - f.Kma[1]) >= k.gLb?3:9;break;case 2:k=this.ib.L;H7P=1;break;case 3:f.sN=void 0;H7P=8;break;case 10:0 !== w && 0 !== u?(c.qg(t,function(x){var m_M;m_M=2;for(;m_M !== 4;){switch(m_M){case 2:x.Fmc=x.weight / w;x.rJb=x.pda / u;x.usage=x.rJb - x.Fmc;m_M=4;break;}}}),t.sort(function(x,y){var r3e;r3e=2;for(;r3e !== 1;){switch(r3e){case 2:return x.usage - y.usage;break;}}})):t.sort(function(x,y){var i1q;i1q=2;for(;i1q !== 4;){switch(i1q){case 2:x=Math.min.apply(null,x.bb.mo);y=Math.min.apply(null,y.bb.mo);R7xOY.e_n(0);return R7xOY.p3p(x,y);break;}}});H7P=20;break;case 20:H7P=0 === t.length?19:17;break;case 13:H7P=1 < t.length?12:20;break;case 18:return;break;case 1:H7P=this.ib.Nc.dxa && f.sN && f.Kma?5:8;break;case 27:f.Kma=p.mo;H7P=26;break;case 26:p.Oe || (p.Oe={Lba:m.default.time.fa(),PC:0});p.Oe.weight=q;this.MXa(p,!0);H7P=23;break;case 14:0 === t.length?t=v:2 < t.length && (t.sort(function(x,y){var F77;F77=2;for(;F77 !== 1;){switch(F77){case 2:return y.weight - x.weight;break;}}}),t.length=2);H7P=13;break;case 17:p=t[0].bb;q=t[0].weight;f.sN=p;H7P=27;break;case 12:p=t.reduce(function(x,y){var w56;w56=2;for(;w56 !== 4;){switch(w56){case 2:y.mo=y.bb.mo;y.pda=Math.min(y.mo[0],y.mo[1]);R7xOY.e_n(27);var n0W=R7xOY.p3p(1,11,1,0,11);return [x[0] + y.weight,x[n0W] + y.pda];break;}}},[0,0]);(w=p[0],u=p[1]);H7P=10;break;case 5:n=f.sN.mo;H7P=4;break;case 9:(p=f.sN,q=h.Km[p.G.id].weight);H7P=8;break;case 19:var t75="No subbr";t75+="anch can";t75+="didates to dr";t75+="i";t75+="ve";this.H.warn(t75);H7P=18;break;}}};d.prototype.NXa=function(f,h,k){var I1V,q,v,t,n,p,w;I1V=2;for(;I1V !== 8;){switch(I1V){case 5:(q=this.ib.Qb.hh[p],v=this.ib.Qb.YC[p],t=this.ib.Qb.Py[p]);I1V=4;break;case 1:I1V=!h.$i?5:8;break;case 2:(n=this.ib.L,p=h.mediaType);I1V=1;break;case 4:I1V=q.cf && (void 0 === h.XK || (h.iS(h.XK,h.C$b),void 0 === h.XK))?3:8;break;case 3:var L3K="Still in buffering st";L3K+="ate while";L3K+=" pipeline does not ";L3K+="have vacanc";L3K+="y";var V$e="d";V$e+="rivePipeline, delayi";V$e+="ng ";V$e+="audio until video actualStartPts determined";w=this.ib.Rf;c.wa(w.NK) || (n.nL && p === g.u.T && c.wa(this.ib.Qb.hh[g.u.J].kq)?h.ac(V$e):(c.wa(h.Xm) && (h.Xm=h.pd?h.pd.index:h.aua(h.Ec)),h.Wd && h.Xm > h.Wd.index?f.O.Wf.rg && c.wa(w.Ta) && c.wa(f.Pc) || (h.$i || this.ib.WZa(h),f=this.ib.Rf.O.Vb,f < this.ib.RP() - 1 && this.ib.W7(f + 1)):this.C6(h) && (n.MSb && !this.ib.X.Vf() && 0 >= h.DK?h.Xkc(n.o6b):this.uAb(h,k)?(h.S3b=m.default.time.fa(),k=this.ib.Qb.hwa(h),n=k.Ag,c.wa(n) || (n=h.track.Lc[n],this.tAb(h,n) || ((p=n.Faa())?(h.J3b=n.bitrate,h.s5b(n,p,this.ib.X.Vf(),q.cf,k.Wy),this.jlc(n,t,v),f.Oe && ++f.Oe.PC):n.VG()))):this.ib.X.Vf() && (h.fk(L3K),this.ib.Qb.uA()))));I1V=8;break;}}};E0E=14;break;case 12:d.prototype.uAb=function(f,h){var D0Y,y,x,k,n,p,q,v,t,w,u;D0Y=2;for(;D0Y !== 32;){switch(D0Y){case 24:u=this.ib.ab.Pjc();D0Y=23;break;case 22:return !1;break;case 35:D0Y=(v=1,f.vqa < n.mC && (v=n.mC),f.Xa.gG >= v)?34:33;break;case 11:t=this.ib.ab.SI(q,p);y=0;D0Y=20;break;case 15:D0Y=void 0 === u || u < n.N5b?27:26;break;case 26:D0Y=this.ABb(p) >= n.Jeb?25:24;break;case 33:return 0 < n.gu && !q && t + (h?y:0) > n.gu || void 0 !== this.vXa && w > this.vXa || p === g.u.J && k.Wf.rg && w > n.Tca && (h=this.ib.Nc.Ac.get(),h.confidence && h.Ya && h.Ya.xa * f.RO > n.Mza)?!1:!0;break;case 3:return !1;break;case 19:D0Y=this.ib.Nc.nya?18:17;break;case 6:k=this.ib.Rf.O;y=this.ib.X.hs(k);D0Y=13;break;case 20:D0Y=h && (y=this.ib.ab.SI(q,h.mediaType),x=f.Ec - x,this.zc(h.mediaType) && !h.$i && x >= n.Uza && u > n.Ak)?19:26;break;case 9:v=f.Xa.DBa;D0Y=8;break;case 4:D0Y=(null === (k=f.Th) || void 0 === k?0:k.W_b())?3:9;break;case 34:return !1;break;case 21:D0Y=(q=this.ib.X.Vf())?35:33;break;case 12:return !1;break;case 17:u=void 0;h && (u=h.mediaType,x=m.default.Cq()[u],u=n.ylc?this.ib.ab.beb(q,u).Sg / x:y / x);D0Y=15;break;case 23:D0Y=!c.wa(n.My) && u >= n.My || f.RO + v >= Math.max(n.qw,this.ib.Nc.N1 + n.QAa * q.O.Q5b[p])?22:21;break;case 13:D0Y=t === l.La.Xc && w > n.Kza && !k.Wf.rg && !y && !k.B_ || w && v > Math.max(w * n.Pza / 100,n.Q6b)?12:11;break;case 5:x=h?h.Ec:0;D0Y=4;break;case 8:D0Y=v >= n.Xca?7:6;break;case 18:return !1;break;case 2:var M7X="f";M7X+="l";M7X+="oored t";M7X+="o 0";var m8J="ne";m8J+="gative scheduledBufferLev";m8J+="e";m8J+="l:";(n=this.ib.L,p=f.mediaType,q=f.Bca,v=this.ib.X.eg(),t=this.ib.X.getState(),w=this.ib.ab.dy(q,p),u=f.Ec + q.ng - v);0 > u && (f.ac(m8J,u,M7X),u=0);D0Y=5;break;case 27:return !1;break;case 25:return !1;break;case 7:return !1;break;}}};d.prototype.ABb=function(f){var q3U;q3U=2;for(;q3U !== 1;){switch(q3U){case 2:return this.ib.ab.eb.reduce(function(h,k){var W7c;W7c=2;for(;W7c !== 1;){switch(W7c){case 2:return h + k.sZb(f);break;}}},0);break;}}};d.prototype.NKb=function(f){var i_S,h,k,n;i_S=2;for(;i_S !== 4;){switch(i_S){case 2:(h=this,k=this.ib.ab,n=!0);c.qg(f.G.Km,function(p,q){var N0f,v;N0f=2;for(;N0f !== 7;){switch(N0f){case 2:N0f=(p=k.Ce(q))?1:8;break;case 8:var m5Q="in ";m5Q+="dests";m5Q+=":";var L9i="inv";L9i+="ali";L9i+="d segment:";f.ac(L9i,q,m5Q,f.G.Km);N0f=7;break;case 5:p=q.mj[g.u.T];v=q.mj[g.u.J];p && v && p.stream.te && v.stream.te || (n=!1);h.ib.X.hs(q) || (n=!1);N0f=7;break;case 1:q=p.O;N0f=5;break;}}});return n;break;}}};d.prototype.kFb=function(){var x$7,f,h,k;x$7=2;for(;x$7 !== 5;){switch(x$7){case 2:(f=this.ib.L,h=this.ib.ab,k=h.md);this.ib.X.Vf() || h.dy(k,g.u.J) < f.J_ || k.O.wGa();x$7=5;break;}}};E0E=19;break;case 19:return d;break;case 4:d.prototype.C6=function(f){var b7v;b7v=2;for(;b7v !== 1;){switch(b7v){case 2:return this.e_a() || this.ib.Qb.hh[f.mediaType].W2 || this.ib.QD.UA?!1:!0;break;}}};d.prototype.Pl=function(){var V73,f,h;V73=2;for(;V73 !== 5;){switch(V73){case 2:(f=this,h=this.ib.L);!this.ib.sZa || this.ib.z7 || this.ib.M7 || (this.ib.z7=setTimeout(function(){var d_G;d_G=2;for(;d_G !== 4;){switch(d_G){case 2:clearTimeout(f.ib.z7);f.ib.z7=void 0;f.PXa();d_G=4;break;}}},h.SBa),h.nP && this.ib.Ao && (this.RH || (this.RH=setTimeout(function(){var p1Y,k;p1Y=2;for(;p1Y !== 3;){switch(p1Y){case 2:clearTimeout(f.RH);f.RH=void 0;k=f.ib.ab.md.Be(g.u.J);k && f.gXa(k);p1Y=3;break;}}},h.fGb))));V73=5;break;}}};d.prototype.gXa=function(f,h){var g3s,q,k,n,p;g3s=2;for(;g3s !== 3;){switch(g3s){case 5:q=this.ib.Qb.hh[k].cf;q && (this.ib.X.Vf() || this.ib.Zh.eGb(k,q,n.bitrate,p.bitrate,f.x0b.bitrate,h));g3s=3;break;case 1:g3s=n && p?5:3;break;case 7:g3s=n || p?0:2;break;case 2:(k=f.mediaType,n=this.ib.Qb.Py[k].tK,p=f.De.WZ);g3s=1;break;}}};E0E=8;break;case 2:d.prototype.w6=function(){var F$3;F$3=2;for(;F$3 !== 1;){switch(F$3){case 2:this.RH && (clearTimeout(this.RH),this.RH=void 0);F$3=1;break;}}};d.prototype.PXa=function(){var j9_,f,h,k,n;j9_=2;for(;j9_ !== 6;){switch(j9_){case 8:this.MXa(f.md);this.kFb();j9_=6;break;case 1:var D3k="first";D3k+="Dr";D3k+="iv";D3k+="eStre";D3k+="aming";void 0 === this.ib.TAb && (this.ib.TAb=!0,this.ib.Lb.An(D3k));(f=this.ib.ab,h=f.md.Be(g.u.T),k=f.md.Be(g.u.J),n=!k || k.$i);(!h || h.$i) && n && this.ib.QN && f.ILb(k?k.Pc:h.Pc);k=!k || k.Ps;h && !h.Ps || !k || this.ib.QN || (this.ib.Nc.tg && this.ib.Nc.tg.FI(!0,this.ib.yn.sessionId),this.ib.Lb.vgb());j9_=8;break;case 2:j9_=!this.ib.Qg.Hoa && !this.ib.Lo()?1:6;break;}}};d.prototype.e_a=function(){var Q24;Q24=2;for(;Q24 !== 1;){switch(Q24){case 2:return this.ib.Lo() || this.ib.X.ucb() || this.ib.X.tcb()?!0:!1;break;}}};E0E=4;break;case 14:d.prototype.jlc=function(f,h,k){var w2_;w2_=2;for(;w2_ !== 4;){switch(w2_){case 9:h.Gya=f.cc;w2_=9;break;case 2:h.Gya=f.cc;w2_=1;break;case 1:c.Oa(k.qy) || (k.flc(f.zu,f.WB || -1,f.bitrate),c.wa(f.rEa) || this.ib.Zh.Qlb(f.rEa,f.Fq,f.Gq));f.url && (h.Nya=f.url);w2_=4;break;}}};d.prototype.tAb=function(f,h){var n36,k;n36=2;for(;n36 !== 5;){switch(n36){case 2:k=this.ib.Qb.Py[f.mediaType];return this.ib.sZa && h.cc && k.Gya && h.cc !== k.Gya && (0 < f.Xa.gG || 0 < f.Xa.Ku)?!0:!1;break;}}};E0E=12;break;}}})();b.gLa=a;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.NOa=void 0;c=a(185);l=a(6);g=a(6);m=a(8);r=(function(){var W$4;W$4=2;function d(f,h,k,n){var W51;W51=2;for(;W51 !== 8;){switch(W51){case 3:var x7o="1";x7o+="SIY";x7o+="bZrN";x7o+="JCp";x7o+="9";this.pZa=this.Hoa=!1;x7o;W51=8;break;case 2:this.mc=f;this.H=h;this.zc=k;this.mI=n;W51=3;break;}}}for(;W$4 !== 6;){switch(W$4){case 3:d.prototype.close=function(){var E3O,f;E3O=2;for(;E3O !== 6;){switch(E3O){case 2:f=this.mc.L;this.pZa=!0;this.stop();E3O=4;break;case 4:var z7t="e";z7t+="n";z7t+="d";z7t+="pla";z7t+="y";var v0I="log";v0I+="d";v0I+="a";v0I+="t";v0I+="a";var H_p="c";H_p+="l";H_p+="ose";this.mc.emit(H_p);f.A6a && (f=c.Lz.instance().Jb()) && (f={type:v0I,target:z7t,fields:{bridgestat:f}},(0,m.kb)(this.mc,f.type,f));this.mc.Nc.tg && this.mc.Nc.tg.FI(!0,this.mc.yn.sessionId,!0);this.mc.Lb.vgb();this.mc.wdc();E3O=6;break;}}};d.prototype.flush=function(){var J_l,v,t,f,h,k,n14,n,p,q;J_l=2;for(;J_l !== 16;){switch(J_l){case 8:k.flush();(v=k.e9a(),t=k.C_a);J_l=6;break;case 1:J_l=k?5:19;break;case 18:J_l=this.mI.Jt?17:16;break;case 14:for(var w in v){var X7Z="n";X7Z+="e";var h3L="n";h3L+="e";var p_X="n";p_X+="e";v.hasOwnProperty(w) && (n[p_X + w]=Number(v[w]).toFixed(6),q[h3L + w]=1 * n[X7Z + w]);}J_l=13;break;case 13:t && t.length && (n.activeRequests=JSON.stringify(t));n.aseApiVersion=this.mc.y8;h.x6a && (k=k.Oaa()) && (k.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=k.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=k.estimatedBytesPacedVideo,n.bytestotalVideo=k.bytestotalVideo,n.pacedAvtpVideo=k.pacedAvtpVideo),k.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=k.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=k.estimatedBytesPacedAudio,n.bytestotalAudio=k.bytestotalAudio,n.pacedAvtpAudio=k.pacedAvtpAudio),k.pacedAvtp && (n.pacedAvtp=k.pacedAvtp));J_l=10;break;case 2:(h=this.mc.L,k=this.mc.Nc.Ac);J_l=1;break;case 20:var t2m="e";t2m+="ndp";t2m+="l";t2m+="a";t2m+="y";var x0L="l";x0L+="o";x0L+="gda";x0L+="t";x0L+="a";var e$Y="thr";e$Y+="o";e$Y+="ugh";e$Y+="pu";e$Y+="t-sw";var l7J="through";l7J+="p";l7J+="ut-sw";var N$W="thro";N$W+="ug";N$W+="h";N$W+="put-";N$W+="sw";var k6X="thro";k6X+="u";k6X+="gh";k6X+="put-";k6X+="sw";h.cY && (p && p[k6X] && p[N$W].xa && this.mc.Qw.xGb({avtp:p[l7J].xa,variance:p[e$Y].He}),this.mc.Qw.qGb(q,null === (f=p.avtp) || void 0 === f?void 0:f.k$),f=this.mc.Qw.aXb(),h=this.mc.Qw.CZb(),f && (f.n=h,f={type:x0L,target:t2m,fields:{ibef:f}},(0,m.kb)(this.mc,f.type,f),this.mc.Qw.save()));J_l=19;break;case 10:var Y7O="e";Y7O+="n";Y7O+="dp";Y7O+="l";Y7O+="ay";var J6Y="l";J6Y+="ogda";J6Y+="ta";Object.keys(n).length && (n={type:J6Y,target:Y7O,fields:n},(0,m.kb)(this.mc,n.type,n));J_l=20;break;case 17:try{n14=2;for(;n14 !== 1;){switch(n14){case 2:this.mc.Bta(l.La.ND);n14=1;break;}}}catch(u){var G05="Hindsight: E";G05+="rror evaluating QoE at st";G05+="opping";G05+=": ";R7xOY.e_n(6);this.mc.Lb.xp(R7xOY.h1T(u,G05));}J_l=16;break;case 5:(n={},p=k.get(),q={});p && p.avtp && p.avtp.xa && (n.avtp=p.avtp.xa,n.dltm=p.avtp.k$,q.avtp=n.avtp);p && p.initialThroughput && p.initialThroughput.xa && (n.initial_avtp=p.initialThroughput.xa);p && p.cdnavtp && (n.cdnavtp=p.cdnavtp,n.activecdnavtp=p.activecdnavtp);J_l=8;break;case 6:J_l=v?14:13;break;case 19:this.mc.Lb.fZa();J_l=18;break;}}};d.prototype.Lo=function(){var C1i;C1i=2;for(;C1i !== 1;){switch(C1i){case 4:return this.pZa && this.mc.ab.ml;break;case 2:return this.pZa || this.mc.ab.ml;break;}}};return d;break;case 2:d.prototype.play=function(){var z$K,f;z$K=2;for(;z$K !== 5;){switch(z$K){case 2:var Z3e="p";Z3e+="l";Z3e+="a";Z3e+="y";var L$m="pl";L$m+="ay c";L$m+="alled after pipeli";L$m+="nes";L$m+=" already shutdown";f=this;this.Lo()?this.H.warn(L$m):(this.mc.X.Pd(l.La.Xc),this.mc.OEb(),this.mc.Qb.hh.forEach(function(h){var q1N;q1N=2;for(;q1N !== 1;){switch(q1N){case 2:var L7w="play: not resumin";L7w+="g bufferManager";L7w+=", audio track switch in progress";f.zc(h.mediaType) && (h.W2?h.ac(L7w):(f.mc.$h[h.mediaType].resume(),f.mc.Lx[h.mediaType].resume()));q1N=1;break;}}}),this.mc.jW(),this.mc.emit(Z3e));z$K=5;break;}}};d.prototype.stop=function(){var h3B,f,h,k,n;h3B=2;for(;h3B !== 6;){switch(h3B){case 2:(f=this,h=this.mc.X.ucb(),k=this.mc.X.tcb());this.mc.X.Pd(l.La.ND);this.mc.w6();h || k || this.mc.ab.oi.pz(!1,this.mc.X);h3B=3;break;case 3:var I0A="s";I0A+="to";I0A+="p";n=this.mc.ab.md;g.jg.forEach(function(p){var O5D;O5D=2;for(;O5D !== 5;){switch(O5D){case 1:p.$i=!1;O5D=5;break;case 3:O5D=(p=n.Be(p))?2:7;break;case 2:O5D=(p=n.Be(p))?1:5;break;}}});g.jg.forEach(function(p){var n8T;n8T=2;for(;n8T !== 1;){switch(n8T){case 2:(p=f.mc.$h[p]) && p.pause();n8T=1;break;}}});this.mc.emit(I0A);h3B=6;break;}}};d.prototype.suspend=function(){var i9D;i9D=2;for(;i9D !== 1;){switch(i9D){case 2:this.Hoa=!0;i9D=1;break;case 4:this.Hoa=~3;i9D=8;break;}}};d.prototype.resume=function(){var l4Q;l4Q=2;for(;l4Q !== 5;){switch(l4Q){case 2:this.Hoa=!1;this.mc.xh.Pl();l4Q=5;break;}}};W$4=3;break;}}})();b.NOa=r;},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ZQa=void 0;r=a(0);c=r.__importStar(a(12));l=a(117);g=r.__importDefault(a(29)).default.de;m=a(6);d=r.__importDefault(a(3));f=a(8);h=a(2);a=(function(){var M_N;function k(n,p){var s$e;s$e=2;for(;s$e !== 4;){switch(s$e){case 2:var Y_M="1SI";Y_M+="Y";Y_M+="bZr";Y_M+="NJCp";Y_M+="9";this.tb=n;this.H=p;Y_M;s$e=4;break;}}}M_N=2;for(;M_N !== 38;){switch(M_N){case 25:k.prototype.aDb=function(n,p){var H32;H32=2;for(;H32 !== 5;){switch(H32){case 2:var s6$="initialA";s6$+="udioTrac";s6$+="k";n={type:s6$,trackId:p,trackIndex:n};(0,f.kb)(this.tb,n.type,n);H32=5;break;}}};k.prototype.SCb=function(n,p){var s6f;s6f=2;for(;s6f !== 3;){switch(s6f){case 2:n=n.Um;p=p.Um;s6f=5;break;case 5:var t0S="a";t0S+="u";t0S+="dioTrackSwit";t0S+="chSt";t0S+="arted";p={type:t0S,oldLangCode:n.language,oldNumChannels:n.channels,newLangCode:p.language,newNumChannels:p.channels};(0,f.kb)(this.tb,p.type,p);s6f=3;break;}}};k.prototype.RCb=function(n,p){var Y7S,q;Y7S=2;for(;Y7S !== 5;){switch(Y7S){case 2:q=this;setTimeout(function(){var m_J,v;m_J=2;for(;m_J !== 5;){switch(m_J){case 2:var G$W="audi";G$W+="oTrac";G$W+="kSwitch";G$W+="Com";G$W+="plete";v={type:G$W,trackId:n,trackIndex:p};(0,f.kb)(q.tb,v.type,v);m_J=5;break;}}},0);Y7S=5;break;}}};M_N=22;break;case 15:k.prototype.rDb=function(n){var G1Y;G1Y=2;for(;G1Y !== 5;){switch(G1Y){case 1:(0,f.kb)(this.tb,n.type,n);G1Y=5;break;case 3:n={type:"",offset:n};G1Y=8;break;case 2:var j$z="vide";j$z+="oL";j$z+="oop";j$z+="ed";n={type:j$z,offset:n};G1Y=1;break;}}};k.prototype.pDb=function(n,p,q,v,t){var U1T;U1T=2;for(;U1T !== 4;){switch(U1T){case 2:var D7_="u";D7_+="pdate";D7_+="S";D7_+="tre";D7_+="amingPts";p={type:D7_,mediaType:n,manifestIndex:p,trackIndex:q,movieTime:Math.floor(v),segmentId:t};l.qn.Bq(n);(0,f.kb)(this.tb,p.type,p);U1T=4;break;}}};k.prototype.XCb=function(n){var f01;f01=2;for(;f01 !== 5;){switch(f01){case 2:var d8Z="fir";d8Z+="st";d8Z+="Reques";d8Z+="t";d8Z+="Appended";n={type:d8Z,manifestIndex:n.Xa.bb.O.Vb,mediatype:n.mediaType,time:d.default.time.fa()};(0,f.kb)(this.tb,n.type,n);f01=5;break;}}};M_N=25;break;case 22:k.prototype.VCb=function(n){var a31,p;a31=2;for(;a31 !== 4;){switch(a31){case 2:var H6W="bu";H6W+="ffer";H6W+="i";H6W+="ngStar";H6W+="ted";p={type:H6W,time:d.default.time.fa(),percentage:n || 0};(0,f.kb)(this.tb,p.type,p);this.Mna=n || 0;a31=4;break;}}};k.prototype.TCb=function(){var W2O,n,p,q,v,t;W2O=2;for(;W2O !== 3;){switch(W2O){case 2:var w75="buff";w75+="eri";w75+="ng";(n=this.tb.L,p=d.default.time.fa(),q=this.tb.ab.md,v=this.tb.Ao?m.u.J:m.u.T,t=q.gb(v));q=q.Nh(v);n=Math.min(Math.max(Math.round(100 * (t.TF?(p - this.tb.Dma) / n.DC:t.progress?t.progress:q / n.Ak)),this.Mna),99);n != this.Mna && (p={type:w75,time:p,percentage:n},(0,f.kb)(this.tb,p.type,p),this.Mna=n);W2O=3;break;}}};M_N=35;break;case 10:k.prototype.Zna=function(n,p){var G4U;G4U=2;for(;G4U !== 5;){switch(G4U){case 2:var y3T="lastSeg";y3T+="m";y3T+="e";y3T+="ntPt";y3T+="s";p={type:y3T,segmentId:n.id,pts:Math.floor(p)};n.nG || (0,f.kb)(this.tb,p.type,p);G4U=5;break;}}};k.prototype.dDb=function(n,p,q,v,t){var c80;c80=2;for(;c80 !== 5;){switch(c80){case 2:var J6x="m";J6x+="anifest";J6x+="R";J6x+="ang";J6x+="e";n={type:J6x,index:n,manifestOffset:p,startPts:Math.floor(q),endPts:Math.floor(v),maxPts:Math.floor(t)};(0,f.kb)(this.tb,n.type,n);c80=5;break;}}};k.prototype.iZa=function(n){var I8c;I8c=2;for(;I8c !== 5;){switch(I8c){case 2:var I1s="maxB";I1s+="it";I1s+="rat";I1s+="es";n={type:I1s,audio:n[m.u.T],video:n[m.u.J]};(0,f.kb)(this.tb,n.type,n);I8c=5;break;}}};k.prototype.eDb=function(n,p){var L3D,q;L3D=2;for(;L3D !== 3;){switch(L3D){case 2:var W4t="notifyManife";W4t+="stSelected";W4t+=":";W4t+=" ";var P$o="m";P$o+="anif";P$o+="es";P$o+="tSele";P$o+="cted";q=this.tb.L;n={type:P$o,index:n,replace:p.O.Wf.replace,ptsStarts:p.GR,streamingOffset:p.ca + p.Jy};q.kj && (p=W4t + JSON.stringify(n),q.kj && this.fo(p));(0,f.kb)(this.tb,n.type,n);L3D=3;break;}}};k.prototype.cDb=function(n,p,q,v,t){var Z_I;Z_I=2;for(;Z_I !== 4;){switch(Z_I){case 2:var X$6="ma";X$6+="ni";X$6+="festPres";X$6+="ent";X$6+="ing";n={type:X$6,index:n.Vb,pts:Math.floor(p),movieId:n.K,replace:n.Wf.replace,contentOffset:q};null != v && null != t && (n.previousMovieId=v,n.previousIndex=t);(0,f.kb)(this.tb,n.type,n);Z_I=4;break;}}};k.prototype.mDb=function(n,p,q,v){var x7y,t;x7y=2;for(;x7y !== 3;){switch(x7y){case 2:var w2P="s";w2P+="t";w2P+="reamPres";w2P+="e";w2P+="nting";t=n.mediaType;l.qn.Bq(t);n={type:w2P,startPts:Math.floor(p),contentStartPts:Math.floor(q),mediaType:t,manifestIndex:v,trackIndex:n.track.QA,streamIndex:n.Ag};(0,f.kb)(this.tb,n.type,n);x7y=3;break;}}};M_N=15;break;case 13:k.prototype.lDb=function(n,p,q){var e9L;e9L=2;for(;e9L !== 4;){switch(e9L){case 2:var Q6E="seg";Q6E+="me";Q6E+="ntPrese";Q6E+="nting";q=q?this.BBb(n.id,q):void 0;n={type:Q6E,segmentId:n.id,contentOffset:p,metrics:q,playlistSegment:n.nG,manifestIndex:n.O.Vb};(0,f.kb)(this.tb,n.type,n);e9L=4;break;}}};k.prototype.jDb=function(n,p){var b9S;b9S=2;for(;b9S !== 5;){switch(b9S){case 2:var I05="s";I05+="egmentApp";I05+="e";I05+="nde";I05+="d";p={type:I05,segmentId:n.id,metrics:p};n.nG || (0,f.kb)(this.tb,p.type,p);b9S=5;break;}}};k.prototype.kDb=function(n,p,q){var a6t;a6t=2;for(;a6t !== 5;){switch(a6t){case 2:var y4W="s";y4W+="egm";y4W+="entC";y4W+="omplete";n={type:y4W,mediaType:n,manifestIndex:p,segmentId:q.id};(0,f.kb)(this.tb,n.type,n);a6t=5;break;}}};M_N=10;break;case 42:k.prototype.vgb=function(){var s8G,n;s8G=2;for(;s8G !== 3;){switch(s8G){case 1:var n45="s";n45+="trea";n45+="m";n45+="er";n45+="end";this.ZEb=!0;n={type:n45,time:d.default.time.fa()};(0,f.kb)(this.tb,n.type,n);s8G=3;break;case 2:s8G=!this.ZEb && this.tb.L.sgb?1:3;break;}}};k.prototype.Y7b=function(n){var k8n;k8n=2;for(;k8n !== 5;){switch(k8n){case 2:var q9r="s";q9r+="treamSelection";q9r+="Aug";q9r+="me";q9r+="ntData";n={type:q9r,augmentData:n,fragmentIndex:n[0].Vd};(0,f.kb)(this.tb,n.type,n);k8n=5;break;}}};M_N=40;break;case 30:k.prototype.QCb=function(){var D0A,n;D0A=2;for(;D0A !== 5;){switch(D0A){case 2:var d57="as";d57+="ere";d57+="portena";d57+="ble";d57+="d";n={type:d57};(0,f.kb)(this.tb,n.type,n);D0A=5;break;}}};k.prototype.$Cb=function(n){var j2L=R7xOY;var e2N,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,M,H;e2N=2;for(;e2N !== 6;){switch(e2N){case 3:p.report=n;e2N=9;break;case 4:e2N=this.tb.$X || this.tb.jz?3:9;break;case 1:var k$$="hin";k$$+="d";k$$+="sightrepor";k$$+="t";(p={type:k$$},q=this.tb.L.xba);for(M in q){var o1X="hvm";o1X+="a";o1X+="f";o1X+="d";o1X+="p";var T2W="hvma";T2W+="f";T2W+="g";T2W+="r";var C0u="h";C0u+="vma";C0u+="f";C0u+="t";C0u+="b";var K7Q="h";K7Q+="tw";K7Q+="br";v=q[M];t=0;w=0;u=0;x=0;y=0;z=0;B=void 0;A=void 0;C=!1;D=-1;E=-1;G=-1;F=-1;L=-1;O=-1;for(K in n){A=n[K];void 0 === A.nd && (B=(B=A.sols) && B[v]) && (C=!0,u+=B.dlvdur,t+=B.dltwbr * B.dlvdur,w+=B.dlvmaf * B.dlvdur);z+=A.pbdur;x+=A.pbtwbr * A.pbdur;y+=A.pbvmaf * A.pbdur;B=A.rr;A=A.ra;}0 < z && (D=1 * x / z,F=1 * y / z);C && (0 < u && (E=1 * t / u,L=1 * w / u),0 < u + z && (G=1 * (t + x) / (u + z),O=1 * (w + y) / (u + z)));switch(v){case K7Q:p.htwbr=G;p.hptwbr=E;p.pbtwbr=D;B && (p.rr=B,p.ra=A);break;case C0u:p.hvmaftb=O;p.hpvmaftb=L;p.pbvmaftb=F;B && (p.rrvmaftb=B,p.ravmaftb=A);break;case T2W:p.hvmafgr=O;p.hpvmafgr=L;p.pbvmafgr=F;B && (p.rrvmafgr=B,p.ravmafgr=A);break;case o1X:(p.hvmafdp=O,p.hpvmafdp=L,p.pbvmafdp=F,B && (p.rrvmafdp=B,p.ravmafdp=A));}}e2N=4;break;case 2:e2N=n?1:6;break;case 9:e2N=this.tb.jz?8:7;break;case 8:for(var I in n){if((q=n[I],void 0 !== q.Mmb))for(v in q.Mmb){if((B=q.Mmb[v],void 0 !== B.Fga)){var J9c=" an";J9c+="d";J9c+=" ";var T23="expec";T23+="t sol.strmsel.le";T23+="ngth === so";T23+="l.fragsel.lengt";T23+="h but got ";var L5S="expec";L5S+="t report.";L5S+="frag";L5S+="mentsP";L5S+="rebuffered !== undefined";var T4t="expec";T4t+="t report.fragmentsPrebuffered !==";T4t+=" u";T4t+="ndefined";(t=void 0 !== q.$7a) || (console.error(T4t),(0,h.assert)(t,L5S));M=[];for(H in q.$7a){t=q.$7a[H];M.push({ga:t.ga,no:t.duration / 1E3,quality:t.hb});}t=B.Fga.length === B.a8a.length;w=T23 + B.Fga.length + J9c + B.a8a.length;t || (console.error(w),(0,h.assert)(t,w));M=[];t=0;for(var J in B.Fga){u=B.Fga[J];w=B.a8a[J];j2L.e_n(6);t=u=j2L.p3p(u,t);M.push({Mxc:u,uyc:B.c6a[J],luc:B.Ya[J],uqa:B.uqa[J],tqa:B.tqa[J],M1a:B.M1a[J],Btc:{ga:w.ga,no:w.duration / 1E3,quality:w.hb?w.hb:B.Lc[u].hb,Vxc:w.Ag,Ctc:w.Je},Ajb:0,jxc:0,GBa:B.GBa[J]});}B=[];M=0;for(var N in q.bD.trace){t=q.bD.trace[N];j2L.e_n(6);M=t=j2L.p3p(t,M);B.push(t);}}}}e2N=7;break;case 7:(0,f.kb)(this.tb,p.type,p);e2N=6;break;}}};k.prototype.WCb=function(n){var n9s;n9s=2;for(;n9s !== 5;){switch(n9s){case 2:var O7B="e";O7B+="ndOfSt";O7B+="ream";n={type:O7B,mediaType:n};(0,f.kb)(this.tb,n.type,n);n9s=5;break;}}};k.prototype.xp=function(n){var R2w;R2w=2;for(;R2w !== 1;){switch(R2w){case 2:var S17="asee";S17+="x";S17+="cep";S17+="tio";S17+="n";var A27="a";A27+="seexcept";A27+="i";A27+="o";A27+="n";this.tb.emit(A27,{type:S17,msg:n});R2w=1;break;}}};M_N=43;break;case 9:k.prototype.fDb=function(n,p,q,v){var t74;t74=2;for(;t74 !== 5;){switch(t74){case 2:var c3c="maxP";c3c+="ositio";c3c+="n";n={type:c3c,index:n,endPts:p,maxPts:q,maxSeekPts:v};(0,f.kb)(this.tb,n.type,n);t74=5;break;}}};k.prototype.oDb=function(n,p,q,v,t,w,u){var N_B;N_B=2;for(;N_B !== 3;){switch(N_B){case 5:var d$u="notifyS";d$u+="treamingErr";d$u+="or: ";this.H.error(d$u + JSON.stringify(n));(0,f.kb)(this.tb,n.type,n);N_B=3;break;case 2:var J8z="er";J8z+="r";J8z+="o";J8z+="r";void 0 === u && (u=!1);n={type:J8z,error:n,errormsg:p,networkErrorCode:q,httpCode:v,nativeCode:t,manifestIndex:w,temporaryFailure:u};N_B=5;break;}}};k.prototype.o7=function(n,p){var b3o;b3o=2;for(;b3o !== 5;){switch(b3o){case 2:var I2L="se";I2L+="g";I2L+="m";I2L+="entStartin";I2L+="g";p={type:I2L,segmentId:n.id,contentOffset:p,maxBitrates:{audio:n.O.eu[m.u.T],video:n.O.eu[m.u.J]}};n.nG || (0,f.kb)(this.tb,p.type,p);b3o=5;break;}}};k.prototype.$na=function(n){var P8K,p;P8K=2;for(;P8K !== 5;){switch(P8K){case 2:var s_l="seg";s_l+="m";s_l+="entAbor";s_l+="ted";p={type:s_l,segmentId:n.id};P8K=1;break;case 1:n.nG || (0,f.kb)(this.tb,p.type,p);P8K=5;break;}}};k.prototype.BBb=function(n,p){var z7x,q,v;z7x=2;for(;z7x !== 12;){switch(z7x){case 2:var T5Q="re";T5Q+="se";T5Q+="t";var m9q="s";m9q+="k";m9q+="i";m9q+="p";var j$9="l";j$9+="o";j$9+="n";j$9+="g";var i40="l";i40+="o";i40+="n";i40+="g";var O_Q="s";O_Q+="ea";O_Q+="mless";(q={segment:n,srcsegment:p.tga,srcoffset:p.rS,seamlessRequested:p.Re,atRequest:{},discard:{}},v=p.Oe[n]);v?q.atRequest={weight:v.weight,abuflmsec:v.vt.jt,vbuflmsec:v.vt.Kp,abuflbytes:v.vt.qE,vbuflbytes:v.vt.Qu}:(v=this.tb.ab.y$a(p.tga,n),void 0 !== v && (q.atRequest.weight=v));c.qg(p.Oe,function(t,w){var x$z;x$z=2;for(;x$z !== 1;){switch(x$z){case 2:w != n && (q.discard[w]={weight:t.weight,abuflmsec:t.vt.jt,vbuflmsec:t.vt.Kp,abuflbytes:t.vt.qE,vbuflbytes:t.vt.Qu});x$z=1;break;}}});v=p.Re?p.nZ?O_Q:i40:p.Sfb?j$9:p.ro?m9q:T5Q;z7x=3;break;case 3:var W_j="seamle";W_j+="s";W_j+="s";q.transitionType=v;p.Fsa || (q.delayToTransition=p.c$);v=W_j === v?0:d.default.time.fa() - p.startTime;q.durationOfTransition=v;q.atTransition=p.Kob;q.srcsegmentduration=this.tb.ab.yZb(p.tga);return q;break;}}};M_N=13;break;case 43:k.prototype.R7b=function(n,p,q,v){var B0Z;B0Z=2;for(;B0Z !== 5;){switch(B0Z){case 2:var C4S="maxvideo";C4S+="b";C4S+="itr";C4S+="atech";C4S+="anged";var m_u="maxvid";m_u+="eobitra";m_u+="techanged";n={type:m_u,time:d.default.time.fa(),spts:v,maxvb_old:n,maxvb:p,reason:q};this.tb.emit(C4S,n);B0Z=5;break;}}};M_N=42;break;case 2:k.prototype.An=function(n){var V6H;V6H=2;for(;V6H !== 5;){switch(V6H){case 2:var z0D="s";z0D+="ta";z0D+="rt";z0D+="Eve";z0D+="nt";n={type:z0D,event:n,time:d.default.time.fa()};(0,f.kb)(this.tb,n.type,n);V6H=5;break;}}};k.prototype.hDb=function(){var J3f,n;J3f=2;for(;J3f !== 5;){switch(J3f){case 2:var l$W="op";l$W+="enC";l$W+="omplete";n={type:l$W};(0,f.kb)(this.tb,n.type,n);J3f=5;break;}}};k.prototype.iDb=function(n,p,q,v,t){var h3E;h3E=2;for(;h3E !== 1;){switch(h3E){case 2:var r4B="pt";r4B+="s";r4B+="Starts";this.tb.L.iRb || (n={type:r4B,manifestIndex:n,mediaType:p,movieId:v,streamId:q,ptsStarts:t.$mb()},(0,f.kb)(this.tb,n.type,n));h3E=1;break;}}};k.prototype.ZCb=function(n,p){var t1G;t1G=2;for(;t1G !== 5;){switch(t1G){case 2:var G5H="he";G5H+="a";G5H+="derCach";G5H+="eHit";n={type:G5H,movieId:n,streamId:p};(0,f.kb)(this.tb,n.type,n);t1G=5;break;}}};k.prototype.YCb=function(n,p,q,v,t){var V1K,w;V1K=2;for(;V1K !== 3;){switch(V1K){case 2:var l$A="headerC";l$A+="ache";l$A+="DataHit";w=this.tb.qYa;this.tb.qYa=void 0;n={type:l$A,movieId:n,audio:p,audioFromMediaCache:v,video:q,videoFromMediaCache:t,actualStartPts:w && w.kq,headerCount:w && w.eQ,stats:w && w.dc};(0,f.kb)(this.tb,n.type,n);V1K=3;break;}}};M_N=9;break;case 40:k.prototype.fo=function(n){var R_s;R_s=2;for(;R_s !== 5;){switch(R_s){case 2:var T2C=",";T2C+=" ";var W8t="ma";W8t+="na";W8t+="g";W8t+="erdebuge";W8t+="vent";n={type:W8t,message:"@" + d.default.time.fa() + T2C + n};(0,f.kb)(this.tb,n.type,n);R_s=5;break;}}};return k;break;case 34:k.prototype.gZa=function(){var Z74,w,u,t,p,q,v,n;Z74=2;for(;Z74 !== 12;){switch(Z74){case 8:var g79="updateBuff";g79+="erLev";g79+="el";(w=this.tb.ab,u=w.SI(p,m.u.T));p=w.SI(p,m.u.J);q={type:g79,abuflbytes:u,vbuflbytes:p,totalabuflmsecs:q,totalvbuflmsecs:v,currentBandwidth:t};v > n.mfb && this.tb.Nc.tg && this.tb.Nc.tg.FI(!0,this.tb.yn.sessionId);(0,f.kb)(this.tb,q.type,q);Z74=12;break;case 4:this.tb.Zh.iGb(q,v);t=this.tb.Nc.Ac.get();t=t.confidence?t.Ya.xa:0;Z74=8;break;case 5:(p=this.tb.ab.md,q=p.Nh(m.u.T),v=p.Nh(m.u.J));Z74=4;break;case 1:Z74=!this.tb.Lo()?5:12;break;case 2:n=this.tb.L;Z74=1;break;}}};k.prototype.nCb=function(n){var R7I,p,q,v;R7I=2;for(;R7I !== 7;){switch(R7I){case 4:var i80=", osAll";i80+="oc";i80+="atorD";i80+="elta: ";var I9X=", jsHeapDel";I9X+="ta";I9X+=": ";var J8n=",";J8n+=" ";J8n+="fastMa";J8n+="llocDelta: ";var e7n="memoryUsage at ";e7n+="t";e7n+="im";e7n+="e: ";(p=n.f7a - this.RN.f7a,q=n.Dab - this.RN.Dab,v=n.chb - this.RN.chb);(4194304 < p || 4194304 < v) && this.H.warn(e7n + d.default.time.fa() + J8n + p + I9X + q + i80 + v);R7I=9;break;case 5:R7I=!c.wa(this.RN)?4:8;break;case 8:this.RN=n;R7I=7;break;case 9:var t$l=", syst";t$l+="emD";t$l+="el";t$l+="ta: ";var C1c="memoryUs";C1c+="age at ti";C1c+="me: ";c.Oa(n.j2) && c.Oa(this.RN.j2) && (p=n.j2 - this.RN.j2,4194304 < p && this.H.warn(C1c + d.default.time.fa(),t$l + p));R7I=8;break;case 2:R7I=!c.wa(n)?1:7;break;case 1:c.Oa(n.j2);R7I=5;break;}}};k.prototype.qDb=function(){var b$i,n;b$i=2;for(;b$i !== 3;){switch(b$i){case 2:var P_c="s";P_c+="tream";P_c+="ingst";P_c+="at";this.tb.L.V4b && d.default.memory.LXb(this.nCb.bind(this));n={type:P_c,time:d.default.time.fa(),playbackTime:this.tb.X.eg()};this.tb.Zh.oUb(n);(0,f.kb)(this.tb,n.type,n);b$i=3;break;}}};k.prototype.fZa=function(){var g_T,n;g_T=2;for(;g_T !== 4;){switch(g_T){case 1:var h$1="a";h$1+="s";h$1+="erepo";h$1+="rt";n={type:h$1};this.tb.dn.mUb(n) && (0,f.kb)(this.tb,n.type,n);g_T=4;break;case 2:g_T=this.tb.dn?1:4;break;}}};M_N=30;break;case 35:k.prototype.Yna=function(){var m50,n,p,q,v,t;m50=2;for(;m50 !== 8;){switch(m50){case 3:this.tb.Zh.nUb({initSelReason:v.XB,initSelectionPredictedDelay:v.WB,buffCompleteReason:v.Ev,hashindsight:this.tb.Jt,hasasereport:!!this.tb.dn,bcVBufferLevelMs:n.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs});(0,f.kb)(this.tb,n.type,n);m50=8;break;case 2:var E5Z="bufferi";E5Z+="ngCom";E5Z+="plete";(n=this.tb.ab.md,p=n.gb(m.u.T),q=n.gb(m.u.J));this.gZa();(v=this.tb.Ao?this.tb.Qb.YC[g.J]:this.tb.Qb.YC[g.T],t=v.aX);n={type:E5Z,time:d.default.time.fa(),actualStartPts:t,aBufferLevelMs:n.Nh(m.u.T),vBufferLevelMs:n.Nh(m.u.J),selector:q?q.x1:p.x1,initBitrate:v.qy,skipbackBufferSizeBytes:this.tb.Nc.qga};m50=3;break;}}};M_N=34;break;}}})();b.ZQa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.fNa=void 0;c=a(0);r=a(13);l=c.__importStar(a(12));a(2);a(265);g=a(190);m=a(433);d=a(91);a(432);a(440);f=a(118);h=c.__importDefault(a(29));a(437);k=a(1079);n=c.__importDefault(a(187));p=a(6);q=c.__importDefault(a(3));a(195);a(272);a(193);a(196);a(116);v=new q.default.Console("HEADERCACHE","media|asejs");a=new q.default.Console("MEDIACACHE","media|asejs");t=q.default.tM;w=v.trace.bind(v);a.trace.bind(a);u=v.warn.bind(v);x=v.error.bind(v);y=v.info.bind(v);a=(function(z){var W8g;W8g=2;function B(A,C,D,E){var D$I;D$I=2;for(;D$I !== 25;){switch(D$I){case 15:var F$7="1S";F$7+="IYbZrNJ";F$7+="C";F$7+="p";F$7+="9";A.yn=D;F$7;return A;break;case 11:A.K6=!1;A.BN=[];A.qI={};A.Noa=(A.aq.ZGa || A.aq.$Ga) && 0 < (A.aq.OX || (q.default.options || ({})).RQ || 0);A.gI=A.aq.Wza;A.Tk=void 0;A.Noa && (A.aq.OX || (C=(q.default.options || ({})).RQ || 0,A.aq.set?A.aq.set({OX:C}):A.aq.OX=(q.default.options || ({})).RQ || 0),A.Tk=new k.aQa(A.aq,q.default,A),A.Tk.oa(A,E).then(function(){var q2s;q2s=2;for(;q2s !== 1;){switch(q2s){case 2:var X41="Media cache ";X41+="init";X41+="ialize";X41+="d";w(X41);q2s=1;break;}}}).catch(function(G){var o5h;o5h=2;for(;o5h !== 1;){switch(o5h){case 2:var x8p="Me";x8p+="dia cache did not";x8p+=" initial";x8p+="ize";x(x8p,G);o5h=1;break;case 4:x("",G);o5h=3;break;}}}));D$I=15;break;case 6:A.TH=0;A.Ig=[];A.OYa=C.X9;A.Ox=[];D$I=11;break;case 1:A.fk=w;A.Ll=x;A.ac=u;A.zsc=y;A.X6=Object.create(null);A.aq=C;A.sd=Object.create(null);D$I=6;break;case 2:A=z.call(this) || this;D$I=1;break;}}}for(;W8g !== 39;){switch(W8g){case 25:B.prototype.xCb=function(A,C,D){var Z$D,G,E;Z$D=2;for(;Z$D !== 8;){switch(Z$D){case 3:G=D && D.length < A.a5a?D.length:A.a5a;return function(F){var u50=R7xOY;var x0t;x0t=2;for(;x0t !== 1;){switch(x0t){case 2:u50.o4M(28);return u50.p3p(F,G);break;case 4:u50.e_n(29);return u50.h1T(F,G);break;}}};break;case 4:return function(F,L){var M81=R7xOY;var C$Q;C$Q=2;for(;C$Q !== 1;){switch(C$Q){case 4:M81.o4M(30);return M81.h1T(E,L);break;case 2:M81.o4M(28);return M81.p3p(L,E);break;}}};break;case 5:Z$D=0 < E?4:3;break;case 2:E=A.W9;C.Ui && this.Tk && (A.Veb?E=A.Veb:A.Deb && 0 < A.Deb && (E=2E3 * A.Deb));Z$D=5;break;}}};B.prototype.roa=function(A,C){var J1g,H,J,M,L,I,D,E,G,F,O,K;J1g=2;for(;J1g !== 53;){switch(J1g){case 21:M=G=0;(H=I && I.mediaType,J=H === h.default.de.J?F.xda:F.oda);J1g=34;break;case 38:G+=I.duration;J1g=37;break;case 16:I.Ui=A.Ui;M=I.hua(C);M && (I.mediaType === h.default.de.T && !F.F_ && M.ue < (F.Hm && !F.GI && G.Gf?Math.floor(G.Gf.Z):0) && (++M.sj,M.ue+=I.da.Z),0 < M.sj && I.tj({start:M.sj}));J1g=26;break;case 43:++H;J1g=28;break;case 4:J1g=this.BN.length > F.l0b?3:53;break;case 37:I=void 0;J1g=36;break;case 5:this.BN.push({p0b:A,ue:C});J1g=4;break;case 1:J1g=this.K6?5:9;break;case 3:this.BN.shift();J1g=4;break;case 13:return;break;case 42:var h6e="u";h6e+="nd";h6e+="e";h6e+="fin";h6e+="ed";l.wa(L.kq) && (L.kq=I.ca);I.Ui && (I.responseType=0);A.Ui && this.Tk && A.D_ && A.D_[E] && h6e !== typeof I.ca && A.D_[E][I.ca] || (H=this.BAb(I,A.Le),H.Ui && (H.eo=A.eo),H.SK(),++L.BX,C.push(H));++M;J1g=38;break;case 12:C=L.kq;J1g=11;break;case 34:F=H === h.default.de.J?F.U6b:F.L6b;J1g=33;break;case 9:L=this.sd[D] || A.eo;J1g=8;break;case 44:(I.q8(O.get(H)),I.aR=H + 1,K=H);J1g=43;break;case 54:L.Hsa && !l.wa(L.kq) && (A=L.Hsa,delete L.Hsa,this.roa(A,L.kq));J1g=53;break;case 17:J1g=!l.wa(I)?16:25;break;case 30:J1g=!l.wa(O) && !I.Ka?29:42;break;case 33:J1g=K < (O && O.length || 0) && !D(M,G)?32:54;break;case 28:J1g=H < O.length && (I.ga < J || I.duration < F)?44:42;break;case 29:R7xOY.o4M(6);H=R7xOY.p3p(1,K);J1g=28;break;case 25:void 0 === L.data && (L.data={});void 0 === L.data[E] && (L.data[E]=[]);C=L.data[E];D=this.xCb(F,A,O);J1g=21;break;case 18:I=A.stream.Zl(K);J1g=17;break;case 7:J1g=A.mediaType === h.default.de.T?6:11;break;case 31:I.Ui=A.Ui;J1g=30;break;case 2:(D=A.K,E=A.Sa,G=A.stream,F=A.Le);J1g=1;break;case 19:var R$Z="no prope";R$Z+="r ";R$Z+="fragment ";R$Z+="found to request data at pts";x(R$Z,C);J1g=53;break;case 8:J1g=L?7:53;break;case 11:A.mediaType === h.default.de.T && F.Hm && !F.GI && G.Gf && (C=Math.max(G.ma && G.ma.Dl(0) || 0,C + G.Gf.Z));(O=A.stream.ma,K=O && O.kp(C));J1g=20;break;case 20:J1g=-1 === K || void 0 === K?19:18;break;case 32:J1g=(void 0 === I && (I=A.stream.Zl(K)),void 0 !== I)?31:36;break;case 26:var j_8="manag";j_8+="erdebu";j_8+="gev";j_8+="ent";var o40=", s";o40+="tartPt";o40+="s";o40+=": ";var w6n=",";w6n+=" ";w6n+="pt";w6n+="s";w6n+=": ";var B0O=", s";B0O+="t";B0O+="r";B0O+="eam";B0O+="Id: ";var b91=", ";b91+="headerCache requestDat";b91+="a: movieId: ";F.kj && (C="@" + q.default.time.fa() + b91 + D + B0O + E + w6n + C + o40 + I.ca,this.emit(j_8,{message:C}));J1g=25;break;case 36:++K;J1g=33;break;case 6:J1g=void 0 === L.kq?14:12;break;case 14:L.Hsa=A;J1g=13;break;}}};B.prototype.Rzb=function(A){var M8j;M8j=2;for(;M8j !== 1;){switch(M8j){case 2:this.jXa(A,A.eo);M8j=1;break;case 4:this.jXa(A,A.eo);M8j=7;break;}}};W8g=22;break;case 14:B.prototype.d5b=function(A){var X7h;X7h=2;for(;X7h !== 1;){switch(X7h){case 4:return this.Qib(this.sd[A]);break;case 2:return this.Qib(this.sd[A]);break;}}};B.prototype.J7a=function(){function C(L,O){var Z6L;Z6L=2;for(;Z6L !== 1;){switch(Z6L){case 2:L && L.data && L.data[O].forEach(function(K){var i2S;i2S=2;for(;i2S !== 5;){switch(i2S){case 2:K.abort();D+=K.bytesReceived;i2S=5;break;}}});Z6L=1;break;}}}function A(L){var r8m;r8m=2;for(;r8m !== 1;){switch(r8m){case 2:L.Q2a();r8m=1;break;}}}var A0S,D,E,G;A0S=2;for(;A0S !== 4;){switch(A0S){case 2:D=0;for(E in this.sd){G=this.sd[E];if(G.data){for(var F in G.data){var L6x="in ent";L6x+="r";L6x+="y:";var J$m="missing headerEntry ";J$m+="for stream";J$m+="I";J$m+="d:";G.headers[F] || x(J$m,F,L6x,G);C(G,F);G.data[F].forEach(A);delete G.data[F];}delete G.data;}}this.pEb(D);A0S=4;break;}}};B.prototype.xC=function(A){var k4Q,C;k4Q=2;for(;k4Q !== 5;){switch(k4Q){case 2:C=this.sd[A.K];C && (this.Hc(A)?l.wa(C.dc.r0b) && !l.wa(A.loadTime) && (C.dc.r0b=A.loadTime):l.wa(C.dc.uib) && !l.wa(A.loadTime) && (C.dc.uib=A.loadTime));k4Q=5;break;}}};W8g=11;break;case 16:B.prototype.pCb=function(){var s4z,A;s4z=2;for(;s4z !== 5;){switch(s4z){case 2:A=this;!this.K6 && 0 < this.BN.length && (this.BN.forEach(function(C){var X8P;X8P=2;for(;X8P !== 1;){switch(X8P){case 2:A.roa(C.p0b,C.ue);X8P=1;break;}}}),this.BN=[]);s4z=5;break;}}};B.prototype.BXa=function(A,C){var C_q,D;C_q=2;for(;C_q !== 8;){switch(C_q){case 2:D=A.stream.mediaType;2 > this.Ox.length && this.DXa();C=new m.fia(A.stream,C,this.Ox[D],A,this,!0,v);C.Ui=A.Ui;C.tg=this;return C;break;}}};B.prototype.BAb=function(A,C){var q4T,D;q4T=2;for(;q4T !== 8;){switch(q4T){case 2:D=A.stream.mediaType;2 > this.Ox.length && this.DXa();C=g.pT.create(A.stream,C,this.Ox[D].track,A,this,!0,v);q4T=4;break;case 4:C.Ui=A.Ui;C.tg=this;return C;break;}}};B.prototype.x6=function(A){var k$w,C;k$w=2;for(;k$w !== 9;){switch(k$w){case 2:var q9E="sa";q9E+="v";q9E+="etodis";q9E+="k";this.Hc(A) && delete this.X6[A.Sa];this.Hc(A) || delete A.response;A.ud();C=this.sd[A.K] || A.eo;C && 0 === C.Bab && 0 === C.BX && (this.IEb(C,A.ug),C.Ui && this.Tk && (C.dc.mwc || (this.gI?this.Tk.Vec(C):this.Tk.gS(q9E,{alb:C.dc.Hu}))));k$w=9;break;}}};W8g=25;break;case 5:B.prototype.VQb=function(){var I88;I88=2;for(;I88 !== 5;){switch(I88){case 3:this.flush();this.IXa();I88=6;break;case 2:this.flush();this.IXa();I88=5;break;}}};B.prototype.mha=function(A){var w7y;w7y=2;for(;w7y !== 5;){switch(w7y){case 2:this.yn=A;this.Ox.forEach(function(){});w7y=5;break;}}};B.prototype.FI=function(A,C,D){var o54,E,G;o54=2;for(;o54 !== 9;){switch(o54){case 2:(E=this.qI,G=A);o54=1;break;case 4:D && delete E[C];G?(this.K6=!1,this.pCb()):this.K6=!0;o54=9;break;case 5:for(var F in E){E.hasOwnProperty(F) && !1 === E[F] && (G=!1);}o54=4;break;case 1:o54=(E[C]=A)?5:4;break;case 6:o54=(E[C]=A)?0:6;break;case 7:(E=this.qI,G=A);o54=5;break;}}};B.prototype.flush=function(){var F3m,C;F3m=2;for(;F3m !== 8;){switch(F3m){case 3:var s8W="managerde";s8W+="bugev";s8W+="ent";var e_0=", he";e_0+="aderCache";e_0+=" flush: ";this.Ig=[];this.aq.kj && (C="@" + q.default.time.fa() + e_0,this.emit(s8W,{message:C}));F3m=8;break;case 2:this.J7a();for(var A in this.X6){C=this.X6[A];C.abort();}this.sd=Object.create(null);this.TH=0;F3m=3;break;}}};B.prototype.list=function(){var W8f;W8f=2;for(;W8f !== 1;){switch(W8f){case 2:return this.Ig;break;}}};B.prototype.n_=function(A,C){var R6R;R6R=2;for(;R6R !== 4;){switch(R6R){case 2:R6R=(A=this.sd[A])?1:4;break;case 9:R6R=(A=this.sd[A])?5:2;break;case 1:R6R=(C=A.headers[C])?5:4;break;case 7:return C;break;case 5:return C;break;}}};B.prototype.e5b=function(A,C){var N6y,D,E;N6y=2;for(;N6y !== 5;){switch(N6y){case 2:(D=this,E=this.d5b(A));return E || !this.Tk?Promise.resolve(E):(this.gI?this.kCb(A,C):this.jCb(A,C)).then(function(G){var X4V;X4V=2;for(;X4V !== 1;){switch(X4V){case 2:return D.Qib(G);break;case 4:return D.Qib(G);break;}}});break;}}};W8g=14;break;case 2:c.__extends(B,z);Object.defineProperties(B.prototype,{cache:{get:function(){var O2T;O2T=2;for(;O2T !== 1;){switch(O2T){case 2:return this.sd;break;}}},enumerable:!1,configurable:!0}});W8g=5;break;case 11:B.prototype.ql=function(A){var p_7;p_7=2;for(;p_7 !== 1;){switch(p_7){case 2:this.Hc(A)?this.u9b(A):this.v9b(A);p_7=1;break;}}};B.prototype.n0=function(A){var c_V;c_V=2;for(;c_V !== 5;){switch(c_V){case 2:var v1U="_";v1U+="o";v1U+="nError: ";u(v1U,A.toString());this.x6(A);c_V=5;break;}}};B.prototype.u9b=function(A){var O4j,C;O4j=2;for(;O4j !== 9;){switch(O4j){case 2:C=this;A.wjc=A.ug;this.Rzb(A);l.wa(A.m0b) || A.m0b(A.wjc);O4j=3;break;case 3:this.tEb(A,function(){var p_e;p_e=2;for(;p_e !== 1;){switch(p_e){case 2:l.wa(A) || (l.wa(A.eo) || A.eo.Bab--,C.x6(A));p_e=1;break;}}});O4j=9;break;}}};B.prototype.v9b=function(A){var i6F,C,D,E,G;i6F=2;for(;i6F !== 8;){switch(i6F){case 9:(--E.BX,C.x6(A));i6F=8;break;case 2:(C=this,D=A.K,E=this.sd[D] || A.eo);i6F=1;break;case 1:i6F=E?5:8;break;case 5:var E0K="man";E0K+="agerdebuge";E0K+="ven";E0K+="t";var I35=", ";I35+="re";I35+="maining: ";var d2h=", pt";d2h+="s:";d2h+=" ";var R15=", ";R15+="strea";R15+="m";R15+="Id:";R15+=" ";var N2v=", ";N2v+="heade";N2v+="rCache d";N2v+="ataComplete: mov";N2v+="ieId: ";i6F=(this.aq.kj && (D="@" + q.default.time.fa() + N2v + D + R15 + A.Sa + d2h + A.ca + I35 + (E.BX - 1),this.emit(E0K,{message:D})),A.Ui && 0 === A.responseType && this.Tk && !this.gI)?4:9;break;case 4:G=q.default.time.now();this.Tk.Tec(A,E,function(F){var f_8;f_8=2;for(;f_8 !== 4;){switch(f_8){case 2:F || l.wa(E) || (F=q.default.time.fa() - G,l.wa(E.dc) && (E.dc={}),l.wa(E.dc.Hu) && (E.dc.Hu=0),E.dc.Hu+=F);--E.BX;C.x6(A);f_8=4;break;}}});i6F=8;break;}}};B.prototype.DXa=function(){var v4P;v4P=2;for(;v4P !== 1;){switch(v4P){case 2:0 === this.Ox.length && (this.Ox=[f.Do.instance.Dt(p.u.T,void 0,!1,!1,this.yn,this.aq),f.Do.instance.Dt(p.u.J,void 0,!1,!1,this.yn,this.aq)],this.Ox.forEach(function(A){var T_G;T_G=2;for(;T_G !== 1;){switch(T_G){case 2:return A.oa();break;}}}),t.Tf());v4P=1;break;}}};B.prototype.IXa=function(){var u7H,A;u7H=2;for(;u7H !== 4;){switch(u7H){case 2:A=this.Ox;this.Ox=[];A.forEach(function(C){var u7P;u7P=2;for(;u7P !== 1;){switch(u7P){case 2:f.Do.instance.kJ(C);u7P=1;break;}}});u7H=4;break;}}};W8g=16;break;case 22:B.prototype.Qzb=function(A,C){var H3l;H3l=2;for(;H3l !== 1;){switch(H3l){case 2:this.jXa(A,C);H3l=1;break;}}};B.prototype.jXa=function(A,C){var N6I,D;N6I=2;for(;N6I !== 4;){switch(N6I){case 1:N6I=(C=this.sd[A.K] || C)?5:4;break;case 5:(C.TGb || C.Ui && !this.gI || (C.TGb=!0,++this.TH),C.headers || (C.headers={}),C.headers[D]=A,this.aq.SSb && (C.eQ || (C.eQ=0),++C.eQ),this.Ima());N6I=4;break;case 9:D=A.Sa;N6I=2;break;case 2:D=A.Sa;N6I=1;break;}}};B.prototype.Ima=function(){var h4l,E,C,D;h4l=2;function A(F){var s6x;s6x=2;for(;s6x !== 5;){switch(s6x){case 2:F.abort();D+=F.bytesReceived;s6x=5;break;}}}for(;h4l !== 12;){switch(h4l){case 8:for(var G in C.data){C.data[G].forEach(A);delete C.data[G];}h4l=7;break;case 9:h4l=C.data?8:7;break;case 4:h4l=(C=this.Ig.shift())?3:5;break;case 3:E=C.K;h4l=9;break;case 13:this.nEb(D);h4l=12;break;case 1:h4l=!(this.TH <= this.OYa)?5:12;break;case 7:delete this.sd[E];--this.TH;h4l=14;break;case 2:D=0;h4l=1;break;case 5:h4l=this.TH > this.OYa?4:13;break;case 14:this.mEb(E);h4l=5;break;}}};W8g=34;break;case 44:B.prototype.kXa=function(A,C){var z9_,F,D,E,G;z9_=2;for(;z9_ !== 7;){switch(z9_){case 9:F=C.data;Object.keys(F).forEach(function(L){var q2P,O,K;q2P=2;for(;q2P !== 9;){switch(q2P){case 2:O=F[L];l.wa(E.data) && (E.data={});l.wa(E.data[L]) && (E.data[L]=[]);K=E.data;q2P=3;break;case 3:O.forEach(function(I){var a8m;a8m=2;for(;a8m !== 1;){switch(a8m){case 2:K[L].push(I);a8m=1;break;case 4:K[L].push(I);a8m=5;break;}}});q2P=9;break;}}});z9_=7;break;case 1:z9_=C?5:7;break;case 2:D=this;z9_=1;break;case 5:(E=this.sd[A],G=C.headers);E && G && Object.keys(G).forEach(function(L){var c8L;c8L=2;for(;c8L !== 1;){switch(c8L){case 2:D.Qzb(G[L],E);c8L=1;break;case 4:D.Qzb(G[L],E);c8L=6;break;}}});z9_=3;break;case 3:z9_=C.data?9:7;break;}}};B.prototype.Iib=function(A,C){var p2U;p2U=2;for(;p2U !== 1;){switch(p2U){case 2:return C.priority - A.priority;break;}}};B.prototype.Qib=function(A){var b8i,C,D,E;b8i=2;for(;b8i !== 11;){switch(b8i){case 2:C={};b8i=1;break;case 1:b8i=A && A.data?5:11;break;case 5:for(D in A.data){E=A.data[D];0 < E.length && (C[E[0].mediaType]={Sa:D,header:A.headers[D],data:E});}C.kq=A.kq;C.eQ=A.eQ;C.dc=A.dc;C.qy=A.qy;C.XB=A.XB;C.zF=A.zF;b8i=14;break;case 14:C.Fq=A.Fq;C.Gq=A.Gq;return C;break;}}};B.prototype.Hc=function(A){var X3u;X3u=2;for(;X3u !== 1;){switch(X3u){case 4:return -+A.Hc;break;case 2:return !!A.Hc;break;}}};W8g=40;break;case 34:B.prototype.nEb=function(A){var P4_;P4_=2;for(;P4_ !== 1;){switch(P4_){case 2:var I_x="disca";I_x+="rd";I_x+="edBy";I_x+="te";I_x+="s";0 !== A && (A={type:I_x,bytes:A},this.emit(A.type,A));P4_=1;break;}}};B.prototype.pEb=function(A){var S$M;S$M=2;for(;S$M !== 1;){switch(S$M){case 2:var G1K="flus";G1K+="hedByt";G1K+="es";0 !== A && (A={type:G1K,bytes:A},this.emit(A.type,A));S$M=1;break;}}};B.prototype.mEb=function(A){var Y_j;Y_j=2;for(;Y_j !== 5;){switch(Y_j){case 2:var o_E="c";o_E+="ach";o_E+="eEvict";A={type:o_E,movieId:A};this.emit(A.type,A);Y_j=5;break;}}};B.prototype.tEb=function(A,C){var E_X,D;E_X=2;for(;E_X !== 3;){switch(E_X){case 4:D.WGa || 0 !== Object.keys(this.X6).length || this.IXa();E_X=3;break;case 2:D=A.Le;l.wa(A.Vdc) || this.roa(A,A.Vdc);!this.Tk || !A.Ui || this.gI || l.wa(A.D_) || A.D_[A.Sa] && A.D_[A.Sa].header?C():this.Tk.Uec(A,C);E_X=4;break;}}};W8g=30;break;case 30:B.prototype.IEb=function(A,C){var d2Q;d2Q=2;for(;d2Q !== 4;){switch(d2Q){case 2:var s8O="pr";s8O+="e";s8O+="buf";s8O+="fst";s8O+="ats";A.dc.Eac=C;A={type:s8O,movieId:A.K,stats:{prebuffstarted:A.dc.uib,prebuffcomplete:A.dc.Eac}};this.emit(A.type,A);d2Q=4;break;}}};B.prototype.kCb=function(A,C){var G13,D;G13=2;for(;G13 !== 5;){switch(G13){case 2:var P7u="Media cac";P7u+="he is";P7u+=" not enabled";D=this;return this.Tk?this.Tk.I4b(A,C).then(function(E){var b7n;b7n=2;for(;b7n !== 5;){switch(b7n){case 1:return (D.sd[A]=E.eo,++D.TH,D.Ima(),D.Ig.push(E.eo),D.Ig.sort(D.Iib),D.kXa(A,E),D.cache[A]);break;case 3:b7n=E || E.eo?3:1;break;case 2:b7n=E && E.eo?1:5;break;}}}):Promise.reject(P7u);break;}}};B.prototype.jCb=function(A,C){var u2e,E,G,D;u2e=2;for(;u2e !== 8;){switch(u2e){case 3:return E.then(function(F){var N7U;N7U=2;for(;N7U !== 1;){switch(N7U){case 2:return !l.wa(F) && D.Tk?D.Tk.G4b(A,C,F).then(function(L){var u8g;u8g=2;for(;u8g !== 5;){switch(u8g){case 2:L && (G || (D.sd[A]=F,++D.TH,D.Ima(),D.Ig.push(F),D.Ig.sort(D.Iib)),D.kXa(A,L));return D.sd[A];break;}}}):Promise.resolve(void 0);break;}}});break;case 5:(E=void 0,G=!1);this.Tk.bcb(this.sd[A])?(E=Promise.resolve(this.sd[A]),G=!0):E=this.Tk.K4b(A);u2e=3;break;case 1:u2e=this.Tk?5:9;break;case 9:var f5K="M";f5K+="edia cache is not ";f5K+="enabled";return Promise.reject(f5K);break;case 2:D=this;u2e=1;break;}}};W8g=44;break;case 40:return B;break;}}})(d.bx);b.fNa=a;(0,n.default)(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aQa=void 0;c=a(0);l=a(13);g=c.__importStar(a(1080));m=c.__importStar(a(12));a(2);d=a(190);f=a(8);r=a(35);h=c.__importStar(a(1091));k=h.xPa;a=(function(){var Q2M;function n(p,q,v){var n63;n63=2;for(;n63 !== 12;){switch(n63){case 13:var E3l="1SI";E3l+="Yb";E3l+="ZrNJCp9";E3l;n63=12;break;case 2:var j$w="med";j$w+="ia|a";j$w+="sejs";var N4r="MED";N4r+="IACAC";N4r+="H";N4r+="E";this.H=new q.Console(N4r,j$w);this.Noa=(p.ZGa || p.$Ga) && 0 < (p.OX || (q.options || ({})).RQ || 0);this.ZAb=p.FSb?p.FSb:!1;this.gI=p.Wza?p.Wza:!1;n63=3;break;case 3:this.wCb=p.Ueb?p.Ueb:!1;this.L=p;this.cq=q;this.re=v;n63=6;break;case 6:var z8o="Media c";z8o+="ac";z8o+="he has n";z8o+="ot been i";z8o+="nitiaized";this.qv=Promise.reject(z8o);this.qv.catch(function(){});n63=13;break;}}}Q2M=2;for(;Q2M !== 18;){switch(Q2M){case 6:n.prototype.gS=function(p,q){var C0K,v;C0K=2;for(;C0K !== 9;){switch(C0K){case 2:var h2Y="media";h2Y+="c";h2Y+="ache";h2Y+="lookup";var R0k="sa";R0k+="ve";R0k+="tod";R0k+="isk";var X4E="me";X4E+="diacach";X4E+="estats";v={type:X4E,operation:p};R0k === p && (v.saveTime=q.alb);h2Y === p && (v.lookupTime=q.Mca,v.dataFound=q.N9);C0K=4;break;case 4:var w18="medi";w18+="ac";w18+="a";w18+="che";v.oneObject=this.gI;this.ZAb && this.emit(w18,v);C0K=9;break;}}};n.prototype.$bc=function(p,q){var O0y,v,t;O0y=2;for(;O0y !== 5;){switch(O0y){case 2:(v=this,t=Object.keys(p).map(function(w){var I7B;I7B=2;for(;I7B !== 1;){switch(I7B){case 2:return v.sOb(p[w]);break;}}}));return Promise.all(t).then(function(w){var K9W;K9W=2;for(;K9W !== 5;){switch(K9W){case 2:w.sort(function(u,x){var v2A;v2A=2;for(;v2A !== 1;){switch(v2A){case 2:return u.Hc === x.Hc?0:u.Hc?-1:1;break;}}});return h.Lva(v.L,v.H,v.re,w,q);break;}}});break;}}};n.prototype.sOb=function(p){var S_H,q,v,t,w;S_H=2;for(;S_H !== 5;){switch(S_H){case 2:(q=this,w={});return new Promise(function(u,x){var z5d,y;z5d=2;for(;z5d !== 5;){switch(z5d){case 2:q.Zp.dfa(k.Rs,p,function(z,B){var I6u,o2h,A;I6u=2;for(;I6u !== 1;){switch(I6u){case 2:try{o2h=2;for(;o2h !== 19;){switch(o2h){case 13:var b$G="Missing";b$G+=" or invalid header data parts ";b$G+="for stream ";return (A=b$G + y.Sa,x(A));break;case 3:o2h=v instanceof ArrayBuffer?9:7;break;case 4:o2h=h.Xbb(t)?3:20;break;case 6:o2h=y.Hc?14:11;break;case 2:o2h=z || void 0 === B?1:5;break;case 1:return x(z);break;case 20:y=h.Oua(t,{response:w.response});o2h=6;break;case 9:var Y1D="H";Y1D+="eader fragments was an arr";Y1D+="a";Y1D+="y buffer";Y1D+=", is invalid type ";A=Y1D + y.Sa;o2h=8;break;case 10:var e6E="Missing or inva";e6E+="l";e6E+="id media data";e6E+=" parts for stream ";return (A=e6E + y.Sa,x(A));break;case 11:o2h=h.Txa(y)?10:12;break;case 7:y=h.Pua(t,w,v);o2h=6;break;case 12:u(y);o2h=19;break;case 5:Object.keys(B).map(function(C){var A5E,d4l,E,D;A5E=2;for(;A5E !== 3;){switch(A5E){case 5:try{d4l=2;for(;d4l !== 5;){switch(d4l){case 2:E=new Uint8Array(B[C]);t=JSON.parse(String.fromCharCode.apply(null,E));d4l=5;break;}}}catch(G){t=B[C];}A5E=3;break;case 7:A5E=D == k.oka?1:2;break;case 1:A5E=D === k.oka?5:4;break;case 2:D=C.substr(C.lastIndexOf(".") + 1);A5E=1;break;case 4:D === k.iMa?v=B[C]:w[D]=B[C];A5E=3;break;}}});o2h=4;break;case 14:o2h=h.Uxa(y)?13:12;break;case 8:return x(A);break;}}}catch(C){x(C);}I6u=1;break;}}});z5d=5;break;}}});break;}}};n.prototype.fEb=function(p,q,v){var V1X,t;V1X=2;for(;V1X !== 5;){switch(V1X){case 2:t=this;return new Promise(function(w,u){var L_0,x;L_0=2;for(;L_0 !== 5;){switch(L_0){case 2:t.Zp.read(k.Rs,p,function(y,z){var y9k,q_v,M,I,O,K,F,L,E8f,R13,u0A,N1m,J,N,P,S2Z,S,U,W,V,w6O,t8e,s11,C0x,e0W,R0q,B,A,C,D,E,G;y9k=2;for(;y9k !== 4;){switch(y9k){case 11:try{q_v=2;for(;q_v !== 12;){switch(q_v){case 6:var u1l="Missing or invalid hea";u1l+="der";u1l+=" data parts for stream ";return (I=u1l + M.Sa,u(I));break;case 7:q_v=h.Uxa(M)?6:14;break;case 8:M=h.Pua(K,K,K.fragments);q_v=7;break;case 14:z.push(M);q_v=13;break;case 9:return u(I);break;case 3:var z4H="Header fragment";z4H+="s was a";z4H+="n array ";z4H+="buffer, is";z4H+=" invalid type ";I=z4H + K.streamId;q_v=9;break;case 4:q_v=K.fragments instanceof ArrayBuffer?3:8;break;case 5:(O=L.value,K=E.headers[O]);q_v=4;break;case 13:L=F.next();q_v=1;break;case 1:q_v=!L.done?5:12;break;case 2:(F=c.__values(G),L=F.next());q_v=1;break;}}}catch(qa){var H;H={error:qa};}finally{E8f=2;for(;E8f !== 1;){switch(E8f){case 2:try{R13=2;for(;R13 !== 1;){switch(R13){case 2:L && !L.done && (B=F.return) && B.call(F);R13=1;break;}}}finally{u0A=2;for(;u0A !== 5;){switch(u0A){case 2:u0A=H?1:5;break;case 1:throw H.error;u0A=5;break;}}}E8f=1;break;}}}y9k=10;break;case 17:x=h.Lva(t.L,t.H,t.re,z,q);y9k=16;break;case 15:var M33="med";M33+="iac";M33+="a";M33+="chelooku";M33+="p";t.gS(M33,{Mca:t.cq.time.fa() - v,N9:!0});w(x);y9k=4;break;case 10:y9k=E.data?20:17;break;case 9:w(void 0);y9k=4;break;case 3:y9k=m.wa(z)?9:8;break;case 5:u(y);y9k=4;break;case 18:try{N1m=2;for(;N1m !== 8;){switch(N1m){case 5:O=N.value;N1m=4;break;case 2:(J=c.__values(B),N=J.next());N1m=1;break;case 1:N1m=!N.done?5:8;break;case 4:P=Object.keys(H[O]);try{S2Z=2;for(;S2Z !== 7;){switch(S2Z){case 5:(S=H[O][V.value],U=h.Oua(S,S));S2Z=4;break;case 4:S2Z=h.Txa(U)?3:9;break;case 9:z.push(U);S2Z=8;break;case 1:S2Z=!V.done?5:7;break;case 2:(W=(C=void 0,c.__values(P)),V=W.next());S2Z=1;break;case 3:var r2T="Missing or ";r2T+="invalid me";r2T+="d";r2T+="ia data parts";r2T+=" for stream ";return (I=r2T + U.Sa,u(I));break;case 8:V=W.next();S2Z=1;break;}}}catch(qa){C={error:qa};}finally{w6O=2;for(;w6O !== 1;){switch(w6O){case 2:try{t8e=2;for(;t8e !== 1;){switch(t8e){case 2:V && !V.done && (D=W.return) && D.call(W);t8e=1;break;}}}finally{s11=2;for(;s11 !== 5;){switch(s11){case 2:s11=C?1:5;break;case 3:s11=C?0:3;break;case 1:throw C.error;s11=5;break;}}}w6O=1;break;}}}N1m=9;break;case 9:N=J.next();N1m=1;break;}}}catch(qa){var fa;fa={error:qa};}finally{C0x=2;for(;C0x !== 1;){switch(C0x){case 2:try{e0W=2;for(;e0W !== 1;){switch(e0W){case 2:N && !N.done && (A=J.return) && A.call(J);e0W=1;break;}}}finally{R0q=2;for(;R0q !== 5;){switch(R0q){case 9:throw fa.error;R0q=3;break;case 2:R0q=fa?1:5;break;case 1:throw fa.error;R0q=5;break;}}}C0x=1;break;}}}y9k=17;break;case 1:y9k=y?5:3;break;case 13:y9k=E.headers?12:10;break;case 2:y9k=1;break;case 20:H=E.data;B=Object.keys(H);y9k=18;break;case 8:E=z[p];y9k=7;break;case 7:y9k=E.movieEntry?6:15;break;case 6:y=h.Kva(E.movieEntry);z=[];y9k=13;break;case 16:void 0 !== x && (x.eo=y);y9k=15;break;case 12:G=Object.keys(E.headers);y9k=11;break;}}});L_0=5;break;}}});break;}}};n.prototype.bCb=function(p){var k9B,q;k9B=2;for(;k9B !== 5;){switch(k9B){case 2:var G4N="Media";G4N+=" ca";G4N+="che is not enabled";q=this;return this.qv?this.qv.then(function(){var k4r;k4r=2;for(;k4r !== 1;){switch(k4r){case 2:return new Promise(function(v){var O7M;O7M=2;for(;O7M !== 1;){switch(O7M){case 2:q.Zp.U0(k.Rs,p.toString(),function(t){var n7w;n7w=2;for(;n7w !== 1;){switch(n7w){case 2:t && 0 !== t.length?1 === t.length && t[0] === p.toString()?v(!0):v(!1):v(!1);n7w=1;break;}}});O7M=1;break;}}});break;}}}):Promise.reject(G4N);break;}}};Q2M=10;break;case 10:n.prototype.DEb=function(p){function q(u){var s73;s73=2;for(;s73 !== 1;){switch(s73){case 2:t.Zp.delete(k.Rs,u);s73=1;break;}}}function v(u){var s9F;s9F=2;for(;s9F !== 1;){switch(s9F){case 2:u.map(q);s9F=1;break;}}}var g8l,t,w;g8l=2;for(;g8l !== 4;){switch(g8l){case 2:(t=this,w=p.toString());this.Zp.U0(k.Rs,[k.CPa,p].join("."),v);this.Zp.U0(k.Rs,w,v);g8l=4;break;}}};n.prototype.Ggc=function(p){var V8B,q;V8B=2;for(;V8B !== 4;){switch(V8B){case 2:var h4Q="medi";h4Q+="acache";h4Q+="-error";var A_0="me";A_0+="diaca";A_0+="che";q=new l.gf();q.on(this.Zp,A_0,function(v){var b5h;b5h=2;for(;b5h !== 4;){switch(b5h){case 2:b5h=v.keys || v.items?1:5;break;case 9:b5h=v.keys && v.items?2:6;break;case 1:v.keys || v.items.map(function(t){var U3Y;U3Y=2;for(;U3Y !== 1;){switch(U3Y){case 4:return t.key;break;case 2:return t.key;break;}}});b5h=5;break;case 5:var R7$="medi";R7$+="acach";R7$+="e";p.emit(R7$,v);b5h=4;break;}}});q.on(this.Zp,h4Q,function(v){var h7M;h7M=2;for(;h7M !== 5;){switch(h7M){case 2:var z70="med";z70+="ia";z70+="ca";z70+="c";z70+="he";var G$r="e";G$r+="r";G$r+="r";G$r+="or";v.type=G$r;p.emit(z70,v);h7M=5;break;}}});V8B=4;break;}}};return n;break;case 3:n.prototype.Uec=function(p,q){var K5w,v,t,w,u,x,y;K5w=2;for(;K5w !== 13;){switch(K5w){case 4:K5w=p.stream.te && !m.wa(p.stream.ma)?3:14;break;case 2:(v=this,t=[p.K,p.Sa,k.$ub].join("."),w=this.cq.time.fa(),u=h.s9a(p),x={});x[t + "." + k.oka]={Ds:u,gd:k.uH};x[t + "." + k.Avb]={Ds:(0,f.pB)(p.dh.map(function(z){var h1L;h1L=2;for(;h1L !== 1;){switch(h1L){case 2:return z.data;break;}}})),gd:k.uH};K5w=4;break;case 3:u={timescale:p.stream.ma.W,startTicks:p.stream.ma.so,offset:p.stream.ma.Qi(0)};y=p.stream.ma.Vq;x[t + "." + k.iMa]={Ds:u,gd:k.uH};x[t + "." + k.Rub]={Ds:y.sizes.buffer,gd:k.uH};K5w=6;break;case 6:x[t + "." + k.Qub]={Ds:y.Me.buffer,gd:k.uH};K5w=14;break;case 14:this.Zp.$kb(k.Rs,x,function(z){var a_j;a_j=2;for(;a_j !== 5;){switch(a_j){case 2:z || (z=v.cq.time.fa() - w,p.eo && (m.wa(p.eo.dc.Hu) && (p.eo.dc.Hu=0),p.eo.dc.Hu+=z));q();a_j=5;break;}}});K5w=13;break;}}};n.prototype.Tec=function(p,q,v){var l4E,u,x,y,t,w;l4E=2;for(;l4E !== 14;){switch(l4E){case 8:m.wa(w) || (y[x + "." + k.vwb]={Ds:w,gd:k.uH});l4E=7;break;case 1:l4E=w instanceof ArrayBuffer?5:6;break;case 6:var e1k="Unable to save fragment because response is not an Arr";e1k+="ayBuffe";e1k+="r";v(Error(e1k));l4E=14;break;case 5:(u=this.cq.time.fa(),x=[p.K,p.Sa,p.Ud].join("."));p=h.Gva(p);y={};y[x + "." + k.oka]={Ds:p,gd:k.uH};l4E=8;break;case 2:(t=this,w=p.response);l4E=1;break;case 7:this.Zp.$kb(k.Rs,y,function(z){var a6A;a6A=2;for(;a6A !== 5;){switch(a6A){case 2:var Z2I="Failed to ";Z2I+="save fra";Z2I+="gment";z?t.H.warn(Z2I,z):(z=t.cq.time.fa() - u,m.wa(q.dc.Hu) && (q.dc.Hu=0),q.dc.Hu+=z);v();a6A=5;break;}}});l4E=14;break;}}};n.prototype.Vec=function(p){var I4B,B,A,y3I,E,G,C,D,Z9D,K,F,L,O,V2o,S74,Z8g,L9X,D$O,L$N,q,v,t,w,u,x,y,z;I4B=2;for(;I4B !== 20;){switch(I4B){case 7:y={};(B=p.data,A=Object.keys(p.data));try{y3I=2;for(;y3I !== 6;){switch(y3I){case 3:y3I=G?9:7;break;case 5:(E=D.value,G=B[E]);A={};y3I=3;break;case 1:y3I=!D.done?5:6;break;case 2:(C=c.__values(A),D=C.next());y3I=1;break;case 8:y[E]=A;y3I=7;break;case 7:D=C.next();y3I=1;break;case 9:try{Z9D=2;for(;Z9D !== 7;){switch(Z9D){case 8:L=F.next();Z9D=1;break;case 3:K=h.Gva(O);Z9D=9;break;case 1:Z9D=!L.done?5:7;break;case 4:Z9D=O instanceof d.pT && O.response instanceof ArrayBuffer && !m.wa(O.Ud)?3:8;break;case 2:(F=(v=void 0,c.__values(G)),L=F.next());Z9D=1;break;case 5:O=L.value;Z9D=4;break;case 9:A[O.Ud]={mediaType:K.mediaType,streamId:K.streamId,movieId:K.movieId,bitrate:K.bitrate,location:K.location,serverId:K.serverId,saveToDisk:K.saveToDisk,offset:K.offset,bytes:K.bytes,timescale:K.timescale,startTicks:K.startTicks,durationTicks:K.durationTicks,response:O.response};Z9D=8;break;}}}catch(M){v={error:M};}finally{V2o=2;for(;V2o !== 1;){switch(V2o){case 2:try{S74=2;for(;S74 !== 1;){switch(S74){case 2:L && !L.done && (t=F.return) && t.call(F);S74=1;break;}}}finally{Z8g=2;for(;Z8g !== 5;){switch(Z8g){case 2:Z8g=v?1:5;break;case 3:Z8g=v?2:7;break;case 1:throw v.error;Z8g=5;break;}}}V2o=1;break;}}}y3I=8;break;}}}catch(M){var I;I={error:M};}finally{L9X=2;for(;L9X !== 1;){switch(L9X){case 2:try{D$O=2;for(;D$O !== 1;){switch(D$O){case 2:D && !D.done && (q=C.return) && q.call(C);D$O=1;break;}}}finally{L$N=2;for(;L$N !== 5;){switch(L$N){case 2:L$N=I?1:5;break;case 3:L$N=I?4:6;break;case 1:throw I.error;L$N=5;break;case 9:throw I.error;L$N=3;break;}}}L9X=1;break;}}}I4B=13;break;case 5:I4B=p.headers?4:8;break;case 12:I={lifespan:259200};this.wCb && (I.convertToBinaryData=!0);this.Zp.save(k.Rs,p.K,x,I,function(M){var b_j;b_j=2;for(;b_j !== 1;){switch(b_j){case 2:var A1W="s";A1W+="av";A1W+="etodisk";M || w.gS(A1W,{alb:w.cq.time.fa() - u});b_j=1;break;}}});I4B=20;break;case 2:(w=this,u=this.cq.time.fa(),x={},y=h.W9a(p));x.movieEntry=y;I4B=5;break;case 4:z={};Object.keys(p.headers).forEach(function(M){var f5G,H;f5G=2;for(;f5G !== 5;){switch(f5G){case 2:H=h.p9a(p.headers[M]);z[M]=H;f5G=5;break;}}});I4B=9;break;case 8:I4B=p && p.data?7:12;break;case 9:x.headers=z;I4B=8;break;case 13:x.data=y;I4B=12;break;}}};n.prototype.bcb=function(p){var a2B;a2B=2;for(;a2B !== 1;){switch(a2B){case 2:return !(m.wa(p) || m.wb(p) || m.wa(p.dc) || m.wb(p.dc) || m.wa(p.K) || m.wb(p.K) || m.wa(p.priority) || m.wb(p.priority));break;}}};Q2M=6;break;case 5:n.prototype.G4b=function(p,q,v){var j$c,t,w;j$c=2;for(;j$c !== 9;){switch(j$c){case 14:return Promise.reject("");break;case 7:t=this;j$c=0;break;case 2:t=this;j$c=1;break;case 5:var k2M="Media cache ";k2M+="is not ";k2M+="enabled";return Promise.reject(k2M);break;case 1:j$c=!this.qv?5:4;break;case 4:w=this.cq.time.fa();j$c=3;break;case 3:return this.qv.then(function(){var G_5;G_5=2;for(;G_5 !== 1;){switch(G_5){case 2:return new Promise(function(u){var c2r;c2r=2;for(;c2r !== 1;){switch(c2r){case 2:t.Zp.U0(k.Rs,p,function(x){var y9Q;y9Q=2;for(;y9Q !== 5;){switch(y9Q){case 2:x=x.reduce(function(y,z){var W7r,B;W7r=2;for(;W7r !== 9;){switch(W7r){case 2:B=z.substr(0,z.lastIndexOf("."));W7r=1;break;case 14:return y;break;case 5:return y;break;case 1:var J$4="dr";J$4+="mHeader.";J$4+="__embed_";J$4+="_";W7r=-1 !== B.indexOf(J$4)?5:4;break;case 4:y[B]?y[B].push(z):y[B]=[z];return y;break;}}},{});t.$bc(x,q).then(function(y){var W5k,z,B;W5k=2;for(;W5k !== 8;){switch(W5k){case 2:W5k=void 0 === v || void 0 === y?1:5;break;case 1:return u(void 0);break;case 5:var n1j="me";n1j+="diacache";n1j+="l";n1j+="oo";n1j+="kup";var T$m="No";T$m+=" cont";T$m+="ent data ";T$m+="found for";T$m+=" ";(z=t.cq.time.fa() - w,B=!1);m.wa(y) || m.wa(y.data) || !m.qk(y.data)?t.H.trace(T$m + p,v):B=!0;t.gS(n1j,{Mca:z,N9:B});u(y);W5k=8;break;}}},function(){var X$X;X$X=2;for(;X$X !== 1;){switch(X$X){case 4:u(!3);X$X=8;break;case 2:u(void 0);X$X=1;break;}}});y9Q=5;break;}}});c2r=1;break;}}});break;}}});break;}}};n.prototype.I4b=function(p,q){var O0l,v,t;O0l=2;for(;O0l !== 5;){switch(O0l){case 2:(v=this,t=this.cq.time.fa());return this.qv.then(function(){var Y_Z;Y_Z=2;for(;Y_Z !== 1;){switch(Y_Z){case 2:return v.bCb(p);break;}}}).then(function(w){var R1x;R1x=2;for(;R1x !== 5;){switch(R1x){case 2:R1x=w?1:4;break;case 9:R1x=w?6:2;break;case 1:return v.fEb(p.toString(),q,t);break;case 8:return v.fEb(p.toString(),q,t);break;case 4:var b9d="me";b9d+="di";b9d+="a";b9d+="c";b9d+="achelookup";v.gS(b9d,{Mca:v.cq.time.fa() - t,N9:!1});R1x=5;break;}}});break;}}};Q2M=3;break;case 2:n.prototype.oa=function(p,q){var M7w,v;M7w=2;for(;M7w !== 4;){switch(M7w){case 2:var g4E="Media";g4E+=" cac";g4E+="he is";g4E+=" disabled";v=this;this.Noa?this.qv=new Promise(function(t,w){var U8C;U8C=2;for(;U8C !== 1;){switch(U8C){case 2:(void 0 !== q && null !== q?q.mQ:function(u){var e7k;e7k=2;for(;e7k !== 1;){switch(e7k){case 2:return g.mQ(v.cq,v.L,u);break;case 4:return g.mQ(v.cq,v.L,u);break;}}})(function(u){var q1U,x;q1U=2;for(;q1U !== 4;){switch(q1U){case 2:var Q9o="Medi";Q9o+="a cache di";Q9o+="d not ini";Q9o+="t";Q9o+="ialize";v.Zp=u;x=u.hw;(u=u.eK)?w(u):x?(v.Ggc(p),t()):w(Error(Q9o));q1U=4;break;}}});U8C=1;break;}}}):(this.qv=Promise.reject(g4E),this.qv.catch(function(){}));return this.qv;break;}}};n.prototype.K4b=function(p){var W5z,q,v,t;W5z=2;for(;W5z !== 5;){switch(W5z){case 2:(q=this,v=[k.CPa,p].join("."),t=this.cq.time.fa());return this.qv.then(function(){var n6O;n6O=2;for(;n6O !== 1;){switch(n6O){case 2:return new Promise(function(w){var f27;f27=2;for(;f27 !== 1;){switch(f27){case 2:q.Zp.U0(k.Rs,v,function(u){var F27,x;F27=2;for(;F27 !== 3;){switch(F27){case 2:F27=!u || 0 >= u.length?1:5;break;case 1:var K07="mediaca";K07+="chelook";K07+="up";(w(void 0),q.gS(K07,{Mca:q.cq.time.fa() - t,N9:!1}));F27=3;break;case 5:x=u[0];q.Zp.read(k.Rs,x,function(y,z){var i$h,K3L,B,A;i$h=2;for(;i$h !== 14;){switch(i$h){case 4:try{K3L=2;for(;K3L !== 1;){switch(K3L){case 2:B=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));K3L=1;break;}}}catch(C){}i$h=9;break;case 3:B={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};i$h=9;break;case 1:i$h=!m.wa(z)?5:9;break;case 7:m.wa(A) || m.wb(A) || (A.dc=A.dc || ({}),A.headers=A.headers || ({}));q.bcb(A)?w(A):(q.DEb(p),w(void 0));i$h=14;break;case 9:i$h=8;break;case 2:var I2R=" ";I2R+="fai";I2R+="led";var J4o="R";J4o+="eadin";J4o+="g m";J4o+="ovie ent";J4o+="ry ";y && q.H.warn(J4o + x + I2R,y);i$h=1;break;case 5:i$h=z instanceof ArrayBuffer?4:3;break;case 8:m.wa(B) || (A=h.Kva(B));i$h=7;break;}}});F27=3;break;}}});f27=1;break;}}});break;}}});break;}}};Q2M=5;break;}}})();b.aQa=a;(0,r.ef)(l.EventEmitter,a);},function(r,b,a){var c,l,g,m,d;c=a(12);g=[];d=!1;r.exports={mQ:function(f,h,k){var n;if(d)c.qd(k) && (l.hw || l.eK?setTimeout(function(){k(l);},0):g.push(k));else {d=!0;n=a(135);n.wZ(f);m=new n.Console("MEDIACACHE","media|asejs");l=new (a(456))(h,function(p){p && m.warn("Failed to initialize MediaCache",p);c.qd(k) && setTimeout(function(){k(l);},0);g.map(function(q){setTimeout(function(){q(l);},0);});});}return l;},Nuc:function(f,h){l=new (a(456))(f,function(k,n){k && m.warn("Failed to initialize MediaCache",k);c.qd(h) && setTimeout(function(){h(n);},0);});}};},function(r,b,a){var l,g,m,d,f;function c(h){this.Ws=h;this.context=h.context;this.mgb="NULLCONTEXT" === h.context?!0:!1;}l=a(12);g=a(135);m=new g.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,k,n,p,q){q("MediaCache is not supported");},remove:function(h,k,n){n("MediaCache is not supported");},create:function(h,k,n,p){p("MediaCache is not supported");},append:function(h,k,n,p){p("MediaCache is not supported");},query:function(h,k,n){n([]);}};c.prototype.xI=function(){var h,k,n;h=Array.prototype.slice.call(arguments);k=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(p){n(null,p);});try{if(this.mgb)throw Error("Media Cache not supported");k.apply(this.Ws,h);}catch(p){n(p);}};c.prototype.query=function(h,k,n,p){try{if(this.mgb)throw Error("Media Cache not supported");this.Ws.query(h,k,function(q){n(null,q);},p);}catch(q){n(q);}};c.prototype.read=function(h,k,n,p,q){this.xI(this.Ws.read,h,k,n,p,q);};c.prototype.remove=function(h,k,n){this.xI(this.Ws.remove,h,k,n);};c.prototype.create=function(h,k,n,p){this.xI(this.Ws.create,h,k,n,p);};c.prototype.append=function(h,k,n,p){this.xI(this.Ws.append,h,k,n,p);};c.prototype.info=function(h){this.xI(this.Ws.info,h);};c.prototype.validate=function(h){this.xI(this.Ws.validate,h);};c.prototype.flush=function(h){this.xI(this.Ws.flush,h);};c.prototype.clear=function(){this.Ws.clear();};r.exports={vOb:function(h){var k,n,p,q,v;k=h.duc || "NRDMEDIADISKCACHE";f=h.OX || 0;0 !== f || l.wa(g.options) || l.wa(g.options.RQ) || (f=g.options.RQ);h=f;try{p=g.storage.oRb;if(!p || !l.qk(p))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=p[k]){m.warn("Disk store exists, returning");q=new c(n);}else {if(l.wa(g.storage) || !l.qd(g.storage.V3a) || g.options && 0 === g.options.RQ)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + h);v=g.storage.V3a({context:k,size:h,encrypted:!0,signed:!0});if(!v || !v.valid)throw "Failed to create disk store context";q=new c(v);}}catch(t){m.warn("Exception creating disk store context - returning NullContext (noops)",t);q=new c(d);}return q;},kXb:function(){return f;},Joc:c};},function(r,b,a){var f,h,k,n,p,q,v,t,w;function c(){}function l(u,x,y,z,B){var A;A=f.qd(z)?z:c;this.Kx=u;this.Xg=y.xt;this.OA=0;this.dBb=y.CTb || "NONE";this.wA=f.wa(B) || f.wb(B)?0:B;this.kf={};this.jv=y.lwc || h.storage.uU;this.Fx=x;this.mO=p.create(this.Fx,y.DPb * this.wA,this.Kx);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.kb=w.kb;this.nYa=m(this,l.ff.REPLACE);this.JBb=m(this,l.ff.WWa);this.pI;this.pI=y.Wpb?a(1087):a(1088);this.Fx.query(this.jv,this.ls(""),(function(C,D){var E;if(C)A(C);else {E=this.mO.yva();C=Object.keys(D).filter(function(G){return G !== E && q.rQ(G);}).map(this.vGa.bind(this));this.dfa(C,(function(G,F){Object.keys(F).map((function(L){var O,K;O=F[L];this.kf[q.L$(L)]=O;if(O.IDa && 1 < Object.keys(O.IDa).length){K=0;Object.keys(O.IDa).forEach((function(I){D[this.ls(I)] && f.Oa(D[this.ls(I)].size) && (K+=D[this.ls(I)].size);}).bind(this));L=q.L$(L);this.kf[L].size=K;}else (L=q.L$(L),D[this.ls(L)] && (this.kf[L].size=D[this.ls(L)].size));}).bind(this));g(this.Fx,this.jv,this.Kx,(function(L,O){this.OA=O;L?A(L):A(null,this);}).bind(this));}).bind(this));}}).bind(this));}function g(u,x,y,z){var B;B=f.qd(z)?z:c;u.query(x,y,function(A,C){A?B(A):(A=Object.keys(C).reduce(function(D,E){return D + (C[E].size || 0);},0),B(null,A));});}function m(u,x){return function(y,z,B,A,C){return function(D,E){var G;if(D)(z || u.kb(l.ff.Cg,{itemKey:y,error:D}),B(D));else {G={Sl:0,duration:0,items:[],time:h.time.now()};Object.keys(E.actions).map(function(F){var L;L=E.actions[F];F={key:u.vGa(L.oca),em:F};L.ja?(G.Sl+=L.Sl,F.mca=L.Sl,f.Oa(L.duration) && (G.duration+=L.duration)):F.error=L.error;G.items.push(F);});D=f.qd(A)?A():0;0 < C && (G.ZO=C - D);g(u.Fx,u.jv,u.Kx,function(F,L){F?B(F):(u.OA=L,G.lp=u.Xg - L,z || u.kb(x,t.O8a(G)),B(null,G));});}};};}function d(u,x){return 0 < x && u >= x?!0:!1;}f=a(12);h=a(135);k=a(275);b=a(92);n=new h.Console("MEDIACACHE","media|asejs");p=a(1083);q=a(457);v=a(136);t=a(276);w=a(458).EventEmitter;b({ff:{WWa:"writeitem",REPLACE:"replaceitem",Pja:"journalupdate",Cg:"mediacache-error"}},l);l.prototype.xYb=function(){return this.Kx;};l.prototype.vGa=function(u){return u.slice(this.Kx.length + 1);};l.prototype.nva=function(){return Object.keys(this.kf).filter((function(u){u=q.Hua(this.kf[u]);return void 0 === u || 0 >= u.v3a();}).bind(this));};l.prototype.LYb=function(){return Object.keys(this.kf).reduce((function(u,x){var y;y=this.kf[x];return y && y.creationTime < u.creationTime?{resourceKey:x,creationTime:y.creationTime}:u;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).nxc;};l.prototype.xXb=function(){var u;switch(this.dBb){case "FIFO":u=this.LYb();}return u;};l.prototype.EQb=function(u){var x;x=f.qd(u)?u:c;this.A9a((function(y){var z,B,A;z=this.kf;B=Object.keys(z).reduce(function(C,D){D=z[D];D.resourceIndex && Object.keys(D.resourceIndex).forEach(function(E){C.push(E);});return C;},[]);if((y=y.filter(function(C){return !q.rQ(C) && 0 > B.indexOf(C);})) && 0 < y.length){A=this;y=h.Promise.all(y.map(function(C){return new h.Promise(function(D,E){A.delete(C,function(G){G?E(G):D();});});})).then(function(){x(void 0,{cDa:!0});},function(C){x(C,{cDa:!1});});t.cz(y);}else u(void 0,{cDa:!1});}).bind(this));};l.prototype.qcc=function(u,x,y){var z,B;z=f.qd(x)?x:c;x=this.ls(u);B=h.time.now();this.Fx.read(this.jv,x,0,-1,(function(A,C){var D;if(A)z(A);else if(C && C.ja && C.value){f.qd(y) || (y=this.pI.MY(v.Ss.hH),q.rQ(u)?y=this.pI.MY(v.Ss.o5):(A=this.kf[u],!f.wa(A) && f.Oa(A.resourceIndex[u])?(A=A.resourceIndex[u],f.wa(A) && (A=v.Ss.hH),y=this.pI.MY(A)):n.warn("Metadata is undefined or does not contain a resource format for key",u,":",A)));try{D=y(C.value);}catch(E){return z(k.VM.Ls(E.message));}C={duration:h.time.now() - B};this.kf[u] && f.Oa(this.kf[u].size) && (C.cB=f.Oa(this.kf[u].size)?this.kf[u].size:0);z(null,D,C);}else z(k.VM.Ls(C.error));}).bind(this));};l.prototype.read=function(u,x,y){this.qcc(u,x,y);};l.prototype.dfa=function(u,x,y){var z,B,A;z=f.qd(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(u))z(k.VM.Ls("item keys must be an array"));else {B={};A=[];u=h.Promise.all(u.map((function(C){return new h.Promise((function(D,E){var G;y && !f.wa(y[C]) && (G=this.pI.MY(y[C]));this.read(C,function(F,L,O){F?(L={},L[C]=F,E(L)):(B[C]=L,A.push({duration:O.duration,cB:O.cB}),D());},G);}).bind(this));}).bind(this))).then(function(){var C;C={};0 < A.length && (C=A.reduce(function(D,E){f.Oa(E.duration) && (D.duration+=E.duration);f.Oa(E.cB) && (D.cB+=E.cB);return D;},{duration:0,cB:0}));z(null,B,C);},function(C){z(C);});t.cz(u);}};l.prototype.write=function(u,x,y,z,B){var A,C,D;y=f.qd(y)?y:c;A=this.ls(u);C="function" === typeof B?B():0;D=v.twa(x);D=this.pI.bwa(D)(x);D.byteLength + this.OA >= this.Xg?y(k.pM):d(D.byteLength + C,this.wA)?y(k.m6):this.mO.save(this.jv,A,x,this.JBb(u,z,y,B,this.wA),D.byteLength);};l.prototype.replace=function(u,x,y,z,B){var A,C,D,E;A=f.qd(y)?y:c;C=this.ls(u);D=0;"function" === typeof B && (D=B());y=v.twa(x);E=this.pI.bwa(y)(x);y=(this.kf[u] || ({})).size || 0;0 >= y && this.kf[u]?this.e$a([u],(function(G){n.trace("Replacing key",u,"which exists:",!!this.kf[u],this.kf[u]?this.kf[u]:void 0,"and has size",G,"with",x,"with size",E.byteLength,"plus _used",this.OA,"vs capacity",this.Xg);E.byteLength - G + this.OA >= this.Xg?A(k.pM):d(E.byteLength - G + D,this.wA)?A(k.m6):this.mO.replace(this.jv,C,x,this.nYa(u,z,A,B,this.wA),E.byteLength);}).bind(this)):(n.trace("Replacing key",u,"which exists:",!!this.kf[u],this.kf[u]?this.kf[u]:void 0,"and has size",y,"with",x,"with size",E.byteLength,"plus _used",this.OA,"vs capacity",this.Xg),E.byteLength - y + this.OA >= this.Xg?A(k.pM):d(E.byteLength - y + D,this.wA)?A(k.m6):this.mO.replace(this.jv,C,x,this.nYa(u,z,A,B,this.wA),E.byteLength));};l.prototype.Cdc=function(u,x,y,z){var B;B=f.qd(x)?x:c;"[object Object]" !== Object.prototype.toString.call(u)?B(k.l6.Ls("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(u).map((function(A){return new h.Promise((function(C){this.replace(A,u[A],function(D,E){D?C({error:D,Ds:A}):C(E);},!0,z);}).bind(this));}).bind(this))).then((function(A){var C,D,E,G;try{C=Number.MAX_VALUE;D=A.reduce(function(F,L){L.error || (F.Sl+=L.Sl,f.Oa(L.duration) && (F.duration+=L.duration),!f.wa(L.lp) && L.lp < C && (C=L.lp),L.items.map(function(O){F.items.push({key:O.key,em:O.em,mca:O.mca,Z4b:O.Z4b,duration:O.duration});}),C < Number.MAX_VALUE && (F.lp=C));return F;},{Sl:0,items:[],time:h.time.now(),duration:0});0 < this.wA && (D.ZO=this.wA - z());E=A.filter(function(F){return !f.wa(F.error);});G=t.Y$a(E);y || (G?G.forEach((function(F){this.kb(l.ff.Cg,F);}).bind(this)):this.kb(l.ff.REPLACE,t.O8a(D)));B(G,D);}catch(F){B(F);}}).bind(this),(function(A){y || this.kb(l.ff.Cg,A);B(A);}).bind(this)),t.cz(x));};l.prototype.delete=function(u,x){var y;y=f.qd(x)?x:c;this.Fx.remove(this.jv,this.ls(u),(function(z,B){z?y(z):B && B.ja?g(this.Fx,this.jv,this.ls(""),(function(A,C){A?y(A):(this.OA=C,y());}).bind(this)):y(k.ytb.Ls(B.error));}).bind(this));};l.prototype.A9a=function(u){this.query("",function(x,y){x?(n.error("Failed to get keys",x),u([])):u(y);});};l.prototype.query=function(u,x){var y,z;y=f.qd(x)?x:c;z=this.mO.yva();this.Fx.query(this.jv,this.ls(u),(function(B,A){B?y(B):y(null,Object.keys(A).filter(function(C){return C !== z;}).map(this.vGa.bind(this)));}).bind(this));};l.prototype.ls=function(u){return this.Kx + "." + u;};l.prototype.clear=function(u){var x;x=f.qd(u)?u:c;this.A9a((function(y){var z;z=h.Promise.all(y.map((function(B){return new h.Promise((function(A){B && this.delete(B,function(){A();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(B){this.kb(l.ff.Cg,B);x([],B);}).bind(this));t.cz(z);}).bind(this));};l.prototype.e$a=function(u,x){var y,z;y=f.qd(x)?x:c;z=(u || []).map((function(B){return this.ls(B);}).bind(this));this.Fx.query(this.jv,this.Kx,(function(B,A){B?(n.error("failed to get persisted size for keyset ",u,B),y(0)):(B=Object.keys(A).filter(function(C){return 0 <= z.indexOf(C);}).reduce(function(C,D){return C + (A[D].size || 0);},0),y(B));}).bind(this));};l.prototype.LWb=function(u){return this.mO.C8a(u);};l.prototype.constructor=l;r.exports=l;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v){var B,A;function t(C,D,E,G){C.info.call(C,(function(F,L){var O;if(F)G(F);else {try{O=L.values[this.context].entries[D][E].size;}catch(K){O=-1;}-1 < O?G(null,O):this.validate(function(K,I){K?G(K):(I[E] && (O=I[E].size),G(null,O));});}}).bind(C));}function w(C,D,E,G,F,L,O){var K;L?L.actions || (L.actions={}):L={actions:{}};B(G);K=g.time.now();G=new k(function(I,M){C.create(g.storage.uU,D,E,function(H,J){H?M(H):I(J);});}).then(function(I){I.ja?t(C,g.storage.uU,D,function(M,H){M?O(M):(A(H),B(H),L.actions[c.f3.Pja]={ja:!0,time:F,Sl:H,oca:D,mjb:I,duration:g.time.now() - K},L.lp=I.lp,O(null,L));}):(L.actions[c.f3.Pja]={ja:!1,oca:D,error:I.error},O(null,L));},function(I){O(I);});f.cz(G);}function u(C,D,E,G,F,L){G.rp(E.time,E);for(var O=E.time - 864E5,K=G.Pq();K && !isNaN(K.time) && K.time < O;){K=G.bP();B(0 - (K.ga || 0));K=G.Pq();}G=G.El().map(function(I){return I.time + ";" + I.ga;});w(C,D,Array.prototype.join.call(G,"|"),E.ga,E.time,F,L);}function x(C,D,E,G,F,L,O,K,I){var M;M=g.time.now();C.create(E,G,F,function(H,J){var N;if(H)h.error("Failed to replace item",G,H);else if(J.ja){N=J.lp;t(C,E,G,function(P,W){var V,S;if(P)I(P);else {P={time:K,ga:W || 0};V={lp:N,actions:{}};S=g.time.now() - M;V.actions[c.f3.REPLACE]={ja:!0,time:K,Sl:W,oca:G,mjb:J,duration:S};L?u(C,D,P,O,V,I):(B(W),I(null,V));}});}else I(m.l6.Ls(J.error || "Failed to create item"));});}function y(C,D,E,G,F,L,O,K,I){var M;M=g.time.now();C.append(E,G,F,function(H,J){var N;if(H)(h.error("Failed to save item " + G,H),I(H));else if(J.ja){N=J.lp;t(C,E,G,function(P,W){var V,S;if(P)I(P);else {P={time:K,ga:W || 0};V={lp:N,actions:{}};S=g.time.now() - M;V.actions[c.f3.Fyb]={ja:!0,time:K,Sl:W,oca:G,mjb:J,duration:S};L?u(C,D,P,O,V,I):(B(W),I(null,V));}});}else I(m.l6.Ls(J.error || "Failed to save item"));});}function z(C,D){C && l.qd(C.remove) && C.Ws.valid && C.remove(g.storage.uU,D.MN,function(E,G){if(E)h.error("Failed to delete old journal key",E);else try{G && (l.wa(G.error) || G.error.some(function(F){return "NFErr_FileNotFound" === F.yuc;})) && u(C,D.MN,{time:0,ga:0},D.TV,0,function(){});}catch(F){}});}if(!p.Ws.valid)return n;this.HXa=l.wa(q) || l.wb(q)?0:q;this.Yma=p;this.Kna=this.$U=0;this.TV=new d();this.KDb=v || "default";this.MN=this.KDb + ".NRDCACHEJOURNALKEY";B=(function(C){isNaN(C) || (this.$U+=C);return this.$U;}).bind(this);A=(function(C){isNaN(C) || (this.Kna+=C);return this.Kna;}).bind(this);this.yva=function(){return this.MN;};this.save=function(C,D,E,G){var F;F=g.time.now();y(this.Yma,this.MN,C,D,E,0 <= this.HXa,this.TV,F,G);};this.replace=function(C,D,E,G){var F;F=g.time.now();x(this.Yma,this.MN,C,D,E,0 <= this.HXa,this.TV,F,G);};this.C8a=function(C){var D,F;D=this.$U;C-=864E5;for(var E=this.TV.El(),G=0;G < E.length;G++){F=E[G];F.time < C && !isNaN(F.ga) && (D-=F.ga);}return D;};(function(C){var D;D=C.Yma;C.$U=0;D.read(g.storage.uU,C.MN,0,-1,function(E,G){var F,L,O,I;F=[];L=0;O=!0;if(E)h.error("Failed to compile records",E);else if(G.ja){E=String.fromCharCode.apply(null,new Uint8Array(G.value));E=String.prototype.split.call(E,"|");G=E.reduce(function(M,H){return M + (H.length + 40);},0);B(G);F=E.map(function(M){M=M.split(";");return {time:Number(M[0]),ga:Number(M[1])};});try{if(!isNaN(F.reduce(function(M,H){return M + H.ga;},0))){O=!1;for(var K=g.time.now() - 864E5;L < F.length;L++){I=F[L];I.time < K || (C.TV.rp(I.time,I),B(I.ga));}}}catch(M){}}O && z(D,C);});})(this);}l=a(12);g=a(135);m=a(275);d=a(1084);b=a(92);f=a(276);h=new g.Console("DISKWRITEMANAGER","media|asejs");k=g.Promise;b({f3:{Fyb:"saveitem",REPLACE:"replaceitem",Pja:"journalupdate"}},c);n={save:function(p,q,v,t){t(m.yPa);},replace:function(p,q,v,t){t(m.yPa);},yva:function(){return "";},C8a:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(p,q,v){return new c(p,q,v);},Fqc:n};},function(r){function b(l){if(!(this instanceof b))return new b(l);if("undefined" === typeof l)this.Jo=function(g,m){return g <= m;};else {if("function" !== typeof l)throw Error("heap comparator must be a function");this.Jo=l;}this.yr=[];}function a(l,g){var m,d,f,h,k,n,p;m=l.yr;d=l.Jo;f=2 * g + 1;h=2 * g + 2;k=m[g];n=m[f];p=m[h];n && d(n.priority,k.priority) && (!p || d(n.priority,p.priority))?(c(m,g,f),a(l,f,d)):p && d(p.priority,k.priority) && (c(m,g,h),a(l,h,d));}function c(l,g,m){var d;d=l[g];l[g]=l[m];l[m]=d;}b.prototype.clear=function(){this.yr=[];};b.prototype.rp=function(l,g){this.yr.push({priority:l,value:g});l=this.yr;g=this.Jo;for(var m=l.length - 1,d=0 === m?null:Math.floor((m - 1) / 2);null !== d && g(l[m].priority,l[d].priority);){c(l,m,d);m=d;d=0 === m?null:Math.floor((m - 1) / 2);}};b.prototype.remove=function(){var l;if(0 !== this.yr.length){l=this.yr[0];c(this.yr,0,this.yr.length - 1);this.yr.pop();a(this,0);return l.value;}};b.prototype.Pq=function(){if(0 !== this.yr.length)return this.yr[0].value;};b.prototype.enqueue=b.prototype.rp;b.prototype.bP=b.prototype.remove;b.prototype.Zba=function(){return 0 === this.yr.length;};b.prototype.El=function(){return this.yr.map(function(l){return l.value;});};r.exports=b;},function(r){function b(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Rd)return (this.Rd={},this.Rd[c]=[l],!0);g=this.Rd[c];return void 0 === g?(this.Rd[c]=[l],!0):0 > g.indexOf(l)?(g.push(l),!0):!1;}function a(c,l){c=this.Rd?this.Rd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Rd)return !1;g=this.Rd[c];if(void 0 === g)return !1;l=g.indexOf(l);if(0 > l)return !1;if(1 === g.length)return (delete this.Rd[c],!0);g.splice(l,1);return !0;},kb:a,emit:a,removeAllListeners:function(c){this.Rd && (void 0 === c?delete this.Rd:delete this.Rd[c]);return this;}};},function(r){function b(c,l,g,m){c.trace(":",g,":",m);l(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,g,m){g=m?g.bind(m):g;m=!1;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addEventListener)m=c.addEventListener(l,g);else if("function" === typeof c.addListener)m=c.addListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,m;g=l[0];m=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(m,l):"function" === typeof g.removeListener && g.removeListener(m,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,l,g,m;c=a(12);l=a(136);g={};g[l.Ss.hH]=function(d){return d;};g[l.Ss.Q5]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};g[l.Ss.o5]=function(d){var f;f=d || new ArrayBuffer(0);d="";f=new Uint8Array(f);for(var h=0;h < f.byteLength;h++){d+=String.fromCharCode(f[h]);}return JSON.parse(d);};m={};m[l.Ss.hH]=function(d){return d;};m[l.Ss.Q5]=function(d){for(var f=new ArrayBuffer(d.length),h=new Uint8Array(f),k=0,n=d.length;k < n;k++){h[k]=d.charCodeAt(k);}return f;};m[l.Ss.o5]=function(d){return c.wa(d) || c.wb(d)?d:m[l.Ss.Q5](JSON.stringify(d));};r.exports={MY:function(d){return g[d] || g[l.Ss.hH];},bwa:function(d){return m[d] || m[l.Ss.hH];}};},function(r,b,a){function c(g){return g;}function l(){return c;}a(12);r.exports={MY:l,bwa:l};},function(r,b,a){var g;function c(m,d){return m.length > d.length?1:d.length > m.length?-1:0;}function l(m,d){var f,h,k;f=[];if(g.qk(d)){h={};k={};k[m]=h;f.push(k);f=Object.keys(d).reduce(function(n,p){var q,v,t;q=d[p];v={};if(g.Uba(q)){t=m + ".__embed__." + p;v[t]=q;n.push(v);}else g.qk(q)?(t=m + ".__sub__." + p,q=l(t,q),h[p]=q[0][t],n=n.concat(q.slice(1))):h[p]=q;return n;},f);}else (k={},k[m]=d,f.push(k));return f;}g=a(136);r.exports={nRb:l,X1b:function(m){var d,f,h,t;d=Object.keys(m).map(function(w){return w.split(".");});d.sort(c);f=d[0];h=f.length;f=m[f.join(".")];for(var k=1;k < d.length;k++){for(var n=!1,p=!1,q=f,v=h;v < d[k].length;v++){t=d[k][v];switch(t){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":n=!0;break;default:p?(q=q[t],p=!1):n && (q[t]=m[d[k].join(".")],n=!1);}}}return f;},D2b:function(m){return m && (0 <= m.indexOf("__sub__") || 0 <= m.indexOf("__embed__"));}};},function(r,b,a){var m,d;function c(f,h,k){Object.keys(f).forEach(function(n){var p,q;if(m.qk(f[n]))if(f[n].Uba){p=f[n];q=k + p.offset;f[n]=h.slice(q,q + p.byteLength);}else f[n]=c(f[n],h,k);});return f;}function l(f,h,k){Object.keys(f).forEach(function(n){var p;if(m.Uba(f[n])){p=f[n];h.push(p);f[n]={Uba:!0,offset:k.ksa,byteLength:p.byteLength};k.ksa+=p.byteLength;}else m.qk(f[n]) && l(f[n],h,k);});return f;}function g(){var f,h,k;f=Array.prototype.concat.apply([],arguments);h=f.reduce(function(n,p){return n + p.byteLength;},0);k=new Uint8Array(h);f.reduce(function(n,p){k.set(new Uint8Array(p),n);return n + p.byteLength;},0);return k.buffer;}m=a(136);d=a(92);r.exports={xMb:function(f){var h,k,n;h=d(f,{});f=[];h=l(h,f,{ksa:0});h=JSON.stringify(h);k=new ArrayBuffer(h.length + 4);n=new DataView(k);n.setUint32(0,h.length);for(var p=4,q=0,v=h.length;q < v;q++){n.setUint8(p,h.charCodeAt(q));p++;}f=[k].concat(f);return g.apply(null,f);},wMb:function(f){for(var h=new DataView(f,0,4).getInt32(0),k=new Uint8Array(f,4,h),n="",p=0;p < k.byteLength;p++){n+=String.fromCharCode(k[p]);}h=4 + h;n=JSON.parse(n);return c(n,f,h);}};},function(r,b,a){var l,g,m,d,f;function c(h){return {mediaType:h.mediaType,streamId:h.Sa,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.$c,saveToDisk:!0,offset:h.offset,bytes:h.ga,timescale:h.W,frameDuration:h.stream.da && h.stream.da.Fa,encrypted:h.Mm,initSegments:1 < h.dh.length?h.dh.map(function(k){return {fi:k.Vd,s:k.data.byteLength,e:!!k.Mm};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Txa=b.Uxa=b.Xbb=b.W9a=b.p9a=b.s9a=b.Gva=b.Lva=b.Kva=b.Oua=b.Pua=b.xPa=void 0;l=a(0).__importStar(a(12));g=a(1092);m=a(434);d=a(8);f=a(20);b.xPa={CPa:"movieEntry",$ub:"header",oka:"metadata",Avb:"headerData",Lpc:"headerMetadata",Rub:"sizes",Qub:"durations",iMa:"fragments",vwb:"response",Rs:"billboard",uH:{lifespan:259200}};b.Pua=function(h,k,n){var p,q;p=k.headerData;n && k.sizes instanceof ArrayBuffer && k.durations instanceof ArrayBuffer && (q={so:n.startTicks,offset:n.offset,W:n.timescale,sizes:new Uint32Array(k.sizes),Me:new Uint32Array(k.durations)});return {Hc:!0,mediaType:h.mediaType,K:h.movieId,Sa:h.streamId,bitrate:h.bitrate,location:h.location,$c:h.serverId,ga:h.bytes,offset:h.offset,Mwa:p,Iba:h.initSegments,Mm:h.encrypted,W:h.timescale,da:h.frameDuration,Ui:h.saveToDisk,ma:q};};b.Oua=function(h,k){var n,p,q;k=k.response;n=h.startTicks;p=h.durationTicks;void 0 !== n && void 0 !== p && (q=n + p);return {Hc:!1,mediaType:h.mediaType,K:h.movieId,Sa:h.streamId,bitrate:h.bitrate,location:h.location,$c:h.serverId,ga:h.bytes,offset:h.offset,response:k,W:h.timescale,cb:h.startTicks,Mv:p,Ui:h.saveToDisk,sb:q};};b.Kva=function(h){return {priority:h.priority,K:h.movieId,headers:{},eQ:0,BX:0,Bab:0,Ui:h.saveToDisk,dc:h.stats,qy:h.firstSelectedStreamBitrate,XB:h.initSelectionReason,zF:h.histDiscountedThroughputValue,Gq:h.histTdigest,Fq:h.histAge,kq:void 0};};b.Lva=function(h,k,n,p,q){var v,t;v={headers:{},data:{}};p.forEach(function(w){var u,x,B;u=w.mediaType;u=q && q.xy(u,w.Sa);x=[];if(w.Hc)if(!Array.isArray(w.Iba) || 2 > w.Iba.length)x.push({Vd:0,data:w.Mwa});else for(var y=0,z=0;z < w.Iba.length;++z){B=w.Iba[z];x.push({Vd:B.fi,data:w.Mwa.slice(y,y + B.s),Mm:B.e});y+=B.s;}u?(w.ma && u.cea(x,w.W,w.da?new f.P(w.da,w.W):void 0,w.ma),w.Hc && u && u.te?(void 0 === v.headers && (v.headers={}),v.headers[w.Sa]=new m.r3(u,{ga:w.ga,offset:w.offset,dh:x,Mm:w.Mm},k)):w.response instanceof ArrayBuffer && void 0 !== u.ma && void 0 !== w.cb && void 0 !== w.W && void 0 !== w.sb && (x=u.ma.T$(new f.P(w.cb,w.W).Z),void 0 !== x && (u=new g.qIa(u,{W:w.W,cb:w.cb,sb:w.sb,index:x.index,offset:w.offset,ga:w.ga},w.response,n,h,k),void 0 === v.data && (v.data={}),v.data[w.Sa] || (v.data[w.Sa]=[]),v.data[w.Sa].push(u)))):k.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + w.Sa + " movieId: " + w.K);});if(!l.wa(v.data)){t=v.data;Object.keys(t).forEach(function(w){t[w].sort(function(u,x){return u.cb - x.cb;});});}return v;};b.Gva=function(h){return {mediaType:h.mediaType,streamId:h.Sa,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.$c,saveToDisk:!0,offset:h.offset,bytes:h.ga,timescale:h.W,startTicks:h.cb,durationTicks:h.Mv};};b.s9a=c;b.p9a=function(h){var k,n,p,q;k=c(h);if(h.stream.te && h.stream && h.stream.ma){n={timescale:h.stream.ma.W,startTicks:h.stream.ma.so,offset:h.stream.ma.Qi(0)};p=h.stream.ma.Vq;q=p.sizes.buffer;p=p.Me.buffer;}return {mediaType:k.mediaType,streamId:k.streamId,movieId:k.movieId,bitrate:k.bitrate,location:k.location,serverId:k.serverId,saveToDisk:!0,offset:k.offset,bytes:k.bytes,timescale:k.timescale,frameDuration:k.frameDuration,headerData:(0,d.pB)(h.dh.map(function(v){return v.data;})),initSegments:k.initSegments,encrypted:h.Mm,fragments:n,sizes:q,durations:p};};b.W9a=function(h){return {priority:h.priority,movieId:h.K,saveToDisk:h.Ui,firstSelectedStreamBitrate:h.qy,initSelectionReason:h.XB,histDiscountedThroughputValue:h.zF,histTdigest:h.Gq,histAge:h.Fq};};b.Xbb=function(h){return !l.has(h,"startTicks");};b.Uxa=function(h){return !h.Mwa || !h.W || !h.ma || void 0 === h.ma.so || void 0 === h.ma.offset || void 0 === h.ma.Me || !h.ma.Me.length || void 0 === h.ma.sizes || !h.ma.sizes.length;};b.Txa=function(h){return void 0 === h.ga || void 0 === h.offset || void 0 === h.W || void 0 === h.cb || void 0 === h.Mv;};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qIa=void 0;c=a(0);l=a(8);r=a(35);g=a(77);a=(function(m){function d(f,h,k,n,p,q){n=m.call(this,f,h,n,p,q) || this;h.ga=k.byteLength;g.Jl.oa(n,f,h);n.bO=k;n.mAb=h.ga;return n;}c.__extends(d,m);Object.defineProperties(d.prototype,{Hc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kw:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ug:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Pj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ah:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.bO;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{N4b:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{CP:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$Ca:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.mAb;},enumerable:!1,configurable:!0}});d.prototype.Qm=function(){return !0;};d.prototype.VA=function(f,h){this.he=h.appendBuffer(this.response,(0,l.Iy)(this));return {ja:this.he};};d.prototype.Mi=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.ud=function(){};d.prototype.Jga=function(){return !1;};return d;})(a(189).aH);b.qIa=a;(0,r.ef)(g.Jl,a);},function(r){r.exports="4.1.2326";},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V;Object.defineProperties(b,{__esModule:{value:!0}});b.cIa=void 0;c=a(0);l=a(13);g=a(407);m=a(1095);d=a(265);f=a(1096);h=a(259);k=a(6);a(256);n=a(1097);p=a(455);q=a(21);v=a(2);t=a(159);w=a(1098);u=a(1099);x=a(1100);y=a(71);z=a(277);B=a(1101);A=a(61);C=a(278);D=a(8);E=c.__importDefault(a(3));G=a(1102);F=a(1103);L=a(1104);O=a(1105);K=a(28);I=a(1106);M=a(1107);H=a(462);J=a(1125);N=a(1126);P=a(1127);W=a(1186);V=a(1196);r=(function(){function S(U){this.H=U;this.events=new l.EventEmitter();this.Tc=g.fr.CLOSED;this.Rx=[];this.L1=[];this.OV=[];this.Ar=[];this.uXa={};this.F7={};this.KFa=g.rT.default;this.hFb=new y.wx({Ap:this,source:"engine",Lq:10,console:U});}Object.defineProperties(S.prototype,{az:{get:function(){(0,v.assert)(this.IA);return this.IA;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{lac:{get:function(){return this.OV;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{cL:{get:function(){return this.Ar.map(function(U){return U.na;});},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{nac:{get:function(){return this.Ar;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{Ac:{get:function(){this.TL();return this.nB.Ac;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{ku:{get:function(){this.TL();return this.nB.ku;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{vk:{get:function(){this.TL();return this.nB.vk;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{qmc:{get:function(){return this.Rx.length;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{EO:{get:function(){return this.uXa;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{J1a:{get:function(){return this.Vp;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{HG:{get:function(){return this.F7;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{u6b:{get:function(){return this.XYa || (this.XYa=this.XJb());},enumerable:!1,configurable:!0}});S.prototype.open=function(U,fa,qa,xa){var Aa;Aa=this;if(this.Tc === g.fr.OPEN)return !1;this.L=U;this.Su=new A.NU(new C.W5({sk:!0,currentTime:function(){return D.P.Na(E.default.time.fa());},speed:1}),this.H,"Engine Scheduler");this.lYa=new f.AMa(this.H,U);this.hE=new n.yUa(this.lca.bind(this),U);U.nha && (this.Vp=new m.qJa(this.H,function(){return Aa.EO;}));this.nB=h.rM.Naa(U,this.H,fa);this.Tc=g.fr.OPEN;U=Object.create(U,{jHb:{value:U.Jda || U.uO}});this.IA=(0,H.WY)(U);qa && this.IA.dmb(qa);xa && this.IA.KEa(xa);this.kib=new J.GTa({cl:function(){Aa.Tc !== g.fr.CLOSED && Aa.hE.cl("playgraphOpportunity");}});this.YYa=new L.uQa(function(){return Aa.Kaa();},function(){return Aa.Laa().global;},this.H);this.dPb();return !0;};S.prototype.yW=function(U,fa,qa,xa,Aa){var Oa,T,X;Oa=this;void 0 === Aa && (Aa=!0);this.TL();qa=Object.create(qa,{mS:{value:this.HG}});if(Aa){T=this.az.mLb(U,qa);if(T)return (T.Hpb(fa),U=this.wu.bind(this,xa,T),T.ogc(U),T);}T=new I.AUa(function(Q){return Oa.wu(xa,X,Q);},function(Q){return Oa.Mw(xa,Q);});X=(0,P.J9)(this.L,[U,fa,qa,S.B7b++,this.Ac,T,function(Q){return Oa.hE.cl(Q);},Aa?this.az.lLb.bind(this.az):function(){},this.Kaa.bind(this),this.Vp],this.H);X.cg(new u.wVa(X));X.cg(new x.QVa(X.bf));X.Kca.cg(new O.DIa(X));X.Kca.cg(new M.QOa(X));this.gE.lL.forEach(function(Q){return X.cg(Q);});this.kib.yW(X);U=new l.gf();U.on(X.events,"requestsPruned",this.$dc.bind(this));U.on(X.events,"weightUpdated",this.oBa.bind(this));U.on(X.events,"underflow",this.li.bind(this,X));this.Ar.push({na:X,Ph:U,a1:0});this.oBa();return X;};S.prototype.li=function(U){U=this.YYa.KVb(U);(null === U || void 0 === U?0:U.f$) || this.az.reset();};S.prototype.MC=function(U){this.kib.MC(U);this.Ar=this.Ar.filter(function(fa){return fa.na === U?(fa.Ph.clear(),!1):!0;});U.Wa();this.oBa();};S.prototype.GGb=function(U,fa){var qa,xa,Aa;this.TL();Aa=fa.Xf;Aa=void 0 === Aa?[k.u.T,k.u.J]:Aa;U=(0,W.TO)(this.L,[U,Aa,c.__assign({mS:null !== (xa=null !== (qa=fa.mS) && void 0 !== qa?qa:this.F7) && void 0 !== xa?xa:{}},fa)]);this.OV.push(U);return U;};S.prototype.$jb=function(U){this.TL();this.OV=this.OV.filter(function(fa){return fa !== U;});U.Wa();};S.prototype.Nfc=function(U,fa){this.uXa=U;this.F7=fa;this.XYa=void 0;};S.prototype.DL=function(U,fa){var qa,xa;xa=null === (qa=(0,q.Oc)(this.Rx,function(Aa){return Aa.aJ.equals(U);})) || void 0 === qa?void 0:qa.O;xa?xa.DL(c.__assign(c.__assign({},fa),{xp:this.JAa.bind(this)})):this.L1.push({uqb:U,bFa:fa});};S.prototype.bkb=function(U){this.L1=this.L1.filter(function(fa){return !fa.uqb.equals(U);});};S.prototype.close=function(){this.Tc !== g.fr.CLOSED && (this.kdc(),(0,v.assert)(0 === this.Rx.length,"Unexpected viewable lease after Playgraph destruction."),this.jdc(),this.L1=[],delete this.nB,this.Tc=g.fr.CLOSED,this.Su.Wa());};S.prototype.ugc=function(U){this.KFa=U;this.hE.cl("streamingModeChanged");};S.prototype.dPb=function(){this.gE=new K.Hla(this.L);this.gE.cg(new G.ULa(this));this.gE.cg(new B.BUa(this.Ac,this.hE));this.gE.cg(new w.RLa(this.Ac));this.gE.cg(new z.mA(this.hFb));this.gE.cg(new z.mA(this.hE.ks));this.gE.cg(new z.mA(this.lYa.zi));this.gE.cg(new z.mA(this.YYa.zi));};S.prototype.JAa=function(){};S.prototype.eM=function(U){return c.__awaiter(this,void 0,void 0,function(){var fa,qa,xa,Aa;return c.__generator(this,function(Oa){switch(Oa.label){case 0:return ((0,v.assert)(U,"ase.updateViewable(): Viewable config not found."),fa=(0,q.Oc)(this.Rx,function(T){return !0 !== T.aJ.Ov && T.aJ.equals(U);}),(0,v.assert)(fa,"ase.updateViewable(): Viewable entry not found."),[4,fa.YG]);case 1:return (qa=Oa.ub(),Aa=(xa=qa).eM,[4,U.Ru]);case 2:return (Aa.apply(xa,[Oa.ub()]),[2]);}});});};S.prototype.wu=function(U,fa,qa){var xa,Aa,Oa,T;xa=this;Aa=qa.N;Oa=U.Xr(Aa,qa.j1);(0,v.assert)(Oa,"ase.requestViewable(): Viewable config not found.");T=(0,q.Oc)(this.Rx,function(X){return !0 !== X.aJ.Ov && X.aJ.equals(Oa);});T || (T={aJ:Oa,YG:(function(){return c.__awaiter(xa,void 0,void 0,function(){var X,Q;return c.__generator(this,function(ka){switch(ka.label){case 0:return [4,Oa.Ru];case 1:return (X=ka.ub(),Q=this.iy(Aa,Oa,X),T.O=Q,[2,Q]);}});});})(),O:void 0,X3b:new t.Zja(function(X){X() && xa.mDa(T);},(0,D.Oi)(E.default,this.H,("").concat(Aa)))},this.Rx.push(T));U=new V.TWa(T,this.H,fa,qa);U.events.once("error",this.mDa.bind(this,T,!1));return U;};S.prototype.mDa=function(U,fa){var qa,xa;void 0 === fa && (fa=!0);(0,v.assert)(U,"expected viewableEntry to exist");qa=U.O;xa=U.YG;fa && (qa?qa.Wa():xa.then(function(Aa){Aa.Wa();}));this.Rx=this.Rx.filter(function(Aa){return Aa !== U;});};S.prototype.iy=function(U,fa,qa){var Aa,Oa,T,X,Q,ka;function xa(ra){Aa.events.emit("logdata",ra);}Aa=this;this.TL();Oa=qa.ba;T=qa.Tl;X=qa.rg;Q=qa.Xf;Q=void 0 === Q?k.jg:Q;qa=qa.config;ka=[new p.wka(k.u.T),new p.wka(k.u.J)];Oa={ba:Oa,config:qa,Tl:T,Xf:Q,paa:void 0,Ac:this.nB.Ac,vk:this.nB.vk,O6a:{Qt:function(){return Aa.hE.cl("networkFailureReset");},hg:this.hg.bind(this,U),vp:this.vp.bind(this,U),uC:xa},Aab:{uC:xa,aZ:void 0,qF:function(ra){return ka[ra];},Xba:function(){return !0;},tg:void 0,yl:void 0,gi:void 0,yF:void 0},TR:{yv:this.yv.bind(this),zs:this.zs.bind(this)},HG:this.F7,Vb:0,Rq:void 0,Seb:{Pxa:!!X,pcb:!1},X_:function(){}};U=new d.nia(U,Oa);qa.$E && (Oa=(0,q.Oc)(this.L1,function(ra){return ra.uqb.equals(fa);})) && (Oa=Oa.bFa,this.bkb(fa),U.DL(c.__assign(c.__assign({},Oa),{xp:this.JAa.bind(this)})));return U;};S.prototype.Mw=function(U,fa){return c.__awaiter(this,void 0,void 0,function(){var qa,xa,Aa,Oa,T,X,Q,ka,ra;return c.__generator(this,function(R){switch(R.label){case 0:(qa=fa.Tx,xa=fa.N,Aa=U.Xr(xa),(0,v.assert)(Aa,"ase.requestAdBreakHydration(): Parent viewable config not found."),Oa=(0,q.Oc)(this.Rx,function(ha){return !0 !== ha.aJ.Ov && ha.aJ.equals(Aa);}),(0,v.assert)(Oa,("ase.requestAdBreakHydration(): Parent viewable entry not found, ").concat(xa)),T=Oa.O,(0,v.assert)(T,("ase.requestAdBreakHydration(): Parent viewable entry has no aseViewable, ").concat(xa)),X=T.ba.ye,Q={$k:{ye:X,Eh:xa}},R.label=1);case 1:return (R.$q.push([1,3,,4]),[4,U.Mw(qa,Q)]);case 2:return (ka=R.ub(),[2,{$oa:ka,Ppa:T}]);case 3:return (ra=R.ub(),[2,Promise.reject(ra)]);case 4:return [2];}});});};S.prototype.lca=function(){var U,fa;(0,v.assert)(this.state === g.fr.OPEN);U=this.Laa();fa=this.ZP();return this.lYa.Sgb(U,fa);};S.prototype.ZP=function(){var U,fa,qa;U=this;qa=null !== (fa=this.L.Pac) && void 0 !== fa?fa:this.Ar.every(function(xa){return !xa.na.dw;});fa=(0,q.flatten)(this.Ar.map(function(xa){return xa.na.ZP().map(function(Aa){xa.na.dw || 1 === xa.a1 || (Aa.VJ=xa.a1);return Aa;});}));this.KFa === g.rT.disabled?fa=[]:this.KFa === g.rT.f5b && (fa=fa.filter(function(xa){return U.L.Kza >= xa.Eu - xa.Et;}));qa || (qa=fa.filter(function(xa){var Aa;return 1 === (null !== (Aa=xa.VJ) && void 0 !== Aa?Aa:1);}),qa.length && (fa=qa));qa=this.Rx.reduce(function(xa,Aa){return Aa.O?c.__spreadArray(c.__spreadArray([],c.__read(xa),!1),c.__read(Aa.O.ZP()),!1):xa;},[]);return (0,q.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(fa),!1),c.__read(qa),!1));};S.prototype.TL=function(){if(this.Tc === g.fr.CLOSED)throw Error("Engine CLOSED");};S.prototype.kdc=function(){var U,xa;try{for(var fa=c.__values(this.Ar),qa=fa.next();!qa.done;qa=fa.next()){xa=qa.value;xa.Ph.clear();this.MC(xa.na);}}catch(Oa){var Aa;Aa={error:Oa};}finally{try{qa && !qa.done && (U=fa.return) && U.call(fa);}finally{if(Aa)throw Aa.error;}}};S.prototype.jdc=function(){var U;try{for(var fa=c.__values(this.OV),qa=fa.next();!qa.done;qa=fa.next()){this.$jb(qa.value);}}catch(Aa){var xa;xa={error:Aa};}finally{try{qa && !qa.done && (U=fa.return) && U.call(fa);}finally{if(xa)throw xa.error;}}};S.prototype.hg=function(U,fa,qa,xa,Aa,Oa,T){var X;void 0 === T && (T=!1);X=!1;this.k$a(U).forEach(function(Q){if(!T || (0,k.Hq)(Q.Lg.value))X=Q.hg(fa,U,qa,xa,Aa,Oa,T);});return X;};S.prototype.vp=function(U){return this.k$a(U).some(function(fa){return fa.vp();});};S.prototype.k$a=function(U){return this.Ar.filter(function(fa){var qa;for(fa=fa.na;fa.Cb;){fa=fa.Cb;}qa=fa.na;return Object.keys(qa.U).some(function(xa){return qa.U[xa].N === U;});}).map(function(fa){return fa.na;});};S.prototype.Laa=function(){var U;U=new F.yMa();this.Ar.forEach(function(fa){var qa,xa;qa=fa.na;fa=fa.a1;xa=qa.Laa();xa.VJ=fa;U.add(qa.id,xa);});return U;};S.prototype.Kaa=function(){return this.u6b;};S.prototype.XJb=function(){var U,fa;fa=(0,N.f2a)(this.L,this.EO);return {total:(U={},U[k.u.J]=this.EO.video || Infinity,U[k.u.T]=this.EO.audio || Infinity,U[k.u.Za]=this.EO.text || Infinity,U.total=this.EO.total || Infinity,U),zFa:fa};};S.prototype.yv=function(U){var fa;this.hE.yv(U);null === (fa=this.Vp) || void 0 === fa?void 0:fa.yv(U);};S.prototype.zs=function(U){this.hE.zs(U);};S.prototype.oBa=function(){var U;U=this.cL.reduce(function(fa,qa){return Math.max(qa.weight,0) + fa;},0);this.Ar.forEach(function(fa){fa.a1=0 >= fa.na.weight?0:fa.na.weight / U;});};S.prototype.$dc=function(U){var fa;fa=this;this.Vp && U.requests.forEach(function(qa){return fa.Vp.zs(qa);});};S.B7b=0;c.__decorate([(0,y.ec)({methodName:"open"})],S.prototype,"open",null);c.__decorate([(0,y.ec)({methodName:"addPlaygraph",context:function(U){var fa,qa;return {playgraphCount:null !== (qa=null === (fa=U.Hgb.Ar) || void 0 === fa?void 0:fa.length) && void 0 !== qa?qa:0};}})],S.prototype,"yW",null);c.__decorate([(0,y.ec)({methodName:"removePlaygraph",context:function(U){return {playgraphCount:U.Hgb.Ar.length};}})],S.prototype,"MC",null);c.__decorate([(0,y.ec)({methodName:"close"})],S.prototype,"close",null);c.__decorate([(0,y.ec)({methodName:"setStreamingMode",mt:!0})],S.prototype,"ugc",null);c.__decorate([(0,y.ec)({methodName:"notifyAseException",mt:!0})],S.prototype,"JAa",null);c.__decorate([(0,y.ec)({methodName:"updateViewable"})],S.prototype,"eM",null);c.__decorate([(0,y.ec)({methodName:"requestViewable"})],S.prototype,"wu",null);c.__decorate([(0,y.ec)({methodName:"removeViewable"})],S.prototype,"mDa",null);c.__decorate([(0,y.ec)({methodName:"createViewable"})],S.prototype,"iy",null);c.__decorate([(0,y.ec)({methodName:"requestAdBreakHydration"})],S.prototype,"Mw",null);c.__decorate([(0,y.ec)({methodName:"issueRequestOpportunity",Wl:!0,return:!0})],S.prototype,"lca",null);c.__decorate([(0,y.ec)({methodName:"reportStreamingFailure",mt:!0})],S.prototype,"hg",null);return S;})();b.cIa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qJa=void 0;c=a(6);l=a(2);r=(function(){function g(m,d){this.H=m;this.qBb=d;this.Qx=this.yx=this.Gr=0;}g.prototype.yv=function(m){var d;if(!m.Hc){d=m.ga;(0,l.assert)(0 < d);this.Gr+=d;m.mediaType === c.u.T?this.yx+=d:this.Qx+=d;(0,l.assert)(this.Gr === this.yx + this.Qx);(0,l.assert)(0 < this.Gr);(0,l.assert)(0 <= this.yx);(0,l.assert)(0 <= this.Qx);}};g.prototype.zs=function(m){var d;if(!m.Hc){d=m.ga;(0,l.assert)(0 < d);this.Gr-=d;m.mediaType === c.u.T?this.yx-=d:this.Qx-=d;(0,l.assert)(this.Gr === this.yx + this.Qx);(0,l.assert)(0 <= this.Gr);(0,l.assert)(0 <= this.yx);(0,l.assert)(0 <= this.Qx);}};g.prototype.SKb=function(m,d){var f;(0,l.assert)(this.Gr === this.yx + this.Qx);f=this.qBb();if(void 0 !== f.total && this.Gr + d > f.total)return !1;f=m === c.u.T?f.audio:f.video;m=m === c.u.T?this.yx:this.Qx;return void 0 !== f && m + d > f?!1:!0;};return g;})();b.qJa=r;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce((0,m.nfb)(function(q){return q.zC;}),p).zC;}Object.defineProperties(b,{__esModule:{value:!0}});b.AMa=void 0;l=a(0);g=a(256);m=a(21);d=a(6);f=a(71);h=l.__importDefault(a(3));k=a(460);r=(function(){function n(p,q){this.H=p;this.config=q;this.hdb=0;this.zi=new f.wx({Lq:10,Ap:this,source:"GraphStreamingProcess"});}n.prototype.Sgb=function(p,q){var v,t,w,u,x,y,z,B,A,E,G,F,L,O;w=!1;u=[];if(0 < q.length){x=this.Ahc(q);y=x.some(function(I){return 1 === (0,k.h2a)(I) && (0,d.Hq)(I.Lg);});z=x.slice();B=[!1,!1,!1];A=void 0;try{for(var C=l.__values(x),D=C.next();!D.done;D=C.next()){E=D.value;if(E.KF && (!A || E.groupId === A) && "global" !== B[E.mediaType]){G=E.Acb(p,null !== (t=E.VJ) && void 0 !== t?t:1);F=(0,g.yjb)(G.reason);F && (B[E.mediaType]=F,(0,m.O0a)(z,E));if(G.result){L=c(z,E);if(this.aLb(E,y,L)){O=E.Fcb();this.hza(u,E,O.reason);O.Lj && (this.hdb=h.default.time.fa());if(w=O.Lj)break;if("globalVideoMemoryLimit" === O.reason || "globalAudioMemoryLimit" === O.reason){this.H.trace("GSP.onRequestOpportunity stopping at memory limit:",O.reason);break;}this.config.aJb && "pipelineTryIssueHeaderRequest" === O.reason && (A=E.groupId);}else if((this.hza(u,E,"concurrencyCheck"),!F))break;}else this.hza(u,E,G.reason);}}}catch(I){var K;K={error:I};}finally{try{D && !D.done && (v=C.return) && v.call(C);}finally{if(K)throw K.error;}}}this.zi.xv({streamableCount:q.length,streamableReasons:u,lastSuccessfulIssueRequestMs:this.hdb});return w;};n.prototype.Ahc=function(p){return this.qbc(p).sort(function(q,v){return q.priority - v.priority;}).map(function(q){return q.iic;});};n.prototype.qbc=function(p){var q;q=this;return p.map(function(v){return {priority:-(0,k.g2a)(q.config,v,q.H),iic:v};});};n.prototype.hza=function(p,q,v){this.zi.enabled && p.push(this.RZb(v,q));};n.prototype.RZb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Lg,currentPlayerMs:q.Et,pathCompletePlayerMs:q.zC,streamingPlayerMs:q.Eu};};n.prototype.aLb=function(p,q,v){return this.config.$W && (q || (0,d.Hq)(p.Lg))?this.bLb(p,v):this.cLb(p,v);};n.prototype.dLb=function(p){return p.Eu <= p.zC;};n.prototype.cLb=function(p,q){return p.Eu - (p.Et > q?p.Et:q) <= Math.max(this.config.mAa,Math.min((p.zC - p.Et) * this.config.IFa,this.config.a6b));};n.prototype.bLb=function(p,q){var v,t;if(void 0 === this.config.$W)return !0;v=this.config.$W;t=p.Et + v;return p.Eu <= t?!0:this.dLb(p) && q >= t && p.Eu - q < v;};l.__decorate([(0,f.ec)({methodName:"onRequestOpportunity",Wl:!0})],n.prototype,"Sgb",null);return n;})();b.AMa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.yUa=void 0;c=a(0);l=a(2);g=c.__importDefault(a(3));m=a(71);d=a(8);r=(function(){var r$p;r$p=2;for(;r$p !== 13;){switch(r$p){case 6:var u3K="D";u3K+="2";u3K+="a";var u1e="checkRequestO";u1e+="pportunityRu";u1e+="nn";u1e+="er";c.__decorate([(0,m.ec)({methodName:u1e,Wl:!0})],f.prototype,u3K,null);return f;break;case 9:var E6M="z";E6M+="s";var k0Q="r";k0Q+="em";k0Q+="oveRequest";var T3I="y";T3I+="v";var X3y="addRe";X3y+="q";X3y+="ues";X3y+="t";var f_G="c";f_G+="l";var s6d="chec";s6d+="kRequestOpport";s6d+="u";s6d+="nit";s6d+="y";c.__decorate([(0,m.ec)({methodName:s6d,Wl:!0,mt:!0})],f.prototype,f_G,null);c.__decorate([(0,m.ec)({methodName:X3y,Wl:!0})],f.prototype,T3I,null);c.__decorate([(0,m.ec)({methodName:k0Q,Wl:!0})],f.prototype,E6M,null);r$p=6;break;case 5:f.prototype.yv=function(h){var C6K;C6K=2;for(;C6K !== 4;){switch(C6K){case 2:var o7q="More than maxAllowe";o7q+="dOutstandingReq";o7q+="uests are outstandi";o7q+="ng";this.ks.xv({mediaType:h.mediaType,contentStartPts:h.Ud,contentEndPts:h.Pc});this.iI++;(0,l.assert)(this.iI <= this.config.Qca,o7q);C6K=4;break;}}};f.prototype.zs=function(h){var X18;X18=2;for(;X18 !== 3;){switch(X18){case 2:var J7J="Received remov";J7J+="e request when ther";J7J+="e are no requests outstanding";this.ks.xv({mediaType:h.mediaType,contentStartPts:h.Ud,contentEndPts:h.Pc});this.iI--;(0,l.assert)(0 <= this.iI,J7J);X18=4;break;case 4:var I$J="rem";I$J+="o";I$J+="veReq";I$J+="ues";I$J+="t";this.cl(I$J);X18=3;break;case 14:this.cl("");X18=1;break;}}};f.prototype.D2a=function(h){var w7D,k,n,p;w7D=2;for(;w7D !== 9;){switch(w7D){case 2:(k=this.config.Qca,n=g.default.time.fa() - h,p=0);w7D=1;break;case 5:w7D=this.iI < k && this.lca()?4:3;break;case 13:p--;w7D=2;break;case 3:var B4r="requestOpportunit";B4r+="yRunnerComplet";B4r+="e";this.ks.b0a(B4r,{requestsIssued:p,scheduledMs:h,timeSinceScheduled:n},!0);w7D=9;break;case 1:this.pkb.push(n);w7D=5;break;case 4:p++;w7D=5;break;}}};r$p=9;break;case 2:Object.defineProperties(f.prototype,{e8b:{get:function(){var C$e;C$e=2;for(;C$e !== 1;){switch(C$e){case 4:return this.iI;break;case 2:return this.iI;break;}}},enumerable:!1,configurable:!0}});f.prototype.cl=function(){var D0y,k,h;D0y=2;for(;D0y !== 9;){switch(D0y){case 5:this.cEa=!0;k=g.default.time.fa();return Promise.resolve().then(function(){var f1X;f1X=2;for(;f1X !== 5;){switch(f1X){case 2:h.cEa=!1;f1X=1;break;case 1:h.D2a(k);f1X=5;break;}}});break;case 1:D0y=!this.cEa?5:9;break;case 2:h=this;D0y=1;break;}}};r$p=5;break;}}function f(h,k){var Q9E,n;Q9E=2;for(;Q9E !== 14;){switch(Q9E){case 2:n=this;this.lca=h;Q9E=5;break;case 5:var V8f="R";V8f+="eq";V8f+="uest";V8f+="Pacer";var D1k="1";D1k+="SIYbZr";D1k+="NJCp9";var f48="med";f48+="ia|";f48+="as";f48+="ej";f48+="s";var j6K="ASEJS_REQU";j6K+="EST_PA";j6K+="CE";j6K+="R";this.config=k;this.iI=0;this.console=new g.default.Console(j6K,f48);this.cEa=!1;D1k;this.ks=new m.wx({Ap:this,source:V8f,f0a:function(){var V0d;V0d=2;for(;V0d !== 1;){switch(V0d){case 4:return {numOutstanding:n.iI};break;case 2:return {numOutstanding:n.iI};break;}}},Lq:10});Q9E=6;break;case 6:this.pkb=new d.JH();Q9E=14;break;}}}})();b.yUa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RLa=void 0;c=a(28);r=(function(){function l(g){this.Ac=g;}Object.defineProperties(l.prototype,{ke:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.ll=function(g){var m;if(g.Qg === c.Kc.gl && this.Ac){g={};m=this.Ac.get();m && m.avtp && m.avtp.xa && (g.avtp=m.avtp.xa,g.dltm=m.avtp.k$);m && m.initialThroughput && m.initialThroughput.xa && (g.initial_avtp=m.initialThroughput.xa);m && m.cdnavtp && (g.cdnavtp=m.cdnavtp,g.activecdnavtp=m.activecdnavtp);if(m=this.Ac.Oaa())(m.bytesRequestedPacingVideo && (g.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,g.estimatedBytesPacedVideo=m.estimatedBytesPacedVideo,g.bytestotalVideo=m.bytestotalVideo,g.pacedAvtpVideo=m.pacedAvtpVideo),m.bytesRequestedPacingAudio && (g.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,g.estimatedBytesPacedAudio=m.estimatedBytesPacedAudio,g.bytestotalAudio=m.bytestotalAudio,g.pacedAvtpAudio=m.pacedAvtpAudio),m.pacedAvtp && (g.pacedAvtp=m.pacedAvtp));this.Ac.flush();if(m=this.Ac.e9a())for(var d in m){m.hasOwnProperty(d) && (g["ne" + d]=Number(m[d]).toFixed(6));}return g;}};return l;})();b.RLa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.wVa=void 0;c=a(13);l=a(6);g=a(28);r=(function(){function m(d){this.JXa=!1;this.eF=new c.gf();this.eF.addListener(d.events,"streamSelection",this.lBa.bind(this));}m.prototype.lBa=function(d){this.JXa || (d.mediaType === l.u.T && void 0 === this.xxa?this.xxa=d:d.mediaType === l.u.J && void 0 === this.Bxa && (this.Bxa=d));};m.prototype.Wa=function(){this.Bxa=this.xxa=void 0;this.eF.clear();this.JXa=!0;};Object.defineProperties(m.prototype,{ke:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});m.prototype.ll=function(d){var f;if(d.Qg === g.Kc.Cl)return (d=null !== (f=this.Bxa) && void 0 !== f?f:this.xxa,f={histdiscbw:null === d || void 0 === d?void 0:d.result.gw,histage:null === d || void 0 === d?void 0:d.result.Fq},d=null === d || void 0 === d?void 0:d.streamList.map(function(h){return void 0 !== h.D$?{vmaf:h.D$,streamIndex:h.Ag,streamId:h.Sa}:void 0;}).filter(function(h){return void 0 !== h;}),0 < (null === d || void 0 === d?void 0:d.length) && (f.vmafEstimates=d),this.Wa(),f);this.Wa();};return m;})();b.wVa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.QVa=void 0;r=a(0);c=a(13);l=a(10);g=r.__importDefault(a(3));m=a(28);a=(function(){function d(f){this.Ee=f;this.s6=[];this.reset();}Object.defineProperties(d.prototype,{ke:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ju:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var f,h;f=this;null === (h=this.EN) || void 0 === h?void 0:h.clear();this.EN=new c.gf();this.EN.on(this.Ee,"clockChanged",function(){f.reset();f.AY("initial");});this.EN.on(this.Ee,"stopping",function(){f.AY("stopping");});this.EN.on(this.Ee.za,"clockAdjusted",function(){f.AY("clockAdjusted");});this.EN.on(this.Ee.za,"stopStart",function(){f.AY("stopStart");});this.EN.on(this.Ee.za,"speedChanged",function(){f.AY("speedChanged");});};d.prototype.AY=function(f){this.s6.push({reason:f,audit:this.Ee.ty(),time:g.default.time.fa()});5 < this.s6.length && this.s6.shift();};d.prototype.ll=function(f){var h;h=f.Qg;f=f.SF;if(h === m.Kc.Cl || h === m.Kc.pn || h === m.Kc.gl || void 0 === h && void 0 === f)return this.s6;};return d;})();b.QVa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BUa=void 0;c=a(28);r=(function(){function l(g,m){this.Ac=g;this.qkb=m;}Object.defineProperties(l.prototype,{ke:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.ll=function(g){var m;m=g.Qg;g=g.SF;if(m === c.Kc.gl || m === c.Kc.pn || void 0 === m && void 0 === g)return (m={numOutstandingRequests:this.qkb.e8b,requestOpportunityDelayStats:this.qkb.pkb},(g=this.Ac.C_a) && g.length && (m.activeRequests=JSON.stringify(g)),m);};return l;})();b.BUa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ULa=void 0;c=a(28);r=(function(){function l(g){this.z$=g;this.ju="engine";this.enabled=!0;}Object.defineProperties(l.prototype,{ke:{get:function(){return this.ju;},enumerable:!1,configurable:!0}});l.prototype.ll=function(g){var m;m=g.Qg;g=g.SF;if(m === c.Kc.Cl || m === c.Kc.pn || m === c.Kc.gl || void 0 === m && void 0 === g)return (m=this.z$.nac.map(function(d){var f;f=d.na;return {id:f.id,weight:f.weight,relativeWeight:d.a1};}),{prefetcher:this.z$.az.getStats(),playgraphs:m,viewables:this.z$.qmc,players:this.z$.lac.length});};return l;})();b.ULa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.yMa=void 0;c=a(2);l=a(461);r=(function(){function g(){this.global=new l.qU();this.cL={};}g.prototype.add=function(m,d){(0,c.assert)(void 0 === this.cL[m],"Cannot add new memory object for playgraph");this.cL[m]=d;this.global.add(d.Bt);this.global.add(d.NX);};return g;})();b.yMa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.uQa=void 0;c=a(0);l=a(10);g=a(460);m=a(6);d=a(71);r=(function(){function f(h,k,n){this.pva=h;this.FXb=k;this.H=n;this.zi=new d.wx({Ap:this,console:n,source:"MemoryDeadlockProtector",Lq:5});}f.prototype.KVb=function(h){var k,n,p,q;p=h.config;q=p.Ak + (null !== (n=null === (k=p.mS) || void 0 === k?void 0:k.Z) && void 0 !== n?n:0);k=this.U_b(q,h);l.M && this.H.debug(("MDP: has prebuf: ").concat(k));return k?{f$:!0}:(n=this.aKb(p),k=n.O9b,n=n.Plc,k && n?(l.M && this.H.debug(("MDP: utilizing ").concat(Math.round(100 * n),"%")),n >= p.s6b?this.zkb(h,k):{f$:!0}):{f$:!1});};f.prototype.zkb=function(h,k){var n,p,q,v,t,u,z,B;this.zi.xv({o:k});v=h.X;h=h.eb;t=v.eb;v=v.$t;for(var w=0;w < t.length;w++){if(!t[w].Ej){v=t[w];t=t.slice(0,w + 1);break;}}w=!1;u=[{mediaType:m.u.T,bB:0},{mediaType:m.u.J,bB:0},{mediaType:m.u.Za,bB:0}];if(null === v || void 0 === v || !v.Ej){h=h.map(function(C){return C;}).filter(function(C){return -1 === t.indexOf(C);}).sort(function(C,D){return (0,g.Qqa)(C) - (0,g.Qqa)(D);});try{for(var x=c.__values(h),y=x.next();!y.done;y=x.next()){z=y.value;B=z.JB();u[m.u.T].bB+=null !== (p=B.qE) && void 0 !== p?p:0;u[m.u.J].bB+=null !== (q=B.Qu) && void 0 !== q?q:0;l.M && this.H.debug(("Resetting discontiguous branch ").concat(z.G.id),B);z.reset();if(w=u.every(function(C){return C.bB >= k[C.mediaType].bB;}))break;}}catch(C){var A;A={error:C};}finally{try{y && !y.done && (n=x.return) && n.call(x);}finally{if(A)throw A.error;}}}return {f$:w,Puc:u};};f.prototype.aKb=function(h){var k,n,p,q,v;k=[m.u.T,m.u.J,m.u.Za];if(!h.t6b)return {};n=this.FXb();p=this.pva().total;q=h.r6b;v=0;h=k.map(function(t){var w;w=n[t] - p[t] * q;v=Math.max(0 < p[t]?n[t] / p[t]:0,v);return {bB:Math.max(0,w),mediaType:t};});return {Plc:v,O9b:h};};f.prototype.U_b=function(h,k){var n,p;n=!1;k=k.dw?k.X:void 0;if(null === k || void 0 === k?0:k.H1b){n=k.oi.Om().map(function(q){return q.mediaType;});p=k.YWb();n=n.every(function(q){var v,t;if(q === m.u.T)q=null !== (v=p.jt) && void 0 !== v?v:0;else if(q === m.u.J)q=null !== (t=p.Kp) && void 0 !== t?t:0;else throw Error(("Unsupported media type:").concat(q));return q >= h;});}return n;};c.__decorate([(0,d.ec)({methodName:"resetDiscontiguousBranches",return:!0,Wl:!0})],f.prototype,"zkb",null);return f;})();b.uQa=r;},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.DIa=void 0;r=a(0);c=a(13);l=a(8);g=r.__importDefault(a(29));m=a(21);d=r.__importDefault(a(439));f=a(28);h=a(279);a=(function(){function k(n){var p,q;p=this;this.na=n;this.Lt="aseReport";this.bX=l.P.Ut;this.events=new c.EventEmitter();this.Cra=h.M5.pKa;this.bq=!1;this.d_a=0;if(0 === Math.floor(1E6 * Math.random()) % n.config.yO || n.config.Luc){this.bX=l.P.Na(n.config.G8);this.$5b=n.config.LHb;this.na.F8=!0;q=[];q[g.default.de.J]=new d.default(n.config,g.default.de.J);q[g.default.de.T]=new d.default(n.config,g.default.de.T);this.Foa=q;this.na.events.on("openComplete",function(){return p.open();});}}k.prototype.open=function(){this.na.F8 && !this.bq && (this.bq=!0,this.na.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.na.events.on("requestIssued",this.lBa.bind(this)));};k.prototype.lBa=function(n){n.result && n.streamList && (this.Foa[n.mediaType].add(n.result,n.streamList),++this.d_a >= this.$5b && this.events.emit("collectionRequested"));};k.prototype.iwa=function(){var n;n=(0,m.flatten)(this.Foa.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.Foa.forEach(function(p){return p.reset(!0);});this.d_a=0;return n;};k.prototype.Tf=function(n){var p,q;p=n.Qg;q=n.RLb;n=n.Qbb || q || p === f.Kc.gl;return this.na.F8 && this.bq && n && (n=this.iwa()) && n.length?{hga:!0,event:{type:"asereport",strmsel:n}}:{hga:!1};};return k;})();b.DIa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.AUa=void 0;c=a(197);r=(function(){function l(g,m){this.Pdc=m;this.k1=[];this.k1.push(g);}l.prototype.wu=function(g,m){return c.FT.Sba({N:g,j1:m},this.k1);};l.prototype.Mw=function(g){return this.Pdc(g);};l.prototype.Bdc=function(g){this.k1.pop();this.k1.push(g);};l.prototype.P_a=function(g){this.k1.unshift(g);};return l;})();b.AUa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.QOa=void 0;c=a(13);l=a(8);g=a(6);m=a(279);d=a(28);r=(function(){function f(h){this.na=h;this.Lt="liveReport";this.bX=l.P.Ut;this.events=new c.EventEmitter();this.Cra=m.M5.vVa;this.hV=!1;this.trace=[];this.Bob=1;0 < h.config.xdb && 0 < h.config.Yya && (this.bX=l.P.Na(h.config.Yya),this.Bob=Math.max(Math.floor(h.config.xdb / h.config.Yya),1),this.hV=!0);}f.prototype.PLb=function(){var h,k,n,p;k=this.na.X;if(k.qf){n=k.oi;p=n.O;if(p.ta){if(n=null === (h=n.gb(g.u.J)) || void 0 === h?void 0:h.nl)(h=n.Aq(),p=p.B1,k=h.aqa + k.Ae.Z,h=this.na.JJ(),this.trace.push([p,k,h.totalabuflmsecs,h.totalvbuflmsecs]));}else this.hV=!1;}};f.prototype.Tf=function(h){var k;k=h.Qbb;h=h.Qg;this.hV && (k || h === d.Kc.Cl) && this.PLb();return this.trace.length === this.Bob || 0 < this.trace.length && h === d.Kc.gl?(k=this.trace,this.trace=[],{hga:!0,event:{type:"livereport",samplinginterval:this.bX.Z,trace:k}}):{hga:!1};};return f;})();b.QOa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B;Object.defineProperties(b,{__esModule:{value:!0}});b.RTa=void 0;c=a(0);l=a(13);g=a(6);m=a(8);d=a(197);f=a(21);h=a(2);k=a(1109);n=a(10);p=a(116);q=a(1110);v=c.__importDefault(a(3));t=a(400);w=a(1111);u=a(1119);x=a(1120);y=a(198);z=a(1122);B=a(1124);r=(function(){function A(C,D,E,G,F){void 0 === G && (G=new u.OKa());void 0 === F && (F=new w.NKa());this.J6a=C;this.config=D;this.Kjb=G;this.jo=[];this.zib=[];this.Fz=[];this.dc={Kcb:0,Lcb:0,Hcb:0,Cqa:0,Icb:0,Jcb:0,Dqa:0};this.events=new l.EventEmitter();this.H=(0,m.Oi)(v.default,E,"PREFETCH");this.X_a(new x.qKa(D));this.X_a(new B.dVa(D));this.Glb({BF:D.Lac});this.KEa(F);this.D1b();}Object.defineProperties(A.prototype,{Mac:{get:function(){return this.jo.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});A.prototype.dmb=function(C){n.M && (0,h.assert)(C,"Reconciliation strategy is undefined");this.Kjb=C;return this;};A.prototype.X_a=function(C){this.zib.unshift(C);};A.prototype.mmb=function(C){n.M && this.H.debug("Wish list changed",{Fwc:C.length});this.Fz=C;this.ECa();};A.prototype.reset=function(){var C,G,F,L,O,K;if(this.config.Uac)try{for(var D=c.__values(this.jo),E=D.next();!E.done;E=D.next()){G=E.value;F=G.na;L=G.sca;O=G.context;if(F){F.ie();L.nfa(function(M){return "segmentNormalized" !== M.Lt;});K=(0,y.Zva)(O.ve,F.na);F.CG(K);}}}catch(M){var I;I={error:M};}finally{try{E && !E.done && (C=D.return) && C.call(D);}finally{if(I)throw I.error;}}else this.mmb([]);};A.prototype.Glb=function(C){n.M && this.H.debug("Budget changed",{z8b:this.WW,x7b:C});this.WW=C;this.ECa();};A.prototype.mLb=function(C,D){var E,G,F,L;n.M && this.H.debug("Looking for playgraph to claim");if(C=this.Kjb.v7a(this.jo,{na:C,Uj:D}))if((D=this.Fz.indexOf(C.context.ve),n.M && this.H.debug(("Claiming item: ").concat((0,y.pp)(C.context.ve.key)),{In:v.default.time.fa() - C.Oga,buffer:null === (E=C.na) || void 0 === E?void 0:E.Nh(m.P.Pa)}),this.gP(C.context,{sya:!!C.na}),C.na)){E=C.na;F=C.dn;L=E.ti;z.PTa.Edc(E,L,C.sca,this.H);F.Sec(null !== (G=E.kZ(L)) && void 0 !== G?G:m.P.Pa,D);E.mpb({BF:this.config.gu || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.ve,videoBytesBuffered:C.na.JJ().Qu,audioBytesBuffered:C.na.JJ().qE});}this.config.jHb || this.reset();return null === C || void 0 === C?void 0:C.na;};A.prototype.lLb=function(){};A.prototype.getStats=function(){var C;C=v.default.time.fa();return {wishListLength:this.Fz.length,prefetchList:this.Mac.length,contents:this.jo.map(function(D){var E,G,F,L,O;return {id:(0,y.pp)(D.context.ve.key),buffer:null === (E=D.na) || void 0 === E?void 0:E.Nh(m.P.Pa),pId:null === (G=D.na) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:D.context.Gcb.BF},weight:D.context.Lea,age:C - D.Oga,timeOpened:C - (null !== (F=D.xjc) && void 0 !== F?F:0),state:g.bd[null !== (O=null === (L=D.na) || void 0 === L?void 0:L.Lg.value) && void 0 !== O?O:g.bd.zm]};}),aggregated:{itemsRequested:this.dc.Kcb,itemsStarted:this.dc.Lcb,itemsClaimed:this.dc.Hcb,bytesClaimed:this.dc.Cqa,itemsCompleted:this.dc.Icb,itemsDiscarded:this.dc.Jcb,bytesDiscarded:this.dc.Dqa}};};A.prototype.gP=function(C,D){var E;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var G,F,L,O,K,I;return c.__generator(this,function(M){switch(M.label){case 0:G=c.__assign({sya:!1,Qcb:!1},D);F=G.sya;L=G.Qcb;O=(0,f.Oc)(this.jo,function(H){return H.context === C;});if(!O)return [3,3];this.jo.splice(this.jo.indexOf(O),1);L || (K=this.Fz.length,this.Fz=this.Fz.filter(function(H){return H !== C.ve;}),n.M && this.H.info("Dropping items from wishlist",K - this.Fz.length),this.Fz.length >= K && n.M && this.H.warn("Unable to filter out wishlist item",this.Fz.map(function(H){return H.key;}),C.ve.key));n.M && this.H.debug("Dropping playgraph",{In:v.default.time.fa() - O.Oga,buffer:null === (E=O.na) || void 0 === E?void 0:E.Nh(m.P.Pa),N:(0,y.pp)(C.ve.key),kxc:!F,Buc:!L});O.eF.clear();if(F)return [3,2];I=this.MC(O);return O.na?[4,I]:[3,2];case 1:(M.ub(),M.label=2);case 2:(this.ECa(),M.label=3);case 3:return [2];}});});};A.prototype.KEa=function(C){(0,h.assert)(C,"Playgraph resolver is undefined");this.gCa=C;return this;};A.prototype.D1b=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.dc.Icb++;});this.events.on("prefetchStarted",function(){return C.dc.Lcb++;});this.events.on("itemQueued",function(){return C.dc.Kcb++;});this.events.on("itemClaimed",function(D){var E,G;C.dc.Hcb++;C.dc.Cqa+=(null !== (E=D.gmc) && void 0 !== E?E:0) + (null !== (G=D.hIb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var E,G;C.dc.Jcb++;C.dc.Dqa+=(null !== (E=D.gmc) && void 0 !== E?E:0) + (null !== (G=D.hIb) && void 0 !== G?G:0);});};A.prototype.ECa=function(){var C,D,E,G,F,L;C=this;D=d.FT.Sba({Kmc:this.Fz,V$a:this.WW},this.zib.map(function(O){return O.c2a.bind(O);})).jo;E=(0,f.zv)(D,this.jo,function(O,K){return (0,y.isEqual)(O.ve.key,K.context.ve.key);});G=(0,f.zv)(this.jo,D,function(O,K){return (0,y.isEqual)(O.context.ve.key,K.ve.key);});F=(0,f.zv)(this.jo,G);n.M && this.H.debug(("Re-evaluated prefetch items. new:").concat(E.length,", evict: ").concat(G.length,", update: ").concat(E.length));G=G.map(function(O){var K;K=O.context.ve.key;n.M && C.H.debug("Releasing playgraph",(0,y.pp)(K));return C.MC(O).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:O.context.ve});});});L=F.map(function(O){return c.__awaiter(C,void 0,void 0,function(){var K,I;return c.__generator(this,function(M){switch(M.label){case 0:(K=(0,f.Oc)(D,function(H){return (0,y.isEqual)(H.ve.key,O.context.ve.key);}),(0,h.assert)(K,"Couldn't find the requested item context"),O.context=K,M.label=1);case 1:return (M.$q.push([1,3,,4]),[4,O.Kea]);case 2:return (I=M.ub(),[3,4]);case 3:return (M.ub(),[2]);case 4:return ((0,f.Oc)(this.jo,function(H){return H === O;}) && (this.J0a(O.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:O.context.ve})),[2]);}});});});E=E.map(function(O){var K;K=C.$Ob(O);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:O.ve});return K;});this.jo=c.__spreadArray(c.__spreadArray([],c.__read(F),!1),c.__read(E),!1);F=E.map(function(O){return O.Kea.catch(function(){});});F=G.concat(L).concat(F);Promise.all(F);};A.prototype.MC=function(C){var D;D=this;return C.Kea.then(function(E){return c.__awaiter(D,void 0,void 0,function(){var G;return c.__generator(this,function(F){switch(F.label){case 0:return (n.M && this.H.debug("Removing prefetch playgraph",{size:E.Nh(m.P.Pa)}),C.eF.clear(),[4,this.J6a()]);case 1:return (G=F.ub(),G.MC(E),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.ve,videoBytesBuffered:E.JJ().Qu,audioBytesBuffered:E.JJ().qE}),[2]);}});});},function(){});};A.prototype.J9=function(C){return c.__awaiter(this,void 0,void 0,function(){var D,E,G,F,L,O,K;K=this;return c.__generator(this,function(I){switch(I.label){case 0:return (D=C.context,E=(0,y.pp)(D.ve.key),n.M && this.H.debug("Creating playgraph",E),[4,this.gCa.keb(D)]);case 1:return (G=I.ub(),[4,D.ve.Hh.Xr(E).Ru]);case 2:return (F=I.ub(),F.ba.Zo?(this.gP(D,{sya:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(E) + " is not supported with prefetching")]):[4,this.J6a()]);case 3:return (L=I.ub(),O=L.yW(G,D.Lea,D.Uj,D.ve.Hh,!1),C.eF.addListener(O.events,"error",function(M){n.M && K.H.debug("Prefetch playgraph resulted in error",M.zuc);K.gP(D);}),[2,O]);}});});};A.prototype.w9b=function(C,D){return c.__awaiter(this,void 0,void 0,function(){var E,G,F,L;return c.__generator(this,function(O){switch(O.label){case 0:return (E=C.context,G=(0,y.pp)(E.ve.key),F=E.ve.Hh.Xr(G),[4,F.Ru]);case 1:return (L=O.ub(),this.J0a(E,D),this.CHb(E,D,!!L.rg),D.open(),D.UC({dS:function(K,I){var M;M=K.recommendedMedia;return M?(0,f.ot)(I,function(H){return H.new_track_id === M.lq;}):(0,f.ot)(I,function(H){return H.track_id === K.defaultTrackOrderList[0].audioTrackId;});}},{dS:function(K,I){var M;M=K.recommendedMedia;return M?(0,f.ot)(I,function(H){return H.new_track_id === M.$S;}):(0,f.ot)(I,function(H){return H.track_id === K.defaultTrackOrderList[0].videoTrackId;});}}),D.CG((0,y.Zva)(E.ve,D.na)),this.bdc(C,F),F.Ov && (n.M && this.H.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.gP(C.context)),[2]);}});});};A.prototype.bdc=function(C,D){var G;function E(F){n.M && G.H.debug(("Viewable ").concat(F?"superseded":"expired"),(0,y.pp)(C.context.ve.key));C.Zvc=!0;G.gP(C.context,{Qcb:!F});}G=this;D.events && (C.eF.addListener(D.events,"viewableEvicted",function(){E(!0);}),C.eF.addListener(D.events,"viewableExpired",function(){E(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.ve});};A.prototype.J0a=function(C,D){D.Hpb(C.Lea);D.mpb(C.Gcb);};A.prototype.CHb=function(C,D,E){var G;G=C.dic;C=G.audio;G=G.video;E && G.push(new t.mU(this.H,D.config));D.PEa(new p.vx(C,!0),new p.vx(G,!0));};A.prototype.$Ob=function(C){var D,E,G;D=this;E=new k.QTa();G={context:C,Oga:v.default.time.fa(),eF:new l.gf(),dn:E};G.Kea=this.J9(G).then(function(F){return c.__awaiter(D,void 0,void 0,function(){var L,O;O=this;return c.__generator(this,function(K){switch(K.label){case 0:for(L=F;L.Cb;){L=L.Cb;}F.cg(E);E.bIb(F);G.sca=new q.bMa(L.events,{Wgc:function(I){var M;M=I.Lt;switch(M){case "buffering":return !1;case "bufferingStarted":G.sca.nfa(function(H){return "bufferingComplete" === H.Lt || "updateStreamingPts" === H.Lt;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.sca.nfa(function(H){return H.Lt === M;});default:return !0;}}});L.events.on("bufferingComplete",function(){O.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.ve});});return [4,this.w9b(G,F)];case 1:return (K.ub(),G.xjc=v.default.time.fa(),G.na=F,[2,F]);}});});});G.Kea.catch(function(F){n.M && D.H.error("Exception occurred creating playgraph",F);D.gP(G.context);});return G;};return A;})();b.RTa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.QTa=void 0;c=a(0).__importDefault(a(3));l=a(28);r=(function(){function g(){this.creationTime=c.default.time.fa();this.fd={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}g.prototype.bIb=function(m){this.na=m;};g.prototype.Sec=function(m,d){var f;m=null === (f=this.na) || void 0 === f?void 0:f.Nh(m);this.fd={isPrefetchItem:!0,prefetchedVideoMs:m.NS,prefetchedAudioMs:m.MS,prefetchClaimDurationMs:c.default.time.fa() - this.creationTime,prefetchRank:d};};Object.defineProperties(g.prototype,{ke:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.ll=function(m){if(m.Qg === l.Kc.Cl)return this.fd;};return g;})();b.QTa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bMa=void 0;c=a(0);r=(function(){function g(m,d){void 0 === d && (d={});this.vq=m;this.options=d;this.xJ=[];this.fK=new l(m,this.tGb.bind(this));}g.prototype.tGb=function(m){for(var d,f,h,k,n,p,q=[],v=1;v < arguments.length;v++){q[v - 1]=arguments[v];}q={Lt:m,mt:q};(null !== (h=null === (f=(d=this.options).Wgc) || void 0 === f?void 0:f.call(d,q,this.xJ)) && void 0 !== h?h:1) && this.xJ.push(q);return null !== (p=null === (n=(k=this.options).Sxc) || void 0 === n?void 0:n.call(k,q)) && void 0 !== p?p:!0;};g.prototype.nfa=function(m){this.xJ=this.xJ.filter(function(d,f){return !m(d,f);});};g.prototype.qDa=function(){var m;m=this;this.fK.EGa();this.xJ.forEach(function(d){var f;(f=m.vq).emit.apply(f,c.__spreadArray([d.Lt],c.__read(d.mt),!1));});this.fK.Cbb();};Object.defineProperties(g.prototype,{length:{get:function(){return this.xJ.length;},enumerable:!1,configurable:!0}});g.prototype.clear=function(){this.xJ=[];};g.prototype.Wa=function(){this.clear();this.fK.EGa();this.options=void 0;};return g;})();b.bMa=r;l=(function(){function g(m,d){this.vq=m;this.Gv=d;this.bhb=this.vq.emit;this.IOb();this.Cbb();}g.prototype.IOb=function(){var m;m=this;this.fK=function(d){for(var f,h,k=[],n=1;n < arguments.length;n++){k[n - 1]=arguments[n];}return (null === (h=m.Gv) || void 0 === h?0:h.call.apply(h,c.__spreadArray([m,d],c.__read(k),!1)))?(f=m.bhb).call.apply(f,c.__spreadArray([m.vq,d],c.__read(k),!1)):!1;};};g.prototype.Cbb=function(){this.fK && (this.vq.emit=this.fK);};g.prototype.EGa=function(){this.vq.emit=this.bhb;};g.prototype.Wa=function(){this.EGa();this.Gv=this.fK=void 0;};return g;})();},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.NKa=void 0;c=a(0);l=a(38);g=a(198);r=(function(){function m(){}m.prototype.keb=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,h,k,n,p;return c.__generator(this,function(q){switch(q.label){case 0:f=d.ve.key;if(!(0,g.RZ)(f))return [3,2];h=f.N;k=d.ve.Hh.Xr(h);return [4,Promise.resolve(k.Ru)];case 1:return (n=q.ub(),p=n.ba,p.Vo?[2,(0,l.o9)(p.Vo,{config:n.config})]:[2,(0,l.pga)(h,"ps0")]);case 2:return [2,f.na];}});});};return m;})();b.NKa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tla=void 0;b.tla=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.me,segments:a.YPb(c.U)},void 0 !== c.Ge?{transitionType:c.Ge}:{});};a.encode=function(c){return Object.assign({me:c.initialSegment,U:a.aTb(c.segments)},void 0 !== c.transitionType?{Ge:c.transitionType}:{});};a.aTb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.$Sb(c[g]);return l;},{});};a.$Sb=function(c){return Object.assign({N:c.viewableId,Ba:c.startTimeMs},c.endTimeMs?{Aa:c.endTimeMs}:{},c.defaultNext?{bc:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Ge:c.transitionType}:{},c.next?{next:a.YSb(c.next)}:{},c.exitZones?{xq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{tc:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{Pv:c.fadeIn}:{},void 0 !== c.fadeOut?{Qv:c.fadeOut}:{});};a.YSb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.ZSb(c[g]);return l;},{});};a.ZSb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Ge:c.transitionType}:{});};a.YPb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.XPb(c[g]);return l;},{});};a.XPb=function(c){return Object.assign({viewableId:c.N,startTimeMs:c.Ba},c.Aa?{endTimeMs:c.Aa}:{},c.bc?{defaultNext:c.bc}:{},c.weight?{weight:c.weight}:{},c.Ge?{transitionType:c.Ge}:{},c.next?{next:a.VPb(c.next)}:{},c.xq?{exitZones:c.xq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.tc?{uxSegment:c.tc}:{},c.type?{type:c.type}:{},void 0 !== c.Pv?{fadeIn:c.Pv}:{},void 0 !== c.Qv?{fadeOut:c.Qv}:{});};a.VPb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.WPb(c[g]);return l;},{});};a.WPb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Ge?{transitionType:c.Ge}:{});};return a;})();},function(r,b,a){var f;function c(h){return Object.keys(h.segments).some(function(k){return void 0 !== d(h.segments[k]);});}function l(h){return "delayedSeamless" === h?"lazy":h;}function g(h){return Object.keys(h).reduce(function(k,n){var p,q;p=h[n];q=p.weight;p=p.transitionType || p.transitionHint;n=k[n]={};void 0 !== q && (n.weight=q);p && (n.Ge=l(p));return k;},{});}function m(h){var k,n;k=Object.keys(h);n=k.length;return n?k.reduce(function(p,q){return p + (h[q].weight || 0);},0) / n:void 0;}function d(h){var k;if(h.ui){k=h.ui.interactionZones;if((null === k || void 0 === k?0:k.length) && k[0].length)return k[0][0] - h.startTimeMs;h=h.ui.interactionZonesV2;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0];}else if(void 0 !== h.earliestSkipRequestOffset)return h.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.o9=void 0;f=a(161);b.o9=function(h,k){var n,p,q,v,t,w;n=void 0 === k?{}:k;k=n.Xf;p=n.me;q=n.U;n=n.config;v=!(!n || -1 === n.Aua.indexOf(h.viewableId));t=c(h)?0:(null === n || void 0 === n?void 0:n.zua) || 0;n=new f.qx();w=q || h.segments;n.BL(null !== p && void 0 !== p?p:h.initialSegment).Ulb(null !== k && void 0 !== k?k:h.mediaTypes).VEa(v?"immediate":l(h.transitionType)).OEa(Object.keys(w).reduce(function(u,x){var y,z,B,A,C,D;y=w[x];if(null === (z=y.weight) || void 0 === z){z=y.next && (v || (null === (A=y.exitZones) || void 0 === A?0:A.length))?m(y.next):void 0;}A=z;if(z=y.exitZones)C=void 0;else a:{if(v && y.endTimeMs){C=y.endTimeMs - y.startTimeMs;D=d(y);if(D && D < C){C=[[D,C]];break a;}if(t && C > t){C=[[C - t,C]];break a;}}C=void 0;}D=v?C?void 0:y.transitionHint || "lazy":y.transitionHint;A={N:h.viewableId,Ba:y.startTimeMs,Aa:null !== (B=y.endTimeMs) && void 0 !== B?B:Infinity,Ge:l(D),xq:z || C,weight:A};y.defaultNext && (A.bc=y.defaultNext);y.next && (A.next=g(y.next));u[x]=A;return u;},{}));return n.ij();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.pga=void 0;c=a(161);b.pga=function(l,g,m){var d;d=new c.qx();d.BL(g).VEa("lazy").Ulb(m).Jg(g,{N:l,Ba:0,Aa:Infinity});return d.ij();};},function(r,b,a){var f,h,k,n;function c(p){for(var q=p.me,v=[];q;){v.push(q);q=p.U[q].next;if(!q)break;q=Object.keys(q);if(q.length)(k.assert(1 === q.length,"Expected linear playgraph"),q=q[0]);else break;}return v;}function l(p){return n.FW(Object.keys(p.U).map(function(q){return p.U[q].N;}));}function g(p,q){return Object.keys(q.U).some(function(v){v=q.U[v];return p.N === v.N && p.Ba > v.Ba && (!v.Aa || !!p.Aa && (Infinity === p.Aa || p.Aa < v.Aa));});}function m(p){return null === p || void 0 === p?Infinity:p;}function d(p,q){return null === p || void 0 === p?Infinity === m(q.Aa):p >= q.Ba && p <= m(q.Aa);}Object.defineProperty(b,"__esModule",{value:!0});b.dAa=void 0;f=a(0);h=a(161);k=a(463);n=a(280);b.dAa=function(p,q){var v,t,w,u,x;v=c(q);t=l(p);w=l(q);t=n.N0a(t,w);k.assert(1 === t.length,"Source and content playgraphs should share one viewable");u=t[0];w=Object.keys(p.U).filter(function(y){return p.U[y].N === u;}).map(function(y){var F,L,O,K,I,M;for(var z,B=p.U[y],A=B.Ba,C=m(B.Aa),D=0 === A,E=[],G=0;G < v.length;++G){F=v[G];L=q.U[F];O=g(p.U[y],q);if(L.N !== u)D && E.push({id:y + ":" + F,G:f.__assign(f.__assign({},L),{tc:y})});else if(D){I=Math.max(B.Ba,L.Ba);K=(M=!Number.isFinite(C) && G == v.length - 1)?C:Math.min(C,m(L.Aa));K > I && (O=Infinity !== C || !O && !M?Infinity === K?null:K:B.Aa,E.push({id:y + ":" + F,G:f.__assign(f.__assign({},L),{Ba:I,Aa:O,tc:y})}));if(d(C,L)){if(C === m(L.Aa))for(G+=1;G < v.length;++G){A=v[G];C=q.U[A];if(C.N === u)break;E.push({id:y + ":" + A,G:f.__assign(f.__assign({},C),{tc:y})});}break;}}else if(d(A,L))if((D=!0,C <= m(L.Aa)))E.push({id:y,G:B});else {I=B.Ba;M=!Number.isFinite(C) && G == v.length - 1;O=M && O?B.Aa:Math.min(C,m(L.Aa));E.push({id:y + ":" + F,G:f.__assign(f.__assign({},L),{Ba:I,Aa:O,tc:y})});}}E.length || E.push({id:y,G:f.__assign(f.__assign({},B),{tc:y})});for(G=0;G < E.length - 1;++G){A=E[G + 1].id;E[G].G=f.__assign(f.__assign({},E[G].G),{bc:A,next:(z={},z[A]={},z)});}z=E[E.length - 1];z.G=f.__assign(f.__assign({},z.G),{bc:B.bc,next:B.next});return {id:y,G:B,znb:E};});x=w.reduce(function(y,z){return (y[z.id]=z.znb[0].id,y);},{});t=new h.qx();w=w.reduce(function(y,z){z.znb.forEach(function(B){return y[B.id]=B.G;});return y;},{});return t.OEa(w,function(){return !0;},x).$_a(p.U,function(y,z){return !x[z];},x,function(y,z){return f.__assign(f.__assign({},y),{tc:z});}).BL(x[p.me] || p.me).ij();};},function(r,b,a){var q,v,t,w,u;function c(x,y,z,B,A){var C,D,E;C=x.U[y];D=z.U[C.tc];B=B.tc;E=f(C.Aa) - C.Ba;E=void 0 === A?A=0:A + E;return C.N === (null === D || void 0 === D?void 0:D.N)?{J2:f(C.Aa),jX:A}:C.tc === B && (y=q.__read(l(x,y),1)[0]) && x.U[y].tc === C.tc?c(x,y,z,C,E):{J2:D.Ba,jX:E};}function l(x,y){return Object.keys(x.U).filter(function(z){return x.U[z].bc === y;});}function g(x,y,z,B,A){var C,D,E;void 0 === A && (A=0);y=x.U[y];C=z.U[y.tc];B=B.tc;D=z.U[B];E=f(y.Aa) - y.Ba;return y.N === (null === C || void 0 === C?void 0:C.N)?{J2:y.Ba,jX:A}:y.tc === B && y.bc?g(x,y.bc,z,y,A + E):{J2:f(D.Aa),jX:A};}function m(x,y,z){var B,A,C,D,E,G,F,L,O,K,I,M,H;B=n(x,y,z);if(B)return B;B=x.U[z.G];A=z.offset;C=Object.keys(y.U).filter(function(J){return y.U[J].tc === z.G;});D=[];C.forEach(function(J){var P,W,V;function N(S){S=v.S$(y,S);null === S || void 0 === S?void 0:S.forEach(function(U){var fa,qa;if(y.U[U].tc !== z.G){fa=y.U[U];qa=fa.Aa;V={G:U,offset:qa - fa.Ba};(fa=qa?p(x,y,V):void 0) && D.push({mB:V,Js:fa});fa || (V={G:U,offset:0},(fa=p(x,y,{G:U,offset:0})) && D.push({mB:V,Js:fa}));N(U);}});}P=y.U[J];W=P.Aa;V={G:J,offset:W - P.Ba};(P=W?p(x,y,V):void 0) && D.push({mB:V,Js:P});V={G:J,offset:0};(W=p(x,y,V)) && D.push({mB:V,Js:W});W || P || N(J);});w.assert(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");E=B.Ba + A;F=Infinity;D.forEach(function(J){var N;N=J.Js;N=E - (x.U[N.G].Ba + N.offset);0 <= N && N < F && (F=N,G=J);});L=[];C.forEach(function(J){var P,W,V,S;function N(U){Object.keys(y.U[U].next || ({})).forEach(function(fa){var qa,xa,Aa;if(y.U[fa].tc !== z.G){qa=y.U[fa];xa=qa.Ba;qa=qa.Aa;S={G:fa,offset:0};Aa=p(x,y,S);Aa && L.push({mB:S,Js:Aa});Aa || (S={G:fa,offset:qa - xa},(xa=qa?p(x,y,S):void 0) && L.push({mB:S,Js:xa}));}N(fa);});}P=y.U[J];W=P.Ba;V=P.Aa;S={G:J,offset:0};(P=p(x,y,S)) && L.push({mB:S,Js:P});S={G:J,offset:V - W};(W=V?p(x,y,S):void 0) && L.push({mB:S,Js:W});P || W || N(J);});w.assert(0 < L.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");K=Infinity;L.forEach(function(J){var N;N=J.Js;N=x.U[N.G].Ba + N.offset - E;if(0 <= N && N < K || N > K && 0 > K || Infinity === K)(K=N,O=J);});w.assert(G);w.assert(O);A=G.mB;w.assert(A,"Segment not found in the combined playgraph");B=O.mB;w.assert(B,"Segment not found in the combined playgraph");I=y.U[A.G];C=y.U[B.G];A.offset === f(I.Aa) - I.Ba && y.U[I.bc].tc === I.tc && (A.G === B.G && A.offset === B.offset && (B={G:C.bc,offset:0},C=y.U[B.G]),A={G:I.bc,offset:0},I=y.U[A.G]);M=x.U[G.Js.G].Ba + G.Js.offset;H=x.U[O.Js.G].Ba + O.Js.offset - M;M=0 === H?0:(E - M) / H;if(A.G === B.G)return (I=I.Ba + A.offset,A=A.G,{G:A,offset:I + M * (C.Ba + B.offset - I) - y.U[A].Ba});H=d(y,A,B);I=H.path;H=H.nJ;C=0 === B.offset?0:f(C.Aa) - C.Ba;return k(y,I,A.offset + M * (H - A.offset - (C - B.offset)));}function d(x,y,z){var B,A;if(y.G !== z.G){for(y=[y.G];y[y.length - 1] !== z.G;){B=x.U[y[y.length - 1]];w.assert(B.next,"Cannot find path between points in combined playgraph");if(B.next[z.G])break;A=Object.keys(B.next);1 === A.length?y.push(A[0]):(w.assert(B.bc,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(B.bc));}0 !== z.offset && y.push(z.G);return {path:y,nJ:h(x,y)};}return {path:[],nJ:z.offset - y.offset};}function f(x){return null === x || void 0 === x?Infinity:x;}function h(x,y){return y.reduce(function(z,B){var A;B=x.U[B];A=B.Ba;return z + f(B.Aa) - A;},0);}function k(x,y,z){var A,C,D;for(var B=0;B < y.length;++B){A=y[B];C=x.U[A];D=C.Ba;C=f(C.Aa) - D;if(C > z)return {G:A,offset:z};z-=C;}w.assert(!1,"Invalid offset given for path");}function n(x,y,z){var B,A,C,D,E,G,F,L,O,K,I;A=x.U[z.G];w.assert(A,"Graph position " + z.G + " does not exist in UX playgraph");C=z.offset;w.assert(0 <= C,"Graph position offset " + C + " cannot be negative");w.assert(!A.Aa || C <= A.Aa - A.Ba,"Graph position " + C + " offset outside segment");if(y.U[z.G])return z;D=Object.keys(y.U).filter(function(M){return y.U[M].tc === z.G;});w.assert(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");E={};G=0;D.forEach(function(M){if(void 0 === E[M]){for(var H=0;M;){E[M]=[G,H++];M=y.U[M].bc;}++G;}});D.sort(function(M,H){return E[M][0] !== E[H][0]?1:E[M][1] - E[H][1];});F=A.Ba + C;L=D.filter(function(M){return y.U[M].N === A.N;});O=q.__read(D,1)[0];L=L.map(function(M){return [M,y.U[M]];}).filter(function(M){var H;M=q.__read(M,2);H=M[0];return F >= M[1].Ba || H === O;});if(L=t.Oc(L,function(M){var H;M=q.__read(M,2)[1];H=M.bc?y.U[M.bc]:void 0;return !M.Aa || !!M.Aa && F < M.Aa || (null === H || void 0 === H?void 0:H.tc) !== z.G && F >= M.Ba;})){K=q.__read(L,2);L=K[0];K=K[1];I=(isFinite(F)?F:null !== (B=K.Aa) && void 0 !== B?B:Infinity) - K.Ba;w.assert(0 <= I,"Content playgrah graph position offset cannot be negative");B=!0;0 === I && (B=u.dua(y,L),B=!B || B.tc !== K.tc);if(B)return {G:L,offset:I};}D=D.filter(function(M){return y.U[M].N !== A.N;});if(0 === C && (C=u.dua(x,z.G),!C || C.tc !== z.G) && (C=t.Oc(D,function(M){return 0 === v.S$(y,M).length;}),void 0 !== C))return {G:C,offset:0};if(A.Aa && Infinity !== A.Aa && !(A.Aa - A.Ba !== z.offset || A.bc && x.U[A.bc]) && (C=t.Oc(D,function(M){return !y.U[M].next || 0 === Object.keys(y.U[M].next).length;}),void 0 !== C))return (D=y.U[C],x=D.Ba,D=D.Aa,w.assert(D,"Content playgraph segments from other viewables must have end time"),{G:C,offset:D - x});}function p(x,y,z){var B,A;B=y.U[z.G];w.assert(B,"Graph position does not exist in combined playgraph");A=z.offset;w.assert(0 <= A,"Graph position offset cannot be negative");w.assert(!B.Aa || A <= B.Aa - B.Ba,"Graph position offset outside segment");if(void 0 === B.tc)return z;x=x.U[B.tc];w.assert(x,"Referenced ux playgraph segment must exist");if(B.N === x.N)return (A=B.Ba + A - x.Ba,x=f(x.Aa) - x.Ba,A=Math.max(Math.min(A,x),0),{G:B.tc,offset:A});if(0 === A && (z=v.S$(y,z.G).filter(function(C){return y.U[C].tc === B.tc;}),0 === A && 0 === z.length))return {G:B.tc,offset:0};A=B.bc?y.U[B.bc]:void 0;if((null === A || void 0 === A?void 0:A.tc) !== B.tc)return {G:B.tc,offset:x.Aa?x.Aa - x.Ba:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.N8a=b.hqb=b.i3a=void 0;q=a(0);v=a(38);t=a(280);w=a(463);u=a(464);b.i3a=function(x,y,z){var B,A,C,D;B=y.U[z.G];A=p(x,y,z);if(A)return A;w.assert(B.tc,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");C=x.U[B.tc];w.assert(C,"Referenced ux playgraph segment must exist");w.assert(B.Aa,"Content playgraph segments from other viewables must have end time");if(!B.bc || !y.U[B.bc])return (w.assert(C.Aa,"Must have definite end time to add terminal content playgraph segment"),{G:B.tc,offset:C.Aa - C.Ba});D=c(y,z.G,x,B);A=D.J2;D=D.jX;if(null === A || void 0 === A)return (w.assert(C.Aa,"Experience playgraph segment must have end time"),{G:B.tc,offset:C.Aa - C.Ba});y=g(y,z.G,x,B);x=y.J2;y=y.jX;null !== x && void 0 !== x && isFinite(x) || w.assert(x,"Experience playgraph segment must have end time");return {G:B.tc,offset:A + (D + z.offset) / (D + y) * (x - A)};};b.hqb=m;b.N8a=function(x,y,z){var B,A,C;return q.__generator(this,function(D){switch(D.label){case 0:(B=m(x,y,z),A=y.U[B.G],C=B.G,D.label=1);case 1:return [4,C];case 2:(D.ub(),C=A.bc,A=y.U[C],D.label=3);case 3:if((null === A || void 0 === A?void 0:A.tc) === z.G && C !== B.G)return [3,1];D.label=4;case 4:return [2];}});};},function(r,b,a){var l,g,m;function c(d,f,h){var k;if(!h)return !1;h=h[f];return "boolean" === typeof h?!0 === h:(null === h || void 0 === h?void 0:h.length) === (null === (k=d[f].dg) || void 0 === k?void 0:k.length);}Object.defineProperty(b,"__esModule",{value:!0});b.S3a=b.Qp=void 0;l=a(0);g=a(161);b.Qp=-1;b.S3a=function(d,f,h,k,n){function p(w){var u,x,y,z,B;u=f.bg[w];x=c(f.bg,w,h);y=!!k && !x;z=0 === u.Tm;u.Tm > v && q.Jg(d + "-" + w,{N:d,Ba:v,Aa:u.Tm,type:"content"});!y || z && !n || q.Jg("padstart-" + w,{N:b.Qp,Ba:0,Aa:k,type:"padding"});v=u.Tm;if(u.dg && !x){B=null === h || void 0 === h?void 0:h[w];u.dg.forEach(function(A,C){var D;D=!1;Array.isArray(B) && (D=-1 < B.indexOf(C));D || q.Jg("ad-" + w + "-" + C,{N:A.id,Ba:A.Ba,Aa:A.Aa,type:"ad"});});y && q.Jg("padend-" + w,{N:b.Qp,Ba:0,Aa:k,type:"padding"});}}void 0 === k && (k=0);void 0 === n && (n=!1);for(var q=new m(),v=0,t=0;t < f.bg.length;++t){p(t);}q.Jg(d + "-" + f.bg.length,{N:d,Ba:v,Aa:null,type:"content"});return q.ij();};m=(function(){function d(){this.rb=new g.qx();}d.prototype.Jg=function(f,h){var k,n,p;this.BJ || (this.BJ=f);if(this.N0){n=l.__read(this.N0,2);p=n[0];n=n[1];n.bc=f;n.next=(k={},k[f]={},k);"content" === n.type && -1 < ["ad","padding"].indexOf(h.type) && (n.Qv=!0);"content" === h.type && -1 < ["ad","padding"].indexOf(n.type) && (h.Pv=!0);this.rb.Jg(p,n);}this.N0=[f,h];};d.prototype.ij=function(){var f;if(this.N0){f=l.__read(this.N0,2);this.rb.Jg(f[0],f[1]);}this.N0=void 0;this.BJ && this.rb.BL(this.BJ);return this.rb.ij();};return d;})();},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.OKa=void 0;c=a(0);l=a(2);g=a(198);r=(function(){function m(){}m.pp=function(d){var f,h;f=d.U;d=d.me;h=f[d].N;Object.keys(f).forEach(function(k){return (0,l.assert)(f[k].N === h);});return f[d].N;};m.prototype.v7a=function(d,f){var h;h=Object.keys(f.na.U).length;return c.__read(d.filter(function(k){var n,p;return m.pp(f.na) === (0,g.pp)(k.context.ve.key) && (1 === h || h === Object.keys(null !== (p=null === (n=k.na) || void 0 === n?void 0:n.na.U) && void 0 !== p?p:{}).length);}),1)[0];};return m;})();b.OKa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qKa=b.tKa=void 0;c=a(116);l=a(1121);b.tKa=625E3;r=(function(){function g(m){this.config=m;}g.prototype.c2a=function(m){var d,f,h,k,n;d=this.config.X9;f=this.config.Veb || this.config.W9;h=0 < m.V$a.BF;k=h?f * b.tKa / 1E3:this.config.gu || Infinity;n=h?Math.floor(m.V$a.BF / k):d;return {jo:m.Kmc.sort(function(p,q){return p.priority - q.priority;}).slice(0,d).map(function(p,q){var v;v=p.key.config;return {Gcb:{BF:q > n - 1?0:k},ve:p,Lea:1,Uj:v,dic:{audio:[(0,c.dJ)(v),new l.Wla()],video:[(0,c.eJ)(v),new l.Wla()]}};})};};return g;})();b.qKa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Wla=void 0;c=a(6);r=(function(){function l(){}l.prototype.kl=function(g,m){return m === c.bd.Am?[]:g;};return l;})();b.Wla=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PTa=void 0;c=a(10);l=a(1123);b.PTa=(function(){function g(){}g.Edc=function(m,d,f,h){m.events.once("seeking",function(k){var n,p;n=k.position;p=f.length;k.duplicate || (f.nfa(function(q){return "segmentNormalized" !== q.Lt;}),c.M && h.log(("Discarding ").concat(p - f.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,l.hba)(d)) + (" due to seek to ").concat((0,l.hba)(n))));c.M && h.log(("Replaying ").concat(f.length," events from prefetched playgraph") + ("for seek postition ").concat((0,l.hba)(n)));f.qDa();f.Wa();});};return g;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hba=void 0;b.hba=function(a){return ("( ").concat(a.S,", ").concat(a.offset.Fb()," )");};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dVa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.c2a=function(c,l){var g,m;g=this;c=l(c);m=c.jo.map(function(d){return d.ve.priority;}).sort();c.jo.forEach(function(d){d.Lea=g.config.Oac / (2 << m.lastIndexOf(d.ve.priority));});return c;};return a;})();b.dVa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GTa=void 0;r=(function(){function a(c){this.cl=c.cl;this.yy=this.y1b();}a.prototype.yW=function(c){c.events.on("requestsPruned",this.yy);};a.prototype.MC=function(c){c.events.removeListener("requestsPruned",this.yy);};a.prototype.y1b=function(){var c;c=this;return function(){return c.cl();};};return a;})();b.GTa=r;},function(r,b,a){var l;function c(g,m,d,f){return g && m?Math.min(g - m * d,g - f):(g || Infinity) - f;}Object.defineProperties(b,{__esModule:{value:!0}});b.f2a=void 0;l=a(6);b.f2a=function(g,m){var d,f,h,k,n,p,q,v;v=c(m.audio,m.Wsc,g.Vra,null !== (f=g.K3a) && void 0 !== f?f:0);f=c(m.video,m.Qyc,g.Vra,null !== (h=g.M3a) && void 0 !== h?h:0);h=c(m.text,m.myc,g.Vra,null !== (k=g.L3a) && void 0 !== k?k:0);return (d={},d[l.u.T]=v,d[l.u.J]=f,d[l.u.Za]=h,d.total=(m.total || Infinity) - (null !== (n=g.K3a) && void 0 !== n?n:0) - (null !== (p=g.M3a) && void 0 !== p?p:0) - (null !== (q=g.L3a) && void 0 !== q?q:0),d);};},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.J9=void 0;c=a(0);l=a(10);g=a(1128);m=a(198);d=a(197);b.J9=function(f,h,k){var n,p,q,v;n=[function(t){return new (g.lia.bind.apply(g.lia,c.__spreadArray([void 0],c.__read(t.C0),!1)))();}];p=(0,m.pp)({na:h[0]});l.M && k.trace("Creating playgraph",{cxc:p,Gtc:f.ZX,dg:f.uJ});if(f.ZX){q=a(1167);n.unshift(function(t,w){return q.pX({},t,w);});}if(f.uJ){v=a(1172);n.unshift(function(t,w){return v.pX({},t,w);});}return d.FT.Sba({C0:h,Dpa:[]},n);};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa,T;function c(X){var Q;Q={};X.forEach(function(ka){ka.mediaType !== f.u.Za && (Q[ka.mediaType]=ka.np());});return Q;}Object.defineProperties(b,{__esModule:{value:!0}});b.lia=void 0;l=a(0);g=a(13);m=a(38);d=a(408);f=a(6);h=a(1129);k=a(8);n=a(1130);p=a(1138);q=l.__importDefault(a(3));v=a(2);t=a(1139);w=a(21);u=a(61);x=a(116);y=a(159);z=a(28);B=a(472);A=a(278);C=a(277);D=a(1146);E=a(71);G=l.__importDefault(a(154));F=a(1147);L=a(279);O=a(1148);K=a(473);I=a(1149);M=a(1150);H=a(1151);J=a(1152);N=a(1155);P=a(1156);W=a(1157);V=a(1158);S=a(1159);U=a(1160);fa=a(1162);qa=a(1163);xa=a(1164);Aa=a(1165);Oa=a(1166);T=a(137).Zy.Csa;r=(function(){function X(Q,ka,ra,R,ha,wa,va,Ea,Ya,wb){this.No=Q;this.x_a=ka;this.config=ra;this.id=R;this.VV=wa;this.cl=va;this.nLb=Ea;this.Vp=wb;this.Wma=!1;this.rA=void 0;this.Fta=[];this.jk=this.Cb=void 0;this.y8="2.0";this.obb=this.C7=this.Oo=this.Rna=void 0;this.Tc=d.Kl.CLOSED;this.nna=!0;this.F8=!1;this.Lga=this.jHa=this.OW=void 0;this.E1a=new g.gf();this.YE=0;this.Dga=!1;this.z1b();this.console=new q.default.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.zi=new E.wx({Lq:10,Ap:this,source:"AsePlaygraph",console:this.console});this.events=new g.EventEmitter();this.$lb(Q);this.eb=new N.uTa();this.vh=new Aa.wTa(this.console);this.zwa=new I.zMa(this.config,k.P.Na(this.config.Zca),{parent:this.F$a.bind(this),next:this.EYb.bind(this)},this.events,this.console);this.Ega=new p.HVa(this.console,this.events);this.WW={BF:ra.gu || Infinity};this.X=new t.ela(this);this.bf=new u.NU(this.X.za,this.console,"playgraph",1);this.E1b();this.Pf=new P.rJa(this.console,ra,ha,this.events,this,this.Su);this.b9=new S.iJa(this.bf,this.Su,this.config,this.Bl.bind(this),this.Lg,this.console);this.$da=this.Pf.$da.bind(this.Pf);this.j0=this.Pf.j0.bind(this.Pf);this.iea=this.Pf.iea.bind(this.Pf);this.Tda=this.Tda.bind(this);this.Uda=this.Uda.bind(this);this.xL=this.xL.bind(this);this.OC=new z.Hla(ra);this.v1b();this.OC.cg(new C.mA(this.Pf.zi));this.OC.cg(new D.GSa(this.UYb.bind(this)));this.OC.cg(new C.mA(this.zi));this.OC.cg(new F.tTa(this.eb,this));this.OC.cg(new O.ROa(this));this.pnb=new xa.GVa(this,this.console,Ya);this.Kca=new L.nPa(this.Su,this.console,this.events);this.mq=new Oa.yTa(this.jfa.bind(this));this.PEa((0,x.eJ)(this.config),(0,x.dJ)());}Object.defineProperties(X.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{dw:{get:function(){return !(this.X instanceof t.ela);},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{wf:{get:function(){return this.rA;},set:function(Q){this.rA=Q;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{R1b:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{na:{get:function(){return this.No;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{weight:{get:function(){return this.x_a;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{ti:{get:function(){(0,v.assert)(this.St,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Oo.position;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{jlb:{get:function(){(0,v.assert)(this.St,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.jZ(this.ti).At;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{Lg:{get:function(){return this.Pf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{sf:{get:function(){return this.Pf.sf;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{Vf:{get:function(){return this.Pf.Vf;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{St:{get:function(){return void 0 !== this.Oo;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{Ii:{get:function(){return this.X.qf?this.X.Ii:this.ti;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{Ae:{get:function(){var Q,ka;return this.X.qf?this.X.Ae:null !== (ka=null === (Q=this.Oo) || void 0 === Q?void 0:Q.Qq) && void 0 !== ka?ka:this.jlb;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{Vpa:{get:function(){return this.eAb;},enumerable:!1,configurable:!0}});Object.defineProperties(X.prototype,{ZS:{get:function(){return this.zFb;},enumerable:!1,configurable:!0}});X.prototype.E1b=function(){this.Su=new u.NU(new A.W5({sk:!0,currentTime:function(){return k.P.Na(q.default.time.fa());},speed:1}),this.console,"wallclock");};X.prototype.v1b=function(){var Q;Q=this;(0,qa.T3a)({Pf:this.Pf,Su:this.Su},u.cj.ZG(k.P.Na(this.config.DC)),function(){Q.X.qf && Q.X.oi && (Q.Pf.state.value === f.bd.Wg || Q.Pf.state.value === f.bd.ae) && Q.$s(Q.X.oi);},"buffering");};X.prototype.z1b=function(){var Q;Q=this;this.Vy=function(ka){var ra,R,ha;R=Q.navigator.Ce(ka.position.S);if((R=Q.Z9a(R)) && Q.X.qf){ha=(0,k.iua)(Q.X.eb.filter(function(wa){return wa.G.id === ka.position.S;}),ka.playerTimestamp,{m3a:!0});ha && (null === (ra=Q.X.Ip) || void 0 === ra?void 0:ra.pz({G:ha.G,get Yga() {return ha.Ld.Ea(ha.G.uf);}},R,Q.Ii.offset,!0,!1));}Q.mq.start();};this.d0=function(){Q.cl("onDrmReady");};this.V8b=function(ka){ka=ka.newValue;Q.Wma || (Q.Wma=ka);};};X.prototype.open=function(){this.nna=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Tc !== d.Kl.CLOSED)return !1;this.Tc=d.Kl.OPEN;return !0;};X.prototype.Wa=function(){this.Su.Wa();this.bf.Wa();this.Tc !== d.Kl.CLOSED && (this.ie(),this.mq.Wa(),this.Pf.stop(),this.Tc=d.Kl.CLOSED,this.dw || this.X.Wa(),this.Kca.Wa());};X.prototype.LKb=function(Q,ka,ra){Q=(0,W.Dta)(this.eb,this.xL.bind(this),Q,ka,ra).u2a;return this.j2a(Q);};X.prototype.UC=function(Q,ka,ra){var R,ha,wa,va;R=this;this.OW=Q;this.jHa=ka;this.Lga=ra;Q=(0,W.Dta)(this.eb,this.xL.bind(this));ha=Q.u2a;Q=Q.jJb;if(!this.j2a(ha))return !1;if(0 === ha.length)return !0;wa=this.Ii;this.X.UR(ha);va=this.jZ(wa).At;Q.forEach(function(Ea){var Ya;Ya=Ea.bb;Ya.UC(Ea.Fe,wa.S === Ya.G.id?va:void 0,void 0 !== R.eb.$Y(Ya),ha);});this.Pf.s9b(wa,Q[0].Fe);return !0;};X.prototype.dJ=function(Q){return (0,x.dJ)(this.config,Q);};X.prototype.eJ=function(Q){return (0,x.eJ)(this.config,Q);};X.prototype.VY=function(Q,ka){var ra,R;ra=this.navigator.Ce(Q);R=this.navigator.Ce(ka);return {Slc:ra.b0b(ka),YW:ka !== Q && this.eb.has(ka) && this.eb.Wv(ka)[0].Bh,Ud:R.uf.Z,CAa:this.Z9a(ra)};};X.prototype.Bl=function(Q,ka,ra,R){var ha,wa,va,Ea;ha=this;void 0 === R && (R=!0);if(!ka)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(R && this.vh.get(Q))ra || this.vh.set(Q,ka);else {va=this.EY(Q)[0];Ea=this.navigator.Ce(Q);this.Ii.S === Q && va && (null === (wa=this.X.Ip) || void 0 === wa?void 0:wa.pz({G:va.G,get Yga() {return va.Ld.Ea(va.G.uf);}},ka,this.Ii.offset,R,ra));R || (Q={offset:k.P.Pa,S:ka},this.Oo={position:Q,Bh:!0,fpb:Q});ra?this.vh.Ufc(Ea.id,ka):this.vh.set(Ea.id,ka);this.mq.start();R && Ea.gz && 0 < Ea.gz.length && ((0,v.assert)(va),va.cha(Ea.gz) && this.EY(ka).forEach(function(Ya){return ha.dr(va,Ya);}));R || this.Pf.jR(this.ti);}};X.prototype.j2a=function(Q){return 0 === Q.length?!0:(Q=this.X.Raa()) && Q.greaterThan(this.X.Ae)?!1:!0;};X.prototype.dr=function(Q,ka){var ra;ra=this;Q=Q.Sc.Ea(ka.G.uf);ka.dr(Q);this.eb.UWb(ka).forEach(function(R){return ra.dr(ka,R);});};X.prototype.Gk=function(Q){this.navigator.Gk(Q);this.mq.start();};X.prototype.PEa=function(Q,ka){this.eAb=Q;this.zFb=ka;this.state === d.Kl.Am && this.cl("setStreamFilters");};X.prototype.nGb=function(Q){(0,v.assert)(-1 === this.Fta.indexOf(Q),"Attempted to add the same evaluation hook twice");this.Fta.push(Q);};X.prototype.ogc=function(Q){this.VV.Bdc(Q);};X.prototype.CG=function(Q,ka){this.Ofa(Q,ka);};X.prototype.Ofa=function(Q,ka,ra){var R,ha,wa,va,Ea;wa=this.na;va=(0,K.iqb)(wa,Q);if(va.uQ){Ea=this.Qec(wa,Q,ka);if(void 0 === Ea)this.hg(("Invalid seekPosition after sanitization to ").concat(Q.S) + ("(").concat(Q.offset.Z,"ms)") + (", reason: ").concat(va.reason),null === (R=wa.U[Q.S]) || void 0 === R?void 0:R.N);else if(void 0 === this.OW || void 0 === this.jHa)this.hg("No track selectors available");else if((R=!(this.dw && this.X.zy) && (0,K.W$a)(null === (ha=this.Oo) || void 0 === ha?void 0:ha.fpb,Ea),this.events.emit("seeking",{type:"seeking",position:Q,duplicate:R}),!R)){this.C7=ra;this.St && (this.pz(Ea),this.tLb(Q));Q=this.D9a();try{this.ie(!0);this.sLb();this.Oo={position:Ea,fpb:Ea,Bh:!1,Qq:ka};this.obb=ka?ka.Ea(this.jlb):k.P.Pa;this.Pf.jR();this.Tc=d.Kl.Am;this.mq.start();}finally{Q.release();}}}else this.hg(("Invalid seekPosition to ").concat(null === Q || void 0 === Q?void 0:Q.S) + ("(").concat(Q.offset.Z,"ms)") + (", reason: ").concat(va.reason),null === (Ea=wa.U[Q.S]) || void 0 === Ea?void 0:Ea.N);};X.prototype.pz=function(Q){var ka,ra;ra=this.navigator.Ce(this.Ii.S);null === (ka=this.X.Ip) || void 0 === ka?void 0:ka.pz({G:ra,Yga:ra.duration},Q.S,this.Ii.offset,!1);};X.prototype.tLb=function(Q){var ka,ra;if((null === (ka=this.X.RY()) || void 0 === ka?void 0:ka.G.id) === Q.S){if((this.vh.uLb(Q.S),!this.vh.get(Q.S) && this.X.zy)){Q=this.X.eb;ra=this.X.RY();ra && (Q=(0,w.Oc)(Q,function(R){return R.parent === ra;})) && this.vh.set(ra.G.id,null === Q || void 0 === Q?void 0:Q.G.id);}}else this.vh.pra();};X.prototype.D9a=function(){var Q,ka;Q=this;ka=this.eb.filter(function(ra){return ra.G.N !== m.Qp;}).map(function(ra){return Q.VV.wu(ra.G.N).a_;});return new y.Zja(function(){ka.forEach(function(ra){return ra.release();});},this.console).Sx();};X.prototype.ie=function(Q){var ka,ra,R;R=this.r_b();this.eb.reset();if(!Q && (this.vh.pra(),R.length))try{for(var ha=l.__values(R),wa=ha.next();!wa.done;wa=ha.next()){wa.value.Qjb();}}catch(Ea){var va;va={error:Ea};}finally{try{wa && !wa.done && (ka=ha.return) && ka.call(ha);}finally{if(va)throw va.error;}}this.bf.zg();this.X.reset();this.Oo=void 0;this.b9.reset();null === (ra=this.E1a) || void 0 === ra?void 0:ra.clear();this.Tc === d.Kl.Am && (this.Tc=d.Kl.OPEN);};X.prototype.EY=function(Q){return this.eb.Wv(Q);};X.prototype.li=function(Q){this.Pf.li(Q);(0,v.assert)(this.X.$t,"Must have an appended branch on underflow");this.X.E0a && this.Pf.Vf && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),Q=this.Nh(this.Ae),this.Pf.Kg("complete",Q.MS,Q.NS));this.b9.lGa(this.X.$t,this.Ae);this.cl("onUnderflow");this.events.emit("underflow");};X.prototype.cg=function(Q){this.OC.cg(Q);};X.prototype.ay=function(Q){this.cg(new B.wUa(Q));return this.aIb(Q);};X.prototype.aIb=function(Q){if(!this.X.nGa(Q))return (this.hg("player in use"),!1);this.X=Q;this.bf.U0a(this.X.za);this.X.events.on("segmentPresenting",this.Vy);this.X.events.on("drmReady",this.d0);this.X.hu.addListener(this.V8b);this.events.emit("playerChanged",{type:"playerChanged"});return !0;};X.prototype.jZ=function(Q){var ka,ra;ka=Q.offset;ra=this.navigator.Ce(Q.S);Q=ra.N;ka=ra.uf.add(ka);return {N:Q,At:ka};};X.prototype.$m=function(Q,ka){var ra,R,ha,wa;wa=this.X.$m(Q);if(void 0 !== wa)return wa;if(null === (R=null === (ra=this.Oo) || void 0 === ra?void 0:ra.Qq) || void 0 === R?0:R.equal(Q))return null !== (ha=this.C7) && void 0 !== ha?ha:this.ti;ra=this.X.$t;return (0,K.$m)(Q,{Ja:this,I1b:ra && ({id:ra.G.id,nfc:ra.us})},ka);};X.prototype.kZ=function(Q){var ka;void 0 === ka && (ka=!1);Q=this.lZ(Q,ka).next();if(!Q.done)return (Q=Q.value,null === Q || void 0 === Q?void 0:Q.Qq);};X.prototype.lZ=function(Q,ka){var ra,R,ha,wa,va,Ea,Ya,wb,nb,zb,Pa,Za,Xa;void 0 === ka && (ka=!1);return l.__generator(this,function(cb){switch(cb.label){case 0:(ra=this.X.lZ(Q),R=ra.next(),cb.label=1);case 1:return R.done?[3,3]:[4,R.value];case 2:return (cb.ub(),R=ra.next(),[3,1]);case 3:if(!ka)return [2];ha={};wa=this.Ii;this.dw && this.X.qf && (Ya=this.X.$t) && (wa={offset:k.P.Pa,S:Ya.G.id},va=Ya.Sc.Ea(this.X.Ae),Ea=Ya.G);va || (Ea=this.navigator.Ce(wa.S),va=Ea.uf.add(wa.offset).Ea(Ea.yh));(0,v.assert)(Ea,"Current segment should be defined by here");wb=this.Ae;if(Ea.G.bc && Ea.id !== Q.S)return [3,6];if(Ea.id !== Q.S)return [3,5];nb=Q.offset.Ea(wa.offset);return [4,{dP:nb,Qq:wb.add(nb)}];case 4:(cb.ub(),cb.label=5);case 5:return [2];case 6:(zb=this.navigator.Ce(Ea.G.bc),Pa=this.navigator.Mcb(zb),Za=Pa.next(),cb.label=7);case 7:if(Za.done)return [3,11];Xa=Za.value;if(ha[Xa.id])return [3,11];ha[Xa.id]=!0;if(Xa.id !== Q.S)return [3,9];nb=Q.offset.add(va);return [4,{dP:nb,Qq:wb.add(nb)}];case 8:return (cb.ub(),[2]);case 9:(va=va.add(Xa.duration),cb.label=10);case 10:return (Za=Pa.next(),[3,7]);case 11:return [2];}});};X.prototype.Zkb=function(Q){return (0,K.XDa)(this.na,Q);};X.prototype.Qec=function(Q,ka,ra){var R,ha;R=(0,K.XDa)(Q,ka);ha=k.P.Na(1E4);if(!R || !ra || ra.greaterThan(ha))return R;Q=ka.offset.add(k.P.Na(Q.U[ka.S].Ba));ra=ra.Ea(Q);if(ra.pk(k.P.Pa))return R;ha=k.P.max(k.P.Pa,Q.Ea(ha)).add(ra);if(ha.pk(k.P.Pa))return R;ha=R.offset.add(ha);return {S:R.S,offset:ha};};X.prototype.jp=function(Q,ka){var ra;Q="string" === typeof Q?{N:this.na.U[Q].N,At:k.P.Na(ka)}:Q;if(Q.N !== m.Qp){ka=this.VV.wu(Q.N);try{return null === (ra=ka.O) || void 0 === ra?void 0:ra.jp(this.config,Q.At.Z);}finally{ka.a_.release();}}};X.prototype.Laa=function(){return (0,U.w8a)(this.eb,this.Vba.bind(this));};X.prototype.Vba=function(Q){Q=this.eb.$Y(Q);return void 0 === Q || Q.Ej && this.Vba(Q);};X.prototype.Kaa=function(){return this.WW.BF;};X.prototype.sXb=function(Q){return (0,fa.G$a)(this.eb,Q);};X.prototype.Nh=function(Q){var ka,ra,R;ka=this;this.eb.CJ(function(ha){var wa,va;wa=ha.IY(f.u.T);va=ha.IY(f.u.J);if(ha.G.Fu || !ka.eb.Dwa(ha) || !ha.Ej){if(!ra || wa < ra)ra=wa;if(!R || va < R)R=va;}return ha.Ej;});return {MS:ra?Math.max(ra - Q.Z,0):0,NS:R?Math.max(R - Q.Z,0):0};};X.prototype.JJ=function(){var Q,ka,ra,R;ra=this.St?this.Nh(this.Ae):{MS:0,NS:0};R=G.default.instance().get();return {totalabuflmsecs:ra.MS,totalvbuflmsecs:ra.NS,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (ka=Number(0 < R.confidence) && (null === (Q=R.Ya) || void 0 === Q?void 0:Q.xa)) && void 0 !== ka?ka:0};};X.prototype.ZP=function(){var Q,ka,ra,R,ha,wa,va,Ea;Q=this;if(this.vp())return (this.zi.xv({isStreamingFailureReported:!0}),[]);ra=this.eb.size;this.zi.xv({branchCount:ra});if(!this.St || 0 === ra)return [];R=this.Ae;ha=this.Ii;wa=[];ra=this.navigator.Ce(this.Ii.S);va=ra.duration;Ea=this.vh.get(ra.id)?1:null !== (ka=ra.QC) && void 0 !== ka?ka:1;ka=this.eb.reduce(function(Ya,wb,nb){var zb,Pa,cb,hb,sb;try{for(var Za=l.__values(wb.TY()),Xa=Za.next();!Xa.done;Xa=Za.next()){cb=Xa.value;if(!cb.Xt()){hb=("p").concat(Q.id,"-").concat(nb,"-").concat(null === (Pa=wb.Ed) || void 0 === Pa?void 0:Pa.Z);sb=Q.E$a(cb);Ya.push(Q.fPb(cb,sb.Z,hb,va.Z,Ea,R.Z,ha));}!cb.KF() && Q.zi.enabled && wa.push({segmentId:cb.S,isDoneStreaming:cb.Xt(),isNormalized:cb.Bh(),needsHeaderRequest:cb.track.Eda});}}catch(Lb){var Hb;Hb={error:Lb};}finally{try{Xa && !Xa.done && (zb=Za.return) && zb.call(Za);}finally{if(Hb)throw Hb.error;}}return Ya;},[]);this.zi.xv({nonStreamables:wa});return ka;};X.prototype.E$a=function(Q){var ka;if(Q.Zoa)return Q.Zoa;ka=this.F$a(Q);return !ka || ka.Ej || this.config.u$ && this.navigator.Y_b(ka.bb.G,Q.S)?Q.mX:this.E$a(ka);};X.prototype.F$a=function(Q){var R;if(!Q.bb.Qf){for(var ka=Q.bb,ra;!ra;){R=this.eb.$Y(ka);if(!R)break;ka=R;ra=R.pF(Q.mediaType);}return ra;}};X.prototype.EYb=function(Q){var ka;if(!Q.bb.Qf){ka=Q.bb.G.G.bc;if(ka)return (ka=l.__read(this.eb.Wv(ka),1)[0],null === ka || void 0 === ka?void 0:ka.pF(Q.mediaType));}};X.prototype.t9b=function(Q){var ka,ra;if(!this.Ega.vp()){ka=void 0;ra=this.X.Ii;ra && (ka=this.navigator.Ce(ra.S).N);this.hg("BufferingStateTracker: Temporary failure while buffering",ka,"NFErr_MC_StreamingFailure",null === Q || void 0 === Q?void 0:Q.Ah,null === Q || void 0 === Q?void 0:Q.ZJ,null === Q || void 0 === Q?void 0:Q.Pj);}};X.prototype.hg=function(Q,ka,ra,R,ha,wa,va){void 0 === va && (va=!1);"string" === typeof Q?this.Ega.hg(Q,ra,{networkErrorCode:R,httpCode:ha,nativeCode:wa,viewableId:ka,temporaryFailure:va}):this.Ega.Idc(Q);return !0;};X.prototype.tGa=function(Q,ka){ka=this.Iaa(ka,Q);this.events.emit("logdata",{type:"logdata",target:Q,fields:ka});};X.prototype.Iaa=function(Q,ka){void 0 !== Q && this.Kca.b4b(Q);ka=this.OC.ll(Q,ka);Q === z.Kc.gl && (Q=this.JJ(),ka.vbuflmsec=Q.totalvbuflmsecs,ka.abuflmsec=Q.totalabuflmsecs,ka.vbuflbytes=Q.vbuflbytes,ka.abuflbytes=Q.abuflbytes);return ka;};X.prototype.mpb=function(Q){this.WW=Q;this.cl("updateBudget");};X.prototype.vp=function(){return this.Ega.vp();};X.prototype.Hpb=function(Q){Q !== this.weight && (this.x_a=Q,this.events.emit("weightUpdated"));};X.prototype.Xw=function(Q){var ka,ra,R,ha,wa,va,wb,nb,zb,Pa,Za,Xa,cb,hb,sb,Hb;R=(0,J.b2a)(this.na,Q);ha=R.NR;wa=R.HKb;va=R.xkc;if([R.spa,ha,wa].every(function(Rb){return !Rb.length;}))return {ja:!0,reason:f.gv.Mxb};if(0 === wa.length && 0 === va.length && this.dw && this.X.qf)return {ja:!1,reason:f.gv.Vwb};if(this.X.eb.some(function(Rb){return -1 < ha.indexOf(Rb.G.id);}))return {ja:!1,reason:f.gv.Jyb};if(this.St && !this.X.qf && -1 < ha.indexOf(this.ti.S))return {ja:!1,reason:f.gv.gwb};if(this.St)try{for(var Ea=l.__values(wa),Ya=Ea.next();!Ya.done;Ya=Ea.next()){wb=Ya.value;nb=this.na.U[wb];zb=nb.Ba;Pa=nb.Aa;Za=nb.N;Xa=Q.U[wb];cb=Xa.Aa;hb=Xa.Ba;sb=Xa.N;if(this.Ii.S === wb && cb !== Pa){if(!cb)return {ja:!1,reason:f.gv.Kyb};Hb=k.P.Na(cb - hb);if(null === (ra=this.Ii.offset) || void 0 === ra?0:ra.greaterThan(Hb))return {ja:!1,reason:f.gv.grb};}if(zb !== hb)return {ja:!1,reason:f.gv.Kub};if(Za !== sb)return {ja:!1,reason:f.gv.Lub};}}catch(Rb){var Lb;Lb={error:Rb};}finally{try{Ya && !Ya.done && (ka=Ea.return) && ka.call(Ea);}finally{if(Lb)throw Lb.error;}}this.$lb(Q);this.mq.start();return {ja:!0,reason:f.gv.Lxb};};X.prototype.oF=function(Q){Q=this.EY(Q);Q=0 < Q.length?Q[0]:void 0;if((Q=null === Q || void 0 === Q?void 0:Q.Om()) && 0 !== Q.length)return k.P.min.apply(k.P,l.__spreadArray([],l.__read(Q.map(function(ka){return ka.oF();})),!1));};X.prototype.$lb=function(Q){var ka;ka={type:"playgraphUpdating",z8b:this.No,x7b:Q};this.No=Q;this.navigator=new H.DTa(Q);this.v_b=(0,J.D3a)(this.navigator);this.events.emit("playgraphUpdating",ka);};X.prototype.k0=function(Q,ka){this.dkb(Q);Q.xP.addListener("criticalNetworkError",this.$da);Q.xP.addListener("temporaryNetworkError",this.j0);Q.xP.addListener("updatingLastSuccessEvent",this.iea);Q.events.addListener("liveEventTimesUpdated",this.Tda);Q.events.addListener("liveLoggingInfoUpdated",this.Uda);Q.ta && Q.Abc();this.Tc === d.Kl.Am && ka && this.clb();};X.prototype.nBa=function(Q){0 === this.eb.filter(function(ka){return ka.Eq && ka.O === Q;}).length && this.dkb(Q);};X.prototype.dkb=function(Q){Q.xP.removeListener("criticalNetworkError",this.$da);Q.xP.removeListener("temporaryNetworkError",this.j0);Q.xP.removeListener("updatingLastSuccessEvent",this.iea);Q.events.removeListener("liveEventTimesUpdated",this.Tda);Q.events.removeListener("liveLoggingInfoUpdated",this.Uda);};X.prototype.I_a=function(Q){var ka;(0,v.assert)(Q.Bh,"expected branch to be normalized on addBranchToPlayer");this.X.zy || (null === (ka=this.Oo) || void 0 === ka?0:ka.Bh) || this.aVb(Q);this.Pf.mha(Q.Fe);this.X.zy && (ka=this.X.$t) && this.vh.clear(ka.G.id);this.X.tta(Q);this.b9.lGa(Q,this.Ae);};X.prototype.aVb=function(Q){(0,v.assert)(Q.oc,"Normalized branch should have a defined content start timestamp");(0,v.assert)(this.Oo,"AsePlaygraph should have a seek position on first branch normalization");(0,v.assert)(!this.Oo.Bh,"Seek position should not already be normalized on first branch normalization");this.Oo=l.__assign(l.__assign({},this.Oo),{position:{S:Q.G.id,offset:Q.oc.Ea(Q.G.uf)},Bh:!0});this.Pf.Ofc(this.Oo.position,Q.Fe.filter(function(ka){return ka.mediaType === f.u.T;})[0]);};X.prototype.sLb=function(){var Q;this.b9.reset();this.X.JE();this.Oo=void 0;null === (Q=this.E1a) || void 0 === Q?void 0:Q.clear();};X.prototype.fPb=function(Q,ka,ra,R,ha,wa,va){var Ea,Ya,wb,nb;Ea=this;nb=null !== (wb=null === (Ya=Q.bb.Ed) || void 0 === Ya?void 0:Ya.Z) && void 0 !== wb?wb:Q.bb.Vt.Z;Ya=Q.ZC.Z;wb=this.vh.get(Q.S)?1:Q.bb.G.QC;return {identifier:Q.S,mediaType:Q.mediaType,ri:Q.ri,Lg:this.Lg.value,zC:ka,Eu:Ya,Et:wa,E7a:Q.AJ.Z,uCa:va.offset.Z,tCa:R,M0:ha,QC:wb,Un:Q.bb.Ht.Z,qnb:Math.max(Ya - nb,0),KF:Q.KF(),Xt:Q.Xt(),groupId:ra,Acb:function(zb,Pa){zb=Ea.pnb.pKb(zb,Q.mediaType,1 > Pa || !Q.bb.Qf && !Ea.Vba(Q.bb));1 === Pa && "global" === (0,f.XCa)(zb.reason) && Ea.Pf.Q8b(Q.mediaType,Ea.Nh(Ea.Ae));return zb;},Fcb:function(){var zb,Pa,Za,Xa,cb,hb,sb,Hb,Lb,Rb,Tb,Ob,Eb;Xa=Q.mediaType;cb=Q.I9a();hb=Ea.zwa.sfc(Ea.Lg.value,Ea.Ae,Q.ZC,Ea.X.playbackRate,Q,Xa === f.u.T?Ea.Vpa:Ea.ZS,Ea.F8,cb);sb=hb.stream;Hb=hb.P1;Lb=hb.lQ;Rb=hb.SC;Tb=hb.Wy;Ob=hb.reason;cb=hb.BUb;hb=hb.tfc;if(!sb)return {Lj:!1,reason:Ob || "selectLocationsAndStream"};if(Ea.Lg.value === f.bd.Am && Q.bb && Q.bb.O.qp && !Q.bb.O.B_ && !Ea.X.hs(Q.bb.O.N)){Ob=Q.ZC.Z - Ea.Ae.Z;if(!Q.bb.O.Wf.rg && Ob > Ea.config.Kza)return {Lj:!1,reason:"maxBufferingCompleteBufferInMs"};if(!sb.Kj && sb.mediaType === f.u.J && Ob >= Ea.config.Tca)return {Lj:!1,reason:"maxFastPlayBufferInMs"};}Ob=f.u.J;if(null === (zb=Q.bb) || void 0 === zb?0:zb.Fe.every(function(Sb){return Sb.mediaType === f.u.T;}))Ob=f.u.T;Ea.Pf.Vf && Xa === Ob && Ea.Pf.bgc(Q.Yj.x1,sb.bitrate,Lb);Ea.hS(Hb);zb=null === (Pa=Q.bb.cr) || void 0 === Pa?void 0:Pa.Z;Pa=Q.Tob(sb,Tb,Rb);if(Pa.Lj){Ea.nna && (Ea.An("firstDriveStreaming"),Ea.nna=!1);if(0 < Ea.YE){Eb=null === (Za=Q.bb.cr) || void 0 === Za?void 0:Za.Z;zb && Eb && (Ea.YE-=zb - Eb,0 >= Ea.YE && Ea.clb());}Ea.events.emit("requestIssued",{type:"requestIssued",mediaType:Xa,result:hb,streamList:cb});}else "exceedsLiveEdge" === Pa.reason && (null === (Eb=Ea.Rna) || void 0 === Eb?void 0:Eb.Wa(),Ea.Rna=Ea.Su.UO(u.cj.ZG(sb.Aq().Ht),function(){Ea.Rna=void 0;Ea.cl("liveEdgeRetry");}));return Pa;}};};X.prototype.hS=function(Q){var ka;ka=this;Q.forEach(function(ra){ra.O.Wfc(ra,function(){var R,ha;(0,v.assert)(ka.St,"Speculative header callback after streaming is cancelled");R=ka.Ae.Z;ha=R + ka.config.J_;return {ri:[],Lg:ka.Pf.state.value,zC:ha,Eu:ha,Et:R};});});};X.prototype.clb=function(){var Q;Q=this;this.mq.Bha(Oa.tH.Sz,function(){return Q.mq.start();});};X.prototype.jfa=function(){var Q,ka,ra,R,ha;Q=this;if(this.Tc === d.Kl.Am){ka=this.Ii;ra=this.X.eb;R=this.eb.h_b();ha=l.__read(ra,1)[0];ka=ha?this.navigator.Ce(ha.G.id):this.navigator.Ce(ka.S);ra=ra.map(function(wa){return wa.G.id;});R=(0,M.jfa)(this.console,this.v_b,ka,R,this.vh,ra,k.P.Na(this.config.hJb),this.config.pAa,k.P.Na(this.config.nqa));ra=R.zDa;this.YE=R.YE || 0;R=this.Fta.reduce(function(wa,va){return va(wa);},ra);this.eb.Ikc(R,function(wa,va){var Ea,Ya;Ya=Q.navigator.Ce(wa);wa=wa === Q.ti.S?Q.ti.offset:wa === (null === (Ea=Q.C7) || void 0 === Ea?void 0:Ea.S)?Q.C7.offset:k.P.Pa;Ea=Ya.uf.add(wa);return Q.lkc(Ya,Ea,va);}).NR.forEach(function(wa){wa.ie("aborted");});this.Mjb();this.A2a();this.mq.Bha(Oa.tH.Sz,function(){var wa;(null === (wa=Q.eb.root()) || void 0 === wa?0:wa.Eq) && Q.cl("reevaluateBranches");Q.mq.H_(Oa.tH.HU);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};X.prototype.r_b=function(){return (0,w.FW)(this.eb.filter(function(Q){return Q.Eq;}).map(function(Q){return Q.O;}));};X.prototype.Mjb=function(){var Q,ka;Q=this;if(this.Tc === d.Kl.Am){if(!this.X.$t){ka=l.__read(this.eb.Wv(this.ti.S),1)[0];(null === ka || void 0 === ka?0:ka.Bh) && this.I_a(ka);}if(this.X.$t)for(;;){ka=this.q9a(this.X.$t.G);if(!ka)break;ka=l.__read(this.eb.Wv(ka).filter(function(ra){return ra.parent === Q.X.$t;}),1)[0];if(!ka)break;if(null === ka || void 0 === ka || !ka.Bh)break;else if(this.X.fab(ka))break;this.I_a(ka);}}};X.prototype.Z9a=function(Q){var ka,ra,R,ha;if(this.X.zy){ka=this.X.oi;ra=!1;R=this.X.eb.filter(function(wa){ra || (ra=wa === ka);return ra;});ha=(0,w.ot)(R,function(wa){return wa.G.id === Q.id;});if(R=R[ha + 1])return R.G.id;}return this.q9a(Q);};X.prototype.q9a=function(Q){var ka;ka=this.vh.get(Q.id);if(void 0 !== ka)return ka;Q=this.navigator.jXb(Q);if(1 === Q.length)return Q[0].id;};X.prototype.A2a=function(){var Q;Q=0 !== this.iWb();Q || this.Dga?Q && this.Dga && (this.Dga=!1):(this.Pf.Vf && (Q=this.Nh(this.Ae),this.Pf.Kg("complete",Q.MS,Q.NS)),this.nDb(),this.Dga=!0);};X.prototype.iWb=function(){return this.eb.filter(function(Q){return !Q.Ej;}).length;};X.prototype.$s=function(Q){this.Vba(Q) && this.Pf.ira(this.Ae,this.X.playbackRate,Q,{hra:this.zwa.hra.bind(this.zwa,this.pnb)});};X.prototype.I8b=function(Q,ka){var ra,R;ra=this;if(ka.didNormalizeSegment){R=V.YUa.q_b(Q);(0,v.assert)(R,"Segment should be normalized");Promise.resolve().then(function(){return ra.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Q.G.id,normalizedStart:ka.segmentContentStart,normalizedEnd:ka.branchContentEnd,viewableContentEnd:R.vqb,viewableEarliestContentEnd:R.wqb,media:c(Q.Fe)});});}Promise.resolve().then(function(){ra.Mjb();});this.cl("branchNormalized");};X.prototype.J8b=function(){this.A2a();};X.prototype.H8b=function(){this.mq.start();};X.prototype.rPb=function(Q,ka){var ra;ra=this;return new h.kJa(Q.N,this.VV.wu.bind(this.VV),function(R,ha,wa){ra.state !== d.Kl.CLOSED && (ra.k0(ha,wa),ra.mq.Bha(Oa.tH.HU,function(){R.Qf || ra.o7(R,ha,ka);}));},this.nBa.bind(this));};X.prototype.lkc=function(Q,ka,ra){var R,ha;if(this.nLb(Q,ka))throw Error("Not implemented");R=this.rPb(Q,!ra);ha=ra?ra.Sc.Ea(ka):this.obb || k.P.Pa;Q=(0,n.C3a)({config:this.config,console:this.console,G:Q,events:this.events,xL:this.xL,ao:ka,Sd:ha,eg:this.CPb.bind(this),Lg:this.Lg,bf:this.bf,hM:R,J1a:this.Vp,fCa:this.eb});this.qic(Q,!!ra);return Q;};X.prototype.CPb=function(){return this.Ae.Z;};X.prototype.qic=function(Q,ka){var ra,R;ra=this;R=new g.gf();R.addListener(Q.events,"needsRequest",function(){var ha;ha=ra.eb.root();ha && !ha.Eq || ra.cl("branchNeedsHeader");});R.addListener(Q.events,"branchNormalized",this.I8b.bind(this,Q));R.addListener(Q.events,"lastRequestIssued",this.H8b.bind(this,Q));R.addListener(Q.events,"branchStreamingComplete",this.J8b.bind(this,Q));R.addListener(Q.events,"checkBufferingProgress",this.$s.bind(this,Q));R.addListener(Q.events,"branchDestroyed",function(ha){R.clear();ra.eb.contains(Q) && (ra.eb.mfa(Q),ra.mq.start());"aborted" === ha.reason && (ra.X.fab(Q) || ra.mq.Bha(Oa.tH.Sz,function(){return ra.$na(Q.G.id);}));});ka || (this.An("createDlTracksStart"),Q.events.once("requestQueuesCreated",function(){ra.An("createDlTracksEnd");}));};X.prototype.UYb=function(Q){if(this.X.qf)return this.X.oi.gb(Q);};X.prototype.xL=function(Q,ka,ra,R){ka=[[f.u.T,null !== ka && void 0 !== ka?ka:this.OW,"audio_tracks"],[f.u.J,null !== ra && void 0 !== ra?ra:this.jHa,"video_tracks"]].map(function(ha){var wa,va;wa=l.__read(ha,3);va=wa[0];ha=wa[1];wa=wa[2];if(Q.ba && ((0,v.assert)(ha,("Expected mediaType ").concat(va," track selector to be defined")),va=Q.ba[wa],ha=ha.dS(Q.ba,va),void 0 !== ha))return Q.getTrackById(va[ha].PS);}).filter(w.Pda);ra=R || this.Lga;Q.ba && ra && (R=Q.ba.timedtexttracks,ra=ra.dS(Q.ba,R),void 0 !== ra && 0 <= ra && (R=Q.getTrackById(R[ra].id)) && ka.push(R));return ka;};X.prototype.Tda=function(Q){var ka,ra,R,ha;ka=this;ra=Q.O;R=Q.startTime;ha=Q.endTime;this.eb.filter(function(wa){return wa.Eq && wa.O === ra;}).forEach(function(wa){wa={type:"liveEventTimesUpdated",S:wa.G.id,startTime:R,endTime:ha};ka.events.emit(wa.type,wa);});};X.prototype.Uda=function(Q){var ka,ra,R,ha;ka=this;ra=Q.O;R=Q.mediaType;ha=Q.info;this.eb.filter(function(wa){return wa.Eq && wa.O === ra;}).forEach(function(wa){wa={type:"liveLoggingInfoUpdated",S:wa.G.id,mediaType:R,info:ha};ka.events.emit(wa.type,wa);});};X.prototype.o7=function(Q,ka,ra){(0,v.assert)(Q.Fe.length,"Branch should have tracks defined");Q={type:"segmentStarting",segmentId:Q.G.id,contentOffset:Q.Sd.Z,maxBitrates:{audio:ka.eu[f.u.T],video:ka.eu[f.u.J]},media:c(Q.Fe),initial:ra};this.events.emit(Q.type,Q);};X.prototype.$na=function(Q){Q={type:"segmentAborted",segmentId:Q};this.events.emit(Q.type,Q);};X.prototype.nDb=function(){var Q;Q={type:"streamerEnd",time:q.default.time.fa()};this.events.emit(Q.type,Q);};X.prototype.An=function(Q){Q={type:"startEvent",event:Q,time:q.default.time.fa()};this.events.emit(Q.type,Q);};l.__decorate([T.return.Ni()],X.prototype,"ti",null);l.__decorate([(0,E.ec)({methodName:"checkCanSetTracks",return:!0})],X.prototype,"LKb",null);l.__decorate([(0,E.ec)({methodName:"setTracks",return:!0})],X.prototype,"UC",null);l.__decorate([(0,E.ec)({methodName:"setNextSegment",mt:!0})],X.prototype,"Bl",null);l.__decorate([(0,E.ec)({methodName:"seekStreaming"}),l.__param(0,T.Ni())],X.prototype,"CG",null);l.__decorate([(0,E.ec)({methodName:"seekStreamingWithEntryPoint"}),l.__param(0,T.Ni()),l.__param(2,T.Ni()),l.__param(2,T.Wda)],X.prototype,"Ofa",null);l.__decorate([T.return.G3a(),l.__param(0,T.Ni())],X.prototype,"jZ",null);l.__decorate([T.return.Ni()],X.prototype,"$m",null);l.__decorate([l.__param(0,T.Ni())],X.prototype,"kZ",null);l.__decorate([l.__param(0,T.Ni())],X.prototype,"lZ",null);l.__decorate([T.return.Ni(),l.__param(0,T.Ni())],X.prototype,"Zkb",null);l.__decorate([l.__param(0,T.G3a()),l.__param(0,T.S())],X.prototype,"jp",null);l.__decorate([(0,E.ec)({methodName:"getStreamables",Wl:!0})],X.prototype,"ZP",null);l.__decorate([(0,E.ec)({methodName:"updatePlaygraphMap",return:!0})],X.prototype,"Xw",null);return X;})();b.lia=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kJa=void 0;c=a(0);r=(function(){function l(g,m,d,f){this.N=g;this.wu=m;this.k0=d;this.nBa=f;}Object.defineProperties(l.prototype,{O:{get:function(){var g;return null === (g=this.V2) || void 0 === g?void 0:g.O;},enumerable:!1,configurable:!0}});l.prototype.Wa=function(){var g;this.O && (this.O.GGa(this.bb),this.nBa(this.O));null === (g=this.V2) || void 0 === g?void 0:g.a_.release();this.V2=void 0;};l.prototype.oa=function(g){return c.__awaiter(this,void 0,void 0,function(){var m,d,f,h,k;return c.__generator(this,function(n){switch(n.label){case 0:return (this.bb=g,m=this.wu(this.N),d=m.YG,f=m.O,h=m.a_,this.V2={a_:h,O:f},f?(this.nbb(f,g,!1),[2,f]):[4,d]);case 1:return (k=n.ub(),this.nbb(k,g,!0),[2,k]);}});});};l.prototype.nbb=function(g,m,d){this.V2 && (this.V2.O=g,g.eDa(m),this.k0(m,g,d));};return l;})();b.kJa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.C3a=void 0;c=a(38);l=a(1131);g=a(8);m=a(1132);b.C3a=function(d){var f,h,k,n,p,q,v,t,w,u,x,y;f=d.config;h=d.console;k=d.fCa;n=d.G;p=d.events;q=d.xL;v=d.ao;t=d.Sd;w=d.eg;u=d.Lg;x=d.bf;y=d.hM;d=d.J1a;n.N === c.Qp && f.uJ?(p=new l.KRa(n.N,f.wBa),q=g.P.Pa,f=new (a(1136).JRa)(h,n,q,k.$Y.bind(k),p,f)):f=new m.hJa(f,h,p,n,q,v,t,w,k.$Y.bind(k),u,x,y,d);return f;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.KRa=void 0;c=a(38);r=(function(){function l(g,m){this.N=g;this.mmc=m;this.K=("").concat(c.Qp);this.ta=!1;this.B1=0;}l.prototype.getTrackById=function(){};l.prototype.li=function(){};l.prototype.Qjb=function(){};l.prototype.hg=function(){return !0;};l.prototype.SR=function(){};return l;})();b.KRa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u;Object.defineProperties(b,{__esModule:{value:!0}});b.hJa=b.rD=void 0;c=a(0);l=a(118);g=a(6);m=a(8);d=a(20);r=a(78);f=a(35);h=a(2);k=a(193);n=a(271);p=a(10);q=a(133);v=a(1133);t=a(465);w=a(1134);(function(x){x[x.ET=0]="CREATED";x[x.wT=1]="CANCELLED";})(u=b.rD || (b.rD={}));a=(function(x){function y(z,B,A,C,D,E,G,F,L,O,K,I,M){B=x.call(this,C,L,G,E,B) || this;B.L=z;B.yea=A;B.Gaa=D;B.oV=F;B.tA=O;B.Mx=K;B.hM=I;B.Vp=M;B.By=new n.JM();B.vDa=0;B.Ob=void 0;B.uz=void 0;B.dm=new m.uD();B.Mba=new m.uD();B.ZAa=B.B1b();return B;}c.__extends(y,x);Object.defineProperties(y.prototype,{Fe:{get:function(){var z;this.Eq && 0 === (null === (z=this.iO) || void 0 === z?void 0:z.length) && this.Gaa && (p.M && this.console.trace("Branch getting initial tracks"),this.iO=this.Gaa(this.O).sort(t.WG),p.M && this.console.trace("Branch got initial tracks:",this.iO));return this.iO;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{tO:{get:function(){return this.Ej?this.Om().every(function(z){return z.Xa.tO;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{v0a:{get:function(){return this.Om().some(function(z){return z.qHb;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ow:{get:function(){var z;return !(null === (z=this.Yd) || void 0 === z || !z.ow);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ej:{get:function(){var z;return !(null === (z=this.Yd) || void 0 === z || !z.Ej);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kt:{get:function(){var z,B;return null !== (B=null === (z=this.Yd) || void 0 === z?void 0:z.kt) && void 0 !== B?B:0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Bh:{get:function(){var z;return !(null === (z=this.Yd) || void 0 === z || !z.Bh);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bT:{get:function(){return this.dm.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Eq:{get:function(){var z;return !(null === (z=this.hM) || void 0 === z || !z.O);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{qba:{get:function(){return !!this.Fe.length && this.Fe.every(function(z){return z.te;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{O:{get:function(){(0,h.assert)(this.hM.O,"viewable should be available");return this.hM.O;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{W:{get:function(){var z;return (null === (z=this.Yd) || void 0 === z?void 0:z.W) || this.ao.W;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{cb:{get:function(){var z,B;return null !== (B=null === (z=this.Yd) || void 0 === z?void 0:z.cb) && void 0 !== B?B:this.ao.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sb:{get:function(){var z,B;return null !== (B=null === (z=this.Yd) || void 0 === z?void 0:z.sb) && void 0 !== B?B:this.G.yh.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Vj:{get:function(){var z,B;return null !== (B=null === (z=this.Yd) || void 0 === z?void 0:z.Vj) && void 0 !== B?B:this.Sd.Zf(this.W).Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Vt:{get:function(){var z,B,A;return null !== (B=null === (z=this.Yd) || void 0 === z?void 0:z.Vt) && void 0 !== B?B:null === (A=this.ao) || void 0 === A?void 0:A.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{AJ:{get:function(){var z,B;B=null === (z=this.G.G.xq) || void 0 === z?void 0:z[0];return B && this.oc?d.P.Na(Math.max(0,B[0] - this.oc.Z - this.G.uf.Z)):d.P.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{us:{get:function(){var z,B;return null !== (B=null === (z=this.Yd) || void 0 === z?void 0:z.us) && void 0 !== B?B:this.G.uf.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{lG:{get:function(){var z,B;return null !== (B=null === (z=this.Yd) || void 0 === z?void 0:z.lG) && void 0 !== B?B:this.G.yh.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ZZ:{get:function(){var z;return null === (z=this.Yd) || void 0 === z?void 0:z.ZZ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Sd:{get:function(){var z,B;return null !== (B=null === (z=this.Yd) || void 0 === z?void 0:z.Sd) && void 0 !== B?B:this.vr;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{cr:{get:function(){var z,B;return null !== (B=null === (z=this.Yd) || void 0 === z?void 0:z.cr) && void 0 !== B?B:this.G.yh.Ea(this.ao || this.G.uf);},enumerable:!1,configurable:!0}});y.prototype.oa=function(){return c.__awaiter(this,void 0,void 0,function(){var z,B,A;A=this;return c.__generator(this,function(C){switch(C.label){case 0:x.prototype.oa.call(this);if(this.Qf)return [2];p.M && this.console.log(("AseBranch {").concat(this.G.id,"} awaiting viewable"));return [4,this.hM.oa(this)];case 1:C.ub();p.M && this.console.log(("AseBranch {").concat(this.G.id,"} viewable available, branch ").concat(this.Qf?"cancelled":"active"));if(this.Qf)return [2];z=this.Fe.map(function(D){var E;return null === (E=A.parent) || void 0 === E?void 0:E.YP(D.mediaType);});this.Rlb(this.ao);this.Fe.some(function(D){D.mediaType === g.u.Za && A.imb(D);});return [4,this.h7a()];case 2:return (C.ub(),p.M && this.console.log(("AseBranch {").concat(this.G.id,"} have headers")),this.Qf?[2]:(B=this.parent)?[4,B.bT]:[3,4]);case 3:C.ub();if(this.Qf)return [2];this.GOb(z);C.label=4;case 4:return (this.normalize(),[2]);}});});};y.prototype.GOb=function(z){var B;B=this;this.By.forEach(function(A){var C,D;D=null === (C=B.parent) || void 0 === C?void 0:C.YP(A.mediaType);(0,h.assert)(D,"Parent state should be defined");-1 === (null === z || void 0 === z?void 0:z.indexOf(D)) && (A.Yj.De.Wa(),C=new k.Y5(function(){var E;return null === (E=B.parent) || void 0 === E?void 0:E.YP(A.mediaType);}),A.Yj.De=C);D=void 0;});z=void 0;};y.prototype.h7a=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.qba?this.Mba.resolve():(this.O.events.on("onHeaderFragments",this.ZAa),this.events.emit("needsRequest"));return [2,this.Mba.promise];});});};y.prototype.B1b=function(){var z;z=this;return function(){!z.Qf && z.qba && (z.O.events.Sy("onHeaderFragments",z.ZAa),z.Mba.resolve());};};y.prototype.normalize=function(){this.Qf || (this.Yd=new w.YQa(this,this.L,this.console,this.O,this.yea,this.gq,this.ao,this.By.items,this.vr,this.oV,this.tA,this.events,this.Mx,this.Vp),this.jta(this.Yd.VE),this.dm.resolve(this.Yd));};y.prototype.update=function(z){var B;this.gq=z;(null === (B=this.Yd) || void 0 === B?0:B.update(z)) && this.jta(!0);};y.prototype.dr=function(z,B){var A;void 0 === B && (B="unknown");x.prototype.dr.call(this,z,B);null === (A=this.Yd) || void 0 === A?void 0:A.dr(z);};y.prototype.wy=function(z){return c.__awaiter(this,void 0,void 0,function(){var B;return c.__generator(this,function(A){switch(A.label){case 0:return [4,this.dm];case 1:return (B=A.ub(),[2,null === B || void 0 === B?void 0:B.wy(z)]);}});});};y.prototype.aF=function(){var z;null === (z=this.Yd) || void 0 === z?void 0:z.aF();};y.prototype.reset=function(){var z;null === (z=this.Yd) || void 0 === z?void 0:z.reset();};y.prototype.ie=function(z){var B;void 0 === z && (z="other");x.prototype.ie.call(this,z);this.Tc=u.wT;this.Eq && this.O.events.Sy("onHeaderFragments",this.ZAa);null === (B=this.Yd) || void 0 === B?void 0:B.ie(z);this.By.forEach(function(A){A.cancel();A.Yj.De.Wa();});this.hM.Wa();this.uz && (this.uz.removeAllListeners(),p.M && this.console.trace("AseBranch destroying textRequestQueue:",this.uz),l.Do.instance.kJ(this.uz),this.uz=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:z});this.events.removeAllListeners();};y.prototype.nQ=function(z){var B;return !(null === (B=this.Yd) || void 0 === B || !B.nQ(z));};y.prototype.gb=function(z){var B;return null === (B=this.Yd) || void 0 === B?void 0:B.gb(z);};y.prototype.rba=function(z){return this.Fe.some(function(B){return B.mediaType === z;});};y.prototype.Om=function(z){var B,A;void 0 === z && (z=t.WG);return null !== (A=null === (B=this.Yd) || void 0 === B?void 0:B.Om(z)) && void 0 !== A?A:[];};y.prototype.YP=function(z){var B,A;return (null === (B=this.gb(z)) || void 0 === B?void 0:B.Yj.De) || (null === (A=this.By.get(z)) || void 0 === A?void 0:A.Yj.De);};y.prototype.TY=function(){var z,B,A,C;z=this;if(!this.qba)return this.By.items;C=null !== (A=null === (B=this.Yd) || void 0 === B?void 0:B.TY()) && void 0 !== A?A:[];this.Ob && C.some(function(D){if(D.mediaType === g.u.J)return (D.l1a=z.Ob,p.M && z.console.trace("Branch setting auxiliaryTrack:",z.Ob),!0);});return C;};y.prototype.pF=function(z){var B;return (null === (B=this.Yd) || void 0 === B?void 0:B.pF(z)) || this.By.get(z);};y.prototype.Nh=function(z,B){var A;return (null === (A=this.Yd) || void 0 === A?void 0:A.Nh(z,B)) || 0;};y.prototype.JB=function(){var z;return (null === (z=this.Yd) || void 0 === z?void 0:z.JB()) || ({});};y.prototype.IY=function(z){var B;return (null === (B=this.Yd) || void 0 === B?void 0:B.IY(z)) || this.Vt.Z;};y.prototype.UC=function(z,B,A){return c.__awaiter(this,void 0,void 0,function(){var C,D,E,G,F;F=this;return c.__generator(this,function(L){switch(L.label){case 0:p.M && this.console.trace("Branch.setTracks:",z);this.iO=z.sort(t.WG);this.Rlb(B);if(!this.Bh)return [3,4];(0,h.assert)(this.Yd);C=this.By.filter(function(O){return O.track.te;}).items;D=this.Yd.ypb(C,B,A);E=D.MX;G=D.VE;E && this.jta(G);if(this.qba)return [3,4];this.Mba=new m.uD();this.dm=new m.uD();p.M && this.console.log(("AseBranch {").concat(this.G.id,"} setTracks waiting for headers"));return [4,this.h7a()];case 1:return (L.ub(),this.Qf?[2]:this.parent?[4,this.parent.bT]:[3,3]);case 2:(L.ub(),L.label=3);case 3:(this.Yd.ypb(this.By.items,B,A),p.M && this.console.log(("AseBranch {").concat(this.G.id,"} setTracks pipelines updated")),this.dm.resolve(this.Yd),this.events.emit("needsRequest"),L.label=4);case 4:return (z.some(function(O){if(O.mediaType === g.u.Za)return (F.imb(O),!0);}),[2]);}});});};y.prototype.imb=function(z){this.Ob=z;this.uz || (this.uz=l.Do.instance.Dt(g.u.Za,this.O.K,!0,!1,{ly:this.L.ly,ta:this.O.ta},this.L),this.uz.oa(),p.M && this.console.trace("AseBranch created textRequestQueue:",this.uz));};y.prototype.N$a=function(){return this.Ob;};y.prototype.Rlb=function(z){var B;B=this;this.vDa=0;this.By=new n.JM(this.Fe.filter(function(A){return A.mediaType !== g.u.Za;}).map(function(A){var C;C=B.By.find(function(D){return D.track === A;});C || (++B.vDa,C=new v.jNa(B,A,function(){return (null === z || void 0 === z?void 0:z.add(B.Sd)) || d.P.Pa;},B.L,B.console,function(){var D;return null === (D=B.parent) || void 0 === D?void 0:D.YP(A.mediaType);},B.yea,function(){0 === --B.vDa && B.events.emit("requestQueuesCreated");}));return C;}));};y.prototype.vm=function(z){var B;return (null === (B=this.Yd) || void 0 === B?void 0:B.vm(z)) || [];};y.prototype.ME=function(z){var B;return !(null === (B=this.Yd) || void 0 === B || !B.ME(z));};y.prototype.LY=function(z){return this.Yd?this.Yd.LY(z):d.P.Pa;};y.prototype.cha=function(z){var B;return !(null === (B=this.Yd) || void 0 === B || !B.cha(z));};y.prototype.jta=function(z){z={type:"branchNormalized",segmentContentStart:this.G.uf,branchContentStart:this.oc,branchContentEnd:this.Ld,didNormalizeSegment:z};this.events.emit(z.type,z);p.M && this.console.trace("branchNormalized:",z);};y.prototype.toJSON=function(){var z;return (null === (z=this.Yd) || void 0 === z?void 0:z.toJSON()) || ({});};return y=c.__decorate([q.GJ],y);})(t.Aia);b.hJa=a;(0,f.ef)(r.Vu,a);(0,f.ef)(r.Jz,a);},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jNa=void 0;c=a(447);l=a(118);g=a(6);m=a(193);d=a(272);f=a(2);r=(function(){function h(k,n,p,q,v,t,w,u){this.bb=k;this.track=n;this.Nhc=p;this.config=q;this.console=v;this.events=w;this.k9b=u;this.Xm=0;this.Cib=this.Ej=!1;this.Yj=this.ePb(t);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{S:{get:function(){return this.bb.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ri:{get:function(){return this.bb.ri;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wga:{get:function(){return this.Nhc();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mX:{get:function(){return this.wga;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ZC:{get:function(){return this.wga;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{AJ:{get:function(){return this.bb.AJ;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{cf:{get:function(){return this.Ve || (this.Ve=this.Dt());},enumerable:!1,configurable:!0}});h.prototype.KF=function(){return this.track.Eda;};h.prototype.Xt=function(){return this.track.te;};h.prototype.Bh=function(){return !1;};h.prototype.o9a=function(){return {ma:[],sea:0,Rj:0,Dp:0};};h.prototype.Ujc=function(){var k;(0,f.assert)(this.Xt());k=this.cf;this.Ve=void 0;return k;};h.prototype.Tob=function(k){return (k=k.VG(this.cf))?{Lj:k,reason:"success"}:{Lj:k,reason:"pipelineTryIssueHeaderRequest"};};h.prototype.cancel=function(){this.Ve && (this.bb.O.nO(this.mediaType,this.Ve),l.Do.instance.kJ(this.Ve),this.Ve.removeAllListeners(),this.Ve=void 0);};h.prototype.I9a=function(){};h.prototype.gcb=function(){var k,n,p;p=this.config.nj;if(null === (k=this.cf) || void 0 === k?0:k.track)p=null === (n=this.cf) || void 0 === n?void 0:n.track.nj;return p;};h.prototype.ePb=function(k){var n,p;n=this.mediaType === g.u.T?this.config.b1a:this.track.ta?this.config.z4b:this.config.FFa;k=new m.Y5(k);k.I1(this.track);p=this.config;return new d.Yla(n,this.config,k,this.mediaType === g.u.T?p.s$:p.t$);};h.prototype.Dt=function(){var k,n;k=this;n=(0,c.Dt)(this.mediaType,this.track.O,this.config,this.console,this.track.ta,function(p){return k.events.emit("transportReport",p);},function(p){return k.events.emit("mediaRequestComplete",p);},function(){});n.on("created",this.k9b);return n;};return h;})();b.jNa=r;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y){return (x.mediaType === f.u.J?0:1) - (y.mediaType === f.u.J?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.YQa=b.dla=void 0;l=a(0);g=a(443);m=a(91);d=a(132);f=a(6);h=a(1135);k=a(8);n=a(21);p=a(2);q=a(20);v=l.__importDefault(a(3));r=a(78);t=a(35);w=a(271);u=a(466);b.dla={WG:c};a=(function(x){function y(z,B,A,C,D,E,G,F,L,O,K,I,M,H){var J,N;N=x.call(this,C) || this;N.bb=z;N.L=B;N.O=C;N.yea=D;N.gq=E;N.vr=L;N.oV=O;N.tA=K;N.events=I;N.Mx=M;N.Vp=H;N.lf=new w.JM([]);N.xn=!1;N.zV=0;N.ZU=N.YAa.bind(N);(0,p.assert)(C.N === N.G.N || isNaN(C.N) && isNaN(N.G.N));z=E.id && E.id.length?"{" + E.id + "}":"";N.console=(0,k.Oi)(v.default,A,z);N.ao=null !== G && void 0 !== G?G:q.P.Na(N.G.ca);A=N.parent;N.goa=null === A || void 0 === A?void 0:A.Sc;null === (J=N.tA) || void 0 === J?void 0:J.addListener(N.ZU);F=N.d4a(F,N.ao,!!A).VE;N.VE=F;return N;}l.__extends(y,x);Object.defineProperties(y.prototype,{Qf:{get:function(){return this.xn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{G:{get:function(){return this.gq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ow:{get:function(){return this.lf.every(function(z){return z.ow;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ej:{get:function(){return this.lf.every(function(z){return z.Ej;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{kt:{get:function(){return this.Om().reduce(function(z,B){return z + B.kt;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Bh:{get:function(){return this.Om().every(function(z){return z.Bh();});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Fe:{get:function(){return this.bb.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{W:{get:function(){return this.Nx.W;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{cb:{get:function(){return this.Nx.cb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sb:{get:function(){return this.Nx.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Vj:{get:function(){return this.Sd.Zf(this.W).Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Vt:{get:function(){return this.ao.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{us:{get:function(){return this.G.uf.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{lG:{get:function(){return this.G.yh.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ZZ:{get:function(){return this.lf.reduce(function(z,B){return z && B.Sc?q.P.max(z,B.Sc):B.Sc?B.Sc:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{zxa:{get:function(){return this.Vt.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ng:{get:function(){return this.Sd.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{cr:{get:function(){return this.Nx.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Sd:{get:function(){return this.vr;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{parent:{get:function(){return this.bb.parent;},enumerable:!1,configurable:!0}});y.prototype.ypb=function(z,B,A){var C;void 0 === B && (B=null !== (C=this.oc) && void 0 !== C?C:this.ao);return this.d4a(z,B,A);};y.prototype.update=function(z){var B,A,C;C=z.yh.Qda(this.gq.yh);this.gq=z;return C && this.cE?(C=l.__read(this.cE.zdc(z,z.yh),2),z=C[0],C=C[1],(0,p.assert)(z && C,"branch.update: lastFragment should be defined"),null === (B=this.gb(f.u.T)) || void 0 === B?void 0:B.truncate(z),null === (A=this.gb(f.u.J)) || void 0 === A?void 0:A.truncate(C),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};y.prototype.dr=function(z){this.Sd.equal(z) || (this.vr=z,this.events.emit("branchEdited",{type:"branchEdited"}));};y.prototype.wy=function(z){return l.__awaiter(this,void 0,void 0,function(){var B;return l.__generator(this,function(A){switch(A.label){case 0:return [4,Promise.resolve()];case 1:return (A.ub(),(B=this.gb(z))?[2,B.wy()]:[2,d.AsyncIterator.c9a()]);}});});};y.prototype.aF=function(){this.Om().forEach(function(z){return z.aF();});};y.prototype.mW=function(){this.lf.forEach(function(z){return z.mW();});};y.prototype.reset=function(){this.lf.forEach(function(z){z.reset();});};y.prototype.ie=function(z){var B,A;this.xn || (this.xn=!0,null === (B=this.cE) || void 0 === B?void 0:B.ud(),this.cE=void 0,this.lf.forEach(function(C){C.ie("aborted" === z);}),null === (A=this.tA) || void 0 === A?void 0:A.removeListener(this.ZU));};y.prototype.nQ=function(){return !0;};y.prototype.gb=function(z){return this.lf.get(z);};y.prototype.Om=function(z){void 0 === z && (z=c);return this.lf.items.slice().sort(z);};y.prototype.TY=function(){return this.lf.items;};y.prototype.pF=function(z){return this.gb(z);};y.prototype.Nh=function(z,B){z=this.gb(z);if(!z)return 0;if(B)return z.mo;B=z.zt;if(void 0 === B)return 0;z=this.oV();return B - z;};y.prototype.JB=function(){var z,B,A,C,D,E,G;G=null === (z=this.gb(f.u.T)) || void 0 === z?void 0:z.Yo;z=null === (B=this.gb(f.u.J)) || void 0 === B?void 0:B.Yo;return {Kp:null !== (A=null === z || void 0 === z?void 0:z.Z) && void 0 !== A?A:0,jt:null !== (C=null === G || void 0 === G?void 0:G.Z) && void 0 !== C?C:0,Qu:null !== (D=null === z || void 0 === z?void 0:z.ga) && void 0 !== D?D:0,qE:null !== (E=null === G || void 0 === G?void 0:G.ga) && void 0 !== E?E:0};};y.prototype.IY=function(z){var B;return (z=this.gb(z))?null !== (B=z.zt) && void 0 !== B?B:0:0;};y.prototype.vm=function(z){z=this.gb(z);return (null === z || void 0 === z?void 0:z.vm()) || [];};y.prototype.YAa=function(z){z=z.newValue;(0,f.Hq)(z) && this.$s();};y.prototype.ME=function(z){return this.lf.every(function(B){return B.ME(z);});};y.prototype.LY=function(z){var B,A;return null !== (A=null === (B=this.lf.get(z)) || void 0 === B?void 0:B.C4a) && void 0 !== A?A:q.P.Pa;};y.prototype.cha=function(z){var B,A,C;B=this.Nx.H3b;if(!B)return !1;z=(0,n.Oc)(z,function(D){return B.Z <= D.oc.Z;});if(!z)return !1;A=z.oc;z=!1;C=l.__read((0,u.oDa)(this.L,this.lf,A),2);A=C[0];if(C=C[1])(this.gb(f.u.J).truncate(C),z=!0);A && (this.gb(f.u.T).truncate(A),z=!0);z && (A={type:"branchEdited"},this.events.emit(A.type,A));return z;};y.prototype.ql=function(z){this.xn || (z.p8 || (0,p.assert)(!z.Hc),this.$s(),this.Ej && this.doa());this.Uv(z);};y.prototype.PK=function(z){this.L.v$ && this.$s(!0);this.DJ(z);};y.prototype.wC=function(z){this.L.v$ && this.$s(!0);this.iF(z);};y.prototype.d4a=function(z,B,A){var C,D,E;C=this;D=new w.JM();E=!1;z.forEach(function(G){var F;F=C.lf.find(function(L){return L.track === G.track;});void 0 === F?(E=!0,F=new g.cla(C,C.L,C.console,C.yea,C.bb,G.track,B,G.Yj,!0,void 0,G.Ujc(),C.Mx,C.Vp),C.N1b(F)):(C.lf.remove(F),F.mW());D.add(F);});this.lf.forEach(function(G){return G.ie();});this.lf=D;return E?this.normalize(B,A):{MX:!1,VE:!1};};y.prototype.N1b=function(z){var B;B=this;z.events.on("lastRequestIssued",function(){return B.ow && B.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};y.prototype.normalize=function(z,B){var A,C;null === (A=this.cE) || void 0 === A?void 0:A.ud();this.cE=new h.ESa({console:this.console,config:this.L,O:this.O,G:this.G,im:this.lf,oc:z,Ld:null !== (C=this.G.yh) && void 0 !== C?C:void 0 !== this.G.Ta?q.P.Na(this.G.Ta):void 0,splice:B});this.Nx=this.lf.Sea;B=this.cE.normalize();z=B.MX;B=B.VE;z && this.goa && (this.vr=this.goa.Ea(this.oc));return {MX:z,VE:B};};y.prototype.WEa=function(z){var B;return (0,f.Hq)((null === (B=this.tA) || void 0 === B?void 0:B.value) || f.bd.Am) && (!z || this.zV + this.L.rda < v.default.time.fa());};y.prototype.$s=function(z){void 0 === z && (z=!1);this.WEa(z) && (this.zV=v.default.time.fa(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};y.prototype.doa=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};y.prototype.toJSON=function(){var z,B;return {segment:this.G.id,branchOffset:this.ng,viewableId:this.gq.N,contentStartPts:null === (z=this.oc) || void 0 === z?void 0:z.Z,contentEndPts:null === (B=this.Ld) || void 0 === B?void 0:B.Z};};return y;})(m.bx);b.YQa=a;(0,t.ef)(r.Vu,a);},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.ESa=void 0;c=a(0);l=a(6);g=a(466);m=a(2);r=(function(){function d(f){var h,k,n,p,q,v,t;h=f.console;k=f.config;n=f.O;p=f.im;q=f.G;v=f.oc;t=f.Ld;f=f.splice;this.AZ=this.PO=!1;this.console=h;this.config=k;this.im=p;this.O=n;this.G=q;this.oc=v;this.Ld=t;this.splice=f;this.x1b();}d.prototype.oa=function(f){if(this.PO)throw Error("Cannot call init() after cleanup");if(this.AZ)throw Error("Cannot call init() twice");this.AZ=!0;this.Pgb=f;this.O.events.addListener("onHeaderFragments",this.w2a);this.xpa() && this.HAa();};d.prototype.normalize=function(){if(this.PO)throw Error("Cannot call normalize() after cleanup");if(this.AZ)throw Error("Cannot call init() / normalize() twice");this.AZ=!0;(0,m.assert)(this.xpa());return this.HAa();};d.prototype.zdc=function(f,h){(0,m.assert)(this.AZ,"expected to be called init() before renormalize");this.G=f;this.Ld=h;f=(0,g.oDa)(this.config,this.im,this.Ld);this.Oda();return f;};d.prototype.ud=function(){this.PO || (this.PO=!0,this.Pgb=void 0,this.O.events.removeListener("onHeaderFragments",this.w2a));};d.prototype.x1b=function(){var f;f=this;this.w2a=function(){f.PO || f.xpa() && f.HAa();};};d.prototype.HAa=function(){var f,h,k;if(this.PO)return {MX:!1,VE:!1};h=this.J7b();k=!1;this.G && !this.G.dm && (k=this.Oda());null === (f=this.Pgb) || void 0 === f?void 0:f.call(this,h,k);this.ud();return {MX:h,VE:k};};d.prototype.xpa=function(){return this.im.every(function(f){return f.track.te;});};d.prototype.J7b=function(){var f,h;f=c.__read((0,g.igb)(this.config,this.im,this.oc,this.Ld,this.splice),2);h=f[0];return f[1] || void 0 === this.im.get(l.u.J) && h;};d.prototype.Oda=function(){var f,h,k;(0,m.assert)(this.G);(0,m.assert)(!this.G.dm);f=this.im.Sea;h=(0,g.kgb)(this.config,f,this.G.uf);if(void 0 === h || void 0 === f.Ld)return !1;f=f.Ld;k=this.config.VGa && "lazy" === this.G.Ge?(0,g.oeb)(this.console,this.G,this.im):[];this.G.normalize(h,f,k);return !0;};return d;})();b.ESa=r;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B;function c(A){return function(){return ("[").concat(A,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.JRa=b.rD=void 0;l=a(0);g=a(75);m=a(38);d=a(427);f=a(6);h=a(20);r=a(78);k=a(1137);n=a(35);p=a(192);q=a(2);v=a(424);t=a(8);w=l.__importDefault(a(3));u=a(267);x=a(431);y=a(10);z=a(133);a=a(465);(function(A){A[A.ET=0]="CREATED";A[A.wT=1]="CANCELLED";})(B=b.rD || (b.rD={}));a=(function(A){function C(D,E,G,F,L,O){D=A.call(this,E,F,G,h.P.Pa,(0,t.Oi)(w.default,D,"AsePadding")) || this;D.O=L;D.config=O;D.gM=new p.bH(D.console);D.zE=new p.bH(D.console);D.dm=new t.uD();D.console.trace(("PaddingBranch {").concat(E.id,"}: created"));return D;}l.__extends(C,A);C.prototype.gOb=function(D){return l.__awaiter(this,void 0,void 0,function(){var E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa,T,X,Q,ka,ra;return l.__generator(this,function(R){switch(R.label){case 0:return [4,this.jbc()];case 1:E=R.ub();G=E.Gf;F=E.je;L=E.bitrate;O=E.iu;K=v.X5.instance();I=K.KZb(F,L,O);M=new h.P(I.duration);H=new h.P(I.da);J=H.W;N=I.profile;P=I.bitrate;W=I.channels;V={Jbb:!0,mediaType:f.u.T,mf:N,profile:N,W:J,dh:[{Vd:0,data:I.oa}],da:H,Gf:G,O:this.O,bitrate:P,Sa:("").concat(m.Qp),track:{trackId:"1",mediaType:f.u.T,qp:!1,da:H,O:this.O,channels:W,sampleRate:48E3,profile:N,Lc:[],iu:O,toString:c(f.u.T)}};V.np=V.track.np=d.oM.prototype.np.bind(V.track);V.track.Lc.push(V);S=(0,t.Oi)(w.default,this.console,"[0]");this.zE=new p.bH(S);U=new h.P(I.da);fa=this.config.Hm?G:h.P.Pa;qa=fa.add(M);y.M && S.trace(("PaddingBranch: audio target duration is ").concat(D.Fb()));xa=h.P.Pa;Aa=this.config.Hm?-Math.ceil(G.mk(H)):0;T=fa;for(X=!0;T.lessThan(D);){T=T.add(M);T.greaterThan(D) && (Oa=M.mk(U) - Math.floor(T.Ea(D).mk(U)));Q=T.pk(D);ka=X?0:Q?D.Z:void 0;ra=new k.iia(I.oa,I.pa,V,J,fa.Zf(J).Fa,qa.Zf(J).Fa,U,S,this,this.x8a.bind(this,J,xa),ka,X,Q);ra.tj({start:Aa,end:Oa});y.M && S.log(("PaddingBranch: enqueing request ").concat(ra,", edit: ").concat(JSON.stringify({start:Aa,end:Oa}),", ") + ("offset ").concat(xa.Fb()));this.zE.enqueue(ra);xa=xa.add(M);Aa=void 0;X=!1;}this.zE.sP();return [2];}});});};C.prototype.pPb=function(){var D,E,G;return l.__awaiter(this,void 0,void 0,function(){var F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa,T,X,Q,ka,ra,R,ha,wa,va,Ea;return l.__generator(this,function(Ya){switch(Ya.label){case 0:return [4,this.lbc()];case 1:F=Ya.ub();L=F.profile;O=F.$x;K=F.iu;I=v.X5.instance();M=null === (G=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.gb(f.u.J)) || void 0 === E?void 0:E.track.da) || void 0 === G?void 0:G.Jjb();(0,q.assert)(M,"padding branches should always have a frameRate");H=I.LZb(this.O.mmc,L,M,O,K);J=new h.P(H.duration);N=H.profile;P=H.bitrate;W=H.width;V=H.height;S=H.zd;U=H.Ad;fa=H.da.W;qa=new h.P(H.da);xa=new u.NH(fa,H.da.Fa);Aa={Jbb:!0,mediaType:f.u.J,mf:N,profile:N,W:fa,dh:[{Vd:0,data:H.oa}],Sa:("").concat(m.Qp),da:qa,O:this.O,bitrate:P,track:{trackId:"1",mediaType:f.u.J,qp:!1,da:qa,frameRate:xa,Uca:xa,mm:new x.kma({w:W,cs:V},{w:S,cs:U}),O:this.O,profile:N,Lc:[],iu:K,toString:c(f.u.J)}};Aa.np=Aa.track.np=d.oM.prototype.np.bind(Aa.track);Oa=new g.dv(this.console,Aa,H.oa,["moov"],!0,{Mkb:!0,ABa:!0});T={da:qa};X=Oa.parse(T);(0,q.assert)(X.xw,"Failed to parse padding fragment header");(0,q.assert)(X.dh,"Failed to get initialization segments from padding fragment header");Aa.dh=X.dh;y.M && this.console.trace(("PaddingBranch {").concat(this.G.id,"}: video queue"),Aa);Aa.track.Lc.push(Aa);Q=(0,t.Oi)(w.default,this.console,"[1]");ka=Math.ceil(this.Yza.mk(J));ra=J.Ry(ka);R=this.G.uf;ha=R.add(ra).Zf(this.W);y.M && Q.trace(("PaddingBranch: ").concat(ka," fragments of ").concat(J.Fb(),", ") + ("duration ").concat(ra.Fb(),", ") + ("c: ").concat(R.Fb(),"-").concat(ha.Fb(),", "));this.G.normalize(R,ha,[]);for(wa=h.P.Pa;wa.lessThan(ra);){va=wa.add(J);Ea=new k.iia(H.oa,H.pa,Aa,fa,0,J.Zf(fa).Fa,qa,Q,this,this.x8a.bind(this,fa,wa),void 0,wa.equal(h.P.Pa),va.pk(ra));y.M && Q.trace(("PaddingBranch: appended ").concat(Ea));this.gM.enqueue(Ea);wa=va;}this.gM.sP();this.Rlc=ra;return [2,{duration:ra}];}});});};Object.defineProperties(C.prototype,{ow:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Ej:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{kt:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Bh:{get:function(){return this.dm.HDa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{bT:{get:function(){return this.dm.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Eq:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{W:{get:function(){return this.G.uf.W;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{cb:{get:function(){return this.G.uf.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{sb:{get:function(){return this.G.yh.Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Vj:{get:function(){return this.Sd.Zf(this.W).Fa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Vt:{get:function(){return this.G.uf.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{AJ:{get:function(){(0,q.assert)(!this.G.G.xq,"exit zone not supported for padding segments");return h.P.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{tO:{get:function(){return this.zE && this.gM?this.zE.Wt && this.gM.Wt:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{v0a:{get:function(){return !(!this.zE && !this.gM);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{us:{get:function(){return this.G.uf.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{lG:{get:function(){return this.G.yh.add(this.Sd);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ZZ:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Sd:{get:function(){return this.vr;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Yza:{get:function(){var D;return null !== (D=this.VYa) && void 0 !== D?D:this.G.yh.Ea(this.G.uf);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{cr:{get:function(){return h.P.Pa;},enumerable:!1,configurable:!0}});C.prototype.oa=function(){return l.__awaiter(this,void 0,void 0,function(){var D;return l.__generator(this,function(E){switch(E.label){case 0:(A.prototype.oa.call(this),E.label=1);case 1:return (E.$q.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.G.id,"}: init")),this.parent?[4,this.parent.bT]:[3,3]);case 2:(E.ub(),E.label=3);case 3:return (this.VYa=this.G.yh.Ea(this.G.uf),[4,this.m4a([f.u.T,f.u.J])]);case 4:return (E.ub(),this.dm.resolve(),[3,6]);case 5:D=E.ub();if(!this.Qf)throw D;return [3,6];case 6:return [2];}});});};C.prototype.update=function(D){this.gq=D;};C.prototype.wy=function(D){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.G.id,"}: getRequestIterator(").concat(D,")"));return D === f.u.T?[2,this.zE.Tua()]:[2,this.gM.Tua()];});});};C.prototype.aF=function(){};C.prototype.reset=function(){};C.prototype.ie=function(D){void 0 === D && (D="other");A.prototype.ie.call(this,D);this.Tc=B.wT;this.VYa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:D});this.events.removeAllListeners();};C.prototype.nQ=function(){return !0;};C.prototype.gb=function(){};C.prototype.rba=function(D){return [f.u.T,f.u.J].some(function(E){return E === D;});};C.prototype.Om=function(){return [];};C.prototype.YP=function(D){var E;return null === (E=this.parent) || void 0 === E?void 0:E.YP(D);};C.prototype.TY=function(){return [];};C.prototype.pF=function(){};C.prototype.Nh=function(){return this.Yza.Z;};C.prototype.JB=function(){return {};};C.prototype.IY=function(){return this.G.yh.Z;};C.prototype.UC=function(D,E,G,F){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(L){switch(L.label){case 0:return [4,this.dm.promise];case 1:return (L.ub(),this.parent?[4,this.parent.bT]:[3,3]);case 2:(L.ub(),L.label=3);case 3:return [4,this.m4a(F)];case 4:return (L.ub(),[2]);}});});};C.prototype.m4a=function(D){return l.__awaiter(this,void 0,void 0,function(){var E,G;return l.__generator(this,function(F){switch(F.label){case 0:E=h.P.Pa;if(-1 === D.indexOf(f.u.J))return [3,2];this.gM.clear();return [4,this.pPb()];case 1:(G=F.ub(),E=G.duration,F.label=2);case 2:if(-1 === D.indexOf(f.u.T))return [3,4];this.zE.clear();this.console.trace(("AsePaddingBranch {").concat(this.G.id,"}: video duration ").concat(E.Fb()));return [4,this.gOb(this.Rlc)];case 3:(F.ub(),F.label=4);case 4:return [2];}});});};C.prototype.N$a=function(){};C.prototype.vm=function(){return [];};C.prototype.ME=function(D){var E,G;return !!((null === (E=this.Sc) || void 0 === E?0:E.greaterThan(D)) && (null === (G=this.Ed) || void 0 === G?0:G.lessThan(D)));};C.prototype.LY=function(){return this.Yza;};C.prototype.cha=function(){return !1;};C.prototype.toJSON=function(){var D,E;return {segment:this.G.id,viewableId:this.gq.N,contentStartPts:null === (D=this.oc) || void 0 === D?void 0:D.Z,contentEndPts:null === (E=this.Ld) || void 0 === E?void 0:E.Z};};C.prototype.lbc=function(){var D,E,G,F,L,O,K;return l.__awaiter(this,void 0,void 0,function(){var I,M,H,J;return l.__generator(this,function(N){switch(N.label){case 0:return (I=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.gb(f.u.J)) || void 0 === E?void 0:E.De.nl)?[3,2]:[4,null === (F=null === (G=this.parent) || void 0 === G?void 0:G.gb(f.u.J)) || void 0 === F?void 0:F.De.Gqb];case 1:N.ub();if(this.Qf)return [2,Promise.reject()];N.label=2;case 2:return (I=null === (O=null === (L=this.parent) || void 0 === L?void 0:L.gb(f.u.J)) || void 0 === O?void 0:O.De.nl,(0,q.assert)(I,"Parent of padding branch must have last selected video stream"),M=null === (K=I.track.mm) || void 0 === K?void 0:K.$x,H=I.track.iu,J=I.mf,[2,{profile:J,$x:M,iu:H}]);}});});};C.prototype.jbc=function(){var D,E,G,F,L,O;return l.__awaiter(this,void 0,void 0,function(){var K,I,M,H,J;return l.__generator(this,function(N){switch(N.label){case 0:return (K=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.gb(f.u.T)) || void 0 === E?void 0:E.De.nl)?[3,2]:[4,null === (F=null === (G=this.parent) || void 0 === G?void 0:G.gb(f.u.T)) || void 0 === F?void 0:F.De.Gqb];case 1:N.ub();if(this.Qf)return [2,Promise.reject()];N.label=2;case 2:return (K=null === (O=null === (L=this.parent) || void 0 === L?void 0:L.gb(f.u.T)) || void 0 === O?void 0:O.De.nl,(0,q.assert)(K,"Parent of padding branch must have last selected audio stream"),I=K.Gf || h.P.Pa,M=-1 !== K.profile.indexOf("heaac")?"heaac":"ddp",H=K.bitrate,J=K.track.iu,[2,{Gf:I,je:M,bitrate:H,iu:J}]);}});});};C.prototype.x8a=function(D,E){return this.vr.add(E).Zf(D).Fa;};return C=l.__decorate([z.GJ],C);})(a.Aia);b.JRa=a;(0,n.ef)(r.Vu,a);},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.iia=void 0;c=a(0);l=a(38);g=a(8);r=a(35);m=a(10);d=a(189);f=a(78);h=a(106);a=(function(k){function n(p,q,v,t,w,u,x,y,z,B,A,C,D){void 0 === C && (C=!0);void 0 === D && (D=!0);p=k.call(this,v,{index:0,offset:0,ga:0,cb:w,sb:u,W:t,Vr:C,Rm:D,rz:A},B) || this;p.response=q;p.thb=v;p.H=y;p.Xa={bb:z,console:y,P3b:void 0,mediaType:v.mediaType,i1:function(){}};m.M && p.H.log(("AsePaddingRequest [").concat(p.mediaType,"], constructed ").concat(p.toString()) + (", ").concat(p.response.byteLength," bytes") + (", ").concat(p.sy," samples"));return p;}c.__extends(n,k);Object.defineProperties(n.prototype,{profile:{get:function(){return this.thb.profile;},enumerable:!1,configurable:!0}});n.prototype.oa=function(){};n.prototype.Qm=function(){return !this.he;};n.prototype.VA=function(p,q,v,t,w){m.M && this.H.log(("AsePaddingRequest [").concat(this.mediaType,"], appending ").concat(this.toString()) + (", ").concat(w || this.response.byteLength," bytes") + (", ").concat(w?"":"not ","edited"));this.he=q.appendBuffer(w?(0,g.pB)(w):this.response,t || (0,g.Iy)(this));return {status:this.he?h.Ih.Ns:h.Ih.Cg};};n.prototype.abort=function(){return !1;};n.prototype.ud=function(){};n.prototype.MR=function(){this.response=void 0;};n.prototype.toJSON=function(){return {viewableId:l.Qp,startPts:this.ca,endPts:this.ca + this.duration,"contentStartTicks:":this.cb,contentEndTicks:this.sb,contentStartPts:this.Ud,contentEndPts:this.Pc};};Object.defineProperties(n.prototype,{Sa:{get:function(){return this.thb.Sa;},enumerable:!1,configurable:!0}});n.prototype.toString=function(){return ("[padding c:").concat(this.oc.Z,"-").concat(this.Ld.Z,",") + ("p:").concat(this.Ed.Z,"-").concat(this.Sc.Z,",") + ("d:").concat(this.Ld.Z - this.oc.Z,"]");};return n;})(a(77).Jl);b.iia=a;(0,r.ef)(d.aH,a,!1);(0,r.ef)(f.Vu,a);(0,r.ef)(f.Jz,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.HVa=void 0;c=a(0);r=(function(){function l(g,m){this.H=g;this.Yg=m;this.JFa=!1;}l.prototype.Idc=function(g){this.hg(g.message,void 0,c.__assign(c.__assign({},g.P6a),{err:g.toString()}));};l.prototype.hg=function(g,m,d){void 0 === m && (m=void 0);void 0 === d && (d={});this.JFa || (d.temporaryFailure || (this.JFa=!0),g=c.__assign({type:"error",error:null !== m && void 0 !== m?m:"NFErr_MC_StreamingFailure",errormsg:g,temporaryFailure:!1},d),this.H.error("notifyStreamingError:",g),this.Yg.emit("error",g));};l.prototype.vp=function(){return this.JFa;};return l;})();b.HVa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.ela=void 0;c=a(0);l=a(2);g=a(8);m=a(10);d=a(278);r=(function(f){function h(k){var n;n=f.call(this) || this;n.Ja=k;n.ioa=new Map();n.eb=[];n.bV=new d.W5({sk:!1,currentTime:function(){return n.qf?n.Ae:g.P.Ut;},speed:1});return n;}c.__extends(h,f);Object.defineProperties(h.prototype,{za:{get:function(){return this.bV;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bf:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ip:{get:function(){return this.iW;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{pG:{get:function(){return this.ioa;},enumerable:!1,configurable:!0}});h.prototype.M8=function(k,n){var p;p=!this.Ja;p && (this.Ja=k,this.Qma=(null === n || void 0 === n?0:n.qf)?n.Ae:void 0,this.iW=null === n || void 0 === n?void 0:n.Ip,this.ioa=n?n.pG:new Map(),null === n || void 0 === n?void 0:n.mR());return p;};h.prototype.mR=function(){this.ioa=this.iW=void 0;};h.prototype.JE=function(){this.eb=[];this.Qma=void 0;};h.prototype.Ksa=function(k){m.M && (0,l.assert)(this.Ja === k);this.Ja=void 0;this.JE();};h.prototype.tta=function(){for(var k,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(k=this.eb).push.apply(k,c.__spreadArray([],c.__read(n),!1));};h.prototype.MJ=function(){return this.Qma?this.Qma:f.prototype.MJ.call(this);};h.prototype.hs=function(){return !1;};h.prototype.GG=function(){};h.prototype.KL=function(){};h.prototype.Wea=function(){this.eb=this.eb.filter(function(k){return k.tO?(k.ie("pruned"),!1):!0;});};h.prototype.Wa=function(){f.prototype.Wa.call(this);this.pG.forEach(function(k){return k.close();});};return h;})(a(468).sla);b.ela=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.T1a=void 0;c=a(281);l=a(1142);b.T1a=function(){return function(g){var f,h,k,n;function m(p){n[p]=function(q){return h({rules:[{wl:p,config:q}]},!0);};}function d(p){f[p]=function(q){return h({rules:[{wl:p,config:q}]});};}f={};h=(0,c.map)(g.meb);for(k in g.XR){d(k);}f.Wda=h({rules:[],Apa:!0});f.vo=h({rules:[],vo:!0});n={};for(k in g.XR){m(k);}n.Wda=h({rules:[],Apa:!0},!0);n.vo=h({rules:[],vo:!0},!0);f.return=n;return {Csa:f,ODa:g,ICa:function(p,q,v,t){return (0,l.j4a)(p,q,v,g.XR,g.meb,t);}};};};},function(r,b,a){(function(c,l){var g;(function(m){(function(d){var h,k;function f(n,p){return function(q,v){"function" !== typeof n[q] && Object.defineProperty(n,q,{configurable:!0,writable:!0,value:v});p && p(q,v);};}h="object" === typeof l?l:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();k=f(m);"undefined" === typeof h.Reflect?h.Reflect=m:k=f(h.Reflect,k);d(k);})(function(d){var L,O,K,I,M,H,J,N,P,W,V;function f(S,U,fa){var qa;qa=V.get(S);if(w(qa)){if(!fa)return;qa=new P();V.set(S,qa);}S=qa.get(U);if(w(S)){if(!fa)return;S=new P();qa.set(U,S);}return S;}function h(S,U,fa){if(k(S,U,fa))return !0;U=C(U);return null === U?!1:h(S,U,fa);}function k(S,U,fa){U=f(U,fa,!1);return w(U)?!1:!!U.has(S);}function n(S,U,fa){if(k(S,U,fa))return p(S,U,fa);U=C(U);if(null !== U)return n(S,U,fa);}function p(S,U,fa){U=f(U,fa,!1);if(!w(U))return U.get(S);}function q(S,U){var fa,Aa,Oa;fa=v(S,U);S=C(S);if(null === S)return fa;U=q(S,U);if(0 >= U.length)return fa;if(0 >= fa.length)return U;S=new W();for(var qa=[],xa=0;xa < fa.length;xa++){Aa=fa[xa];Oa=S.has(Aa);Oa || (S.add(Aa),qa.push(Aa));}for(fa=0;fa < U.length;fa++){Aa=U[fa];(Oa=S.has(Aa)) || (S.add(Aa),qa.push(Aa));}return qa;}function v(S,U){var fa,qa;fa=[];S=f(S,U,!1);if(w(S))return fa;S=S.keys();U=A(S,I);if(!B(U))throw new TypeError();S=U.call(S);if(!u(S))throw new TypeError();for(U=0;;){qa=S.next();qa=qa.done?!1:qa;if(!qa)return (fa.length=U,fa);qa=qa.value;try{fa[U]=qa;}catch(Aa){var xa;try{xa=S["return"];xa && xa.call(S);}finally{throw Aa;}}U++;}}function t(S){if(null === S)return 1;switch(typeof S){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === S?1:6;default:return 6;}}function w(S){return void 0 === S;}function u(S){return "object" === typeof S?null !== S:"function" === typeof S;}function x(S,U){var fa;switch(t(S)){case 0:return S;case 1:return S;case 2:return S;case 3:return S;case 4:return S;case 5:return S;}U=3 === U?"string":5 === U?"number":"default";fa=A(S,K);if(void 0 !== fa){S=fa.call(S,U);if(u(S))throw new TypeError();return S;}a:{if("string" === ("default" === U?"number":U)){U=S.toString;if(B(U) && (U=U.call(S),!u(U)))break a;U=S.valueOf;}else {U=S.valueOf;if(B(U) && (U=U.call(S),!u(U)))break a;U=S.toString;}if(!B(U) || (U=U.call(S),u(U)))throw new TypeError();}return U;}function y(S){S=x(S,3);return "symbol" === typeof S?S:"" + S;}function z(S){return Array.isArray?Array.isArray(S):S instanceof Object?S instanceof Array:"[object Array]" === Object.prototype.toString.call(S);}function B(S){return "function" === typeof S;}function A(S,U){S=S[U];if(void 0 !== S && null !== S){if(!B(S))throw new TypeError();return S;}}function C(S){var U,fa;U=Object.getPrototypeOf(S);if("function" !== typeof S || S === N || U !== N)return U;fa=S.prototype;fa=fa && Object.getPrototypeOf(fa);if(null == fa || fa === Object.prototype)return U;fa=fa.constructor;return "function" !== typeof fa || fa === S?U:fa;}function D(){var qa,xa,Aa;function S(Oa){return Oa;}function U(Oa,T){return T;}function fa(Oa,T){return [Oa,T];}qa={};xa=[];Aa=(function(){function Oa(T,X,Q){this.Je=0;this.Kf=T;this.mg=X;this.HEb=Q;}Oa.prototype["@@iterator"]=function(){return this;};Oa.prototype[I]=function(){return this;};Oa.prototype.next=function(){var T,X;T=this.Je;if(0 <= T && T < this.Kf.length){X=this.HEb(this.Kf[T],this.mg[T]);T + 1 >= this.Kf.length?(this.Je=-1,this.mg=this.Kf=xa):this.Je++;return {value:X,done:!1};}return {value:void 0,done:!0};};Oa.prototype.throw=function(T){0 <= this.Je && (this.Je=-1,this.mg=this.Kf=xa);throw T;};Oa.prototype.return=function(T){0 <= this.Je && (this.Je=-1,this.mg=this.Kf=xa);return {value:T,done:!0};};return Oa;})();return (function(){function Oa(){this.Kf=[];this.mg=[];this.Ax=qa;this.hv=-2;}Object.defineProperty(Oa.prototype,"size",{get:function(){return this.Kf.length;},enumerable:!0,configurable:!0});Oa.prototype.has=function(T){return 0 <= this.xA(T,!1);};Oa.prototype.get=function(T){T=this.xA(T,!1);return 0 <= T?this.mg[T]:void 0;};Oa.prototype.set=function(T,X){T=this.xA(T,!0);this.mg[T]=X;return this;};Oa.prototype.delete=function(T){var X,Q;X=this.xA(T,!1);if(0 <= X){Q=this.Kf.length;for(X+=1;X < Q;X++){this.Kf[X - 1]=this.Kf[X];this.mg[X - 1]=this.mg[X];}this.Kf.length--;this.mg.length--;T === this.Ax && (this.Ax=qa,this.hv=-2);return !0;}return !1;};Oa.prototype.clear=function(){this.Kf.length=0;this.mg.length=0;this.Ax=qa;this.hv=-2;};Oa.prototype.keys=function(){return new Aa(this.Kf,this.mg,S);};Oa.prototype.values=function(){return new Aa(this.Kf,this.mg,U);};Oa.prototype.entries=function(){return new Aa(this.Kf,this.mg,fa);};Oa.prototype["@@iterator"]=function(){return this.entries();};Oa.prototype[I]=function(){return this.entries();};Oa.prototype.xA=function(T,X){this.Ax !== T && (this.hv=this.Kf.indexOf(this.Ax=T));0 > this.hv && X && (this.hv=this.Kf.length,this.Kf.push(T),this.mg.push(void 0));return this.hv;};return Oa;})();}function E(){return (function(){function S(){this.Gg=new P();}Object.defineProperty(S.prototype,"size",{get:function(){return this.Gg.size;},enumerable:!0,configurable:!0});S.prototype.has=function(U){return this.Gg.has(U);};S.prototype.add=function(U){return (this.Gg.set(U,U),this);};S.prototype.delete=function(U){return this.Gg.delete(U);};S.prototype.clear=function(){this.Gg.clear();};S.prototype.keys=function(){return this.Gg.keys();};S.prototype.values=function(){return this.Gg.values();};S.prototype.entries=function(){return this.Gg.entries();};S.prototype["@@iterator"]=function(){return this.keys();};S.prototype[I]=function(){return this.keys();};return S;})();}function G(){var qa,xa;function S(){var Aa,X;do {Aa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):fa(new Uint8Array(16),16):fa(Array(16),16);Aa[6]=Aa[6] & 79 | 64;Aa[8]=Aa[8] & 191 | 128;for(var Oa="",T=0;16 > T;++T){X=Aa[T];if(4 === T || 6 === T || 8 === T)Oa+="-";16 > X && (Oa+="0");Oa+=X.toString(16).toLowerCase();}Aa="@@WeakMap@@" + Oa;}while(J.has(qa,Aa));qa[Aa]=!0;return Aa;}function U(Aa,Oa){if(!L.call(Aa,xa)){if(!Oa)return;Object.defineProperty(Aa,xa,{value:J.create()});}return Aa[xa];}function fa(Aa,Oa){for(var T=0;T < Oa;++T){Aa[T]=255 * Math.random() | 0;}return Aa;}qa=J.create();xa=S();return (function(){function Aa(){this.sv=S();}Aa.prototype.has=function(Oa){Oa=U(Oa,!1);return void 0 !== Oa?J.has(Oa,this.sv):!1;};Aa.prototype.get=function(Oa){Oa=U(Oa,!1);return void 0 !== Oa?J.get(Oa,this.sv):void 0;};Aa.prototype.set=function(Oa,T){U(Oa,!0)[this.sv]=T;return this;};Aa.prototype.delete=function(Oa){Oa=U(Oa,!1);return void 0 !== Oa?delete Oa[this.sv]:!1;};Aa.prototype.clear=function(){this.sv=S();};return Aa;})();}function F(S){S.Mzb=void 0;delete S.Mzb;return S;}L=Object.prototype.hasOwnProperty;O="function" === typeof Symbol;K=O && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";I=O && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";O="function" === typeof Object.create;M=({__proto__:[]}) instanceof Array;H=!O && !M;J={create:O?function(){return F(Object.create(null));}:M?function(){return F({__proto__:null});}:function(){return F({});},has:H?function(S,U){return L.call(S,U);}:function(S,U){return (U in S);},get:H?function(S,U){return L.call(S,U)?S[U]:void 0;}:function(S,U){return S[U];}};N=Object.getPrototypeOf(Function);P=(O="object" === typeof c && c.gY && "true" === c.gY.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?D():Map;W=O || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?E():Set;V=new (O || "function" !== typeof WeakMap?G():WeakMap)();d("decorate",function(S,U,fa,qa){var Aa;if(w(fa)){if(!z(S))throw new TypeError();if("function" !== typeof U)throw new TypeError();for(fa=S.length - 1;0 <= fa;--fa){if((qa=(0,S[fa])(U),!w(qa) && null !== qa)){if("function" !== typeof qa)throw new TypeError();U=qa;}}return U;}if(!z(S))throw new TypeError();if(!u(U))throw new TypeError();if(!u(qa) && !w(qa) && null !== qa)throw new TypeError();null === qa && (qa=void 0);fa=y(fa);for(var xa=S.length - 1;0 <= xa;--xa){Aa=(0,S[xa])(U,fa,qa);if(!w(Aa) && null !== Aa){if(!u(Aa))throw new TypeError();qa=Aa;}}return qa;});d("metadata",function(S,U){return function(fa,qa){var xa;if(!u(fa))throw new TypeError();if(xa=!w(qa)){a:switch(t(qa)){case 3:xa=!0;break a;case 4:xa=!0;break a;default:xa=!1;}xa=!xa;}if(xa)throw new TypeError();f(fa,qa,!0).set(S,U);};});d("defineMetadata",function(S,U,fa,qa){if(!u(fa))throw new TypeError();w(qa) || (qa=y(qa));f(fa,qa,!0).set(S,U);});d("hasMetadata",function(S,U,fa){if(!u(U))throw new TypeError();w(fa) || (fa=y(fa));return h(S,U,fa);});d("hasOwnMetadata",function(S,U,fa){if(!u(U))throw new TypeError();w(fa) || (fa=y(fa));return k(S,U,fa);});d("getMetadata",function(S,U,fa){if(!u(U))throw new TypeError();w(fa) || (fa=y(fa));return n(S,U,fa);});d("getOwnMetadata",function(S,U,fa){if(!u(U))throw new TypeError();w(fa) || (fa=y(fa));return p(S,U,fa);});d("getMetadataKeys",function(S,U){if(!u(S))throw new TypeError();w(U) || (U=y(U));return q(S,U);});d("getOwnMetadataKeys",function(S,U){if(!u(S))throw new TypeError();w(U) || (U=y(U));return v(S,U);});d("deleteMetadata",function(S,U,fa){var qa;if(!u(U))throw new TypeError();w(fa) || (fa=y(fa));qa=f(U,fa,!1);if(w(qa) || !qa.delete(S))return !1;if(0 < qa.size)return !0;S=V.get(U);S.delete(fa);if(0 < S.size)return !0;V.delete(U);return !0;});});})(g || (g={}));}).call(this,a(131),a(213));},function(r,b,a){var d,f,h,k,n;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function l(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function g(p,q){var w;for(var v=Object.getPrototypeOf(p),t=[];v !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(v));v=Object.getPrototypeOf(v);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);w=Object.getPrototypeOf(q);p.forEach(function(u){Object.getOwnPropertyDescriptor(q,u) || Object.getOwnPropertyDescriptor(w,u) || q[u] || Object.defineProperty(q,u,{get:function(){},configurable:!0,enumerable:!0});});}function m(p,q,v,t){var x;for(var w=[],u=4;u < arguments.length;u++){w[u - 4]=arguments[u];}x=t();if((null === x || void 0 === x?0:x.gAa) || (null === x || void 0 === x?0:x.Gb))w=w.map(function(y,z){var B;z=(0,n.dfb)(x.gAa,null === (B=x.Gb) || void 0 === B?void 0:B[z]);return (0,k.Efa)(q,y,v,z);});w=p.call.apply(p,d.__spreadArray([void 0],d.__read(w),!1));return (null === x || void 0 === x?0:x.return)?(0,k.Efa)(q,w,v,x.return,h.lx.HGa):w;}Object.defineProperties(b,{__esModule:{value:!0}});b.YVb=b.yQb=b.j4a=void 0;d=a(0);f=a(281);h=a(199);k=a(469);n=a(1143);b.j4a=function(p,q,v,t,w,u){var x,y;void 0 === u && (u=[]);x={};y=(0,f.L9a)(w);g(q,p);u.forEach(function(z){return g(z,p);});return new Proxy(p,{get:function(z,B){var A,C,D,E;if("__proxyCtor" === B)return null !== (A=p[B]) && void 0 !== A?A:p.constructor;if((B in q)){E=q[B];return "function" === typeof E?E.bind(q):E;}A=x[B];if(!A && !l(x,B)){A=null !== (D=null === (C=null === z || void 0 === z?void 0:z.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:z;C=null !== (E=c(A,B)) && void 0 !== E?E:c(A.__proxyCtor,B);E=l(A,B);if(null === E || void 0 === E?0:E.get)return (E=E.get,C=y.bind(null,C,B),z=m.bind(z,E.bind(z),v,t,C),Object.defineProperty(x,B,{get:z,enumerable:!0,configurable:!0}),z());E=z[B];return "function" === typeof E?(C=y.bind(null,z,B),z=m.bind(z,E.bind(z),v,t,C),x[B]=z):E;}return A;},set:function(z,B,A){if((B in q))return (q[B]=A,!0);z[B]=A;delete x[B];return !0;}});};b.yQb=g;b.YVb=m;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.dfb=void 0;c=a(0);l=a(21);b.dfb=function(g,m){var d;if(g || m){d=(null === g || void 0 === g?0:g.rules) && (null === m || void 0 === m?0:m.rules)?(0,l.D8)(g.rules,m.rules):(null === g || void 0 === g?void 0:g.rules) || (null === m || void 0 === m?void 0:m.rules);return c.__assign(c.__assign(c.__assign({},g),m),{rules:d});}};},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.mIa=b.hia=b.nIa=void 0;c=a(8);l=a(410);g=a(471);r=(function(){function d(f,h){var k,n;this.pA=f;this.Gm=h;this.pYa=this.tna=!1;this.jN=null !== (n=null === (k=f.dg) || void 0 === k?void 0:k.map(function(p){return new g.lIa(p);})) && void 0 !== n?n:[];}Object.defineProperties(d.prototype,{Tm:{get:function(){return this.pA.Tm;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yz:{get:function(){return this.pA.yz;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{T8:{get:function(){return this.pA.T8;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Woa:{get:function(){return this.pA.Woa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dg:{get:function(){return this.jN;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.jN.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.dg.reduce(function(f,h){return f.add(h.endTime.Ea(h.startTime));},c.P.Pa);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{C2b:{get:function(){return this.jN.every(function(f){return f.Rt;});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Rt:{get:function(){return this.jN.length?this.jN.every(function(f){return f.Rt;}):this.tna;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{oKb:{get:function(){return !this.Oh && !!this.pA.Tx;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Oh:{get:function(){return !!this.pA.dg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Jwa:{get:function(){return this.pYa;},set:function(f){f && (this.pYa=!0);},enumerable:!1,configurable:!0}});d.prototype.kgc=function(){this.dg.length || (this.tna=!0);};d.prototype.zQb=function(){this.pA.Tx && (this.tna=this.Rt,this.pA.dg=void 0,this.jN=[]);};return d;})();b.nIa=r;m=(function(){function d(f,h){this.xBa=f;this.XAb=h;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.P.Na(this.XAb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{PAa:{get:function(){return this.tDb || (this.tDb=new d(l.nM.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{d8b:{get:function(){return this.sDb || (this.sDb=new d(l.nM.end,0));},enumerable:!1,configurable:!0}});return d;})();b.hia=m;r=(function(){function d(f,h,k){this.sW=f;this.a_a=h || m.PAa;this.$Ab=k || m.PAa;}Object.defineProperties(d.prototype,{vga:{get:function(){return this.a_a;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dY:{get:function(){return this.$Ab;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{e0b:{get:function(){return this.a_a !== m.PAa || this.dY !== m.d8b;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.sW.duration.add(this.vga.duration).add(this.dY.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{pea:{get:function(){return this.vga.duration.add(this.dY.duration);},enumerable:!1,configurable:!0}});return d;})();b.mIa=r;},function(r,b,a){var l;function c(g,m){var d,f;d=l.__assign({},g);f=l.__read(null !== m && void 0 !== m?m:[],1)[0];f && g[f] && (g=g[f],"object" === typeof g?(m=m.concat(),m.shift(),d[f]=c(g,m)):d[f]=g);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.Olb=b.u9=b.Eaa=b.Obb=b.Sbb=b.qcb=b.rab=b.kcb=b.qf=void 0;l=a(0);b.qf=function(g){return !(null === g || void 0 === g || !g.position);};b.kcb=function(g){return !(null === g || void 0 === g || !g.S) && !(null === g || void 0 === g || !g.offset);};b.rab=function(g){return !(null === g || void 0 === g || !g.S) || !(null === g || void 0 === g || !g.segmentId);};b.qcb=function(g,m){return "string" === typeof g && !(!m.od.na.U[g] && !m.Cb.na.U[g]);};b.Sbb=function(g){return !(null === g || void 0 === g || !g.N) && !(null === g || void 0 === g || !g.At);};b.Obb=function(g){return !(null === g || void 0 === g || !g.Sd);};b.Eaa=function(g,m){var d;d=g;m.forEach(function(f){d=null === d || void 0 === d?void 0:d[f];});return d;};b.u9=c;b.Olb=function(g,m,d){for(var f=0;f < m.length - 1 && g;f++){g=g[m[f]];}return g?(g[m[m.length - 1]]=d,!0):!1;};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GSa=void 0;c=a(6);l=a(28);r=(function(){function g(m){this.gb=m;}Object.defineProperties(g.prototype,{ke:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.ll=function(m){var d,f;m=m.Qg;if(m === l.Kc.pn || m === l.Kc.gl){m={};d=this.gb(c.u.J);f=this.gb(c.u.T);d && (m.videoPipelineSummary=this.Dnb(d));f && (m.audioPipelineSummary=this.Dnb(f));return m;}};g.prototype.Dnb=function(m){var d,f,h,k,n;n=m.Xa.ma;return {actualStartPlayerTimestamp:null === (d=n.Ed) || void 0 === d?void 0:d.Z,actualPartialPlayerTimestamp:n.Ehb,actualCompletePlayerTimestamp:null === (f=m.Zoa) || void 0 === f?void 0:f.Z,segmentId:m.S,contentStartMs:null === (h=m.oc) || void 0 === h?void 0:h.Z,contentEndMs:null === (k=m.Ld) || void 0 === k?void 0:k.Z,streamingPlayerMs:m.ZC.Z,isStreamable:m.KF(),isNormalized:m.Bh(),isDoneStreaming:m.Xt(),trackNeedsHeaderRequest:m.track.Eda,completedRequests:n.r3a,activeRequests:m.Xa.Cj,unsentRequests:m.Xa.Ku,bytes:{current:n.ga,received:n.Djb,partial:n.Rj,completed:n.LE,unsent:n.Ckc}};};return g;})();b.GSa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.tTa=void 0;c=a(0);l=a(10);g=a(8);m=a(28);d=a(472);r=(function(){function f(h,k){var n;n=this;this.fCa=h;this.Ja=k;this.jib=new g.JH();k.events.on("branchesReevaluated",function(){n.jib.push(h.size);});}Object.defineProperties(f.prototype,{ke:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ju:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});f.prototype.ll=function(h){var k;h=h.Qg;if(h === m.Kc.pn || h === m.Kc.gl){k={branchCountStats:this.jib.toJSON(),decisions:this.Ja.vh.toJSON(),player:this.Ja.X.zy?this.Ja.X.eb.map(function(n){return n.G.id;}):[]};this.fCa.forEach(function(n,p){var q,v;v=(0,d.Xua)(n);k[p]=c.__assign({probabilities:n.ri.map(function(t){return {duration:t.duration,immediate:t.AF,seamless:t.Re};}),parent:null === (q=n.parent) || void 0 === q?void 0:q.G.id,normalized:n.Bh,hasViewable:n.Eq,headerRequested:n.Eq && n.O.vba},v);});return k;}};return f;})();b.tTa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ROa=void 0;c=a(49);l=a(28);r=(function(){function g(m){this.Ja=m;this.enabled=!0;}Object.defineProperties(g.prototype,{ke:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});g.prototype.ll=function(m){var d,f,h,k;m=m.SF;if(m === l.xj.Du || m === l.xj.GZ || m === l.xj.DB || m === l.xj.Ow || m === l.xj.W1 || m === l.xj.iB || m === l.xj.e1){f=this.Ja.X;if(f.qf){h=f.oi;k=h.O;h=null === (d=h.gb(c.u.J)) || void 0 === d?void 0:d.nl;if(k.ta && h){d=h.Aq();f={encodingpipelinetime:k.B1,devicepts:d.aqa + f.Ae.Z};m === l.xj.Du && (f.presentationtimeoffset=d.pCa.Z);if(m === l.xj.Du || m === l.xj.Ow)f.targetbufferduration=this.Ja.config.i_;return f;}}}};return g;})();b.ROa=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.zMa=void 0;r=a(0);c=a(6);l=r.__importDefault(a(30)).default.mK;g=r.__importDefault(a(154));m=r.__importDefault(a(3));d=a(195);f=a(21);h=a(2);k=a(196);a=(function(){function n(p,q,v,t,w){this.config=p;this.phc=q;this.navigator=v;this.events=t;this.console=w;p=(0,d.TP)(this.config);this.TC=p.TC.bind(p);this.EL=p.EL.bind(p);this.CY=p.CY.bind(p);this.fZ=p.fZ.bind(p);this.xib=[p.G0.bind(p),p.dL.bind(p)];}n.prototype.sfc=function(p,q,v,t,w,u,x,y){var z,B,A,C,D,E,G,F,L;B=[];if(!this.OBa(w.track,y))return {stream:D,P1:B,reason:"locationSelectionFailure"};w.l1a && this.OBa(w.l1a,y);A=w.Yj;y=A.De;C=w.iaa;D=y.nl;E=this.PZb(w,q,p,v,u);G=E.first;if(0 === G.length && (null === u || void 0 === u?0:u.nKb))return {stream:void 0,P1:B,reason:"allStreamsFiltered"};D && !D.track.equals(w.track) && (D=this.QUb(D,G));F=w.mediaType;if((u=F === c.u.T) && D && !this.Tgc(y,D))return (this.config.X$a && this.TC(D.bitrate),{stream:D,P1:B});p=(0,c.Gea)(p);q=this.YOb(p,q,t,w,!!x);t=this.xib[F];x=u?this.fZ():this.CY();w=A.sEa(q,E,x,t,w.gcb(),w.track.O.tq,C);if(!w)return {stream:D,P1:B,reason:"streamSelectionFailure"};A={sf:w.sf,H0:w.H0};if(w.reason){L={reason:w.reason,rEa:w.gw,WB:w.WB,Fq:w.Fq,Gq:w.Gq};this.fra(F,G,v);}this.jSb(F,w,G);D=G[w.$d];v=D.bitrate;u?this.config.X$a && this.TC(v):this.EL(v);y.emb(D);if(null === (z=w.AB) || void 0 === z?0:z.length)B=w.AB.map(function(O){return (0,f.Oc)(G,function(K){return K.id === O;});}).filter(f.Pda);return {stream:D,P1:B,lQ:L,SC:A,Wy:w.Wy,BUb:G,tfc:w};};n.prototype.hra=function(p,q,v,t,w,u,x){var y,z,B;if(!(0,c.Hq)(q))return {complete:!0,reason:"playing"};if(!u.Cib)return {complete:!1,reason:"unknown"};if(u.P9b)return ((0,h.assert)(u.hhb),u.hhb);y=u.Yj;z=y.De;v=this.z8a(u,v);B=z.nl;z=v.kk - v.Qc;if(z < this.config.Ak || void 0 === B)return {complete:!1,DE:z,reason:"preBuf"};if(u.mediaType === c.u.T)return {complete:!0,DE:z,reason:"audio"};if(p=p.C2a(u.mediaType))return {complete:!0,DE:z,reason:p};this.OBa(u.track);p=new k.LU();p.zW([B]);y.mCa(p,!1,(0,c.Gea)(q),v,this.xib[u.mediaType]);q=y.hB(v,q,w,B,{Jv:x});if(!q.complete && t)return {complete:!0,reason:"prebufferTimeLimit",DE:z};q.DE=z;return q;};n.prototype.kl=function(p,q,v,t){return t?t.kl(p.track.Lc,q,v.Ea(p.bb.Sd),p.Bh()):p.track.Lc;};n.prototype.PZb=function(p,q,v,t,w){var u;u=new k.LU(this.config);u.zW(this.kl(p,v,t,w));q=p.bb.Sc.Ea(q);for(q=this.config.Tza - q.Z;0 < q;){p=this.navigator.next(p);if(null === p || void 0 === p || !p.Bh)break;u.zW(this.kl(p,v,t,w));q-=p.bb.G.duration.Z;}return u;};n.prototype.jSb=function(p,q,v){this.events.emit("streamSelection",{type:"streamSelection",mediaType:p,result:q,streamList:v});};n.prototype.iSb=function(p,q,v,t){p={type:"maxVideoBitrateChanged",time:m.default.time.fa(),streaming:t,maxvb_old:p,maxvb:q,reason:v};this.events.emit(p.type,p);};n.prototype.QUb=function(p,q){var v;v=q[0];q.filter(function(t){return t.nw;}).every(function(t){return t.bitrate <= p.bitrate?v=t:!1;});return v;};n.prototype.Tgc=function(p,q){return 0 < this.config.BS.length?!0:(p=p.xQ) && p === q.location?!1:!0;};n.prototype.OBa=function(p,q){return p.O.wk.E2(p.O.N,p.Lc,q);};n.prototype.z8a=function(p,q){var D;for(var v,t=q.Ea(this.phc),w=[],u=p,x=q,y,z,B=0,A=0,C=!0;u;){D=u.o9a(t);if(!C && !u.Ej)break;0 < D.ma.length && (x=D.ma[0].Ed,void 0 === y && (y=D.ma[D.ma.length - 1].Sc,z=D.sea >= D.ma.length?y:D.ma[D.sea].Ed),w=D.ma.concat(w),B+=0 < D.Rj?D.Rj:0,A+=D.Dp);u=this.navigator.parent(u);C=!1;}return {xt:m.default.Cq()[p.mediaType],ca:Math.floor(x.Z),Qc:q.Z,Ec:Math.floor(null !== (v=null === y || void 0 === y?void 0:y.Z) && void 0 !== v?v:q.Z),kk:Math.floor(z?z.Z:q.Z),Sg:w.reduce(function(E,G){return E + G.ga;},0),Rj:B,Dp:A,X7a:w.length,ma:w};};n.prototype.YOb=function(p,q,v,t,w){var u,x,y;u=this.z8a(t,q);x=t.mediaType === c.u.J?this.config.M2:this.config.HW;y=g.default.instance();return {state:p,js:p === c.La.Xc,Vd:t.Xm,playbackRate:v,buffer:u,TX:x,lP:w,Cj:null === y || void 0 === y?void 0:y.Cj,mediaType:t.mediaType,Qc:q.Z,Zt:!1,Rxa:!1,hfa:0};};n.prototype.fra=function(p,q,v){var u,x;if(p === c.u.J){p="manifest";for(var t=0,w=q.length - 1;0 <= w;--w){u=q[w];x=u.bitrate;if(l(u)){t=Math.max(t,x);break;}else this.config.Z1 && !u.Tv?p="bc":u.gs?u.RB && (p="hf"):p="av";}this.Oeb !== t && (this.iSb(this.Oeb,t,p,v),this.Oeb=t);}};return n;})();b.zMa=a;},function(r,b,a){var l,g,m;function c(d,f,h,k,n){var p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H;x=d.console;y=d.Dkc;z=d.vh;B=d.cec;A=d.rRb;C=d.pAa;D=d.nqa;d=d.M9b;E=n || ({complete:!0,cr:0});G=E.root;F=E.complete;L=E.SFb;O=E.ukb;O=void 0 === O?0:O;E=E.cr;K=O < B.length && B[O] === f.id;I=O < B.length?B[O]:k && z.get(k.id);M=n && k && I !== f.id?void 0 !== I?{Re:0}:k.YJb(f.id):{Re:1};z=M.Re;M=M.AF;H=void 0 === M?0:M;M=(z + H) * (null !== (p=null === n || void 0 === n?void 0:n.rbc) && void 0 !== p?p:1);m && x.trace(("reevaluateBranches: visiting ").concat(f.id,", ") + ("distance: ").concat(h,", ") + ("probability: ").concat(M,", ") + ("predecessor: ").concat(null === k || void 0 === k?void 0:k.id,", ") + ("decision: ").concat(I,", ") + ("predecessorComplete: ").concat(F,", ") + ("isOnRequiredPath: ").concat(K,", ") + ("requiredPathIndex: ").concat(O,", ") + ("activeDistance: ").concat(L,", ") + ("seamless ").concat(z,", ") + ("immediate ").concat(H,", ") + ("predecessor sum of: successor weights=").concat(null === k || void 0 === k?void 0:k.OFa,", ") + ("immediate weights= ").concat(null === k || void 0 === k?void 0:k.Gga));p=null !== (v=null === (q=y[f.id]) || void 0 === q?void 0:q.shift()) && void 0 !== v?v:f.duration.Z;q=0 === p;if(!K){if(0 === M)return {zha:!1,s8:!0};if(!F && 0 === H && E > D)return (d.YE=Math.min(d.YE || Infinity,E - D),{zha:!1,s8:!0});if(!q && h >= A && 1 > M || !1 === G && M < C)return {zha:!1,s8:!0};}O < B.length && (0,l.assert)(B[O] === f.id,"");n=null !== (t=null === n || void 0 === n?void 0:n.ri) && void 0 !== t?t:[];k && 1 > z && (0 === H?n=n.concat([{Re:z}]):(t=(null === (u=null === (w=k.G.xq) || void 0 === w?void 0:w[0]) || void 0 === u?void 0:u[0]) || 0,w=Math.max(0,k.duration.Z - t),m && x.trace(("reevaluateBranches: immediate: ").concat(k.duration.Z,", ").concat(t,", ").concat(w)),n=n.concat([{Re:z,AF:H,duration:w}])));w=d.zDa.w7a(function(J){return J.G === k;});d.zDa.add({G:f,ri:n},w);h=F?h + f.duration.Z:L;m && x.trace(("reevaluateBranches: added ").concat(f.id,", visiting successors, ") + ("active distance: ").concat(h," ") + ("probabilities: ").concat(JSON.stringify(n)));return {zha:!0,s8:K,state:{root:!k,complete:q,rbc:M,ri:n,SFb:h,ukb:O + 1,cr:E + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.Rjc=b.smc=b.jfa=void 0;l=a(2);r=a(10);g=a(474);m=r.M && !1;b.jfa=function(d,f,h,k,n,p,q,v,t){var w,u,x,y;u={zDa:new g.f6()};x=(null === (w=h.yh) || void 0 === w?void 0:w.Ea(h.uf).Z) || 0;0 < p.length && (0,l.assert)(h.id === p[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");m && d.trace(("reevaluateBranches: starting at ").concat(h.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));y={console:d,Dkc:k,vh:n,cec:p,rRb:q.Z + x,pAa:v,nqa:t.Z,M9b:u};f.rmc(h,function(z,B,A,C){return c(y,z,B,A,C);});return u;};b.smc=c;b.Rjc=function(d,f,h){var k;k=(0,g.Gib)(f,function(n){return ("").concat(n.G.id);});h(("requiredBranches(").concat(d,")"),k.replace(/\n/g,"<>"));h(("requiredBranches(").concat(d,")"),f.values.map(function(n){var p;return ("").concat(n.G.id,"::").concat(null === (p=f.parent(n)) || void 0 === p?void 0:p.G.id);}).join(", "));};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.DTa=void 0;c=a(0);l=a(467);r=(function(){function g(m){this.na=m;this.U={};}g.prototype.qab=function(m){return !!this.na.U[m];};g.prototype.Ce=function(m){var d;d=this.U[m];if(void 0 === d){d=this.na.U[m];if(void 0 === d)throw Error(("Segment not found (").concat(m,")"));d=new l.ITa(m,d,this.na.Ge);this.U[m]=d;}return d;};g.prototype.S_b=function(m){return !(!m.G.next || !Object.keys(m.G.next).length);};g.prototype.jXb=function(m){var d;d=this;return m.G.next?Object.keys(m.G.next).map(function(f){return d.Ce(f);}):[];};g.prototype.Mcb=function(m){var d;return c.__generator(this,function(f){switch(f.label){case 0:return [4,m];case 1:(f.ub(),d=m,f.label=2);case 2:if(!d.G.bc)return [3,4];d=this.Ce(d.G.bc);return [4,d];case 3:return (f.ub(),[3,2]);case 4:return [2];}});};g.prototype.Y_b=function(m,d){return (0,l.Ybb)(m.$P(d));};g.prototype.Gk=function(m){var d;d=this;Object.keys(m).forEach(function(f){var h;return null === (h=d.Ce(f)) || void 0 === h?void 0:h.Gk(m[f]);});};return g;})();b.DTa=r;},function(r,b,a){var g,m,d;function c(f,h){var k,n;k=Object.keys(f);if(k.some(function(p){var q,v,t,w;return (null === (q=f[p]) || void 0 === q?void 0:q.Ge) !== (null === (v=h[p]) || void 0 === v?void 0:v.Ge) || (null === (t=f[p]) || void 0 === t?void 0:t.weight) !== (null === (w=h[p]) || void 0 === w?void 0:w.weight);}))return !0;n=Object.keys(h);return 0 !== g.__spreadArray(g.__spreadArray([],g.__read((0,m.zv)(k,n)),!1),g.__read((0,m.zv)(n,k)),!1).length?!0:!1;}function l(f,h){return f.some(function(k,n){var p;return 0 !== (0,m.zv)(k,null !== (p=h[n]) && void 0 !== p?p:[]).length;}) || f.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.b2a=b.D3a=void 0;g=a(0);m=a(21);d=a(1153);b.D3a=function(f){return new d.$Ka(function(h){return Object.keys(h.G.next || ({})).map(function(k){var n,p,q;k=f.Ce(k);q=null !== (p=null === (n=h.yh) || void 0 === n?void 0:n.Ea(h.uf).Z) && void 0 !== p?p:Infinity;return {bmc:k,weight:q};});});};b.b2a=function(f,h){var k,n,p,q,v,t;k=Object.keys(f.U);n=Object.keys(h.U);p=n.filter(function(w){return -1 === k.indexOf(w);});q=k.filter(function(w){return -1 === n.indexOf(w);});v=k.filter(function(w){var u,x,y,z,B;if(-1 === n.indexOf(w))u=!1;else {u=f.U[w];w=h.U[w];u=u.bc !== w.bc || u.Aa !== w.Aa || u.Ba !== w.Ba || u.Ge !== w.Ge || u.N !== w.N || l(null !== (x=u.xq) && void 0 !== x?x:[],null !== (y=w.xq) && void 0 !== y?y:[]) || c(null !== (z=u.next) && void 0 !== z?z:{},null !== (B=w.next) && void 0 !== B?B:{})?!0:!1;}return u;});t=(0,m.zv)(k,g.__spreadArray(g.__spreadArray(g.__spreadArray([],g.__read(v),!1),g.__read(p),!1),g.__read(q),!1));return {spa:p,NR:q,HKb:v,xkc:t};};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ka=void 0;c=a(2);l=a(184);g=a(1154);r=(function(){function m(d){this.YRb=d;this.kHa=!1;this.Aha=new g.eUa();}m.prototype.rmc=function(d,f){var k,n;function h(){var v,t,w,u,x,y;v=p.pop();t=v.node;w=v.w8;v=w.Gac;u=w.nJ;w=w.state;if(!q.Aha.has(t)){v=f(t,u,v,w);x=v.zha;y=v.state;v.s8 || q.Aha.add(t);n(t).forEach(function(z){var B;B=z.bmc;k.Aha.has(B) || (z=u + z.weight,x && p.push({node:B,w8:{nJ:z,Gac:t,state:y}}));});}}k=this;n=this.YRb;(0,c.assert)(!this.kHa);this.kHa=!0;this.Aha.clear();for(var p=new l.sU([{node:d,w8:{nJ:0,state:{root:!1,complete:!0,ukb:0,cr:0}}}],function(v,t){return v.w8.nJ - t.w8.nJ;}),q=this;!p.empty;){h();}this.kHa=!1;};return m;})();b.$Ka=r;},function(r,b){var l,g,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.eXa);}function c(d){return (a(d)?d:Object.defineProperties(d,{eXa:{value:{},configurable:!1,enumerable:!1}})).eXa;}Object.defineProperties(b,{__esModule:{value:!0}});b.eUa=void 0;g=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;m=Date.now() % g;r=(function(){function d(){this.Xfa=0;this.id=m=(m + 1) % g;}d.prototype.add=function(f){c(f)[this.id]=this.Xfa;return this;};d.prototype.has=function(f){return a(f) && c(f)[this.id] === this.Xfa;};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.Xfa=(this.Xfa + 1) % g;return this;};return d;})();b.eUa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.uTa=void 0;c=a(8);l=a(21);g=a(2);m=a(474);r=(function(){function d(){this.eb=new c.IQa();this.zo=new m.f6();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.eb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.eb.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var f;f=this.eb.values();this.eb.clear();this.zo.clear();f.forEach(function(h){return h.ie();});};d.prototype.Wv=function(f){return this.eb.get(f);};d.prototype.has=function(f){return this.eb.has(f);};d.prototype.root=function(){return this.zo.root;};d.prototype.contains=function(f){var h;h=f.G.id;if(this.has(h))return -1 !== this.Wv(h).indexOf(f);};d.prototype.CJ=function(f){this.zo.CJ(f);};d.prototype.$Y=function(f){return this.zo.parent(f);};d.prototype.UWb=function(f){return this.zo.children(f);};d.prototype.Dwa=function(f){return this.zo.Dwa(f);};d.prototype.mfa=function(f){var h;if(this.eb.delete(f.G.id,f)){h=this.zo.children(f);this.zo.root === f?0 === h.length?this.zo.clear():((0,g.assert)(1 === h.length,"cannot remove the root branch with multiple successors"),this.zo.Ddc(h[0])):((0,g.assert)(0 === h.length,"cannot remove non-root branch with successors"),this.zo.remove(f));}};d.prototype.forEach=function(f){var h;h=this;this.eb.forEach(function(k,n){return f(k,n,h);});};d.prototype.reduce=function(f,h){var k;k=this;return this.eb.reduce(function(n,p,q){return f(n,p,q,k);},h);};d.prototype.map=function(f){var h;h=this;return this.eb.map(function(k,n){return f(k,n,h);});};d.prototype.filter=function(f){var h;h=this;return this.eb.filter(function(k,n){return f(k,n,h);});};d.prototype.h_b=function(){var f;f={};this.forEach(function(h,k){var n;(h=h.cr) && (null !== (n=f[k]) && void 0 !== n?n:f[k]=[]).push(h.Z);});return f;};d.prototype.Ikc=function(f,h){var k,n,p;k=this;f=this.WOb(f,h);n=f.aRb(this.zo);h=n.spa;p=n.NR;n=n.hkb;this.zo.clear();this.zo=f;h.forEach(function(q){return k.eb.set(q.G.id,q);});h.forEach(function(q){return q.oa();});p.forEach(function(q){return k.eb.delete(q.G.id,q);});return {NR:p,hkb:n};};d.prototype.WOb=function(f,h){var k,n,p;k=this;n=new Map();p=new m.f6();f.CJ(function(q,v){var t,w;if(v){t=n.get(v);if(!t)return !0;}w=(0,l.Oc)(k.Wv(q.G.id),function(u){return k.zo.parent(u) === t || !v;});w=null !== w && void 0 !== w?w:h(q.G.id,t);w.ri=q.ri;n.set(q,w);p.add(w,t);(null === w || void 0 === w?0:w.Eq) && w.update(q.G);return !0;});return p;};return d;})();b.uTa=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.rJa=void 0;c=a(0);l=c.__importDefault(a(3));g=a(6);m=a(8);d=a(20);f=a(2);h=a(71);k=a(61);r=(function(){function n(p,q,v,t,w,u,x){var y;void 0 === x && (x=500);y=this;this.H=p;this.config=q;this.Ac=v;this.events=t;this.wta=w;this.Ee=u;this.tJb=x;this.vCa=this.Im=0;this.kda=[];this.yP={Jv:0};this.state=new m.fA(g.bd.zm);this.sf=new m.fA(g.La.Yh);this.zi=new h.wx({Lq:10,Ap:this,source:"BufferStateTracker",f0a:function(){return {isBuffering:y.Vf,alwaysRunUnderflowTimer:y.config.vO};}});}Object.defineProperties(n.prototype,{Jv:{get:function(){return this.yP.Jv;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Vf:{get:function(){return (0,g.Hq)(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.mha=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(v){v.mediaType === g.u.T && (q.O1a=c.__assign(c.__assign({},q.O1a),{audio:{trackId:v.trackId,trackIndex:v.TG}}));});};n.prototype.jR=function(p){this.set(g.bd.zm);this.S1(p,g.bd.ae);};n.prototype.$da=function(){this.yP.Jv++;};n.prototype.j0=function(p){this.config.vO || void 0 === this.bC && this.Vf && this.gsa();this.bC={ZJ:p.httpCode,Ah:p.errorCode,Pj:p.nativeCode};};n.prototype.iea=function(){this.bC=void 0;this.config.vO || this.e$();};n.prototype.li=function(p){this.Vf || (this.S1(p,g.bd.Wg),this.Vf && (this.bC || this.config.vO) && this.gsa());};n.prototype.s9b=function(p,q){this.state.value !== g.bd.ae && this.S1(p,g.bd.MU);this.mha(q);};n.prototype.Q8b=function(p,q){var v;v=this;this.config.sJb && this.Vf && (-1 === this.kda.indexOf(p) && this.kda.push(p),2 === this.kda.length && Promise.resolve().then(function(){v.Vf && void 0 !== v.oz && v.Kg("memoryLimit",q.MS,q.NS);}));};n.prototype.Ofc=function(p,q){(0,f.assert)(this.state.value === g.bd.ae && void 0 === this.oz);this.oz=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.TG}),this.mha(q));};n.prototype.bgc=function(p,q,v){(0,f.assert)(this.Vf);this.Axa=null !== p && void 0 !== p?p:this.Axa;this.BZ=null !== q && void 0 !== q?q:this.BZ;void 0 === this.lQ?this.lQ=v:void 0 !== (null === v || void 0 === v?void 0:v.reason) && (this.lQ.reason=v.reason);};n.prototype.Kg=function(p,q,v){var t;(0,f.assert)(this.Vf && void 0 !== this.oz && void 0 === this.NI && void 0 === this.uha && void 0 === this.d8);this.NI=p;this.uha=q;this.d8=v;this.Qr=100;this.vra();this.e$();null === (t=this.jra) || void 0 === t?void 0:t.Wa();this.state.value === g.bd.Wg && (this.vCa=l.default.time.fa());this.fSb();this.set(g.bd.Am);this.d8=this.uha=this.NI=this.lQ=this.BZ=this.Axa=this.oz=void 0;};n.prototype.stop=function(){var p;this.set(g.bd.zm);this.vra();this.e$();null === (p=this.jra) || void 0 === p?void 0:p.Wa();};n.prototype.ira=function(p,q,v,t){var w,u,x,y,z,B,A,C,D,E;w=this;(0,f.assert)(this.Vf);null === (u=this.jra) || void 0 === u?void 0:u.Wa();if(this.state.value === g.bd.Wg && l.default.time.fa() < this.vCa + this.config.oAa){z=this.config.oAa - (l.default.time.fa() - this.vCa);this.jra=this.Ee.UO(k.cj.ZG(d.P.Na(z)),function(){w.ira(p,q,v,t);});}else {u=v.pF(g.u.T);B=v.pF(g.u.J);A=l.default.time.fa() - this.Im;if(u || B){C=function(G){return G?G.KF() || G.Xt()?t.hra(w.state.value,p,A >= w.config.DC,q,G,w.Jv):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=C(u);C=C(B);E=function(G){var F;return {reason:G.reason,complete:G.complete,bl:null !== (F=G.DE) && void 0 !== F?F:0};};this.zi.xv({as:E(D),vs:E(C),bt:A});E=B?C:D;E.fmc=B && C.DE || 0;E.gIb=u && D.DE || 0;D.complete && C.complete?(E.complete=!0,this.Kg(null !== (z=E.reason) && void 0 !== z?z:"unknown",null !== (x=E.fmc) && void 0 !== x?x:0,null !== (y=E.gIb) && void 0 !== y?y:0)):(E.complete=!1,this.QJb(E),this.zi.xv({bp:this.Qr}));}}};n.prototype.QJb=function(p){var q,v,t;t=p.progress;p.TF?t=(l.default.time.fa() - this.Im) / this.config.DC:t || (t=(null !== (q=p.DE) && void 0 !== q?q:0) / this.config.Ak);p=Math.min(Math.max(Math.round(100 * t),null !== (v=this.Qr) && void 0 !== v?v:0),99);p != this.Qr && (this.Qr=p);};n.prototype.S1=function(p,q){(0,f.assert)(q === g.bd.ae || void 0 !== p);this.oz=p;this.Qr=0;this.Rda=void 0;this.yP.Jv=0;this.kda=[];p=this.state.value === g.bd.ae || this.state.value === g.bd.Wg;this.Im=l.default.time.fa();this.set(q);p || (this.hSb(),this.xgc());};n.prototype.set=function(p){this.state.set(p);switch(p){case g.bd.zm:this.sf.set(g.La.zm);break;case g.bd.ae:case g.bd.MU:this.sf.set(g.La.ae);break;case g.bd.Wg:this.sf.set(g.La.Wg);break;case g.bd.Am:this.sf.set(g.La.Xc);}};n.prototype.hSb=function(){(0,f.assert)(this.events && void 0 !== this.Qr);this.Rda=this.Qr;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:l.default.time.fa(),percentage:this.Qr});};n.prototype.xgc=function(){var p;p=this;this.vra();this.K7b=this.Ee.a4a(function(){return p.gSb();},d.P.Na(this.tJb),"buffering-notification");};n.prototype.vra=function(){var p;null === (p=this.K7b) || void 0 === p?void 0:p.Wa();};n.prototype.gSb=function(){this.Vf && this.events && void 0 !== this.Qr && this.Qr !== this.Rda && this.events.emit("buffering",{type:"buffering",time:l.default.time.fa(),percentage:this.Qr}) && (this.Rda=this.Qr);};n.prototype.fSb=function(){var p;(0,f.assert)(this.events && this.oz && void 0 !== this.NI && void 0 !== this.d8 && void 0 !== this.uha);this.Rda=this.Qr;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:l.default.time.fa(),actualStartPosition:this.oz,reason:this.NI,aBufferLevelMs:this.d8,vBufferLevelMs:this.uha,selector:this.Axa,initBitrate:this.BZ,initSelReason:null === (p=this.lQ) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.Wxc},this.O1a));};n.prototype.gsa=function(){var p;p=this;this.config.Opb && (!this.fD || this.fD.state !== k.Bm.complete && this.fD.state !== k.Bm.lJ?void 0 === this.fD && (this.fD=this.Ee.vB(function(){return p.bpb();},"underflow")):this.fD.zg());};n.prototype.e$=function(){this.fD && (this.fD.state !== k.Bm.lJ && this.fD.Wa(),this.fD=void 0);};n.prototype.bpb=function(){var p,q,v;return c.__generator(this,function(t){switch(t.label){case 0:return (p=this.config.Rca,this.H.trace(("BufferingStateTracker: starting underflow timer: ").concat(p,"ms")),[4,k.cj.ZG(d.P.Na(p))]);case 1:(t.ub(),t.label=2);case 2:if(!this.Vf)return [3,4];q=this.Ac.L3b || 0;v=l.default.time.fa() - q;if(v >= p)return (this.H.trace(("Forcing streaming failure, ").concat(v,"ms since data received")),this.wta.t9b(this.bC),[2]);this.H.trace(("BufferingStateTracker: network activity, wait ").concat(p - v,"ms"));return [4,k.cj.ZG(d.P.Na(p - v))];case 3:return (t.ub(),[3,2]);case 4:return [2];}});};c.__decorate([(0,h.ec)({methodName:"onTemporaryNetworkError",Wl:!0})],n.prototype,"j0",null);c.__decorate([(0,h.ec)({methodName:"onUnderflow",Wl:!0})],n.prototype,"li",null);c.__decorate([(0,h.ec)({methodName:"bufferingComplete",Wl:!0})],n.prototype,"Kg",null);c.__decorate([(0,h.ec)({methodName:"stop",Wl:!0})],n.prototype,"stop",null);c.__decorate([(0,h.ec)({methodName:"checkStreamingBufferingComplete",Wl:!0})],n.prototype,"ira",null);c.__decorate([(0,h.ec)({methodName:"createUnderflowTask",Wl:!0})],n.prototype,"gsa",null);c.__decorate([(0,h.ec)({methodName:"destroyUnderflowTask",Wl:!0})],n.prototype,"e$",null);c.__decorate([(0,h.ec)({methodName:"onUnderflowTimeout",Wl:!0})],n.prototype,"bpb",null);return n;})();b.rJa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Dta=void 0;c=a(21);b.Dta=function(l,g,m,d,f){var h;h=[];l=l.zo.values.filter(function(k){return k.Eq;}).map(function(k){var n,p;n=g(k.O,m,d,f);p=(0,c.zv)(n,k.Fe).map(function(q){return q.mediaType;});h=(0,c.D8)(h,p);return {bb:k,Fe:n};});return {u2a:h,jJb:l};};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YUa=void 0;c=a(0);l=a(20);g=a(2);b.YUa=(function(){function m(){}m.q_b=function(d){var f,h,k;if(d.Bh){k=c.__read(d.Fe,2);d=k[0];k=k[1];if(d.ta || (null === k || void 0 === k?0:k.ta))return {vqb:l.P.Ut,wqb:l.P.Ut};d=null === (f=d.Zq) || void 0 === f?void 0:f.yh;f=null === (h=null === k || void 0 === k?void 0:k.Zq) || void 0 === h?void 0:h.yh;(0,g.assert)(d);h=f?l.P.min(d,f):d;return {vqb:d,wqb:h};}};return m;})();},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.iJa=void 0;r=a(0);c=a(13);l=a(8);g=a(61);m=a(10);d=a(6);f=r.__importDefault(a(3));a=(function(){function h(k,n,p,q,v,t){this.Ee=k;this.Su=n;this.config=p;this.F8b=q;this.Lg=v;this.console=t;this.fna=new c.gf();this.console=(0,l.Oi)(f.default,t,"BranchDecisionMaker");}h.IWb=function(k){var n;return null !== (n=k.Sc) && void 0 !== n?n:k.lG;};h.DXb=function(k){var n,p;n=k.G;p=k.cR;return n.bc?n.bc:p.length?p[0]:k.tC[0];};h.prototype.lGa=function(k,n){var p,q,v,t;p=this;v=k.G;m.M && this.console.trace(("tracking ").concat(k.G.id));this.reset();if(v.Fu || 1 >= v.tC.length && (null === (q=v.gz) || void 0 === q || !q.length))m.M && this.console.trace(("").concat(k.G.id," does not need tracking"));else {t=this.RJb(k);q=t.eEa;n=n.lessThan(t.e1b);m.M && this.console.trace(("tracking ").concat(k.G.id),{S:v.id,Stc:n,Cxc:null === q || void 0 === q?void 0:q.Z});this.Zec(v,n?q:void 0);if(n)this.fna.on(k.events,"branchEdited",function(){p.lGa(k,p.Ee.za.currentTime);});}};h.prototype.O2a=function(){var k;null === (k=this.T4a) || void 0 === k?void 0:k.Wa();this.T4a=void 0;};h.prototype.reset=function(){this.O2a();this.fna.clear();};h.prototype.RJb=function(k){var n,p;k=h.IWb(k);n=l.P.Na(this.config.UQ);p=l.P.Na(this.config.Y6b + this.config.N_);n=k.Ea(n);return {e1b:(0,d.Hq)(this.Lg.value)?k.Ea(p):n,eEa:n};};h.prototype.Zec=function(k,n){var p;p=this;this.O2a();this.T4a=n?this.Ee.UO(g.cj.jD(n),function(){return p.$db(k);},"scheduled branch decision"):this.Su.UO(g.cj.xmc,function(){return p.$db(k);},"immediate branch decision");};h.prototype.$db=function(k){var n;this.fna.clear();n=h.DXb(k);m.M && this.console.trace(("BranchDecisionMaker making decision for ").concat(k.id,", decision is ").concat(n));this.F8b(k.id,n,!0);};return h;})();b.iJa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.w8a=void 0;c=a(1161);b.w8a=function(l,g){return l.reduce(function(m,d){var f;f=g(d);d.Om().forEach(function(h){return m.jpa(h.mediaType,h.kt,!f);});return m;},new c.CTa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.CTa=void 0;c=a(461);r=(function(){function l(){this.Bt=new c.qU();this.NX=new c.qU();}Object.defineProperties(l.prototype,{total:{get:function(){var g;g=new c.qU();g.add(this.Bt);g.add(this.NX);return g;},enumerable:!1,configurable:!0}});l.prototype.add=function(g){this.Bt.add(g.Bt);this.NX.add(g.NX);};l.prototype.jpa=function(g,m,d){(d?this.NX:this.Bt).jpa(g,m);};return l;})();b.CTa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.G$a=void 0;b.G$a=function(a,c){return a.reduce(function(l,g){return l + g.LY(c).Z;},0);};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.T3a=void 0;c=a(0);l=a(6);b.T3a=function(g){var h,k;function m(n){(0,l.Hq)(n.newValue) && !(0,l.Hq)(n.oldValue)?(null === k || void 0 === k?void 0:k.Wa(),k=h.UO.apply(h,c.__spreadArray([],c.__read(d),!1))):null === k || void 0 === k?void 0:k.Wa();}for(var d=[],f=1;f < arguments.length;f++){d[f - 1]=arguments[f];}f=g.Pf;h=g.Su;f.state.addListener(m);m({oldValue:l.bd.zm,newValue:f.state.value});};},function(r,b,a){var l,g;function c(m,d){return Object.keys(m.cL).map(function(f){return m.cL[f];}).filter(function(f){return void 0 === f.VJ || 1 === f.VJ;}).reduce(function(f,h){return f + h.Bt[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.GVa=void 0;l=a(6);g=a(10);r=(function(){function m(d,f,h){this.na=d;this.console=f;this.pva=h;}m.prototype.pKb=function(d,f,h){var k,n,p,q;k=h && this.na.config.Jlc;n=this.na.config.nha || k;p=this.pva();if(k){k=d.global;k=(q={},q[l.u.T]=k[l.u.T] - c(d,l.u.T),q[l.u.J]=k[l.u.J] - c(d,l.u.J),q[l.u.Za]=k[l.u.Za] - c(d,l.u.Za),q);}q=k;p=this.C2a(f) || this.YKb(d) || this.WKb(d,p,q) || this.XKb(d,p,q,f);q=(0,l.XCa)(p);if(p && (!q || n))return (g.M && this.console.log(("canIssueRequest ").concat(this.na.id," [").concat(f,"] static limit: ") + ("").concat(h,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});g.M && this.console.log(("canIssueRequest ").concat(this.na.id," [").concat(f,"] static limit: ") + ("").concat(h,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};m.prototype.C2a=function(d){var f;f=this.na.config.qw;if(this.na.sXb(d) >= (f || Infinity))return "mediaDurationLimit";};m.prototype.YKb=function(d){return d.cL[this.na.id].total.total > (this.na.Kaa() || Infinity)?"playgraphMemoryLimit":void 0;};m.prototype.WKb=function(d,f,h){d=d.global;return h?h[l.u.T] + h[l.u.J] > (f.zFa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};m.prototype.XKb=function(d,f,h,k){var n;n=d.global;return h?(g.M && this.console.log(("checkRequestByMediaTypeMemory [").concat(k,"]:") + (" using static limit ").concat(f.zFa[k],", usage: ").concat(h) + (" (global: ").concat(n[k]," ") + (" - certain contiguous: ").concat(c(d,k),")")),h[k] > (f.zFa[k] || Infinity)?k === l.u.J?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[k] > (f.total[k] || Infinity)?k === l.u.J?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return m;})();b.GVa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wTa=void 0;r=(function(){function a(c){this.console=c;this.pra();}a.prototype.get=function(c){return this.aP[c] || this.vh[c];};a.prototype.set=function(c,l){void 0 === this.vh[c] && (this.vh[c]=l);};a.prototype.Ufc=function(c,l){void 0 === this.get(c) && (this.aP[c]=l);};a.prototype.clear=function(c){this.aP[c]=void 0;this.vh[c]=void 0;};a.prototype.uLb=function(c){var l;this.vh=(l={},l[c]=this.vh[c],l);this.aP={};};a.prototype.pra=function(){this.vh={};this.aP={};};a.prototype.toJSON=function(){return {vh:this.vh,aP:this.aP};};return a;})();b.wTa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yTa=b.tH=void 0;c=a(0);l=a(2);(function(m){m[m.ET=0]="CREATED";m[m.Mla=1]="STARTED";m[m.HU=2]="REQUEST_ISSUED";m[m.Sz=3]="EVALUATED";m[m.vKa=4]="DESTRUCTED";})(g=b.tH || (b.tH={}));r=(function(){function m(d){this.lz=d;this.Tc=g.ET;this.JG={};this.V1={};}Object.defineProperties(m.prototype,{state:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});m.prototype.start=function(){var d;d=this;this.Tc !== g.Mla && (this.H_(g.Mla),[g.Sz,g.HU].forEach(function(f){var h;h=new Promise(function(k){(0,l.assert)(d.V1 && d.JG,"state promises should be defined");d.V1[f]=k;d.JG[f]=h;});}),this.lz(),this.H_(g.Sz));};m.prototype.H_=function(d){this.Tc=d;this.V1 && (d=this.V1[d],null === d || void 0 === d?void 0:d());};m.prototype.Wa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Tc !== g.Mla)return [3,2];(0,l.assert)(this.JG,"state resolves should be defined");return [4,this.JG[g.Sz]];case 1:(d.ub(),d.label=2);case 2:return (this.V1=this.JG=void 0,this.Tc=g.vKa,[2]);}});});};m.prototype.Bha=function(d,f){c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(k){switch(k.label){case 0:if(this.Tc === g.vKa)return [2];if(this.Tc === g.Sz)return [3,6];(0,l.assert)(this.JG,"state promises should be defined");h=d;switch(h){case g.Sz:return [3,1];case g.HU:return [3,3];}return [3,5];case 1:return [4,this.JG[g.Sz]];case 2:return (k.ub(),[3,6]);case 3:return [4,this.JG[g.HU]];case 4:return (k.ub(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return m;})();b.yTa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.pX=void 0;c=a(0);l=a(476);g=a(477);m=a(137);d=a(479);b.pX=function(f,h,k){var n,p,q,v,t;n=h.C0;p=h.Dpa;f=c.__assign({vja:g.uja},f).vja;q=n[5];n=(0,d.hBa)(function(){return t;});q.P_a(n.wu);k=k(h);q=new l.Gka();q.oa(k);v={ii:void 0,od:void 0,Cb:k,Fxa:q,ndb:"content"};v.ii=new f(function(){return v.od.na;},q,h.C0[2]);t=new d.kKa(v,n.ynb,m.Zy.ODa.XR);v.od=m.Zy.ICa(k,t,function(){return v;},p);return v.od;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.adb=void 0;b.adb=function(a){var c,l;c=a.next();do {if(!c.done)l=c.value;c=a.next();}while(!c.done);return l;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lKa=void 0;c=a(28);r=(function(){function l(g){this.Zo=g;this.ke="content-playgraph";this.enabled=!0;}l.prototype.ll=function(g){var m,d;m=g.Qg;g=g.SF;if(m === c.Kc.Cl || m === c.Kc.pn || m === c.Kc.gl || void 0 === m && void 0 === g){g=this.Zo.Cb;d=g.X;m=void 0;(d.qf?d.Ii:g.St && g.ti) && this.Zo.Zo && (d=d.Ii,g=this.Zo.ii.Ww(d),d=this.Zo.Cb.na.U[d.S].N,this.Zo.na.U[g.S].N != d && (m=d));return {contentPlaygraph:this.Zo.Zo,auxMid:m};}};return l;})();b.lKa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KJa=void 0;c=a(478);l=a(10);g=a(28);r=(function(){function m(d,f){this.Bhc=d;this.Ap=f;}Object.defineProperties(m.prototype,{ju:{get:function(){return ("cache-").concat(this.Bhc);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ke:{get:function(){return this.ju;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});m.prototype.ll=function(d){var f,h,k;f=d.Qg;d=d.SF;if(f === g.Kc.Cl || f === g.Kc.pn || f === g.Kc.gl || void 0 === f && void 0 === d){h=(0,c.D8a)(this.Ap);f=Object.keys(h).filter(function(n){return h[n].isEnabled;});if(f.length){k={};f.forEach(function(n){k[n]={hit:h[n].Gqa,idx:h[n].X1a};});return {ntc:k};}}};return m;})();b.KJa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iib=void 0;b.iib={"*":{S6a:["logdata"],rules:[{wl:function(a){return a.rHa;}}]},locationSelected:[{wl:function(a){return a.v1;}}],segmentComplete:[{wl:function(a){return a.v1;}}],segmentStarting:[{wl:function(a){return a.v1;}}],serverSwitch:[{wl:function(a){return a.v1;}}],streamSelected:[{wl:function(a){return a.qf;}}]};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.pX=void 0;c=a(0);l=a(476);g=a(477);m=a(479);d=a(137);f=a(1173);b.pX=function(h,k,n){var p,q,v,t,w;p=c.__assign({vja:g.uja},h).vja;q=k.C0[5];v=(0,m.hBa)(function(){return w;});q.P_a(v.wu);h=new l.Gka();t={ii:void 0,od:void 0,Cb:void 0,Fxa:h,ndb:"ads"};t.ii=new p(function(){return t.od.na;},h,k.C0[2],"Ads:");w=new f.THa(t,v.ynb,d.Zy.ODa.XR,q.Mw.bind(q));p=k.Dpa;k.Dpa=c.__spreadArray(c.__spreadArray([],c.__read(p),!1),[w],!1);t.Cb=n(k);t.od=d.Zy.ICa(t.Cb,w,function(){return t;},p);w.oa();h.oa(t.Cb);h.ifa();return t.od;};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.THa=void 0;c=a(0);l=a(10);g=a(1174);m=a(71);d=a(2);r=a(480);f=a(1175);a=(function(h){function k(n,p,q,v){n=h.call(this,n,p,q,"AdsPlaygraphHost",!1) || this;n.Mw=v;n.rA=void 0;return n;}c.__extends(k,h);Object.defineProperties(k.prototype,{od:{get:function(){return this.cn.od;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wv:{get:function(){var n;n=this.PE(this.od.na);if(n !== this.od.na)return n;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wf:{get:function(){return this.rA;},enumerable:!1,configurable:!0}});k.prototype.oa=function(){var n;n=this;h.prototype.oa.call(this);this.cn.Cb.cg(new g.UHa(this.cn));this.rA=new f.OHa(this.H,this.L,this.Cb,this.od,function(p,q,v,t){return n.$0(p,q,v,t);},this.Mw);this.cn.Cb.wf=this.rA;};k.prototype.rG=function(n){var p;p=h.prototype.rG.call(this,n);p && ((0,d.assert)(this.wf,"missing manager"),this.wf.$g.k0(n,this.L6),this.L6=void 0);return p;};k.prototype.hg=function(n,p,q,v,t,w,u){var x,y;void 0 === u && (u=!1);x=!1;y=!1;p && !u && (x=this.wf.$Fb.Bwa(p));x || (y=this.cn.Cb.hg(n,p,q,v,t,w,u));return y;};k.prototype.CG=function(n,p){var q;this.L6=void 0;if(this.wf.$g.pab(n)){l.M && this.H.trace(("ads::seekStreaming: ").concat(JSON.stringify(n)));q=this.wf.$g.jR(n);n=q.ti;q=q.fY;l.M && this.H.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(n),", ") + ("playerTimestamp: ").concat(p,", ") + ("entryPoint: ").concat(JSON.stringify(q)));this.Cb.Ofa(n,p,q);}else (this.L6={ti:n,Qq:p},this.Cb.CG(n,p));};k.prototype.PE=function(n){return this.wf.$g.PE(n);};k.prototype.ie=function(n){h.prototype.ie.call(this,n);this.L6=void 0;};c.__decorate([(0,m.ec)({methodName:"ads::processViewableResponse"})],k.prototype,"rG",null);c.__decorate([(0,m.ec)({methodName:"ads::reportStreamingFailure"})],k.prototype,"hg",null);c.__decorate([(0,m.ec)({methodName:"ads::seekStreaming"})],k.prototype,"CG",null);c.__decorate([(0,m.ec)({methodName:"ads::cancelStreaming"})],k.prototype,"ie",null);return k;})(r.ula);b.THa=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.UHa=void 0;c=a(38);l=a(200);g=a(28);r=(function(){function m(d){this.context=d;this.ke="ad-playgraph";this.enabled=!0;}m.prototype.ll=function(d){var f,h,k,n,p,q,v;f=d.Qg;d=d.SF;if(f === g.Kc.Cl || f === g.Kc.pn || f === g.Kc.gl || d === g.xj.Ow || void 0 === f && void 0 === d){d=this.context;f=d.od;h=d.Cb;d=h.X;k=d.qf?d.Ii:h.St?h.ti:void 0;n=f.wv;p=void 0;q="content";d=void 0;if(k){h=h.na.U[k.S];v=h.tc;v && (f=f.na.U[v],f.N != h.N && (p=h.N,q=h.type,d=this.nWb(k.S,f.N)));}f={adPlaygraph:n?c.tla.decode(n):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!n};void 0 !== d && (f.adBreakLocationMs=d);return f;}};m.prototype.nWb=function(d,f){var h,k,n,p;if(d=(0,l.IJ)(d))p=null === (n=null === (k=null === (h=this.context.od.wf) || void 0 === h?void 0:h.$g.bg[f]) || void 0 === k?void 0:k[d.Gm]) || void 0 === n?void 0:n.yz;return p;};return m;})();b.UHa=r;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.OHa=void 0;c=a(1176);l=a(200);g=a(1180);m=a(1181);d=a(1184);f=a(1185);r=(function(){function h(k,n,p,q,v,t){this.fXa=new c.HHa(n,k,p,q,v,t);this.TDb=new l.WHa(p,q,this.$g);this.NV=new g.jTa(this,p,k);this.zna=new m.NHa(this.NV,p,p.bf,k);p.OC.cg(new f.KHa(this.NV,this.$g,this.zna));this.fXa.oa(this.zna.events,this.NV.events);this.Ozb=new d.IHa(p,this.$g);}Object.defineProperties(h.prototype,{$g:{get:function(){return this.fXa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yR:{get:function(){return this.TDb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fib:{get:function(){return this.NV;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hxa:{get:function(){return this.zna;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$Fb:{get:function(){return this.Ozb;},enumerable:!1,configurable:!0}});h.prototype.ci=function(k){return this.NV.ci(k);};return h;})();b.OHa=r;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v){return null === v || void 0 === v?void 0:v.bg.map(function(t){return t.dg;}).map(function(t){return null === t || void 0 === t?void 0:t.map(function(w){return w.id;});}).reduce(function(t,w){return null === w || void 0 === w?void 0:w.concat(t);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.HHa=void 0;l=a(0);g=a(13);m=a(38);d=a(10);f=a(159);h=a(2);k=a(21);n=a(1177);p=a(1178);q=a(1179);r=(function(){function v(t,w,u,x,y,z){this.config=t;this.console=w;this.Cb=u;this.od=x;this.$0=y;this.Mw=z;this.Wx={};this.JYa=new f.K5();this.events=new g.EventEmitter();this.Cb.nGb(this.ATb.bind(this));}Object.defineProperties(v.prototype,{P1b:{get:function(){return this.Cb.na;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{bg:{get:function(){return this.Jr.rW;},enumerable:!1,configurable:!0}});v.prototype.oa=function(t,w){var u;u=this;this.Jr=new n.YHa(t,w);this.rO=new p.VHa(this.Jr,this.config,this.console,this.Cb,this.od);this.E_a=new q.FHa(this.Mw,w);this.E_a.events.addListener("adBreakHydrated",function(x){return u.B8b(x);});};v.prototype.jba=function(){var t;t=this;return !!(0,k.Oc)(Object.keys(this.bg),function(w){return 0 < t.bg[w].length;});};v.prototype.jR=function(t){var w,u;w=this.od.ii;(0,h.assert)(w,"Could not get graph location service");this.rO.jR(t);if(0 < this.Jr.G2){d.M && this.console.trace("ads::seekStreaming: recreating inner playgraph");u=this.PE(this.od.na);w=w.gqb(this.od.na,u);this.Jr.reset();this.process(t);}w=this.rO.BHb(t,w,u);t=w.ti;w=w.fY;d.M && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(t)));return {ti:t,fY:w,Hwc:u};};v.prototype.k0=function(t,w){var u,x;u=this.o8a(t);x=this.Wx[t.K];this.Wx[t.K]=u;if(x !== u && (null === x || void 0 === x?void 0:x.bg.length) !== (null === u || void 0 === u?void 0:u.bg.length)){if(null === u || void 0 === u?0:u.bg)(this.Jr.Dlb(t.K,u.bg),this.rO.bmb(t),d.M && this.console.trace("Received ad metadata for",{O:t.K,bGb:c(u)}));t=this.Cb.Wma;u=this.Cb.config.z6a;if(w && this.pab(w.ti)){if(u && !t)return this.zbc(w);d.M && this.console.trace(("ads::seekStreaming: Ignoring delayed seek request ").concat(JSON.stringify(w),", didAppendData ").concat(t,", enablePrerollForInitialSeek ").concat(u));}this.process(null === w || void 0 === w?void 0:w.ti,null === w || void 0 === w?void 0:w.Qq);}};v.prototype.B8b=function(t){var w;w=t.Ppa;w.Q0b(t.$oa,t.Tx);t=this.o8a(w);(0,h.assert)(t,("adMetadata for viewable ").concat(w.N," should exist if an adBreak hydration was requested"));this.Wx[w.K]=t;this.Jr.Dlb(w.K,t.bg);this.rO.bmb(w);d.M && this.console.trace("Received new ad metadata after adBreakHydration for",{O:w.K,bGb:c(t)});this.process();};v.prototype.zbc=function(t){var w,u,x,y;d.M && this.console.trace(("ads::processDelayedSeekRequest: seek request ").concat(JSON.stringify(t)));w=this.od.ii;(0,h.assert)(w,"Could not get graph location service");u=t.ti;x=t.Qq;y=this.PE(this.od.na);w=w.gqb(this.od.na,y);if(w=this.rO.dZb(t.ti,w,y))return (t=w.ti,u=w.fY,d.M && this.console.trace(("ads::processDelayedSeekRequest: executing delayed seek to\n            ").concat(JSON.stringify(t),", playerTimestamp ").concat(x,",\n                entryPoint ").concat(JSON.stringify(u))),this.process(t,x,u));this.process(u,null === t || void 0 === t?void 0:t.Qq);};v.prototype.process=function(t,w,u){var x;x=this;this.JYa.UA || this.JYa.Gha(function(){x.$0(x.od.na,t,w,u);x.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};v.prototype.PE=function(t){var w,u,x;w=this;u=t;x=Object.keys(t.U).map(function(y){return ("").concat(t.U[y].N);});Object.keys(this.Wx).forEach(function(y){var z,B;if(-1 !== x.indexOf(y)){z=w.Wx[y];if(z){B=z.bg.map(function(A,C){A=w.bg[y][C];return A.Rt || A.dg.reduce(function(D,E,G){return E.LZ?l.__spreadArray(l.__spreadArray([],l.__read(D),!1),[G],!1):D;},[]);});z=(0,m.S3a)(parseInt(y),z,B,w.config.vBa);u=(0,m.dAa)(u,z);}}});return u;};v.prototype.pab=function(t){return !!this.Wx[this.od.na.U[t.S].N];};v.prototype.o8a=function(t){if(t.Yx && (t=t.Yx,t.bg.length))return t;};v.prototype.Zsa=function(t){this.Jr.Zsa(t);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:t});this.process();};v.prototype.XEa=function(t,w,u){var x;return this.rO.XEa(t,w,u,null === (x=this.P1b) || void 0 === x?void 0:x.me);};v.prototype.ATb=function(t){var w,u,x,y,z;w=this;u=!0;x=[];y=[];t.CJ(function(B,A){var C,D;C=w.Cb.R1b.na.U[B.G.id];(0,h.assert)(C,"Segment must be present in inner playgraph");D=w.Jr.lWb(C.N,C.Ba);if(D && !D.Rt){if(D.oKb && !D.Oh){x.push(B);if(u && 0 === y.length || z === A)(y.push({N:C.N,Xe:D}),z=A);return !1;}u=!1;}return !0;});x.forEach(function(B){return t.remove(B);});y.forEach(function(B){var A;A=B.N;B=B.Xe.pA.Tx;(0,h.assert)(B,"If an adBreak can be hydrated it needs to have an adBreakToken");w.E_a.dcc(B,A);});return t;};return v;})();b.HHa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YHa=void 0;c=a(2);l=a(21);g=a(470);r=(function(){function m(d,f){var h;h=this;this.G2=0;this.qA={};d.on("adEvent",function(k){return h.C8b(k);});f.on("adBreakPresenting",function(k){return h.hR(k);});}Object.defineProperties(m.prototype,{rW:{get:function(){return this.qA;},enumerable:!1,configurable:!0}});m.prototype.Dlb=function(d,f){this.qA[d]=f.map(function(h,k){return new g.nIa(h,k);});};m.prototype.reset=function(){this.G2=0;};m.prototype.C8b=function(d){var f;f=this;"adComplete" === d.event && Object.keys(this.qA).some(function(h){var k,n,p;h=null !== (k=(p=f.qA)[h]) && void 0 !== k?k:p[h]=[];(0,c.assert)(void 0 !== d.Gm,"complete event should have an adBreakIndex");return null === (n=h[d.Gm].dg) || void 0 === n?void 0:n.some(function(q){return q.id == d.ba.K?(q.Rt=!0,f.G2++,!0):!1;});});};m.prototype.hR=function(d){var f;f=this;Object.keys(this.qA).forEach(function(h){var k,n;(null !== (k=(n=f.qA)[h]) && void 0 !== k?k:n[h]=[]).forEach(function(p){p !== d.ip.Xe && p.zQb();});});};m.prototype.Zsa=function(d){var f;f=this;Object.keys(this.qA).forEach(function(h){f.qA[h].forEach(function(k){k.dg.forEach(function(n){n.id == d && (n.LZ=!0);});});});};m.prototype.ORb=function(d){var f,h;d=this.qA[d];0 === (null === (f=null === d || void 0 === d?void 0:d[0]) || void 0 === f?void 0:f.Tm) && (d[0].dg.forEach(function(k){return k.Rt=!0;}),this.G2+=(null === (h=null === d || void 0 === d?void 0:d[0]) || void 0 === h?void 0:h.dg.length) || 0);};m.prototype.lWb=function(d,f){return (d=this.rW[d]) && (0,l.Oc)(d,function(h){return h.Tm === f;});};return m;})();b.YHa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.VHa=void 0;c=a(60);l=a(10);g=a(6);m=a(2);d=a(200);r=(function(){function f(h,k,n,p,q){this.Jr=h;this.config=k;this.console=n;this.Cb=p;this.od=q;this.DN=!0;}f.prototype.bmb=function(h){this.MV=void 0;this.DN && (this.DN=!this.config.x5a || !h.getTracks(g.u.J).map(function(k){var n;return null === (n=k.mm) || void 0 === n?void 0:n.$x;}).some(function(k){return k && 3 === k.cs && 4 === k.w;}));l.M && this.console.trace(("ads::policiesManager: enablePrerollOnSeek for ").concat(h.K,"} is ").concat(this.DN));};f.prototype.jR=function(h){var k;if(h.offset.equal(c.P.Pa) && !this.DN){k=this.od.na;k.me === h.S && (h=k.U[h.S].N,l.M && this.console.trace("ads::seekStreaming: dropping preroll for viewable " + h),this.Jr.ORb(h));}};f.prototype.BHb=function(h,k,n){var p,q;k=h=k.WE(h);n=null !== n && void 0 !== n?n:this.Cb.na;p=n.U[h.S];"padding" === p.type && (h={S:p.bc,offset:c.P.Pa});if(p=this.Cb.X.RY())if((p=p.G.id,l.M && this.console.trace(("ads::seekStreaming: seek from segment ").concat(p)),n=this.cZb(p,h,n)))if(n.S){l.M && this.console.trace(("ads::seekStreaming: prerollSegment ").concat(n.S));k={S:n.S,offset:c.P.Pa};q=h;}else this.MV=n.Xe;return {ti:k,fY:q};};f.prototype.dZb=function(h,k,n){var p;p=this.Jr.rW[this.od.na.U[h.S].N];h=k.WE(h);if(n=this.bZb(n,p)){if(n.S)return {ti:k.Ww({S:n.S,offset:c.P.Pa}),fY:h};this.MV=n.Xe;}};f.prototype.XEa=function(h,k,n,p){if(this.MV)return (k=this.MV,this.MV=void 0,k);if((h=this.Jr.rW[h]) && h.length)if(n && k.S === p && k.offset.equal(c.P.Pa)){if((k=h[0],0 === k.Tm && 0 === k.dg.length && !k.Rt && !k.Jwa))return k;}else if(!n)return this.kva(k.S,h);};f.prototype.cZb=function(h,k,n){var p,t,w;l.M && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(h," to ").concat(JSON.stringify(k)," ").concat(this.DN));if(this.DN){if(n){p=this.Jr.rW[this.od.na.U[n.U[k.S].tc].N];n=n.U;h=n[h].bc;for(var q=void 0,v=void 0;h;){t=n[h];if("content" === t.type && ("content" === q || void 0 === q) && p){w=this.kva(h,p);w && (v={Xe:w});}if(h === k.S)return (k=v && !v.S || q && "content" !== q?v:void 0,l.M && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(k)),k);"ad" === t.type && "ad" !== q && (l.M && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(h)),q=(0,d.IJ)(h),(0,m.assert)(q,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),v={S:h,Xe:p[null === q || void 0 === q?void 0:q.Gm]});q=t.type;h=t.bc;}}l.M && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");}};f.prototype.bZb=function(h,k){var n;l.M && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph");n=h.U[h.me].type;if(n && "content" !== n)return (n=(0,d.IJ)(h.me),(0,m.assert)(n,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{S:h.me,Xe:k[null === n || void 0 === n?void 0:n.Gm]});if(h=this.kva(h.me,k))return {Xe:h};};f.prototype.kva=function(h,k){h=(0,d.Q8a)(h);(0,m.assert)(h,"Should have contentInfo from segment name");if(0 < h.H3a && (k=k[h.H3a - 1],0 === k.dg.length && !k.Rt && !k.Jwa))return k;};return f;})();b.VHa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.FHa=void 0;c=a(0);l=a(13);r=(function(){function g(m,d){var f;f=this;this.Mw=m;this.Aya={};this.events=new l.EventEmitter();d.on("adBreakPresenting",function(){return f.hR();});}g.prototype.dcc=function(m,d){c.__awaiter(this,void 0,void 0,function(){var f,h,k;return c.__generator(this,function(n){switch(n.label){case 0:return (this.Aya[d]=m,[4,this.Mw({Tx:m,N:d})]);case 1:return ((f=n.ub()) && m === this.Aya[d] && (h=f.$oa,k=f.Ppa,this.events.emit("adBreakHydrated",{type:"adBreakHydrated",Tx:m,$oa:h,Ppa:k})),[2]);}});});};g.prototype.hR=function(){this.Aya={};};return g;})();b.FHa=r;},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.jTa=void 0;c=a(0);l=a(13);g=a(10);m=c.__importDefault(a(3));d=a(8);f=a(21);h=a(2);r=(function(){function k(n,p,q){var v;v=this;this.rA=n;this.Cb=p;this.gna=new l.gf();this.Ana=!1;this.H=(0,d.Oi)(m.default,q,"PLAYERADMANAGER");this.events=new l.EventEmitter();this.Cb.events.on("playerChanged",this.gib.bind(this));this.gib();this.$g.events.on("adPlaygraphUpdated",function(t){return v.events.emit("adPlaygraphUpdated",t);});this.$g.events.on("adSegmentDropped",function(t){v.D8b(t);});}Object.defineProperties(k.prototype,{xZ:{get:function(){return this.Ana;},enumerable:!1,configurable:!0}});k.prototype.ci=function(n){var p;if(!this.Cb.dw)return (g.M && this.H.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Cb.X;if(!p.DY(n))return (g.M && this.H.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",n),!1);g.M && this.H.trace(("PlayerAdManager.canSkip(): ").concat(p.Ae.Fb()," -> ").concat(n.Fb()));n=n.greaterThan(p.Ae)?(0,d.Zta)(p.eb,p.Ae,n):(0,d.Zta)(p.eb,n,p.Ae);p=!n.some(function(q){return "content" !== q.G.G.type;});g.M && this.H.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(n.map(function(q){return ("").concat(q.G.id," ").concat(q.G.G.type," ").concat(q.Bd,"..").concat(q.Bd);})));return p;};Object.defineProperties(k.prototype,{$g:{get:function(){return this.rA.$g;},enumerable:!1,configurable:!0}});k.prototype.gib=function(){var n,p;n=this;this.H.trace("Player changed",this.Cb.dw);this.gna.clear();if(this.Cb.dw){p=this.Cb.X;this.gna.addListener(p.events,"segmentPresenting",function(q){return n.Vy(q);});this.gna.addListener(p.events,"playbackEnding",function(q){return n.eBa(q);});}};k.prototype.Vy=function(n){var p,q,v,t,w;p=this.yR.oWb(n.position,!!n.seek);if(p){q=p.Xe;v=p.ag;g.M && this.H.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(v));t=this.yR.FC;w={Qq:n.playerTimestamp,position:n.position,Xe:q};this.xZ || (q.dg.length?this.WFb(t,w):this.sE(n.playerTimestamp,n.position,q));v && this.Hn(t,w,v);}!this.xZ || p && "end" !== p.s0 || this.sE(n.playerTimestamp,n.position);this.xZ && !p && this.D_a(n.position);};k.prototype.eBa=function(n){this.xZ && this.t2b(n.position) && (this.sE(n.playerTimestamp,n.position),this.D_a(n.position));};k.prototype.WFb=function(n,p){(0,h.assert)(n,"Should have presenting info for event corresponding to ad break");g.M && this.H.trace("Emitting adBreakPresenting");this.Ana=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:n,ip:p});};k.prototype.Hn=function(n,p,q){g.M && this.H.trace("Emitting adPresenting");(0,h.assert)(n,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:n,ip:c.__assign(c.__assign({},p),{ag:q})});};k.prototype.sE=function(n,p,q){g.M && this.H.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",ip:{Qq:n,position:p,Xe:q}});};k.prototype.D_a=function(n){this.Ana=!1;g.M && this.H.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:n}});};k.prototype.Mua=function(n){var p,q,v,t;p=this;q={yHb:[],result:{}};v=this.$g.Wx;t=Object.keys(v).filter(function(w){return v[w];});if(null === n || void 0 === n?0:n.yqb)t=t.filter(function(w){var u;return -1 !== (null === (u=n.yqb) || void 0 === u?void 0:u.indexOf(w));});q.yHb=t;t.forEach(function(w){var u,x,y;x=null === (u=v[w]) || void 0 === u?void 0:u.bg;if(x){u=p.vUb(w,x);y=p.$g.bg[w];q.result[("").concat(w)]=u.map(function(z,B){return c.__assign(c.__assign({},z),{hasCompletedPlayback:y[B].C2b});});}});return q;};Object.defineProperties(k.prototype,{yR:{get:function(){return this.rA.yR;},enumerable:!1,configurable:!0}});k.prototype.vUb=function(n,p){var q,v;q=[];v=[];this.$g.bg[n].forEach(function(t){return t.dg.forEach(function(w){w.LZ && -1 === v.indexOf(w.id) && v.push(w.id);});});p.forEach(function(t){var w,u;t=c.__assign({},t);u=null === (w=t.ads) || void 0 === w?void 0:w.filter(function(x){return -1 === v.indexOf(x.id);});t.ads=u;q.push(t);});return q;};k.prototype.D8b=function(n){var p,q,v,t;p=this;q=n.adId;v=this.$g.Wx;n=Object.keys(v).filter(function(w){return v[w];});t=this.Cb.na.U;n.forEach(function(w){var u,x;null === (x=null === (u=v[w]) || void 0 === u?void 0:u.bg) || void 0 === x?void 0:x.forEach(function(y,z){var B;null === (B=y.dg) || void 0 === B?void 0:B.forEach(function(A,C){A.id === q && (A=(0,f.Oc)(Object.keys(t),function(D){D=p.yR.IJ(D);return !D || D.lK?!1:C === D.g8 && z === D.Gm;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:y.yz,reason:"network_error",sev:"error",segmentId:A});});});});};k.prototype.t2b=function(n){var p;p=this.Cb.navigator;return (n=p.Ce(n.S)) && !p.S_b(n);};return k;})();b.jTa=r;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.NHa=void 0;r=a(0);c=a(13);l=r.__importDefault(a(3));g=a(8);m=a(2);d=a(10);f=a(1182);a=(function(){function h(k,n,p,q){this.Cb=n;this.bf=p;this.Hr=0;this.events=new c.EventEmitter();this.console=(0,g.Oi)(l.default,q,"IMPRESSION");k.events.addListener("adBreakPresenting",this.hR.bind(this));k.events.addListener("adBreakComplete",this.Zda.bind(this));k.events.addListener("adPresenting",this.VAa.bind(this));}Object.defineProperties(h.prototype,{xZ:{get:function(){return !!this.Gn;},enumerable:!1,configurable:!0}});h.prototype.hR=function(k){this.Gn && (d.M && this.console.warn("Unexpected back-to-back ad breaks"),this.Gn.Zda(k.ip.position),this.Hr+=this.Gn.DGa,this.Gn=void 0);(0,m.assert)(k.ip.Xe,"Ad break must be defined for ad break presenting");this.Gn=new f.GHa(this.Cb,this.bf,this.events,k.ip.Xe,this.console);};h.prototype.Zda=function(k){var n,p,q;q=k.ip.Xe || (null === (n=this.Gn) || void 0 === n?void 0:n.Xe);d.M && this.console.trace(("adBreakComplete event, ").concat(this.Gn?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.Gm," is ") + ("").concat(q.dg.length?"not ":"","empty, ") + ("has ").concat(q.Rt?"":"not ","played"):"no ad break"));if(0 === (null === (p=k.ip.Xe) || void 0 === p?void 0:p.dg.length))((0,m.assert)(!this.Gn,"Received ad break complete for empty ad break during ad break"),k.ip.Xe.kgc(),this.hR(k));else if(!this.Gn)return;this.Gn.Zda(k.ip.position);this.Hr+=this.Gn.DGa;this.Gn=void 0;};h.prototype.VAa=function(k){var n,p,q;(0,m.assert)(this.Gn,"Expect to be in ad break when ad presenting is received");(0,m.assert)(this.Gn.Xe === k.ip.Xe,"Expect to be in correct ad break when ad presenting is received");p=this.Cb.EY(k.ip.position.S)[0];q=k.ip.Qq;this.Gn.VAa(k.ip.ag,null === p || void 0 === p?void 0:p.O,k.ip.position.S,q,null !== (n=null === p || void 0 === p?void 0:p.Ed) && void 0 !== n?n:q);};h.prototype.ty=function(){var k;return {"break":null === (k=this.Gn) || void 0 === k?void 0:k.ty(),errors:this.Hr};};return h;})();b.NHa=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.GHa=void 0;c=a(0);l=c.__importDefault(a(3));g=a(1183);r=(function(){function m(d,f,h,k,n){this.Ja=d;this.bf=f;this.events=h;this.Xe=k;this.console=n;this.Hr=0;k.T8 && l.default.ping && l.default.ping(k.T8);}Object.defineProperties(m.prototype,{DGa:{get:function(){return this.Hr;},enumerable:!1,configurable:!0}});m.prototype.VAa=function(d,f,h,k,n){this.Vx && (this.Vx.Wa(),this.Vx=void 0);this.Vx=new g.lVa(this.Ja,this.bf,this.events,this.Xe,d,f,h,k,n,this.console);};m.prototype.Zda=function(d){this.Vx && (this.Vx.Wa(),this.Vx=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.Xe.Woa.complete),{Ni:d,AI:this.Xe.yz,Gm:this.Xe.Gm}));this.Xe.Jwa=!0;}catch(f){this.console.error("Impression error event",f);this.Hr++;}};m.prototype.ty=function(){var d;return {ad:null === (d=this.Vx) || void 0 === d?void 0:d.ty(),errors:this.Hr};};return m;})();b.GHa=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lVa=void 0;c=a(0);l=a(60);g=a(10);m=a(482);d=a(8);f=a(21);h=a(2);k=a(61);r=(function(){function n(p,q,v,t,w,u,x,y,z,B){var A;A=this;this.Ja=p;this.bf=q;this.events=v;this.Xe=t;this.ag=w;this.cpa=u;this.h8=x;this.TFb=y;this.uW=z;this.console=B;this.qo=l.platform.time.now();this.bM=new Map();this.Hr=0;(0,h.assert)(u.ba,"Presenting ad should have a manifest");this.H_a=q.vB(function(){return A.Tjc();},"impressionLogging");this.Ja.X.pG.forEach(function(C,D){(C=C.TUb(m.Oia)) && A.bM.set(D,C);});}Object.defineProperties(n.prototype,{DGa:{get:function(){return this.Hr;},enumerable:!1,configurable:!0}});n.prototype.Wa=function(){this.H_a.Wa();};n.prototype.Tjc=function(){var p,q,v,t,w,u,x,y,z,B,A,C,D,E,G;return c.__generator(this,function(F){switch(F.label){case 0:(g.M && this.console.trace("AdImpressionLogger: starting at",this.uW.Fb()),p=this.ag,this.P2a(),q=0,v=this.uW,t=this.uW.add(p.endTime),w=this.TFb,F.label=1);case 1:(F.$q.push([1,,12,13]),(0,h.assert)(null === (D=p.rE) || void 0 === D?void 0:D.start,"Start event info should be defined"),this.emit(p.rE.start,q,v,!1),(0,h.assert)(p.Pga,"Timed event info should be defined"),F.label=2);case 2:(F.$q.push([2,7,8,9]),u=c.__values(p.Pga),x=u.next(),F.label=3);case 3:if(x.done)return [3,6];y=x.value;v=this.uW.add(d.P.Na(y.dGa));g.M && this.console.trace(("AdImpressionLogger[").concat(this.h8,"]: waiting for ").concat(y.dGa,"ms timed event") + (" at ").concat(v.Fb()));return [4,k.cj.jD(v)];case 4:(F.ub(),w=v,this.emit(y,y.dGa,v,!1),F.label=5);case 5:return (x=u.next(),[3,3]);case 6:return [3,9];case 7:return (z=F.ub(),A={error:z},[3,9]);case 8:try{x && !x.done && (C=u.return) && C.call(u);}finally{if(A)throw A.error;}return [7];case 9:if(!t.greaterThan(v))return [3,11];v=t;g.M && this.console.trace(("AdImpressionLogger[").concat(this.h8,"]: waiting for end of ad at ").concat(v.Fb()));return [4,k.cj.jD(v)];case 10:(F.ub(),w=v,F.label=11);case 11:return [3,13];case 12:this.Ja.X.qf && (w=this.Ja.X.Ae);if(w.pk(t))((0,h.assert)(null === (E=p.rE) || void 0 === E?void 0:E.complete,"Complete event should be defined"),this.emit(p.rE.complete,p.endTime.Z,t,!0));else if(null === (G=p.rE) || void 0 === G?0:G.stop)(B=w.Ea(this.uW).Z,this.emit(p.rE.stop,B,w,!0));this.P2a();return [7];case 13:return [2];}});};n.prototype.emit=function(p,q,v,t){g.M && this.console.trace(("AdImpressionLogger[").concat(this.h8,"]: emitting ").concat(p.event," event at ").concat(q,"ms") + (" for player time ").concat(v.Fb()));q={S:this.h8,offset:d.P.Na(q)};v=this.Ova(v);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},p),{Ni:q,Yy:v,ba:this.cpa.ba,qo:this.qo,Qxc:t?l.platform.time.now():-1,AI:this.Xe.yz,Gm:this.Xe.Gm,DS:this.ag.DS,jw:this.ag.jw}));}catch(w){this.console.error("Impression error event",w);this.Hr++;}};n.prototype.Ova=function(p){var q,v,t;q=this.cpa.ba.K;v=c.__read(this.l$a(p,this.bM.get(l.u.T),q),2);t=v[0];v=v[1];p=c.__read(this.l$a(p,this.bM.get(l.u.J),q),2);return {audio:t,video:p[0],text:[],total:Math.max(v,p[1])};};n.prototype.l$a=function(p,q,v){p=(null === q || void 0 === q?void 0:q.whc(p,v)) || [];p=(0,f.flatten)(p.map(function(t){return Object.keys(t.pJ).map(function(w){w=t.pJ[w];return {Tb:w.Tb,duration:w.totalTime,Uo:t.Uo};});}));q=p.reduce(function(t,w){return t + w.duration;},0);g.M && this.console.trace("Getting playtime journal",{K:v,Ywc:p.length,totalTime:q});return [p,q];};n.prototype.P2a=function(){var p,q,v;v=this.cpa.ba.K;null === (p=this.bM.get(l.u.T)) || void 0 === p?void 0:p.Sjb(v);null === (q=this.bM.get(l.u.J)) || void 0 === q?void 0:q.Sjb(v);};n.prototype.ty=function(){return {ad:this.H_a.ty(),errors:this.Hr};};return n;})();b.lVa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.IHa=void 0;c=a(21);r=(function(){function l(g,m){this.wv=g;this.$g=m;}l.prototype.Bwa=function(g){var m;m=this;return this.wv.X.eb.some(function(d){return d.G.G.N === g && d.v0a;})?!1:(0,c.Oc)(Object.keys(this.$g.Wx),function(d){if(d=m.$g.Wx[d])return (0,c.Oc)(d.bg,function(f){return f.dg && (0,c.Oc)(f.dg,function(h){return h.id === g;});});})?(this.$g.Zsa(g),!0):!1;};return l;})();b.IHa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.KHa=void 0;c=a(13);l=a(28);r=(function(){function g(m,d,f){var k;function h(n){var p,q;(p=k.state.apa)[q=n.event] || (p[q]=0);k.state.apa[n.event]++;}k=this;this.$g=d;this.hxa=f;this.VD=new c.gf();this.ju="adImpressionAudit";this.ke="adImpressionAuditor";this.enabled=!0;this.VD.on(m.events,"adPresenting",function(){return k.state.k0a++;});this.VD.on(m.events,"adBreakPresenting",function(){return k.state.F_a++;});this.VD.on(f.events,"adEvent",h);this.VD.on(f.events,"adBreakEvent",h);this.state={F_a:0,apa:{},k0a:0};}g.prototype.ll=function(m){m=m.Qg;if(this.$g.jba() && m === l.Kc.gl)return {presented:{breaks:this.state.F_a,ads:this.state.k0a},events:this.state.apa,logger:this.hxa.ty()};};g.prototype.Wa=function(){this.VD.clear();};return g;})();b.KHa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.TO=void 0;c=a(0);l=a(1187);g=a(197);b.TO=function(m,d){var f,h,k;f=[function(n){return new (l.jia.bind.apply(l.jia,c.__spreadArray([void 0],c.__read(n.dac),!1)))();}];if(m.ZX){h=a(483).Tra;f.unshift(function(n,p){return h(n,p);});}if(m.uJ){k=a(483).Tra;f.unshift(function(n,p){return k(n,p);});}return g.FT.Sba({dac:d},f);};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.jia=void 0;c=a(0);l=a(13);g=a(8);m=a(2);d=a(61);f=a(21);r=a(137);h=a(1188);k=a(133);n=a(1189);p=a(468);q=a(1192);v=a(1193);t=r.Zy.Csa;a=(function(w){function u(x,y,z){var B,A;A=w.call(this) || this;A.X=x;A.Xf=y;A.dt=z;A.VX=[];A.Nf=void 0;A.mV=new l.gf();A.YD=void 0;A.dE=void 0;A.Nna=void 0;A.mV.on(A.X,"underflow",A.li.bind(A));A.bV=new q.lTa(x);A.mV.on(A.X,"skipped",A.i0.bind(A));A.mV.on(A.X,"playing",A.fBa.bind(A));A.mV.on(A.X,"playbackEnding",A.eBa.bind(A));A.Mx=new d.NU(A.bV,A.H,"player");A.nHa=new g.JH();x.k2a && x.zg && (A.mz=new v.QUa(A,x,A.H,null === (B=A.Ja) || void 0 === B?void 0:B.config));return A;}c.__extends(u,w);Object.defineProperties(u.prototype,{Ip:{get:function(){var x;return null === (x=this.Nf) || void 0 === x?void 0:x.Ip;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{pG:{get:function(){var x;return (null === (x=this.Nf) || void 0 === x?void 0:x.pG) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{eb:{get:function(){var x,y;return null !== (y=null === (x=this.Nf) || void 0 === x?void 0:x.Wv()) && void 0 !== y?y:[];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ddb:{get:function(){return this.Nna;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ja:{get:function(){var x;return null === (x=this.Nf) || void 0 === x?void 0:x.Ja;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{za:{get:function(){return this.bV;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{E0a:{get:function(){var x,y;return !!((null === (x=this.Nf) || void 0 === x?0:x.fFa) && (null === (y=this.$t) || void 0 === y?0:y.Ej));},enumerable:!1,configurable:!0}});u.prototype.fBa=function(x){var y;this.Nna=this.$m(null !== (y=x.ue) && void 0 !== y?y:this.X.Qc);(0,m.assert)(this.Nna,"Should have a location");};u.prototype.eBa=function(){var x,y;x=this.X.Qc;y=this.$m(x);(0,m.assert)(y,"Playback ending at position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:x,position:y});};u.prototype.dga=function(x){-1 === this.VX.indexOf(x) && this.VX.push(x);this.Nf && this.Nf.d0(x);this.events.emit("drmReady",{viewableId:x});};u.prototype.Klb=function(x){x=this.VX.indexOf(x);-1 !== x && this.VX.splice(x,1);};u.prototype.hs=function(x){var y;return -1 !== this.VX.indexOf(x) || !(null === (y=(0,f.Oc)(this.eb,function(z){return z.Eq && z.O.N === x;})) || void 0 === y || !y.O.Tl);};u.prototype.GG=function(x){var y;null === (y=this.Nf) || void 0 === y?void 0:y.GG(x);};u.prototype.reset=function(){var x,y;this.nHa=new g.JH();w.prototype.reset.call(this);this.dE=void 0;null === (x=this.Nf) || void 0 === x?void 0:x.reset();null === (y=this.mz) || void 0 === y?void 0:y.reset();};u.prototype.DDa=function(x){this.UR([x]);};u.prototype.UR=function(x){var y,z;y=this;x.forEach(function(B){var A;w.prototype.DDa.call(y,B);null === (A=y.mz) || void 0 === A?void 0:A.hec(B);});null === (z=this.Nf) || void 0 === z?void 0:z.UR(x);};u.prototype.JE=function(){var x;null === (x=this.Nf) || void 0 === x?void 0:x.JE();};u.prototype.pause=function(x){this.KL(x);w.prototype.pause.call(this,null !== x && void 0 !== x?x:this.Xf);};u.prototype.resume=function(x){var y;null === (y=this.Nf) || void 0 === y?void 0:y.resume(x);w.prototype.resume.call(this,null !== x && void 0 !== x?x:this.Xf);};u.prototype.Wa=function(){this.YD=this.sba()?this.Zn():void 0;this.Nf && this.Ksa(this.Nf.Ja);this.bV.Wa();this.Mx.Wa();this.mV.clear();w.prototype.Wa.call(this);};u.prototype.MJ=function(){var x,y;if(null === (x=this.Nf) || void 0 === x?0:x.obc){x=this.X.Qc;if(this.za.sk){if(this.dE){if(this.dE.greaterThan(x))return (x=this.dE.Ea(x),this.nHa.push(x.Z),this.dE);if(this.eb.length){y=this.Nf.W3b;if(y && y.lessThan(x))return (this.events.emit("logdata",{type:"logdata",target:"endplay",fd:{clockdrift:{type:"count"}}}),this.dE);}}this.dE=x;}return x;}return w.prototype.MJ.call(this);};u.prototype.Nt=function(){var x;x=this.X.playbackRate;void 0 === x && (x=w.prototype.Nt.call(this));return x;};u.prototype.sba=function(){return !!this.YD || w.prototype.sba.call(this);};u.prototype.Zn=function(){return this.YD?this.YD:w.prototype.Zn.call(this);};u.prototype.RY=function(){var x;return null === (x=this.Nf) || void 0 === x?void 0:x.N3b;};u.prototype.Ksa=function(x){var y;(0,m.assert)(x === this.Ja);null === (y=this.Nf) || void 0 === y?void 0:y.Wa();this.Nf=void 0;};u.prototype.M8=function(x,y){var z,B;this.YD=void 0;z=w.prototype.M8.call(this,x,y);if(z){B=new n.MIa(x,this,this.H,x.config,this.dt,this.events,this.Xf,this.Mx,this.mz,this.ZD,this.XD,null === y || void 0 === y?void 0:y.Ip,null === y || void 0 === y?void 0:y.pG);null === y || void 0 === y?void 0:y.mR();this.Nf=B;this.KL(this.pR);this.mz && (y=x.OC.qZb(h.Ola),y || (y=new h.Ola(),x.cg(y)),this.mz.adc(y));}return z;};u.prototype.mR=function(){var x;null === (x=this.Nf) || void 0 === x?void 0:x.mR();};u.prototype.tta=function(){var z;for(var x=[],y=0;y < arguments.length;y++){x[y]=arguments[y];}z=this.Nf;(0,m.assert)(z);x.forEach(function(B){return z.hTb(B);});};u.prototype.eFa=function(){var x;null === (x=this.Nf) || void 0 === x?void 0:x.eFa();};u.prototype.ci=function(x){var y,z,B;if(!this.Nf)return !1;y=this.DY(x);if(!y)return !1;z=y.G;B=g.P.Na(this.dt.UQ);return z.yh.Ea(B).lessThan(x) || !y.ME(x)?!1:this.Nf.ci(x);};u.prototype.Raa=function(){var x;return null === (x=this.mz) || void 0 === x?void 0:x.Raa();};u.prototype.li=function(){var x,y,z;if(null === (x=this.Ja) || void 0 === x?0:x.Vf)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {z=this.Ae;(0,m.assert)(this.Ja);x=this.$m(z,!0);(0,m.assert)(x);null === (y=this.Nf) || void 0 === y?void 0:y.li();y=this.DY(z);null === y || void 0 === y?void 0:y.O.li();this.Ja.li(x);}};u.prototype.i0=function(){this.dE=void 0;};u.prototype.Sua=function(){var x;return null === (x=this.Nf) || void 0 === x?void 0:x.Sua();};u.prototype.KL=function(x){var y;null === (y=this.Nf) || void 0 === y?void 0:y.KL(x);};u.prototype.nGa=function(x){(0,m.assert)(this.Ja && this.Nf);return w.prototype.nGa.call(this,x);};u.prototype.Wea=function(){(0,m.assert)(this.Nf);this.Nf.Wea();};c.__decorate([t.return.oqa(),t.return.vo],u.prototype,"Zn",null);c.__decorate([t.return.oqa(),t.return.Wda],u.prototype,"RY",null);return u=c.__decorate([k.GJ],u);})(p.sla);b.jia=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ola=void 0;c=a(28);r=(function(){function l(){this.ju=this.ke=l.ke;this.enabled=!0;this.q1=[];this.Ikb=0;}l.prototype.KGb=function(g){this.q1.push(g);5 < this.q1.length && this.q1.shift();};l.prototype.LGb=function(){this.Ikb++;};l.prototype.ll=function(g){var m;m=g.Qg;g=g.SF;if((m === c.Kc.Cl || m === c.Kc.pn || m === c.Kc.gl || void 0 === m && void 0 === g) && this.q1.length)return {restarts:this.q1.map(function(d){return {s:d.Chc,d:d.UQb,r:d.reason,atMs:d.jac.Z};}),restartsCompleted:this.Ikb};};l.ke="seamlessManager";return l;})();b.Ola=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u;Object.defineProperties(b,{__esModule:{value:!0}});b.MIa=void 0;c=a(0);l=a(13);g=a(450);m=c.__importDefault(a(3));d=a(192);f=a(6);h=a(269);k=a(8);n=a(21);p=a(61);q=a(257);v=a(2);t=a(1190);w=a(1191);u=a(482);r=(function(){function x(y,z,B,A,C,D,E,G,F,L,O,K,I){var M;M=this;this.Ja=y;this.X=z;this.H=B;this.L=A;this.dt=C;this.Yg=D;this.Xf=E;this.bf=G;this.mz=F;this.ZD=L;this.XD=O;this.t6=!1;this.YXa=new k.hVa();this.aoa=this.G8b.bind(this);this.bk=new d.bH(this.H);this.iW=K || new w.gma(this.H,y);this.XOb(I);this.zj && (this.WDb=this.Qua(this.fZb()),this.vCb=k.fA.Cmc(this.zj.map(function(H){return H.hu;}),function(H){return H.every(function(J){return J;});},function(H){return M.ZD.set(H);}),this.lAb=new q.Ika(this.zj.map(function(H){return H.wya;}),function(H){return k.P.min.apply(k.P,c.__spreadArray([],c.__read(H),!1));},function(H){M.XD.set(H);},k.P.Na(-Infinity)));this.Br=G.vB(function(){return M.iJb();},"branchPruner");this.VD=new l.gf();this.VD.on(this.Yg,"segmentPresenting",function(){return c.__awaiter(M,void 0,void 0,function(){var H;return c.__generator(this,function(J){switch(J.label){case 0:return (this.hCb=this.X.Zn(),null !== (H=this.L.T0a) && void 0 !== H && H.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(J.ub(),this.Yg.emit("requestGarbageCollection",{time:m.default.time.fa(),type:"requestGarbageCollection"}),J.label=2);case 2:return [2];}});});});}Object.defineProperties(x.prototype,{Ip:{get:function(){return this.iW;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{pG:{get:function(){var y;y=new Map();this.zj.forEach(function(z){y.set(z.mediaType,z.AR);});return y;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{N3b:{get:function(){return this.hCb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{fFa:{get:function(){return this.zj.every(function(y){return y.fFa;});},enumerable:!1,configurable:!0}});x.prototype.iJb=function(){var y,z,B,A,C,D;return c.__generator(this,function(E){switch(E.label){case 0:if(!this.bk.q3a)return [3,2];y=c.__read(this.bk.w2(),1);z=y[0];B=z.G.K2b && (null === (D=this.dt.mS) || void 0 === D?void 0:D.Z) || 0;A=z.ZZ || z.Sc;C=A.add(k.P.Na(B + 1E3));return [4,p.cj.jD(C)];case 1:return (E.ub(),this.$ib(z),[3,0]);case 2:return [2];}});};Object.defineProperties(x.prototype,{obc:{get:function(){var y;return !(null === (y=this.WDb) || void 0 === y || !y.hu.value);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{W3b:{get:function(){return this.t6?k.P.max.apply(k.P,c.__spreadArray([],c.__read(this.zj.map(function(y){var z;return null === (z=y.dIb) || void 0 === z?void 0:z.cdb;}).filter(n.Pda)),!1)):void 0;},enumerable:!1,configurable:!0}});x.prototype.GG=function(y){this.zj.forEach(function(z){z.GG(y);});};x.prototype.G8b=function(){var y;this.Br.zg();y=this.zj.filter(function(z){return z.h2b;}).map(function(z){return z.mediaType;});this.KL(y);this.resume(y);};x.prototype.hTb=function(y){(0,v.assert)(-1 === this.bk.w2().indexOf(y),("Branch ").concat(y.G.id," is already in the collection, cannot re-queue"));y.events.on("branchEdited",this.aoa);this.bk.enqueue(y);this.Br.state === p.Bm.complete && this.Br.zg();y.G.Fu && this.bk.sP();this.t6 || this.bVb(y);};x.prototype.d0=function(y){this.zj.forEach(function(z){z.d0(y);});};x.prototype.reset=function(){this.zj.forEach(function(y){y.reset();});this.t6=!1;this.YXa.removeAllListeners();this.JE();};x.prototype.DDa=function(y){this.UR([y]);};x.prototype.UR=function(y){var z;z=this;y.forEach(function(B){B=z.Qua(B);null === B || void 0 === B?void 0:B.reset(!1,y);});};x.prototype.JE=function(){var y;y=this;this.bk.w2().forEach(function(z){return z.events.Sy("branchEdited",y.aoa);});this.bk.clear();this.Br.zg();};x.prototype.Wea=function(){var y;y=this;this.bk.w2().filter(function(z){return z.tO;}).forEach(function(z){return y.$ib(z);});};x.prototype.resume=function(y){this.zj.forEach(function(z){void 0 !== y && -1 === y.indexOf(z.mediaType) || z.resume();});};x.prototype.KL=function(y){this.zj.forEach(function(z){return (void 0 === y || -1 !== y.indexOf(z.mediaType)) && z.stop();});};x.prototype.eFa=function(){this.zj.forEach(function(y){return y.ghc();});};x.prototype.li=function(){this.H.trace("attached-player: onUnderflow");};x.prototype.z$a=function(){return this.bk.getIterator();};x.prototype.QXb=function(){return this.Wv()[0];};x.prototype.Wv=function(){return this.bk.w2();};x.prototype.XOb=function(y){var z,B,A;z=this;this.An("createMediaSourceStart");if(this.dt.Hva)B=this.dt.Hva();else (B=new m.default.MediaSource(this.X.X),B.Yc || (B.Yc=m.default.MediaSource.Yc));if(1 !== B.readyState)this.Dr("exception in init","NFErr_MC_StreamingInitFailure");else {this.An("createMediaSourceEnd");this.Hg=B;if(!B.m8(this.Xf))throw (this.H.trace("Error:",B.error),this.Dr("error creating source buffers","NFErr_MC_StreamingInitFailure"),B.error);A={};this.Ja.cg(new t.SJa(A,this.L));this.zj=B.sourceBuffers.filter(function(C){return 0 <= z.Xf.indexOf(C.mediaType);}).map(function(C){var D,E,G,F;E=new h.Cia(C.mediaType,B,C,z.L,!0,{eg:function(){return z.X.Ae.Z;},hs:function(L){return z.X.hs(L.N);}},z.bf);E.addListener("error",function(L){return z.Dr(L.errorstr);});E.addListener("logdata",function(L){return z.Yg.emit("logdata",L);});E.addListener("managerdebugevent",function(L){z.Yg.emit("managerdebugevent",L);});G=null === y || void 0 === y?void 0:y.get(C.mediaType);F=new g.kia(E,C.mediaType,z,z.L,z.H,z.X,z.dt,z.bf,z.Ip,z.mz,G);if(C.mediaType === f.u.J)F.on("drmNeeded",function(L){return z.Yg.emit("drmNeeded",L);});G || (null === (D=F.AR) || void 0 === D?void 0:D.PGb(new u.Oia(A[C.mediaType]={},z.H,z.X,E,z.X.events,z.dt,z.bf)));return F;});}};x.prototype.$ib=function(y){var z;(0,v.assert)(y.tO,"Attempted to prune branch that has not been fully appended");this.bk.remove(y);y.events.removeListener("branchEdited",this.aoa);y.ie("pruned");(null === (z=this.L.T0a) || void 0 === z?0:z.branchPruned) && this.Yg.emit("requestGarbageCollection",{time:m.default.time.fa(),type:"requestGarbageCollection"});};x.prototype.Wa=function(){this.vCb.clear();this.lAb.clear();this.zj.forEach(function(y){return y.Wa();});this.dt.Hva || this.Hg.Gt();this.JE();this.Br.Wa();this.VD.clear();};x.prototype.ci=function(y){return this.zj.every(function(z){return z.ci(y);});};x.prototype.mR=function(){this.zj.forEach(function(y){return y.b4a();});this.iW=new w.gma(this.H,this.Ja);};x.prototype.Sua=function(){return {hcc:this.Wv(),cac:this.zj};};x.prototype.bVb=function(y){var z;z=this;this.t6=!0;y.Fe.forEach(function(B){var A;A=z.Qua(B.mediaType);if(void 0 !== A)z.YXa.once(B.qua,function(C){return A.dVb(C);});});if(y.oc)this.g6a();else y.events.once("branchNormalized",function(){return z.g6a();});};x.prototype.g6a=function(){var y;y=this.QXb();y && ((0,v.assert)(y.Ed),this.Yg.emit("ptsChanged",{initialTimestamp:y.Ed,forcedTimestamp:void 0}));};x.prototype.Qua=function(y){return (0,n.Oc)(this.zj,function(z){return z.mediaType === y;});};x.prototype.fZb=function(){return -1 !== this.Xf.indexOf(f.u.J)?f.u.J:f.u.T;};x.prototype.An=function(y){y={type:"startEvent",event:y,time:m.default.time.fa()};this.Yg.emit(y.type,y);};x.prototype.Dr=function(y,z){this.Ja.hg(y,void 0,z);};return x;})();b.MIa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.SJa=void 0;c=a(6);l=a(21);g=a(28);r=(function(){function m(d,f){this.th=d;this.config=f;this.ke="CdnListTracker";}Object.defineProperties(m.prototype,{enabled:{get:function(){return this.config.CKb;},enumerable:!1,configurable:!0}});m.prototype.ll=function(d){var f;f=this;if(d.Qg === g.Kc.gl)return {cdndldist:JSON.stringify((0,l.M0a)(Object.keys(this.th).map(function(h){var k;k=f.th[h];return Object.keys(k).map(function(n){var p;p=k[n];return {cdnid:p.Uo,pbcid:p.Cp,dls:Object.keys(p.pJ).map(function(q){var v,t;q=p.pJ[q];t=q.mediaType === c.u.T?"adlid":"dlid";return (v={tm:q.totalTime,bitrate:q.bitrate},v[t]=q.Tb,v.vf=q.hb,v);})};});})))};};return m;})();b.SJa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.gma=void 0;c=a(0).__importDefault(a(3));l=a(6);g=a(20);m=a(30);r=(function(){function d(f,h){this.H=f;this.No=h;}d.prototype.pz=function(f,h,k,n,p){var q,v;void 0 === p && (p=!1);q=f.G;v=this.sBb(q);this.jO={startTime:c.default.time.fa(),Ehc:f,Dhc:k.Z,VRb:h,Ge:this.cYb(n,h),$jc:this.c_b(n,p),Fsa:p,Re:n,G2a:v,A7b:this.BYb(q,k)};};d.prototype.Uab=function(){return !!this.jO;};d.prototype.Iva=function(f){var h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O;if(this.jO && 0 !== Object.keys(this.jO.G2a).length && f === this.jO.VRb){u=this.jO;x=u.G2a;y=u.A7b;z=u.Fsa;B=u.Re;A=u.Ehc;C=u.Dhc;D=u.startTime;E=u.Ge;u=u.$jc;this.jO=void 0;G=this.qna(f).vt;F=this.tWb(A.G.id,f,x);G=this.LYa(F.weight,G);L={};for(O in x){O !== f && (L[O]=x[O].details);}x=c.default.time.fa() - D;D=B?0:x;O={offset:g.P.Na(this.IZb(A,C,B,z)),S:A.G.id};C={offset:g.P.Na(C),S:A.G.id};y={segment:f,destPosition:{S:f,offset:g.P.Pa},srcsegment:A.G.id,srcTransitionPosition:O,srcStartPosition:C,srcsegmentduration:A.Yga.Z,srcoffset:O.offset.Z,seamlessRequested:B,atRequest:F,atTransition:G,discard:L,transitionType:E,transitionTypeAtRequest:u,delayToTransition:this.dXb(x,B,z),durationOfTransition:D,nextExitPositionAtRequest:y};z=null !== (k=null === (h=this.No.na.U[f]) || void 0 === h?void 0:h.type) && void 0 !== k?k:"content";h=null !== (p=null === (n=this.No.na.U[A.G.id]) || void 0 === n?void 0:n.type) && void 0 !== p?p:"content";f=null !== (v=null === (q=this.No.na.U[f]) || void 0 === q?void 0:q.N) && void 0 !== v?v:void 0;q=null !== (w=null === (t=this.No.na.U[A.G.id]) || void 0 === t?void 0:t.N) && void 0 !== w?w:void 0;f && q && f !== q && (y.auxMidType=z,y.auxSrcmidType=h,y.auxMid=f,y.auxSrcmid=q);return y;}};d.prototype.tWb=function(f,h,k){var n,p,q;q={};(k=k[h])?q=k.details:((0,m.assert)(this.No),q.weight=null === (p=null === (n=this.No.na.U[f].next) || void 0 === n?void 0:n[h]) || void 0 === p?void 0:p.weight);return q;};d.prototype.dXb=function(f,h,k){var n;k || (n=h?f:0);return n;};d.prototype.BYb=function(f,h){var k,n,p;n=f.uf.add(h);null === (k=f.gz) || void 0 === k?void 0:k.some(function(q){n.lessThan(q.oc) && (p=q.oc.Z);});return p;};d.prototype.IZb=function(f,h,k,n){return k || n?f.Yga.Z:h;};d.prototype.cYb=function(f,h){return f?"seamless":this.qna(h).nZ?"reset":"long";};d.prototype.c_b=function(f,h){return f || h?"lazy":"immediate";};d.prototype.sBb=function(f){var h,k;h=this;k={};f.tC.forEach(function(n){var p,q;p=f.D7b[n];q=h.qna(n).vt;k[n]={details:h.LYa(p,q)};});return k;};d.prototype.qna=function(f){var h,k;f=this.No.EY(f);h=0 < f.length?f[0]:void 0;f=null === h || void 0 === h?void 0:h.JB();if(!h || !f)return {nZ:!1,vt:{Kp:0,jt:0,Qu:0,qE:0}};k=h.rba(l.u.T) && !f.jt;h=h.rba(l.u.J) && !f.Kp;return {nZ:!k && !h,vt:f};};d.prototype.LYa=function(f,h){return {weight:f,vbuflmsec:h.Kp,abuflmsec:h.jt,vbuflbytes:h.Qu,abuflbytes:h.qE};};return d;})();b.gma=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.lTa=void 0;c=a(13);l=a(6);g=a(8);r=a(35);a=(function(){function m(d){this.X=d;this.Ina=!1;this.bZa=new c.gf();this.Zcc();}m.prototype.Zcc=function(){var d,f;d=this;f=this.bZa;f.on(this.X,"paused",function(){return d.hea();});f.on(this.X,"playing",function(){return d.hea(!0);});f.on(this.X,"underflow",function(){return d.hea();});f.on(this.X,"skipped",function(){return d.i0();});f.on(this.X,"clockAdjusted",function(){return d.b0();});f.on(this.X,"playbackRateChanged",function(){return d.d9b();});};Object.defineProperties(m.prototype,{currentTime:{get:function(){return this.c_a || this.X.Qc || g.P.Pa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sk:{get:function(){return this.Ina;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{speed:{get:function(){var d;return null !== (d=this.X.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});m.prototype.hea=function(d){void 0 === d && (d=!1);d !== this.Ina && (this.c_a=(this.Ina=d)?void 0:this.X.Qc);this.emit("stopStart",{type:"stopStart"});};m.prototype.i0=function(){this.c_a=void 0;this.b0(l.GT.ro);};m.prototype.b0=function(d){void 0 === d && (d=l.GT.cHb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};m.prototype.d9b=function(){this.emit("speedChanged",{type:"speedChanged"});};m.prototype.Wa=function(){this.hea();this.bZa.clear();};return m;})();b.lTa=a;(0,r.ef)(c.EventEmitter,a);},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.QUa=void 0;c=a(0);l=a(13);g=a(10);m=a(6);d=c.__importDefault(a(3));f=a(8);h=a(2);r=(function(){function k(n,p,q,v){var t;t=this;this.Hb=n;this.X=p;this.config=v;this.pending=new Map();this.listeners=new l.gf();this.GAa=!1;this.J_b=function(w){t.Hkb(function(){g.M && t.H.debug("cancelling playback ending");w.cancel();});};this.Hkb=function(w){var u,x,y,z,C,D,E;if(t.pending.size){g.M && t.H.trace("playback ending, restarting player");y={};z=(u={},u[m.u.T]=void 0,u[m.u.J]=void 0,u[m.u.Za]=void 0,u);try{for(var B=c.__values(t.pending.entries()),A=B.next();!A.done;A=B.next()){C=c.__read(A.value,2);D=C[0];E=C[1];y[D]=E.to.stream.np();E.from.S && (z[D]=E.from.S);}}catch(F){var G;G={error:F};}finally{try{A && !A.done && (x=B.return) && x.call(B);}finally{if(G)throw G.error;}}null === w || void 0 === w?void 0:w();g.M && t.H.debug("Restarting player",y);t.X.zg(y,z).then(function(){var F,L;null === (F=t.iJ) || void 0 === F?void 0:F.resolve();g.M && t.H.debug("Restart completed");null === (L=t.flb) || void 0 === L?void 0:L.LGb();t.reset();});}};this.listeners.addListener(p,"playbackEnding",this.J_b);this.H=(0,f.Oi)(d.default,q,"SEAMLESSMANAGER");g.M && this.H.debug("construct");}k.prototype.Wa=function(){g.M && this.H.debug("destruct");this.pending.clear();this.listeners.clear();};k.prototype.adc=function(n){this.flb=n;};k.prototype.wmc=function(n){var p,q;0 === this.pending.size && ((0,h.assert)(void 0 === this.iJ,"SeamlessManager: No pending transitions, but a wait is deferred"),this.iJ=new f.uD());(0,h.assert)(this.iJ,"SeamlessManager: deferred is undefined");(0,h.assert)(!this.pending.has(n.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + n.mediaType);this.pending.set(n.mediaType,n);g.M && this.H.trace(("got new transition [").concat(n.mediaType,"] --\x3e ").concat(n.to.stream.id));if(this.pending.size === this.Hb.Xf.length && !this.GAa){q=this.X2b();if(q.pib)return (g.M && this.H.trace(("seamless transition possible at ").concat(n.timestamp.Fb())),this.iJ.resolve(),this.reset(),this.Pya=n.timestamp,Promise.resolve());g.M && this.H.trace(("starting non-seamless transition at ").concat(n.timestamp.Fb()));null === (p=this.flb) || void 0 === p?void 0:p.KGb(q.info);if(!this.Mhc())return (g.M && this.H.warn("Unable to perform a non-seamless transition here, allowing seamless"),this.iJ.resolve(),this.reset(),this.Pya=n.timestamp,Promise.resolve());}return this.iJ.promise;};k.prototype.hec=function(n){g.M && this.H.trace(("reset media [").concat(n,"]"));this.pending.delete(n);0 === this.pending.size && this.reset();};k.prototype.Raa=function(){return this.Pya;};k.prototype.reset=function(){g.M && this.H.debug("resetting");this.GAa=!1;this.iJ=this.Pya=void 0;this.pending.clear();};k.prototype.X2b=function(){var n,p,q,w,u,x,y,z,B,A,C,D,E,G;try{for(var v=c.__values(this.pending.entries()),t=v.next();!t.done;t=v.next()){w=c.__read(t.value,2);u=w[0];x=w[1];if(x.from){y=x.from.stream;z=x.to.stream;if(y.track === z.track)g.M && this.H.debug("Seamless deemed possible due to same track",{mediaType:u});else {B=y.np();A=z.np();C=void 0;D=this.Hb.$m(x.timestamp);C=x.from.S && 0 > this.Hb.wya.value.Z?{S:x.from.S,offset:f.P.Na(0)}:this.Hb.$m(x.pbc);E=this.X.k2a({mediaType:u,from:B,to:A,TVb:C,Kjc:D});G=E.reason;if(!E.k2a)return (g.M && this.H.debug("Non-seamless transition; details:",{reason:G,mediaType:u,from:B,to:A}),{pib:!1,info:{UQb:null !== (p=x.to.S) && void 0 !== p?p:"unk",Chc:null !== (q=x.from.S) && void 0 !== q?q:"unk",jac:x.timestamp,reason:G}});g.M && this.H.debug("Seamless deemed possible",{reason:G,mediaType:u,from:B,to:A,TVb:C,Kjc:D});}}}}catch(L){var F;F={error:L};}finally{try{t && !t.done && (n=v.return) && n.call(v);}finally{if(F)throw F.error;}}return {pib:!0};};k.prototype.Mhc=function(){var n;this.GAa=!0;if(this.Hb.hu.value)(g.M && this.H.trace("Signaling EOS for upcoming restart"),this.Hb.eFa());else {if(null === (n=this.config) || void 0 === n?0:n.x5a)return (g.M && this.H.warn("An immediate restart is required but disabled"),!1);g.M && this.H.trace("Signaling immediate restart");this.Hkb();}return !0;};return k;})();b.QUa=r;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oTa=void 0;c=a(0);l=a(71);g=a(8);m=c.__importDefault(a(3));d=a(481);f=a(1195);r=(function(){function h(k,n){var p;p=this;this.DZ=k;this.events=(0,d.$ra)(function(){return p.cn;},this.DZ.events,n,f.hib);this.QBb=(0,g.Oi)(m.default,this.DZ.console,"PLAYERHOST");new l.wx({Lq:10,Ap:this,source:"PlayerHost",console:this.QBb});}h.prototype.wra=function(){this.cn=void 0;};h.prototype.LEa=function(k){this.cn=k;};c.__decorate([(0,l.ec)({methodName:"clearProxyPlaygraphContext"})],h.prototype,"wra",null);c.__decorate([(0,l.ec)({methodName:"setProxyPlaygraphContext"})],h.prototype,"LEa",null);return h;})();b.oTa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hib=void 0;b.hib={"*":{S6a:["logdata"],rules:[{wl:function(a){return a.rHa;}}]},segmentPresenting:[{wl:function(a){return a.rHa;},config:{Fs:["metrics"]}},{wl:function(a){return a.qf;}},{wl:function(a){return a.qf;},config:{Fs:["metrics","srcStartPosition"]}},{wl:function(a){return a.qf;},config:{Fs:["metrics","srcTransitionPosition"]}},{wl:function(a){return a.qf;},config:{Fs:["metrics","destPosition"]}},{wl:function(a){return a.zIb;}}],streamPresenting:[{wl:function(a){return a.qf;}}],segmentAppended:[{wl:function(a){return a.v1;}}]};},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.TWa=void 0;c=a(0);l=a(13);g=a(10);m=a(405);r=(function(){function d(f,h,k,n){this.xqb=f;this.console=h;this.OHb=k;this.j1=n;this.events=new l.EventEmitter();this.a_=f.X3b.Sx();}Object.defineProperties(d.prototype,{O:{get:function(){var f;return null === (f=this.xqb) || void 0 === f?void 0:f.O;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{YG:{get:function(){var f;f=this;return (function(){return c.__awaiter(f,void 0,void 0,function(){var h;return c.__generator(this,function(k){switch(k.label){case 0:return (k.$q.push([0,2,,3]),[4,this.xqb.YG]);case 1:return [2,k.ub()];case 2:throw (h=k.ub(),m.WSa.S2b(h) && this.OHb.hg(h),g.M && this.console.trace("Removing broken viewable entry due to error",this.j1),this.events.emit("error",{error:h}),h);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.TWa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mMb={uw:["minInitVideoBitrate",-Infinity],lAa:["minHCInitVideoBitrate",-Infinity],lC:["maxInitVideoBitrate",Infinity],M_:["minInitAudioBitrate",-Infinity],K_:["minHCInitAudioBitrate",-Infinity],x_:["maxInitAudioBitrate",Infinity],nda:["minAcceptableVideoBitrate",-Infinity],I_:["minAcceptableVMAF",0],I6b:["minAcceptableVMAFRebufferScalingFactor",0],kAa:["minAllowedVideoBitrate",-Infinity],K5b:["maxAllowedVideoBitrate",Infinity],GK:["minAllowedVmaf",-Infinity],reb:["maxAllowedVmaf",Infinity],yS:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],x$:["enableResolutionVMAFStreamFilter",!1],NBa:["percentCapTitlesForResolutionVMAFStreamFilter",100],zfa:["resolutionVMAFCappingRuleList",[]],Sab:["ignoreUserFilterOnEmptyResult",!0],YF:["minRequiredBuffer",2E4],vda:["minRequiredAudioBuffer",0],Ak:["minPrebufSize",5800],rda:["minCheckBufferingCompleteInterval",200],v$:["enableMoreFrequentBufferingCompleteCheck",!1],oAa:["minimumBufferingCompleteInterval",1E4],ufa:["requireDownloadDataAtBuffering",!1],gbb:["indicatorForDownloadDataAtBuffering","oncomplete"],vfa:["requireSetupConnectionDuringBuffering",!1],ZCa:["rebufferingFactor",1],fu:["maxBufferingTime",2E3],YGa:["useMaxPrebufSize",!0],WF:["maxPrebufSize",4E4],Sza:["maxRebufSize",Infinity],aUb:["fastRebufferRecoveryThreshold",Infinity],$Tb:["fastRebufferRecoverBwThrehold",3E3],Kba:["initialBitrateSelectionCurve",null],lbb:["initSelectionLowerBound",-Infinity],mbb:["initSelectionUpperBound",Infinity],n2:["throughputPercentForAudio",15],eqa:["bandwidthMargin",0],gqa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],p1a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,gB:76376,scale:18862.4,gamma:3.0569}],fqa:["bandwidthMarginContinuous",!1],q1a:["bandwidthMarginForAudio",!0],UFa:["switchConfigBasedOnInSessionTput",!0],Pra:["conservBandwidthMargin",20],oX:["conservBandwidthMarginTputThreshold",6E3],Qra:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],Nnb:["switchAlgoBasedOnHistIQR",!1],MG:["switchConfigBasedOnThroughputHistory","iqr"],Rza:["maxPlayerStateToSwitchConfig",-1],qza:["lowEndMarkingCriteria","iqr"],Kja:["IQRThreshold",.5],Wwa:["histIQRCalcToUse","simple"],Cv:["bandwidthManifold",{curves:[{min:.05,max:.82,gB:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,gB:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],gu:["maxTotalBufferLevelPerSession",0],Fab:["highWatermarkLevel",3E4],wob:["toStableThreshold",3E4],Uga:["toUnstableThreshold",0],mFa:["skipBitrateInUpswitch",!1],oHa:["watermarkLevelForSkipStart",8E3],kFa:["simulationDurationStrategy","default"],lhc:["simulationFullBufferPercentage",1],tfb:["minSimulationDuration",2E4],Tza:["maxSimulationDuration",3E5],TGa:["upperThroughputPredictionFactor",1.6],Qwa:["highStreamRetentionWindow",9E4],rza:["lowStreamTransitionWindow",51E4],Swa:["highStreamRetentionWindowUp",5E5],tza:["lowStreamTransitionWindowUp",1E5],Rwa:["highStreamRetentionWindowDown",6E5],sza:["lowStreamTransitionWindowDown",0],Pwa:["highStreamInfeasibleBitrateFactor",.5],fC:["lowestBufForUpswitch",9E3],m_:["lockPeriodAfterDownswitch",15E3],vza:["lowWatermarkLevel",15E3],gC:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],wza:["lowestWaterMarkLevelBufferRelaxed",!1],ida:["mediaRate",1.5],Zca:["maxTrailingBufferLen",15E3],HW:["audioBufferTargetAvailableSize",262144],M2:["videoBufferTargetAvailableSize",1048576],Peb:["maxVideoTrailingBufferSize",8388608],teb:["maxAudioTrailingBufferSize",393216],N$:["fastUpswitchFactor",3],cUb:["fastUpswitchFactorWithoutHeaders",3],bUb:["fastUpswitchFactorForNextSegment",1],Vta:["fastDownswitchFactor",3],qw:["maxMediaBufferAllowed",27E4],xwc:["minMediaBufferLen",1E4],jFa:["simulatePartialBlocks",!0],Amb:["simulateBufferFull",!0],khc:["simulateStreamsAcrossMultipleSegments",!0],Rra:["considerConnectTime",!0],Ora:["connectTimeMultiplier",1],u4b:["liveDvrSwitchThresholdms",1E4],Sdb:["lowGradeModeEnterThreshold",12E4],Tdb:["lowGradeModeExitThreshold",9E4],web:["maxDomainFailureWaitDuration",3E4],seb:["maxAttemptsOnFailure",18],U6a:["exhaustAllLocationsForFailure",!0],Eeb:["maxNetworkErrorsDuringBuffering",20],Rca:["maxBufferingTimeAllowedWithNetworkError",6E4],vO:["alwaysRunUnderflowTimer",!0],c7a:["fastDomainSelectionBwThreshold",2E3],aob:["throughputProbingEnterThreshold",4E4],bob:["throughputProbingExitThreshold",34E3],Idb:["locationProbingTimeout",1E4],j7a:["finalLocationSelectionBwThreshold",1E4],Znb:["throughputHighConfidenceLevel",.75],$nb:["throughputLowConfidenceLevel",.4],bza:["locationStatisticsUpdateInterval",6E4],R4b:["locationSelectorPersistFailures",!0],y6a:["enablePerfBasedLocationSwitch",!1],gwc:["maxRateMaxFragmentGroups",4500],SBa:["pipelineScheduleTimeoutMs",2],mC:["maxPartialBuffersAtBufferingStart",2],Q6b:["minPendingBufferLen",3E3],Xca:["maxPendingBufferLen",6E3],ISb:["enableNginxRateLimit",!1],Nda:["nginxSendingRate",4E4],MSb:["enableRequestPacingToken",!1],o6b:["mediaRequestPacingSpeed",2],yxa:["initialMediaRequestToken",2E4],Pca:["maxActiveRequestsSABCell100",2],Geb:["maxPendingBufferLenSABCell100",500],xkb:["resetActiveRequestsAtSessionInit",!0],s$:["enableCprAudio",!1],t$:["enableCprVideo",!1],tSb:["enableCprAudioNonPipelined",!1],uSb:["enableCprVideoNonPipelined",!0],W2a:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],dnb:["staticPacingRateKbps",0],U9b:["paceRateSelectorAlgorithm","default"],V9b:["paceRateSelectorAlgorithmNonPipelined","default"],x6a:["enablePaceReportLogging",!1],Akc:["unpacedFragmentInterval",0],a1b:["ignorePacedRequestStrategy","none"],r0:["pacedThresholdPct",.1],ita:["effectivePaceRateFactor",1],ddc:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],X9b:["pacingTargetBufferStrategy","implicit"],Yic:["targetBufferLevelStddevMultiplier",1],Xic:["targetBufferLevelDurationMs",0],R6b:["minTargetBufferLevelMs",27E4],AFa:["stddevPredictorMultiplier",-.3],BFa:["stddevPredictorUpperMultiplier",2],Whc:["stddevPredictorSource","deliverytime"],nra:["ciPredictorSource","throughput-ci"],r6a:["enableInitialTputLogging",!1],q6a:["enableInitialThroughputHistory",!1],Uza:["maxStreamingSkew",2E3],N5b:["maxBufferOccupancyForSkewCheck",Infinity],ylc:["useBufferOccupancySkipBack",!0],Pza:["maxPendingBufferPercentage",10],Jeb:["maxRequestsInBuffer",120],uba:["headerRequestSize",4096],zta:["estimateHeaderSize",!0],lvc:["headerCacheEstimateHeaderSize",!1],Jda:["neverWipeHeaderCache",!1],Ilc:["useSidxInfoFromManifestForHeaderRequestSize",!1],$9b:["parseAdditionalBoxesMp4Header",!0],e7a:["fastPlayHeaderRequestSize",0],KQ:["maxRequestSize",0],HK:["minRequestSize",65536],J_:["minBufferLenForHeaderDownloading",1E4],Jmb:["smartHeaderPreDownloading",!1],pSb:["enableAllHeadersPreDownloading",!1],Nwc:["onlyAllowPtsUpdatePolling",!1],S6b:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],o1:["reserveForSkipbackBufferMs",15E3],QAa:["numExtraFragmentsAllowed",2],nj:["pipelineEnabled",!0],JQ:["maxParallelConnections",3],Elc:["usePipelineForAudio",!1],Dlc:["usePipelineDetectionForAudio",!1],Glc:["usePipelineForText",!0],Kmb:["socketReceiveBufferSize",0],P8:["audioSocketReceiveBufferSize",32768],YS:["videoSocketReceiveBufferSize",65536],hjc:["textSocketReceiveBufferSize",32768],Ypb:["usePipelineDetectionForVideo",!1],W6b:["minVideoSocketReceiveBufferSize",65536],Nwa:["headersSocketReceiveBufferSize",32768],Igc:["shareDownloadTracks",!0],Jgc:["shareOpenRangeTracks",!1],Enb:["supportOpenRangeRequests",!0],hRb:["disableHeaderDownloadTracks",!1],nAa:["minTimeBetweenHeaderRequests",void 0],kha:["updatePtsIntervalMs",1E3],sqa:["bufferTraceDenominator",0],XW:["bufferLevelNotifyIntervalMs",2E3],LFa:["streamingStatusIntervalMs",2E3],DC:["prebufferTimeLimit",6E4],qda:["minBufferLevelForTrackSwitch",2E3],KSb:["enablePenaltyForLongConnectTime",!1],KBa:["penaltyFactorForLongConnectTime",2],nza:["longConnectTimeThreshold",200],tpa:["additionalBufferingLongConnectTime",2E3],upa:["additionalBufferingPerFailure",8E3],W0:["rebufferCheckDuration",6E4],v6a:["enableLookaheadHints",!1],Qdb:["lookaheadFragments",2],$E:["enableOCSideChannel",!0],cQb:["decryptOCSideChannelMinInterval",1E3],dQb:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],zCa:["probeRequestTimeoutMilliseconds",3E4],exc:["probeRequestConnectTimeoutMilliseconds",8E3],p5:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],NSb:["enableSCByteRangeHints",!1],qpb:["updateDrmRequestOnNetworkFailure",!0],veb:["maxDiffAudioVideoEndPtsMs",1E3],xQb:["deferAseHeaderCache",!1],g5a:["deferAseScheduling",!1],gob:["timeBeforeEndOfStreamBufferMark",6E3],Tca:["maxFastPlayBufferInMs",2E4],P5b:["maxFastPlayContentTimeThresholdMs",112E3],Mza:["maxFastPlayBitThreshold",2E8],Kza:["maxBufferingCompleteBufferInMs",Infinity],sJb:["bufferingCompleteOnMemoryLimit",!1],oda:["minAudioMediaRequestSizeBytes",0],xda:["minVideoMediaRequestSizeBytes",0],M5b:["maxAudioMediaRequestSizeBytes",Infinity],e6b:["maxVideoMediaRequestSizeBytes",Infinity],U5b:["maxMediaRequestSizeBytesInFraction",1],Qy:["minAudioMediaRequestDuration",0],qC:["minVideoMediaRequestDuration",0],tda:["minMediaRequestDuration",0],L5b:["maxAudioMediaRequestDuration",Infinity],d6b:["maxVideoMediaRequestDuration",Infinity],Vca:["maxMediaRequestDuration",Infinity],ypa:["allowFirstRequestAggregation",!1],L6b:["minAudioMediaRequestDurationCache",0],U6b:["minVideoMediaRequestDurationCache",0],Spb:[["useHeaderCache","usehc"],!0],WGa:[["useHeaderCacheData","usehcd"],!0],X9:["defaultHeaderCacheSize",4],a5a:["defaultHeaderCacheDataCount",4],W9:["defaultHeaderCacheDataPrefetchMs",0],l0b:["headerCacheMaxPendingData",6],mvc:["headerCachePriorityLimit",5],zab:["headerCacheAdoptBothAV",!1],Flc:["usePipelineForBranchedAudio",!0],gLb:["childBranchBatchedAmount",1E4],UQ:["minimumTimeBeforeBranchDecision",2E3],Y6b:["minimumAppendedMediaBeforePlayback",5E3],Twc:["parallelBranchesDuringBuffering",!1],X5b:["maxRequestsToAttachOnBranchActivation",void 0],N_:["minimumJustInTimeBufferLevel",3E3],BSb:["enableJustInTimeAppends",!1],D0a:["appendPacingFactor",0],wHb:["appendPacingThreshold",3E3],m6a:["enableDelayedSeamless",!1],itc:["branchEndPtsIntervalMs",250],b1b:["ignorePtsJustBeforeCurrentSegment",!1],Aeb:["maxFragsForFittableOnBranching",300],s$b:["pausePlaylistAtEnd",!0],fGb:["adaptiveParallelTimeoutMs",1E3],nP:["enableAdaptiveParallelStreaming",!1],rqa:["bufferThresholdToSwitchToSingleConnMs",45E3],qqa:["bufferThresholdToSwitchToParallelConnMs",35E3],lSb:["enableAPSForBranching",!1],Dha:["waitForPendingConnAdaptation",!1],xAa:["networkFailureResetWaitMs",2E3],wAa:["networkFailureAbandonMs",6E4],Yca:["maxThrottledNetworkFailures",5],Mga:["throttledNetworkFailureThresholdMs",200],uza:["lowThroughputThreshold",400],Mta:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],vjc:["timeAtEachBitrateRoundRobin",1E4],Cec:["roundRobinDirection","forward"],N0b:["httpsConnectErrorAsPerm",!1],Gfb:["mp4ParsingInNative",!1],kj:["enableManagerDebugTraces",!1],eeb:["managerDebugMessageInterval",1E3],deb:["managerDebugMessageCount",20],sgb:["notifyManifestCacheEom",!0],SSb:["enableUsingHeaderCount",!1],Nmb:["sourceBufferInOrderAppend",!0],nL:["requireAudioStreamToEncompassVideo",!1],n0a:["allowAudioToStreamPastVideo",!1],Q3a:["countGapInBuffer",!1],o0a:["allowCallToStreamSelector",!1],K1a:["bufferThresholdForAbort",2E4],FFa:["ase_stream_selector","optimized"],b1a:["audiostreamSelectorAlgorithm","selectaudioadaptive"],z4b:["liveStreamSelectorAlgorithm","livesimple"],ljc:["throughputDiscountForLive",.8],kjc:["throughputDiscountExponentBC",1.5],i_:["liveTargetBufferDuration",1E4],Eca:["liveEdgeCushion",6E3],Wya:["liveMaxTemporaryRequestErrorRetries",6],x4b:["liveInitialFetchSizeBytes",1024],djc:["temporaryRequestFailureRetryIntervalMs",500],u6a:["enableLiveTemporaryRequestRetries",!0],vxa:["initBitrateSelectorAlgorithm","default"],wqa:["bufferingSelectorAlgorithm","default"],hic:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],B6a:["enableThroughputTraceResearchData",!1],cob:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],jz:["researchEnvironmentEnabled",!1],PSb:["enableStreamSelectionAugmentData",!1],yIb:["augmentDataNumOfChunks",30],P4a:["ase_ls_failure_simulation",""],usa:["ase_dump_fragments",!1],wsa:["ase_location_history",0],Q4a:["ase_throughput",0],S4a:["ase_simulate_verbose",!1],vBa:["paddingDurationMs",1E3],wBa:["paddingMediaType","padding"],Th:["stallAtFrameCount",void 0],Smb:["stallAtFrameCountAudio",void 0],Fza:["marginPredictor","simple"],Opb:["useBackupUnderflowTimer",!0],G7b:["noDuplicateUnderflowTimer",!1],Jyc:["useManifestDrmHeader",!0],Kyc:["useOnlyManifestDrmHeader",!0],yAa:["networkMeasurementGranularity","video_location"],w7b:["netIntrStoreWindow",36E3],Ewc:["minNetIntrDuration",8E3],kBb:["fastHistoricBandwidthExpirationTime",10368E3],PBb:["bandwidthExpirationTime",5184E3],jBb:["failureExpirationTime",86400],rZa:["historyTimeOfDayGranularity",4],fBb:["expandDownloadTime",!0],ECb:["minimumMeasurementTime",500],DCb:["minimumMeasurementBytes",131072],YDb:["throughputMeasurementTimeout",2E3],XDb:["initThroughputMeasureDataSize",262144],mCb:["historicBandwidthUpdateInterval",2E3],Ksc:["throughputPredictor","ewma"],jEa:["secondThroughputEstimator","slidingwindow"],hlb:["secondThroughputMeasureWindowInMs",3E5],Jsc:["throughputMeasureWindow",5E3],Lsc:["throughputWarmupTime",5E3],Isc:["throughputIQRMeasureWindow",1E3],ssc:["IQRBucketizerWindow",15E3],Beb:["maxIQRSamples",100],pfb:["minIQRSamples",5],Fsc:["connectTimeHalflife",10],ysc:["responseTimeHalflife",10],uYa:["historicThroughputHalflife",14400],tYa:["historicResponseTimeHalflife",100],sYa:["historicHttpResponseTimeHalflife",100],nNa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],dZa:["minReportedNetIntrDuration",4E3],Hsc:["throughputBucketMs",500],vsc:["bucketHoltWintersWindow",2E3],YAb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],gBb:["experimentalFilter",["throughput-wssl"]],LZa:["reportedFilters",[]],kna:["filterDefinitionOverrides",{}],OAb:["defaultFilter","throughput-ewma"],PAb:["defaultFilterField","average"],EEb:["secondaryFilter","throughput-sw"],Tma:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],WSb:["enableWsslEstimate",!1],jwc:["maxWsslRequestSize",131072],iwc:["maxWsslRequestRatio",.2],Rqb:["wsslAggregationMethod","max"],cY:["enableSessionHistoryReport",!0],hta:["earlyStageEstimatePeriod",1E4],ldb:["lateStageEstimatePeriod",3E4],Wca:["maxNumSessionHistoryStored",10],wda:["minSessionHistoryDuration",3E5],v0b:["highAndStableModelName","baseline"],nta:["enableHighAndStablePredictor",!1],uda:["minNumSessionHistory",5],dtc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],wba:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],w0b:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],hpa:["addHeaderDataToNetworkMonitor",!0],uFa:["startMonitorOnLoadStart",!1],tDa:["reportFailedRequestsToNetworkMonitor",!1],xea:["periodicHistoryPersistMs",0],Mfa:["saveVideoBitrateMs",0],R_:["needMinimumNetworkConfidence",!0],jqa:["biasTowardHistoricalThroughput",!1],V4b:["logMemoryUsage",!1],Fw:["probeServerWhenError",!0],TA:["allowSwitchback",!0],ER:["probeDetailDenominator",100],Sca:["maxDelayToReportFailure",300],uO:["allowParallelStreaming",!1],owc:["mediaPrefetchDisabled",!1],mfb:["minBufferLevelToAllowPrefetch",5E3],aS:["seamlessAudio",!1],Fxc:["seamlessAudioProfiles",[]],Gxc:["seamlessAudioProfilesAndTitles",{}],hEa:["seamlessAudioMaximumSyncError",void 0],iEa:["seamlessAudioMinimumSyncError",void 0],zbb:["insertSilentFrames",0],Gxa:["insertSilentFramesOnSeek",!1],Abb:["insertSilentFramesOnSeekForTitles",[]],S1b:["insertSilentFramesOnSeekCount",3],Muc:["forceDiscontinuityAtTransition",!0],RFa:["supportAudioResetOnDiscontinuity",void 0],Gic:["supportAudioEasingOnDiscontinuity",void 0],ZRb:["editCompleteFragments",!0],Z6b:["minimumAudioFramesPerFragment",1],GI:["applyProfileTimestampOffset",!1],Hm:["applyProfileStreamingOffset",!0],Tib:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}},"heaac-5.1-dash":{192:{ticks:-3268,timescale:48E3}}}],tIb:["audioProfilesNonSyncSamples",["xheaac-dash"]],jkc:["truncateEndOfStreamAudio",!1],Alc:["useDpiAssumedAacEncoderDelay",!0],F_:["mediaSourceSupportsNegativePts",!1],TQ:["minAudioPtsGap",void 0],rIb:["audioOverlapGuardSampleCount",2],A6a:["enableRecordJSBridgePerf",!1],Qja:["JSBridgeTDigestConfig",{maxc:25,c:.5}],qjc:["throughputThresholdSelectorParam",0],vlc:["upswitchDuringBufferingFactor",2],oHb:["allowUpswitchDuringBuffering",!1],F3a:["contentOverrides",void 0],Ura:["contentProfileOverrides",void 0],Vwa:["hindsightDenominator",0],Uwa:["hindsightDebugDenominator",0],xba:["hindsightAlgorithmsEnabled",[]],yba:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],C0a:["appendMediaRequestOnComplete",!1],Cha:["waitForDrmToAppendMedia",!1],tmc:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],baa:["forceAppendHeadersAfterDrm",!1],xsa:["declareBufferingCompleteAtSegmentEnd",!1],My:["maxActiveRequestsPerSession",void 0],Tya:["limitAudioDiscountByMaxAudioBitrate",!1],Epa:["appendFirstHeaderOnComplete",!0],Z1:["strictBufferCapacityCheck",!1],yO:["aseReportDenominator",0],G8:["aseReportIntervalMs",3E5],LHb:["aseReportMaxStreamSelections",400],xdb:["liveReportSendIntervalMs",6E4],Yya:["liveReportCollectIntervalMs",5E3],pGa:["translateToVp9Draft",!1],pDa:["reorderTrakMvex",!1],BS:["switchableAudioProfiles",[]],uIb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],Onb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],vIb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Neb:["maxStartingVideoVMAF",110],vw:["minStartingVideoVMAF",1],pW:["activateSelectStartingVMAF",!1],Vfa:["selectStartingVMAFTDigest",-1],cS:["selectStartingVMAFMethod","fallback"],nlb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],rR:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],iRb:["disablePtsStartsEvent",!0],aDa:["recordFirstFragmentOnSubBranchCreate",!0],Ueb:["mediaCacheConvertToBinaryData",!1],Wza:["mediaCacheSaveOneObject",!1],peb:["markRequestActiveOnFirstByte",!1],yga:["stopOnAllInactiveRequests",!1],h6a:["enableActiveRequestsInFilters",!1],r$:["earlyAppendSingleChildBranch",!0],TS:["useNativeDataViewMethods",!0],zlc:["useCorrectDrainingAmounts",!0],w$:["enableNewAse",!1],pha:["useNewApi",!1],JHb:["aseDiagnostics",[{ke:"queue-audit",enabled:!0},{ke:"task-audit",enabled:!0},{ke:"trace-ShimSession",enabled:!0},{ke:"trace-engine",enabled:!0},{ke:"trace-RequestPacer",enabled:!0},{ke:"trace-BufferStateTracker",enabled:!0},{ke:"trace-GraphStreamingProcess",enabled:!0},{ke:"trace-AsePlaygraph",enabled:!0},{ke:"playgraph-branch-audit",enabled:!0},{ke:"content-playgraph",enabled:!0},{ke:"trace-CphAsePlaygraph",enabled:!0},{ke:"trace-GraphLocation",enabled:!0},{ke:"cache-ads::gls",enabled:!0},{ke:"cache-content::gls",enabled:!0}]],qSb:["enableAseReporting",!0],hJb:["branchDistanceThreshold",6E4],Qca:["maxAllowedOutstandingRequests",4],mAa:["minStreamableConcurrencyWindow",3E3],a6b:["maxStreamableConcurrencyWindow",Infinity],IFa:["streamableConcurrencyFactor",.3],$W:["bufferingConcurrencyWindow",7800],nqa:["branchCreationThreshold",12E4],u$:["enableDiscontiguousBuffering",!1],Aua:["forceImmediateTransitionTypeForTitles",[]],zua:["forceImmediateTransitionExitZone",0],Vra:["contiguousBufferMultiplier",3],K3a:["contiguousBufferMinimumAudio",1048576],M3a:["contiguousBufferMinimumVideo",8388608],L3a:["contiguousBufferMinimumText",0],aJb:["blockingHeaderRequestsBlockOtherGroups",!1],Lac:["prefetchBudgetInBytes",0],Cjb:["rebufferRiskHalfLife",1E4],nha:["useBufferSizeLimiter",!1],Jlc:["useStaticBufferSizeLimiter",!1],Oac:["prefetchWeightBudget",32],pAa:["minimumDownstreamBranchProbability",.075],VGa:["useExitZones",!0],Pac:["prefetchWhilePlaying",!0],Uac:["prefetcherSoftReset",!0],mac:["playgraphDefaultWeight",65520],AQb:["delayNotificationOfEoS",!1],t6b:["memDeadlockShouldCheckMemory",!0],s6b:["memDeadlockOverageThreshold",.9],r6b:["memDeadlockMaxUtilizationPercentage",.5],hac:["playerPtsPadding",1],wwc:["minFragmentVmaf",void 0],ZX:["enableCombinedPlaygraphs",!0],uJ:["enableAdPlaygraphs",!0],z6a:["enablePrerollForInitialSeek",!1],x5a:["disablePrerollOn43Seek",!1],XGa:["useLegacyFragmentRounding",!1],Nta:["excludedContentPlaygraphIds",[]],X$a:["graphSelectorSetAudioRate",!1],VSb:["enableVmafEstimationFromBitrate",!1],b6b:["maxVMAFMappingBitrate",16E3],c6b:["maxVMAFMappingVMAF",110],CKb:["cdndldistEnabled",!1],RC:["segmentFadeDuration",400],Pfa:["segmentFadeInDuration",-1],Qfa:["segmentFadeOutDuration",-1],LQ:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],Afa:["retainSbrOnFade",!1],ybb:["insertSilentFrameOnFade",!0],y9b:["optimizeEditedFragments",!1],Lnb:["supportsPtsChanged",!0],oSb:["enableAdLruCaches",!1],T0a:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],DSb:["enableLiveRequestLogger",!1]};b.bh=b.mMb;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bA=b.yH=b.dv=b.GQ=b.Qla=void 0;c=a(0);l=a(75);Object.defineProperties(b,{yH:{enumerable:!0,get:function(){return l.yH;}}});Object.defineProperties(b,{bA:{enumerable:!0,get:function(){return l.bA;}}});Object.defineProperties(b,{GQ:{enumerable:!0,get:function(){return l.GQ;}}});Object.defineProperties(b,{Qla:{enumerable:!0,get:function(){return l.Qla;}}});g=c.__importDefault(a(3));r=(function(m){function d(f,h,k,n,p){return m.call(this,d.console,f,h,k,n,p) || this;}c.__extends(d,m);Object.defineProperties(d,{console:{get:function(){return this.H || (this.H=new g.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(l.dv);b.dv=r;},function(r,b,a){var l,g,m,d;function c(f){return g.If.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oNa=void 0;r=a(0);l=a(1);g=a(47);m=a(33);a=a(46);la(c,g.If);Va.Object.defineProperties(c.prototype,{oib:{configurable:!0,enumerable:!0,get:function(){return !0;}},Qy:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},qC:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},Kab:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},vw:{configurable:!0,enumerable:!0,get:function(){return 80;}},zpa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([a.config(a.Dd,"playsInline")],d.prototype,"oib",null);r.__decorate([a.config(a.FF,"minAudioMediaRequestDuration")],d.prototype,"Qy",null);r.__decorate([a.config(a.FF,"minVideoMediaRequestDuration")],d.prototype,"qC",null);r.__decorate([a.config(a.FF,"hlsVideoMediaRequestTargetDuration")],d.prototype,"Kab",null);r.__decorate([a.config(a.FF,"minStartingVideoVMAF")],d.prototype,"vw",null);r.__decorate([a.config(a.Dd,"allowMultipleAudioTextTracks")],d.prototype,"zpa",null);d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.vn))],d);b.oNa=d;},function(r,b,a){var l,g;function c(m){this.qa=m.fb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;r=a(0);l=a(1);a=a(7);c.prototype.RWb=function(m){var f,h,k,n,p,q,v;function d(t,w,u){var x,y,z;x=t.map(function(B){return B.Mh;});x.sort(function(B,A){return w[B] - w[A];});if(1 === x.length)(!1,k.set(u,{DR:t[0],Nfa:t[0]}));else {y=x.find(function(B){return f.has(B);});y || ((y=x.find(function(B){return !h.has(B);}))?f.add(y):(y=x[0],!1));z=x.find(function(B){return h.has(B) && B !== y;});z || ((z=x.find(function(B){return !f.has(B) && B !== y;}))?h.add(z):(z=x.find(function(B){return B !== y;}),!1));k.set(u,{DR:t.find(function(B){return B.Mh === y;}),Nfa:t.find(function(B){return B.Mh === z;})});}}f=new Set();h=new Set();k=new Map();n=m.video;p=m.audio;q=m.text;v=m.qm.reduce(function(t,w){t[w.id]=w.vc;return t;},{});n.forEach(function(t){t=t.stream;d(t.urls,v,t.ep);});p.forEach(function(t){t=t.stream;d(t.urls,v,t.ep);});q.forEach(function(t){var w,u;if(!t.track.JF || t.track.bca){w=t.stream;t=t.id;u=w.urls.reduce(function(x,y,z){x[y.Mh]=z + 1;return x;},{});d(w.urls,u,t);}});return k;};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.jb))],g);b.UJa=g;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t){this.vg=n;this.eC=p;this.Rg=q;this.Ic=v;this.Ia=t;}Object.defineProperty(b,"__esModule",{value:!0});b.eU=void 0;r=a(0);l=a(1);g=a(18);m=a(7);d=a(50);f=a(201);h=a(87);k=a(1202);c.prototype.create=function(n){return new k.gU(this.vg,this.eC,this.Rg,this.Ia,this.Ic,n);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(h.Xz)),r.__param(2,(0,l.l)(d.Fo)),r.__param(3,(0,l.l)(f.eka)),r.__param(4,(0,l.l)(g.jd))],a);b.eU=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t,w){var u;u=this;this.eC=p;this.Rg=q;this.Ia=v;this.Ic=t;this.hAa=this.GF=this.h1=0;this.rK=!1;this.pC=function(){var x;x=u.z0();x.prstate=u.NB();x.paustate=u.j.lw();x.midplayseq=u.hAa++;u.Ic.jQ(x);u.Dc(l.Wc.pC,void 0,k.Ie | k.fv,x);};this.gj=function(){u.Dc(l.Wc.A1a,void 0,k.Ie | k.gr,{});};this.jn=function(x){u.Kya=u.getTime();u.Lya=x.oldValue;};this.MW=function(x){u.xya=x.oldValue;};this.uea=function(x){x != u.rK && (u.yFa(u.rK,x),u.rK=x);};this.yFa=function(x,y){var z;z=u.j.Ga;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};u.Ic.fs(x,z.Qe.value && z.Qe.value.stream,z.gg.value && z.gg.value.stream);u.Dc(l.Wc.W1,void 0,k.Ie,x);};this.Q1=function(x){u.Dc(l.Wc.Rmb,void 0,k.Ie,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.aD=function(x){var y,z,B;y=u.j.Ga;z=y.Ob.value;if(x.newValue || z && z.Iq() && !z.up()){B=(x=null !== (B=x.newValue) && void 0 !== B?B:z)?{trackId:x.trackId,bcp47:x.Of,downloadableId:x.Tb,rank:x.vc,isImageBased:x.am}:{};x=(x=u.Lya)?{trackId:x.trackId,bcp47:x.Of,downloadableId:x.Tb,rank:x.vc,isImageBased:x.am}:{};B={switchdelay:(0,g.sg)(u.getTime() - u.Kya),track:B,oldtrack:x};u.Ic.fs(B,y.Qe.value && y.Qe.value.stream,y.gg.value && y.gg.value.stream);u.Dc(l.Wc.pob,void 0,k.Ie,B);}};this.VBa=function(x,y){var z;z=u.j.Ga;x={waittime:(0,g.sg)(x),abortedevent:"resumeplay",resumeplayreason:y};u.Ic.fs(x,z.Hf.value,z.bi.value);u.Dc(l.Wc.uR,void 0,k.Ie | k.gr,x);};this.Ow=function(x,y,z){x={playdelay:(0,g.sg)(x),reason:z,intrplayseq:u.GF - 1,skipped:y};"repos" === z && (x.prstate=!0 === u.j.pj.value?"playing":"paused");u.Dc(l.Wc.Ow,void 0,k.Ie | k.ev,x);};this.Wpa=function(){var x,y,z,B;y=u.j.Ga.Gc.value;z=u.j.Ga.bi.value.Tb;y=y?{trackId:y.trackId,bcp47:y.Of,downloadableId:z,rank:y.vc,chan:y.channels}:{};z=u.aC;B=null === (x=u.xya) || void 0 === x?void 0:x.Tb;x=z?{trackId:z.trackId,bcp47:z.Of,downloadableId:B,rank:z.vc,chan:z.channels}:{};u.Dc(l.Wc.d1a,void 0,k.Ie,{switchdelay:(0,g.sg)(u.getTime() - u.yya),track:y,oldtrack:x});};this.Jn=function(x){u.yya=u.getTime();u.aC=x.oldValue;};this.WBa=function(){var x,y,z;x=u.j.Ga;y={abortedevent:"startplay",trackid:x.Gl,prstate:u.NB(),paustate:u.j.lw()};try{z=(0,m.TJ)();z && (y.pdltime=z);(0,g.Pe)(y,x.yd,{prefix:"sm_"});}catch(B){}u.Ic.Gba(y,x);u.Ic.kQ(y,!1,x.Uh.value,x);u.Ic.fs(y,x.Hf.value,x.bi.value);u.bK(y);u.Dc(l.Wc.uR,void 0,k.Ie | k.fv | k.gr,y);};this.iB=function(x,y,z,B){x={moff:(0,g.Vn)(z),moffms:(0,g.sg)(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.Tb,vdlidold:x.Tb,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:B};u.Dc(l.Wc.iB,void 0,0,x);};this.wG=function(x,y,z){x={moffold:(0,g.Vn)(x),reposseq:u.h1++,prstate:u.NB(),paustate:u.j.lw()};u.Ic.fs(x,z && z.stream,y && y.stream);u.Dc(l.Wc.wG,void 0,k.Ie,x);};this.Du=function(x){var y,z,B,A,C;A=x.Ga;C={playdelaysdk:(0,g.sg)(u.j.cX()),applicationPlaydelay:(0,g.sg)(u.j.Kqa()),playdelay:(0,g.sg)(u.j.Oqa()),trackid:A.Gl,bookmark:(0,g.sg)(A.Kn || 0),pbnum:A.index};u.j.gj && (C.blocked=u.j.gj);C.initvbitrate=u.j.BZ;u.Ic.nxa(C);u.Ic.Zab(C);C.esnSource=null === (y=mb._cad_global.device) || void 0 === y?void 0:y.C$;u.fbb(C,A);C.pdltime=(0,m.TJ)();(0,g.Pe)(C,A.yd,{prefix:"sm_"});C.ttTrackFields=null === (z=A.Ob.value) || void 0 === z?void 0:z.Ch;u.Ic.Vab(C,A.Gc.value,A);u.Ic.kQ(C,!0,A.Uh.value,A);C.packageId=null === (B=A.ba) || void 0 === B?void 0:B.Ra.Bp;u.Ic.jQ(C);u.Ic.Gba(C,A);u.bK(C);u.Dc(l.Wc.Du,x.Ki,k.Ie | k.ev | k.fv | k.iH | k.gr,C);};this.DB=function(){var x,y,z;x=u.j;y=x.Ga;x=x.Ki;z=u.z0();z.paustate=!u.j.js();z.muted=u.j.Yxa();z.endreason=x?"error":u.j.Nxa()?"ended":"stopped";u.Ic.kQ(z,!1,y.Uh.value,y);u.Ic.jQ(z);u.bK(z);u.Dc(l.Wc.DB,x,k.Ie | k.ev | k.fv | k.iH | k.gr,z);};this.nDa=function(x,y,z){var B;B=u.j.Ga.gg;x={moff:(0,g.Vn)(z),moffms:(0,g.sg)(z),vdlidold:x.Tb,vbitrateold:x.bitrate};u.Ic.fs(x,y,B.value && B.value.stream);u.Dc(l.Wc.e1,void 0,0,x);};this.NB=function(){var x;x=u.j.Db.value;return x === f.nb.Xc?"playing":x === f.nb.bj?"paused":x === f.nb.Os?"ended":"waiting";};this.qa=n.fb("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.gU=void 0;l=a(282);g=a(23);m=a(44);d=a(4);f=a(16);h=a(5);c.prototype.getTime=function(){return this.Ia.Rb().ia(h.va);};c.prototype.dwa=function(){return this.getTime() - this.j.Ga.oj.ia(h.va);};c.prototype.fbb=function(n,p){var q;if(p=null === (q=p.Uh.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,m.nT)(p.map(function(v){return v.bitrate;})),n.maxresheight=(0,m.nT)(p.map(function(v){return v.height;})));};c.prototype.bK=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.z0=function(){var n,p,q,v;n=this.j.Ga;p=n.Ym;q={totaltime:(0,g.Vn)(p.Zr()),totalcontenttime:(0,g.Vn)(p.dZ()),reposcount:this.h1,intrplaycount:this.GF};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});v=n.Hf.value;v && (q.videofr=v.framerate.toFixed(3));(v=p.Uua()) && (q.abrdel=v);(v=p.tba() && p.v8a()) && (q.tw_vmaf=v);(p=p.t8a()) && (0,g.Pe)(q,p);q.rbfrs=this.GF;this.fbb(q,n);return q;};c.prototype.Dc=function(n,p,q,v){var t,w,u;t=this;p && (0,d.Y3)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.Ca,this.dwa(),void 0) && (w="info");u=this.j.Ga;this.dpa(v,p,q);p=w || (p?"error":"info");v=this.eC.Iv(n,p,v,u);this.Rg.Dc(v);"error" !== p && n !== l.Wc.DB || this.Rg.flush(!1).catch(function(){t.qa.debug("Failed to flush the logblobs");});};c.prototype.dpa=function(n,p,q){var v;v=this.j.Ga;this.Ic.Yab(n,v);q & k.Ie && this.Ic.bbb(n,v,!1);q & k.ev && this.Ic.dbb(n,v);q & k.fv && this.Ic.ebb(n,this.j.mp());p && q & k.iH && this.Ic.$ab(n,v,p);q & k.gr && this.Ic.nxa(n);};b.gU=c;(function(n){n[n.Ie=1]="MOFF";n[n.ev=2]="PRESENTEDSTREAMS";n[n.fv=4]="SCREEN";n[n.iH=8]="FATALERROR";n[n.gr=16]="BROWSERINFO";})(k || (k={}));},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t){this.Rg=n;this.config=p;this.za=q;this.Ia=v;this.lza=t;}Object.defineProperty(b,"__esModule",{value:!0});b.hU=void 0;r=a(0);l=a(1);g=a(18);m=a(27);d=a(11);f=a(50);h=a(484);k=a(1204);c.prototype.create=function(n){return new k.jU(n,this.Rg,this.config,this.Ia,this.lza.create(n));};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.Fo)),r.__param(1,(0,l.l)(d.wc)),r.__param(2,(0,l.l)(m.Jh)),r.__param(3,(0,l.l)(g.jd)),r.__param(4,(0,l.l)(h.fU))],a);b.hU=a;},function(r,b,a){var l,g,m;function c(d,f,h,k,n){var p;p=this;this.j=d;this.Rg=f;this.config=h;this.Ia=k;this.rb=n;this.gX=function(){p.uh();p.j.Ga.Dj.removeListener(p.aD);p.j.Ga.Ob.removeListener(p.rb.jn);p.j.Ga.Gc.removeListener(p.Jn);p.j.Ga.bi.removeListener(p.rb.MW);p.j.pj.removeListener(p.nib);p.j.QR.removeListener(p.sl);p.j.Ga.Qe.removeListener(p.K0);p.j.Db.removeListener(p.ey);p.j.Db.removeListener(p.NO);p.j.Ga.Hf.removeListener(p.T2);p.j.Ga.playbackRate.removeListener(p.rb.Q1);p.j.removeEventListener(m.Qa.closed,p.gX);p.j.removeEventListener(m.Qa.V8,p.rb.gj);};this.NO=function(){p.j.Db.value === m.nb.Xc && (p.j.Db.removeListener(p.NO),p.zw());};this.aD=function(q){p.qs && p.rb.aD(q);};this.sl=function(q){p.qs && void 0 !== q.newValue && (p.xu && p.er && p.rb.VBa(p.getTime() - p.er,p.xu),p.xu="repos",p.rb.wG(q.newValue,p.j.Ga.gg.value,p.j.Ga.Qe.value),p.er=p.getTime(),(0,g.Mg)(p.ey));};this.nib=function(q){p.qs && p.rb.uea(!q.newValue);};this.Jn=function(q){q.oldValue && (p.aC=q.oldValue,p.rb.Jn(q),p.xu="repos",p.er=p.getTime(),(0,g.Mg)(p.ey));};this.ey=function(){var q;if(p.er && p.j.Db.value !== m.nb.Dg){q=p.getTime() - p.er;p.rb.Ow(q,!1,p.xu);p.aC && p.aC != p.j.Ga.Gc.value && p.rb.Wpa();p.er=void 0;p.xu=void 0;}};this.zw=function(){p.qs || (p.qs=!0,p.rb.Du(p.j),p.wxa(),p.config().Nba && (p.YB=mb.setTimeout(function(){p.Rg.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.YB=void 0;},p.config().Nba)));};this.uh=function(){p.YB && (mb.clearTimeout(p.YB),p.YB=void 0);p.C2 && p.C2();p.qs?p.rb.DB():p.j.Ki?p.rb.Du(p.j):p.rb.WBa();};this.T2=function(q){q.oldValue && q.jj && q.jj.VI && p.rb.iB(q.oldValue,q.newValue,q.jj.VI,q.jj.TW);};this.K0=function(q){var v;if(q.newValue){v=q.newValue.stream;p.sK != v && (p.sK && v && p.rb.nDa(p.sK,v,q.newValue.Nn.startTime),p.sK=v);}};this.uga();}Object.defineProperty(b,"__esModule",{value:!0});b.jU=void 0;l=a(5);g=a(59);m=a(16);c.prototype.uga=function(){this.j.addEventListener(m.Qa.closed,this.gX);this.j.addEventListener(m.Qa.V8,this.rb.gj);this.j.Ga.Dj.addListener(this.aD);this.j.Ga.Ob.addListener(this.rb.jn);this.j.Ga.Gc.addListener(this.Jn);this.j.Ga.bi.addListener(this.rb.MW);this.j.pj.addListener(this.nib);this.j.QR.addListener(this.sl);this.j.Ga.Qe.addListener(this.K0);this.j.Db.addListener(this.ey);this.j.Db.addListener(this.NO);this.j.Ga.Hf.addListener(this.T2);this.j.Ga.playbackRate.addListener(this.rb.Q1);};c.prototype.getTime=function(){return this.Ia.Rb().ia(l.va);};c.prototype.wxa=function(){var d,f,h;d=this;h=[];this.config().ifb && (this.config().jfb.forEach(function(k){h.push(mb.setTimeout(d.rb.pC,k));}),this.config().mda && (f=mb.setInterval(this.rb.pC,this.config().mda)),this.C2=function(){h.forEach(function(k){mb.clearTimeout(k);});f && mb.clearInterval(f);});};b.jU=c;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.SL=void 0;r=a(1);c=a(1206);l=a(1207);g=a(485);m=a(486);b.SL=new r.Gd(function(d){d(m.ZVa).to(c.YVa);d(g.WVa).kn(new l.VVa());d(m.XVa).df(function(f){return function(){return f.zb.get(m.ZVa);};});});},function(r,b,a){var l,g,m,d;function c(f){this.config=f;this.lFa=g.Pa;this.oS=[];}Object.defineProperty(b,"__esModule",{value:!0});b.YVa=void 0;r=a(0);l=a(1);g=a(52);m=a(5);a=a(485);c.prototype.op=function(){var h;for(var f;0 < this.oS.length;){f=this.oS.shift();this.L_a(f);}f=void 0 === this.SX || void 0 === this.oJ?m.Pa:this.oJ.Ea(this.SX);h=f.Ccb()?0:this.lFa.ia(g.dH) / f.ia(m.va);return {cGa:Math.floor(h),kuc:f.ia(m.va)};};c.prototype.kGb=function(f){this.lFa=this.lFa.add(f.size);this.oS.push(f.FRb);for(this.oS.sort(function(h,k){return h.start.Jm(k.start);});this.oS.length > this.config.GRb;){f=this.oS.shift();this.L_a(f);}};c.prototype.L_a=function(f){void 0 === this.SX && (this.SX=f.start);void 0 !== this.oJ && 0 > this.oJ.Jm(f.start) && (this.SX=this.SX.add(f.start.Ea(this.oJ)));if(void 0 === this.oJ || 0 > this.oJ.Jm(f.end))this.oJ=f.end;};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.WVa))],d);b.YVa=d;},function(r,b,a){function c(l){this.GRb=void 0 === l?10:l;}Object.defineProperty(b,"__esModule",{value:!0});b.VVa=void 0;r=a(0);a=a(1);c=r.__decorate([(0,a.$)()],c);b.VVa=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.cp=void 0;r=a(1);c=a(26);l=a(11);g=a(1209);m=a(162);d=a(163);f=a(1210);h=a(283);k=a(1211);n=a(487);p=a(488);q=a(1212);v=a(14);t=a(493);w=a(1216);u=a(494);x=a(1217);y=a(287);z=a(1218);B=a(495);A=a(37);C=a(492);D=a(1219);b.cp=new r.Gd(function(E){E(d.KU).to(f.nVa).la();E(c.Pz).to(g.RKa).la();E(h.oOa).to(k.nOa).la();E(p.QJa).to(q.PJa).la();E(h.ISa).kn({isTypeSupported:v.DD && v.DD.isTypeSupported});E(n.gMa).PG(function(G){return {yXb:function(){return G.zb.get(A.x5);}};});E(m.sM).PG(function(G){return G.zb.get(l.wc);});E(t.$Pa).to(w.XPa).la();E(C.WPa).to(D.VPa).la();E(u.ZPa).to(x.YPa).la();E(y.rja).to(z.fMa).la();E(B.XTa).kn(mb);});},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){this.config=k;this.n2a=n;this.S$b=p;this.Nbc=this.aPb();}Object.defineProperty(b,"__esModule",{value:!0});b.RKa=void 0;r=a(0);l=a(26);g=a(162);m=a(1);d=a(42);f=a(487);a=a(488);c.prototype.I$a=function(k){return this.q8a().J$a(k);};c.prototype.K$a=function(k){return this.$v().J$a(k);};c.prototype.q8a=function(){this.Spa && this.Spa.type == this.config().Tpa || (this.Spa=this.n2a.fOb(this.config().Tpa));return this.Spa;};c.prototype.$v=function(){this.vha && this.vha.type == this.config().wha || (this.vha=this.n2a.oPb(this.config().wha),this.vha.fpa(this.S$b.yXb()));return this.vha;};c.prototype.MXb=function(k){var q;if(!k || !k.length)return l.Jf.l4;k=this.UUb(k);for(var n=[l.Jf.IU,l.Jf.l4,l.Jf.dN,l.Jf.AM,l.Jf.gx,l.Jf.oD,l.Jf.PD,l.Jf.Il],p=n.length;p--;){q=n[p];if((0,this.Nbc[q])(k))return q;}return l.Jf.IU;};c.prototype.OL=function(k){return this.$v().OL(k);};c.prototype.TI=function(k){return this.$v().TI(k);};c.prototype.OJ=function(){return this.$v().OJ();};c.prototype.Aaa=function(){return this.$v().Aaa();};c.prototype.d2=function(){return this.$v().d2();};c.prototype.b2=function(){return this.q8a().b2();};c.prototype.Iga=function(){return this.$v().Iga();};c.prototype.e2=function(){return this.$v().e2();};c.prototype.HY=function(k){return this.$v().HY(k);};c.prototype.YY=function(){return this.$v().YY();};c.prototype.Paa=function(){return this.$v().Paa();};c.prototype.UUb=function(k){var n;n={};k.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.mf]="";});return Object.keys(n);};c.prototype.aPb=function(){var k;k={};k[l.Jf.Il]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};k[l.Jf.oD]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};k[l.Jf.PD]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};k[l.Jf.gx]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};k[l.Jf.AM]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};k[l.Jf.dN]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};k[l.Jf.l4]=(function(n,p){var q;q={};n.forEach(function(v){return q[v]=1;});n=oa(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.I.kH]);k[l.Jf.IU]=function(){return !0;};return k;};h=c;h=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(g.sM)),r.__param(1,(0,m.l)(a.QJa)),r.__param(2,(0,m.l)(f.gMa))],h);b.RKa=h;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v){this.cp=p;this.Ib=q;this.vnb=v;this.BFb="video/mp4;codecs={0}";this.gAb="audio/mp4;codecs={0}";p=this.cp.HY(g.Jf.gx);this.AFb=d.ce.u4a(p);}Object.defineProperty(b,"__esModule",{value:!0});b.nVa=void 0;r=a(0);g=a(26);m=a(1);d=a(127);f=a(25);h=a(226);k=a(489);n=a(17);c.prototype.L9=function(p){p=this.cp.MXb(p);p=this.Ib.jJ(p)?p:g.Jf.IU;return this.vnb.format(this.BFb,this.AFb[p]);};c.prototype.F9=function(p){if(0 === p.length)return this.vnb.format(this.gAb,d.ce.Nha);p=k.QIa[p[0].mf] || l.yHa;return p === l.yHa?n.APa:p === l.urb?n.BPa:n.zPa;};a=l=c;a.yHa="AAC";a.urb="XHEAAC";a=l=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(g.Pz)),r.__param(1,(0,m.l)(f.Vg)),r.__param(2,(0,m.l)(h.Zla))],a);b.nVa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){this.config=h;this.jQb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.nOa=void 0;r=a(0);l=a(1);g=a(283);m=a(162);d=a(26);f=a(284);c.prototype.i4a=function(){switch(this.config().wha){case d.wn.aA:return f.BD.JOb();default:return this.jQb;}};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.sM)),r.__param(1,(0,l.l)(g.ISa))],a);b.nOa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z;function c(B,A,C,D,E,G,F,L,O,K){this.xcb=B;this.config=A;this.Jc=C;this.za=D;this.is=E;this.Mq=G;this.co=F;this.platform=L;this.yc=O;this.nC=K;}Object.defineProperty(b,"__esModule",{value:!0});b.PJa=void 0;r=a(0);l=a(1);g=a(26);m=a(283);d=a(162);f=a(1213);h=a(1214);k=a(286);n=a(490);p=a(48);q=a(27);v=a(25);t=a(1215);w=a(99);u=a(7);x=a(45);y=a(32);a=a(492);c.prototype.fOb=function(B){var A;A=this.xcb.i4a();switch(B){case g.dx.aA:return new f.zQa(this.config,A,this.is,this.platform,this.nC);default:return new n.R3(this.config,A,this.nC);}};c.prototype.oPb=function(B){var A;A=this.xcb.i4a();switch(B){case g.wn.qM:B=new t.XJa(this.config,A,this.is,this.Mq,this.co,this.za,this.nC);break;case g.wn.aA:B=new h.FPa(this.config,A,this.is,this.Jc,this.za,this.co,this.yc,this.nC,this.Mq);break;default:B=new k.tD(this.config,A,this.is,this.nC);}return B;};z=c;z=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.oOa)),r.__param(1,(0,l.l)(d.sM)),r.__param(2,(0,l.l)(p.ak)),r.__param(3,(0,l.l)(q.Jh)),r.__param(4,(0,l.l)(v.Vg)),r.__param(5,(0,l.l)(w.$z)),r.__param(6,(0,l.l)(u.jb)),r.__param(7,(0,l.l)(x.Rp)),r.__param(8,(0,l.l)(y.Zi)),r.__param(9,(0,l.l)(a.WPa))],z);b.PJa=z;},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p,q){h=d.R3.call(this,h,k,q) || this;h.is=n;h.platform=p;h.type=l.dx.aA;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.zQa=void 0;l=a(26);g=a(42);m=a(73);d=a(490);f=a(284);la(c,d.R3);c.prototype.b2=function(){return Promise.resolve(this.config().oP && this.eB(m.yb.hA,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Ct=function(){var h,k;h={};h=(h[g.pe.lH]="mp4a.40.2",h[g.pe.mH]="mp4a.40.2",h);if("browser" === this.platform.Msa){k={};return Object.assign(Object.assign({},h),(k[g.pe.HT]=this.config().oP?{je:"avc1",keySystem:m.yb.hA,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[g.pe.IT]=this.config().oP?{je:"avc1",keySystem:m.yb.hA,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[g.pe.D4]=void 0,k[g.pe.oA]=void 0,k[g.pe.C3]=void 0,k));}k={};return Object.assign(Object.assign({},h),(k[g.pe.HT]=this.config().l6a?"ec-3":void 0,k[g.pe.C3]=this.config().k6a?"ec-3":void 0,k[g.pe.IT]=this.config().oP?{je:"avc1",keySystem:m.yb.hA,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[g.pe.D4]=void 0,k[g.pe.oA]=void 0,k));};c.prototype.Xta=function(h){var k,n,p;h=this.P0[h];k=[];n=m.yb.hA;if(h){if(this.is.Ir(h))p=h;else (k=h.features,p=h.je,n=h.keySystem);return this.eB(n,p,k)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.eB=function(h,k,n){h=f.BD.H9(h,k,n);return this.TI(h);};b.zQa=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D;function c(E,G,F,L,O,K,I,M,H){E=g.tD.call(this,E,G,F,M) || this;E.Jc=L;E.za=O;E.co=K;E.yc=I;E.nC=M;E.Mq=H;E.type=m.wn.aA;E.DT="hvc1";E.Ksb="avc1";E.Whb={};E.log=E.co.fb("MicrosoftVideoCapabilityDetector");E.Ohc();E.c2 && E.config().A6b?E.U5a=E.yOb():(E.U5a=Promise.resolve(""),E.config().C6b?E.FOb():E.config().B6b && E.EOb());return E;}Object.defineProperty(b,"__esModule",{value:!0});b.FPa=void 0;l=a(42);g=a(286);m=a(26);r=a(129);d=a(73);f=a(5);h=a(359);k=a(127);n=a(284);p=a(43);q=a(172);v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");B=["hdcp=1"];A=["hdcp=2"];C=new r.KH();D=new h.uia();la(c,g.tD);c.prototype.HY=function(E){return E === m.Jf.gx && this.config().Blc?k.ce.wja:g.tD.prototype.HY.call(this,E);};c.prototype.OL=function(E){switch(E){case m.jr.e5:return this.Inb();case m.jr.sH:return this.R0;default:return Promise.resolve(!1);}};c.prototype.OJ=function(){var G;function E(){return G.c2?G.P0b?G.Inb().then(function(F){return Promise.resolve(F?d.yb.we:d.yb.EH);}):Promise.resolve(d.yb.EH):G.Mic?Promise.resolve(d.yb.EH):Promise.resolve(d.yb.hA);}G=this;this.keySystem || (this.keySystem=this.config().Pu?this.Mq.mF().then(function(F){return F.keySystem;}):E());return this.keySystem;};c.prototype.Aaa=function(){return this.U5a;};c.prototype.d2=function(){return Promise.resolve({result:this.Hnb(),reason:"is-type-supported"});};c.prototype.e2=function(){return this.c2 && this.Knb()?this.R0:Promise.resolve(!1);};c.prototype.Iga=function(){return Promise.resolve(this.Gnb()).then(function(E){return {result:E,reason:"isTypeSupportedWithFeatures"};});};c.prototype.fpa=function(E){this.ps=E;Object.assign(this.ps,this.Whb);E.itshwdrm=this.c2;E.itsqhd=this.Jnb();E.itshevc=this.Knb();E.itshdr=this.Hnb();E.itsdv=this.Gnb();E.itsav1=this.Jic();this.NGa();};c.prototype.xW=function(E,G){(this.ps?this.ps:this.Whb)[E]=G;};c.prototype.YY=function(){var E;E=this;return this.OL(m.jr.sH).then(function(G){return G?E.G9(m.jr.sH):E.OL(m.jr.e5).then(function(F){return F?E.G9(m.jr.e5):E.G9(void 0);});});};c.prototype.Paa=function(){return this.config().Pu?Promise.resolve(void 0):this.OJ().then(function(E){return E === d.yb.we?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.Xta=function(E){var G;G=this;return this.OJ().then(function(F){var L,O,K;L=G.P0[E];if(L){O=[];if(G.is.Ir(L))K=L;else (O=L.features,K=L.je,F=L.keySystem);return G.eB(F,K,O)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Ct=function(){var E;E=g.tD.prototype.Ct.call(this);E[l.I.SU]=E[l.I.i6]=E[l.I.h6]=E[l.I.ima]={je:"vp09.00.11.08.02",keySystem:d.yb.we,features:v};E[l.I.H4]=E[l.I.G4]=E[l.I.F4]={je:"hev1.2.6.L90.B0",keySystem:d.yb.we,features:t};E[l.I.K4]=E[l.I.J4]=E[l.I.I4]={je:"hev1.2.6.L93.B0",keySystem:d.yb.we,features:t};E[l.I.N4]=E[l.I.M4]=E[l.I.L4]={je:"hev1.2.6.L120.B0",keySystem:d.yb.we,features:t};E[l.I.Q4]=E[l.I.P4]=E[l.I.O4]={je:"hev1.2.6.L123.B0",keySystem:d.yb.we,features:t};E[l.I.S4]=E[l.I.RT]=E[l.I.R4]={je:"hev1.2.6.L150.B0",keySystem:d.yb.we,features:t};E[l.I.U4]=E[l.I.ST]=E[l.I.T4]={je:"hev1.2.6.L153.B0",keySystem:d.yb.we,features:t};E[l.I.o4]=E[l.I.n4]=E[l.I.m4]={je:"hev1.2.6.L90.B0",keySystem:d.yb.we,features:u};E[l.I.r4]=E[l.I.q4]=E[l.I.p4]={je:"hev1.2.6.L93.B0",keySystem:d.yb.we,features:u};E[l.I.t4]=E[l.I.QT]=E[l.I.s4]={je:"hev1.2.6.L120.B0",keySystem:d.yb.we,features:u};E[l.I.w4]=E[l.I.v4]=E[l.I.u4]={je:"hev1.2.6.L123.B0",keySystem:d.yb.we,features:x};E[l.I.z4]=E[l.I.y4]=E[l.I.x4]={je:"hev1.2.6.L150.B0",keySystem:d.yb.we,features:x};E[l.I.C4]=E[l.I.B4]=E[l.I.A4]={je:"hev1.2.6.L153.B0",keySystem:d.yb.we,features:x};E[l.I.F3]=E[l.I.E3]={je:"hev1.2.6.L90.B0",keySystem:d.yb.we,features:y};E[l.I.H3]=E[l.I.G3]={je:"hev1.2.6.L93.B0",keySystem:d.yb.we,features:y};E[l.I.I3]=E[l.I.Yia]=E[l.I.JT]={je:"hev1.2.6.L120.B0",keySystem:d.yb.we,features:y};E[l.I.K3]=E[l.I.Zia]=E[l.I.J3]={je:"hev1.2.6.L123.B0",keySystem:d.yb.we,features:z};E[l.I.M3]=E[l.I.$ia]=E[l.I.L3]={je:"hev1.2.6.L150.B0",keySystem:d.yb.we,features:z};E[l.I.O3]=E[l.I.aja]=E[l.I.N3]={je:"hev1.2.6.L153.B0",keySystem:d.yb.we,features:z};E[l.I.mD]={je:"av01.0.04M.10",keySystem:d.yb.we,features:v};E[l.I.nD]={je:"av01.0.05M.10",keySystem:d.yb.we,features:v};E[l.I.kT]={je:"av01.0.08M.10",keySystem:d.yb.we,features:v};E[l.I.lT]={je:"av01.0.09M.10",keySystem:d.yb.we,features:v};E[l.I.l3]={je:"av01.0.12M.10",keySystem:d.yb.we,features:w};E[l.I.m3]={je:"av01.0.13M.10",keySystem:d.yb.we,features:w};return E;};c.prototype.eB=function(E,G,F){E=n.BD.H9(E,G,F);return this.TI(E);};c.prototype.Jnb=function(){return this.eB(d.yb.we,this.DT,t);};c.prototype.Hnb=function(){return this.eB(d.yb.we,this.DT,u);};c.prototype.Gnb=function(){return this.eB(d.yb.we,this.DT,y);};c.prototype.Jic=function(){return this.eB(d.yb.we,k.ce.Il,v);};c.prototype.Knb=function(){return this.eB(d.yb.we,this.DT,w);};c.prototype.Inb=function(){var E;E=this;return this.R0.then(function(G){return G?Promise.resolve(G):E.Vib;});};c.prototype.NGa=function(){this.ps && (this.ps.itshdcp=JSON.stringify({hdcp1:this.uab,time1:this.eob - this.Ymb,hdcp2:this.vab,time2:this.fob - this.Zmb}));};c.prototype.Ohc=function(){var E;E=this;this.c2?(this.R0=this.m$a(this.config().hfb,this.config().E6b,function(){var G;G=E.JXb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.Vib=this.R0.then(function(G){return G?!0:E.m$a(E.config().hfb,E.config().D6b,function(){var F;F=E.IXb();return ["maybe" !== F,F];}).then(function(F){return "probably" === F;});})):(this.Vib=Promise.resolve(!0),this.R0=Promise.resolve(!1));};c.prototype.m$a=function(E,G,F){var L;L=this;return new Promise(function(O){var K,I,M,H;K=oa(F());I=K.next().value;K=K.next().value;if(I)return O(K);M=L.Jc.$R((0,f.$b)(E),function(){var J,N;J=oa(F());N=J.next().value;J=J.next().value;N && (M.cancel(),H.cancel(),O(J));});H=L.Jc.zl((0,f.$b)(G),function(){M.cancel();H.cancel();O("timeout");});});};c.prototype.IXb=function(){var E;E=n.BD.H9(d.yb.EH,this.Ksb,B).split("|");this.uab=n.BD.SFa(E[0],E[1]);this.eob=this.za.nf.ia(f.va);this.Ymb=this.Ymb || this.eob;this.NGa();return this.uab;};c.prototype.JXb=function(){var E;E=n.BD.H9(d.yb.we,this.DT,A).split("|");this.vab=n.BD.SFa(E[0],E[1]);this.fob=this.za.nf.ia(f.va);this.Zmb=this.Zmb || this.fob;this.NGa();return this.vab;};c.prototype.yOb=function(){var E;E=this;return this.csa(d.yb.we,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.vRa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){E.log.debug("DriverInfo: " + G);return G;}).catch(function(G){E.xW("itsDriverInfo","exception");E.log.error("DriverInfo exception",G);throw G;});};c.prototype.EOb=function(){var E;E=this;this.csa(d.yb.hA,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var F;F=String.fromCharCode.apply(void 0,E.yc.decode(G));E.xW("itsHardwareInfo",F);E.log.debug("HardwareInfo: " + F);return G;}).catch(function(G){E.xW("itsHardwareInfo","exception");E.log.error("HardwareInfo exception",G);throw G;});};c.prototype.FOb=function(){var E;E=this;this.csa(d.yb.hA,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var F;F=String.fromCharCode.apply(void 0,E.yc.decode(G));E.xW("itsHardwareReset",F);E.log.debug("ResetHardwareDRMDisabled: " + F);return G;}).catch(function(G){E.xW("itsHardwareReset","exception");E.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};c.prototype.csa=function(E,G){var F;F=this;return new Promise(function(L,O){var N,P,W;function K(V){try{H(V.target,"Unexpectedly got an mskeyerror event: 0x" + D.FJ(V && V.target && V.target.error && V.target.error.kyc || 0,4));}catch(S){H(V.target,S);}}function I(V){H(V.target,"Unexpectedly got an mskeyadded event");}function M(V){var S;try{S=F.Tta(V.message,"PlayReadyKeyMessage","Challenge");J(V.target);L(S);}catch(U){H(V.target,U);}}function H(V,S){F.log.error("PlayReadyChallenge error",{cdmData:G});J(V);O(S);}function J(V){V.removeEventListener("mskeymessage",M);V.removeEventListener("mskeyadded",I);V.removeEventListener("mskeyerror",K);W && W.cancel();}try{N=new Uint8Array(C.tnb(G));P=new mb.MSMediaKeys(E).createSession("video/mp4",new Uint8Array(0),N);P.addEventListener("mskeymessage",M);P.addEventListener("mskeyadded",I);P.addEventListener("mskeyerror",K);W=F.Jc.zl((0,f.$b)(1E3),function(){H(P,Error("timeout"));});}catch(V){O(V);}});};c.prototype.Tta=function(E,G){var L,O,K;for(var F=1;F < arguments.length;++F){;}F="";O=E.length;for(L=0;L < O;L++){K=E[L];0 < K && (F+=String.fromCharCode(K));}O="\\s*(.*)\\s*";for(L=arguments.length - 1;0 < L;L--){K=arguments[L];if(0 > F.search(K))return;K="(?:[^:].*:|)" + K;O="[\\s\\S]*<" + K + "[^>]*>" + O + "</" + K + ">[\\s\\S]*";}if(F=F.match(new RegExp(O)))return F[1];};c.prototype.gya=function(E){var G;G=this;return this.OJ().then(function(F){return [q.Te.oD,q.Te.PD].some(function(L){return L.test(E);}) && !q.Te.yOa.test(E) && G.config().gfb && ![d.yb.EH,d.yb.OSa].some(function(L){return L === F;})?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Va.Object.defineProperties(c.prototype,{P0b:{configurable:!0,enumerable:!0,get:function(){return this.config().p6a && (!this.config().F6b || this.Jnb());}},c2:{configurable:!0,enumerable:!0,get:function(){try{return this.TI(d.yb.we + "|" + k.ce.jAa);}catch(E){return !1;}}},Mic:{configurable:!0,enumerable:!0,get:function(){try{return this.TI(d.yb.EH);}catch(E){return !1;}}}});b.FPa=c;},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p,q,v,t){h=l.tD.call(this,h,k,n,t) || this;h.Mq=p;h.co=q;h.za=v;h.nC=t;h.type=g.wn.qM;h.log=h.co.fb("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.XJa=void 0;l=a(286);g=a(26);m=a(5);d=a(43);f=a(172);la(c,l.tD);c.prototype.OL=function(h){switch(h){case g.jr.sH:return this.Kic;default:return Promise.resolve(!1);}};c.prototype.YY=function(){var h;h=this;return this.OL(g.jr.sH).then(function(k){return k?g.jr.sH:void 0;}).then(function(k){return h.G9(k);});};c.prototype.fpa=function(h){this.ps=h;};c.prototype.l3b=function(h){var k;return !(null === (k=h.getConfiguration().videoCapabilities) || void 0 === k || !k.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.ix;}));};c.prototype.zpb=function(){var h;if(this.ps){h=this.wab && this.yab && this.wab.Ea(this.yab).ia(m.va);this.ps.itshdcp=JSON.stringify({hdcp2:this.ew,time2:h});}};c.prototype.gya=function(h){var k;k=this;return this.Mq.mF().then(function(n){n=(0,d.Jaa)(n);return [f.Te.oD,f.Te.PD].some(function(p){return p.test(h);}) && !f.Te.yOa.test(h) && k.config().gfb && n === d.ix?{supported:!1,reason:"mcclearen-restricted"}:f.Te.Oub.test(h) && !(k.config().xSb || k.config().o6a && n === d.ix) || f.Te.dN.test(h) && (!k.config().o6a || n !== d.ix)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Va.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.Zeb || (this.Zeb=this.Mq.mF().then(function(h){return h.createMediaKeys();}));return this.Zeb;}},Kic:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.TFa || (this.config().zSb?this.TFa=Promise.all([this.Mq.mF(),this.mediaKeys]).then(function(k){var n;n=oa(k);k=n.next().value;n=n.next().value;if(!h.l3b(k))return (h.ew="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.ew),!1);if(n && n.getStatusForPolicy)return (h.yab=h.za.nf,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){h.wab=h.za.nf;h.ew=p;h.log.trace("hdcpStatus: " + h.ew);return "usable" === h.ew;}));h.ew="not available";h.log.trace("hdcpStatus: " + h.ew);return !1;}).catch(function(k){h.ew="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.ew},k);return !1;}).then(function(k){h.zpb();return k;}):(this.ew="not enabled",this.log.trace("hdcpStatus: " + this.ew),this.zpb(),this.TFa=Promise.resolve(!1)));return this.TFa;}}});b.XJa=c;},function(r,b,a){var l,g;function c(m){this.navigator=m;this.Web=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.XPa=void 0;r=a(0);l=a(1);a=a(37);c.prototype.Wta=function(m){return this.Web?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:m.contentType,width:m.width,height:m.height,bitrate:m.bitrate,framerate:m.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.MM))],g);b.XPa=g;},function(r,b,a){var l,g,m,d;function c(f,h){this.mediaCapabilities=f;this.log=h.fb("MediaCapabilities");this.P0=d.S3.Ct();}Object.defineProperty(b,"__esModule",{value:!0});b.YPa=void 0;r=a(0);l=a(493);g=a(7);m=a(1);d=a(255);c.prototype.Wta=function(f){var h,k,n,p;h=this;n={Yc:void 0};if(this.mediaCapabilities.Web){p={contentType:'video/mp4;codecs="' + (null !== (k=this.P0[f.mf]) && void 0 !== k?k:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.Wta(p).then(function(q){return n.Yc=Object.assign(Object.assign({},q),p);}).catch(function(q){return h.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(l.$Pa)),r.__param(1,(0,m.l)(g.jb))],a);b.YPa=a;},function(r,b,a){var l,g,m;function c(d){this.ebc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.fMa=void 0;r=a(0);l=a(1);g=a(287);a=a(495);c.prototype.iUb=function(){var d,f;d={AP:g.Vz.wzb};try{f=this.ebc.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var k;d.AP=h.value?g.Vz.WTa:g.Vz.CHa;if(d.AP === g.Vz.CHa){k=function(){h.value && (d.AP=g.Vz.WTa);h.removeEventListener("change",k);};h.addEventListener("change",k);}}).catch(function(){d.AP=g.Vz.Error;});}catch(h){d.AP=g.Vz.Error;}return d;};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.XTa))],m);b.fMa=m;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t){this.config=p;this.navigator=q;this.co=v;this.NQ=t;this.$0a={};this.nqb={};this.qpa={};this.log=this.co.fb("MediaCapabilityDetector");this.$0a=this.eOb();this.nqb=this.nPb();}Object.defineProperty(b,"__esModule",{value:!0});b.VPa=void 0;r=a(0);l=a(1);g=a(42);m=a(7);d=a(37);f=a(99);h=a(162);k=a(43);n=a(14);c.prototype.nY=function(p){var q;q=this;return this.NQ.mF().then(function(v){return q.zUb(p,v);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.B2b=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};c.prototype.Qxa=function(){return mb.matchMedia("(dynamic-range: high)").matches;};c.prototype.zUb=function(p,q){var v,t,w;try{v={type:"media-source"};t=this.$0a[p];w=this.nqb[p];if(t)v.audio=t;else if(w){v.video=w;if(this.B2b(w) && !this.Qxa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (v.keySystemConfiguration=this.ZXb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.MKb(v),this.JKb((t || w).contentType)]).then(function(u){var x;x=oa(u);u=x.next().value;x=x.next().value;return u?x?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(u){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",u),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.MKb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(v){var t;v.configuration || (v.configuration=p);t=q.c3b(p,v);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(v)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(v));return t;}).catch(function(v){q.log.error("mediaCapabilities.decodingInfo failed",v);return !1;});};c.prototype.JKb=function(p){var q;q=this;if(!this.config().HSb)return Promise.resolve(!0);this.qpa[p] || (this.qpa[p]=new Promise(function(v){var t;try{t=new n.DD();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);v(!0);}catch(w){q.log.warn("addSourceBuffer failed",w);v(!1);}});}catch(w){q.log.warn("addSourceBuffer failed",w);v(!1);}}));return this.qpa[p];};c.prototype.ZXb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,k.Jaa)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.eOb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[g.pe.lH]=q;p[g.pe.D4]=q;p[g.pe.mH]=q;p[g.pe.oA]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[g.pe.HT]=q;p[g.pe.C3]=q;p[g.pe.IT]=q;return p;};c.prototype.nPb=function(){var p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};v={width:1920,height:1080};t={width:3840,height:2160};w=Object.assign(Object.assign({},v),{bitrate:12E6,framerate:30});u=Object.assign(Object.assign({},v),{bitrate:2E7,framerate:60});x=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});y=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};B={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),w);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);C=Object.assign(Object.assign({},p),w);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),u);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),x);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),y);F=Object.assign(Object.assign(Object.assign({},p),w),z);L=Object.assign(Object.assign(Object.assign({},p),u),z);O=Object.assign(Object.assign(Object.assign({},p),x),z);p=Object.assign(Object.assign(Object.assign({},p),y),z);z=Object.assign(Object.assign(Object.assign({},q),w),B);K=Object.assign(Object.assign(Object.assign({},q),u),B);I=Object.assign(Object.assign(Object.assign({},q),x),B);q=Object.assign(Object.assign(Object.assign({},q),y),B);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),u);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),x);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),y);B={};return (B[g.I.jH]=t,B[g.I.kH]=t,B[g.I.k4]=t,B[g.I.DMa]=t,B[g.I.EMa]=t,B[g.I.FMa]=t,B[g.I.BMa]=v,B[g.I.e4]=v,B[g.I.g4]=v,B[g.I.i4]=v,B[g.I.CMa]=v,B[g.I.f4]=v,B[g.I.h4]=v,B[g.I.j4]=v,B[g.I.ima]=A,B[g.I.h6]=A,B[g.I.i6]=A,B[g.I.SU]=A,B[g.I.xja]=C,B[g.I.yja]=C,B[g.I.zja]=C,B[g.I.Aja]=D,B[g.I.G4]=C,B[g.I.J4]=C,B[g.I.M4]=C,B[g.I.P4]=D,B[g.I.RT]=E,B[g.I.ST]=G,B[g.I.H4]=C,B[g.I.K4]=C,B[g.I.N4]=C,B[g.I.Q4]=D,B[g.I.S4]=E,B[g.I.U4]=G,B[g.I.F4]=C,B[g.I.I4]=C,B[g.I.L4]=C,B[g.I.O4]=D,B[g.I.R4]=E,B[g.I.T4]=G,B[g.I.n4]=F,B[g.I.q4]=F,B[g.I.QT]=F,B[g.I.v4]=L,B[g.I.y4]=O,B[g.I.B4]=p,B[g.I.o4]=F,B[g.I.r4]=F,B[g.I.t4]=F,B[g.I.w4]=L,B[g.I.z4]=O,B[g.I.C4]=p,B[g.I.m4]=F,B[g.I.p4]=F,B[g.I.s4]=F,B[g.I.u4]=L,B[g.I.x4]=O,B[g.I.A4]=p,B[g.I.E3]=z,B[g.I.G3]=z,B[g.I.JT]=z,B[g.I.J3]=K,B[g.I.L3]=I,B[g.I.N3]=q,B[g.I.Yia]=z,B[g.I.Zia]=K,B[g.I.$ia]=I,B[g.I.aja]=q,B[g.I.F3]=z,B[g.I.H3]=z,B[g.I.I3]=z,B[g.I.K3]=K,B[g.I.M3]=I,B[g.I.O3]=q,B[g.I.zHa]=w,B[g.I.AHa]=w,B[g.I.mD]=w,B[g.I.nD]=w,B[g.I.kT]=w,B[g.I.lT]=u,B[g.I.l3]=x,B[g.I.m3]=y,B);};c.prototype.c3b=function(p,q){return p.video && this.config().Bac?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.sM)),r.__param(1,(0,l.l)(d.MM)),r.__param(2,(0,l.l)(m.jb)),r.__param(3,(0,l.l)(f.$z))],a);b.VPa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(1);c=a(496);l=a(202);g=a(497);m=a(1221);d=a(288);f=a(1222);h=a(1225);k=a(1226);n=a(83);p=a(498);q=a(1228);b.storage=new r.Gd(function(v){v(l.NQa).df(function(){return function(){return mb.localStorage;};});v(l.zNa).df(function(){return function(){return mb.indexedDB;};});v(p.wQa).to(q.vQa).la();v(n.Iz).to(k.jIa).la();v(g.XOa).to(m.WOa).la();v(c.c5).to(h.aOa).la();v(d.cOa).to(f.bOa).la();v(d.yNa).to(f.xNa).la();v(d.eOa).to(f.dOa).la();});},function(r,b,a){var l,g,m;function c(d){this.iG=d;}Object.defineProperty(b,"__esModule",{value:!0});b.WOa=void 0;r=a(0);l=a(1);g=a(4);a=a(202);c.prototype.load=function(d){var f;f=this;return new Promise(function(h,k){var n,p;try{n=f.iG.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}h({key:d,value:p});}else k({Ca:g.Y.kA});}catch(q){k({Ca:g.Y.JUa,cause:q});}});};c.prototype.save=function(d,f,h){var k;k=this;return new Promise(function(n,p){if(h && k.iG.getItem(d))n(!1);else try{"string" === typeof f?k.iG.setItem(d,f):k.iG.setItem(d,JSON.stringify(f));n(!0);}catch(q){p({Ca:g.Y.KUa,cause:q});}});};c.prototype.remove=function(d){var f;f=this;return new Promise(function(h,k){try{f.iG.removeItem(d);h();}catch(n){k({Ca:g.Y.Nla,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.Ywb))],m);b.WOa=m;},function(r,b,a){var m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y,z,B,A,C){this.config=y;this.CX=z;this.gn=B;this.Zlc=A;this.um=C;this.qa=x.fb(n.CVa);}function l(x,y){this.config=x;this.KS=y;}function g(x,y,z,B,A){this.config=y;this.KS=z;this.um=A;this.qa=x.fb(n.CVa);this.CX=new Promise(function(C,D){var E;try{E=B();E?C(E):D({Ca:k.Y.BNa});}catch(G){D({Ca:k.Y.b5,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.dOa=b.bOa=b.xNa=void 0;r=a(0);m=a(1);d=a(7);f=a(1223);h=a(202);k=a(4);n=a(1224);p=a(496);q=a(64);v=a(83);t=a(85);w=a(288);u=a(56);g.prototype.create=function(){this.rsa || (this.rsa=this.SO());return this.rsa;};g.prototype.Gt=function(x){var y;y=this;this.rsa=null;return this.KS.Cs(this.config.timeout,new Promise(function(z,B){x.close();y.delete(x.name).then(function(){z();}).catch(function(A){B(A);});})).catch(function(z){return z instanceof q.Us?Promise.reject({Ca:k.Y.b5}):z.Ca?Promise.reject(z):Promise.reject({Ca:k.Y.b5,cause:z});});};g.prototype.delete=function(x){var y;y=this;return this.KS.Cs(this.config.timeout,new Promise(function(z,B){y.CX.then(function(A){var C;C=A.deleteDatabase(x);C.onsuccess=function(){z();};C.onerror=function(){B({Ca:k.Y.b5,cause:C.error});};}).catch(function(A){B(A);});}));};g.prototype.SO=function(){var x,y;x=this;return this.KS.Cs(this.config.timeout,new Promise(function(z,B){if(x.config.iFa)return B({Ca:x.config.iFa});x.CX.then(function(A){x.um.mark(u.Mk.svb);y=A.open(x.config.name,x.config.version);if(!y)return B({Ca:k.Y.CNa});y.onblocked=function(){x.um.mark(u.Mk.pvb);B({Ca:k.Y.lvb});};y.onupgradeneeded=function(){var C;x.um.mark(u.Mk.zvb);C=y.result;try{C.createObjectStore(x.config.Z_,{keyPath:"name"});}catch(D){x.qa.error("Exception while creating object store",D);}};y.onsuccess=function(C){var D,E;x.um.mark(u.Mk.yvb);try{D=C.target.result;E=D.objectStoreNames.length;x.qa.trace("objectstorenames length ",E);if(0 === E){x.qa.error("invalid indexedDb state, deleting");x.um.mark(u.Mk.rvb);try{D.close();}catch(G){}A.deleteDatabase(x.config.name);setTimeout(function(){B({Ca:k.Y.kvb});},1);return;}}catch(G){x.qa.error("Exception while inspecting indexedDb objectstorenames",G);}z(y.result);};y.onerror=function(){x.um.mark(u.Mk.qvb);x.qa.error("IndexedDB open error",y.error);B({Ca:k.Y.mvb,cause:y.error});};}).catch(function(A){B(A);});})).catch(function(z){if(z instanceof q.Us){try{y && y.readyState && x.um.mark("readyState-" + y.readyState);}catch(B){}if(x.config.C8 && y && "done" === y.readyState){if(x.Tlc(y))return (x.um.mark(u.Mk.wvb),Promise.resolve(y.result));x.um.mark(u.Mk.vvb);}x.um.mark(u.Mk.uvb);return Promise.reject({Ca:k.Y.ovb});}if(z.Ca)return Promise.reject(z);x.um.mark(u.Mk.tvb);x.qa.error("IndexedDB open exception occurred",z);return Promise.reject({Ca:k.Y.nvb,cause:z});});};g.prototype.Tlc=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.um.mark(u.Mk.xvb);this.qa.error("failed to check open request state",y);}return !1;};a=g;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.jb)),r.__param(1,(0,m.l)(p.c5)),r.__param(2,(0,m.l)(q.JD)),r.__param(3,(0,m.l)(h.zNa)),r.__param(4,(0,m.l)(t.bN))],a);b.xNa=a;l.prototype.create=function(x){return Promise.resolve(new f.$Na(this.config,this.KS,x));};a=l;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(p.c5)),r.__param(1,(0,m.l)(q.JD))],a);b.bOa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.xX || (this.xX=this.SO(this.Zlc));return this.xX;};c.prototype.SO=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,B){y.um.mark(u.Mk.Vyb);y.CX.create().then(function(A){y.gn.create(A).then(function(C){Promise.all(x.map(function(D){return D.validate(C);})).then(function(){y.storage=C;z(y.storage);}).catch(function(D){y.qa.debug("DB validation failed, cause: " + D);y.config.I7a?(y.qa.debug("Fixing corrupt DB"),y.CX.Gt(A).then(function(){y.qa.error("Invalid database deleted, creating new database.");y.SO().then(function(E){y.qa.error("Invalid database successfully recreated.");y.storage=E;z(y.storage);});}).catch(function(E){y.qa.error("Couldn't delete invalid database.");B(E);})):(y.qa.debug("Ignoring invalid DB due to config"),y.storage=C,z(y.storage));});}).catch(function(C){B(C);});}).catch(function(A){B(A);});});};a=c;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.jb)),r.__param(1,(0,m.l)(p.c5)),r.__param(2,(0,m.l)(w.yNa)),r.__param(3,(0,m.l)(w.cOa)),r.__param(4,(0,m.optional)()),r.__param(4,(0,m.KK)(v.ezb)),r.__param(5,(0,m.l)(t.bN))],a);b.dOa=a;},function(r,b,a){var g,m,d;function c(f,h,k){this.config=f;this.Tq=h;this.iG=k;}function l(f,h){this.reason=f;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.$Na=b.kUa=void 0;g=a(4);m=a(64);(function(f){f[f.Fka=0]="NoData";f[f.Error=1]="Error";f[f.aN=2]="Timeout";})(d=b.kUa || (b.kUa={}));c.prototype.load=function(f){var h;h=this;return new Promise(function(k,n){h.I$("get",!1,f).then(function(p){k({key:f,value:p});}).catch(function(p){var q;q=g.Y.JUa;switch(p.reason){case d.Fka:q=g.Y.kA;break;case d.aN:q=g.Y.Wyb;}n({Ca:q,cause:p.cause});});});};c.prototype.save=function(f,h,k){var n;n=this;return new Promise(function(p,q){n.I$(k?"add":"put",!0,{name:f,data:h}).then(function(){p(!k);}).catch(function(v){var t;t=g.Y.KUa;switch(v.reason){case d.aN:t=g.Y.Zyb;}q({Ca:t,cause:v.cause});});});};c.prototype.remove=function(f){var h;h=this;return new Promise(function(k,n){h.I$("delete",!0,f).then(function(){k();}).catch(function(p){var q;q=g.Y.Nla;switch(p.reason){case d.aN:q=g.Y.IUa;}n({Ca:q,cause:p.cause});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(h,k){f.I$("clear",!0,"").then(function(){h();}).catch(function(n){var p;p=g.Y.Nla;switch(n.reason){case d.aN:p=g.Y.IUa;}k({Ca:p,cause:n.cause});});});};c.prototype.loadAll=function(){var f;f=this;return this.Tq.Cs(this.config.timeout,new Promise(function(h,k){var n,p,q;if(f.config.hFa)k(new l(f.config.hFa));else {n=[];p=f.iG.transaction(f.config.Z_,"readonly");q=p.objectStore(f.config.Z_).openCursor();p.onerror=function(){k(new l(d.Error,q.error));};q.onsuccess=function(v){if(v=v.target.result)try{n.push({key:v.value.name,value:v.value.data});v.continue();}catch(t){k(new l(d.Error,t));}else h(n);};q.onerror=function(){k(new l(d.Error,q.error));};}})).catch(function(h){return h instanceof m.Us?Promise.reject(new l(d.aN,h)):h instanceof l?Promise.reject(h):Promise.reject(new l(d.Error,h));});};c.prototype.I$=function(f,h,k){var n;n=this;return this.Tq.Cs(this.config.timeout,new Promise(function(p,q){var v,t;v=n.iG.transaction(n.config.Z_,h?"readwrite":"readonly");t=v.objectStore(n.config.Z_)[f](k);v.onerror=function(){q(new l(d.Error,t.error));};t.onsuccess=function(w){var u;if("get" == f)try{u=w.target.result;u?p(u.data):q(new l(d.Fka));}catch(x){q(new l(d.Fka,x));}else p(void 0);};t.onerror=function(){q(new l(d.Error,t.error));};})).catch(function(p){return p instanceof m.Us?Promise.reject(new l(d.aN,p)):p instanceof l?Promise.reject(p):Promise.reject(new l(d.Error,p));});};b.$Na=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CVa="Storage";},function(r,b,a){var l,g,m,d,f;function c(h,k){h=m.If.call(this,h,"IndexedDBConfigImpl") || this;h.config=k;h.version=1;h.Z_="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.aOa=void 0;r=a(0);l=a(1);g=a(46);m=a(47);d=a(39);a=a(33);la(c,m.If);Va.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.FB?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.knb;}},C8:{configurable:!0,enumerable:!0,get:function(){return this.config.C8;}},iFa:{configurable:!0,enumerable:!0,get:function(){return 0;}},hFa:{configurable:!0,enumerable:!0,get:function(){return 0;}},I7a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;r.__decorate([g.config(g.eD,"simulateIdbOpenError")],f.prototype,"iFa",null);r.__decorate([g.config(g.eD,"simulateIdbLoadAllError")],f.prototype,"hFa",null);r.__decorate([g.config(g.Dd,"fixInvalidDatabase")],f.prototype,"I7a",null);f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.vn)),r.__param(1,(0,l.l)(d.Lp))],f);b.aOa=f;},function(r,b,a){var g,m,d,f,h,k,n;function c(p,q,v,t){this.qa=p;this.config=q;this.V0b=v;this.cAa=t;this.$I={mem:{storage:this.cAa,key:"mem"}};this.KG=this.config.KG;}function l(p,q,v,t){this.vg=p;this.gn=q;this.cAa=v;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.bia=b.jIa=void 0;r=a(0);g=a(1);m=a(4);d=a(288);f=a(7);h=a(498);k=a(1227);a=a(39);l.prototype.create=function(){this.xX || (this.xX=this.SO());return this.xX;};l.prototype.SO=function(){this.tHb=new c(this.vg.fb("AppStorage"),this.config,this.gn,this.cAa);return this.tHb.create();};n=l;n=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(f.jb)),r.__param(1,(0,g.l)(d.eOa)),r.__param(2,(0,g.l)(h.wQa)),r.__param(3,(0,g.l)(a.Lp))],n);b.jIa=n;c.prototype.create=function(){var p;p=this;return this.HOb().then(function(q){if(!p.qKb(q,p.config.uZ))throw p.H7b(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(v,t){q.JY(p).storage.load(p).then(function(w){v(w);}).catch(function(w){t(w);});});};c.prototype.save=function(p,q,v){var t;t=this;return new Promise(function(w,u){t.JY(p).storage.save(p,q,v).then(function(x){w(x);}).catch(function(x){u(x);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(v,t){q.JY(p).storage.remove(p).then(function(){v();}).catch(function(w){t(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,v){p.Rjb("mem").then(function(){return p.Rjb("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.qa.error("remove all failed");v(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.zdb("mem").then(function(v){q=q.concat(v);return p.zdb("idb");}).catch(function(v){p.$2b(v) || p.qa.error("IndexedDb.LoadAll exception",v);return [];}).then(function(v){return q=q.concat(v);}).catch(function(v){p.qa.error("load all failed",v);throw v;});};c.prototype.HOb=function(){var p;p=this;return this.V0b.create().then(function(q){p.$I.idb={storage:q,key:"idb"};}).catch(function(q){p.qa.error("idb failed to load",q);return q || ({Ca:m.Y.Ho});});};c.prototype.qKb=function(p,q){return !p || p && q?!0:!1;};c.prototype.H7b=function(p){var q;q="";p && (q+=p.Ca);return {Ca:q};};c.prototype.Rjb=function(p){return (p=this.$I[p])?p.storage.removeAll():Promise.resolve();};c.prototype.zdb=function(p){return (p=this.$I[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.NUb=function(p){for(var q in this.KG){if(p.startsWith(q))return this.KG[q];}return this.KG[k.wtb];};c.prototype.JY=function(p){var q,v;q=this;this.NUb(p).every(function(t){return q.$I[t]?(v=q.$I[t],!1):!0;});if(!v){this.qa.error("component not found for storageKey",{$hc:p,$sc:Object.keys(this.$I),rules:this.KG});v=this.$I.mem;}this.qa.trace("component found for key",{storageKey:p,componentKey:v.key});return v;};c.prototype.$2b=function(p){return (p && (p.Ca || p.errorSubCode)) === m.Y.kA;};b.bia=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wtb="__default_rule_key__";},function(r,b,a){var l,g,m;function c(d){this.vg=d;this.LK={};this.qa=this.vg.fb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.vQa=void 0;r=a(0);l=a(1);g=a(4);a=a(7);c.prototype.load=function(d){var f;if(this.LK.hasOwnProperty(d)){f=this.LK[d];this.qa.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:f});}this.qa.debug("Storage entry not found",{key:d});return Promise.reject({Ca:g.Y.kA});};c.prototype.save=function(d,f,h){if(h && this.LK.hasOwnProperty(d))return Promise.resolve(!1);this.LK[d]=f;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.LK[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.LK).map(function(f){var h;h=oa(f);f=h.next().value;h=h.next().value;return {key:f,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.LK={};return Promise.resolve();};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.jb))],m);b.vQa=m;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.CO=void 0;r=a(1);c=a(499);l=a(500);g=a(501);m=a(1230);d=a(1231);f=a(1232);b.CO=new r.Gd(function(h){h(c.eJa).to(m.dJa).la();h(l.cJa).to(d.$Ia).la();h(g.bJa).to(f.aJa).la();});},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q){this.a9=n;this.Ib=p;this.bJb=q;this.qa=k.fb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.dJa=void 0;r=a(0);l=a(1);g=a(500);m=a(501);d=a(7);f=a(25);h=a(5);c.prototype.aHb=function(k){var n,p;n=k.lb.playbackState && k.lb.playbackState.currentTime;p=this.XWb(k.K);n=this.Ib.jJ(n)?(0,h.$b)(n):p;p=0;this.Ib.wh(n)?(this.qa.info("Overriding bookmark",{From:k.gD.ia(h.va),To:n.ia(h.va)}),n=Object.assign({},k,{gD:n})):n=k;k.Md.ta && (k=k.Md.Bva(k.gD.ia(h.va)),n=Object.assign({},n,{gD:(0,h.$b)(k.Kn),kG:(0,h.$b)(k.kG)}),p=k.$4a);return n.gD.$xa()?(this.qa.trace("Ignoring bookmark because it's negative"),(0,h.$b)(p)):this.Z0b(n)?(this.qa.trace("Ignoring bookmark because it's too close to beginning"),(0,h.$b)(p)):this.Y0b(n)?(this.qa.trace("Ignoring bookmark because it's too close to end"),(0,h.$b)(p)):this.X0b(n)?(this.qa.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,h.$b)(p)):n.gD;};c.prototype.Z0b=function(k){return 0 > k.gD.Jm(this.qva(k));};c.prototype.qva=function(k){return this.C1a(this.a9.qva(),k.kG);};c.prototype.Y0b=function(k){return 0 < k.gD.Jm(this.rva(k));};c.prototype.rva=function(k){var n;n=k.lb.ji?this.a9.OXb():this.a9.rva();return k.kG.Ea(this.C1a(n,k.kG));};c.prototype.X0b=function(k){return 0 < k.gD.Jm(this.uXb(k));};c.prototype.uXb=function(k){return k.kG.Ea((0,h.$b)(k.fG));};c.prototype.XWb=function(k){var n;k=this.a9.Wua()[k];n=-1;this.Ib.Ir(k)?n=parseInt(k):this.Ib.Rl(k) && (n=k);if(this.Ib.BW(n))return (0,h.$b)(n);};c.prototype.C1a=function(k,n){return this.bJb.lic(k,n);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.jb)),r.__param(1,(0,l.l)(g.cJa)),r.__param(2,(0,l.l)(f.Vg)),r.__param(3,(0,l.l)(m.bJa))],a);b.dJa=a;},function(r,b,a){var l,g;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ia=void 0;r=a(0);l=a(1);a=a(11);c.prototype.qva=function(){return this.KJ().cJb;};c.prototype.rva=function(){return this.KJ().dJb;};c.prototype.OXb=function(){return this.KJ().eJb;};c.prototype.Wua=function(){return this.KJ().B1a;};c.prototype.KJ=function(){return this.config();};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.wc))],g);b.$Ia=g;},function(r,b,a){var l,g,m;function c(d){this.Ib=d;}Object.defineProperty(b,"__esModule",{value:!0});b.aJa=void 0;r=a(0);l=a(1);g=a(25);m=a(5);c.prototype.lic=function(d,f){var h,k;h=parseFloat(d);k=0;"%" === d[d.length - 1] && this.Ib.Rl(h)?k=Math.round(h * f.ia(m.va) / 100):(d=parseInt(d),this.Ib.BW(d) && (k=d));return (0,m.$b)(Math.min(k,f.ia(m.va)));};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Vg))],a);b.aJa=a;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Z1a=void 0;r=a(1);c=a(502);l=a(1234);b.Z1a=new r.Gd(function(g){g(c.wJa).to(l.vJa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v,t,w,u,x){this.config=q;this.bG=t;this.profile=w;this.Zga=u;this.dX=x;this.log=v.fb("CDMAttestedDescriptor");this.J8a(n.nx.EU);}Object.defineProperty(b,"__esModule",{value:!0});b.vJa=void 0;r=a(0);l=a(1);g=a(11);m=a(7);d=a(164);f=a(289);h=a(80);k=a(173);n=a(39);p=a(57);c.prototype.J8a=function(q){var v;v=this;return this.Zga.jga(q)?this.config().sSb?this.H8a().then(function(t){if(t)return (!1,Promise.resolve(void 0));v.pdb || (!1,v.pdb=v.dX.cwa(p.aj.Mp));return v.pdb;}).catch(function(t){v.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.mc.close();return null === t || void 0 === t?void 0:t.Yqa;}).then(function(t){return Promise.all([Promise.resolve(t),v.H8a()]);}).then(function(t){var w;t=oa(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.bG().then(function(t){t.P_.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.H8a=function(){var q;q=this;return this.bG().then(function(v){return (v=v.P_.getServiceTokens(q.profile)) && v.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.wc)),r.__param(1,(0,l.l)(m.jb)),r.__param(2,(0,l.l)(d.tU)),r.__param(3,(0,l.l)(h.UM)),r.__param(4,(0,l.l)(f.e6)),r.__param(5,(0,l.l)(k.z3))],a);b.vJa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.ieb=void 0;r=a(1);c=a(242);l=a(1236);g=a(503);m=a(1243);d=a(507);f=a(509);h=a(1244);k=a(138);n=a(1245);p=a(511);q=a(1246);b.ieb=new r.Gd(function(v){v(g.MPa).to(m.LPa).la();v(c.ska).to(l.NPa).la();v(d.sTa).kn(function(t){for(var w=[],u=0;u < arguments.length;++u){w[u - 0]=arguments[u];}u=a(291).LH;return new (Function.prototype.bind.apply(u,[null].concat(ia(w))))();});v(f.QPa).df(function(){return function(t){return new h.RPa(t);};});v(k.HM).to(n.JPa).la();v(p.IPa).to(q.HPa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x){this.vg=t;this.config=w;this.eCa=u;this.qGa=x;}Object.defineProperty(b,"__esModule",{value:!0});b.NPa=void 0;r=a(0);l=a(1);g=a(7);m=a(503);d=a(1237);f=a(1238);h=a(1239);k=a(1240);n=a(1241);p=a(1242);q=a(507);a=a(508);c.prototype.create=function(t){var w,u;w=this.vg.fb("ManifestParser",t);u=new d.TJa(w,this.config);return new h.OPa(u,new f.TVa(w,this.config,t,this.eCa),new k.nWa(w,t,this.qGa),new n.PIa(w,this.config,t),new p.SWa(w));};v=c;v=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.MPa)),r.__param(2,(0,l.l)(q.sTa)),r.__param(3,(0,l.l)(a.lWa))],v);b.NPa=v;},function(r,b,a){var l,g;function c(m,d){this.log=m;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.TJa=void 0;l=a(81);g=a(290);c.prototype.Ahb=function(m,d){var f,h,k,n;f=this;h=this.config.Vqa;k=this.config.Uqa;m=oa((0,l.yw)(function(p){return (!h.length || 0 <= h.indexOf(p.id)) && 0 > k.indexOf(p.id);},m || []));n=m.next().value;m.next().value.forEach(function(p){return f.log.warn("Cdn is not allowed",{Id:p.id});});m=n.map(function(p){var q;q=(d?d.find(function(v){return v.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,vc:p.vc,type:p.type,Hdb:p.key,J2b:p.Wdb,location:{id:q.key,vc:q.vc,level:q.level,weight:q.weight}};});m.sort(function(p,q){return p.vc - q.vc;});this.log.trace("Transformed cdns",{Count:m.length});if(!m.length)throw Error("no valid cdns");return m;};c.prototype.R0b=function(m,d,f,h){var k;k=m.filter(function(n){return -1 === f.findIndex(function(p){return p.id === n.id;});}).map(function(n){return {ahb:!0,cc:n};}).concat(f.map(function(n){return {ahb:!1,cc:n};})).sort(function(n,p){return n.cc.vc === p.cc.vc?n.ahb?-1:1:n.cc.vc - p.cc.vc;}).map(function(n,p){(0,g.HQ)(n.cc).vc=p + 1;return n.cc;});m=d.filter(function(n){return -1 === h.findIndex(function(p){return p.key === n.key;});}).concat(h).map(function(n){var p;p=k.findIndex(function(q){return q.key === n.key;});if(-1 !== p)return (p=k[p],(0,g.HQ)(n).vc=p.vc,n);}).filter(function(n){return void 0 !== n;});return {Gfc:k,Q4b:m};};b.TJa=c;},function(r,b,a){var l,g,m,d;function c(f,h,k,n){this.log=f;this.config=h;this.j=k;this.eCa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.TVa=void 0;l=a(42);g=a(14);m=a(130);d=a(504);c.prototype.Dhb=function(f,h){var k;k=this;h=h.map(function(n){var p,q,v,t;v=k.Wjc(n);n.JF || !n.Oh || v && 0 < v.length || k.log.error("track without downloadables",k.iYb(n));t={};0 < v.length && (t=n.language && 0 <= k.config.gQ.indexOf(n.language)?v[1] && v[1].profile === l.un.ANa?v[1]:v[0]:v[0],t.profile == l.un.KM && (t=k.rfc(v),!1));n=k.eCa(k.j,n.xg,n.id,null !== (p=n.vc) && void 0 !== p?p:-1,null !== (q=n.Oh) && void 0 !== q?q:!0,f,t.Tb,t.urls || [],n.language,n.OF,m.c6[n.Wi.toLowerCase()] || m.pr.QM,n.NL,n.variant,n.vG.toUpperCase(),t.profile,k.rYb(t) || ({}),n.JF,n.bca,n.eca,n.fw);k.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:h.length});return h;};c.prototype.zjc=function(f){var h,k;h=this;k=this.config.Cua;if(k){if(f=oa(f.filter(function(n){return n.Of == k || n.trackId == k;})).next().value)return f;}else if(this.j.daa && (f=oa(f.filter(function(n){return n.trackId == h.j.daa;})).next().value))return f;};c.prototype.Wjc=function(f){var h,k;h=this;k=f.S5a;f=Object.entries(f.xGa || ({})).map(function(n){var p;p=oa(n);n=p.next().value;p=p.next().value;return {Tb:k[n],profile:n,size:p.size || 0,priority:h.oXb(n,p),offset:p.iAa || 0,M$b:p.width,Rhb:p.height,urls:p.urls};});f.sort(function(n,p){return n.priority - p.priority;});return f;};c.prototype.oXb=function(f,h){var k,n;k=this.config.Tw.indexOf(f);h=h.size;n=this.config.HS;return f === l.un.Ria && 0 < n && h > n?this.config.Tw.length + 1:0 <= k?k:this.config.Tw.length;};c.prototype.rYb=function(f){if(f.profile === l.un.KM)return {offset:f.offset,length:f.size,mm:{width:f.M$b,height:f.Rhb}};};c.prototype.rfc=function(f){var h,k;h=this.config.gxa || d.$la.o$a();k=oa(f.filter(function(n){return n.profile === l.un.KM;}).filter(function(n){return n.Rhb === h;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:g.px.height,intendedResolution:h});return f[0];};c.prototype.iYb=function(f){return {isNone:f.JF,isForced:f.bca,bcp47:f.language,id:f.xg};};b.TVa=c;},function(r,b,a){var l;function c(g,m,d,f,h){this.Wqa=g;this.ZFa=m;this.fkc=d;this.PW=f;this.tqb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.OPa=void 0;l=a(290);c.prototype.Bhb=function(g){var m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A;f=g.Ra;h={pg:null !== (d=null === (m=f.IE) || void 0 === m?void 0:m.Cp) && void 0 !== d?d:"",jG:f.Jxa?"ads":"content"};k=!!f.Y0;m=this.Wqa.Ahb(f.qm,f.Nj);d=this.ZFa.Dhb(h,f.JS);g=this.fkc.o$b(f.ikc);n=k?this.PW.zhb(h,f.Av,d):this.PW.h$b(h,f.Av,f.media,d);h=this.tqb.p$b(h,f.Yw);p=h[0];q=this.PW.wIb(n) || n.find(function(C){return k?C.trackId === f.Y0.lq:C.gK === f.Z9[0].lq;}) || n[0];v=this.ZFa.zjc(q.wi) || d.find(function(C){return k?C.trackId === f.Y0.IS:C.gK === f.Z9[0].Bnb;}) || q.wi[0];t=this.tqb.k$b(f.Yw);w=f.fh;u=f.CLb;x=f.xF;y=f.Lm;z=f.Av.findIndex(function(C){return C.xg == q.trackId;});B=f.Yw.findIndex(function(C){return C.xg == p.trackId;});A=f.JS.findIndex(function(C){return C.xg == v.trackId;});return {Hw:t,th:m,Fj:n,Cz:h,wi:d,dD:g,fh:w,Kfc:u,nK:x,Lm:y,eQb:z,mQb:B,lQb:A,a$:p,GX:q,IX:v};};c.prototype.S0b=function(g,m,d){var f,h,k,n,p,q;f=this;n=this.Wqa.R0b(g.Ra.qm,g.Ra.Nj,d.Ra.qm,d.Ra.Nj);p=n.Gfc;n=n.Q4b;(0,l.HQ)(g.Ra).qm=p;(0,l.HQ)(g.Ra).Nj=n;m.th=this.Wqa.Ahb(p,n);q={pg:null !== (k=null === (h=d.Ra.IE) || void 0 === h?void 0:h.Cp) && void 0 !== k?k:"",jG:d.Ra.Jxa?"ads":"content"};d=d.Ra;h=d.Av;d.JS.forEach(function(v){var t;if(v.Oh){t=f.ikb(g.Ra.JS,m.wi,v,function(w){return f.ZFa.Dhb(q,[w])[0];});t && m.Fj.forEach(function(w){var u;w=w.wi;u=w.findIndex(function(x){return x.trackId === t.trackId;});-1 !== u && (w[u]=t);});}});h.forEach(function(v){v.Oh && f.ikb(g.Ra.Av,m.Fj,v,function(t){return f.PW.zhb(q,[t],m.wi)[0];});});return {ba:g,Rc:m};};c.prototype.Pec=function(g,m){return this.PW.yUb(g,m);};c.prototype.ikb=function(g,m,d,f){var h,k,n,p;h=g.findIndex(function(q){return q.xg === d.xg;});k=-1 !== h?g[h]:void 0;n=m.findIndex(function(q){return q.trackId === d.xg;});p=-1 !== n?m[n]:void 0;if(k && !k.Oh && p && !p.Oh)return (f=f(d),g[h]=d,m[n]=f);};b.OPa=c;},function(r,b){function a(c,l,g){this.log=c;this.j=l;this.qGa=g;}Object.defineProperty(b,"__esModule",{value:!0});b.nWa=void 0;a.prototype.o$b=function(c){var l;l=this;c=(c || []).filter(function(g){return g.urls && 0 < g.urls.length;}).map(function(g){return l.qGa(l.j,g.id,g.height,g.width,g.P$b,g.Q$b,g.size,g.fw,{unknown:g.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(g,m){return g.size - m.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.nWa=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q){n=g.pU.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.PIa=void 0;l=a(489);g=a(505);m=a(81);d=a(93);f=a(130);h=a(4);k=a(36);la(c,g.pU);c.prototype.zhb=function(n,p,q){var v,t;v=this;t=this.config.Hga;p=p.filter(function(w){var u,x;u=w.JF || !w.Oh || w.streams && 0 < w.streams.length;u || v.log.warn("Audio track is missing streams",v.Zaa(w));x=0 === t.length || 0 <= t.indexOf(w.Wi);x || v.log.warn("Audio track is not supported",v.Zaa(w));return u && x;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(w){return v.yhb(n,w,v.rWb(w,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.h$b=function(n,p,q,v){var t,w,u,x;t=this;w=oa((0,m.yw)(function(y){return y.JF;},p));p=w.next().value;w=w.next().value;w=oa((0,m.yw)(function(y){return y.streams && 0 < y.streams.length;},w));u=w.next().value;w.next().value.forEach(function(y){return t.log.warn("Audio track is missing streams",t.Zaa(y));});x=this.config.Hga;w=oa((0,m.yw)(function(y){return 0 === x.length || 0 <= x.indexOf(y.Wi);},u));u=w.next().value;w.next().value.forEach(function(y){return t.log.warn("Audio track is not supported",t.Zaa(y));});p=[].concat(ia(u),ia(p)).map(function(y){return t.yhb(n,y,t.bYb(y.xg,q,v));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.wIb=function(n){var p,q;p=this;q=this.config.wua;if(q){if(n=oa(n.filter(function(v){return v.Of == q || v.trackId == q;})).next().value)return n;}else if(this.j.caa && (n=oa(n.filter(function(v){return v.trackId == p.j.caa;})).next().value))return n;};c.prototype.yUb=function(n,p){this.config.k1a.forEach(function(q){var v,t,w;v=p.Av.filter(function(u){return u.profile === q;}).reduce(function(u,x){x.streams.map(function(y){return y.bitrate;}).forEach(function(y){u.add(y);});return u;},new Set());t=!1;w=n.Ra.Av.map(function(u){var x;if(u.profile === q){x=u.streams.filter(function(y){return v.has(y.bitrate);});if(x.length === u.streams.length)return u;t=!0;if(0 === x.length)throw new k.rd(h.aa.uPa,h.Y.xrb);return Object.assign(Object.assign({},u),{streams:x});}return u;});t && (n.Ra=Object.assign(Object.assign({},n.Ra),{Av:w}));});return n;};c.prototype.yhb=function(n,p,q){var v,t,w,u;u=p.Wi;n=Object.assign(Object.assign({},n),{type:d.yj.audio,NL:p.NL,variant:p.variant,trackId:p.xg,gK:p.PS,Wi:f.c6[u.toLowerCase()] || f.pr.QM,vG:u,Of:p.language,displayName:p.OF,vc:null !== (v=p.vc) && void 0 !== v?v:-1,Oh:null !== (t=p.Oh) && void 0 !== t?t:!0,channels:p.channels,xtc:p.channels,wi:q,Ch:{Bcp47:p.language,TrackId:p.xg},streams:[],isNative:p.isNative,Iq:p.JF,f2:p.f2});n.streams=this.Job(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.wi.length});n.MLb=l.QIa[null === (w=n.streams[0]) || void 0 === w?void 0:w.mf];return n;};c.prototype.Zaa=function(n){return {language:n.OF,bcp47:n.language,type:n.Wi};};c.prototype.rWb=function(n,p){return p.filter(function(q){if(0 <= n.mRb.indexOf(q.gK))return !1;if(n.c5a){if(n.c5a !== q.gK && (q.Iq() || q.up()))return !1;}else if(n.t8b){if(q.Iq() || q.up())return !1;}else if(q.up())return !1;return !0;});};c.prototype.bYb=function(n,p,q){return p.filter(function(v){return v.Fe.T === n;}).map(function(v){return v.Fe.Za;}).map(function(v){return q.find(function(t){return t.trackId === v;});}).filter(Boolean);};b.PIa=c;},function(r,b,a){var l,g,m,d;function c(f){return g.pU.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SWa=void 0;l=a(81);g=a(505);m=a(93);d=a(130);la(c,g.pU);c.prototype.p$b=function(f,h){var k,n;k=this;h=oa((0,l.yw)(function(p){return p.streams && 0 < p.streams.length;},h));n=h.next().value;h.next().value.forEach(function(p){return k.log.warn("Video track is missing streams",{trackId:p.xg});});h=n.map(function(p){var q;q=p.Wi;q=Object.assign(Object.assign({},f),{type:m.yj.video,trackId:p.xg,gK:p.PS,Wi:d.c6[q.toLowerCase()] || d.pr.QM,vG:q,streams:[],Ch:{},O0:p.O0});q.streams=k.Job(p.streams,q);k.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!h.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:h.length});return h;};c.prototype.k$b=function(f){var h;h=f.map(function(k){return k.O0;}).filter(Boolean);h=[].concat.apply([],ia(h)).map(function(k){return k.ga;});f=f.map(function(k){return k.Ysa;}).filter(Boolean).map(function(k){return k.ga;});return 0 < h.length?h:f;};b.SWa=c;},function(r,b,a){var l,g,m,d,f,h;function c(k,n){k=g.If.call(this,k,"ManifestParserConfigImpl") || this;k.bh=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.LPa=void 0;r=a(0);l=a(1);g=a(47);m=a(33);d=a(46);f=a(110);h=a(52);la(c,g.If);Va.Object.defineProperties(c.prototype,{Hga:{configurable:!0,enumerable:!0,get:function(){return [];}},wua:{configurable:!0,enumerable:!0,get:function(){return "";}},Vqa:{configurable:!0,enumerable:!0,get:function(){return [];}},Uqa:{configurable:!0,enumerable:!0,get:function(){return [];}},Cua:{configurable:!0,enumerable:!0,get:function(){return "";}},gxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},HS:{configurable:!0,enumerable:!0,get:function(){return this.bh.HS.ia(h.ex);}},Tw:{configurable:!0,enumerable:!0,get:function(){return this.bh.Tw;}},gQ:{configurable:!0,enumerable:!0,get:function(){return this.bh.gQ;}},k1a:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.ML,"supportedAudioTrackTypes")],a.prototype,"Hga",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"wua",null);r.__decorate([d.config(d.zGa,"cdnIdWhiteList")],a.prototype,"Vqa",null);r.__decorate([d.config(d.zGa,"cdnIdBlackList")],a.prototype,"Uqa",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Cua",null);r.__decorate([d.config(d.eD,"imageSubsResolution")],a.prototype,"gxa",null);r.__decorate([d.config(d.eD,"timedTextSimpleFallbackThreshold")],a.prototype,"HS",null);r.__decorate([d.config(d.ML,"timedTextProfiles")],a.prototype,"Tw",null);r.__decorate([d.config(d.ML,"imscLanguageList")],a.prototype,"gQ",null);r.__decorate([d.config(d.ML,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"k1a",null);a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.vn)),r.__param(1,(0,l.l)(f.DH))],a);b.LPa=a;},function(r,b){function a(c){this.Rc=c;this.Ub=JSON.stringify(this.lYb());}Object.defineProperty(b,"__esModule",{value:!0});b.RPa=void 0;a.prototype.lYb=function(){var c;c=[];(!this.Rc.th || 0 >= this.Rc.th.length) && c.push({error:"No CDN."});this.Rc.GX || c.push({error:"No default audio track.",foundTracks:this.ova(this.Rc.Fj)});this.Rc.a$ || c.push({error:"No default video track.",foundTracks:this.ova(this.Rc.Cz)});this.Rc.IX || c.push({error:"No default subtitle track.",foundTracks:this.ova(this.Rc.wi)});return c;};a.prototype.ova=function(c){return c && 0 < c.length?c.map(function(l){return l.trackId;}):"No tracks found.";};b.RPa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){this.udb=h;this.t5b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.JPa=void 0;r=a(0);l=a(1);g=a(510);m=a(511);d=a(36);f=a(4);c.prototype.create=function(h){var k,n,p,q;k=this;if(h && !this.F2b(h)){if(this.N2b(h))throw d.rd.Mmc(f.aa.GM,f.Y.$yb,h);q=this.udb();q.ipa(h.links);this.t5b.tP(h);return {Ra:h,Mj:q,Wxa:!1,Vxa:!1,Bv:null !== (p=null === (n=h.Bv) || void 0 === n?void 0:n.map(function(v){var t;t=k.udb();t.ipa(v.links);return {Ra:v,Mj:t,Wxa:!1,Vxa:!1,Bv:[]};})) && void 0 !== p?p:[]};}};c.prototype.N2b=function(h){return ("type" in h) && "muxed" === h.type;};c.prototype.F2b=function(h){return ("runtime" in h) && !!h.runtime;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.eSa)),r.__param(1,(0,l.l)(m.IPa))],a);b.JPa=a;},function(r,b,a){var l,g;function c(m){this.jTb=m;this.feb={fp:"drmType",ouc:"drmVersion",expiration:"expiration",K:"movieId",Bp:"packageId",duration:"duration",fh:"playbackContextId",Z9:["defaultTrackOrderList",{MQ:"mediaId",$S:"videoTrackId",Bnb:"subtitleTrackId",lq:"audioTrackId",axc:"preferenceOrder"}],tuc:["eligibleABTestMap",{Nk:g.Nk}],ctc:["badgingInfo",{huc:"dolbyDigitalAudio",kvc:"hdrVideo",iuc:"dolbyVisionVideo",Dyc:"ultraHdVideo","3dVideo":"3dVideo",guc:"dolbyAtmosAudio",Usc:"assistiveAudio",Exc:"sdVideo",jvc:"hdVideo"}],type:"type",Ysc:["audioTextShortcuts",{id:"id",lq:"audioTrackId",Vnb:"textTrackId"}],Uwc:"partiallyHydrated",Heb:"maxRecommendedAudioRank",Ieb:"maxRecommendedTextRank",Lm:"drmContextId",T_b:"hasDrmProfile",R_b:"hasClearProfile",xF:"hasDrmStreams",lba:"hasClearStreams",Nj:["locations",{vc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],qm:["servers",{id:"id",name:"name",type:"type",vc:"rank",Wdb:"lowgrade",vRb:["dns",{host:"host",d2b:"ipv4",e2b:"ipv6",tVb:"forceLookup"}],key:"key"}],Av:["audio_tracks",{type:"type",NL:"subType",variant:"variant",Wi:"trackType",xg:"new_track_id",PS:"track_id",Obc:"profileType",Xhc:"stereo",profile:"profile",channels:"channels",language:"language",IKb:"channelsFormat",f2:"surroundFormatLabel",OF:"languageDescription",mRb:"disallowedSubtitleTracks",c5a:"defaultTimedText",isNative:"isNative",JF:"isNoneTrack",streams:["streams",{ep:"downloadable_id",size:"size",NE:"content_profile",Wi:"trackType",bitrate:"bitrate",Kj:"isDrm",urls:["urls",{Mh:"cdn_id",url:"url",Fca:"liveOcaCapabilities"}],z7b:"new_stream_id",type:"type",channels:"channels",IKb:"channelsFormat",f2:"surroundFormatLabel",language:"language",Xsc:"audioKey",h7b:["moov",{size:"size",offset:"offset"}],rm:["sidx",{size:"size",offset:"offset"}],Ghc:["ssix",{size:"size",offset:"offset"}],Zj:"tags",Mdc:"representationId"}],MLb:"codecName",vG:"rawTrackType",id:"id",vc:"rank",Oh:"hydrated",t8b:"offTrackDisallowed"}],Yw:["video_tracks",{Wi:"trackType",xg:"new_track_id",type:"type",PS:"track_id",T_b:"hasDrmProfile",R_b:"hasClearProfile",xF:"hasDrmStreams",lba:"hasClearStreams",WJ:"groupName",streams:["streams",{ep:"downloadable_id",size:"size",NE:"content_profile",Wi:"trackType",qJ:"drmHeaderId",bitrate:"bitrate",Kj:"isDrm",urls:["urls",{Mh:"cdn_id",url:"url",Fca:"liveOcaCapabilities"}],z7b:"new_stream_id",type:"type",Wwc:"peakBitrate",eRb:"dimensionsCount",fRb:"dimensionsLabel",Thb:"pix_w",Shb:"pix_h",wkb:"res_w",BDa:"res_h",xPb:"crop_x",yPb:"crop_y",wPb:"crop_w",vPb:"crop_h",e8a:"framerate_value",d8a:"framerate_scale",Tmb:"startByteOffset",hb:"vmaf",h7b:["moov",{size:"size",offset:"offset"}],rm:["sidx",{size:"size",offset:"offset"}],Ghc:["ssix",{size:"size",offset:"offset"}],Es:["segmentVmaf",{offset:"offset",hb:"vmaf"}],Zj:"tags",Mdc:"representationId"}],Obc:"profileType",Xhc:"stereo",profile:"profile",eRb:"dimensionsCount",fRb:"dimensionsLabel",Zxc:["snippets",{Nk:[g.Nk,{Yxc:"snippetSpec",Ba:"startTimeMs",Aa:"endTimeMs"}]}],Ysa:["drmHeader",{ga:"bytes",fLb:"checksum",qJ:"drmHeaderId",Jq:"keyId",mm:["resolution",{height:"height",width:"width"}]}],O0:["prkDrmHeaders",{ga:"bytes",fLb:"checksum",qJ:"drmHeaderId",Jq:"keyId",mm:["resolution",{height:"height",width:"width"}]}],ry:"flavor",uvc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",TBa:"pixelAspectX",UBa:"pixelAspectY",cwc:"maxCroppedWidth",bwc:"maxCroppedHeight",dwc:"maxCroppedX",ewc:"maxCroppedY",bda:"max_framerate_value",ada:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",twc:"minCroppedWidth",swc:"minCroppedHeight",uwc:"minCroppedX",vwc:"minCroppedY",ki:["license",{Z3b:"licenseResponseBase64",fxc:"providerSessionToken",Ixc:"secureStopExpected",nuc:"drmSessionId",links:["links",{}]}]}],IE:["cdnResponseData",{AL:"sessionABTestCell",Cp:"pbcid"}],Vo:["choiceMap",{me:"initialSegment",type:"type",N:"viewableId",U:["segments",{Nk:[g.Nk,{Ba:"startTimeMs",Aa:"endTimeMs",next:["next",{Nk:[g.Nk,{weight:"weight"}]}],bc:"defaultNext",xq:"exitZones"}]}]}],Zo:["contentPlaygraph",{na:["playgraph",{me:"initialSegment",U:["segments",{Nk:[g.Nk,{N:"viewableId",Ba:"startTimeMs",Aa:"endTimeMs",next:["next",{Nk:[g.Nk,{weight:"weight"}]}],bc:"defaultNext"}]}]}],cyc:["startIdent",{vvc:"identToken",N:"viewableId"}]}],media:["media",{id:"id",Fe:["tracks",{T:"AUDIO",Za:"TEXT",J:"VIDEO"}]}],Y0:["recommendedMedia",{$S:"videoTrackId",lq:"audioTrackId",IS:"timedTextTrackId"}],JS:["timedtexttracks",{Wi:"trackType",xg:"new_track_id",type:"type",NL:"subType",variant:"variant",vG:"rawTrackType",OF:"languageDescription",language:"language",id:"id",JF:"isNoneTrack",bca:"isForcedNarrative",S5a:["downloadableIds",{}],ttc:["cdnlist",{id:"id",name:"name",type:"type",vc:"rank",Wdb:"lowgrade",vRb:["dns",{host:"host",d2b:"ipv4",e2b:"ipv6",tVb:"forceLookup"}],key:"key"}],xGa:["ttDownloadables",{Nk:[g.Nk,{id:"id",size:"size",oyc:"textKey",ivc:"hashValue",hvc:"hashAlgo",Evc:"isImage",iAa:"midxOffset",kfb:"midxSize",height:"height",width:"width",Vsa:["downloadUrls",{}],urls:["urls",{url:"url",Mh:"cdn_id",Fca:"liveOcaCapabilities"}]}]}],eca:"isLanguageLeftToRight",fw:"headIdentDuration",vc:"rank",Oh:"hydrated"}],ikc:["trickplays",{ep:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",Q$b:"pixelsAspectY",P$b:"pixelsAspectX",width:"width",height:"height",fw:"headIdentDuration"}],Jqb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],muc:"dpsid",ji:"isBranching",Ryc:"viewableType",Jxa:"isAd",tQ:"isSupplemental",CLb:"clientIpAddress",Hyc:"urlExpirationDuration",Yvc:"manifestExpirationDuration",eyc:["steeringAdditionalInfo",{fyc:"steeringId",Psc:"additionalGroupNames",hyc:["streamingClientConfig",{}]}],ye:"auxiliaryManifestToken",ol:["liveMetadata",{n$:["downloadableIdToSegmentTemplateId",{Nk:g.Nk}],Tfa:["segmentTemplateIdToSegmentTemplate",{Nk:[g.Nk,{W8:"availabilityStartTime",K1b:"initialization",media:"media",Dib:"presentationTimeOffset",HL:"startNumber",duration:"duration",W:"timescale"}]}],s8b:"ocLiveWindowDurationSeconds",E$:"eventAvailabilityOffsetMs",Kta:"eventStartTime",F$:"eventEndTime"}],ih:"streamingType"};this.u5b=Object.assign(Object.assign({},this.feb),{Bv:["auxiliaryManifests",this.feb],Yx:["adverts",{bg:["adBreaks",{Tm:"locationMs",Tx:"adBreakToken",dg:["ads",{id:"id",Ba:"startTimeMs",Aa:"endTimeMs",Pga:["timedAdEvents",{event:"event",Ux:"adEventToken",dGa:"timeMs"}],rE:["actionAdEvents",{start:["start",{event:"event",Ux:"adEventToken"}],complete:["complete",{event:"event",Ux:"adEventToken"}],stop:["stop",{event:"event",Ux:"adEventToken"}]}],jw:"is3pVerificationEnabled",DS:"thirdPartyVerificationToken"}],Woa:["actionAdBreakEvents",{complete:["complete",{event:"event",Ux:"adEventToken"}]}],T8:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.HPa=void 0;r=a(0);l=a(1);g=a(237);c.prototype.tP=function(m){this.jTb.tP(m,this.u5b);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.WLa))],a);b.HPa=a;},function(r,b,a){var l;function c(g,m,d,f,h){this.i8=this.g0=this.f0=l.dA;this.request=g;this.type=g.responseType;this.Vm=f;this.abort=m;this.timeout=d;this.i8=h;}Object.defineProperty(b,"__esModule",{value:!0});b.vNa=void 0;l=a(17);c.prototype.fgc=function(g){this.f0=g;};c.prototype.lgc=function(g){this.g0=g;};b.vNa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.s4a=void 0;b.s4a=function(a,c,l,g){return {iZb:function(){var m;m=a.Qva();g.fw && (m+=g.fw);return m;},qa:c,request:l,fg:!1};};},function(r,b,a){var l,g,m,d,f;function c(h){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(h);}Object.defineProperty(b,"__esModule",{value:!0});b.mzb=void 0;l=a(0);r=a(105);g=a(512);m=a(1253);d=a(1254);f=a(1261);r=(function(h){function k(n,p){var q,v,t,w;t=h.call(this) || this;t.Mo=!0;t.vV=[];t.zr=0;t.EZa=!0;w=n.fg || !1;t.Da=n.qa || console;t.Er=n.request;t.ov=n.iZb;t.V6=null !== (q=n.evc) && void 0 !== q?q:function(u,x){return u - (null !== x && void 0 !== x?x:t.ov());};t.We=null;t.Mo=!0;t.vV=[];t.$N=p.profile;t.Fm=p.url;t.lI=p.ue;t.ZN=p.preferences;t.CN=p.bh;t.zr=t.lI || 0;t.EZa=null !== (v=p.ixc) && void 0 !== v?v:!0;q={url:t.Fm,request:t.Er,ue:t.lI,xml:p.xml,preferences:t.ZN,bh:t.CN,qa:t.Da,fg:w,bufferSize:p.bufferSize,tw:p.tw,Xea:p.Xea || 0,L1a:p.L1a};if("nflx-cmisc" === t.$N)(q.offset=p.iAa,q.size=p.kfb,q.Rfa=p.Rfa,q.i6a=p.i6a,t.Uc=new d(q));else if(p.ta && c(t.$N))t.Uc=new m.UOa(q);else if(c(t.$N) && "function" === typeof g.Nja)t.Uc=new g.Nja(q);else throw Error("SubtitleManager: " + t.$N + " is an unsupported profile");t.Uc.on("ready",function(){var x,y,z;function u(){return t.Mo;}x=!!p.j1a;t.Da.info("ready event fired by subtitle stream");t.emit("ready");y=t.Uc.LJ.bind(t.Uc);if(n.Pva && n.zea){z=a(1263).HIa;t.We=new z(t.ov,y,t.V6,t.Da,u,n.Pva,n.zea,p);}else t.We=new f(t.ov,y,t.V6,u,t.Da,p);if("dfxp-ls-sdh" === t.$N && "function" === typeof g.Nja)t.We.on("stagesubtitle",t.qFa.bind(t));t.We.on("showsubtitle",t.aFa.bind(t));t.We.on("removesubtitle",t.kDa.bind(t));t.We.on("underflow",t.pn.bind(t));t.We.on("bufferingComplete",t.Kg.bind(t));x && (t.Da.info("autostarting subtitles"),setTimeout(function(){t.Lu(t.ov());},10));});t.Uc.on("error",t.emit.bind(t,"error"));return t;}l.__extends(k,h);k.prototype.start=function(){this.Uc.start();};k.prototype.ajb=function(){this.Mo || (this.Mo=!0,this.E6a(this.zr));};k.prototype.Lu=function(n){this.EZa && !this.Mo && 1E4 < Math.abs(n - this.zr) && (this.Da.warn("Detected an unexpected pts jump larger than",1E4,"at",n,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.ajb());this.zr=n;this.Mo && (this.Mo=!1,this.Ihc(n));null !== this.We && (this.Rkc(n),this.We.Lu(n));};k.prototype.stop=function(){var n;this.Da.info("stop called");this.Mo || this.pause();this.Uc.removeAllListeners(["ready"]);null !== this.We && this.We.stop();n=this.vV.reduce(function(p,q){p.ymb+=q.K1;p.J$+=q.K$ || 0;p.a2b.push(q);return p;},{ymb:0,J$:0,a2b:[]});"object" === typeof this.Uc && this.Uc.close();this.Da.debug("metrics: " + JSON.stringify(n));return n;};k.prototype.pause=function(){var n;n=this.ov();this.Mo?this.Da.warn("pause called on subtitle manager, but it was already paused!"):(this.Da.info("pause called at " + n),this.Mo=!0,this.E6a(n));null !== this.We && this.We.pause();};k.prototype.Xaa=function(n,p){return "function" === typeof this.Uc.Xaa?this.Uc.Xaa(n,p):[];};k.prototype.Dq=function(n,p){return this.Uc.Dq(n,p);};k.prototype.LJ=function(n){return this.Uc.LJ(n);};k.prototype.FG=function(n){var q;function p(){q.Da.info("bufferingComplete from setStreamStartPosition");q.emit("bufferingComplete");}q=this;"function" === typeof this.Uc.FG?this.Uc.FG(n,p):p();};k.prototype.Bl=function(n,p){"function" === typeof this.Uc.Bl && this.Uc.Bl(n,p);};k.prototype.Gk=function(n,p){"function" === typeof this.Uc.Gk && this.Uc.Gk(n,p);};k.prototype.NCa=function(n){"function" === typeof this.Uc.cjb && this.Uc.cjb(n);};k.prototype.cva=function(){return this.vV[this.vV.length - 1];};k.prototype.aFa=function(n){var p,q,v,u;q=0;this.Da.info("show subtitle called at " + this.ov() + " for displayTime " + n.displayTime);this.emit("showsubtitle",n);v=this.cva();v.lS || (v.lS={});if(c(this.$N))try{for(var t=l.__values(n.blocks),w=t.next();!w.done;w=t.next()){u=w.value;v.lS[u.id] || (q++,v.lS[u.id]=!0);}}catch(y){var x;x={error:y};}finally{try{w && !w.done && (p=t.return) && p.call(t);}finally{if(x)throw x.error;}}else v.lS[n.id] || (q++,v.lS[n.id]=!0);v.K1+=q;};k.prototype.kDa=function(n){this.Da.info("remove subtitle called at " + this.ov() + " for remove time " + (n.displayTime + n.duration));this.emit("removesubtitle",n);};k.prototype.qFa=function(n){this.Da.info("stage subtitle called at " + this.ov() + " for displayTime " + n.displayTime);this.emit("stagesubtitle",n);};k.prototype.pn=function(){this.Da.info("underflow fired by the subtitle timer");this.emit("underflow");};k.prototype.Kg=function(){this.Da.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};k.prototype.Ihc=function(n){this.Da.debug("creating a new subtitle interval at " + n);this.vV.push({ca:n,K1:0});};k.prototype.Rkc=function(n){var p;p=this.cva();p && (p.Eya=n);};k.prototype.E6a=function(n){var p;this.Da.debug("ending subtitle interval at " + n);p=this.cva();p && (p.Ta=n,p.Ta < p.ca && (this.Da.warn("correcting for interval where endPts is smaller than startPts"),p.ca=0 < p.Ta?p.Ta - 1:0),p.K$=this.Uc.Dq(p.ca,p.Ta),delete p.lS,p.K$ > p.K1 && p.Eya && 500 > p.Ta - p.Eya && (p.K$=this.Uc.Dq(p.ca,p.Eya)),this.Da.debug("showed " + p.K1 + " during this interval"),this.Da.debug("expected " + p.K$ + " for this interval"));};return k;})(r.EventEmitter);b.mzb=r;b.default=r;},function(r){function b(a,c){var l,g,m,d,f,h;l=[];g=a.indexOf("<p");m=-1;do {d={};d.xhc=g;f=a.indexOf("begin=",g) + 7;h=a.indexOf("end=",g) + 5;f=Math.floor(parseInt(a.substr(f,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);m=h > m?h:m;d.startTime=f;d.endTime=h;d.latestEndSoFar=m;d.N6a=a.indexOf("/p>",g) + 3;g=d.N6a;l.push(d);g=a.indexOf("<p",g);}while(-1 !== g);this.kv=l;this.yI=a;}b.prototype.k7a=function(){return this.kv[this.kv.length - 1].endTime;};b.prototype.Dq=function(a,c){return this.kv.filter(function(l){return l.startTime <= c && l.endTime >= a;}).length;};b.prototype.CYb=function(a){for(var c="",l=this.kv.filter(function(m){return m.startTime <= a && a < m.endTime || m.startTime >= a;}),g=4;g + 1 < l.length && l[g + 1].startTime === l[4].startTime;){g++;}l=l.slice(0,g + 1);0 < l.length && (c=this.yI.slice(l[0].xhc,l[l.length - 1].N6a));return c;};r.exports=b;},function(r,b,a){var m,d,f,h,k;function c(n){return "string" !== typeof n?null:d[n];}function l(n){return "string" !== typeof n?null:f[n];}function g(n,p){var q;q=n.split(" ");n=q[0];q=q[1];-1 < n.indexOf("px")?(n=parseFloat(n) / p.width,q=parseFloat(q) / p.height):(n=.01 * parseFloat(n),q=.01 * parseFloat(q));return [n,q];}m=a(514);r.exports={cPb:function(n,p){var q,v,t,w,A;q=p.textNodes[0] || ({});v=n.regions;t=n.styles;w=n.aspectRatio;v=v && v[p.region]?v[p.region]:{};q=t && t[q.style]?t[q.style]:{};t=g(m(p.extent,v.extent,"80% 80%"),n);if(v.position){for(var u=v.position.split(" "),x=[.5,.5],y=["left","top"],z=0,B=0;B < u.length;B++){A=u[B];(A in k)?(y[z]=A,B + 1 >= u.length && (x[z++]=0)):"center" === A?x[z++]=.5:x[z++]=.01 * parseFloat(A);}-1 < ["top","bottom"].indexOf(y[0]) || -1 < ["left","right"].indexOf(y[1])?(z="bottom" === y[0]?1 - x[0]:x[0],u="right" === y[1]?1 - x[1]:x[1]):(u="right" === y[0]?1 - x[0]:x[0],z="bottom" === y[1]?1 - x[1]:x[1]);x=[(1 - t[0]) * u,(1 - t[1]) * z];}else x=null;p=x?x:g(m(x,p.origin,v.origin,"10% 10%"),n);n=Object;w/=1280 / 720;x=(1 - w) / 2;y=p[0];p=p[1];t=n.create.call(n,{marginLeft:y * w + x,marginTop:p,marginRight:(1 - (y + t[0])) * w + x,marginBottom:1 - (p + t[1])});1 < Object.keys(v).length?t.verticalAlignment=c(m(q.displayAlign,v.displayAlign,"before")):t.verticalAlignment=c(m(q.displayAlign,"after"));t.horizontalAlignment=l(m(q.textAlign,v.textAlign,"center"));w=v.writingMode?v.writingMode:"lrtb";t.writingMode="string" !== typeof w?null:h[w];t.multiRowAlignment=l(m(q.multiRowAlign,v.multiRowAlign,q.textAlign,v.textAlign,"center"));return t;}};d={before:"top",center:"center",after:"bottom"};f={left:"left",start:"start",center:"center",right:"right",end:"end"};h={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};k={top:"top",bottom:"bottom",left:"left",right:"right"};},function(r,b,a){var h,k,n,p,q,v,t,w,u,x,y,z,B,A,C;function c(D){return "string" !== typeof D || "#" === D[0] && 7 === D.length?D:"#" === D[0] && 4 === D.length?"#" + D[1] + D[1] + D[2] + D[2] + D[3] + D[3]:n[D.toLowerCase()];}function l(D){var E,G,F;E=(D || "").split(" ");G=(/^[0-9]/).test(E);D=G?"#000000":c(E[0]);F=G?0:1;G=parseInt(E[F]);E=parseInt(E[F + 1]);return {color:D,width:0 < G?G:0,blur:0 < E?E:0};}function g(D,E){if(-1 < E.indexOf(D))return D;}function m(D){var E,G;if(!D)return null;D=D.split(" ");if(0 === D.length)return null;E=d(D,C);E=E.length?E[0]:"outside";G=d(D,A);if(G.length)return f(G[0],"",E);G=d(D,z);D=d(D,B);return D.length || G.length?f(D.length?D[0]:"circle",G.length?G[0]:"filled",E):f("auto","",E);}function d(D,E){return D.filter(function(G){return -1 !== E.indexOf(G);});}function f(D,E,G){return {textEmphasisShape:D,textEmphasisFill:E,textEmphasisPosition:G};}h=a(514);r.exports={gPb:function(D,E,G){var F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa;F=h(G.characterSize,E.characterSize,"MEDIUM");L=D.fontFamily;L=h(G.characterStyle,"string" !== typeof L?null:p[L],E.characterStyle,"PROPORTIONAL_SANS_SERIF");O=(D.fontSize || "").split(" ")[0] || "";K=-1 < O.indexOf("%")?parseInt(O,10) / 100:-1 < O.indexOf("em")?parseFloat(O):1;O="underline" === D.textDecoration;I="italic" === D.fontStyle;M=k[h(G.Hmc,E.Hmc,"OPAQUE")];H=k[h(G.characterOpacity,E.characterOpacity,"OPAQUE")];J=k[h(G.backgroundOpacity,D.opacity,E.backgroundOpacity,"OPAQUE")];N=c(h(G.characterColor,D.color,E.characterColor,"#ffffff"));P=c(h(G.backgroundColor,D.backgroundColor,E.backgroundColor,null));W=c(h(G.Lqb,D.Lqb,E.Lqb,null));V=h(G.characterEdgeAttributes,E.characterEdgeAttributes,null);K*=q[F] || 1;S=1;v[F] && (S=v[F][L] || 1);K*=1 / 19 * S;S=0;t[F] && (S=t[F][L] || 0);F=S;S=D.textOutline;S="string" !== typeof S?null:l(S).width;S=h(S,0);U=D.textOutline;U="string" !== typeof U?null:l(U).blur;U=h(U,0);fa=G.characterEdgeColor;qa=D.textOutline;qa="string" !== typeof qa?null:l(qa).color;return {characterUnderline:O,characterItalic:I,characterStyle:L,windowOpacity:M,characterOpacity:H,backgroundOpacity:J,characterColor:N,backgroundColor:P,windowColor:W,characterEdgeAttributes:V,characterSize:K,characterTracking:F,characterEdgeWidth:S,characterEdgeBlur:U,characterEdgeColor:c(h(fa,qa,E.characterEdgeColor,"#000000")),direction:h(G.direction,D.direction,E.direction,"ltr"),ruby:h(g(D.uxc,w),null),rubyAlign:h(g(D.vxc,u),null),rubyPosition:h(g(D.wxc,y),null),rubyReserve:h(g(D.xxc,x),null),textEmphasis:m(D.nyc),shear:D.Kgc?.01 * parseFloat(D.Kgc):null};}};k={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};n={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};p={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};q={SMALL:.5,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};v={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};t={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};w=("container base baseContainer text textContainer delimiter").split(" ");u=("start center end spaceAround spaceBetween withBase").split(" ");x=["before","after","both","outside"];y=["before","after","outside"];z=["filled","open"];B=["circle","dot","sesame"];A=["none","auto"];C=["before","after","outside"];},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.UOa=void 0;c=a(0);r=a(105);l=a(512);g=a(513);m=a(515);d=a(516);f=a(516);h=r.EventEmitter;a=(function(k){function n(p){var q,v,t,w,u;q=k.call(this) || this;v=p.preferences;t=p.bh;w=p.ue;u=p.qa;h.call(q);q.b8=new d.VOa(u);q.ZN="object" === typeof v?p.preferences:{};q.CN="object" === typeof t?p.bh:{};q.Qo="number" === typeof w?p.ue:0;q.Da="object" === typeof u?p.qa:console;q.Cm=[];q.zx=0;q.zr=q.Qo;q.We=null;q.eE=!1;q.HA=!1;q.yma=p.Xea || 0;q.Yp=new m.TOa(q.Da);return q;}c.__extends(n,k);n.prototype.start=function(){this.Da.info("Incremental live text stream created, starting at pts " + this.Qo);"undefined" !== typeof this.Yp.$va(this.Qo) && this.zBa.call(this,this.Qo);};n.prototype.cjb=function(p){var q,v,t,w;q=this;v=p.xml;t=v.indexOf("<p");this.Yp.wGb(p,-1 !== t?t:0);if(!this.eE){w=this.Yp.Cn[0];this.Yp.ppb(w);this.Qo=w.ca;}-1 < t?(this.b8.zGb(v,p.S,p.J0),this.Da.trace("Live segment " + p.S + " is pushed to segment manager",{ca:p.ca,Ta:p.Ta,fuc:p.J0}),!this.eE && 4 > this.zx && (v=0 < this.Cm.length?this.Cm[this.Cm.length - 1].startTime + 1:this.Qo,this.Da.trace("parseNextSegment is called from push new live Segment at " + v),this.zBa.call(this,v))):(this.Da.trace("Live segment " + p.S + " is pushed to segment manager, it is an empty segment"),this.eE || setTimeout(function(){q.D2(p.S);},10));};n.prototype.LJ=function(p){var q,v,t,w,u;q=this;t=this;t.Da.trace("LiveTextStream:get subtitles at pts " + p);w=t.Yp.$va(p);if("undefined" === typeof w)return (t.Da.debug("LiveTextStream: get subtitle at pts " + p + " returns empty result with segment not available at this pts"),[]);t.Yp.ppb(w);p < t.zr - t.yma?(t.Cm=[],t.zx=0):(t.zx=0 < t.Cm.length?Math.max(t.Yp.Q9a() - w.S + 1,0):0,0 === t.zx && (t.Cm=[]));w=t.Cm;u=0 < w.length?null === (v=w[w.length - 1]) || void 0 === v?void 0:v.startTime:p;t.zr=p;t.Da.info("LiveTextStream: timer is " + t.We + " bufffered segment number is " + t.zx + " is parsing entry : " + this.HA);for(!t.We && 4 > t.zx && !t.HA && (t.Da.info("LiveTextStream: buffer size: " + t.zx + "; minimum: 4"),t.HA=!0,t.We=setTimeout(function(){t.We=null;q.Da.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (u + 1));q.zBa.call(t,u + 1);},10));0 < w.length && w[0].endTime < p;){w.shift();}return l.vXb(w,p).map(function(x){var y;y=t.Yp.KXb(x.segId);return l.HQb.call(t,y,x);});};n.prototype.Dq=function(p,q){return this.b8?this.b8.Dq(p,q):0;};n.prototype.lha=function(p){return l.lha.call(this,p);};n.prototype.close=function(){};n.prototype.zBa=function(p){var q;q=this.DYb.call(this,p);"undefined" !== typeof q?(this.Da.trace("Next segment to parse at pts " + p + " is segment " + q.S),0 === q.Lwa?(this.Da.trace("This is an empty segment"),this.D2(q.S)):this.n$b.call(this,q)):(this.Da.debug("Next segment is undefined at pts " + p),this.HA=!1);};n.prototype.DYb=function(p){var q,v;v=this.b8.vYb(p);this.Da.trace("Most recent entry at current pts " + p + " is segment id  " + v);-1 === v && (v=(null === (q=this.Yp.$va(p)) || void 0 === q?void 0:q.S) || -1);return v === this.Yp.Q9a()?this.Yp.GYb():this.Yp.U$(v);};n.prototype.n$b=function(p){var q,v,t,w,u;q=this;v=this;t=p.xml.slice(0,p.Lwa);w=p.xml.slice(p.Lwa,p.xml.lastIndexOf("/p>") + 3);l.d$b(t,function(x,y){null !== x?(x.q0b=t,x.S=p.S,v.emit("error",x)):(u=y,v.Yp.elc(p.S,u),q.c$b.call(v,w,u,p));});};n.prototype.c$b=function(p,q,v){var t,w,u,x,y,z,B;t=this;w=this;u=0;x=[];y=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];w.Da.debug(p);B=g.yg(!0);B.onerror=function(A){A.xml=p;w.emit("error",A);};B.onend=function(){var A;A=w.Cm.reduce(function(C,D){D=D.blocks.reduce(function(E,G){return E.concat([G.id]);},[]);return C.concat(D);},[]);x.forEach(function(C){var D;if(-1 === A.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(E){return 0 < E.textNodes.length;});D && 0 < D.length && (C.blocks=D,w.Cm.push(C));}});t.D2(v.S);};B.ontext=function(A){("" !== A.trim() || A.match(/ +/)) && l.eh(l.eh(x).blocks).textNodes.push({text:A.match(/ +/)?A:A.trim(),style:l.eh(y),lang:l.eh(z),lineBreaks:u});u=0;};B.onclosetag=function(){var A;A=B.tag;"undefined" !== typeof A.attributes.style && y.pop();"undefined" !== typeof A.attributes["xml:lang"] && z.pop();};B.onopentag=function(A){var C,D;C=A.attributes;A=A.name;if("p" === A){u=0;A=v.S.toString() + "_" + C["xml:id"];C.style && y.push(C.style);C["xml:lang"] && z.push(C["xml:lang"]);D=f.C9(C.begin);0 === x.length || l.eh(x).displayTime !== D?(C=t.zOb(A,C,v.J0),C.segId=v.S,x.push(C)):l.eh(x).blocks.push({textNodes:[],region:C.region,id:A,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === A?(y.push(C.style),C["xml:lang"] && z.push(C["xml:lang"]),A=q.styles[C.style],C.style && A && A.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(A.ruby) && l.eh(l.eh(x).blocks).textNodes.push({text:"",style:l.eh(y),lang:l.eh(z),lineBreaks:0})):"br" === A && u++;};B.write("<entries>").write(p).write("</entries>").close();};n.prototype.zOb=function(p,q,v){var t;t={};t.id=p;t.startTime=f.C9(q.begin || "") - v;t.endTime=f.C9(q.end || "") - v;t.style=q.style;t.region=q.region;t.displayTime=t.startTime;t.duration=t.endTime - t.startTime;t.extent=q["tts:extent"] || null;t.origin=q["tts:origin"] || null;t.latestEndSoFar=0 > t.endTime?0:t.endTime;t.blocks=[{textNodes:[],region:t.region,id:p,extent:t.extent || null,origin:t.origin || null}];return t;};n.prototype.D2=function(p){this.Yp.D2(p);this.zx+=1;this.HA=!1;!this.eE && 4 <= this.zx && (this.eE=!0,this.emit("ready"));};return n;})(h);b.UOa=a;},function(r,b,a){var l,g,m,d,f,h;function c(k){l.call(this);this.Fm=k.url;this.Er=k.request;this.lI=k.ue || 0;this.Da=k.qa;this.Bj=this.Zs=null;k.tw?this.Zs=k.tw:(this.Mb=k.offset,this.eO=k.size);this.Dn;this.eoa=k;}l=a(105).EventEmitter;g=a(1255);m=a(1256);d=a(1257);f=a(165);h=c.events={swb:"midxready",Nyb:"sidxready",B5:"ready",Cg:"error"};c.prototype=Object.create(l.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{wr:{get:function(){return this.Dn && this.Dn.osa;}}});c.prototype.start=function(){this.Zs?(this.Da.warn("midx was prefectched and provided"),this.SXa(this.Zs)):this.UAb(this.Mb,this.eO,this.ZDb.bind(this));};c.prototype.close=function(){};c.prototype.Xaa=function(k,n){return this.Dn && this.Dn.jwa(k,n);};c.prototype.Dq=function(k,n){return (k=this.Xaa(k,n))?k.length:k;};c.prototype.FG=function(k,n){this.Da.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.lI=k;this.Dn?this.Dn.FG(k,n):n && n();};c.prototype.LJ=function(k){var n,p,q;if(!this.Dn || k > f.CXb(this.Zs))return [];this.Dn && this.Dn.Wsa(k);n=this.wr.rm;p=this.wr.index;q=[];p=f.xd(p) && this.Bj[p + 1];if(!(p && p.entries.length || n && !(k > n.endTime)))return [];n && n.images.length && (q=this.eYa(n,k,[]));2 > q.length && p && p.images.length && (n=this.eYa(p,k,q),q.push.apply(q,n));return this.Dn.YEa(k)?null:f.B3a(q);};c.prototype.Gk=function(k,n){this.Dn && this.Dn.Gk(k,n);};c.prototype.Bl=function(k,n){this.Dn && this.Dn.Bl(k,n);};c.prototype.UAb=function(k,n,p){this.Da.debug("downloading midx...");this.rYa(k,n,"binary",p);};c.prototype.VAb=function(k,n,p){this.Da.debug("downloading sidx...");this.rYa(k,n,void 0,p);};c.prototype.rYa=function(k,n,p,q){this.Er({url:this.Fm,offset:k,size:n,responseType:p},q);};c.prototype.ZDb=function(k,n){if(k)this.emit(h.Cg,f.PY(k,"midxdownloaderror"));else try{this.Zs=new g(n);this.SXa(this.Zs);}catch(p){this.emit(h.Cg,f.PY(p,"midxparseerror"));}};c.prototype.SXa=function(k){var n;n=k.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(h.swb,k),this.VAb(k.startOffset,n,this.bEb.bind(this,k))):this.emit(h.Cg,f.PY({},"nosidxfoundinmidx"));};c.prototype.bEb=function(k,n,p){var q,v,t,w;q=this;if(n)q.emit(h.Cg,f.PY(n,"sidxdownloaderror"));else {v=0;t=0;q.Bj=[];try{w=0;k.entries.forEach(function(u){var x;x=new m(p,v,k.uxa,q.Da,t,t + u.duration,w);q.Bj.push(x);u.fhc=x;t=x.ws;v+=u.size;w++;});}catch(u){q.emit(h.Cg,f.PY(u,"sidxparseerror"));return;}q.emit(h.Nyb,q.Bj);this.Dn=new d(q.eoa,k,q.Bj);n=q.lI;q.eoa && q.eoa.Rfa || (n=Math.max(q.lI - 1E4,0));this.Dn.Wsa(n,function(u){u && q.Da.error("initial sidx download failed");q.emit(h.B5);});}};c.prototype.eYa=function(k,n,p){var y;for(var q=k.entries,v=0,t=q.length,w=[],u,x=this.Zs;v < t;){u=q[v];if(u.displayTime <= n)u.displayTime + u.duration >= n && w.push(f.fsa(u,k.images[v].data,x));else {y=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > n && y.displayTime !== u.displayTime)break;y.aK !== u.aK && w.push(f.fsa(u,k.images[v].data,x));}v++;}return w;};r.exports=c;},function(r,b,a){var l,g;function c(m,d){this.duration=m;this.size=d;this.fhc=void 0;}l=a(292);g=a(165);r.exports=function(m){var k;m=new l(m);this.identifier=m.UCa(4);g.assert("midx" === this.identifier);this.version=m.xs(4);g.assert(0 === this.version);this.uxa=m.rl(36);this.creationTime=m.JR();this.Bp=m.JR();this.K=m.JR();this.zec=m.si();this.Aec=m.si();this.language=m.rl(16);m.rl(16);this.startOffset=m.JR();this.uP=m.si();for(var d=[],f=0,h=0;h < this.uP;h++){k=new c(m.xs(4),m.si());d.push(k);f+=k.duration;}this.entries=d;this.endTime=f;};},function(r,b,a){var g,m;function c(d,f,h,k,n,p,q,v){this.displayTime=d;this.duration=f;this.z9b=h;this.A9b=k;this.nhc=n;this.ohc=p;this.aK=q;this.fxa=v;}function l(d,f,h,k,n,p,q){var v;d=new g(d);v=0;d.position=f;this.Da=k;this.identifier=d.UCa(4);m.assert("sidx" === this.identifier,k);this.uxa=d.rl(36);m.WLb(this.uxa,h,k);this.duration=d.xs(4);this.uP=d.si();this.dz=n;this.ws=p;this.index=q || 0;this.entries=[];this.images=[];for(this.uoa=0;v < this.uP;){f=new c(d.xs(4),d.xs(4),d.si(),d.si(),d.si(),d.si(),d.JR(),d.xs(4));v++;this.entries.push(f);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}g=a(292);m=a(165);l.prototype.q1b=function(){this.uoa++;};l.prototype.bQb=function(){var d;d=0;this.uoa--;1 > this.uoa?this.images && 0 < this.images.length && (d+=m.fwa([this]),this.images=[]):this.Da.debug("Not cleaning up shared sidx with range",this.dz,"-",this.ws);return d;};r.exports=l;},function(r,b,a){var m,d;function c(f,h){var n;f=f || 0;if(h)for(var k in h.U){n=h.U[k];if(f >= (n.Ba || 0) && (!n.Aa || f < n.Aa))return k;}}function l(f,h){return f && h && h.U[f];}function g(f,h,k){var n;this.Da=f.qa;this.Bj=k;this.jE=this.xAb(f.Rfa);this.ai=[];n=k && k[k.length - 1];this.zr=n && (n.endTime || n.ws);this.Eg=new m(f,h,k);f=c(f.ue || 0,this.jE);this.Ko=this.vA(f);}m=a(1258);d=a(1260);Object.defineProperties(g.prototype,{osa:{get:function(){return this.Eg.osa;}}});g.prototype.jwa=function(f,h){return this.Eg && this.Eg.jwa(f,h);};g.prototype.Wsa=function(f,h){this.Eg.Sfc(f);this.r_a(f);if(!this.jE && this.zr && f > this.zr)h && h();else if((f=this.OXa(f,this.Ko,2,h),this.jE && 0 < this.Ko.agb.length))h && h();else if(this.jE && this.Ko.pQ && f){2 > this.ai.length && this.DAb(this.Ko);h=Math.ceil(2 / (this.ai.length - 1));for(var k=0;k < this.ai.length && f && 3 > k;k++){f=this.ai[k];f=this.OXa(f.startTime,f,h);}}};g.prototype.YEa=function(f){return this.Eg.YEa(f)?(this.Eg.gHb(),this.Wsa(f),this.Ko.pQ=!1,!0):!1;};g.prototype.FG=function(f,h){var k;this.r_a(f);this.ai.forEach(function(n){n.pQ=!1;});k=this.Ko.Fp && this.Ko.Fp[0];this.Eg.FG(f,k && k.index);(f=this.Eg.EZb(f)) && f.length?this.Eg.Q5a(f,h):h && h();};g.prototype.Bl=function(f,h){var k;this.Da.debug("Set next segment to",h,"for segment",f);f=this.WXa(f) || this.vA(f);f.olb=h;k=this;f.T_=f.T_.filter(function(n){if(n.id === h)return !0;k.Uma(n);return !1;});};g.prototype.Gk=function(f,h){var k;k=l(f,this.jE);Object.keys(k.next).forEach(function(n){k.next[n].weight=h[n] || 0;});};g.prototype.xAb=function(f){var h,n;h={};if(f=(f || ({})).U){h.U={};for(var k in f){n=f[k] || ({});h.U[k]={Ba:n.Ba,Aa:n.Aa,bc:n.bc,next:this.wAb(n.next)};}}return h;};g.prototype.wAb=function(f){var h,k;h={};for(k in f){h[k]={weight:(f[k] || ({})).weight};}return h;};g.prototype.r_a=function(f){var h,k;if(this.jE && this.Ko.startTime > f || this.Ko.endTime && this.Ko.endTime < f){h=this.Ko;k=c(f,this.jE);k?(this.Da.debug("Switching segments from",this.Ko.id,"to",k,"at pts",f),this.Ko=this.WXa(k) || this.vA(k),this.Uma(h)):this.Da.debug("The pts is outside of the current segment but not in a new one yet");}};g.prototype.vA=function(f){this.Da.debug("SegmentManager: creating segment",f);f=new d(f,l(f,this.jE),this.Bj,this.Da);this.ai.push(f);this.Da.debug("SegmentManager: segment contains",f.Fp.length,"sidxes");return f;};g.prototype.Uma=function(f){var h;if(f && f !== this.Ko){this.Da.debug("SegmentManager: deleting segment",f.id);f.T_.forEach(this.Uma.bind(this));this.ai=this.ai.filter(function(k){return k !== f;});h=f.M2a();this.Eg.idc(h && h.size || 0,h && h.Fp);}};g.prototype.WXa=function(f){var k;for(var h=0;f && h < this.ai.length;h++){k=this.ai[h];if(f === k.id)return k;}};g.prototype.DAb=function(f){var h,n;h=f.olb;if(h && "" !== h)f.T_.push(this.vA(h));else {h=f.agb;for(var k in h){n=h[k];if(!n || !n.weight)break;f.T_.push(this.vA(k));}}};g.prototype.OXa=function(f,h,k,n){if(!h || h.pQ)return (this.Da.debug("Done driving segment",h && h.id),!0);if(!this.Eg.lKb)return (this.Da.debug("Throttling buffering in quiet period"),!1);this.Da.debug("Drive streaming of segment",h.id,"from pts",f);k=(f=this.Eg.FZb(f,h,k)) && f.length || 0;if(0 === k)return (this.Da.debug("Segment is fully downloaded",h && h.id),h.pQ=!0,n && n(),!0);this.Da.debug("Downloading",k,"sidxes in segment",h.id);return this.Eg.Q5a(f,function(p,q){p && (h.pQ=!1);n && n(p,q);});};r.exports=g;},function(r,b,a){var h,k;function c(n,p,q){var v;v=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || v;}function l(n,p,q){return p && (!p.entries.length && n > p.dz || n > p.endTime) && q.entries.length && n < q.endTime;}function g(n,p,q){this.oI=this.Dx=0;this.rCb=n.bufferSize || 4194304;this.wr=new f();this.kI;this.dI=n.fg;this.Da=n.qa;this.Zs=p;this.Bj=q;this.fq=new h(n);this.zI=new d(this.Bj.length,n.i6a);this.RV=new m(n.L1a);}function m(n){this.hV=0 !== n;this.on=!1;this.Pk=n || 3E3;this.We;}function d(n,p){if(this.enabled=p)this.Fp=Array.apply(null,Array(n)).map(function(){return "-";});}function f(n,p){this.rm=n;this.index=p;}h=a(1259);k=a(165);f.prototype.reset=function(){this.index=this.rm=void 0;};d.prototype.ia=function(n){this.enabled && n < this.Fp.length && (this.Fp[n]="x");};d.prototype.dhb=function(n){this.enabled && n < this.Fp.length && (this.Fp[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.Fp.join("") + "|";};m.prototype.start=function(){var n;if(this.hV){n=this;this.on=!0;this.We=setTimeout(function(){n.on=!1;n.We=void 0;},this.Pk);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.We);this.We=void 0;};Object.defineProperties(g.prototype,{osa:{get:function(){return this.wr;}},lKb:{get:function(){return !this.RV.on;}}});g.prototype.EV=function(){this.zI.enabled && this.Da.debug("Buffer: " + this.zI.toString());};g.prototype.vEb=function(n){this.oI+=n;this.Da.debug("Reserved buffer size is",this.Dx + this.oI,"after reserving",n);};g.prototype.nFb=function(n){this.oI-=n;this.Da.debug("Reserved buffer size is",this.Dx + this.oI,"after unreserving",n);};g.prototype.vAb=function(n){this.Dx+=n;this.Da.debug("Buffer size is",this.Dx,"after claiming",n);};g.prototype.JZa=function(n){this.Dx-=n;this.Da.debug("Buffer size is",this.Dx,"after clearing",n);};g.prototype.idc=function(n,p){var q;this.JZa(n);q=this;p && this.zI.enabled && (p.forEach(function(v){q.zI.dhb(v.index);}),this.EV());};g.prototype.YEa=function(n){var p;p=this.lBb(n);return k.Tab(p) && k.yic(n,p);};g.prototype.Sfc=function(n){var p;p=this.jYa(n);(!p || p.index) !== (!this.wr || this.wr.index) && (this.kI=this.wr.rm,p?(this.dI && this.Da.debug("Current sidx is index",p.index),this.wr=p):(this.dI && this.Da.debug("Current sidx is out of range"),this.wr.reset()));this.kI && "number" === typeof this.kI.index && (n < this.kI.dz - 35E3 || n > this.kI.ws + 35E3) && (this.Lma(this.kI.index),this.kI=void 0,this.EV());};g.prototype.FG=function(n,p){var q,v;q=this.Bj && this.Bj.length;for(p;p < q;p++){(v=this.Bj[p]) && ((v.endTime || v.ws) >= n - 1E4 && (v.endTime || v.ws) < n + 3E5 || this.Lma(p));}this.RV.stop();this.EV();};g.prototype.gHb=function(){var n,p;this.Da.debug("executing aggressive cleanup");n=this.Bj && this.Bj.length;for(p=0;p < n;p++){p === this.wr.index && (p+=2);this.Lma(p);}this.RV.stop();this.EV();};g.prototype.EZb=function(n){var p,q,v,t;p=[];q=this.jYa(n);if(!q)return (this.wr.reset(),p);this.wr=q;v=n + 1E4;q=q.index;t=this.Bj[q];q;for(t;q < this.Bj.length && v > t.dz;(q++,t=this.Bj[q])){k.Tab(t) && k.zic(n,v,t) && p.push(t);}return p;};g.prototype.Q5a=function(n,p){var q,v,t,w,u,x;if(!n || !n.length)return (p && p(null),!0);this.fq.LV && 2 <= Object.keys(this.fq.LV).length && !this.RV.on && (this.Da.debug("Enabling buffering quiet period"),this.RV.start());q=this;v=n[0];t=n[n.length - 1];if(0 < v.entries.length)(w=v.entries[0].aK,u=v.entries[v.entries.length - 1]);0 < t.entries.length && (k.xd(w) || (w=t.entries[0].aK),u=t.entries[t.entries.length - 1]);if(w)x=u.aK + u.fxa - w;else return (p && p(null),!0);v=k.iva(w,x);if(this.fq.LV[v])(this.Da.debug("The request for",v,"is already pending. Not requesting again"),p && p());else if(this.KBb(k.fwa(n)))(this.Da.debug("Reserving",x,"bytes for subtitle request",n[0].dz,n[n.length - 1].ws),this.vEb(x),this.fq.DRb(n,w,x,function(y,z){q.Da.debug("Claiming reserved space.  Expected",x,"received",z);q.zI.enabled && (n.forEach(function(B){q.zI.ia(B.index);}),q.EV());q.nFb(x);q.vAb(z);p && p(y);}));else return (this.Da.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};g.prototype.jwa=function(n,p){var q,v,t;q=this.Zs;v=this.iYa(n,p,this.Bj);if(!v || 0 === v.length)return [];t=[];p=c.bind(null,n,p);for(var w=0;w < v.length;w++){n=v[w];t=t.concat(n.entries.filter(p));}t=t.map(function(u){return k.fsa(u,null,q);});return k.B3a(t);};g.prototype.FZb=function(n,p,q){return this.iYa(n,p.endTime,p.Fp,q,!0);};g.prototype.iYa=function(n,p,q,v,t){var w,u,x,y;if(p && n > p || 0 > n)this.Da.error("invalid range startPts: " + n + ", endPts: " + p);else {w=q && q.length || 0;u=[];if(q && 0 !== w){x=q[0].duration;y=q[0].dz;if(k.xd(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.dI && this.Da.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < w && (y=q[x],!k.xRb(y,n));x++){;}for(;x < w && (!v || u.length < v);){y=q[x];if(!t || !y.images.length && y.endTime > n)u.push(y);else if(u.length)break;if(p && p <= y.ws)break;x++;}return u;}}};g.prototype.lBb=function(n){var p,q,t;p=this.Bj;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.dz > n || n > q.ws))a:{this.aBb || (this.aBb=!0,q=k.$Xb(this.Zs.language),this.Da.error("bruteforce search for ",{movieId:this.Zs.K,packageId:this.Zs.Bp,lang:q}));q=p.length;for(var v=0;v < q;v++){t=p[v];if(t.dz <= n && n <= t.ws){q=t;break a;}}q=void 0;}return q;}};g.prototype.jYa=function(n){var p,q,v,t,w,u,x,y;p=this.wr;q=p.rm;v=p.index;t=this.Bj;this.Rma(k.xd(n));if(q)if(q.entries.length){if(0 === v && n <= q.startTime || n >= q.startTime && n <= q.endTime)(w=!0,u=p);else {if(0 < v){x=t[v - 1];l(n,x,q) && (w=!0,u=p);}}}else {x=t[v - 1];y=t[v + 1];l(n,x,q)?(w=!0,u=p):y && y.endTime && n <= y.endTime && (n >= q.endTime || n >= q.ws) && (w=!0,u=new f(y,v + 1));}if(!w)for((p=t.length,q=0);q < p;q++){if((v=t[q],v.entries.length && n <= v.endTime)){u=new f(v,q);break;}}return u;};g.prototype.KBb=function(n){return this.Dx + this.oI + n <= this.rCb;};g.prototype.Lma=function(n){var p,q,v;p=this.Bj[n];q=p && p.images && p.images.length || 0;if(0 < q){v=k.fwa([p]);p.images=[];this.zI.dhb(n);this.JZa(v);this.dI && this.Da.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:v,images:q,Iwc:this.Dx});}};g.prototype.Rma=function(n){this.dI && k.assert(n,this.Da);};r.exports=g;},function(r,b,a){var l,g;function c(m){this.Fm=m.url;this.Er=m.request;this.lI=m.ue || 0;this.dI=m.fg;this.Da=m.qa;this.LV={};}l=a(292);g=a(165);c.prototype.DRb=function(m,d,f,h){this.LV[g.iva(d,f)]=!0;m && m.forEach(function(k){k.nkb=!0;});this.Er({url:this.Fm,offset:d,size:f},this.xDb.bind(this,m,d,f,h));};c.prototype.xDb=function(m,d,f,h,k,n){var p,q,v,t;p=this;q=g.iva(d,f);setTimeout(function(){delete p.LV[q];},1E3);if(k)(h && h(k,0),m && m.forEach(function(w){delete w.nkb;}));else {v=new l(n);t=0;m && m.forEach(function(w){delete w.nkb;w.entries.forEach(function(u,x){v.position=u.aK - d;u={data:v.rl(u.fxa)};w.images[x]=u;g.Wlc(w.images[x].data,p.Rma.bind(p));t+=w.images[x].data.length;});});h && h(null,t);}};c.prototype.Rma=function(m){this.dI && g.assert(m,this.Da);};r.exports=c;},function(r){function b(a,c,l,g){this.Da=g;this.id=a;this.startTime=c && c.Ba || 0;this.endTime=c && c.Aa;this.agb=c && c.next || [];this.olb;this.T_=[];this.pQ=!1;a=this.startTime;c=this.endTime;for(var m=[],d=0;d < l.length;d++){(g=l[d]) && (!c || c > g.dz) && a < g.ws && (g.q1b(),m.push(g));}this.Fp=m;}b.prototype.M2a=function(){this.Da.debug("Cleaning up segment",this.id);for(var a,c=0,l,g=[],m=0;m < this.Fp.length;m++){a=this.Fp[m];(l=a.bQb()) && g.push(a);a && (c+=l);}this.Fp=[];return {size:c,Fp:g};};r.exports=b;},function(r,b,a){var c;c=a(105).EventEmitter;a(1262)({});b=function n(g,m,d,f,h,k){if(!(this instanceof n))return new n(g,m,d,f,h,k);c.call(this);this.ov=g;this.pV=m;this.V6=d;this.cCb=f;this.ek={};this.Wk={};this.Da=h || console;this.Wp=!1;this.Gna=k.ta;this.eEb=k && k.Xea || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.We);this.We=void 0;this.lfa();};b.prototype.lfa=function(){var g;g=this;Object.keys(g.ek).forEach(function(m){g.emit("removesubtitle",g.ek[m]);});g.ek={};g.Wk={};};b.prototype.pause=function(){this.Wp || (clearTimeout(this.We),this.We=void 0);};b.prototype.Lu=function(g,m){var d,f;d=this;f=d.ov();g=d.pV(f);null !== g && d.Wp && (d.Wp=!1,this.Da.debug("bufferingComplete"),d.emit("bufferingComplete"),this.cCb())?this.Da.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(m="number" === typeof m?m:0,Object.keys(d.ek).forEach(function(h){h=d.ek[h];h.displayTime - d.eEb <= f && f < h.displayTime + h.duration || (delete d.ek[h.id],d.emit("removesubtitle",h));}),Object.keys(d.Wk).forEach(function(h){h=d.Wk[h];f >= h.displayTime + h.duration && delete d.Wk[h.id];}),null !== g && 0 < g.length?(m=g.length,d.Da.debug("found " + m + " entries for pts " + f),g.forEach(function(h){h.displayTime - 0 <= f && f < h.displayTime + h.duration && !d.ek[h.id] && (d.emit("showsubtitle",h),d.ek[h.id]=h,delete d.Wk[h.id]);}),m=g[g.length - 1],d.ek[m.id] || d.Wk[m.id] || (d.emit("stagesubtitle",m),d.Wk[m.id]=m),m=d.fFb(f,g),"number" === typeof m && Infinity > m?d.ZV(m):d.ZV(2E4)):null === g?(g=250 * Math.pow(2,m),2E3 < g && (g=2E3),d.Da.warn("checking buffer again in " + g + "ms"),d.Wp || (d.Wp=!0,d.emit("underflow")),d.ZV(g,m + 1)):d.Gna?(g=500,d.Da.trace("Live : No entries for " + f + "checking buffer again in " + g + "ms"),d.ZV(g)):d.ZV(2E4));};b.prototype.ZV=function(g,m){var d;d=this;d.Da.debug("Scheduling pts check.",{timeout:g,KS:d.We});clearTimeout(d.We);d.We=setTimeout(function(){d.Lu(d.ov(),m);},g);};b.prototype.fFb=function(g,m){m=m.reduce(this.KCb.bind(this,g),Infinity);return Infinity > m?this.V6(m,g):m;};b.prototype.KCb=function(g,m,d){var f;f=d.displayTime;d=d.displayTime + d.duration;this.Da.debug("next events: start",f,"end",d,"now",g);return f < m && g < f?f:d < m && g < d?d:m;};r.exports=b;},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var m,d,f;function c(h,k,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + k + "'"));}function l(h,k,n){var p;p=d[h];"undefined" !== typeof p?p(k) || c(h,k,n):h !== typeof k && c(h,k,n);}function g(h,k){var n;n=h.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});n=n.concat(h.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(v){return q[v];}).filter(function(v){return -1 === f.indexOf(v);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(q,v){var t;t=p[v];if("string" === typeof q)l(q,t,{index:v});else if("object" === typeof q)Object.keys(q).forEach(function(w){l(q[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return k.apply(this,p);};}m=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < m.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}f=Object.keys(d).concat(m);return g(["array","function"],g);};},function(r,b,a){var g,m,d,f;function c(h,k,n){void 0 === n && (n=0);return h.displayTime - n <= k && k < h.displayTime + h.duration;}function l(h,k){for(var n=0;n < h.length;n++){if(k(h[n],n,h))return h[n];}}Object.defineProperty(b,"__esModule",{value:!0});b.Oc=b.Dsb=b.HIa=void 0;g=a(0);m=a(60);d=a(13);r=(function(h){function k(n,p,q,v,t,w,u,x){var y,z,B;B=h.call(this) || this;B.tBb=n;B.pV=p;B.zBb=q;B.qa=v;B.lw=t;B.Pva=w;B.zea=u;B.options=x;B.Wk=[];B.ek=[];B.Ig=[];B.XBa=new d.gf();B.fEa=new d.gf();B.t9=new d.gf();B.SD=new f(function(){return p(n());},B.qa,(null === (y=B.options) || void 0 === y?void 0:y.ta) || !1);B.SD.events.on("bufferingcomplete",function(){var A;B.qa.trace("AseTimer:Received buffering complete from watcher");null === (A=B.Ro) || void 0 === A?void 0:A.zg();B.WAa();});B.SD.jCa();B.smb();B.XBa.on(B.zea,"segmentPresenting",function(){B.Ugb();});B.XBa.on(B.zea,"taskSchedulerChanged",function(){B.smb();});null === (z=B.Ro) || void 0 === z?void 0:z.Wa();return B;}g.__extends(k,h);Object.defineProperty(k.prototype,"_buffering",{get:function(){return this.SD.YW;},enumerable:!1,configurable:!0});k.prototype.xic=function(){var n,p,q,v,t,w,u,x,y,z,B,A,C,D;D=this;return g.__generator(this,function(E){switch(E.label){case 0:this.qa.trace("AseTimer:Starting subtitle worker");if(this.lw())return (this.qa.trace("Paused: exiting"),[2]);n=function(){return D.bf.za.currentTime.Z;};p=this.tBb;this.Ig=this.ek.concat(this.Wk);this.Pib(p(),!0);E.label=1;case 1:if(!this.Ig.length)return [3,3];v=q=p();this.B2a(q);try{for((t=(A=void 0,g.__values(this.Ig)),w=t.next());!w.done;w=t.next()){u=w.value;this.qa.trace("AseTimer:Checking subtitle " + u.id);q >= u.displayTime + u.duration || (c(u,q,this.options.dyc)?(this.qa.trace("AseTimer:Showing subtitle " + u.id),this.dbc(u),v=Math.max(q,u.displayTime)):(this.qa.trace("AseTimer:Staging subtitle " + u.id),this.qFa(u)));}}catch(G){A={error:G};}finally{try{w && !w.done && (C=t.return) && C.call(t);}finally{if(A)throw A.error;}}x=this.OJb(v);if(!isFinite(x))return (this.SD.jCa(),[3,3]);y=n();z=this.zBb(x,q);if(void 0 === z)return [3,3];B=Math.max(z,10) + y;this.qa.trace("AseTimer:Sleeping till PlayerTime " + B);return [4,m.cj.jD(m.P.Na(B))];case 2:return (E.ub(),this.Pib(p()),[3,1]);case 3:return (this.qa.trace("AseTimer:Checking removed subtitles one more time " + p()),this.B2a(p()),this.qa.trace("AseTimer:Ending subtitle worker"),[2]);}});};k.prototype.Pib=function(n,p){var q,v,t,w,u;v=this;void 0 === p && (p=!1);t=p || !this.Wk.length;t || (t=this.Ig[this.Ig.length - 1].displayTime > n);if(t){this.qa.trace("AseTimer:Getting subtitles for " + n,{Ktc:this.bf.za.currentTime});w=this.pV(n);if(w){this.qa.trace("AseTimer:Received " + w.length + " subtitles");t=function(B){l(u.Ig,function(A){return A.id === B.id;}) || n >= B.displayTime + B.duration || (u.qa.trace("AseTimer:adding " + B.id,{start:B.startTime,euc:B.displayTime,end:B.endTime,puc:B.duration}),u.Ig.push(B));};u=this;try{for(var x=g.__values(w),y=x.next();!y.done;y=x.next()){t(y.value);}}catch(B){var z;z={error:B};}finally{try{y && !y.done && (q=x.return) && q.call(x);}finally{if(z)throw z.error;}}p && this.Ig.filter(function(B){return !l(w,function(A){return A.id === B.id;});}).forEach(function(B){return v.h0(B);});this.Ig.length || this.SD.jCa();}else this.li();}};k.prototype.stop=function(){var n;this.qa.trace("AseTimer:Stop");null === (n=this.Ro) || void 0 === n?void 0:n.Wa();this.SD.reset();this.lfa();this.XBa.clear();this.fEa.clear();this.t9.clear();};k.prototype.lfa=function(){var n,p,q,v;this.qa.trace("AseTimer:Removing all",this.ek.length);v=this.ek;try{for(var t=g.__values(v),w=t.next();!w.done;w=t.next()){this.h0(w.value);}}catch(x){var u;u={error:x};}finally{try{w && !w.done && (n=t.return) && n.call(t);}finally{if(u)throw u.error;}}this.ek=[];if(null === (p=this.Ro) || void 0 === p?0:p.Ibb)null === (q=this.Ro) || void 0 === q?void 0:q.Wa();};k.prototype.pause=function(){var n;null === (n=this.Ro) || void 0 === n?void 0:n.Wa();};k.prototype.Lu=function(){var n,p,q,v;(null === (n=this.Ro) || void 0 === n?void 0:n.state) !== m.Bm.complete && (null === (p=this.Ro) || void 0 === p?void 0:p.state) !== m.Bm.lJ || this.lw() || (null === (q=this.Ro) || void 0 === q?void 0:q.zg());this.Wp && this.SD.check();this.lw() && (null === (v=this.Ro) || void 0 === v?void 0:v.Wa());};k.prototype.smb=function(){var n;n=this;this.qa.trace("Setting up new task scheduler");(this.bf=this.Pva())?(this.fEa.clear(),this.fEa.on(this.bf,"clockChanged",function(){return n.Jgb();}),this.Ro=this.bf.vB(function(){return n.xic();},"subtitleWorker"),this.Jgb()):this.qa.warn("AseTimer: no player task scheduler");};k.prototype.OJb=function(n){var p;return null !== (p=this.Ig.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,v){return q.concat(v);},[]).filter(function(q){return q > n;}).sort(function(q,v){return q - v;})[0]) && void 0 !== p?p:Infinity;};k.prototype.Jgb=function(){var n,p,q;n=this;this.t9.clear();(null === (p=this.bf) || void 0 === p?0:p.za)?(this.qa.trace("onClockChanged: clock listeners registered"),this.t9.on(this.bf.za,"clockAdjusted",function(v){v.reason === m.GT.ro && n.Ugb();}),this.t9.on(this.bf.za,"stopStart",function(){var v;null === (v=n.Ro) || void 0 === v?void 0:v.zg();})):this.qa.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.Ro) || void 0 === q?void 0:q.zg();};k.prototype.Ugb=function(){var n,p;this.qa.trace("Timeline changed");this.lfa();this.lw()?null === (p=this.Ro) || void 0 === p?void 0:p.Wa():null === (n=this.Ro) || void 0 === n?void 0:n.zg();};k.prototype.qFa=function(n){-1 === this.Wk.indexOf(n) && this.p9b(n);};k.prototype.B2a=function(n){var p,q,w;q=this.ek.concat(this.Wk);try{for(var v=g.__values(q),t=v.next();!t.done;t=v.next()){w=t.value;n >= w.displayTime + w.duration && this.h0(w);}}catch(x){var u;u={error:x};}finally{try{t && !t.done && (p=v.return) && p.call(v);}finally{if(u)throw u.error;}}};k.prototype.dbc=function(n){-1 === this.ek.indexOf(n) && (this.ek.push(n),-1 !== this.Wk.indexOf(n) && (this.Wk=this.Wk.filter(function(p){return p !== n;})),this.iBa(n));};k.prototype.iBa=function(n){this.qa.trace("AseTimer:Showing",n.id);this.emit("showsubtitle",n);};k.prototype.p9b=function(n){this.qa.trace("AseTimer:Staging",n.id);this.Wk.push(n);this.emit("stagesubtitle",n);};k.prototype.li=function(){this.qa.trace("AseTimer:onUnderflow",this.Wp);this.Wp || (this.emit("underflow"),this.SD.li());};k.prototype.h0=function(n){this.qa.trace("AseTimer:Removing",n.id);-1 !== this.Wk.indexOf(n) && (this.Wk=this.Wk.filter(function(p){return p !== n;}));-1 !== this.ek.indexOf(n) && (this.emit("removesubtitle",n),this.ek=this.ek.filter(function(p){return p !== n;}));this.Ig=this.Ig.filter(function(p){return p !== n;});};k.prototype.WAa=function(){var n;this.Ig.length && (this.emit("bufferingComplete"),this.lw() || (null === (n=this.Ro) || void 0 === n?void 0:n.zg()));};return k;})(d.EventEmitter);b.HIa=r;f=(function(){function h(k,n,p){void 0 === p && (p=!1);this.pV=k;this.qa=n;this.Gna=p;this.events=new d.EventEmitter();this.Wp=!1;}Object.defineProperty(h.prototype,"buffering",{get:function(){return this.Wp;},enumerable:!1,configurable:!0});h.prototype.jCa=function(){var k;k=this;this.qa.trace("AseTimer:Buffering watcher restart");this.Wp=!0;this.SDb=this.Gna?setInterval(function(){return k.check();},500):setInterval(function(){return k.check();},2E4);};h.prototype.li=function(){this.qa.trace("AseTimer:Buffering watcher underflow");this.Wp=!0;this.F2a(1);};h.prototype.reset=function(){this.qa.trace("AseTimer:Buffering watcher reset");clearInterval(this.SDb);clearTimeout(this.mFb);this.Wp=!1;};h.prototype.F2a=function(k){var n;n=250 * (1 << k);2E3 < n && (n=2E3);this.check();this.Wp && (this.mFb=setTimeout(this.F2a.bind(this,k + 1),n));};h.prototype.check=function(){var k;k=this.pV();this.qa.trace("AseTimer:Buffering complete check",null === k || void 0 === k?void 0:k.length);null !== k && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",LG:k}));};return h;})();b.Dsb=f;b.Oc=l;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.bG=void 0;r=a(1);c=a(517);l=a(1265);g=a(164);b.bG=new r.Gd(function(m){m(c.Bka).to(l.FQa).la();m(g.tU).u2(function(d){return function(){return d.zb.get(c.Bka).p7b;};});});},function(r,b,a){var l;function c(){var g;g=this;this.ready=!1;this.p7b=new Promise(function(m){g.lec=m;});}Object.defineProperty(b,"__esModule",{value:!0});b.FQa=void 0;r=a(0);a=a(1);c.prototype.q7b=function(g){this.ready || (this.lec(g),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};l=c;l=r.__decorate([(0,a.$)()],l);b.FQa=l;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.fl=void 0;r=a(1);c=a(94);l=a(518);g=a(1267);m=a(520);d=a(1268);b.fl=new r.Gd(function(f){f(c.Qz).df(function(){return function(){return mb._cad_global.device;};});f(m.WKa).to(d.VKa).la();f(l.TKa).to(g.SKa).la();});},function(r,b,a){var l,g,m,d,f,h;function c(k,n){this.za=k;this.QCa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=void 0;r=a(0);l=a(27);g=a(5);m=a(147);d=a(519);f=a(54);a=a(1);c.prototype.$Vb=function(){for(var k="",n=this.za.nf.ia(g.va),p=6;p--;){k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + k;n=Math.floor(n / 32);}for(;30 > k.length;){k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.QCa.jjb(new d.Gla(0,31,f.Egb))];}return k;};h=c;h=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(l.Jh)),r.__param(1,(0,a.l)(m.J5))],h);b.SKa=h;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t,w){this.ZQb=p;this.gn=q;this.Ib=t;this.u$b=w;this.FLa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=v.fb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.VKa=void 0;r=a(0);l=a(4);g=a(25);m=a(1269);d=a(7);f=a(518);h=a(1);k=a(83);a=a(521);c.prototype.X6a=function(p){try{return p.match(this.FLa)[2];}catch(q){}};c.prototype.WTb=function(p){try{return p.match(this.FLa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(v,t){q.gn.create().then(function(w){var x,y,z,B,A,C;function u(D){q.Ib.So(D) && q.Ib.So(x)?(y=new m.UKa(D,x,void 0,z,p.LX || "cadmium"),v(y)):t({Ca:l.Y.xKa});}x=p.uq;if(p.gva){z="bind_device";q.u$b.Tf(q.log,{}).then(function(D){u(D.esn);}).catch(function(D){t(D);});}else if(p.IP){A=p.Yl;if(q.Ib.So(A)){C=q.WTb(A);C != p.uq && q.log.error("esn prefix from ui is different",{ui:C,cad:p.uq,ua:p.userAgent});}else p.eza && q.log.error("esn from ui is missing");!p.US && q.Ib.So(A)?(z="config",u(A)):w.load(p.s5a).then(function(D){B=D.value;q.Ib.So(B) && (!1,q.Ib.So(A)?(D=q.X6a(A),z=D === B?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",u(x + B));}).catch(function(D){var F;function E(){w.save(p.s5a,F,!1).then(function(){u(x + F);}).catch(function(L){t(L);});}function G(){F=q.ZQb.$Vb();!1;E();}if(D.Ca === l.Y.kA){if(q.Ib.So(p.Yl)){F=q.X6a(p.Yl);q.Ib.So(F)?(z="config_since_not_in_storage",E()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.Yl),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(D);});}else u();}).catch(function(w){t(w);});});};n=c;n=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(f.TKa)),r.__param(1,(0,h.l)(k.Iz)),r.__param(2,(0,h.l)(d.jb)),r.__param(3,(0,h.l)(g.Vg)),r.__param(4,(0,h.l)(a.RRa))],n);b.VKa=n;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UKa=void 0;b.UKa=function(a,c,l,g){this.Yl=a;this.uq=c;this.C$=g;};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F;Object.defineProperty(b,"__esModule",{value:!0});b.Odb=void 0;r=a(1);c=a(164);l=a(1271);g=a(1272);m=a(1273);d=a(1274);f=a(1275);h=a(11);k=a(1276);n=a(1277);p=a(1278);q=a(48);v=a(94);t=a(526);w=a(523);u=a(522);x=a(87);y=a(293);z=a(50);B=a(201);A=a(1279);C=a(528);D=a(529);E=a(1282);G=a(530);F=a(1283);b.Odb=new r.Gd(function(L){L(z.Fo).to(g.aPa).la();L(w.yQa).to(m.xQa).la();L(u.pPa).to(d.oPa).la();L(y.lPa).to(f.kPa).la();L(z.bka).to(k.$Oa).la();L(x.Xz).to(n.hPa).la();L(y.jPa).to(p.iPa).la();L(B.fU).to(A.eU).la();L(B.eka).to(E.mPa).la();L(G.iU).to(F.hU).la();L(C.cLa).to(D.bLa).la();L(t.iIa).to(l.hIa).la();L(z.bPa).u2(function(O){return function(){return O.zb.get(c.tU)().then(function(K){return new Promise(function(I){var H,J,N;function M(){J() && N() && K.P_?I(O.zb.get(z.Fo)):H.yl(M);}H=O.zb.get(q.ak);J=O.zb.get(h.wc);N=O.zb.get(v.Qz);H.yl(M);});});};});});},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v){var t;t=this;this.c5b=n;this.eC=p;this.config=v;this.bDa=[];this.c5b.kfa(l.erb,this.D_b.bind(this));q().then(function(w){var u;u=v().Sr.rVb;t.T5b=u?k.Jk[u.toUpperCase()]:k.Jk.Cg;t.Rg=w;t.Bfc();});}Object.defineProperty(b,"__esModule",{value:!0});b.hIa=void 0;r=a(0);g=a(1);m=a(11);d=a(114);f=a(50);h=a(87);k=a(7);c.prototype.D_b=function(n,p){this.Rg?this.fjb(n,p):this.bDa.push([n,p]);};c.prototype.Bfc=function(){var n,p;n=this;p=this.bDa;this.bDa=[];p.forEach(function(q){n.fjb(q[0],q[1]);});};c.prototype.fjb=function(n,p){var q;if(this.Rg && this.Pgc(n)){q={debugMessage:n.message,debugCategory:n.oq};n.fd.forEach(function(v){return q=Object.assign(Object.assign({},q),v.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.eC.Iv("debug",k.Jk[n.level].toLowerCase(),q,p);this.Rg.Dc(n);}};c.prototype.Pgc=function(n){var p;p=this.T5b;return void 0 !== p && n.level <= p && !n.fd.find(function(q){return q.hY(k.LT);});};a=l=c;a.erb="adaptorAll";a=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(d.FM)),r.__param(1,(0,g.l)(h.Xz)),r.__param(2,(0,g.l)(f.bPa)),r.__param(3,(0,g.l)(m.wc))],a);b.hIa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.config=t;this.json=w;this.Jc=u;this.T4b=x;this.G_=z;this.dca=this.hw=!1;this.listeners=[];(0,g.Kq)(this,"json");this.qa=y.fb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.aPa=void 0;r=a(0);l=a(1);g=a(54);m=a(37);d=a(522);f=a(48);h=a(7);k=a(50);n=a(523);p=a(4);q=a(112);a(139);v=a(282);c.prototype.oa=function(){this.hw=!0;};c.prototype.Dc=function(t){var w;w=this;this.Ygc(t) || (!1,0 < t.size.Jm(this.config.O5b)?this.qa.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(u){return u.x6b(t);}),!1,this.G_.lpa(t),this.Jc.yl(function(){w.YUb();})));};c.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.dca?(this.qa.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(u,x){w.qa.trace("Flushing",h.LT);w.Is();w.Jc.yl(function(){w.uEa(t).then(function(){u();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.uEa=function(t){var w,u;w=this;t=void 0 === t?!1:t;if(!this.hw)return (this.qa.trace("LogBatcher is not initialized"),Promise.resolve());if(this.dca)return (this.qa.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());u=this.G_.DWb();if(0 === u.length && !t)return (this.qa.trace("No logblobs to send"),Promise.resolve());!1;this.Is();this.listeners.forEach(function(){});t=Promise.resolve();for(var x={},y=oa(u),z=y.next();!z.done;(x={Kha:x.Kha},z=y.next())){x.Kha=z.value;t=t.then((function(B){return function(){return w.yfc(B.Kha);};})(x));}return t.then(function(){return w.bF();}).catch(function(B){u.filter(function(A){return !A.Wt;}).forEach(function(A){return A.Rv();});w.bF();throw Error("Send failure. " + B);});};c.prototype.yfc=function(t){var w;w=this;this.qa.trace("Sending batch: " + t.size,h.LT);return Promise.resolve(this.G_.ldc(t)).then(function(){return w.T4b.send(t.EK);}).then(function(){return t.AS();}).catch(function(u){w.qa.warn("Failed to send batch of logblobs.",u,h.LT);t.Rv();w.Mgc(u) && w.G_.gGb(t);w.Zgc(u) && (w.dca=!0);throw u;});};c.prototype.Mgc=function(t){return t.vd === p.Y4.LRa?!1:this.config.gpa;};c.prototype.Zgc=function(t){return t.xc === p.Y.vMa || t.xc === p.Y.UT || t.xc === p.Y.YT?!0:!1;};c.prototype.YUb=function(){var t;t=this;0 < this.G_.size.Jm(this.config.Ceb)?this.uEa().catch(function(w){return t.qa.warn("Failed to send log messages on size threshold. " + w);}):this.bF();};c.prototype.Is=function(){this.rca && (!1,this.rca.cancel(),this.rca=void 0);};c.prototype.bF=function(){this.rca || (!1,this.rca=this.Jc.zl(this.config.zfc,this.lR.bind(this)));};c.prototype.lR=function(){var t;t=this;this.dca=!1;this.Is();this.uEa().catch(function(w){return t.qa.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(u){}return w;};c.prototype.Ygc=function(t){return 0 <= this.config.umb.indexOf(t.type)?!0:t.type === v.Wc.debug?0 <= this.config.tmb.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(k.bka)),r.__param(1,(0,l.l)(m.qH)),r.__param(2,(0,l.l)(f.ak)),r.__param(3,(0,l.l)(d.pPa)),r.__param(4,(0,l.l)(h.jb)),r.__param(5,(0,l.l)(n.yQa)),r.__param(6,(0,l.l)(q.Q3))],a);b.aPa=a;},function(r,b,a){var g,m,d,f,h,k,n;function c(p){this.eO=d.Pa;this.Wna=[];this.wV=this.Y6=!1;p && (this.eO=p.size,this.Wna=p.EK);}function l(p,q,v,t){this.y6b=p;this.config=q;this.vg=v;this.json=t;(0,m.Kq)(this,"json");this.qa=this.vg.fb("MessageQueue");this.Dv=[];}Object.defineProperty(b,"__esModule",{value:!0});b.xQa=void 0;r=a(0);g=a(1);m=a(54);d=a(52);f=a(293);h=a(7);k=a(37);a=a(50);l.prototype.lpa=function(p){var q,v;0 === this.Dv.length && this.Dv.push(this.lva());if(p=this.vZb(p)){q=this.y6b.measure([p]);v=this.Dv[this.Dv.length - 1];0 < v.size.add(q).Jm(this.config.Ceb) && (v=this.lva(),this.Dv.push(v));v.lpa(p);}};l.prototype.DWb=function(){var p;p=this.Dv.filter(function(q){return q.sKb;});this.Dv.push(this.lva());p.forEach(function(q){return q.E5b();});return p;};l.prototype.gGb=function(p){p.Wt || this.Dv.unshift(new c(p));};l.prototype.ldc=function(p){p=this.Dv.indexOf(p);0 <= p && this.Dv.splice(p,1);};l.prototype.vZb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,v;q={};p=p.data;v=p.debugMessage;v && "string" === typeof v && (q.originalDebugMessage=v);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.qa.error("JSON.stringify error: " + t.message,q);}};l.prototype.lva=function(){return new c();};Va.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Dv.reduce(function(p,q){return p.add(q.size);},d.Pa);}}});n=l;n=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(f.lPa)),r.__param(1,(0,g.l)(a.bka)),r.__param(2,(0,g.l)(h.jb)),r.__param(3,(0,g.l)(k.qH))],n);b.xQa=n;c.prototype.AS=function(){this.Y6=!1;this.wV=!0;};c.prototype.Rv=function(){this.Y6=!1;};c.prototype.lpa=function(p){this.Wna.push(p);this.eO=this.eO.add(p.size);};c.prototype.E5b=function(){this.Y6=!0;};Va.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.eO;}},EK:{configurable:!0,enumerable:!0,get:function(){return this.Wna;}},sKb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.EK.length && !1 === this.Y6;}},Wt:{configurable:!0,enumerable:!0,get:function(){return this.wV;}}});},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t;function c(w,u,x,y,z,B,A,C){this.Ia=w;this.platform=x;this.fl=y;this.json=z;this.Yi=B;this.Ri=A;this.a5b=C;(0,m.Kq)(this,"json");this.qa=u.fb("LogblobSender");}function l(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.oPa=void 0;r=a(0);g=a(1);m=a(54);d=a(37);f=a(5);h=a(31);k=a(18);n=a(45);p=a(94);q=a(7);v=a(524);a=a(84);c.prototype.send=function(w){var u;u=this;return new Promise(function(x,y){var z;try{z=w.reduce(function(B,A){B.entries.push(u.NOb(A));return B;},new l());x(u.cWb(z));}catch(B){u.qa.error(B.message);y(B);}}).then(function(x){return u.wEa(x);});};c.prototype.NOb=function(w){return this.Yi.ZF(this.Yi.ZF({},w.data),{esn:this.fl().Yl,sev:w.severity,type:w.type,lver:this.platform.jza,jssid:this.Ia.id,devmod:this.platform.TE,jsoffms:w.timestamp.Ea(this.Ia.cC).ia(f.va),clienttime:w.timestamp.ia(f.va),client_utc:w.timestamp.ia(f.Go),uiver:this.Ri.xz});};c.prototype.cWb=function(w){var u;u=this;try{return this.json.stringify(w);}catch(z){for(var x={},y=0;y < w.entries.length;(x={iT:x.iT,$w:x.$w},++y)){x.$w=Object.assign({},w.entries[y]);try{this.json.stringify(x.$w);}catch(B){x.iT=void 0;this.Yi.cF(x.$w,(function(A){return function(C,D){try{u.json.stringify(D);}catch(E){A.iT=E.message;A.$w[C]=A.iT;}};})(x));x.$w.stringifyException=x.iT;x.$w.originalType=x.$w.type;x.$w.type="debug";x.$w.sev="error";}}return this.json.stringify(w);}};c.prototype.wEa=function(w){var u;u=this;return this.a5b.Tf(this.qa,{logblobs:w}).then(function(){!1;}).catch(function(x){u.qa.error("PBO logblob failed",x);return Promise.reject(x);});};t=c;t=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(k.jd)),r.__param(1,(0,g.l)(q.jb)),r.__param(2,(0,g.l)(n.Rp)),r.__param(3,(0,g.l)(p.Qz)),r.__param(4,(0,g.l)(d.qH)),r.__param(5,(0,g.l)(h.Di)),r.__param(6,(0,g.l)(a.gA)),r.__param(7,(0,g.l)(v.iSa))],t);b.oPa=t;},function(r,b,a){var l,g,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.kPa=void 0;r=a(0);l=a(1);g=a(293);m=a(52);c.prototype.measure=function(d){var f;f=this;return d.map(function(h){return h.size.add(f.config.W4b());}).reduce(function(h,k){return h.add(k);},(0,m.ga)(0));};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jPa))],a);b.kPa=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p){n=h.If.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.O5b=(0,l.ga)(5E5);n.zfc=(0,g.zda)(1);n.Ceb=(0,l.ga)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.$Oa=void 0;r=a(0);l=a(52);g=a(5);m=a(1);d=a(11);f=a(46);h=a(47);a=a(33);la(c,h.If);Va.Object.defineProperties(c.prototype,{gpa:{configurable:!0,enumerable:!0,get:function(){return this.config().gpa;}},umb:{configurable:!0,enumerable:!0,get:function(){return [];}},tmb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=c;r.__decorate([f.config(f.object(),"shedLogblobTypes")],k.prototype,"umb",null);r.__decorate([f.config(f.WA("string"),"shedDebugTypes")],k.prototype,"tmb",null);k=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(a.vn)),r.__param(1,(0,m.l)(d.wc))],k);b.$Oa=k;},function(r,b,a){var g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z,B,A,C,D,E){this.platform=w;this.jsa=u;this.userAgentData=x;this.type=y;this.severity=z;this.timestamp=B;this.Ia=C;this.data=A;this.data.type=y;this.data.sev=z;this.data.devmod=this.platform.TE;this.data.clver=this.platform.version;t && t.Kd && (t.Kd.os && (this.data.osplatform=t.Kd.os.name,this.data.osver=x.platformVersion.UZ?x.platformVersion.version:t.Kd.os.version),this.data.browsername=t.Kd.name,this.data.browserver=t.Kd.version);t.lya && (this.data.tester=!0);t.WJ && !this.data.groupname && (this.data.groupname=t.WJ);t.LO && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + t.LO:t.LO);t.A2 && (this.data.uigroupname=t.A2);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ia.jYb();this.data.uniqueLogId=D.l8a();this.data.appId=this.Ia.id;E && (t=this.Ia.Rb(),this.data.soffms=t.Ea(E.oj).ia(f.va),this.data.mid=this.data.mid || E.K,this.data.lvpi=E.iza,this.data.uiLabel=E.oe,this.data.uxLabels=E.sha,y="startup" === y?"playbackxid":"xid",this.data[y]="xid" === y && this.data.xid || E.sa,E.AL && (y=E.AL,(E=E.AL.split(".")) && 1 < E.length && "S" !== E[0][0] && (y="SABTest" + E[0] + ".Cell" + E[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + y:y));}function l(t,w,u,x,y,z,B){this.za=t;this.jsa=w;this.config=u;this.Ia=x;this.Qlc=y;this.platform=z;this.userAgentData=B;}Object.defineProperty(b,"__esModule",{value:!0});b.hPa=void 0;r=a(0);g=a(52);m=a(1);d=a(27);f=a(5);h=a(362);k=a(39);n=a(18);p=a(525);q=a(45);a=a(176);l.prototype.Iv=function(t,w,u,x){return new c(this.config,this.platform,this.jsa,this.userAgentData,t,w,this.za.nf,u,this.Ia,this.Qlc,x);};v=l;v=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.Jh)),r.__param(1,(0,m.l)(h.sKa)),r.__param(2,(0,m.l)(k.Lp)),r.__param(3,(0,m.l)(n.jd)),r.__param(4,(0,m.l)(p.FWa)),r.__param(5,(0,m.l)(q.Rp)),r.__param(6,(0,m.l)(a.g6))],v);b.hPa=v;Va.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.Y1a || (this.Y1a=(0,g.ga)(this.jsa.encode(this.data).length));return this.Y1a;}}});},function(r,b,a){var l,g,m;function c(d){this.fl=d;}Object.defineProperty(b,"__esModule",{value:!0});b.iPa=void 0;r=a(0);l=a(1);g=a(52);a=a(94);c.prototype.W4b=function(){var d;d=this.fl()?this.fl().Yl.length:40;return (0,g.ga)(d + 33);};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.Qz))],m);b.iPa=m;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E;function c(G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa){this.dob=G;this.Rg=F;this.Xza=L;this.Sta=O;this.Se=K;this.l$=I;this.Bf=M;this.config=H;this.Fd=J;this.za=N;this.Ia=P;this.platform=W;this.ps=V;this.eC=S;this.Uj=U;this.Vv=fa;this.FK=qa;this.Ic=xa;this.NQ=Aa;this.NF=Oa;}Object.defineProperty(b,"__esModule",{value:!0});b.eU=void 0;r=a(0);l=a(486);g=a(50);m=a(31);d=a(494);f=a(287);h=a(1);k=a(201);n=a(527);p=a(528);q=a(66);v=a(11);t=a(27);w=a(18);u=a(45);x=a(87);y=a(120);z=a(166);B=a(37);A=a(39);C=a(294);D=a(99);a=a(234);c.prototype.create=function(G,F){return new n.gU(G,F,this.dob,this.Rg,this.Xza,this.Sta,this.Se,this.l$,this.Bf,this.config,this.Fd,this.za,this.Ia,this.ps,this.eC,this.Uj,this.Vv,this.FK,this.Ic,this.NQ,this.NF);};E=c;E=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(l.XVa)),r.__param(1,(0,h.l)(g.Fo)),r.__param(2,(0,h.l)(d.ZPa)),r.__param(3,(0,h.l)(f.rja)),r.__param(4,(0,h.l)(m.Di)),r.__param(5,(0,h.l)(p.cLa)),r.__param(6,(0,h.l)(q.jx)),r.__param(7,(0,h.l)(v.wc)),r.__param(8,(0,h.l)(y.OH)),r.__param(9,(0,h.l)(t.Jh)),r.__param(10,(0,h.l)(w.jd)),r.__param(11,(0,h.l)(u.Rp)),r.__param(12,(0,h.l)(B.x5)),r.__param(13,(0,h.l)(x.Xz)),r.__param(14,(0,h.l)(z.FH)),r.__param(15,(0,h.l)(A.Lp)),r.__param(16,(0,h.l)(C.yka)),r.__param(17,(0,h.l)(k.eka)),r.__param(18,(0,h.l)(D.$z)),r.__param(19,(0,h.l)(a.Uja))],E);b.eU=E;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.aLa=void 0;c=a(52);b.aLa=function(l,g){this.FRb=l;this.size=g.$xa()?c.Pa:g;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lza=void 0;b.Lza=function(a,c){var d,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var l=a[0],g=c(l),m=1;m < a.length;m++){d=a[m];f=c(d);f > g && (l=d,g=f);}return l;}};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x){this.platform=t;this.config=w;this.Ia=u;this.userAgentData=x;this.PWa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.mPa=void 0;r=a(0);l=a(1);g=a(18);m=a(4);d=a(45);f=a(5);h=a(11);k=a(23);n=a(14);p=a(203);q=a(176);v=a(49);c.prototype.fs=function(t,w,u){u && (t.adlid=u.Tb,t.abitrate=u.bitrate);w && (t.vdlid=w.Tb,t.vbitrate=w.bitrate);};c.prototype.$ab=function(t,w,u){u?t=Object.assign(t,(0,p.j$a)(this.platform.Kt,u)):t.errorcode=m.aa.Ho;t.errorcode === this.platform.Kt + m.aa.xRa && (t.lastSyncWithVideoElement=this.getTime() - w.h2);};c.prototype.ebb=function(t,w){var u;Object.assign(t,(0,p.Yva)());try{u=w.getBoundingClientRect();t.rendersize=u.width + "x" + u.height;t.renderpos=u.left + "x" + u.top;}catch(x){}};c.prototype.dbb=function(t,w){var u,x,y;u=w.Cc[v.u.J].value;x=w.Cc[v.u.T].value;y=w.gg.value;w=w.Qe.value;u && (t.cdnid=u.id,t.cdnname=u.name);x && (t.acdnid=x.id,t.acdnname=x.name);if(null === y || void 0 === y?0:y.stream)(t.adlid=y.stream.Tb,t.abitrate=y.stream.bitrate);if(null === w || void 0 === w?0:w.stream)(t.vdlid=w.stream.Tb,t.vbitrate=w.stream.bitrate,t.vheight=w.stream.height,t.vwidth=w.stream.width);};c.prototype.bbb=function(t,w,u){0 <= w.mediaTime.value && (w=u && !w.lb.ji?w.zX:w.mediaTime.value,t.moff=(0,k.Vn)(w),t.moffms=(0,k.sg)(w));};c.prototype.Yab=function(t,w){w.pg && (t.pbcid=w.pg);w.fh && (t.playbackcontextid=w.fh);};c.prototype.nxa=function(t){var w,u;t.browserua=n.AH;t.browseruad=null === (u=null === (w=n.hf.userAgentData) || void 0 === w?void 0:w.brands) || void 0 === u?void 0:u.map(function(x){return [x.brand,x.version];});t.browseruadpv=this.userAgentData.platformVersion.UZ?this.userAgentData.platformVersion.version:this.userAgentData.platformVersion.reason;t.browserhref=location.href;(w=n.hf && n.hf.connection && n.hf.connection.type) && (t.nettype=w);};c.prototype.jQ=function(t){var w,u,x,y,z;if(this.config().LSb){z=null === (w=null === n.hf || void 0 === n.hf?void 0:n.hf.connection) || void 0 === w?void 0:w.effectiveType;w=null === n.hf || void 0 === n.hf?void 0:n.hf.deviceMemory;z && (t.effectiveType=z);w && (t.deviceMemory=w);}(z=null === (u=null === n.hf || void 0 === n.hf?void 0:n.hf.connection) || void 0 === u?void 0:u.type) && (t.connectionType=z);u=null === (x=null === n.hf || void 0 === n.hf?void 0:n.hf.connection) || void 0 === x?void 0:x.downlink;"number" === typeof u && isFinite(u) && (t.downlink=u);x=null === (y=null === n.hf || void 0 === n.hf?void 0:n.hf.connection) || void 0 === y?void 0:y.rtt;"number" === typeof x && isFinite(x) && (t.rtt=x);};c.prototype.Gba=function(t,w){if(w=w.lb.po)(w.isUIAutoPlay && (t.isUIAutoPlay=!0),w.clLogId && (t.cl_log_id=w.clLogId));};c.prototype.kQ=function(t,w,u,x){var y,z,B,A,C;y=this;if(u=u && u.streams){B=new Set();A=new Set();C=new Set();u.forEach(function(D){D=D.mf;B.add(D);A.add(D.replace(y.PWa,""));(D=D.match(y.PWa)) && 0 < D.length && C.add(D[1]);});t.videoProfiles=[].concat(ia(B));t.videoProfile=0 === A.size?"none":[].concat(ia(A))[0];t.videoProfileLevels=[].concat(ia(C));u && u.length && (t.isMcClearen=!!u[0].Zj.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}w && (null === (z=x.ba) || void 0 === z?0:z.R2) && (t.videoProfilesStatus=this.leb(x.ba.R2));};c.prototype.leb=function(t){return this.B5b(t.XP(),function(w){return w.supported?!0:w.reason;});};c.prototype.B5b=function(t,w){return Object.entries(t).reduce(function(u,x){var y;y=oa(x);x=y.next().value;y=y.next().value;u[x]=w(y);return u;},{});};c.prototype.Vab=function(t,w,u){var x,y;if(w=w && w.streams){y={};w.forEach(function(z){y[z.mf]=void 0;});t.audioProfiles=Object.keys(y);}(null === (x=u.ba) || void 0 === x?0:x.KW) && (t.audioProfilesStatus=this.leb(u.ba.KW));};c.prototype.Zab=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Ia.Rb().ia(f.va);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.Rp)),r.__param(1,(0,l.l)(h.wc)),r.__param(2,(0,l.l)(g.jd)),r.__param(3,(0,l.l)(q.g6))],a);b.mPa=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t){this.Rg=n;this.config=p;this.za=q;this.Ia=v;this.lza=t;}Object.defineProperty(b,"__esModule",{value:!0});b.hU=void 0;r=a(0);l=a(50);g=a(1);m=a(201);d=a(11);f=a(27);h=a(18);k=a(1284);c.prototype.create=function(n,p,q){var v;v=this.lza.create(n,p);return new k.jU(n,p,q,this.Rg,this.config,this.Ia,v);};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(l.Fo)),r.__param(1,(0,g.l)(d.wc)),r.__param(2,(0,g.l)(f.Jh)),r.__param(3,(0,g.l)(h.jd)),r.__param(4,(0,g.l)(m.fU))],a);b.hU=a;},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p,q,v,t){var w;w=this;this.j=h;this.Ga=k;this.Rg=p;this.config=q;this.Ia=v;this.rb=t;this.dC=function(u,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === w.K && u(y);};};this.jeb=this.dC(function(u){w.uga(u.iK);},function(u){return u.K;});this.geb=this.dC(function(){w.gX();},function(u){return u.K;});this.$2a=this.dC(function(){w.gX();},function(u){return u.movieId;});this.dra=this.dC(function(){w.j.Db.value === f.nb.Xc && (w.j.Db.removeListener(w.dra),w.zw());},function(){return w.j.K;});this.aD=function(u){w.qs && w.rb.aD(u);};this.f3a=this.dC(this.rb.QLb,function(u){return u.K;});this.N5a=this.dC(this.rb.zRb,function(u){return u.K;});this.Jdb=this.dC(this.rb.l_,function(u){return w.j.Jj(u.segmentId).K;});this.xlb=this.dC(this.rb.A1,function(u){return w.j.Jj(u.segmentId).K;});this.C5a=this.dC(this.rb.Tsa,function(u){return u.K;});this.sl=function(u){u.skip && (w.ro=!0);switch(u.cause){case f.Hd.LD:case f.Hd.bU:case f.Hd.a6:w.xu && w.er && w.rb.VBa(w.getTime() - w.er,w.xu);w.xu="repos";w.rb.wG(u.UAa,u.gg,u.Qe);w.er=w.getTime();(0,d.Mg)(w.ey);break;case f.Hd.a4:(w.xu="force_rebuffer",w.er=w.getTime(),(0,d.Mg)(w.ey));}};this.Jn=function(u){w.aC=u.oldValue;w.rb.Jn(u);};this.ey=function(){var u;if(w.er && w.j.Db.value !== f.nb.Dg){u=w.getTime() - w.er;w.rb.Ow(u,w.ro,w.xu);w.aC && w.aC != w.j.Gc.value && w.rb.Wpa();w.er=void 0;w.xu=void 0;w.ro=void 0;}};this.zw=function(){w.qs || (w.qs=!0,w.rb.Du(!1),w.wxa(),w.config().Nba && (w.YB=mb.setTimeout(function(){w.Rg.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.YB=void 0;},w.config().Nba)));};this.uh=function(){w.YB && (mb.clearTimeout(w.YB),w.YB=void 0);if(w.config().m$ || w.config().yO)(w.Usa && (mb.clearInterval(w.Usa),w.Usa=void 0),w.rb.A5a());w.C2 && w.C2();w.qs?w.rb.DB(!!w.j.Ki):w.j.Ki?w.rb.Du(!0):w.Ga.background || w.rb.WBa();};this.T2=function(u){u.oldValue && u.jj && u.jj.VI && w.rb.iB(u.oldValue,u.newValue,u.jj.VI,u.jj.TW);};this.K0=function(u){var x;if(u.newValue){x=u.newValue.stream;w.sK != x && (w.sK && x && w.rb.nDa(w.sK,x,u.newValue.Nn.startTime),w.sK=x);}};this.K=k.K;this.log=(0,g.lj)(h,"LogblobBuilder");this.oa();n && this.uga();}Object.defineProperty(b,"__esModule",{value:!0});b.jU=void 0;l=a(17);g=a(9);m=a(5);d=a(59);f=a(16);c.prototype.oa=function(){this.j.addEventListener(f.ka.xK,this.jeb);this.j.addEventListener(f.ka.Bza,this.geb);this.j.addEventListener(f.ka.l_,this.Jdb);this.j.addEventListener(f.ka.A1,this.xlb);this.j.addEventListener(f.ka.uh,this.$2a);this.j.addEventListener(f.ka.BB,this.C5a,l.s5);if(this.config().m$ || this.config().yO)(this.j.addEventListener(f.ka.BB,this.N5a),this.Usa=mb.setInterval(this.rb.A5a,this.config().ERb));this.config().uDa && this.j.addEventListener(f.ka.BB,this.f3a);};c.prototype.uga=function(h){var k;k=this;this.Cfb || (this.j.Db.value !== f.nb.Xc || (void 0 === h?0:h)?this.j.Db.addListener(this.dra):this.zw(),this.j.Dj.addListener(this.aD),this.j.Ob.addListener(this.rb.jn),this.j.Gc.addListener(this.Jn),this.j.bi.addListener(this.rb.MW),this.j.paused.addListener(this.rb.uea),this.j.Qe.addListener(this.K0),this.j.Db.addListener(this.ey),this.j.Db.addListener(this.rb.Fob),this.j.Hf.addListener(this.T2),this.j.playbackRate.addListener(this.rb.Q1),this.j.addEventListener(f.ka.gj,this.rb.gj),this.j.addEventListener(f.ka.HI,this.rb.HI),this.j.addEventListener(f.ka.Hca,this.rb.Hca),this.j.addEventListener(f.ka.Gca,this.rb.Gca),this.j.addEventListener(f.ka.zS,this.rb.zS),this.j.addEventListener(f.ka.aB,function(n){k.xu="rebuffer";k.rb.aB(n);k.er=k.getTime();(0,d.Mg)(k.ey);}),this.j.addEventListener(f.ka.sl,this.sl),this.j.addEventListener(f.ka.GS,this.rb.GS),this.Ga.Or && this.Ga.Or.addListener(this.rb.Or),this.Cfb=!0);};c.prototype.gX=function(){this.uh();this.Cfb && (this.j.removeEventListener(f.ka.xK,this.jeb),this.j.removeEventListener(f.ka.Bza,this.geb),this.j.removeEventListener(f.ka.l_,this.Jdb),this.j.removeEventListener(f.ka.A1,this.xlb),this.j.Dj.removeListener(this.aD),this.j.Ob.removeListener(this.rb.jn),this.j.Gc.removeListener(this.Jn),this.j.bi.removeListener(this.rb.MW),this.j.paused.removeListener(this.rb.uea),this.j.Qe.removeListener(this.K0),this.j.Db.removeListener(this.ey),this.j.Db.removeListener(this.dra),this.j.Db.removeListener(this.rb.Fob),this.j.Hf.removeListener(this.T2),this.j.playbackRate.removeListener(this.rb.Q1),this.j.removeEventListener(f.ka.BB,this.C5a),this.j.removeEventListener(f.ka.uh,this.$2a),this.j.removeEventListener(f.ka.gj,this.rb.gj),this.j.removeEventListener(f.ka.HI,this.rb.HI),this.j.removeEventListener(f.ka.zS,this.rb.zS),this.j.removeEventListener(f.ka.aB,this.rb.aB),this.j.removeEventListener(f.ka.sl,this.sl),this.j.removeEventListener(f.ka.GS,this.rb.GS),this.Ga.Or && this.Ga.Or.removeListener(this.rb.Or),this.j.removeEventListener(f.ka.BB,this.N5a),this.j.removeEventListener(f.ka.BB,this.f3a));};c.prototype.getTime=function(){return this.Ia.Rb().ia(m.va);};c.prototype.wxa=function(){var h,k,n;h=this;n=[];this.config().ifb && (this.config().jfb.forEach(function(p){n.push(mb.setTimeout(h.rb.pC,p));}),this.config().mda && (k=mb.setInterval(this.rb.pC,this.config().mda)),this.C2=function(){n.forEach(function(p){mb.clearTimeout(p);});k && mb.clearInterval(k);});};b.jU=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Tfb=void 0;r=a(1);c=a(1286);l=a(66);g=a(531);m=a(1287);d=a(533);f=a(532);h=a(1288);k=a(384);n=a(1292);b.Tfb=new r.Gd(function(p){p(g.cXa).to(c.bXa).la();p(l.jx).PG(function(){return mb._cad_global.http;});p(d.TQa).to(m.SQa).la();p(f.UQa).kn(h.default);p(k.rNa).to(n.qNa).la();});},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.bXa=void 0;r=a(0);a=a(1);c.prototype.create=function(){return new XMLHttpRequest();};l=c;l=r.__decorate([(0,a.$)()],l);b.bXa=l;},function(r,b,a){var l,g,m,d;function c(f,h,k){this.config=f;this.O4b=h;this.Ac=k;}Object.defineProperty(b,"__esModule",{value:!0});b.SQa=void 0;r=a(0);l=a(354);g=a(1);m=a(202);a=a(532);c.prototype.VOb=function(){if(this.config.Vpb)return this.Ac(this.O4b());};d=c;d=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(l.RQa)),r.__param(1,(0,g.l)(m.NQa)),r.__param(2,(0,g.l)(a.UQa))],d);b.SQa=d;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(1289);l=a(1290);g=a(1291);b.default=function(m){var d;m=new c.bia(m);d=new g.$wb(m);return new l.Zwb(m,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Gdb=c;}a.prototype.HEa=function(c){try{this.Gdb.setItem("gtp",JSON.stringify(c));}catch(l){return !1;}return !0;};a.prototype.r9a=function(){var c;try{c=this.Gdb.getItem("gtp");if(c)return JSON.parse(c);}catch(l){}};a.prototype.op=function(){var c;c=this.r9a();if(c && c.tp)return c.tp.a;};a.prototype.UXb=function(){var c;c=this.xva();if(c)return c.p25;};a.prototype.VXb=function(){var c;c=this.xva();if(c)return c.p50;};a.prototype.WXb=function(){var c;c=this.xva();if(c)return c.p75;};a.prototype.xva=function(){var c;c=this.r9a();if(c && (c=c.iqr))return c;};return a;})();b.bia=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,l){this.Zx=c;this.DAa=l;}a.prototype.HEa=function(c){return this.Zx.HEa(c);};a.prototype.op=function(){return this.Zx.op();};return a;})();b.Zwb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Zx=c;}a.prototype.DAa=function(){var c,l,g;c=this.Zx.UXb();l=this.Zx.VXb();g=this.Zx.WXb();if("number" === typeof c && "number" === typeof l && "number" === typeof g)return (g - c) / l;};return a;})();b.$wb=r;},function(r,b,a){var l,g,m;function c(d,f){this.Bf=f;this.qa=d.fb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.qNa=void 0;r=a(0);l=a(1);g=a(7);a=a(66);c.prototype.download=function(d,f){var h;h=this;f=void 0 === f?{Leb:0}:f;return new Promise(function(k,n){var q;function p(v){if(v.ja)return k(v.content);if(q === f.Leb)return n({Ca:v.Ca,ZJ:v.Xl});q++;!1;h.Bf.download(d,p);}q=0;h.Bf.download(d,p);});};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(a.jx))],m);b.qNa=m;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.g8a=void 0;r=a(1);c=a(1294);l=a(1295);g=a(1296);m=a(1297);d=a(1298);f=a(534);h=a(535);k=a(174);b.g8a=new r.Gd(function(n){n(k.tMa).to(c.sMa).la();n(k.qUa).to(l.pUa).la();n(k.oUa).to(g.nUa).la();n(f.pMa).to(m.oMa).la();n(h.uNa).to(d.tNa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t,w,u,x){this.config=p;this.Mab=q;this.Jc=v;this.yg=t;this.Jdc=w;this.rDa=u;this.q3b=0;this.qa=x.fb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.sMa=void 0;r=a(0);g=a(1);m=a(5);d=a(48);f=a(7);h=a(534);k=a(535);a=a(174);c.prototype.start=function(){this.config.enabled && !this.yu && (this.yu=this.Jc.zl(this.config.Umb,this.lz.bind(this)));};c.prototype.stop=function(){this.yu && (this.yu.cancel(),this.yu=void 0);};c.prototype.lz=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.q3b++;this.UZb(q).then(function(v){return Promise.all(v.urls.map(function(t){return p.N_b(v,t.url,t.name);})).then(function(t){0 < t.length && p.Jdc.f1({data:t,context:v.context,mza:v.mza});}).then(function(){return v;});}).then(function(v){p.yu && (v.Ncb?p.yu=p.Jc.zl(v.Ncb,p.lz.bind(p)):p.stop());}).catch(function(v){return p.qa.error("FTL run failed",v);});};c.prototype.UZb=function(p){var q;q=this;return this.Mab.get(p,!1).then(function(v){var t;if(200 != v.status || null == v.body)return (q.rDa.f1({url:p,status:v.status,RBa:"FTL API request failed",Oe:v.Oe}),Promise.reject(Error("FTL API request failed: " + v.status)));t=q.yg.parse(v.body);return t instanceof Error?(q.rDa.f1({url:p,status:4,RBa:"FTL Probe API JSON parsing error",Oe:v.Oe}),Promise.reject(t)):Promise.resolve(t);}).catch(function(v){v instanceof Error && (q.rDa.f1({url:p,status:0,RBa:v.message}),q.qa.error("FTL API call failed",v.message));return Promise.reject(v);});};c.prototype.N_b=function(p,q,v){var t;t=this;return new Promise(function(w,u){var E;for(var x,y,z,B,A=[],C={},D=0;D < p.Zbc;(C={Lha:C.Lha,Mha:C.Mha},++D)){C.Lha=D < p.bjb.length?p.bjb[D]:m.Pa;C.Mha="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);E=(function(G){return function(){return new Promise(function(F,L){t.Jc.zl(G.Lha,function(){l.xbc(t.Mab,G.Mha,p.Ybc).then(function(O){function K(I,M,H){I || (I=H.headers[M]);return I;}x=K(x,"via",O);y=K(y,"x-ftl-probe-data",O);z=K(z,"x-ftl-error",O);B=K(B,"latency-trace",O);O={status:O.status,Oe:O.Oe,dmc:x || "",jLb:y || "",iY:z || "",V3b:t.m$b(B)};F(O);}).catch(function(O){L(O);});});});};})(C);A.push(0 < D?A[D - 1].then(E):E());}Promise.all(A).then(function(G){w({url:q,name:v,data:G});}).catch(function(G){u(G);});});};c.prototype.m$b=function(p){var q;if(p){q={};p=oa(p.split(";"));for(var v=p.next();!v.done;v=p.next()){if((v=v.value.trim().split("=")) && 2 == v.length)try{q[v[0].trim()]=Number.parseInt(v[1]);}catch(t){}}return q;}};c.xbc=function(p,q,v){return p.get(q,!1,v).then(function(t){return Object.assign({},t);});};n=l=c;n=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(a.rMa)),r.__param(1,(0,g.l)(k.uNa)),r.__param(2,(0,g.l)(d.ak)),r.__param(3,(0,g.l)(h.pMa)),r.__param(4,(0,g.l)(a.qUa)),r.__param(5,(0,g.l)(a.oUa)),r.__param(6,(0,g.l)(f.jb))],n);b.sMa=n;},function(r,b,a){var l,g,m,d,f,h;function c(k,n){this.Rg=k;this.eAa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.pUa=void 0;r=a(0);g=a(1);m=a(52);d=a(5);f=a(50);a=a(87);c.prototype.f1=function(k){var n;n={ctx:k.context,data:k.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return l.Omc({d:q.Oe.duration.ia(d.va),sc:q.status,sz:q.Oe.size.ia(m.ex),via:q.dmc,cip:q.jLb,err:q.iY},q);})};})};k=this.eAa.Iv(k.mza,"info",n);this.Rg.Dc(k);};c.Omc=function(k,n){l.Xx(k,"dns",n.Oe.H5a);l.Xx(k,"tcp",n.Oe.YFa);l.Xx(k,"tls",n.Oe.jGa);l.Xx(k,"ttfb",n.Oe.eGa);l.BGb(k,n.V3b);return k;};c.BGb=function(k,n){n && (k.rtts=n);};c.Xx=function(k,n,p){p && (k[n]=p.ia(d.va));};h=l=c;h=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(f.Fo)),r.__param(1,(0,g.l)(a.Xz))],h);b.pUa=h;},function(r,b,a){var l,g,m,d,f,h;function c(k,n){this.Rg=k;this.eAa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.nUa=void 0;r=a(0);g=a(1);m=a(52);d=a(5);f=a(50);a=a(87);c.prototype.f1=function(k){k=this.eAa.Iv("ftlProbeError","info",l.Nmc({url:k.url,sc:k.status,pf_err:k.RBa},k));this.Rg.Dc(k);};c.Nmc=function(k,n){n.Oe && (n=n.Oe,l.Xx(k,"d",n.duration),l.Xx(k,"dns",n.H5a),l.Xx(k,"tcp",n.YFa),l.Xx(k,"tls",n.jGa),l.Xx(k,"ttfb",n.eGa),k.sz=n.size.ia(m.ex));return k;};c.Xx=function(k,n,p){p && (k[n]=p.ia(d.va));};h=l=c;h=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(f.Fo)),r.__param(1,(0,g.l)(a.Xz))],h);b.nUa=h;},function(r,b,a){var l,g,m,d,f;function c(h,k){this.is=h;this.json=k;(0,g.Kq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.oMa=void 0;r=a(0);l=a(1);g=a(54);m=a(37);d=a(5);a=a(25);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.Toa(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.lW(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.lW(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.vE(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.lW(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.vE(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.So(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.AW(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < h.urls.length;++k){n=h.urls[k];if(!this.is.Toa(n))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Ir(n.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Ir(n.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {Zbc:h.pulses,bjb:h.pulse_delays?h.pulse_delays.map(d.$b):[],Ybc:(0,d.$b)(h.pulse_timeout),Ncb:h.next?(0,d.$b)(h.next):void 0,urls:h.urls,mza:h.logblob,context:h.ctx};};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.Vg)),r.__param(1,(0,l.l)(m.qH))],f);b.oMa=f;},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v,t){this.za=q;this.Smc=v;this.performance=t;(0,g.Kq)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.tNa=void 0;r=a(0);g=a(54);m=a(290);d=a(52);f=a(37);h=a(27);k=a(1);n=a(531);p=a(5);c.prototype.get=function(q,v,t){var w;w=this;return new Promise(function(u,x){var y,z,B;try{y=w.Smc.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",q,!0);v && (y.withCredentials=!0);t && (y.timeout=t.ia(p.va));z=w.za.nf;B=void 0;y.onreadystatechange=function(){var A;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:B=w.za.nf.Ea(z);break;case XMLHttpRequest.DONE:A=w.za.nf.Ea(z);A={body:y.responseText,status:y.status,headers:l.yBa(y.getAllResponseHeaders()),Oe:w.Iva(q,(0,d.ga)(y.responseText.length),A,B)};u(A);}};y.send();}catch(A){x(A);}});};c.yBa=function(q){var v,w,u;v={};q=q.split("\r\n");for(var t=0;t < q.length;t++){w=q[t];u=w.indexOf(": ");0 < u && (v[w.substring(0,u).toLowerCase()]=w.substring(u + 2));}return v;};c.prototype.Iva=function(q,v,t,w){v={size:v,duration:t,eGa:w};if(!this.performance || !this.performance.getEntriesByName)return v;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return v;q=t[t.length - 1];v=(0,m.HQ)(v);q.decodedBodySize && (v.size=(0,d.ga)(q.decodedBodySize));0 < q.duration?v.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (v.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (v.H5a=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),v.YFa=(0,p.timestamp)(q.connectEnd - q.connectStart),v.eGa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?v.jGa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,v.jGa=(0,p.timestamp)(t),v.YFa=(0,p.timestamp)(q.connectEnd - q.connectStart - t)));return v;};a=l=c;a=l=r.__decorate([(0,k.$)(),r.__param(0,(0,k.l)(h.Jh)),r.__param(1,(0,k.l)(n.cXa)),r.__param(2,(0,k.l)(f.bla)),r.__param(2,(0,k.optional)())],a);b.tNa=a;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Yib=void 0;r=a(1);c=a(355);l=a(1300);g=a(205);m=a(1301);b.Yib=new r.Gd(function(d){d(c.kLa).to(l.jLa).la();d(g.dU).to(m.MOa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t){this.Yi=p;this.AE=q;this.Olc=v;this.BQ=t;}Object.defineProperty(b,"__esModule",{value:!0});b.jLa=void 0;r=a(0);l=a(1);g=a(31);m=a(32);d=a(69);f=a(126);h=a(57);k=a(43);a=a(205);c.prototype.ki=function(p){var q;q=this;return this.Yi.KE(p.al[0].data[0],[8,4])?Promise.resolve({$e:[{id:"ddd",uK:"cert",e_:void 0}],uk:[{sessionId:"ddd",data:new Uint8Array(this.AE.decode(k.UWa))}]}):this.Yi.KE(p.al[0].data[0],this.Olc.decode("certificate"))?Promise.resolve({$e:[{id:"ddd",uK:"cert",e_:void 0}],uk:[{sessionId:"ddd",data:new Uint8Array(this.AE.decode(k.Z3))}]}):this.BQ.Sx(this.PVb(p)).then(function(v){return q.QVb(v);});};c.prototype.release=function(p){return this.BQ.release(this.UVb(p)).then(function(){});};c.prototype.PVb=function(p){var q,v;q=this;v=p.al.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:q.AE.encode(w)};});});return {sa:p.sa,fh:p.fh,p$:p.p$,Pg:(0,h.Sya)(p.Pg),fp:f.xm[p.fp],al:v.reduce(function(t,w){return t.concat(w);},[]),Mj:p.Mj,ih:p.ih};};c.prototype.UVb=function(p){return {sa:p.sa,$e:p.$e};};c.prototype.QVb=function(p){return {$e:p.$e,uk:p.uk};};n=c;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Di)),r.__param(1,(0,l.l)(m.Zi)),r.__param(2,(0,l.l)(d.Vs)),r.__param(3,(0,l.l)(a.dU))],n);b.jLa=n;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q,v){this.OFb=k;this.gdc=n;this.skb=q;this.qec=v;this.qa=p.fb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.MOa=void 0;r=a(0);l=a(1);g=a(7);m=a(536);a(537);d=a(541);f=a(542);a=a(295);c.prototype.Sx=function(k){var n,p;n=this;!1;p=this.skb.Vjc(k);return this.OFb.wq(this.qa,k.Mj,p).then(function(q){q.map(function(v){return v.Z3b;});return n.qec.Iob(q);}).catch(function(q){n.qa.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(k){var n;n=this;!1;k=this.skb.Yjc(k);return this.gdc.Tf(this.qa,k).then(function(){return {ja:!0};}).catch(function(p){n.qa.error("PBO release license failed",p);return Promise.reject(p);});};h=c;h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.NRa)),r.__param(1,(0,l.l)(d.ASa)),r.__param(2,(0,l.l)(g.jb)),r.__param(3,(0,l.l)(f.cSa)),r.__param(4,(0,l.l)(a.Yka))],h);b.MOa=h;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x){return function(){return x.zb.get(l.vSa).oa();};}Object.defineProperty(b,"__esModule",{value:!0});b.bL=void 0;r=a(1);l=a(151);g=a(240);m=a(296);d=a(543);f=a(1303);h=a(1304);k=a(544);n=a(1305);p=a(545);q=a(1306);v=a(297);t=a(1307);w=a(546);u=a(1308);b.bL=new r.Gd(function(x){x(k.hTa).to(n.gTa).la();x(g.$ka).to(m.rSa).la();x(d.TRa).to(f.SRa).la();x(l.vSa).to(h.uSa).la();x(l.BU).u2(c);x(w.tSa).to(u.sSa).la();x(p.ZRa).to(q.YRa).la().X2();x(v.xSa).to(t.wSa).la();x(v.oSa).to(t.nSa).la();x(v.qSa).to(t.pSa).la();});},function(r,b,a){var m,d,f,h,k,n,p,q,v,t;function c(){}function l(){}function g(w,u,x,y,z){var B;B=this;this.is=w;this.gn=u;this.config=x;this.mJ=y;this.w$b=z;this.Vw=function(){return new c().encode({version:B.version,data:B.bL});};this.slc=function(A){A=B.upgrade(A);B.w$b.validate(A);return A;};this.upgrade=function(A){var C;if(B.is.So(A))return B.tlc(A);C=A.version;if(void 0 != C && B.is.Rl(C) && 1 == C)return B.ulc(A);C=A.version;if(void 0 != C && B.is.Rl(C) && 2 == C)return new c().decode(A);if(A.version && B.is.Rl(A.version))throw new k.rd(f.aa.yD,f.Y.sJa,void 0,void 0,void 0,"Version number is not supported. Version: " + A.version,void 0,A);throw new k.rd(f.aa.yD,f.Y.sD,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,A);};this.pm=new n.Mja(2,this.config().eib,"" !== this.config().eib && 0 < this.config().aac,this.gn,this.Vw);}Object.defineProperty(b,"__esModule",{value:!0});b.SRa=void 0;r=a(0);m=a(1);d=a(11);f=a(4);h=a(25);k=a(36);n=a(344);p=a(83);q=a(94);v=a(296);a=a(297);g.prototype.pcc=function(){return this.pm.load(this.slc).catch(function(w){throw new k.rd(f.aa.yD,w.Ca || w.xc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};g.prototype.FGb=function(w){return this.pm.add(w);};g.prototype.Zjb=function(w){return this.pm.remove(w,function(u,x){return u.sa === x.sa;});};g.prototype.OGa=function(w){return this.pm.update(w,function(u,x){return u.sa === x.sa;});};g.prototype.toString=function(){return JSON.stringify(this.Vw(),null,"  ");};g.prototype.Kpb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.mJ().Yl:"";};g.prototype.SGa=function(w){return w.map(function(u){return {Tb:u.downloadableId,duration:u.duration};});};g.prototype.Lpb=function(w){var u;return w?{total:w.playTimes.total,XL:null !== (u=w.playTimes.totalContentTime) && void 0 !== u?u:w.playTimes.total,LS:w.playTimes.total,QG:0,SG:0,YL:0,ZL:0,audio:this.SGa(w.playTimes.audio || []),video:this.SGa(w.playTimes.video || []),text:this.SGa(w.playTimes.timedtext || [])}:{total:0,XL:0,LS:0,QG:0,SG:0,YL:0,ZL:0,audio:[],video:[],text:[]};};g.prototype.tlc=function(w){var u,x,y;u=this;w=JSON.parse(w);x={ih:"VOD",href:this.Kpb(w.playbackContextId),sa:w.xid?w.xid.toString():"",K:w.movieId,position:w.position,kB:w.timestamp,qo:w.playback?1E3 * w.playback.startEpoch:-1,MQ:w.mediaId,Yy:this.Lpb(w.playback),trackId:"",po:{},profileId:w.accountKey};y=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.gn.create().then(function(z){z.save(u.config().UX,y,!1);});if("" === x.href || "" === x.sa)throw new k.rd(f.aa.yD,f.Y.sD);return {version:2,data:[x]};};g.prototype.ulc=function(w){var u;u=this;if(!w.playdata || !this.is.vE(w.playdata))throw new k.rd(f.aa.yD,f.Y.sD,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(x){return x.map(function(y){var z;return {ih:null !== (z=y.streamingType) && void 0 !== z?z:"VOD",href:u.Kpb(y.playbackContextId),sa:y.xid?y.xid.toString():"",K:y.movieId,position:y.position,kB:y.timestamp,qo:y.playback?1E3 * y.playback.startEpoch:-1,MQ:y.mediaId,Yy:u.Lpb(y.playback),trackId:"",po:{},profileId:y.profileId};});})(w.playdata)};};Va.Object.defineProperties(g.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.pm.version;}},bL:{configurable:!0,enumerable:!0,get:function(){return this.pm.Ln;}}});t=g;t=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(h.Vg)),r.__param(1,(0,m.l)(p.Iz)),r.__param(2,(0,m.l)(d.wc)),r.__param(3,(0,m.l)(q.Qz)),r.__param(4,(0,m.l)(a.qSa))],t);b.SRa=t;l.prototype.encode=function(w){var u;u=new v.w5();return w.map(u.encode);};l.prototype.decode=function(w){var u;u=new v.w5();return w.map(u.decode);};c.prototype.encode=function(w){return {version:w.version,data:new l().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new l().decode(w.data)};};},function(r,b,a){var m,d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B,A,C,D,E,G){this.config=y;this.Jc=B;this.zz=A;this.Bw=C;this.Eea=D;this.Si=E;this.qK=Promise.resolve();this.closed=!1;this.log=z.fb("PlaydataServices");this.aL=[];this.active=new Set();this.wec=new l(y,G);}function l(y,z){this.config=y;this.za=z;}function g(y,z,B,A,C,D){this.log=y;this.Jc=z;this.mi=B;this.Bw=A;this.zz=C;this.U$b=D;this.a7a=this.Qf=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.uSa=b.hyb=void 0;r=a(0);m=a(1);d=a(5);f=a(7);h=a(48);k=a(240);n=a(543);p=a(544);q=a(4);v=a(296);t=a(545);w=a(81);u=a(27);a=a(148);g.prototype.XQ=function(y,z){var A;function B(){var C;C=A.Bw.create(A.mi);A.zz.OGa(C).catch(function(D){var E;E=A.a7a?f.Jk.mma:f.Jk.Cg;A.a7a=!0;A.log.write(E,"Unable to save playdata changes to IDB",D);});}A=this;this.log.trace("Adding initial playdata",z);this.zz.FGb(z).then(function(){A.log.trace("Scheduling monitor",{interval:y});A.yu=A.Jc.$R(y,B);}).catch(function(C){A.log.error("Unable to add playdata",{error:C,playdata:new v.w5().encode(z)});A.yu=A.Jc.$R(y,B);});};g.prototype.stop=function(y){var z,B;z=this;if(this.Qf)return Promise.resolve();this.yu && this.yu.cancel();B=this.Bw.create(this.mi);return this.zz.OGa(B).catch(function(A){z.log.error("Unable to update playdata changes during stop",A);}).then(function(){if(y){if(z.mi.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",B),Promise.resolve());z.log.trace("Sending final playdata to the server",B);return z.U$b.tlb(B);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",B),z.zz.Zjb(B));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",B.K);}).catch(function(A){z.log.error("Unable to remove playdata changes",A);throw A;});};g.prototype.cancel=function(){this.Qf=!0;this.yu && this.yu.cancel();this.zz.OGa(this.Bw.create(this.mi));};Va.Object.defineProperties(l.prototype,{mKb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.za.nf;return !this.qK || 0 <= y.Ea(this.qK).Jm(this.config.Pcb)?(this.qK=y,!0):!1;}}});b.hyb=l;c.prototype.oa=function(){var y;y=this;this.DF || (this.log.trace("Starting playdata services"),this.DF=this.zz.pcc().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.DF;};c.prototype.close=function(){this.closed=!0;this.aL.forEach(function(y){y.XQ.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.YK && z.vEa?this.xfc(y):Promise.resolve();};c.prototype.Cl=function(y,z,B){var A;A=this;this.closed || (this.wFa(y),this.xEa(y).catch(function(C){A.log.error("Start command failed",{playdata:C.bL,error:C.iY});}),z && this.tFa(this.XXb(y),y,B));};c.prototype.X1=function(y){var z,B,A;z=this;if(this.closed)return Promise.resolve();B=this.Bw.create(y);this.active.delete(B.sa);y=oa((0,w.yw)(function(C){return C.key === B.sa;},this.aL));A=y.next().value;this.aL=y.next().value;return Promise.all(A.map(function(C){C.stopped=!0;return C.XQ.stop(z.config.vEa);})).then(function(){});};c.prototype.wFa=function(y){var z,B;y.af("pdb");if(this.config.PBa.lcb()){z=this.Bw.create(y);B=z.sa;this.aL.some(function(A){return A.key === B;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(B),this.aL.push({key:B,XQ:this.uYb(y,z),qz:!1,stopped:!1}));}};c.prototype.xfc=function(y){var z,B,A,C;z=this;B=this.zz.bL.filter(function(D){return !z.active.has(D.sa);});A=void 0;C=void 0;y && Infinity === y?A=B:(B=oa((0,w.yw)(function(D){return D.K === y;},B)),A=B.next().value,C=B.next().value);C && 0 < C.length && this.Jc.zl(this.config.qlb,function(){z.slb(C);});return A && 0 !== A.length?this.slb(A):Promise.resolve();};c.prototype.slb=function(y){var B;function z(A){return B.Eea.tlb(A).then(function(){return B.tdc(A);});}B=this;return y.reduce(function(A,C){return A.then(function(){return z(C);});},Promise.resolve());};c.prototype.tdc=function(y){var z;z=this;return this.zz.Zjb(y).then(function(){}).catch(function(B){z.log.error("Unable to complete the stop lifecycle event",B);throw B;});};c.prototype.uYb=function(y,z){y=new g(this.log,this.Jc,y,this.Bw,this.zz,this.Eea);y.XQ(this.config.PBa,z);return y;};c.prototype.xEa=function(y){var z,B;z=this;B=this.Bw.create(y);return this.Eea.xEa(y,B).then(function(){!1;z.qeb(y);}).catch(function(A){z.qeb(y);throw {bL:B,iY:A};});};c.prototype.qeb=function(y){this.aL.filter(function(z){return z.key === y.sa.toString();}).forEach(function(z){z.qz=!0;});};c.prototype.rlb=function(y){return this.wec.mKb?this.y1(t.Xka.TZ,y,q.aa.Sja):Promise.resolve();};c.prototype.Wfa=function(y){return this.y1(t.Xka.splice,y,q.aa.GUa);};c.prototype.y1=function(y,z,B){var C;function A(D){var E;E=C.aL.filter(function(G){return G.key === D.sa.toString();});return 0 === E.length?!0:E.reduce(function(G,F){return G || F.stopped || !F.qz;},!1);}C=this;return A(z)?this.qK:this.qK=this.qK.catch(function(){return Promise.resolve();}).then(function(){var D;if(A(z))return Promise.resolve();!1;D=C.Bw.create(z);return C.Eea.y1(y,z,D);}).then(function(D){!1;return D;}).catch(function(D){var E;C.log.error("Failed to send event",{eventKey:y,xid:z.sa,error:D});D.jl?E=C.Si(B,D):D.rC === q.h5.hma && (E=C.Si(B,D));throw {iY:D,vR:E};});};c.prototype.tFa=function(y,z,B){var A;A=this;!1;this.ura();this.rya=this.Jc.zl(y,function(){A.ura();A.y1(t.Xka.TZ,z,q.aa.Sja).then(function(){A.tFa(y,z,B);}).catch(function(C){var D;D=C.iY;(C=C.vR) && B(C);D.rC !== q.h5.hma && A.tFa(y,z,B);});});};c.prototype.gnb=function(){this.ura();};c.prototype.ura=function(){this.rya && (this.rya.cancel(),this.rya=void 0);};c.prototype.XXb=function(y){return y.lb.Owa?(0,d.$b)(y.lb.Owa):this.config.Ocb;};x=c;x=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(p.hTa)),r.__param(1,(0,m.l)(f.jb)),r.__param(2,(0,m.l)(h.ak)),r.__param(3,(0,m.l)(n.TRa)),r.__param(4,(0,m.l)(k.$ka)),r.__param(5,(0,m.l)(t.ZRa)),r.__param(6,(0,m.l)(a.DU)),r.__param(7,(0,m.l)(u.Jh))],x);b.uSa=x;},function(r,b,a){var l,g,m,d,f,h;function c(k,n){k=g.If.call(this,k,"PlaydataConfigImpl") || this;k.config=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.gTa=void 0;r=a(0);l=a(1);g=a(47);m=a(33);d=a(46);f=a(5);a=a(39);la(c,g.If);Va.Object.defineProperties(c.prototype,{YK:{configurable:!0,enumerable:!0,get:function(){return this.config.FB?"unsentplaydatatest":"unsentplaydata";}},vEa:{configurable:!0,enumerable:!0,get:function(){return !0;}},qlb:{configurable:!0,enumerable:!0,get:function(){return (0,f.$b)(1E4);}},PBa:{configurable:!0,enumerable:!0,get:function(){return (0,f.$b)(4E3);}},Ocb:{configurable:!0,enumerable:!0,get:function(){return (0,f.zda)(1);}},Pcb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Vi)(30);}}});h=c;r.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"YK",null);r.__decorate([d.config(d.Dd,"sendPersistedPlaydata")],h.prototype,"vEa",null);r.__decorate([d.config(d.cm,"playdataSendDelayMilliseconds")],h.prototype,"qlb",null);r.__decorate([d.config(d.cm,"playdataPersistIntervalMilliseconds")],h.prototype,"PBa",null);r.__decorate([d.config(d.cm,"heartbeatCooldown")],h.prototype,"Ocb",null);r.__decorate([d.config(d.cm,"keepAliveWindow")],h.prototype,"Pcb",null);h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.vn)),r.__param(1,(0,l.l)(a.Lp))],h);b.gTa=h;},function(r,b,a){var l,g,m;function c(d,f){this.kX=f;this.log=d.fb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.YRa=void 0;r=a(0);l=a(88);g=a(7);a=a(1);c.prototype.xEa=function(d,f){var h;h=this.kX(l.hr.start);return this.T6a(h,d,f);};c.prototype.tlb=function(d){var f;f=this;return this.kX(l.hr.stop).Tf(this.log,d).then(function(){}).catch(function(h){f.log.error("PBO stop event failed",h);throw h;});};c.prototype.y1=function(d,f,h){d=this.kX(d);return this.T6a(d,f,h);};c.prototype.T6a=function(d,f,h){var k;k=this;return d.wq(this.log,f.ba.Mj,h).then(function(){}).catch(function(n){k.log.error("PBO event failed",n);throw n;});};m=c;m=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(g.jb)),r.__param(1,(0,a.l)(l.pja))],m);b.YRa=m;},function(r,b,a){var m,d,f,h;function c(){}function l(k){this.v$b=k;}function g(k){this.x$b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.wSa=b.pSa=b.nSa=void 0;r=a(0);m=a(1);d=a(297);f=a(36);h=a(4);g.prototype.validate=function(k){k.map(this.x$b.validate);};a=g;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.xSa))],a);b.nSa=a;l.prototype.validate=function(k){this.v$b.validate(k.data);};a=l;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.oSa))],a);b.pSa=a;c.prototype.validate=function(k){var n;k.sa && "string" === typeof k.sa?k.href && "string" === typeof k.href?k.profileId && "string" === typeof k.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new f.rd(h.aa.yD,h.Y.sD,void 0,void 0,void 0,n,void 0,k.sa);};d=c;d=r.__decorate([(0,m.$)()],d);b.wSa=d;},function(r,b,a){var l,g,m,d;function c(f,h){this.Khb=h;this.log=f.fb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.sSa=void 0;r=a(0);l=a(1);g=a(7);m=a(16);a=a(151);c.prototype.Cl=function(f){var h;h=this;this.Khb().then(function(k){f.addEventListener(m.ka.xK,function(n){var p;if(void 0 !== n.BR){p=f.Yn(n.BR);k.X1(p);n.iK || new Promise(function(q){var v;if(f.pj.value)q();else {v=function(t){t.newValue && (q(),f.pj.removeListener(v));};f.pj.addListener(v);}}).then(function(){return k.Cl(f,h.wmb(f),function(q){return f.XI(q);});});}});f.addEventListener(m.ka.zw,function(){k.Cl(f.ha,h.wmb(f),function(n){return f.XI(n);});});f.background || f.addEventListener(m.ka.f_,function(n){var p;n=f.Yn(n.K);if(n.hj){p=f.Yn(n.hj.Eh);h.log.trace("Auxiliary viewable segment (viewableId: " + n.K + "). Starting playdata monitor for parent viewable " + p.K);n=p;}k.wFa(n);});f.addEventListener(m.ka.uh,function(){k.gnb();});f.addEventListener(m.ka.eqb,function(){k.rlb(f.ha).catch(function(n){(n=n.vR) && f.XI(n);});});f.Ob.addListener(function(){f.lb.Rsa?h.log.trace("stickiness is disabled for timedtext"):k.Wfa(f.ha);});f.Gc.addListener(function(){f.lb.Rsa?h.log.trace("stickiness is disabled for audio"):k.Wfa(f.ha).catch(function(n){(n=n.vR) && f.XI(n);});});});};c.prototype.wmb=function(f){return f.state.value == m.jc.Ue;};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(a.BU))],d);b.sSa=d;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p){return function(){return new Promise(function(q,v){var t;t=p.zb.get(g.tLa);t.oa().then(function(){q(t);}).catch(function(w){v(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.Y5a=void 0;r=a(1);l=a(547);g=a(548);m=a(1310);d=a(100);f=a(1311);h=a(549);k=a(1312);n=a(1313);b.Y5a=new r.Gd(function(p){p(h.dPa).to(k.cPa).la();p(l.qLa).to(n.ePa);p(d.oT).to(f.oIa).la();p(g.tLa).to(m.rLa).la();p(g.sLa).u2(c);});},function(r,b,a){var l,g;function c(m){this.qRb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.rLa=void 0;r=a(0);l=a(1);a=a(547);c.prototype.oa=function(){var m;m=this;this.DF || (this.DF=new Promise(function(d,f){var h;h=[];m.qRb.forEach(function(k){h.push(k.oa());});Promise.all(h).then(function(){d();}).catch(function(k){f(k);});}));return this.DF;};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.KK)(a.qLa))],g);b.rLa=g;},function(r,b,a){var l,g;function c(){this.oEa="";this.Aqb=[[],[],[]];this.ma=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.oIa=void 0;r=a(0);l=a(1);a(5);g=a(100);c.prototype.downloadRequest=function(m){var d;"" === this.oEa && (this.oEa=m.S);if(!m.Hc){d=this.Ejc(m);this.ma[m.mediaType].push(d);this.Aqb[m.mediaType].forEach(function(f){f.Osc(d);});}};c.prototype.Ejc=function(m){return {id:m.Mi(),S:m.S,mediaType:m.mediaType,el:m.el,startTime:m.HC,endTime:m.Iw,offset:m.Jw,IO:m.IO,GO:m.GO,duration:m.Un,bitrate:m.bitrate,state:g.eia.T5a,pj:!1,yvc:!1,kab:!1,juc:g.dia.waiting};};c.prototype.update=function(m){this.Aqb[m.mediaType].forEach(function(d){d.Gyc(m);});};Va.Object.defineProperties(c.prototype,{S:{configurable:!0,enumerable:!0,get:function(){return this.oEa;}}});a=c;a=r.__decorate([(0,l.$)()],a);b.oIa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){h=m.If.call(this,h,"LogDisplayConfigImpl") || this;h.bh=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.cPa=void 0;r=a(0);l=a(1);g=a(46);m=a(47);d=a(33);a=a(110);la(c,m.If);Va.Object.defineProperties(c.prototype,{d1:{configurable:!0,enumerable:!0,get:function(){return !0;}},DQ:{configurable:!0,enumerable:!0,get:function(){return this.bh.DQ;}},Ndb:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;r.__decorate([g.config(g.Dd,"renderDomDiagnostics")],f.prototype,"d1",null);r.__decorate([g.config(g.FF,"logDisplayMaxEntryCount")],f.prototype,"DQ",null);r.__decorate([g.config(g.FF,"logDisplayAutoshowLevel")],f.prototype,"Ndb",null);f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.vn)),r.__param(1,(0,l.l)(a.DH))],f);b.cPa=f;},function(r,b,a){var m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B;function c(A,C,D,E,G,F,L,O,K,I){var M;M=this;this.za=A;this.ah=C;this.Yi=D;this.Jc=E;this.Gp=G;this.config=F;this.mJ=L;this.$Fa=O;this.ssa=K;this.gn=I;this.jjc=function(){M.F2.yl(function(){M.update();});};this.clear=function(){M.entries=[];M.update();};this.qfb=function(){M.tf.sQ=!M.tf.sQ;M.VF && M.XF && (M.tf.sQ?(M.VF.style.display="inline-block",M.XF.style.display="none"):(M.XF.style.display="inline-block",M.VF.style.display="none"));M.FL(!1);};this.b5b=function(H){var J;M.entries.push(H);J=M.config.DQ;0 <= J && M.entries.length > J && M.entries.shift();void 0 === M.tf.fB[H.oq] && (M.tf.fB[H.oq]=!0,M.FL(!1));M.tf.isVisible && !M.Wnb?M.jjc():M.F2.yl();};this.yRb=function(){g.download("all",M.entries.map(function(H){return H.Sga(!1,!1);})).catch(function(H){console.error("Unable to download all logs to the file",H);});};this.hw=!1;this.tf={isVisible:!1,sQ:!0,j$:!0,gza:t.Jk.Hja,fB:{}};this.F2=this.$Fa((0,p.Vi)(1));this.tUb=this.ssa((0,p.$b)(250));this.entries=[];!1;!1;}function l(A){var C;this.elements=[];C=document.createElementNS(l.g2,"svg");C.setAttribute("viewBox",A);this.elements.push(C);}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.ePa=void 0;r=a(0);m=a(1);d=a(31);f=a(113);h=a(177);k=a(48);n=a(27);p=a(5);q=a(18);v=a(94);t=a(7);w=a(114);u=a(298);x=a(549);y=a(83);z=a(207);B=a(1314);g.download=function(A,C){return g.AXb(A).then(function(D){return g.VZb(D,C.join("\r\n")).then(function(E){return g.wRb(E.filename,E.text);});});};g.AXb=function(A){return new Promise(function(C,D){var E,G,F,L,O,K,I;try{E=new Date();G=E.getDate().toString();F=(E.getMonth() + 1).toString();L=E.getFullYear().toString();O=E.getHours().toString();K=E.getMinutes().toString();I=E.getSeconds().toString();1 === G.length && (G="0" + G);1 === F.length && (F="0" + F);1 === O.length && (O="0" + O);1 === K.length && (K="0" + K);1 === I.length && (I="0" + I);C(L + F + G + O + K + I + "." + A + ".log");}catch(M){D(M);}});};g.VZb=function(A,C){return new Promise(function(D,E){try{D({filename:A,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){E(G);}});};g.wRb=function(A,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",A);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(E){return Promise.reject(E);}};l.prototype.sS=function(){var A;A=document.createElementNS(l.g2,"g");A.setAttribute("stroke","none");A.setAttribute("stroke-width",(1).toString());A.setAttribute("fill","none");A.setAttribute("fill-rule","evenodd");A.setAttribute("stroke-linecap","round");this.addElement(A);return this;};l.prototype.uS=function(A,C,D){var E;E=document.createElementNS(l.g2,"path");E.setAttribute("d",A);C && E.setAttribute("fill",C);D && E.setAttribute("fill-rule",D);this.addElement(E);return this;};l.prototype.T1=function(A,C,D,E,G){var F;G=void 0 === G?"#000000":G;F=document.createElementNS(l.g2,"rect");F.setAttribute("x",A.toString());F.setAttribute("y",C.toString());F.setAttribute("height",D.toString());F.setAttribute("width",E.toString());G && F.setAttribute("fill",G);this.addElement(F);return this;};l.prototype.Phc=function(){var A;A=document.createElementNS(l.g2,"polygon");A.setAttribute("points","0 0 24 0 24 24 0 24");A.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(A);return this;};l.prototype.end=function(){this.elements.pop();return this;};l.prototype.ij=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};l.prototype.addElement=function(A){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(A);this.elements.push(A);};Va.Object.defineProperties(l,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},gJ:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});l.g2="http://www.w3.org/2000/svg";c.prototype.oa=function(){var A;A=this;this.DF || (this.DF=new Promise(function(C){mb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.AD.bwb?A.toggle():D.keyCode == z.AD.E && B.$Ja.CMb(A.mJ().Yl));});A.Gp.kfa(u.fka.Btb,A.b5b);C();}));return this.DF;};c.prototype.show=function(){document.body && (this.element || (this.pOb(),this.hw=!0),!this.tf.isVisible && this.element && (document.body.appendChild(this.element),this.tf.isVisible=!0,this.update(!0)));};c.prototype.Ay=function(){this.hw && this.tf.isVisible && this.element && (document.body.removeChild(this.element),this.tf.isVisible=!1);};c.prototype.toggle=function(){this.tf.isVisible?this.Ay():this.show();this.FL(!1);};c.prototype.pOb=function(){var A,C;try{A=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));A.appendChild(C);A.appendChild(this.Xq=this.jPb());A.appendChild(this.kPb());A.appendChild(this.jOb());this.element=A;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.jPb=function(){var A,C;A=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){A.Wnb=!0;A.update();A.Xq && (A.Xq.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){A.Wnb=!1;A.update();A.Xq && (A.Xq.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.kPb=function(){var A;A=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");A.appendChild(this.MOb());A.appendChild(this.BOb());A.appendChild(this.uOb());A.appendChild(this.lPb());A.appendChild(this.nOb());A.appendChild(this.TOb());A.appendChild(this.QOb());A.appendChild(this.wOb());A.appendChild(this.oOb());return A;};c.prototype.jOb=function(){var A,C,D,E,G,F;A=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");E=this.createElement("select",this.uy(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(E);D.addEventListener("mousedown",function(L){L.preventDefault();});F=!1;D.addEventListener("click",function(){F?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(A.tf.fB).sort()).forEach(function(L){G.appendChild(A.kOb(L,D));}),G.style.display="block");F=!F;});return C;};c.prototype.kOb=function(A,C){var D,E,G;D=this;E=this.createElement("label","display: block;margin:1px");E.htmlFor=A;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=A;G.checked=this.tf.fB[A];G.addEventListener("click",function(){"all" === A || "none" === A?(Object.keys(D.tf.fB).forEach(function(F){D.tf.fB[F]="all" === A;}),C.click()):D.tf.fB[A]=!D.tf.fB[A];D.FL(!0);});E.appendChild(G);E.insertAdjacentText("beforeend",18 < A.length?A.slice(0,15) + "...":A);return E;};c.prototype.MOb=function(){var A,C;A=this;C=this.createElement("select",this.uy(22,NaN,1,2),'<option value="' + t.Jk.Cg + '">Error</option><option value="' + (t.Jk.mma + '">Warn</option><option value="') + (t.Jk.Hja + '">Info</option><option value="') + (t.Jk.PVa + '">Trace</option><option value="') + (t.Jk.M + '">Debug</option>'));C.value=this.tf.gza.toString();C.addEventListener("change",function(D){A.tf.gza=parseInt(D.target.value);A.FL(!0);},!1);return C;};c.prototype.BOb=function(){var C,D;function A(E){return C.tUb.yl(function(){var G;G=E.target.value;C.tf.filter=G?new RegExp(G):void 0;C.FL(!0);});}C=this;D=this.createElement("input",this.uy(14,150,1,2));D.value=this.tf.filter?this.tf.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",A,!1);D.addEventListener("change",A,!1);return D;};c.prototype.uOb=function(){var A,C,D,E;A=this;C=this.createElement("div",this.uy(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.tf.j$;D.addEventListener("change",function(G){A.tf.j$=G.target.checked;A.FL(!0);},!1);E=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");E.setAttribute("for","details");E.innerHTML="View details";C.appendChild(D);C.appendChild(E);return C;};c.prototype.lPb=function(){var A,C,D;A=this;C=this.createElement("button",this.uy());D=new l("0 0 24 24").sS().Phc().end().uS("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",l.gJ,"nonzero").end().end().ij();C.appendChild(D);C.addEventListener("click",function(){A.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.nOb=function(){var A,C;A=this.createElement("button",this.uy());C=new l("0 0 24 24").sS().T1(0,0,24,24,l.background).end().uS("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",l.gJ).end().end().ij();A.appendChild(C);A.addEventListener("click",this.clear,!1);A.setAttribute("title","Remove all log messages");return A;};c.prototype.TOb=function(){var A;this.XF=this.createElement("button",this.uy());this.XF.style.display=this.tf.sQ?"none":"inline-block";A=new l("0 0 24 24").sS().T1(0,0,24,24,l.background).end().uS("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",l.gJ,"nonzero").end().end().ij();this.XF.addEventListener("click",this.qfb,!1);this.XF.appendChild(A);this.XF.setAttribute("title","Shrink the log console");return this.XF;};c.prototype.QOb=function(){var A;this.VF=this.createElement("button",this.uy());this.VF.style.display=this.tf.sQ?"inline-block":"none";A=new l("0 0 24 24").sS().T1(4,4,16,16,l.background).end().uS("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",l.gJ,"nonzero").end().end().ij();this.VF.addEventListener("click",this.qfb,!1);this.VF.appendChild(A);this.VF.setAttribute("title","Expand the log console");return this.VF;};c.prototype.wOb=function(){var A,C;A=this.createElement("button",this.uy());C=new l("0 0 26 26").sS().T1(0,0,24,24,l.background).end().uS("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",l.gJ,"nonzero").end().end().ij();A.appendChild(C);A.addEventListener("click",this.yRb,!1);A.setAttribute("title","Download all log messages");return A;};c.prototype.oOb=function(){var A,C,D;A=this;C=this.createElement("button",this.uy());D=new l("0 0 24 24").sS().T1(0,0,24,24,l.background).end().uS("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",l.gJ,"nonzero").end().end().ij();C.appendChild(D);C.addEventListener("click",function(){A.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.FL=function(A){var C;A=void 0 === A?!1:A;C=void 0 === C?!1:C;!1;A && this.update(C);};c.prototype.update=function(A){var C;C=this;A=void 0 === A?!1:A;this.element && this.config.d1 && Promise.resolve(this.wJb() + this.BXb().join("\r\n")).then(function(D){C.element && C.Xq && (C.Xq.value=D,C.element.style.cssText=C.tf.sQ?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",A && C.Jc.zl(p.Pa,function(){C.Xq.scrollTop=C.Xq.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.BXb=function(){var A,C;A=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= A.tf.gza && A.tf.fB[D.oq] && (D=D.Sga(!A.tf.j$,!A.tf.j$),A.tf.filter && !A.tf.filter.test(D) || C.push(D));});return C;};c.prototype.wJb=function(){var A;A=this.mJ();return "Version: 6.0039.463.911 \n" + ((A?"Esn: " + A.Yl:"") + "\nJsSid: ") + (this.ah.id + ", Epoch: " + this.za.nf.ia(p.Go) + ", Start: " + this.ah.cC.ia(p.Go) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(A,C,D,E){return this.Yi.createElement(A,C,D,E);};c.prototype.uy=function(A,C,D,E){A=void 0 === A?26:A;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + l.gJ + ";padding:3px;" + (isNaN(A)?"":"height:" + A + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (E?"border-radius:" + E + "px;":"");};a=c;a.$hc="logDxDisplay";a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(n.Jh)),r.__param(1,(0,m.l)(q.jd)),r.__param(2,(0,m.l)(d.Di)),r.__param(3,(0,m.l)(k.ak)),r.__param(4,(0,m.l)(w.FM)),r.__param(5,(0,m.l)(x.dPa)),r.__param(6,(0,m.l)(v.Qz)),r.__param(7,(0,m.l)(f.$M)),r.__param(8,(0,m.l)(h.P3)),r.__param(9,(0,m.l)(y.Iz))],a);b.ePa=a;},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.$Ja=void 0;l=a(14);c.CMb=function(g){var m;if(l.Xh.queryCommandSupported && l.Xh.queryCommandSupported("copy")){m=l.Xh.createElement("textarea");m.textContent=g;m.style.position="fixed";l.Xh.body.appendChild(m);m.select();try{l.Xh.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{l.Xh.body.removeChild(m);}}};b.$Ja=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Se=void 0;r=a(1);c=a(1316);l=a(1317);g=a(1318);m=a(146);d=a(353);f=a(525);h=a(1319);k=a(1320);n=a(550);p=a(1321);b.Se=new r.Gd(function(q){q(m.Z5).to(c.JVa).la();q(d.Cla).to(g.dUa).la();q(f.FWa).to(l.EWa).la();q(h.ixb).to(k.iRa).la();q(n.$Wa).to(p.ZWa).la();});},function(r,b,a){var l,g,m,d,f,h;function c(k,n){this.is=k;this.json=n;(0,g.Kq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.JVa=void 0;r=a(0);g=a(54);m=a(37);d=a(1);f=a(25);h=a(146);c.prototype.tjb=function(k){var n;n=this;return l.read(k,function(p){return parseInt(p);},function(p){return n.is.Bpa(p);});};c.prototype.TCa=function(k){var n;n=this;return l.read(k,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.c8(p);});};c.prototype.ys=function(k){var n;n=this;return l.read(k,function(p){return parseInt(p);},function(p){return n.is.BW(p);});};c.prototype.mcc=function(k){var n;n=this;return l.read(k,function(p){return parseFloat(p);},function(p){return n.is.Rl(p);});};c.prototype.sjb=function(k,n){return l.read(k,function(p){return l.HUb(p,n);},function(p){return void 0 !== p;});};c.prototype.WCa=function(k,n){return l.read(k,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.ujb=function(k){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return l.read(k,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.AW(q) && p(q);});}catch(q){return new h.mr();}};c.prototype.rl=function(k,n,p){var q,v;q=this;p=void 0 === p?1:p;k=k.trim();v=n instanceof Function?n:this.UOb(n,p);n=k.indexOf("[");p=k.lastIndexOf("]");if(0 != n || p != k.length - 1)return new h.mr();k=k.substring(n + 1,p);try{return l.j$b(k).map(function(t){t=v(q,l.Xlc(t));if(t instanceof h.mr)throw t;return t;});}catch(t){return t instanceof h.mr?t:new h.mr();}};c.prototype.UOb=function(k,n){var p;p=this;n=void 0 === n?1:n;return function(q,v){q=l.MYb(k);return 1 < n?p.rl(v,k,n - 1):q(p,v);};};c.HUb=function(k,n){var q;for(var p in n){q=parseInt(p);if(n[q] == k)return q;}};c.read=function(k,n,p){k=n(k);return void 0 !== k && p(k)?k:new h.mr();};c.MYb=function(k){switch(k){case "int":return function(n,p){return n.tjb(p);};case "bool":return function(n,p){return n.TCa(p);};case "uint":return function(n,p){return n.ys(p);};case "float":return function(n,p){return n.mcc(p);};case "string":return function(n,p){return n.WCa(p);};case "object":return function(n,p){return n.ujb(p);};}};c.j$b=function(k){var x;for(var n=[["[","]"]],p=[],q=0,v=0,t=0,w=[],u={};v < k.length;(u={fT:u.fT},++v)){u.fT=k.charAt(v);x=void 0;"," == u.fT && 0 == t?(p.push(k.substr(q,v - q)),q=v + 1):(x=n.find((function(y){return function(z){return z[0] == y.fT;};})(u)))?(++t,w.push(x)):0 < w.length && w[w.length - 1][1] == u.fT && (--t,w.pop());}if(q != v)p.push(k.substr(q,v - q));else if(q == v && 0 < q)throw new h.mr();return p;};c.Xlc=function(k){var n;n=k.charAt(0);if('"' == n || "'" == n){if(k.charAt(k.length - 1) != n)throw new h.mr();return k.substring(1,k.length - 1);}return k;};a=l=c;a=l=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(f.Vg)),r.__param(1,(0,d.l)(m.qH))],a);b.JVa=a;},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.EWa=void 0;r=a(0);a=a(1);c.prototype.l8a=function(g){var m;m=this;return g?(g ^ 16 * Math.random() >> g / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return m.l8a(d);});};l=c;l=r.__decorate([(0,a.$)()],l);b.EWa=l;},function(r,b,a){var l,g,m,d;function c(f){this.location=f;(0,g.Kq)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.dUa=void 0;r=a(0);g=a(54);m=a(37);a=a(1);c.u0=function(f){var h,n,p;h={};if(0 < f.length){f=f.split("&");for(var k=0;k < f.length;k++){n=f[k].trim();p=n.indexOf("=");0 <= p?h[decodeURIComponent(n.substr(0,p).replace(l.ERa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(l.ERa,"%20")):h[n.toLowerCase()]="";}}return h;};Va.Object.defineProperties(c.prototype,{ccc:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=l.u0(this.ejb);}},ejb:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.V0)return this.V0;this.V0=this.location.search.substr(1);f=this.V0.indexOf("#");0 <= f && (this.V0=this.ejb.substr(0,f));return this.V0;}}});d=l=c;d.ERa=/[+]/g;d=l=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(m.ZOa))],d);b.dUa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ixb="ObjectComparerSymbol";},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.iRa=void 0;r=a(0);l=a(1);g=a(218);c.prototype.compare=function(m,d){var f;f=[];this.Era(m,d,"",f);return f;};c.prototype.Era=function(m,d,f,h){var k;k=this;if(g.pH.vE(m))g.pH.vE(d) && m.length === d.length?m.forEach(function(q,v){k.Era(m[v],d[v],f + "[" + v + "]",h);}):h.push({a:m,b:d,path:f});else if(g.pH.AW(m) && null != m){if(g.pH.AW(d) && null != d){for(var n in m){this.Era(m[n],d[n],f + "." + n,h);}for(var p in d){(p in m) || void 0 === d[p] || h.push({a:void 0,b:d[p],path:f + "." + p});}}else h.push({a:m,b:d,path:f});}else m !== d && h.push({a:m,b:d,path:f});};a=c;a=r.__decorate([(0,l.$)()],a);b.iRa=a;},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZWa=void 0;r=a(0);l=a(1);g=a(14);c.prototype.pZb=function(){var m;m=mb.devicePixelRatio || 1;return {width:g.px.width * m,height:g.px.height * m};};a=c;a=r.__decorate([(0,l.$)()],a);b.ZWa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;Object.defineProperty(b,"__esModule",{value:!0});b.Fd=void 0;r=a(1);c=a(551);l=a(1323);g=a(120);m=a(299);d=a(1324);f=a(1325);h=a(1327);k=a(1328);n=a(1329);p=a(552);q=a(553);v=a(167);t=a(301);w=a(1330);u=a(300);x=a(1332);b.Fd=new r.Gd(function(y){y(c.MSa).to(l.LSa).la();y(m.yla).to(d.VTa).la();y(g.OH).to(f.OWa).la();y(p.UTa).to(n.PPa).la();y(p.TTa).to(k.LOa).la();y(p.STa).to(h.DOa).la();y(t.BIa).Jjc(function(){var z;return null === (z=v.Lr.uj) || void 0 === z?void 0:z.az;});y(t.AIa).to(w.zIa).la();y(q.wla).to(q.HTa);y(u.Kia).to(x.LJa).la();});},function(r,b,a){var l,g,m;function c(d,f){this.Ib=f;this.qa=d.fb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.LSa=void 0;r=a(0);l=a(1);g=a(7);a=a(25);c.prototype.SQb=function(d){var f;f=this;try{return {direction:d.direction,Ovc:d.layoutHasChanged,rxc:d.rowInteractionIndex,Sb:d.lolomos.map(function(h){return f.NQb(h);})};}catch(h){this.qa.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.NQb=function(d){var f;f=this;return {context:d.context,list:d.list.map(function(h){return f.MQb(h);}),requestId:d.requestId,rowIndex:d.rowIndex,sxc:d.rowSegment};};c.prototype.MQb=function(d){var f,h;f={ue:d.pts,property:d.property,N:d.viewableId,index:d.index};h=d.preplay;this.Ib.wh(h) && (f.Pea=this.RQb(h));d=d.params;this.Ib.wh(d) && (f.Gb=this.n5a(d));return f;};c.prototype.RQb=function(d){var f;f={ue:d.pts,N:d.viewableId,sR:d.pipelineNum,index:d.index};d=d.params;this.Ib.wh(d) && (f.Gb=this.n5a(d));return f;};c.prototype.n5a=function(d){return {oe:d.uiLabel,Gl:d.trackingId,po:d.sessionParams};};c.prototype.QQb=function(d){var f;f=this;try{return d.map(function(h){return f.OQb(h);});}catch(h){this.qa.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.OQb=function(d){var f,h;h=d.params;this.Ib.wh(h) && (f=this.PQb(h));return {K:d.movieId,priority:d.priority,force:d.force,Gb:f,oe:d.uiLabel,Cyc:d.uiExpectedStartTime,Byc:d.uiExpectedEndTime,Nm:d.firstTimeAdded};};c.prototype.PQb=function(d){var f,h;f=void 0;h=d.sessionParams;this.Ib.wh(h) && (f=h);return {U8:this.LQb(d.authParams),po:f,Gl:d.trackingId,ca:d.startPts,ba:d.manifest,ji:d.isBranching};};c.prototype.LQb=function(d){return {L$b:null === d || void 0 === d?void 0:d.pinCapableClient};};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(a.Vg))],m);b.LSa=m;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u){this.is=w;this.ah=u;this.log=v.fb("TaskScheduler");this.Pb=new p.Ik();this.config=t();this.currentIteration=this.AX=0;this.RL=[];this.paused=!1;this.xga=[];this.s3a=[];this.T1b=this.config.Wac || q.append;this.addEventListener=this.Pb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.VTa=void 0;r=a(0);l=a(1);g=a(299);m=a(7);d=a(11);f=a(119);h=a(25);k=a(18);n=a(5);p=a(70);(function(v){v.prepend="prepend";v.append="append";v.W0b="ignore";})(q || (q={}));c.prototype.OGb=function(v){this.log.trace("adding tasks, number of tasks: " + v.length);this.paused=!1;this.RL=this.U1b(v);this.AX=0;this.currentIteration+=1;this.Mg();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Mg=function(){var v,t,w,u;v=this;if(this.AX === this.RL.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.AX,numberOfTasks:this.RL.length});else {t=this.FYb();w=this.currentIteration;t.startTime=this.ah.Rb().ia(n.va);t.status=f.Lk.qz;this.Pb.Zc(g.TM.bjc,{K:t.K,type:t.type});this.xga.push(t);u=function(x){t.endTime=v.ah.Rb().ia(n.va);x();v.s3a.push(t);v.xga.splice(v.xga.indexOf(t),1);v.currentIteration === w && (v.AX++,v.Mg());};t.Fec().then(function(){u(function(){t.status=f.Lk.AS;v.DCa(t,g.TM.cjc,"task succeeded");});}).catch(function(x){u(function(){0 <= [f.Lk.Qf,f.Lk.m2a,f.Lk.Tqa].indexOf(x.status)?(t.status=x.status,v.DCa(t,g.TM.$ic,"cancelled task")):(t.status=f.Lk.Rv,v.DCa(t,g.TM.ajc,"task failed",x));});});}};c.prototype.FYb=function(){return this.RL[this.AX];};c.prototype.getStats=function(v,t,w){var u,x,y,z;u=this.s3a.map(function(B){return B.Zv();});x=this.xga.map(function(B){return B.Zv();});y=this.is.wh(v) && this.is.wh(t);z={};if(this.is.wh(w))return (z.bMb=u.filter(function(B){return B.movieId === w;}),z);u.concat(x).forEach(function(B){var A;z[B.type + "_" + B.status]=(z[B.type + "_" + B.status] | 0) + 1;A=B.status == f.Lk.qz?B.startTime:B.endTime;y && A && A >= v && A < t && (z[B.type + "_" + B.status + "_delta"]=(z[B.type + "_" + B.status + "_delta"] | 0) + 1);});return z;};c.prototype.DCa=function(v,t,w,u){var x;x=v.Zv();u?this.log.warn(w,x,u):this.log.trace(w,x);this.Pb.Zc(t,{K:v.K,type:v.type,reason:v.status});v.eR(x);};c.prototype.U1b=function(v){var t,w;t=this.RL.filter(function(u){return u.H$b && u.status === f.Lk.Rn;});w=this.T1b;return w === q.W0b?[].concat(v):w === q.prepend?t.concat(v):v.concat(t);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(d.wc)),r.__param(2,(0,l.l)(h.Vg)),r.__param(3,(0,l.l)(k.jd))],a);b.VTa=a;},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B,A,C,D,E,G,F,L,O){this.Tmc=B;this.Ib=A;this.ah=C;this.Ee=D;this.i7a=E;this.jUb=G;this.kUb=F;this.P$=L;this.events=new x.EventEmitter();this.log=y.fb("VideoPreparer");this.config=z();this.tHa={};this.Bda={};this.dc={num_of_calls:0,num_of_movies:0};this.P$.oa(this);this.sh=O.sh;}function l(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.OWa=void 0;r=a(0);g=a(1326);m=a(11);d=a(1);f=a(7);h=a(86);k=a(25);n=a(299);p=a(18);q=a(5);v=a(119);t=a(300);w=a(552);u=a(301);x=a(13);c.prototype.Hlb=function(y,z,B){this.sh.setData(y,"ldl",z,B);};c.prototype.gab=function(y){return this.sh.oZ(y,"ldl");};c.prototype.N2a=function(y){this.sh.clearData(y,"ldl",void 0,!0);};c.prototype.JP=function(y,z){return this.sh.getData(y,z);};c.prototype.E8a=function(y){var z;z=this.sh.getData(y,"ldl");this.sh.clearData(y,"ldl",void 0,!0);return z;};c.prototype.zqb=function(y){return this.bnb === y || this.v4a === y;};c.prototype.eL=function(y,z){var B,A,C;B=this;y=y.map(function(D){D.Gb=D.Gb || ({U8:{L$b:!1},Gl:0});B.Ib.jJ(D.Gb.Gl) || (D.Gb.Gl=0);B.Ib.jJ(D.ue) && (D.Gb.ca=D.ue);return D;});A=y.map(function(D){return B.iPb(D,z);}).reduce(function(D,E){return D.concat(E);},[]);C=A.map(function(D){return D.K + "-" + D.type;});this.log.trace("prepare tasks",C);this.Ee.OGb(A);this.dc.num_of_calls++;this.dc.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,B){return Object.assign(Object.assign({},B && this.Bda[B] || ({})),{RL:this.Ee.getStats(y,z,B),cache:this.sh.getStats(y,z),ZVb:Object.assign(Object.assign({},this.dc),this.P$.getStats())});};c.prototype.K_b=function(y){this.bnb=y;};c.prototype.I_b=function(y){this.log.trace("task scheduler paused on playback created");this.Ee.pause();this.config.GQb && this.sh.qra(y,["manifest"]);this.config.FQb && this.sh.qra(y,["ldl"]);this.config.CQb && this.sh.clearData(y,"manifest");this.P$.Ujb(y);this.v4a=y;};c.prototype.aab=function(){this.log.info("ad played, clearing all manifests from cache");this.K7a();};c.prototype.dab=function(){this.log.info("track changed, clearing all manifests from cache");this.K7a();};c.prototype.H_b=function(y){var z;z=this;this.config.DQb?this.sh.clearData(y,"manifest"):this.sh.oZ(y,"manifest") && this.sh.getData(y,"manifest").then(function(B){B.Ra.isSupplemental || z.sh.clearData(y,"manifest");},function(B){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",B);});this.xra(y);this.bnb=this.v4a=void 0;this.events.emit("playbackClosing",{N:y,type:"playbackClosing",target:this});};c.prototype.K7a=function(){this.sh.qra("none",["manifest","ldl"]);};c.prototype.xra=function(y){delete this.tHa[y];};c.prototype.aw=function(y){return this.tHa[y];};c.prototype.M9=function(y){return this.tHa[y]=this.Tmc.uB();};c.prototype.vmb=function(y,z){if(this.gab(y))return v.Lk.Qf;if(!z.xF)return v.Lk.Tqa;};c.prototype.iPb=function(y,z){var B,A;y.oe && y.Gb && (y.Gb.oe=y.oe);this.hlc(y.K,y.Nm);B=this.POb(y,z);A=this.LOb(y,null === B || void 0 === B?void 0:B.id,z);y=this.SOb(y,null === B || void 0 === B?void 0:B.id,z);return [B,A,y].filter(l);};c.prototype.POb=function(y,z){if(this.sh.oZ(y.K,"manifest"))this.log.trace("manifest exists in cache for " + y.K);else return new g.FU("manifest",this.ah.Rb().ia(q.va),!!y.Gb.Ui,void 0,z,this.i7a,y,this);};c.prototype.LOb=function(y,z,B){if(this.config.aY)if(this.sh.oZ(y.K,"ldl"))!1;else return this.config.Pu?new g.FU("ldl",this.ah.Rb().ia(q.va),!!y.Gb.Ui,z,B,this.jUb,y,this):new g.FU("ldl",this.ah.Rb().ia(q.va),!!y.Gb.Ui,z,B,this.kUb,y,this);};c.prototype.SOb=function(y,z,B){if(this.config.w6a)return new g.FU("getMedia",this.ah.Rb().ia(q.va),!!y.Gb.Ui,z,B,this.P$,y,this);};c.prototype.hlc=function(y,z){this.Bda[y] || (this.Bda[y]={Nea:0,Nm:0});y=this.Bda[y];y.Nea=(void 0 !== y?void 0 !== y.Nea?y.Nea:0:0) + 1;y.Nm=z;};a=c;a=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(f.jb)),r.__param(1,(0,d.l)(m.wc)),r.__param(2,(0,d.l)(h.Wz)),r.__param(3,(0,d.l)(k.Vg)),r.__param(4,(0,d.l)(p.jd)),r.__param(5,(0,d.l)(n.yla)),r.__param(6,(0,d.l)(w.UTa)),r.__param(7,(0,d.l)(w.TTa)),r.__param(8,(0,d.l)(w.STa)),r.__param(9,(0,d.l)(u.AIa)),r.__param(10,(0,d.l)(t.Kia))],a);b.OWa=a;},function(r,b,a){var l,g;function c(m,d,f,h,k,n,p,q){this.type=m;this.Rn=d;this.H$b=void 0 === f?!1:f;this.notify=k;this.lUb=n;this.zR=p;this.Fd=q;this.id=++g;this.status=l.Lk.Rn;}Object.defineProperty(b,"__esModule",{value:!0});b.FU=void 0;l=a(119);g=0;c.prototype.Zv=function(){var m;m={id:this.id,type:this.type,created:this.Rn,status:this.status,movieId:this.K};this.startTime && (m.startTime=this.startTime);this.endTime && this.startTime && (m.duration=this.endTime - this.startTime,m.endTime=this.endTime);return m;};c.prototype.eR=function(m){this.notify && this.notify(m);};c.prototype.Fec=function(){return this.lUb.fetch(this.zR,this.Fd);};Va.Object.defineProperties(c.prototype,{K:{configurable:!0,enumerable:!0,get:function(){return this.zR.K;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.zR.priority;}}});b.FU=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z;function c(B,A,C,D,E,G,F,L,O,K,I){this.pu=C;this.O1=D;this.yc=E;this.za=G;this.Ia=F;this.BQ=L;this.R$b=O;this.zk=K;this.Ij=I;this.log=B.fb("VideoPreparer");this.config=A();}Object.defineProperty(b,"__esModule",{value:!0});b.DOa=void 0;r=a(0);l=a(1);g=a(7);m=a(11);d=a(119);f=a(56);h=a(57);k=a(45);n=a(163);p=a(205);q=a(32);v=a(5);t=a(27);w=a(18);u=a(208);x=a(222);y=a(115);a=a(63);c.prototype.fetch=function(B,A){var C;C=this;this.log.trace("Fetching LDL",(0,u.zM)(B));this.K=B.K;this.Fd=A;return A.JP(B.K,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,u.zM)(B));return C.zk.taa(B.K).then(function(D){var E,G;C.ba=D;C.Ra=D.Ra;if(D=C.Fd.vmb(B.K,C.Ra))throw {status:D};D=C.Ra.Yw[0].O0;E=C.Ra.Yw[0].Ysa;G=(D?D:[E]).map(function(F){return C.yc.decode(F.bytes);});C.Ye=C.OE({f6a:C.log,wta:function(F){return C.handleError(F);},af:void 0,LAa:function(){},za:{getTime:function(){return C.Ia.Rb().ia(v.va);},Vuc:function(){return C.za.nf.ia(v.Go);}}});A.Hlb(B.K,C.Ye);return C.Ye.create(C.config.bo).then(function(){return C.Ye.ki(h.aj.Mp,G,!0);}).then(function(){return C.Ye;}).catch(function(F){C.handleError(F);throw F;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.Lk.Qf};});});};c.prototype.handleError=function(B){this.log.warn("ldl is now invalid",B);this.Ye.close();this.Fd.N2a(this.K);this.Fd.xra(this.K);};c.prototype.OE=function(B){var A,C;A=this;if(!this.pu.xM || !this.pu.vM){C=this.R$b();this.pu.xM=C.mc;this.pu.vM=C.request;}C=new this.pu.vM(B.f6a,function(D){var E;E=[];D.al.forEach(function(G){E.push({sessionId:G.sessionId,dataBase64:A.yc.encode(G.data)});});D={al:E,p$:[A.Ra.Lm],Pg:f.Eo.O3a(D.Pg),fh:A.Ra.fh,sa:A.Fd.M9(A.K),Mj:A.ba.Mj,ih:A.ba.Ra.ih};A.log.trace("xid created ",{MovieId:A.K,xid:D.sa});return A.BQ.Sx(D);},void 0,{fg:!1,$l:!1});return this.pu.xM(B.f6a,B.af,{fg:!1,$l:!1,en:C,Q0:this.config.Uib,ea:void 0,iD:this.config.n6a,onerror:B.wta,LAa:B.LAa,za:B.za,ZK:!1,jIb:this.O1.F9([]),imc:this.O1.L9([]),Rya:this.Ij.x8.ia(v.va)});};z=c;z=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.wc)),r.__param(2,(0,l.l)(k.y5)),r.__param(3,(0,l.l)(n.KU)),r.__param(4,(0,l.l)(q.Zi)),r.__param(5,(0,l.l)(t.Jh)),r.__param(6,(0,l.l)(w.jd)),r.__param(7,(0,l.l)(p.dU)),r.__param(8,(0,l.l)(x.gla)),r.__param(9,(0,l.l)(y.wH)),r.__param(10,(0,l.l)(a.Qs))],z);b.DOa=z;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.yc=u;this.MRb=x;this.OQ=y;this.zk=z;this.log=t.fb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.LOa=void 0;r=a(0);l=a(1);g=a(7);m=a(11);d=a(57);f=a(32);h=a(128);k=a(145);n=a(119);p=a(208);q=a(115);v=a(43);c.prototype.fetch=function(t,w){var u;u=this;this.log.trace("Fetching LDL",(0,p.zM)(t));this.K=t.K;this.Fd=w;return w.JP(t.K,"ldl").then(function(x){return x.$fa;}).catch(function(){u.log.trace("Requesting a new license",(0,p.zM)(t));return u.zk.taa(t.K).then(function(x){var y,z,B,A,C,D;u.Ra=x.Ra;if(w.gab(t.K))return w.JP(t.K,"ldl").then(function(E){return E.$fa;});y=u.Fd.vmb(t.K,u.Ra);if(y)throw {status:y};z=u.Ra.Yw[0];y=z.O0;B=z.Ysa;z=z.streams[0].NE;A=(0,v.Kxa)(z);C=(y?y:[B]).map(function(E){return u.yc.decode(E.bytes);});D=u.MRb().then(function(E){var G;G={type:d.aj.Mp,initData:C,Wba:A,context:{tca:(0,v.zva)(x.Ra.Yw[0].streams)},Tj:{K:t.K,sa:w.M9(t.K),fh:u.Ra.fh,Lm:u.Ra.Lm,Mj:x.Mj,ih:x.Ra.ih}};return E.ki(G,u.OQ());}).catch(function(E){u.handleError("Unable to prepare an EME session.",E);throw E;});u.Fd.Hlb(t.K,{$fa:D,source:"videopreparer"},function(){if(!u.Fd.zqb(t.K))try{D.then(function(E){return E.close();}).catch(function(E){u.handleError("Unable to cleanup LDL session, Unable to get the session.",E);});}catch(E){u.handleError("Unable to cleanup LDL session, unexpected exception.",E);}});return D;}).catch(function(x){u.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:n.Lk.Qf};});});};c.prototype.handleError=function(t,w){this.log.warn(t + " LDL is now invalid.",w);this.Fd.N2a(this.K);this.Fd.xra(this.K);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.wc)),r.__param(2,(0,l.l)(f.Zi)),r.__param(3,(0,l.l)(h.U3)),r.__param(4,(0,l.l)(k.nU)),r.__param(5,(0,l.l)(q.wH))],a);b.LOa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x){this.t_=w;this.ah=u;this.zk=x;this.log=v.fb("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.PPa=void 0;r=a(0);l=a(11);g=a(1);m=a(7);d=a(18);f=a(5);h=a(138);k=a(101);n=a(208);p=a(115);q=a(57);c.prototype.fetch=function(v,t){var w,u;this.log.trace("Fetching manifest",(0,n.zM)(v));u=v.Gb;this.config.LFb && u && u.ba && !this.zk.kba(v.K) && (!(("clientGenesis" in u.ba) && u.ba.clientGenesis) || "number" === typeof u.ba.clientGenesis && Date.now() - u.ba.clientGenesis < this.config.Aib) && (u=this.t_.create(u.ba)) && (u.mL=this.ah.Rb().ia(f.va),u.RR=this.ah.Rb().ia(f.va),this.zk.Y1(v.K,u));return this.zk.QJ({sa:t.M9(v.K),N:v.K,lb:null !== (w=v.Gb) && void 0 !== w?w:{},ry:k.Np.PM,Pg:q.aj.Mp},!0,function(x){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",N:v.K,ba:x});});};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.jb)),r.__param(1,(0,g.l)(l.wc)),r.__param(2,(0,g.l)(h.HM)),r.__param(3,(0,g.l)(d.jd)),r.__param(4,(0,g.l)(p.wH))],a);b.PPa=a;},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t,w,u,x,y;function c(){var z;z=this;this.promise=new Promise(function(B,A){z.resolve=B;z.reject=A;});}function l(z,B,A,C,D){var E;E=this;this.gCa=A;this.Tac=C;this.zk=D;this.Z2=[];this.oG=new Map();this.g9b=function(G){var F,L;G=G.wishListItem.key.N;if(E.oG.has(G)){L=E.oG.get(G);G=L.zR;L=L.Jra;null === (F=L.resolve) || void 0 === F?void 0:F.call(L,G);}};this.fea=function(G){var F,L;F=G.N;L=G.ba;G.target.zqb(G.N) || (E.Hh.has({N:F}) && (E.Hh.Xr(F).Ov=!0),null === L || void 0 === L?void 0:L.then(function(O){var K;K=O.Ra;K && K.ye && K.Bv && K.Bv.forEach(function(I){var M;M={$k:{ye:K.ye,Eh:F}};E.Hh.has({N:I.K,Eh:K.K,ye:K.ye}) && (E.Hh.Xr(I.K,M).Ov=!0);});}).catch(function(){}),E.Ujb(F),E.nmb(E.Z2));};this.qa=z.fb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.zIa=void 0;r=a(0);g=a(7);a(208);m=a(167);d=a(60);f=a(11);h=a(19);k=a(101);n=a(301);p=a(1);q=a(553);v=a(13);t=a(115);w=a(57);u=a(554);x=a(1331);y=a(119);l.prototype.oa=function(z){var B;B=this;this.Hh=new u.lma(function(A,C){return B.iy(A,z,m.Lr.Le,C);});};l.prototype.fetch=function(z,B){var A;A=this;if(-1 === B.events.listeners("manifestRemovedFromCache").indexOf(this.fea))B.events.on("manifestRemovedFromCache",this.fea);if(-1 === B.events.listeners("playbackClosing").indexOf(this.fea))B.events.on("playbackClosing",this.fea);!1;return this.QJ(z.K,B,z.Gb).then(function(C){if("LIVE" === C.Ra.ih)throw {status:y.Lk.m2a};A.nmb(A.TLb(A.sPb(z,B)));return A.oG.get(z.K).Jra.promise;});};l.prototype.getStats=function(){return this.az.getStats();};l.prototype.TLb=function(z){return [z].concat(ia(this.Z2.filter(function(B){return B.key.N !== z.key.N;}))).slice(0,this.config.Rac).map(this.config.Sac?function(B,A){return Object.assign({},B,{priority:A});}:function(B){return B;});};l.prototype.K9a=function(z,B,A){var C;C=this;A=void 0 === A?{}:A;return this.QJ(z,B,A).then(function(D){C.hOb(D,B);return D.Ra;});};l.prototype.QJ=function(z,B,A){var C;A=void 0 === A?{}:A;return this.zk.QJ({sa:null !== (C=B.aw(z)) && void 0 !== C?C:B.M9(z),N:z,ry:k.Np.PM,Pg:w.aj.Mp,lb:A});};l.prototype.hOb=function(z,B){var A,C,D;A=this;C=z.Ra;null === (D=C.Bv) || void 0 === D?void 0:D.forEach(function(E){A.iy(E.K,B,m.Lr.Le,{$k:{ye:C.ye,Eh:C.K}},E);});};l.prototype.sPb=function(z,B){var A,C,D,E,G,F;D=new c();if(this.oG.has(z.K)){E=this.oG.get(z.K);G=E.zR;if(G.K === z.K && G.oe === z.oe)F=E.Lmc.key;this.az.getStats().contents.some(function(L){return L.id === z.K;}) && (D=E.Jra);}E=m.Lr.Le.Hi((0,h.y9)(z.oe));F || (F={N:z.K,config:E});G={N:z.K};this.Hh.has(G) || this.Hh.store(G,this.qPb(z,B,E));B={key:F,Fvc:!1,priority:z.priority,Z8:d.P.Na(null !== (C=null === (A=z.Gb) || void 0 === A?void 0:A.ca) && void 0 !== C?C:0),Hh:this.Hh};this.oG.set(z.K,{Lmc:B,zR:z,Jra:D});return B;};l.prototype.qPb=function(z,B,A){var C,D,E;C=this;D=z.K;return {get sa() {return B.aw(D);},Ov:!1,events:new v.EventEmitter(),l2a:function(){},get Ru() {E || (E=C.K9a(z.K,B,z.Gb).then(function(G){return {ba:G,Tl:G.lba && !G.xF,config:A,bFa:{}};}));return E;},N:D,QFa:!1,equals:function(G){var F;F=B.aw(D);return G && G.N === D && (!G.sa || !F || F === G.sa);}};};l.prototype.iy=function(z,B,A,C,D){var E,G,F,L,O,K,I,M;E=this;O=B.aw(z);if(O || C){K={N:z,Eh:null === (G=null === C || void 0 === C?void 0:C.$k) || void 0 === G?void 0:G.Eh,ye:null === (F=null === C || void 0 === C?void 0:C.$k) || void 0 === F?void 0:F.ye};if(!this.Hh.has(K)){I=null !== O && void 0 !== O?O:this.Hh.Xr(null === (L=null === C || void 0 === C?void 0:C.$k) || void 0 === L?void 0:L.Eh).sa;this.Hh.store(K,{l2a:function(){},equals:function(H){return H && H.N === K.N && (I === H.sa || !H.sa || !I);},get Ru() {M || (M=(D?Promise.resolve(D):E.K9a(z,B)).then(function(H){return {ba:H,Tl:H.lba && !H.xF,config:A,bFa:{}};}));return M;},set Ru(H) {M=H;},events:new v.EventEmitter(),sa:I,N:K.N,Ov:!1,QFa:!1});}}};l.prototype.Slb=function(z){this.Z2=z;};l.prototype.nmb=function(z){this.Slb(z);this.az.mmb(this.Z2);};l.prototype.Ujb=function(z){this.oG.has(z) && (this.Slb(this.Z2.filter(function(B){return B.key.N !== z;})),this.oG.delete(z));};Va.Object.defineProperties(l.prototype,{az:{configurable:!0,enumerable:!0,get:function(){this.IA || (this.IA=this.Tac(),this.IA.KEa(this.gCa).dmb(new x.gOa()).Glb({BF:this.config.Qac}),this.IA.events.on("prefetchComplete",this.g9b));return this.IA;}}});a=l;a=r.__decorate([(0,p.$)(),r.__param(0,(0,p.l)(g.jb)),r.__param(1,(0,p.l)(f.wc)),r.__param(2,(0,p.l)(q.wla)),r.__param(3,(0,p.l)(n.BIa)),r.__param(4,(0,p.l)(t.wH))],a);b.zIa=a;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.gOa=void 0;a.prototype.v7a=function(c,l){var g;return null !== (g=this.IUb(c,l)) && void 0 !== g?g:this.MUb(c,l);};a.prototype.IUb=function(c,l){var g,m;g=this;m=l.na;return c.find(function(d){var f;return g.V9(m,null === (f=d.na) || void 0 === f?void 0:f.na);});};a.prototype.MUb=function(c,l){var g,m;g=l.na.me;m=l.na.U[g];return c.find(function(d){var f;d=null === (f=d.na) || void 0 === f?void 0:f.na;d=(f=null === d || void 0 === d?void 0:d.me) && (null === d || void 0 === d?void 0:d.U[f]) || void 0;return g === f && m.N === (null === d || void 0 === d?void 0:d.N) && m.Ba === (null === d || void 0 === d?void 0:d.Ba);});};a.prototype.V9=function(c,l){var g;g=this;return c === l?!0:"object" !== typeof c || "object" !== typeof l?c === l:Object.keys(c).length === Object.keys(l).length && Object.keys(c).every(function(m){return g.V9(c[m],l[m]);});};b.gOa=a;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){var q;q=this;this.ah=n;n=p();this.sh=new h({log:k.fb("CacheManager"),za:{getTime:function(){return q.ah.Rb().ia(d.va);}},Promise:Promise,fg:!1,IJb:n.Zac,HJb:n.Xac,MTb:n.Aib,LTb:n.Yac});}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;r=a(0);l=a(1);g=a(18);m=a(7);d=a(5);f=a(11);h=a(1333);c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(g.jd)),r.__param(2,(0,l.l)(f.wc))],c);b.LJa=c;},function(r,b,a){var d;function c(){return Object.create(null);}function l(f){this.log=f.log;this.za=f.za;this.aG=c();this.Promise=f.Promise;this.oB=f.oB;this.AGa=f.AGa;this.fg=f.fg || !1;this.ny=c();this.GE=c();this.OI=c();this.NEb(f);f.vq && (this.vq=f.vq);}function g(f){return "undefined" !== typeof f;}function m(f){var n;for(var h=0,k=arguments.length;h < k;){n=arguments[h++];if(g(n))return n;}}a(1334);d=a(1335);l.prototype.NEb=function(f){this.ny.manifest=m(f.MTb,d.ny.ba);this.ny.ldl=m(f.LTb,d.ny.$Z);this.ny.metadata=m(f.Duc,d.ny.gd);this.GE.manifest=m(f.IJb,d.GE.ba);this.GE.ldl=m(f.HJb,d.GE.$Z);this.GE.metadata=m(f.rtc,d.GE.gd);this.OI.manifest=m(f.ptc,d.OI.ba);this.OI.ldl=m(f.otc,d.OI.$Z);this.OI.metadata=m(f.qtc,d.OI.gd);};l.prototype.oZ=function(f,h){this.Lv("undefined" !== typeof f);this.Lv("undefined" !== typeof h);return !!this.VXa(f,h,void 0).value;};l.prototype.VXa=function(f,h,k){var n,p;n={value:null,reason:"",log:""};p=this.aG[h];k=k?k:"DEFAULTCAPS";if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof p[f]?(n.log="cache miss: no data exists for movieId:" + f,n.reason="unavailable"):(p=p[f][k]) && p.value?this.$ba(h,p.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + f,n.reason="expired",this.clearData(f,h,k,!1,"expired")):(n.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + f:"cache hit: " + h + " available for movieId:" + f,n.value=p.value):(n.log="cache miss: " + h + " data not available for movieId:" + f,n.reason="unavailable");return n;};l.prototype.getData=function(f,h,k){this.Lv("undefined" !== typeof f);this.Lv("undefined" !== typeof h);f=this.VXa(f,h,k);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.AGa?JSON.parse(this.AGa(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};l.prototype.setData=function(f,h,k,n,p){var q,v,t;this.Lv("undefined" !== typeof f);this.Lv("undefined" !== typeof h);q=this.aG;v=p?p:"DEFAULTCAPS";q[h] || (q[h]=c(),Object.defineProperty(q[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.oB?this.oB(JSON.stringify(k),"gzip",!0):k;q=q[h];this.qCb(f,h,v,q);t=this;n={creationTime:this.za.getTime(),value:k,size:0,type:h,Jsa:n,KTb:setTimeout(function(){t.clearData(f,h,v,!1,"expired");},this.ny[h] + 1)};q[f]=q[f] || c();q[f][v]=q[f][v] || c();q[f][v]=n;q.size+=0;q.numEntries++;this.vq && this.vq.emit("addedCacheItem",n);return n;};l.prototype.qCb=function(f,h,k,n){var p,q,v,t,w,u,x,y,z;p=this;q=n.numEntries;v=this.GE[h];t=n[f] && n[f][k];if(t && t.value)(w=f,u="promise_or_expired");else if(q >= v){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(B){var A;A=n[B] && n[B][k];A && A.value && p.$ba(h,A.creationTime) && (z=B);A && A.value && A.creationTime < y && (y=A.creationTime,x=B);return !0;});w=z || x;u="cache_full";}this.fg && this.log.debug("makespace ",{maxCount:v,currentCount:n.numEntries,field:h,movieId:f,movieToBeRemoved:w});w && (p.clearData(w,h,k,void 0,u),this.log.debug("removed from cache: ",w,h));};l.prototype.qra=function(f,h){var k,n;k=this;k.Lv("undefined" !== typeof f);n=f + "";h.forEach(function(p){var q;q=k.aG[p];q && Object.keys(q).forEach(function(v){v != n && k.clearData(v,p,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(f,h,k,n,p){var q;this.Lv("undefined" !== typeof f);this.Lv("undefined" !== typeof h);q=this.aG[h];h=q?q[f]:void 0;k=k?k:"DEFAULTCAPS";if(h && h[k]){q.size-=h[k].size;q.numEntries--;if(q=h && h[k])(clearTimeout(q.KTb),h[k]=void 0,!n && q.Jsa && q.Jsa());this.vq && (f={creationTime:q.creationTime,destroyFn:q.Jsa,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.vq.emit("deletedCacheItem",f));}};l.prototype.flush=function(f){var h;this.Lv("undefined" !== typeof f);h=this.aG;h[f]=c();h[f].numEntries=0;h[f].size=0;};l.prototype.M2a=function(){var f,h;this.Lv(!1);f=this;h=this.aG;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(k){var n;n=h[void 0][k].DEFAULTCAPS;f.za.getTime() - n.creationTime > f.ny[void 0] && f.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};l.prototype.$ba=function(f,h){return this.za.getTime() - h > this.ny[f];};l.prototype.getStats=function(f,h,k){var n,p,q,v,t;n={};p=this;q=p.aG;v=g(f) && g(h);t=k || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var u,x;u=Object.keys(q[w]);x=q[w];u.forEach(function(y){!(y=x && x[y] && x[y][t]) || !g(y.value) || y.value instanceof p.Promise || (n[w]=(n[w] | 0) + 1,p.$ba(y.type,y.creationTime) && (n[w + "_expired"]=(n[w + "_expired"] | 0) + 1),v && y.creationTime >= f && y.creationTime < h && (n[w + "_delta"]=(n[w + "_delta"] | 0) + 1));});});return n;};l.prototype.getState=function(f){var h,k,n,p;h=[];k=this;n=k.aG;p=f || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var v,t;v=Object.keys(n[q]);t=n[q];v.forEach(function(w){var u,x;u=t && t[w] && t[w][p];if(u && g(u.value)){x=k.$ba(u.type,u.creationTime)?"expired":u.value instanceof k.Promise?"loading":"cached";h.push({movieId:w,state:x,type:q,size:u.size});}});});return h;};l.prototype.Lv=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.fg))throw Error("Debug Assert Failed ");};r.exports=l;},function(r){function b(a){var c;c=[];return (function m(g){if(g && "object" === typeof g){if(-1 !== c.indexOf(g))return !0;c.push(g);for(var d in g){if(g.hasOwnProperty(d) && m(g[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var g;if(c && b(a))return -1;c=[];a=[a];for(var l=0;a.length;){g=a.pop();if("boolean" === typeof g)l+=4;else if("string" === typeof g)l+=2 * g.length;else if("number" === typeof g)l+=8;else if("object" === typeof g && -1 === c.indexOf(g)){c.push(g);for(var m in g){a.push(g[m]);}}}return l;};},function(r){r.exports={ny:{ba:12E5,$Z:9E5,gd:12E5},GE:{ba:10,$Z:10,gd:10},OI:{ba:10240,$Z:10240,gd:10240}};},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.qb=void 0;r=a(1);c=a(209);l=a(1337);g=a(555);m=a(1338);d=a(556);f=a(1339);h=a(1340);k=a(557);n=a(1341);b.qb=new r.Gd(function(p){p(c.fja).to(l.dLa).la();p(g.fQa).to(m.eQa).la();p(d.mRa).to(f.lRa).la();p(d.pQa).to(h.oQa).la();p(k.nQa).to(n.mQa).la();});},function(r,b,a){var l,g,m,d;function c(f){function h(k,n){this.L=k;this.yn=n;this.M$=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Fg=f.fb("DownloadTrack");}h.prototype.Gt=function(){!1;this.hW=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.hW + " config: " + JSON.stringify(this.L);};h.prototype.toJSON=function(){return "Download Track id:" + this.hW + " config: " + JSON.stringify(this.L);};h.prototype.uQ=function(){return void 0 === this.hW?!1:!0;};h.prototype.Z0=function(k){this.L.connections !== k.connections && (this.L=k);};h.prototype.kw=function(){return 1 < this.L.connections?!0:!1;};Va.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.hW;}},Rn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.hW;}},config:{configurable:!0,enumerable:!0,get:function(){return this.L;}},Bea:{configurable:!0,enumerable:!0,get:function(){return this.Fg;}},CK:{configurable:!0,enumerable:!0,get:function(){return this.yn.CK;}}});this.tM=Object.assign(h,new m.eLa());}Object.defineProperty(b,"__esModule",{value:!0});b.dLa=void 0;r=a(0);l=a(1);g=a(7);m=a(209);d=a(105).EventEmitter;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb))],c);b.dLa=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x,y){this.xO=v;this.Bf=w;this.Ib=u;this.Ia=x;this.config=y;this.log=t.fb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.eQa=void 0;r=a(0);l=a(210);g=a(100);m=a(4);d=a(7);f=a(1);h=a(66);k=a(25);n=a(18);p=a(5);a=a(11);c.prototype.lF=function(){return this.Ia.Rb().ia(p.va);};c.prototype.qgb=function(v,t){v.P7b({mediaRequest:v,timestamp:t});};c.prototype.Lgb=function(v){var t,w;w=v.mediaRequest.oC;w.readyState=l.Fc.cd.iA;w.ogb(Object.assign(Object.assign({},v),{timestamp:v.connect?v.timestamp:this.lF(),connect:null !== (t=v.connect) && void 0 !== t?t:!1,mediaRequest:w,readyState:w.readyState}));};c.prototype.f0=function(v){this.qgb(v.mediaRequest.oC,v.timestamp);};c.prototype.g0=function(v){var t,w;t=v.mediaRequest.oC;w=v.bytes;"undefined" === typeof t?!1:(t.readyState === l.Fc.cd.jA && this.Lgb(v),this.Ib.Rl(w) && (v.mediaRequest=t,v.timestamp=this.lF(),w > t.bytesReceived && (v.newBytes=w - t.bytesReceived,v.bytesLoaded=w,t.T7b(v))));};c.prototype.ns=function(v){var t,w,u,x;t=v.mediaRequest;w=v.errorcode;u=v.httpcode;x=l.Fc.X3;if("undefined" === typeof t)!1;else if((t=t.oC,"undefined" === typeof t))!1;else if(t.readyState !== l.Fc.cd.yM)if(w === m.Y.xD)(t.readyState=l.Fc.cd.jT,v.mediaRequest=t,v.readyState=t.readyState,t.M7b(v));else {t.readyState=l.Fc.cd.yM;switch(w){case m.Y.YT:u=x.EJa;break;case m.Y.Fja:u=x.Cja;break;case m.Y.VT:u=400 < u && 500 > u?x.V4:500 <= u?x.Eja:x.Cja;break;case m.Y.WT:u=x.Dja;break;case m.Y.UT:u=x.FJa;break;case m.Y.XT:u=x.W4;break;case m.Y.nH:u=x.W4;break;case m.Y.dNa:u=x.cNa;break;case m.Y.$Ma:u=x.V4;break;case m.Y.aub:u=x.Dja;break;default:u=x.W4;}v.mediaRequest=t;v.readyState=t.readyState;v.errorcode=u;v.nativecode=w;t.MAa(v);}};c.prototype.c0=function(v,t){var w,u;w=t.request.oC;if(w)if(t.ja){if((!1,v.j && w.readyState !== l.Fc.cd.DONE)){switch(w.readyState){case l.Fc.cd.jT:!1;return;case l.Fc.cd.yM:!1;break;case l.Fc.cd.iA:break;case l.Fc.cd.jA:this.Lgb({mediaRequest:t.request,responseHeaders:t.headers});break;default:!1;}w.readyState=l.Fc.cd.DONE;if(!w.Hc){u={mediaRequest:w,readyState:w.readyState,timestamp:this.lF(),cadmiumResponse:t};v.j.kGa+=1;w.a_b();w.V2b() && (v.j.JDa+=1,t.Vm.rj=Math.ceil(w.nua),t.Vm.Uq=Math.ceil(w.ZI),t.Vm.Bs=Math.floor(w.RF));w.x9=u;w.eR(u);}}}else (!1,w.readyState === l.Fc.cd.jT?!1:this.ns({mediaRequest:t.request,errorcode:t.Ca,httpcode:t.Xl,cadmiumResponse:t}));};c.prototype.download=function(v,t){var w,u;w=this;t=this.Bf.download(v,t);if(v.oC){u=v.oC;-1 < [l.Fc.cd.OPENED,l.Fc.cd.yM].indexOf(u.readyState) && (u.readyState=l.Fc.cd.jA,this.config().$za?t.fgc(function(x){w.f0(x);}):this.qgb(u,this.lF()));}t.i8(function(x){w.c0(v,x);});t.lgc(function(x){w.g0(x);});return t;};q=c;q=r.__decorate([(0,f.$)(),r.__param(0,(0,f.l)(g.oT)),r.__param(1,(0,f.l)(d.jb)),r.__param(2,(0,f.l)(h.jx)),r.__param(3,(0,f.l)(k.Vg)),r.__param(4,(0,f.l)(n.jd)),r.__param(5,(0,f.l)(a.wc))],q);b.eQa=q;},function(r,b,a){var l,g,m;function c(d,f){this.Bf=f;this.log=d.fb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.lRa=void 0;r=a(0);l=a(1);g=a(7);a=a(66);c.prototype.zY=function(d,f,h){d={url:d.url,bfc:h};!1;this.Bf.ehc(d);};c.prototype.oO=function(d){try{d.cxa();}catch(f){this.log.warn("exception aborting request");}};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(a.jx))],m);b.lRa=m;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.Ia=t;this.Vv=w;this.config=u;this.Bf=y;this.n6b=z;this.log=x.fb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.oQa=void 0;r=a(0);l=a(1);g=a(7);m=a(66);d=a(555);f=a(93);h=a(210);k=a(18);n=a(5);p=a(39);q=a(11);v=a(49);c.prototype.zY=function(t,w,u){var y,z,B;function x(){t.removeEventListener(h.Fc.ff.CH,x);t.lY?t.lY++:t.lY=1;t.lY >= y.config().Uta.length && (t.lY=y.config().Uta.length - 1);setTimeout(function(){y.zY(t,w,u);},y.config().Uta[t.lY]);}y=this;t.Gvc=!0;z=0 === w.start && -1 === w.end;z={url:t.url,responseType:this.Bf.I5.SIa,withCredentials:!1,UE:t.mediaType === v.u.T?"audio":"video",offset:z?void 0:w.start,length:z?void 0:t.Sg,track:{type:t.mediaType === v.u.T?f.yj.audio:f.yj.video},stream:{Tb:t.Sa,bitrate:t.bitrate},Cc:t.$c,oC:t,lga:u,Ou:this.Vv.Ou,Au:t.Au};B=this.lF();z=this.n6b.download(z,function(A){A.ja && t.readyState !== h.Fc.cd.DONE && (t.readyState === h.Fc.cd.jT?!1:(t.readyState === h.Fc.cd.yM?!1:t.readyState === h.Fc.cd.jA?(t.readyState=h.Fc.cd.iA,t.ogb({mediaRequest:t,readyState:t.readyState,timestamp:t.Hc?B:y.lF(),connect:!1,responseHeaders:A.headers})):t.readyState !== h.Fc.cd.jA && t.readyState !== h.Fc.cd.iA && !1,t.readyState=h.Fc.cd.DONE,A={mediaRequest:t,readyState:t.readyState,timestamp:y.lF(),cadmiumResponse:A,response:A.content},t.x9=A,t.eR(A)));});t.addEventListener(h.Fc.ff.CH,x);t.cxa=z.abort;};c.prototype.oO=function(t){try{t.cxa();}catch(w){this.log.warn("exception aborting request");}};c.prototype.lF=function(){return this.Ia.Rb().ia(n.va);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(k.jd)),r.__param(1,(0,l.l)(p.Lp)),r.__param(2,(0,l.l)(q.wc)),r.__param(3,(0,l.l)(g.jb)),r.__param(4,(0,l.l)(m.jx)),r.__param(5,(0,l.l)(d.fQa))],a);b.oQa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x,y){function z(A,C){this.track=A;this.label=C;this.Fi=n.Fc.cd.UNSENT;this.bytesReceived=0;this.pL=[];this.requestId=y.uB().toString();this.Ib=w;this.log=t.fb("MediaRequest");this.config=v;this.Pb=new k.Ik();"notification" === this.label?this.config().$E && (this.CK=u):this.CK=x;!1;}function B(A,C){this.requestId=y.uB().toString();this.Ib=w;this.log=t.fb("MediaRequest");this.config=v;this.Pb=new k.Ik();this.label=C;"notification" === this.label?this.config().$E && (this.CK=u):this.CK=x;this.EZ=this.GO=this.IO=void 0;this.track=A;this.HO=this.url=this.responseType=void 0;this.Fi=n.Fc.cd.UNSENT;this.Pj=this.CP=this.Ah=this.status=void 0;this.ru=this.bytesReceived=0;this.connect=this.nua=this.ZI=this.RF=this.Cya=this.ug=this.mua=this.loadTime=this.bO=void 0;this.pL=[];this.Rn=!1;!1;}z.prototype.addEventListener=function(A,C,D){this.Pb.addListener.call(this,A,C,D);};z.prototype.removeEventListener=function(A,C){this.Pb.removeListener.call(this,A,C);};z.prototype.emit=function(A,C,D){this.Pb.Zc.call(this,A,C,D);};z.prototype.P7b=function(A){this.Fi === n.Fc.cd.OPENED && (this.EZ=!0,this.loadTime=this.ug=A.timestamp,!1,this.Fi=n.Fc.cd.jA,this.emit(n.Fc.ff.cRa,A));};z.prototype.ogb=function(A){var C;!this.Gkb && A.responseHeaders && (this.Gkb=A.responseHeaders);if(this.Fi < n.Fc.cd.iA){this.pL=[];C=A.timestamp - this.loadTime;!this.Hc && 0 < C && (this.connect=!0,this.pL.push(C));!0 === this.config().$0b?this.mua=A.timestamp:this.mua=this.ug=A.timestamp;!1;this.Fi=n.Fc.cd.iA;this.emit(n.Fc.ff.bRa,A);}};z.prototype.T7b=function(A){this.Fi === n.Fc.cd.iA && (!1,this.Cya=this.ug=A.timestamp,A.newBytes=A.bytesLoaded - this.bytesReceived,this.bytesReceived=A.bytesLoaded,this.Ib.wh(this.Cya) && this.emit(n.Fc.ff.dRa,A));};z.prototype.eR=function(A){var C;if(-1 < [n.Fc.cd.jA,n.Fc.cd.iA].indexOf(this.Fi)){this.EZ=!1;!1;this.ug=A.timestamp;this.Fi=n.Fc.cd.DONE;C=this.bytesReceived;this.bytesReceived=A.cadmiumResponse.Vm.qX;(0,q.ya)(this.bytesReceived === this.Sg,"bytesReceived do not match expected totalBytes.");A.newBytes=this.Sg - C;this.Ib.wh(this.ZI) && (this.ug=this.ZI,0 === A.newBytes && (this.Cya=this.ZI));this.Ib.wh(this.RF) && (this.loadTime=this.RF);this.bO=A.response;this.emit(n.Fc.ff.xU,A);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",Qdc:A});}};z.prototype.M7b=function(A){this.EZ=!1;!1;this.emit(n.Fc.ff.gxb,A);};z.prototype.MAa=function(A){this.ug=A.timestamp;this.status=A.httpcode;this.Ah=A.errorcode;this.CP=n.Fc.X3.name[this.Ah];this.Pj=A.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",xTb:A});this.emit(n.Fc.ff.CH,A);this.EZ=!1;};z.prototype.open=function(A,C,D,E,G,F,L,O){this.qz=!1;this.HO=C;this.Au=O;this.url=A;this.responseType=D;!1;if(!this.url)return (!1,!1);this.Fi=n.Fc.cd.OPENED;this.CK.zY(this,C,L);return !0;};z.prototype.ud=function(){!1;-1 !== [n.Fc.cd.OPENED,n.Fc.cd.jA,n.Fc.cd.iA].indexOf(this.Fi) && this.abort();return !0;};z.prototype.rLb=function(){this.bO=void 0;this.x9 && (this.x9.response=void 0,this.x9.cadmiumResponse.content=void 0);this.cxa=void 0;};z.prototype.Jga=function(A){!1;this.url=A;return !0;};z.prototype.abort=function(){this.Fi=n.Fc.cd.jT;this.CK.oO(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(A){var C,D;return null !== (D=null === (C=this.Gkb) || void 0 === C?void 0:C[A.toLowerCase()]) && void 0 !== D?D:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.MR=function(){};z.prototype.Mi=function(){return this.requestId;};z.prototype.toString=function(){var A;A={requestId:this.Mi(),segmentId:this.S,isHeader:this.Hc,ptsStart:this.HC,ptsOffset:this.Jw,responseType:this.responseType,duration:this.Un,readystate:this.Fi};this.stream && (A.bitrate=this.stream.bitrate);return JSON.stringify(A);};z.prototype.toJSON=function(){return this.toString();};z.prototype.a_b=function(){var A,C;if(this.config().Zpb && d.ox && d.ox.getEntriesByType && (!this.Ib.wh(this.RF) || !this.Ib.wh(this.ZI) && this.Ib.wh(this.url))){A="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.IO + "-" + this.GO + "*");C=new RegExp(A);A=d.ox.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.Ib.wh(A) && (0 < A.startTime && (this.RF=A.startTime,0 < A.requestStart && (this.RF=Math.max(this.RF,A.requestStart))),0 < A.responseStart && (this.nua=A.responseStart),0 < A.responseEnd && (this.ZI=A.responseEnd));}};z.prototype.V2b=function(){return this.Ib.wh(this.RF) && this.Ib.wh(this.ZI) && this.Ib.wh(this.nua);};Va.Object.defineProperties(z.prototype,{Sg:{configurable:!0,enumerable:!0,get:function(){return 0 === this.HO.start && -1 === this.HO.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.HO.end - this.HO.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.GO - this.IO + 1;}},kab:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Hc:{configurable:!0,enumerable:!0,get:function(){return !this.IF;}},response:{configurable:!0,enumerable:!0,get:function(){return this.bO;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Fi;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(A){var C;C=Object.getOwnPropertyDescriptor(z.prototype,A);Object.defineProperty(B.prototype,A,C);});this.kr=Object.assign(B,n.Fc);}Object.defineProperty(b,"__esModule",{value:!0});b.mQa=void 0;r=a(0);l=a(1);g=a(7);m=a(11);d=a(14);f=a(25);h=a(556);k=a(70);n=a(210);p=a(86);q=a(22);c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.wc)),r.__param(1,(0,l.l)(g.jb)),r.__param(2,(0,l.l)(f.Vg)),r.__param(3,(0,l.l)(h.mRa)),r.__param(4,(0,l.l)(h.pQa)),r.__param(5,(0,l.l)(p.Wz))],c);b.mQa=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Jfb=void 0;r=a(1);c=a(364);l=a(1343);b.Jfb=new r.Gd(function(g){g(c.Aka).to(l.EQa).la();});},function(r,b,a){var l,g,m,d,f;function c(h){return g.If.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.EQa=void 0;r=a(0);l=a(46);g=a(47);m=a(1);d=a(33);f=a(5);la(c,g.If);Va.Object.defineProperties(c.prototype,{wfb:{configurable:!0,enumerable:!0,get:function(){return (0,f.$b)(5E3);}},Zgb:{configurable:!0,enumerable:!0,get:function(){return (0,f.$b)(1E3);}},$gb:{configurable:!0,enumerable:!0,get:function(){return (0,f.$b)(1E3);}}});a=c;r.__decorate([l.config(l.cm,"minDecoderBufferMilliseconds")],a.prototype,"wfb",null);r.__decorate([l.config(l.cm,"optimalDecoderBufferMilliseconds")],a.prototype,"Zgb",null);r.__decorate([l.config(l.cm,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"$gb",null);a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.vn))],a);b.EQa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Jhb=void 0;r=a(1);c=a(558);l=a(1345);g=a(84);m=a(1347);d=a(561);f=a(1348);h=a(510);k=a(1349);n=a(302);p=a(1350);b.Jhb=new r.Gd(function(q){q(g.gA).to(m.VRa).la();q(c.XRa).to(l.WRa).la();q(h.gSa).to(k.fSa);q(h.eSa).df(function(v){return function(){return v.zb.get(h.gSa);};});q(d.CSa).to(f.BSa).la();q(n.ala).to(p.ySa).la();});},function(r,b,a){var m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A;function c(C){this.config=C;this.lB=[];}function l(C,D,E){this.Ia=C;this.QS=D;this.context=E;this.startTime=this.Ia.Rb();}function g(C,D,E,G,F,L,O,K,I,M){this.Oob=D;this.json=E;this.Ia=G;this.Vv=F;this.QCa=L;this.Jc=O;this.config=K;this.Pb=I;this.receiver=M;this.log=C.fb("Pbo");K.Ljb && (this.lB=new c(K));this.QS=this.Oob();}Object.defineProperty(b,"__esModule",{value:!0});b.WRa=void 0;r=a(0);m=a(1);d=a(5);f=a(559);h=a(7);k=a(37);n=a(18);p=a(39);q=a(147);v=a(48);t=a(560);w=a(84);u=a(112);x=a(16);y=a(67);z=a(1346);a=a(302);B={"shakti-":"akira"};g.prototype.send=function(C,D){var E;E=new l(this.Ia,this.QS,C);this.lB && this.lB.append(E);return this.wEa(C,D,E);};g.prototype.wEa=function(C,D,E){var G;G=this;return new Promise(function(F,L){G.retry(C,D).then(function(O){var K,I;G.Cfc(O);K=oa(G.Ylc(O));I=K.next().value;K=K.next().value;I && (G.receiver.MCa({command:C.Xo,inputs:D,outputs:I}),G.KLb(E),F(O));K && (G.receiver.MCa({command:C.Xo,inputs:D,outputs:K}),G.b3a(E,K),L(K));}).catch(function(O){var K;G.receiver.MCa({command:C.Xo,inputs:D,outputs:O});K=G.b3a(E,O);O.Ub && (O.Ub=[O.Ub," ",K].join(""));L(O);});});};g.prototype.Cfc=function(C){(C=C.serverTime) && this.Pb.Zc(x.Oja.ylb,(0,d.$b)(C));};g.prototype.Ylc=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{hG:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};g.prototype.eIb=function(C,D,E){var G;G=this;this.qlc(D,C);this.QS=this.Oob(E);return this.QS.send(D,E).then(function(F){return {retry:!1,result:z.v5.l$b(G.json,F.body)};}).catch(function(F){var L,O;L=z.v5.nYb(F);O=void 0 !== L?Math.min(L,D.MDa):D.MDa;return G.iga(D,F,C,O)?(L=G.bKb(F,C,O),G.log.warn("Method failed, retrying",Object.assign({Method:D.Xo,Attempt:C + 1,WaitTime:L,MaxRetries:O},G.ysa(F))),Promise.resolve({retry:!0,delay:L,error:F})):Promise.resolve({retry:!1,error:F});});};g.prototype.hWb=function(C){var D,E;if(!this.Uoa || this.Uoa.I9b !== C){D="";E=C;Object.entries(B).find(function(G){var F;F=oa(G);G=F.next().value;F=F.next().value;if(0 === C.indexOf(G))return (D=F,C=C.slice(G.length),!0);});this.Uoa={X2a:D,xz:C,I9b:E};}return this.Uoa;};g.prototype.qlc=function(C,D){var E,G,F,L;L=C.url.searchParams;L.set(y.KD.vUa,(D + 1).toString());this.config.Tpb.includes(C.tl)?C.headers[y.Ayb.Ila]=C.tl:L.set(y.KD.Ila,C.tl);C=this.hWb(null !== (E=this.config.xz) && void 0 !== E?E:"");C.X2a && (L.set(y.KD.ZJa,C.X2a),C.xz && L.set(y.KD.vWa,encodeURIComponent(C.xz)),E=this.Vv.Kd,(null === E || void 0 === E?0:E.name) && L.set(y.KD.nJa,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && L.set(y.KD.oJa,encodeURIComponent(E.version)),(null === (G=null === E || void 0 === E?void 0:E.os) || void 0 === G?0:G.name) && L.set(y.KD.gRa,encodeURIComponent(E.os.name)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.version) && L.set(y.KD.hRa,encodeURIComponent(E.os.version)));};g.prototype.retry=function(C,D,E){var G;G=this;E=void 0 === E?0:E;return this.eIb(E++,C,D).then(function(F){if(F.retry)return G.wait(F.delay).then(function(){return G.retry(C,D,E);});if(F.error)throw F.error;if(void 0 === F.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return F.result;});};g.prototype.iga=function(C,D,E,G){var F;F=z.v5.W2b(D);if(F && E < G)return !0;F?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.Xo,Attempt:E + 1,MaxRetries:G},this.ysa(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.Xo},this.ysa(D)));return !1;};g.prototype.bKb=function(C,D,E){if(C && C.AG && void 0 !== C.AG.retryAfterSeconds)return (0,d.Vi)(C.AG.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,E));return (0,d.$b)(this.QCa.jjb(C,D));};g.prototype.wait=function(C){var D;D=this;return new Promise(function(E){D.Jc.zl(C || d.Pa,E);});};g.prototype.ysa=function(C){return (0,t.fcb)(C)?C:{message:C.message,subCode:C.xc,extCode:C.vd,mslCode:C.rC,data:C.data};};g.prototype.KLb=function(C){C.AS();};g.prototype.b3a=function(C,D){var E;C.Rv(D);if(this.lB)try{E=this.json.stringify(this.lB);this.log.error("PBO command history",E);return E;}catch(G){}return "";};A=g;A=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(h.jb)),r.__param(1,(0,m.l)(f.kWa)),r.__param(2,(0,m.l)(k.qH)),r.__param(3,(0,m.l)(n.jd)),r.__param(4,(0,m.l)(p.Lp)),r.__param(5,(0,m.l)(q.J5)),r.__param(6,(0,m.l)(v.ak)),r.__param(7,(0,m.l)(w.gA)),r.__param(8,(0,m.l)(u.tja)),r.__param(9,(0,m.l)(a.ala))],A);b.WRa=A;l.prototype.AS=function(){this.ja=!0;this.elapsedTime=this.Ia.Rb().Ea(this.startTime);};l.prototype.Rv=function(C){this.ja=!1;this.elapsedTime=this.Ia.Rb().Ea(this.startTime);this.pic=C.xc || C.subCode;this.QTb=C.vd || C.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var C;C=Object.assign({success:this.ja,method:this.context.Xo,startTime:this.startTime.ia(d.va),elapsedTime:this.elapsedTime?this.elapsedTime.ia(d.va):"in progress"},this.QS.Sra());return this.ja?C:Object.assign(Object.assign(Object.assign({},C),this.QS.Sra()),{subcode:this.pic,extcode:this.QTb});};c.prototype.append=function(C){this.lB.push(C);0 < this.config.Xwa && this.lB.length > this.config.Xwa && this.lB.shift();};c.prototype.toJSON=function(){return this.lB;};},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.v5=void 0;l=a(4);c.W2b=function(g){var m,d;m=g && g.code;d=g && (g.Ca || g.xc);g=g.vd !== l.Y4.LRa;d=!!d && d >= l.Y.YT && d <= l.Y.WT && g;return !("RETRY" !== m && "FAIL" !== m) || d;};c.nYb=function(g){var m,d;d=null === (m=null === g || void 0 === g?void 0:g.AG) || void 0 === m?void 0:m.maxRetries;return "number" === typeof d?d:"FAIL" === (null === g || void 0 === g?void 0:g.code)?1:void 0;};c.l$b=function(g,m){var d;if(m){try{d=g.parse(m);}catch(f){throw {hG:!0,code:"FAIL",message:"Unable to parse the response body",data:m};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (g=d.result.find(function(f){return f.error;})))throw g.error;return d;}throw {hG:!0,code:"FAIL",message:"There is no result property on the response"};}throw {hG:!0,code:"FAIL",message:"There is no body property on the response"};};b.v5=c;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v){n=g.If.call(this,n,"PboConfigImpl") || this;n.config=p;n.sHb=q;n.bh=v;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.VRa=void 0;r=a(0);l=a(1);g=a(47);m=a(33);d=a(46);f=a(11);h=a(175);a=a(110);la(c,g.If);Va.Object.defineProperties(c.prototype,{xz:{configurable:!0,enumerable:!0,get:function(){return this.config().Sr.xz || "";}},eha:{configurable:!0,enumerable:!0,get:function(){return this.config().Sr.eha || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Sr.nCa;}},dcb:{configurable:!0,enumerable:!0,get:function(){return !1;}},zlb:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.sHb.w1a,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.Alb);}},Alb:{configurable:!0,enumerable:!0,get:function(){return {};}},Ljb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Xwa:{configurable:!0,enumerable:!0,get:function(){return 10;}},e0a:{configurable:!0,enumerable:!0,get:function(){return !1;}},gy:{configurable:!0,enumerable:!0,get:function(){return this.bh.gy;}},ZE:{configurable:!0,enumerable:!0,get:function(){return this.bh.ZE;}},fM:{configurable:!0,enumerable:!0,get:function(){return this.bh.fM;}},aqb:{configurable:!0,enumerable:!0,get:function(){return !1;}},t6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Tpb:{configurable:!0,enumerable:!0,get:function(){return [];}},C6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},pP:{configurable:!0,enumerable:!0,get:function(){return this.bh.pP;}},cJ:{configurable:!0,enumerable:!0,get:function(){return this.bh.cJ;}}});k=c;r.__decorate([d.config(d.string,"uiVersion")],k.prototype,"xz",null);r.__decorate([d.config(d.string,"uiPlatform")],k.prototype,"eha",null);r.__decorate([d.config(d.eD,"pboVersion")],k.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],k.prototype,"organization",null);r.__decorate([d.config(d.ML,"pboLanguages")],k.prototype,"languages",null);r.__decorate([d.config(d.Dd,"hasLimitedPlaybackFunctionality")],k.prototype,"dcb",null);r.__decorate([d.config(d.object(),"pboCommands")],k.prototype,"zlb",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],k.prototype,"Alb",null);r.__decorate([d.config(d.Dd,"pboRecordHistory")],k.prototype,"Ljb",null);r.__decorate([d.config(d.eD,"pboHistorySize")],k.prototype,"Xwa",null);r.__decorate([d.config(d.Dd,"pboAddXEsnHeader")],k.prototype,"e0a",null);r.__decorate([d.config(d.Dd,"combineManifestAndLicense")],k.prototype,"gy",null);r.__decorate([d.config(d.Dd,"enableLicensedManifestForPrefetch")],k.prototype,"ZE",null);r.__decorate([d.config(d.Dd,"useLdlForPrefetchLicensedManifest")],k.prototype,"fM",null);r.__decorate([d.config(d.Dd,"pboUseStudioManifest")],k.prototype,"aqb",null);r.__decorate([d.config(d.Dd,"pboEnableLeanManifest")],k.prototype,"t6a",null);r.__decorate([d.config(d.Dd,"useHeaderForRequestNames")],k.prototype,"Tpb",null);r.__decorate([d.config(d.Dd,"pboEnableV2OptimizedManifest")],k.prototype,"C6a",null);r.__decorate([d.config(d.Dd,"pboEnableManifestPartialHydrationSupport")],k.prototype,"pP",null);r.__decorate([d.config(d.ML,"pboContentPlaygraphTypes")],k.prototype,"cJ",null);k=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.vn)),r.__param(1,(0,l.l)(f.wc)),r.__param(2,(0,l.l)(h.o3)),r.__param(3,(0,l.l)(a.DH))],k);b.VRa=k;},function(r,b,a){var g,m;function c(d,f,h,k,n,p,q){this.version=d;this.url=f;this.id=h;this.languages=k;this.Gb=n;this.XRb=p;this.n7b=q;}function l(d){this.Ri=d;}Object.defineProperty(b,"__esModule",{value:!0});b.BSa=void 0;r=a(0);g=a(1);a=a(84);l.prototype.create=function(d,f,h,k,n){return new c(this.Ri.version,f,d,this.Ri.languages,h,k,n);};m=l;m=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(a.gA))],m);b.BSa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Gb,echo:this.XRb};};},function(r,b,a){var l,g,m;function c(d,f){this.mJ=f;this.log=d.fb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.fSa=void 0;r=a(0);l=a(1);g=a(7);a=a(94);c.prototype.ipa=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.QP=function(d){!1;return this.links[d];};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(a.Qz))],m);b.fSa=m;},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ySa=void 0;r=a(0);a=a(1);c.prototype.egc=function(g){this.listener=g;};c.prototype.MCa=function(g){var m;null === (m=this.listener) || void 0 === m?void 0:m.call(this,g);};l=c;l=r.__decorate([(0,a.$)()],l);b.ySa=l;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa,T,X,Q,ka,ra,R,ha,wa,va,Ea,Ya,wb,nb,zb,Pa,Za;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(1);c=a(508);l=a(562);g=a(1352);m=a(564);d=a(1353);f=a(377);h=a(374);k=a(1354);n=a(1366);p=a(11);q=a(18);v=a(111);t=a(25);w=a(7);u=a(1367);x=a(241);y=a(1368);z=a(5);B=a(1369);A=a(1370);C=a(586);D=a(1371);E=a(112);G=a(565);F=a(1372);L=a(113);O=a(31);K=a(163);I=a(94);M=a(294);H=a(590);J=a(1373);N=a(85);P=a(39);W=a(566);V=a(1374);S=a(567);U=a(26);fa=a(588);qa=a(1375);xa=a(568);Aa=a(1376);Oa=a(27);T=a(311);X=a(310);Q=a(1377);ka=a(1378);ra=a(1379);R=a(1380);ha=a(1381);wa=a(1382);va=a(204);Ea=a(1383);Ya=a(48);wb=a(1384);nb=a(1385);zb=a(1386);Pa=a(1387);Za=a(1388);b.j=new r.Gd(function(Xa){Xa(H.ola).to(J.cTa).la();Xa(S.tIa).df(function(cb){var hb;hb=cb.zb;return function(sb,Hb){return new (a(1389).uIa)(sb,Hb,hb.get(v.Nz),hb.get(E.Q3));};});Xa(c.lWa).df(function(cb){var hb;hb=cb.zb;return function(sb,Hb,Lb,Rb,Tb,Ob,Eb,Sb,Zb){return new (a(1392).mWa)(hb.get(B.rWa),sb,Hb,Lb,Rb,Tb,Ob,Eb,Sb,Zb);};});Xa(B.rWa).to(A.qWa).la();Xa(l.pWa).to(g.oWa).la();Xa(h.YSa).to(k.XSa).la();Xa(ra.$Ua).to(R.ZUa).la();Xa(W.uUa).to(V.tUa);Xa(W.sUa).tob(W.uUa);Xa(f.YKa).df(function(cb){var hb;hb=cb.zb;return function(sb){return new (a(1393).ZKa)(hb.get(E.XKa),hb.get(v.Nz),hb.get(q.jd),sb);};});Xa(m.XIa).df(function(){return function(cb){return new d.YIa(cb);};});Xa(fa.rla).df(function(cb){var hb;hb=cb.zb;return function(sb){return new qa.iTa(sb,hb.get(w.jb),hb.get(t.Vg));};});Xa(X.LHa).df(function(cb){var hb;hb=cb.zb;return function(sb){return new Q.MHa(sb,hb.get(w.jb).fb("AdImpressionLogger"),hb.get(Oa.Jh),hb.get(p.wc),hb.get(q.jd),hb.get(T.Yha),hb.get(T.Xha));};});Xa(ha.$Ha).to(wa.ZHa);Xa(Pa.mT).to(wb.SHa);Xa(Pa.mT).to(zb.XHa);Xa(Pa.mT).to(Za.aIa);Xa(Pa.mT).to(nb.bIa);Xa(xa.QHa).df(function(cb){var hb;hb=cb.zb;return function(sb,Hb){return new Aa.RHa(sb,Hb,hb.get(w.jb).fb("AdManager"),hb.get(p.wc),hb.get(ra.$Ua),hb.getAll(Pa.mT),hb.get(X.LHa),function(Lb){return new ka.PHa(Lb);},hb.get(ha.$Ha));};});Xa(u.PSa).df(function(cb){var hb;hb=cb.zb;return function(sb){return new n.QSa(sb,hb.get(w.jb),hb.get(p.wc),hb.get(t.Vg),hb.get(v.Nz),hb.get(fa.rla));};});Xa(va.OOa).df(function(cb){var hb;hb=cb.zb;return function(sb,Hb){return new Ea.POa(hb.get(p.wc),hb.get(Ya.ak),hb.get(w.jb),sb,Hb);};});Xa(x.qla).df(function(cb){var hb;hb=cb.zb;return function(sb,Hb,Lb,Rb,Tb,Ob,Eb,Sb,Zb,Jc,dd){return new y.eTa(sb,Hb,Lb,Rb,Tb,Ob,Eb,Sb,Zb,hb.get(u.PSa),hb.get(H.ola),hb.get(va.OOa),Jc,dd);};});Xa(C.SUa).df(function(cb){return function(hb){var sb,Hb;sb=cb.zb.get(p.wc);Hb=cb.zb.get(w.jb);return new D.TUa(sb,hb,Hb);};});Xa(G.$Sa).df(function(cb){return function(hb){var sb,Hb,Lb,Rb,Tb;sb=cb.zb.get(I.Qz);Hb=cb.zb.get(L.$M);Lb=cb.zb.get(O.Di);Rb=cb.zb.get(K.KU);Tb=cb.zb.get(U.Pz);return new F.aTa(hb,sb,Hb((0,z.Vi)(1)),Lb,Rb,Tb);};});Xa(M.yka).PG(function(cb){return new (a(1394).AQa)(cb.zb.get(N.rU),cb.zb.get(P.Lp));}).la();});},function(r,b,a){var l,g,m,d,f,h;function c(k,n){this.ah=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.oWa=void 0;r=a(0);l=a(16);g=a(563);m=a(18);d=a(1);f=a(5);a=a(11);c.prototype.qP=function(k){var n;k.y2={};if(!k.tQ() && k.dD && 0 < k.dD.length && (k.cD=this.t9a(k),k.cD)){n=this.Dgc(k);n() || (k.Db.addListener(n),k.Hf.addListener(n));}};c.prototype.Dgc=function(k){var p;function n(){var q,v;if(!k.Hf.value || k.Db.value === l.nb.Dg)return !1;q=k.cD;v=q.getState();return v === g.qr.LOADING?!1:v !== g.qr.rH && q.retry?(q=p.d_b(k))?(k.y2.offset=p.ah.Rb().ia(f.va),k.cD=q,q.download(),!0):!1:(k.Db.removeListener(n),k.Hf.removeListener(n),!1);}p=this;return n;};c.prototype.d_b=function(k){var n,p;n=this.config();p=k.Ym.Zr() < n.ekc;n=(k.Hf.value?k.Hf.value.bitrate:0) > n.dkc;return this.wZb(k,p && n);};c.prototype.wZb=function(k,n){if(n && (n=this.t9a(k),this.w$a(k,n.size)))return (k.y2.vkb="h",n);n=this.kYb(k);if(this.w$a(k,n.size))return (k.y2.vkb="l",n);};c.prototype.w$a=function(k,n){var p,q;p=this.config();q=Math.min(k.GW(),k.L2());return k.LIb.SJb(n) * (1 + .01 * p.XGb[2]) < q * p.hkc;};c.prototype.t9a=function(k){return k.dD[k.dD.length - 1];};c.prototype.kYb=function(k){return k.dD[0];};h=c;h=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(m.jd)),r.__param(1,(0,d.l)(a.wc))],h);b.oWa=h;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.YIa=void 0;a.prototype.Dpb=function(){var c;c=this.j.qb;if(null !== c && void 0 !== c && c.zA){c=c.Ac.get();if(null === c || void 0 === c?0:c.ul)this.j.ul=c.ul.xa;if(null === c || void 0 === c?0:c.Ya)this.j.Ya=c.Ya.xa;}};a.prototype.op=function(){-1 === this.j.Ya && this.Dpb();return this.j.Ya;};a.prototype.SJb=function(c){-1 !== this.j.ul && -1 !== this.j.Ya || this.Dpb();return -1 === this.j.ul || -1 === this.j.Ya?Number.MAX_VALUE:this.j.ul + 8 * c / this.j.Ya;};b.YIa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M;function c(H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa,T,X,Q,ka,ra,R,ha,wa,va,Ea,Ya,wb,nb,zb){this.TB=H;this.xE=J;this.Ia=N;this.za=P;this.MIb=W;this.$Fa=V;this.v_=S;this.Cza=U;this.FQ=fa;this.Fd=qa;this.Si=xa;this.Uj=Aa;this.CO=Oa;this.B0=T;this.zk=X;this.rGa=Q;this.Rg=ka;this.ho=ra;this.Se=R;this.YBa=ha;this.Ldc=wa;this.Npa=va;this.FK=Ea;this.HBa=Ya;this.bpa=wb;this.KJb=nb;this.xO=zb;}Object.defineProperty(b,"__esModule",{value:!0});b.XSa=void 0;r=a(0);l=a(86);g=a(1);m=a(113);d=a(34);f=a(18);h=a(27);k=a(564);n=a(242);p=a(509);q=a(530);v=a(120);t=a(148);w=a(166);u=a(100);x=a(499);y=a(241);z=a(562);B=a(50);A=a(31);C=a(565);D=a(85);E=a(566);G=a(567);F=a(294);L=a(115);O=a(546);K=a(568);I=a(235);c.prototype.create=function(H,J,N,P,W,V,S,U){return new (a(569).ZSa)(H,J,V,S,P,W,this.TB,N,this.Ia,this.xE,this.za,this.v_,this.MIb,this.$Fa,this.Cza,this.FQ,this.Fd,this.Si,this.Uj,this.CO,this.B0,this.zk,this.rGa,this.Rg,this.Se,this.YBa,this.ho,this.Ldc(),this.Npa,this.FK,this.HBa,this.bpa,this.KJb,void 0,U);};M=c;M=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(l.Wz)),r.__param(1,(0,g.l)(d.vj)),r.__param(2,(0,g.l)(f.jd)),r.__param(3,(0,g.l)(h.Jh)),r.__param(4,(0,g.l)(k.XIa)),r.__param(5,(0,g.l)(m.$M)),r.__param(6,(0,g.l)(n.ska)),r.__param(7,(0,g.l)(p.QPa)),r.__param(8,(0,g.l)(q.iU)),r.__param(9,(0,g.l)(v.OH)),r.__param(10,(0,g.l)(t.DU)),r.__param(11,(0,g.l)(w.FH)),r.__param(12,(0,g.l)(x.eJa)),r.__param(13,(0,g.l)(y.qla)),r.__param(14,(0,g.l)(L.wH)),r.__param(15,(0,g.l)(z.pWa)),r.__param(16,(0,g.l)(B.Fo)),r.__param(17,(0,g.l)(D.rU)),r.__param(18,(0,g.l)(A.Di)),r.__param(19,(0,g.l)(C.$Sa)),r.__param(20,(0,g.l)(E.sUa)),r.__param(21,(0,g.l)(G.tIa)),r.__param(22,(0,g.l)(F.yka)),r.__param(23,(0,g.l)(O.tSa)),r.__param(24,(0,g.l)(K.QHa)),r.__param(25,(0,g.l)(I.Nia)),r.__param(26,(0,g.l)(u.oT)),r.__param(26,(0,g.optional)())],M);b.XSa=M;},function(r,b,a){var d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K;function c(){this.Vga=[];this.Qjc=50;}function l(I){var M;M=this;this.j=I;this.Hqb=Promise.resolve();this.JLa=mb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.uI=[];this.Ml=new k.Ik();this.GXa=0;this.E6=[];this.Fg=(0,q.lj)(this.j,"MediaElementASE");this.QZa=f.dA;this.Sma=!1;this.ec=new c();this.jq={};this.kYa={};this.zaa=this.G6(function(){var H;if(M.ea)return null !== (H=M.ea.webkitDecodedFrameCount) && void 0 !== H?H:0;});this.vy=this.G6(function(){var H;if(M.ea){H=M.rna();return H?H.totalVideoFrames:M.ea.webkitDecodedFrameCount;}});this.NJ=this.G6(function(){var H;if(M.ea){H=M.rna();return H?H.droppedVideoFrames:M.ea.webkitDroppedFrameCount;}});this.KY=this.G6(function(){var H;if(M.ea){H=M.rna();return H && H.corruptedVideoFrames;}});this.IYa=function(H){!1;M.Ml.Zc(C.Kk.rdb,{N:H});};this.Sm=q.Ha.get(A.JOa).create(h.config.Pu,this,this.j);h.config.QF && (this.Hqb=new Promise(function(H){M.QZa=H;M.j.addEventListener(G.ka.uh,H);}));this.Fg.trace("Created Media Element");this.addEventListener=this.Ml.addListener;this.removeEventListener=this.Ml.removeListener;}function g(I){var M,H;M=q.Ha.get(D.$Wa).pZb();I=I.width / I.height * M.height;H=(M.width - I) / 2;return h.config.ygc?(0,p.createElement)("VIDEO","position:absolute;width:" + I + "px;height:" + M.height + "px;left:" + H + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function m(I){I.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.cQa=void 0;d=a(307);f=a(17);h=a(19);k=a(70);n=a(58);p=a(44);q=a(9);v=a(4);t=a(22);w=a(95);u=a(358);x=a(23);y=a(308);z=a(14);B=a(15);A=a(575);C=a(309);D=a(550);E=a(5);G=a(16);F=a(56);L=a(43);O=a(49);K=!!(z.DD && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);l.prototype.kF=function(I){try{this.ea && (this.GXa=this.ea.currentTime);}catch(M){this.Fg.error("Exception while getting VIDEO.currentTime",M);I && this.cV(v.aa.Xxb,M);}return (0,z.Op)(this.GXa * f.av);};l.prototype.seek=function(I){var M;(0,t.ya)(!this.Fr);this.HZa();M=this.kF(!0);if(!h.config.mHb && (0,z.g5)(M - I) <= this.lEa)(this.Fg.trace("Seek delta too small",{currentTime:M,seekTime:I,min:this.lEa}),this.ec.trace("smallseek",I));else {this.ec.trace("seek",I);try{this.Fg.trace("Setting video elements currentTime",{From:(0,w.Ci)(M),To:(0,w.Ci)(I)});this.Fr={};this.ea.currentTime=I / f.av;this.Ml.Zc(C.Kk.rq);}catch(H){this.Fg.error("Exception while setting VIDEO.currentTime",H);this.cV(v.aa.Yxb,H);}}};l.prototype.x$a=function(){return !!this.Fr;};l.prototype.addSourceBuffer=function(I){var M;try{M=new d.vka(this.j,I,this.Hg,this.Fg);this.uI.push(M);I == f.kU && M.oua && M.oua.addListener(this.QZa);return M;}catch(H){M=(0,x.pf)(H);this.Fg.error("Unable to add source buffer.",{error:M});this.j.Td(v.aa.Rka,{Ca:I === O.u.T?v.Y.pka:v.Y.qka,Ub:M});}};l.prototype.m8=function(I){var M;M=this;I.forEach(function(H){return M.addSourceBuffer(H);});this.Ml.Zc(C.Kk.Omb);return !0;};l.prototype.removeSourceBuffer=function(I){this.uI=this.uI.filter(function(M){return !(0,p.l3a)(I,M);});this.Hg.removeSourceBuffer(I);};l.prototype.endOfStream=function(){this.ec.trace("endofstream");!1;h.config.Rqa && this.Hg.endOfStream();};l.prototype.Gt=function(I){!1;this.uI=[];I && I.Mwc();return !0;};l.prototype.T9a=function(){if(this.Hg)return (0,E.wib)(this.Hg.duration);};l.prototype.$Qb=function(){var I;if(!this.Sma && this.ea && this.ea.readyState >= F.Eo.TT.HAVE_CURRENT_DATA){I=this.ea.webkitDecodedFrameCount;if(void 0 === I || 0 < I || h.config.Emc)this.Sma=!0;}return this.Sma;};l.prototype.open=function(){var I,M,H;I=this;this.ea=g(this.j.XG.value);this.sourceBuffers=this.uI;this.j.addEventListener(G.ka.xmb,function(J){return I.CDb(J);});if(K){this.j.nK && !h.config.Qpb && this.Sm.gea();try{this.Hg=new z.DD();}catch(J){this.cV(v.aa.Oxb,J);return;}try{this.Fm=URL.createObjectURL(this.Hg);}catch(J){this.cV(v.aa.Pxb,J);return;}try{this.Sm.uGb(this.IYa);this.Hg.addEventListener("sourceopen",function(J){return I.mZa(J);});this.Hg.addEventListener(this.JLa + "sourceopen",function(J){return I.mZa(J);});this.ea.addEventListener("error",this.jq.error=function(J){return I.IV(J);});this.ea.addEventListener("seeking",this.jq.seeking=function(){return I.BDb();});this.ea.addEventListener("seeked",this.jq.seeked=function(){return I.ADb();});this.ea.addEventListener("timeupdate",this.jq.timeupdate=function(){return I.DDb();});this.ea.addEventListener("loadstart",this.jq.loadstart=function(){return I.coa();});this.ea.addEventListener("volumechange",this.jq.volumechange=function(J){return I.EDb(J);});this.ea.addEventListener(this.Sm.cG,this.jq[this.Sm.cG]=function(){I.Fg.trace(I.Sm.cG);I.yDb();});M=this.j.om;H=M.lastChild;H?M.insertBefore(this.ea,H):M.appendChild(this.ea);h.config.y5a && this.ea.addEventListener("contextmenu",m);this.ea.src=this.Fm;n.Ze.addListener(n.Pt,this.kYa[n.Pt]=function(){return I.lZa();});this.lZa();}catch(J){this.cV(v.aa.Qxb,J);}}else this.y6(v.aa.CRa);};l.prototype.close=function(){var M;function I(){M.Fm && (M.HZa(),n.Ze.removeListener(n.Pt,M.kYa[n.Pt]),M.yAb());}M=this;this.ec.trace("close");this.ea.removeEventListener(this.Sm.cG,this.jq[this.Sm.cG]);this.ea.removeEventListener("error",this.jq.error);this.ea.removeEventListener("seeking",this.jq.seeking);this.ea.removeEventListener("seeked",this.jq.seeked);this.ea.removeEventListener("timeupdate",this.jq.timeupdate);this.ea.removeEventListener("loadstart",this.jq.loadstart);this.ea.removeEventListener("volumechange",this.jq.volumechange);this.Sm.rdc(this.IYa);h.config.Pu?this.Sm.LC().then(function(){return I();}):I();this.Sm.gkb && clearTimeout(this.Sm.gkb);};l.prototype.sF=function(){return this.ec.sF();};l.prototype.yDb=function(){h.config.Qpb && this.Sm.gea();};l.prototype.rna=function(){if(this.ea)return this.ea.getVideoPlaybackQuality && this.ea.getVideoPlaybackQuality() || this.ea.videoPlaybackQuality || this.ea.playbackQuality;};l.prototype.PEb=function(){var I;I=this.j.Ki;return (I=I && I.errorCode) && 0 <= [v.aa.t5,v.aa.a5].indexOf(I);};l.prototype.yAb=function(){var I;I=!1;h.config.ibc && this.PEb() && (I=!0);h.config.BLb && !I && (this.ea.removeAttribute("src"),this.ea.load && this.ea.load());URL.revokeObjectURL(this.Fm);h.config.y5a && this.ea.removeEventListener("contextmenu",m);!I && this.ea && this.j.om.removeChild(this.ea);this.ea=this.Hg=void 0;this.Fm="";};l.prototype.lZa=function(){!0 === z.Xh.hidden?this.E6.forEach(function(I){I.refresh();I.Hhc();}):this.E6.forEach(function(I){I.refresh();I.Yhc();});};l.prototype.G6=function(I){var M;M=q.Ha.get(u.jRa)(I);this.E6.push(M);return function(){M.refresh();return M.$Wb();};};l.prototype.cV=function(I,M){var H,J;H={Ca:v.Y.rn,Ub:(0,x.pf)(M)};try{(J=M.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == J.length && (H.Sf=J);}catch(N){}this.j.Td(I,H);};l.prototype.HZa=function(){this.E6.forEach(function(I){I.refresh();});};l.prototype.uBb=function(){return this.ea && this.ea.msGraphicsTrustStatus;};l.prototype.y6=function(I,M){this.j.Td(I,M,void 0);};l.prototype.CDb=function(I){var M,J,N,P,W,V,S;if(this.ea){I=I.xha;M=this.uBb();M && (I.ConstrictionActive=M.constrictionActive,I.Status=M.status);try{I.readyState="" + this.ea.readyState;I.currentTime="" + this.ea.currentTime;I.pbRate="" + this.ea.playbackRate;}catch(U){}M=this.uI.length;for(var H;M--;){H=this.uI[M];J="";H.type == f.f5?J="audio":H.type == f.kU && (J="video");(0,x.Pe)(I,H.saa(),{prefix:J});}this.Hg && (M=this.Hg.duration) && !isNaN(M) && (I.duration=M.toFixed(4));if(h.config.U4b)try{N=this.j.Ye;P=N && N.Nb;if(P){W=P.expiration;isNaN(W) || (I.exp=W);V=P.keyStatuses.entries();if(V.next){S=V.next().value;S && (I.keyStatus=S[1]);}}}catch(U){}}};l.prototype.mZa=function(I){!1;this.SEb || (this.SEb=!0,this.Ml.Zc(C.Kk.Qmb,I));};l.prototype.BDb=function(){this.ec.trace("seeking");this.Fg.trace("Video element event: seeking");this.Fr?this.Fr.l8b=!0:(this.Fg.error("unexpected seeking event"),h.config.gUb && this.y6(v.aa.cyb,{Ub:{Trace:this.sF()}}));};l.prototype.ADb=function(){this.ec.trace("seeked");this.Fg.trace("Video element event: seeked");this.Fr?((0,t.ya)(this.Fr.l8b),this.Fr.k8b=!0,this.o_a()):(this.Fg.error("unexpected seeked event"),h.config.fUb && this.y6(v.aa.byb,{Ub:{Trace:this.sF()}}));};l.prototype.DDb=function(){var I;this.ec.trace("timeupdate",null === (I=this.ea) || void 0 === I?void 0:I.currentTime);!1;this.Fr && (this.Fr.n8b=!0,this.o_a());this.Ml.Zc(C.Kk.rq);};l.prototype.coa=function(){this.Fg.trace("Video element event: loadstart");};l.prototype.EDb=function(I){this.Fg.trace("Video element event:",I.type);try{this.j.volume.set(this.ea.volume);this.j.muted.set(this.ea.muted);}catch(M){this.Fg.error("error updating volume",M);}};l.prototype.IV=function(I){var M,H,J,N,P,W,V,S;M=this.y6;H=v.aa.BRa;J=v.$La;N=this.sF();P=I.target;W=P && P.error;V=I.errorCode;P=W && W.code;(0,B.xd)(P) || (P=V && V.code);V=W && W.message;S=W && W.msExtendedCode;(0,B.xd)(S) || (S=W && W.systemCode);(0,B.xd)(S) || (S=I.systemCode);(0,B.xd)(S) || (S=(0,L.Nva)(V));I=(0,x.Pe)({},{code:P,systemCode:S,trace:JSON.stringify(N)},{jea:!0});J={Ca:J(P),Ub:(0,y.xza)(I)};try{V && (J.E_=V);}catch(U){}S=(0,x.Ck)(S);(0,B.Oa)(S) && (J.Sf=(0,q.hqa)(S,4));M.call(this,H,J);};l.prototype.o_a=function(){this.Fr && this.Fr.k8b && this.Fr.n8b && (this.ec.trace("seekcomplete"),this.Fr=void 0,this.Ml.Zc(C.Kk.u1));};Va.Object.defineProperties(l.prototype,{lEa:{configurable:!0,enumerable:!0,get:function(){return h.config.thc;}}});b.cQa=l;c.prototype.trace=function(I,M){this.Vga.push([I,M]);this.Vga.length > this.Qjc && this.Vga.shift();};c.prototype.sF=function(){return this.Vga;};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t){var w;w=this;this.j=t;this.PFa=this.Nfb=0;this.uh=this.Zm=!1;this.Bfa=0;this.Eba=new Set();this.J1=!0;this.jn=function(){var u,x;w.xfa();w.fJ && (w.log.info("Deactivating",w.fJ),w.$C.GPb(w.eg()));w.j.Dj.set(null);w.UL.Tlb(void 0);w.S2a();u=w.j.Ob.value;u && u.Iq() && !u.up() && (u=null);if(u && w.j.Db.value !== q.nb.Dg){x=w.eg();w.$C.RFb(x,u);}u?(w.log.info("Activating",u),w.j.wo.set(u.getState() === l.LH.MD.rH?q.ig.Ue:q.ig.ae),w.Zm || w.j.af("tt_start"),u.Jba().then(w.pO).catch(w.pO)):w.j.wo.set(q.ig.Ue);w.fJ=u;w.hD();};this.sync=function(){w.Zm && (w.UL.start(),w.j.Db.value !== q.nb.Xc && w.UL.stop());};this.hD=function(){var u;w.J1 && w.j.state.value === q.jc.Ue && w.j.Db.value !== q.nb.Dg && (w.vi?u=w.UL.jWb():w.j.Ob.value && (u=c.Uhc[w.j.Ob.value.getState()]));u && (0,p.xd)(u.startTime) && w.j.Sw.value !== u && (w.Nfb++,w.PFa+=w.UL.U9a() - u.startTime,w.n1a=Math.ceil(w.PFa / (w.Nfb + 0)));w.j.Sw.set(u);};this.eg=function(){var u;u=w.j.Qva();w.fJ && w.fJ.fw && (u+=w.fJ.fw);return u;};this.iBa=function(u){w.Eba.add(u);w.J1 && (w.fireEvent(c.zmb,u),u && u.id && (w.$C.Ipb(u.id),!1));w.log.trace("showsubtitle",w.Waa(u));};this.h0=function(u){w.Eba.delete(u) && w.J1 && (w.fireEvent(c.ekb,u),w.log.trace("removesubtitle",w.Waa(u)));};this.t0b=function(){w.Eba.forEach(function(u){w.fireEvent(c.ekb,u);w.log.trace("hide subtitle",w.Waa(u));});};this.vec=function(){w.Eba.forEach(function(u){w.fireEvent(c.zmb,u);w.log.trace("resume subtitle",w.Waa(u));});};this.li=function(){w.log.warn("imagesubs buffer underflow",w.j.Ob.value.Ch);w.j.wo.set(q.ig.ae);};this.WAa=function(){w.log.info("imagesubs buffering complete",w.j.Ob.value.Ch);w.j.wo.set(q.ig.Ue);};this.aea=function(){w.Zm && w.vi && w.vi.Lu(w.eg());};this.Rgb=function(u){w.Zm && w.vi && (w.vi.pause(),w.vi.FG(u.el));};this.Vy=function(){w.Zm && w.vi && w.vi.ajb();};this.Ogb=function(u){w.vi && w.vi.Bl(u.ei,u.bR);};this.Wgb=function(u){w.vi && w.vi.Gk(u.S,u.rlc);};this.e9b=function(){w.Zm=!0;(0,n.Mg)(function(){var u,x;(null === (u=w.fJ) || void 0 === u?0:u.am)?null === (x=w.vi) || void 0 === x?void 0:x.Lu(w.eg()):w.sync();w.hD();});};this.b9b=function(){w.S2a();w.UL.stop();w.hD();w.uh=!0;w.xfa();};this.mBa=function(u){(u=u.newValue) && (0,p.isArray)(u.blocks) && (w.$C.Ipb.apply(w.$C,ia(u.blocks.map(function(x){return x.id;}))),!1);};this.h9b=function(u){w.llc(u.newValue,u.oldValue);w.sync();w.hD();};this.pO=function(u){var x;if(!w.uh){x=u.track;if(x === w.j.Ob.value)try{w.vi=x.kwa();x.am?w.PFb(u):w.QFb(u);}catch(y){w.log.error("Error activating track:",y,x);return;}w.Zm || w.j.af(u.ja?"tt_comp":"tt_err");u.ja?(d.config.Wkb?setTimeout(function(){w.j.wo.set(q.ig.Ue);},d.config.Wkb):w.j.wo.set(q.ig.Ue),x.am || w.hD()):u.aborted?w.log.warn("aborted timed text track loading"):d.config.eUb?w.j.Td(k.aa.Jvb,{Ub:u.track?u.track.Ch:{}}):(w.log.error("ignore subtitle initialization error",u),w.j.wo.set(q.ig.Ue));}};this.Pb=new m.Ik();this.$C=new h.KVa((0,f.lj)(t,"SubtitleTracker"),d.config.QSb);this.log=(0,f.lj)(t,"TimedTextManager");this.UL=new g.eWa(this.eg,this.hD);this.j.Ob.addListener(this.jn);d.config.Dac?(this.j.addEventListener(q.ka.Zm,this.e9b),this.jn()):(this.j.wo.set(q.ig.Ue),this.j.addEventListener(q.ka.Zm,function(){w.Zm=!0;w.jn();}));this.j.Db.addListener(this.h9b);this.j.addEventListener(q.ka.aGa,this.sync);this.j.Sw.addListener(this.mBa);this.j.addEventListener(q.ka.uh,this.b9b);}Object.defineProperty(b,"__esModule",{value:!0});b.bWa=void 0;l=a(291);g=a(576);m=a(70);d=a(19);f=a(9);h=a(1357);k=a(4);n=a(59);p=a(15);q=a(16);v=a(1358);c.prototype.dhc=function(){this.J1=!0;this.vec();this.hD();};c.prototype.u0b=function(){this.J1=!1;this.t0b();this.hD();};c.prototype.addEventListener=function(t,w,u){this.Pb.addListener(t,w,u);};c.prototype.removeEventListener=function(t,w){this.Pb.removeListener(t,w);};c.prototype.fireEvent=function(t,w,u){this.Pb.Zc(t,w,u);};c.prototype.epa=function(t,w,u){var x,y;x=this;y=v.$Va.rOb(this.j,t,w,u);this.Bbb(this.j.wi,y);this.j.Fj.forEach(function(z){x.Bbb(z.wi,y);});this.j.Ob.set(y);this.j.fireEvent(q.ka.Uw);};c.prototype.Kac=function(t){this.ADa(t)?t.Jba().then(function(){}):Promise.resolve();};c.prototype.TZb=function(t){return this.$C.xZb(t);};c.prototype.lwa=function(t){return this.$C.lwa(t);};c.prototype.cZ=function(){var t,w;t=this.j.r2;w=d.config.oob.characterSize;w={size:d.config.fGa.characterSize || w};t && (w.visibility=t.rwa(),w.VW=t.pwa(),w.du=t.qwa());return w;};c.prototype.vgc=function(t){d.config.fGa.characterSize=t;t=this.j.Ob.value;this.ADa(t) && !t.am && t.Jba().then(this.pO).catch(this.pO);};c.prototype.llc=function(t,w){var u;t === q.nb.Xc || t == q.nb.bj?w !== q.nb.Xc && w !== q.nb.bj && ((w=this.j.Ob.value) && !this.ADa(w) || this.$C.Vfb(this.eg(),w || void 0,"presentingstate:" + t)):t !== q.nb.Dg && t !== q.nb.Os || this.$C.qta(null !== (u=this.eg()) && void 0 !== u?u:void 0,"presentingstate:" + t);};c.prototype.xfa=function(){this.Bfa=0;clearTimeout(this.yec);};c.prototype.S2a=function(){var t;this.vi && this.vi.stop();(null === (t=this.fJ) || void 0 === t?0:t.am) && this.ceb("removeListener");this.vi=void 0;};c.prototype.ceb=function(t){this.vi && (this.vi[t]("showsubtitle",this.iBa),this.vi[t]("removesubtitle",this.h0),this.vi[t]("underflow",this.li),this.vi[t]("bufferingComplete",this.WAa),"addListener" === t?(this.j.addEventListener(q.ka.rq,this.aea),this.j.addEventListener(q.ka.sl,this.Rgb),this.j.addEventListener(q.ka.vL,this.Vy),this.j.addEventListener(q.ka.Lda,this.Ogb),this.j.addEventListener(q.ka.MGa,this.Wgb)):(this.j.removeEventListener(q.ka.rq,this.aea),this.j.removeEventListener(q.ka.sl,this.Rgb),this.j.removeEventListener(q.ka.vL,this.Vy),this.j.removeEventListener(q.ka.Lda,this.Ogb),this.j.removeEventListener(q.ka.MGa,this.Wgb)));};c.prototype.Waa=function(t){return {currentPts:this.eg(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.PFb=function(t){var w,u;w=this;u=t.track;if(!u || !u.am)throw Error("Not an image base subtitle");t.ja?(this.xfa(),this.ceb("addListener"),this.log.info("Activated",u),this.j.Dj.set(u),this.Zm?(0,n.Mg)(function(){w.vi.Lu(w.eg());}):this.vi.pause()):this.Lkb(u,t);};c.prototype.QFb=function(t){var w,u;w=t.track;u=t.ja;if(!w || w.am)throw Error("Not a valid text track");u?(this.xfa(),this.UL.Tlb(this.vi),this.log.info("Activated",w),this.j.Dj.set(w)):this.Lkb(w,(0,k.Uz)(t));this.hD();};c.prototype.Lkb=function(t,w){var u,x;u=this;x=this.Bfa < d.config.Z5b;x && (this.yec=setTimeout(function(){u.Bfa++;t.Jba().then(u.pO).catch(u.pO);},d.config.yjc));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.am)?" img subtitle":""),{retry:x},w,t);};c.prototype.ADa=function(t){return !(!t || t.Iq() && !t.up());};c.prototype.Bbb=function(t,w){var u;u=t.findIndex(function(x){return x.vc >= w.vc;});-1 === u && (u=0);t.splice(u,0,w);};b.bWa=c;r={};c.Uhc=(r[l.LH.MD.LOADING]={k_:!0},r[l.LH.MD.cU]={Rv:!0},r);c.zmb="showsubtitle";c.ekb="removesubtitle";},function(r,b,a){var g;function c(m,d,f){this.start=m;this.track=d;this.LG=Array.isArray(f)?f:[];}function l(m,d){this.log=m;this.iD=d;this.SCa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.KVa=void 0;g=a(22);l.prototype.RFb=function(m,d){this.Vfb(m,d,"activating");};l.prototype.GPb=function(m){this.qta(m,"de-activating");};l.prototype.Vfb=function(m,d,f){var h;this.Ul && this.qta(m,"close current for new");h=[];this.orphans.length && (h.push.apply(h,ia(this.orphans)),this.orphans=[]);this.Ul=new c(m,d,h);this.iD && this.log.trace("new range: " + f,this.Ul);};l.prototype.qta=function(m,d){this.Ul && (this.Ul.end=m,this.SCa.push(this.Ul),this.iD && this.log.trace("end range: " + d,this.Ul || ({})),this.Ul=void 0);};l.prototype.Ipb=function(m){for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}this.Ul?this.Ul.LG.push.apply(this.Ul.LG,ia(d)):this.orphans.push.apply(this.orphans,ia(d));};l.prototype.lwa=function(m){var d,f;d=this.SCa.slice(0);if(this.Ul && "undefined" !== typeof m){f=new c(this.Ul.start,this.Ul.track,this.Ul.LG);f.end=m;d.push(f);}m=d.reduce(function(h,k){var n,p,q,v;if(!k.track)return h;p=k.track.Tb;q=k.track.Dq(k.start,k.end);if(void 0 === q || null === q)return h;v=new Set(k.LG);h[p]?(k=h[p],k.expected+=q,k.missed+=q - v.size):h[p]={dlid:p,bcp47:k.track.Of,profile:k.track.profile,expected:q,missed:q - v.size,startPts:null !== (n=k.track.JZb()) && void 0 !== n?n:0};return h;},{});m=Object.values(m);this.iD && this.log.trace("subtitleqoe:",JSON.stringify(m,null,"\t"));return m;};l.prototype.xZb=function(m){var d,f,h,k;d=this.SCa.slice(0);f=0;h=0;if(this.Ul && "undefined" != typeof m){k=new c(this.Ul.start,this.Ul.track,this.Ul.LG);k.end=m;d.push(k);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,g.ya)(!1,"negative range");n.BG=0;return;}p=new Set(n.LG);q=n.track.Dq(n.start,n.end);n.J$=q;n.BG=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.BG=100;p=n.end - n.start;f+=p;h+=n.BG * p;});k=f?Math.round(h / f):100;this.log.trace("qoe score " + k + ", at pts: " + m);this.iD && (m=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.BG),lang:n.track?n.track.Of:"none","actual  ":n.LG.join(" "),expected:n.J$};}),this.log.trace("score for each range: ",JSON.stringify(m,function(n,p){return p;}," ")));return k;};b.KVa=l;},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v,t,w,u,x){var y,z;q=f.LH.call(this,v,q,q,u,!0,{pg:"",jG:"content"},"1",[{Mh:0,url:t,type:"unknown"}],"xx",w || q,h.pr.QM,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;q.j=v;q.url=t;q.options=x;q.Ou=null === x || void 0 === x?void 0:x.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.$Va=void 0;r=a(65);l=a(19);g=a(58);m=a(9);d=a(44);f=a(291);h=a(130);k=a(107);n=a(207);p=a(16);(0,r.VSa)(r.kla,function(q){var t;function v(w){var u;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == n.AD.nzb){u=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});u.addEventListener("change",function(){var x,y,z;x=u.files[0];if(x){y=x.name;t.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return q.Hp.epa("nourl",y,{content:z.result});});}});u.click();}}t=(0,m.lj)(q,"TimedTextCustomTrack");l.config.qsa && (t.info("Loading url",{Url:l.config.qsa}),q.Hp.epa(l.config.qsa,"custom"));g.Ze.addListener(g.wF,v);q.addEventListener(p.ka.uh,function(){g.Ze.removeListener(g.wF,v);});});la(c,f.LH);c.rOb=function(q,v,t,w){var u;u="custom" + c.V1b++;return new c(u,q,v,t,-1,w);};c.prototype.R5a=function(){var q;q=this;return new Promise(function(v,t){var w,u;if(null === (w=q.options) || void 0 === w?0:w.content)v(q.options.content);else if(q.url){u={responseType:k.Zwa,url:q.url,track:q,Cc:void 0,UE:"tt-" + q.Of,Au:"unknown"};q.j.Aba.download(u,function(x){x.ja?v(x.content):(x.reason="downloadfailed",x.url=u.url,x.track=q,t(x));});}});};b.$Va=c;c.V1b=0;},function(r,b,a){var l,g,m,d,f,h;function c(k){var n,p,q;n=this;this.j=k;this.M8b=function(){var v;m.Ze.removeListener(m.gba,n.Tgb);v=n.ds.mp();v && v.parentNode && v.parentNode.removeChild(v);};this.mBa=function(v){n.ds.Xfc(v.newValue);};this.r9b=function(v){n.ds.cgc(v.newValue?v.newValue.eca:void 0);n.ds.Nkc(n.k9a(v.newValue));};this.Tgb=function(){n.ds.PR();};p=k.Ob.value?k.Ob.value.eca:void 0;q=this.k9a(k.Ob.value);this.ds=new f.aWa(q,p);p=k.XG.value;(0,g.ya)(.1 < p.width / p.height);this.ds.Lfc(p.width / p.height);k.om.appendChild(this.ds.mp());k.Sw.addListener(this.mBa);k.Ob.addListener(this.r9b);k.addEventListener(h.ka.uh,this.M8b,l.NM);m.Ze.addListener(m.gba,this.Tgb);}Object.defineProperty(b,"__esModule",{value:!0});b.cWa=void 0;l=a(17);g=a(22);m=a(58);d=a(19);f=a(581);h=a(16);c.prototype.TEa=function(k){this.ds.TEa(k);};c.prototype.rwa=function(){return this.ds.rwa();};c.prototype.REa=function(k){this.ds.REa(k);};c.prototype.pwa=function(){return this.ds.pwa();};c.prototype.SEa=function(k){this.ds.SEa(k);};c.prototype.qwa=function(){return this.ds.qwa();};c.prototype.k9a=function(k){var n;if(k && d.config.Cca && 0 <= d.config.Cca.indexOf(k.Of)){n=Object.assign({},d.config.Qga);Object.entries(n).forEach(function(p){var q;q=oa(p);p=q.next().value;q=q.next().value;n[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return n;}return d.config.Qga;};b.cWa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wib=void 0;b.Wib=function(a){var c,l;c=!1;l=!1;return function(){if(c)l=!0;else for(l=!0;l;){l=!1;c=!0;a();c=!1;}};};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y){this.j=x;this.Wj=y;this.Oic=!1;this.log=(0,m.lj)(this.j,"MediaAppendManager");this.Wb=this.j.Wb;this.ea=this.Wb.ea;this.U2=this.NW=!1;this.audio={type:g.yj.audio,jy:[],Wm:[],qR:!1};this.video={type:g.yj.video,jy:[],Wm:[],qR:!1};x={};this.$L=(x[u.u.J]=this.video,x[u.u.T]=this.audio,x);this.closed=!1;this.jC=l.config.jC;this.sda=l.config.sda;this.fG=this.j.lb.ji?l.config.qBa:l.config.fG;this.o1a=!0;this.yc=m.Ha.get("Base64EncoderSymbol");this.pua=!1;this.LBa=[];(0,f.ya)(this.jC > this.sda,"bad config");(0,f.ya)(this.jC > this.fG,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.UPa=void 0;l=a(19);g=a(93);m=a(9);d=a(4);f=a(22);h=a(23);k=a(17);n=a(16);p=a(178);q=a(5);v=a(56);t=a(42);w=a(1362);u=a(49);c.prototype.raa=function(){var z,B;function x(A,C){return y(A,C.jda);}function y(A,C){var D,E,G,F;G=!!C.response;F=C.response;if(C.Hc)return A + (F.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.GO) && void 0 !== D?D:0) - (null !== (E=null === C || void 0 === C?void 0:C.IO) && void 0 !== E?E:0);return (G?F.byteLength:C) + A;}z=this.$L[u.u.J];B=this.$L[u.u.T];return {videoToAppend:z.Wm.reduce(y,0),videoInBuffer:z.jy.reduce(x,0),audioToAppend:B.Wm.reduce(y,0),audioInBuffer:B.jy.reduce(x,0)};};c.prototype.b8b=function(){this.audio.Xj && !this.audio.Xj.Li() && (!1,this.audio.Xj.B0a(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.ngc=function(){this.audio.ZEa=!0;this.video.ZEa=!0;};c.prototype.tgc=function(x){x === u.u.T?this.NW=!0:x === u.u.J && (this.U2=!0);};c.prototype.Li=function(){var x,y;return !(null === (x=this.audio.Xj) || void 0 === x || !x.Li()) || !(null === (y=this.video.Xj) || void 0 === y || !y.Li());};c.prototype.bga=function(x){var y,z;null === (y=this.audio.Xj) || void 0 === y?void 0:y.bga(x);null === (z=this.video.Xj) || void 0 === z?void 0:z.bga(x);};c.prototype.vHb=function(x){var y;x.mediaType === u.u.T?this.NW=!1:x.mediaType === u.u.J && (this.U2=!1);y=this.$L[x.mediaType];y?y.Wm.push(x):(0,f.ya)(!1);};c.prototype.uHb=function(x,y,z){var B;B=this;y=this.R1a(x.mediaType,y,z);if(!this.pua)if(x.mediaType === u.u.J)(this.bbc(x),this.pua=!0,this.LBa.forEach(function(A){return B.Gpa(A);}),this.LBa=[]);else {this.LBa.push(y);return;}this.Gpa(y);};c.prototype.Gpa=function(x){var y;y=this.$L[x.mediaType];y?y.Wm.push(x):(0,f.ya)(!1);};c.prototype.R1a=function(x,y,z){return {mediaType:x,IF:!1,response:y,Mi:function(){return "header";},get Hc() {return !this.IF;},profile:z.profile};};c.prototype.bbc=function(x){(0,f.ya)(!!x.Wmb,"startOfSegment properties need to be set before first header is appended");this.pua || !l.config.pVb || !this.j.mba() && !this.j.jba() || x.Wmb.Tbb || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),x=this.yc.decode(k.RIa),this.Gpa(this.R1a(u.u.J,x,{profile:t.I.jH})));};c.prototype.rgc=function(x){var y;y=this.$L[x.type];if(y)try{y.Xj=x;}catch(z){this.Td(d.aa.Rka,{Ca:(0,p.Caa)(x.type),Ub:(0,h.pf)(z)});}};c.prototype.close=function(){this.ea=this.Wb=void 0;this.closed=!0;};c.prototype.Td=function(x,y,z){this.closed || this.j.Td(x,y,z);};c.prototype.Asa=function(x){return this.I5a(this.audio,x,this.R9()) && this.I5a(this.video,x,this.R9());};c.prototype.R9=function(){return this.j.Db.value === n.nb.Dg?this.fG:this.sda;};c.prototype.Djc=function(){var x,y;x=this.video.Wm.filter(function(z){return !z.Hc;}).reduce(function(z,B){return z + B.Un;},0);y=this.audio.Wm.filter(function(z){return !z.Hc;}).reduce(function(z,B){return z + B.Un;},0);return Math.min(x,y);};c.prototype.I5a=function(x,y,z){var B;B=x.Bsa;B=B && B.jda;return !x.Xj || 0 === x.Wm.length && (x.type === g.yj.audio && this.NW || x.type === g.yj.video && this.U2)?!0:B && B.Iw - y >= z || !1;};c.prototype.Rob=function(x){this.Oic || (this.Qob(this.audio,x),this.Qob(this.video,x));this.closed || this.z2a();};c.prototype.z2a=function(){var x,y,z,B,A,C;B=!this.audio.Xj || 0 !== this.audio.jy.length;A=0 === this.video.Wm.length && this.U2;C=!this.video.Xj || 0 !== this.video.jy.length;!(0 === this.audio.Wm.length && this.NW && C || A && B) || (null === (x=this.audio.Xj) || void 0 === x?0:x.Li()) || (null === (y=this.video.Xj) || void 0 === y?0:y.Li()) || this.pta || !(this.ea.readyState > v.Eo.TT.HAVE_NOTHING) || this.Wj.gca || (this.pta=!0,null === (z=this.Wb) || void 0 === z?void 0:z.endOfStream());};c.prototype.Qob=function(x,y){var z,B,A,C;if(!this.closed && x.Xj){B=x.Xj;A=x.jy;!B.Li() && 0 < A.length && (x.Bsa=A[A.length - 1]);if(x.ZEa){if(B.Li())return;x.ZEa=!1;C=null === (z=this.Wb) || void 0 === z?void 0:z.T9a().vib(q.Go);C && 0 < C && B.remove(0,C);}for(z=x.Wm[0];z && z.response && (z.Hc || z.HC - y <= this.jC);){if((this.pta=!1,this.pkc(z)))(x.Wm.shift(),z=x.Wm[0]);else break;}!B.Li() && 0 < A.length && (x.Bsa=A[A.length - 1]);}};c.prototype.pkc=function(x){var y,z,B;!1;(0,f.ya)(x && !!x.response);y=x.response;z=x.mediaType;B=this.$L[z];if(!this.closed && B.Xj && !B.Xj.Li()){try{x.Hc && x.profile && B.Xj.GKb(x.profile);this.log.trace("Feeding media segment to decoder",{Bytes:y.byteLength});B.Xj.B0a(y,x);x.Hc || B.jy.push(this.tOb(x));}catch(A){"QuotaExceededError" === A.name?(this.j.T9=this.j.T9?this.j.T9 + 1:1,this.o1a=!1,B.qR=!0):(this.log.error("Exception while appending media",x,A),this.Td("CodecSwitchingError" === A.name?d.aa.DRa:d.aa.Zxb,(0,p.Caa)(z)));return;}return !0;}};c.prototype.lOb=function(x){var y;if(w.Ula[x.Sa])return w.Ula[x.Sa];y=this.j.hab(x.$c);y || (this.log.warn("Could not find CDN",{cdnId:x.$c}),y={id:x.$c,Hdb:x.location});return y;};c.prototype.p4a=function(x){var y,z;y=x.Sa;if(w.Vla[y])return w.Vla[y];x.mediaType === u.u.T?z=this.j.eab(y):x.mediaType === u.u.J && (z=this.j.tab(y));z || this.log.error("Could not find stream",{stream:y});return z;};c.prototype.tOb=function(x){var y;y=this.p4a(x);return {jda:x,stream:y,Nn:{startTime:Math.floor(x.HC),endTime:Math.floor(x.Iw)},Cc:this.lOb(x)};};c.prototype.cra=function(x){this.E2a(x,u.u.T);this.E2a(x,u.u.J);};c.prototype.E2a=function(x,y){var z,B,A,C,D,E,G,F,L;z=this;B=x;this.o1a && (B-=l.config.o1);A=this.$L[y];C=A.jy;G=!1;C.some(function(O,K){var I;I=O.jda;if(x < I.HC)return ((0,f.ya)(!1,"decoder content does not contain media time"),!0);B >= I.Iw && (D=K);if(x < I.Iw)return (E=K,K=y === u.u.T?z.j.gg:z.j.Qe,O !== K.value && (K.set(O),G=!0),!0);});if((A.qR || G) && void 0 !== D && !this.pta){if(D + 1 === E){if(0 === D)return;D--;}F=C[D].jda.Iw - 1;if(0 < F){L=A.Xj;L && !L.Li()?(L.remove(0,F / k.av),A.qR=!1,C.splice(0,D + 1)):(A.qR=!0,!1);}}};c.prototype.ykb=function(){!1;[this.audio,this.video].forEach(function(x){x.jy=[];x.Bsa=void 0;x.Wm=[];});this.U2=this.NW=!1;this.j.fireEvent(n.ka.eda);};c.prototype.uwa=function(){return [this.audio,this.video].filter(function(x){return x.Xj;});};c.prototype.JWb=function(){var x,y;if(this.Li())(0,f.ya)(!1,"should not be busy while checking buffer ranges");else {x=this.uwa().map(function(z){var B,A,C,D,E;D=z.Wm.filter(function(G){return G.IF;});E=z.Xj.buffered();z=E.length?Math.ceil(1E3 * E.start(0)):void 0;E=E.length?Math.floor(1E3 * E.end(E.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (B=D[0]) || void 0 === B?void 0:B.HC;B=null !== (C=null === (A=D[D.length - 1]) || void 0 === A?void 0:A.Iw) && void 0 !== C?C:E;if(void 0 !== z && void 0 !== B)return {start:z,end:B};});if(x.every(function(z){return z;})){y=Math.max.apply(Math,ia(x.map(function(z){return z.start;})));x=Math.min.apply(Math,ia(x.map(function(z){return z.end;})));if(x > y)return {start:(0,q.$b)(y),end:(0,q.$b)(x)};}}};c.prototype.skip=function(x){(0,f.ya)(!this.Li(),"should not be busy while skipping");this.uwa().forEach(function(y){y.qR=!0;});this.cra(x);this.uwa().forEach(function(y){0 < y.jy.length || (y.Wm=y.Wm.filter(function(z){return z.Hc || z.Iw > x?!0:!1;}));});};b.UPa=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Vla=b.Ula=void 0;r=a(38);a={};b.Ula=(a[r.Qp]={id:-1,name:"hardcoded",vc:1,type:"hardcoded",Hdb:"-1",J2b:!1,location:{id:"-1",vc:1,level:100,weight:1}},a);a={};b.Vla=(a[r.Qp]={track:{type:"padding",trackId:"padding",Wi:"padding",pg:"padding",jG:"other",Of:"padding",vG:"padding",gK:"padding",Ch:{}},type:"padding",Tb:"-1",bitrate:1,hb:100,mf:"unknown",size:1,Vsa:{},Ch:{},Lm:"",framerate:0,Kj:!1,Zj:[],height:1,width:1},a);},function(r,b){function a(c,l){this.j=l;this.WK=!0;this.$ga=!1;this.ea=c;}Object.defineProperty(b,"__esModule",{value:!0});b.JWa=void 0;a.prototype.dBa=function(){this.WK && (this.WK=!1,this.j.paused.set(!1));};a.prototype.cBa=function(){this.WK || (this.WK=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.WK=!0,null === (c=this.ea) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,l;c=this;return this.paused && !this.$ga?(this.$ga=!0,Promise.resolve(null === (l=this.ea) || void 0 === l?void 0:l.play()).then(function(){c.$ga=!1;}).catch(function(g){var m;c.$ga=!1;c.WK=!(null === (m=c.ea) || void 0 === m || !m.paused);throw g;})):Promise.resolve();};a.prototype.close=function(){this.ea=void 0;};Va.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.WK;}}});b.JWa=a;},function(r,b){function a(l,g,m){var d,f,h,k;d=[];l.forEach(function(n){-1 == d.indexOf(n.mf) && d.push(n.mf);});f=null;h=null;g.forEach(function(n){null === f?h=f=n.bitrate:h < n.bitrate?h=n.bitrate:f > n.bitrate && (f=n.bitrate);});k=[];d.forEach(function(n){var p;p={ranges:[],profile:n};f && h && (p.ranges.push({min:f,max:h}),m && (p.disallowed=m.filter(function(q){return q.stream.mf === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.h$};})),k.push(p));});return k;}function c(l,g){var m;m=void 0;return {hF:l.filter(function(d){var f;f=g(d);f && (m=m || [],m.push({stream:d,h$:f}));return !f;}),lRb:m};}Object.defineProperty(b,"__esModule",{value:!0});b.kRb=b.Hv=b.mPb=b.S$a=void 0;b.S$a=function(l,g){g=c(l,g);return a(l,g.hF,g.lRb);};b.mPb=a;b.Hv=c;b.kRb=function(l){if(l.Kj && l.lower && 1080 < l.height)return ["Prefetch UHD"];};},function(r,b,a){var l,g;function c(m,d){m=l.ic.call(this,m) || this;m.Qza=d;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.dTa=void 0;l=a(74);g=a(95);la(c,l.ic);c.prototype.set=function(m){l.ic.prototype.set.call(this,(0,g.GD)(m,0,this.Qza));};b.dTa=c;},function(r,b,a){var g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){var B;B=this;this.mi=t;this.config=u;this.Ib=x;this.debug=y;this.LI={};this.K5a=!1;this.SW={};this.Ixa=0;this.Baa=function(A){var C,D,E;C=A.stream;if(C){A=C.Tb;D=C.bitrate;E=C.hb;}else A=A.track.Tb;return {key:A + "$" + D + "$" + E,Tb:A,bitrate:D,hb:E};};this.Y8a=function(A){var C,D,E;D=B.Baa(A);E=null === (C=A.Cc) || void 0 === C?void 0:C.id;A=A.track.pg;return Object.assign({},D,{key:D.key + "$" + E + "$" + A,Uo:E,pg:A});};this.HWb=function(A){var C;C=A.stream;A=null === C || void 0 === C?void 0:C.Tb;C=null === C || void 0 === C?void 0:C.bitrate;return {key:A + "$" + C,Tb:null !== A && void 0 !== A?A:"",SQ:C};};this.s_b=function(A){var C;C=A.stream;A=null === C || void 0 === C?void 0:C.Tb;C=null === C || void 0 === C?void 0:C.hb;return {key:A + "$" + C,Tb:null !== A && void 0 !== A?A:"",SQ:C};};this.log=w.fb("PlayTimeTracker");this.Fea=z(t);this.Cw=z(t);this.$Ba=z(t);this.startTime=this.mi.mediaTime.value;this.Lca=this.config().KFb;this.jM();this.LI.abrdel=0;this.Lca.forEach(function(A){A="abrdel" + A;B.SW[A]=0;B.LI[A]=0;});}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.QSa=void 0;r=a(0);g=a(1);m=a(7);d=a(11);f=a(80);a(5);h=a(25);k=a(111);n=a(17);p=a(23);q=a(588);v=a(204);l.prototype.encode=function(t){return {downloadableId:t.Tb,correlationId:t.pg,bitrate:t.bitrate,vmaf:t.hb,duration:t.duration,metric:t.SQ,cdnId:t.Uo};};l.prototype.decode=function(t){return {Tb:t.downloadableId,pg:t.correlationId,bitrate:t.bitrate,hb:t.vmaf,duration:t.duration,SQ:t.metric,Uo:t.cdnId};};c.prototype.Zr=function(t){t=void 0 === t?"content":t;this.IG(this.mi.mediaTime.value);return Math.floor(this.Cw.Zr(function(w){return w.track.jG === t;}));};c.prototype.g9a=function(t){this.IG(this.mi.mediaTime.value);return Math.floor(this.Cw.Zr(t));};c.prototype.dZ=function(t){var w;t=void 0 === t?"content":t;this.IG(this.mi.mediaTime.value);w=this.Cw.dZ(function(u){return u.track.jG === t;});this.debug.assert(w === Math.floor(w),"Value of totalContentPlayTime is not an integer.");return Math.floor(w);};c.prototype.yWb=function(){this.IG(this.mi.mediaTime.value);return {audio:this.OY(this.Fea,this.Y8a),video:this.OY(this.Cw,this.Y8a)};};c.prototype.WYb=function(){var t,w,u;t=this.Zr("content");w=this.Zr("ads");u=this.Zr("other");t={total:t,totalAdDuration:w,totalOtherDuration:u,totalCombinedDuration:t + w + u,totalContentTime:this.dZ("content"),totalStartSlateDuration:this.g9a(function(x){return !0 === x.Sxa;}),totalLiveEdgeDuration:this.g9a(function(x){return !0 === x.HF;}),audio:this.OY(this.Fea,this.Baa),video:this.OY(this.Cw,this.Baa),timedtext:this.OY(this.$Ba,this.Baa)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.Uua=function(){var t,w;this.IG(this.mi.mediaTime.value);t=this.Cw.Nua(this.HWb);try{w=this.u8a(t);}catch(u){return (this.log.warn("Failed to calc average bitrate."),null);}this.LI.abrdel=Math.round(w);return this.LI.abrdel;};c.prototype.v8a=function(){var t,w;this.IG(this.mi.mediaTime.value);t=this.Cw.Nua(this.s_b);try{w=this.u8a(t);}catch(u){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(w);};c.prototype.t8a=function(){var t,w;t=this;if(!this.K5a){w=this.Zr();this.Lca.forEach(function(u){var x,y,z;if(0 === t.SW["abrdel" + u] && w > u * n.av){x=0;y=0;z=0;t.Cw.some(function(B){x+=B.stream.bitrate * (B.endTime - B.startTime);y+=B.endTime - B.startTime;z=B.stream.bitrate;return y > u * n.av;});x && (t.SW["abrdel" + u]=Math.round((x - z * (y - u * n.av)) / (u * n.av)));}});0 !== this.SW["abrdel" + this.Lca[this.Lca.length - 1]] && (this.K5a=!0);(0,p.zh)(this.SW,function(u,x){t.LI[u]=0 === x?t.LI.abrdel:x;});}return this.LI;};c.prototype.sGb=function(t){this.Ixa+=t;};c.prototype.tba=function(){return this.Cw.tba();};c.prototype.jM=function(){var t;t=this;this.mi.gg.addListener(function(w){t.WO=t.s2a(t.WO,t.Fea,w.newValue);});this.mi.Qe.addListener(function(w){t.YO=t.s2a(t.YO,t.Cw,w.newValue);});this.mi.playbackRate.addListener(function(w){t.IG(t.mi.mediaTime.value,w.oldValue);});this.mi.Dj.addListener(this.A8b.bind(this));};c.prototype.NAa=function(t,w){this.IG(t);this.startTime=w;this.YO=this.WO=void 0;this.XO && (this.XO.startTime=this.startTime);!1;};c.prototype.A8b=function(t){this.$Ba.Jg(this.XO,this.mi.mediaTime.value);this.XO=(t=t.newValue)?{track:t,startTime:this.mi.mediaTime.value,endTime:f.Yz}:void 0;};c.prototype.IG=function(t,w){w=void 0 === w?this.mi.playbackRate.value:w;t && this.WO && this.YO && (t=Math.min(t,this.WO.endTime,this.YO.endTime),this.Fea.Jg(this.WO,t,w),this.WO.startTime=t,this.Cw.Jg(this.YO,t,w),this.YO.startTime=t,this.XO && (this.$Ba.Jg(this.XO,t,w),this.XO.startTime=t),this.startTime=t,!1);};c.prototype.s2a=function(t,w,u){var x;t && w.Jg(t,Math.min(t.endTime,this.mi.mediaTime.value));if(u && u.stream){t=u.Nn;w=u.stream;x=this.mi.Md;return {Cc:u.Cc,track:w.track,stream:w,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,Sxa:x.ta?x.nF(t.endTime) === v.$u.JU:void 0,HF:x.ta?x.Dbb():void 0};}};c.prototype.OY=function(t,w){return t.Nua(w,"content").map(function(u){return new l().encode(u);});};c.prototype.u8a=function(t){var w,u,x;w=this;u=0;t.forEach(function(y){if(w.Ib.wh(y.duration) && w.Ib.wh(y.SQ))u+=y.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!u)return 0;x=0;t.forEach(function(y){x+=y.SQ * y.duration / u;});return x;};a=c;a=r.__decorate([(0,g.$)(),r.__param(1,(0,g.l)(m.jb)),r.__param(2,(0,g.l)(d.wc)),r.__param(3,(0,g.l)(h.Vg)),r.__param(4,(0,g.l)(k.Nz)),r.__param(5,(0,g.l)(q.rla))],a);b.QSa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PSa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var l,g,m;function c(d,f,h,k,n,p,q,v,t,w,u,x,y,z){this.index=d;this.K=f;this.S=h;this.lb=k;this.sa=n;this.oj=p;this.iza=q;this.tMb=t;this.lfb=u;this.hj=y;this.Gc=new l.ic(null);this.Uh=new l.ic(null);this.Ob=new l.ic(null);this.Dj=new l.ic(null);this.Sw=new l.ic(void 0);this.Hf=new l.ic(null);this.bi=new l.ic(null);this.gg=new l.ic(null);this.Qe=new l.ic(null);this.Cc=[new l.ic(null),new l.ic(null)];this.mediaTime=new l.ic(void 0);this.playbackRate=new l.ic(1);this.Or=new l.ic(null);this.RI=this.QI="notcached";this.g$=this.background=!1;v && (this.Hf.set(v.Hf.value),this.bi.set(v.bi.value));this.Ym=w(this);this.ho=this.lfb.$cc(this.sa,this.oj);this.Md=x(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.eTa=void 0;l=a(74);g=a(5);m=a(22);c.prototype.af=function(d){this.ho.Kr(d);};c.prototype.UB=function(d){var f;f=this;Object.entries(d).forEach(function(h){var k;k=oa(h);h=k.next().value;k=k.next().value;f.ho.Kr(h,(0,g.$b)(k - f.oj.ia(g.va)));});};c.prototype.Sda=function(){this.lfb.udc(this.sa);};Va.Object.defineProperties(c.prototype,{oe:{configurable:!0,enumerable:!0,get:function(){return this.lb.oe;}},sha:{configurable:!0,enumerable:!0,get:function(){return this.lb.sha;}},Lm:{configurable:!0,enumerable:!0,get:function(){return this.Rc && this.Rc.Lm;}},Fj:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.Fj) && void 0 !== d?d:[];}},Cz:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.Cz) && void 0 !== d?d:[];}},dD:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.dD) && void 0 !== d?d:[];}},wi:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.wi) && void 0 !== d?d:[];}},fh:{configurable:!0,enumerable:!0,get:function(){return this.Rc && this.Rc.fh;}},nK:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.nK) && void 0 !== d?d:!1;}},Hw:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.Hw) && void 0 !== d?d:[];}},th:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.th) && void 0 !== d?d:[];}},rB:{configurable:!0,enumerable:!0,get:function(){var d,f,h,k,n;return this.Md.ta?((0,m.ya)(void 0 === this.uN || Infinity === this.uN.ia(g.va),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.Md.ta + ", contentDuration:" + (null === (d=this.uN) || void 0 === d?void 0:d.display)),(0,g.$b)(Math.max(null !== (f=this.Md.LB()) && void 0 !== f?f:0,null !== (h=this.mediaTime.value) && void 0 !== h?h:0))):this.uN && 0 < this.uN.ia(g.va)?this.uN:(0,g.$b)(null !== (n=null === (k=this.ba) || void 0 === k?void 0:k.Ra.duration) && void 0 !== n?n:0);},set:function(d){this.uN=d;}},Meb:{configurable:!0,enumerable:!0,get:function(){var d;return this.Md.ta?((0,m.ya)(void 0 === this.m7 || Infinity === this.m7.ia(g.va),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.Md.ta + ", maxSeekPts:" + (null === (d=this.m7) || void 0 === d?void 0:d.display)),(0,g.$b)(this.Md.oYb())):this.m7;},set:function(d){this.m7=d;}},Gl:{configurable:!0,enumerable:!0,get:function(){return this.lb.Gl || 0;}},zX:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.rX?this.rX:void 0 === this.mediaTime.value?null:this.tMb(this.mediaTime.value,this.S);}},pg:{configurable:!0,enumerable:!0,get:function(){var d,f;return null === (f=null === (d=this.ba) || void 0 === d?void 0:d.Ra.IE) || void 0 === f?void 0:f.Cp;}},AL:{configurable:!0,enumerable:!0,get:function(){var d,f;return null === (f=null === (d=this.ba) || void 0 === d?void 0:d.Ra.IE) || void 0 === f?void 0:f.AL;}},yd:{configurable:!0,enumerable:!0,get:function(){return this.ho.yd;}}});b.eTa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rWa="TrickPlayParserSymbol";},function(r,b,a){var l,g,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.qWa=void 0;r=a(0);g=a(171);a=a(1);c.prototype.parse=function(d){var f,h;if(!d)throw Error("invalid array buffer");f=new Uint8Array(d);h=new g.KT(f);d=this.e$b(h);f=this.f$b(h,f,d);return {header:d,images:f};};c.prototype.e$b=function(d){var f,h,k,n;if(d.Wva() < this.bec())throw Error("array buffer too short");l.tPa.forEach(function(p){if(p != d.JC())throw Error("BIF has invalid magic.");});f=d.IR();if(f > l.VERSION)throw Error("BIF version in unsupported");h=d.IR();if(0 == h)throw Error("BIF has no frames.");k=d.IR();n=d.rl(l.fUa);return {version:f,i8b:h,qob:k,fec:n};};c.prototype.f$b=function(d,f,h){var p,q;for(var k=[],n=0;n <= h.i8b;n++){p={timestamp:d.IR(),offset:d.IR()};void 0 != q && k.push(f.subarray(q.offset,p.offset));q=p;}return k;};c.prototype.bec=function(){return l.tPa.length + 4 + 4 + 4 + l.fUa;};m=l=c;m.tPa=[137,66,73,70,13,10,26,10];m.VERSION=0;m.fUa=44;m=l=r.__decorate([(0,a.$)()],m);b.qWa=m;},function(r,b,a){var l,g,m,d;function c(f,h,k){this.config=f;this.j=h;this.vg=k;this.BC=void 0;this.vea=!1;this.Fya=0;this.log=this.vg.fb();}Object.defineProperty(b,"__esModule",{value:!0});b.TUa=void 0;l=a(16);g=a(5);m=a(95);d=a(15);c.prototype.zYb=function(f,h,k,n,p){var q,v,t,w;k=void 0 === k?this.j.S:k;n=void 0 === n?!1:n;q=h === l.Hd.XM;v=this.dKb(q?f:this.pLb(f,k),h,n,k);n=this.j.qb;q?(f=v,v=n.sB(v)):f=n.tX(k,v);h === l.Hd.Zu && (this.j.D1a=v);p=this.ci(f,h,p);t=(q=q || p)?f:v;if(this.j.ss){w=this.j.lb.ji?this.config().qBa:this.config().fG;this.j.iab(t,w) || h !== l.Hd.LD && h !== l.Hd.bU || (t=this.j.ss.ia(g.va) - w - 1E3,q?(f=t,v=n.sB(t)):(f=n.tX(k,t),v=t));}return {Kda:t,el:v,gac:f,ci:p};};c.prototype.dKb=function(f,h,k,n){this.T2b() || k?f=Math.round(f):(k=this.j.qb.e2a(f,n),f=(0,d.Oa)(k)?k:Math.round(f));this.j.lb.ji && (f=this.vVb(f));this.config().kEa && 0 !== f && h !== l.Hd.Zu && (f+=this.config().kEa);return f;};c.prototype.ci=function(f,h,k){if(this.config().jRb || h === l.Hd.Zu || h === l.Hd.a6 || h === l.Hd.a4 || !k || f < k.start.ia(g.va) || f >= k.end.ia(g.va))return !1;h=this.j.qb;return (null === h || void 0 === h?void 0:h.ej) && h.ci(f) || !1;};c.prototype.T2b=function(){return this.j.lb.ji?!0:"boolean" === typeof this.j.lb.F0?this.j.lb.F0:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().F0 && this.config().Fac:this.config().F0;};c.prototype.pLb=function(f,h){var k;k=this.j.Jj(h);h=k.rB;k=k.Meb;!1;h=k || h;k=this.j.Md.ta && !this.j.Md.Xxa()?0:this.config().Pmc;h=Math.max(0,h.ia(g.va) - k);return (0,m.GD)(f,0,h);};c.prototype.vVb=function(f){var h,k,n;h=this.j.GY();if(Object.values(h).find(function(p){var q;q=p.Aa;q=f < (null !== q && void 0 !== q?q:Infinity);return p.Ba <= f && q;}))return (!1,f);n=f;Object.entries(h).forEach(function(p){var q;p=oa(p);p.next();p=p.next().value.Ba;q=p - f;0 < q && (void 0 === k || q < k) && (k=q,n=p);});!1;return n;};Va.Object.defineProperties(c.prototype,{gca:{configurable:!0,enumerable:!0,get:function(){return this.vea || !!this.BC;}}});b.TUa=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y,z,B,A,C){var D;D=this;this.j=x;this.fl=y;this.F2=z;this.Yi=B;this.O1=A;this.cp=C;this.H4a={};this.update=function(){var E;if(D.Xq.selectionStart == D.Xq.selectionEnd){E="";D.QY().forEach(function(G){E=E?E + "\n":"";Object.entries(G).forEach(function(F){var L;L=oa(F);F=L.next().value;L=L.next().value;E+=F + ": " + L + "\n";});});D.Xq.style.fontSize=(0,m.GD)((0,f.IM)(D.element.clientHeight / 60),8,18) + "px";D.Xq.value=E;}};this.S8b=function(){var E,G;if(D.j.rf){G=D.j.rf.NJ();G && (D.lsa=G - (null !== (E=D.zob) && void 0 !== E?E:0),D.zob=G,D.iR());}};this.iR=function(){D.F2.yl(D.update);};this.onkeydown=function(E){E.ctrlKey && E.altKey && E.shiftKey && (E.keyCode == n.AD.dtb || E.keyCode == n.AD.Q) && D.toggle();};this.aib=[x.mediaTime,x.Cc[q.u.T],x.Cc[q.u.J],x.gg,x.Qe,x.bi,x.Hf,x.Dj,x.state,x.qt,x.Db,x.volume,x.muted];this.element=this.Yi.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.Xq=this.Yi.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.Xq);this.controls=this.Yi.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.Yi.createElement("button",void 0,"X");y.addEventListener("click",function(){return D.Ay();},!1);this.controls.appendChild(y);g.Ze.addListener(g.wF,this.onkeydown);x.addEventListener(k.ka.uh,function(){g.Ze.removeListener(g.wF,D.onkeydown);D.Ay();});}Object.defineProperty(b,"__esModule",{value:!0});b.aTa=void 0;l=a(65);g=a(58);m=a(95);d=a(308);f=a(14);h=a(15);k=a(16);n=a(207);p=a(5);q=a(49);r={};v=(r[k.jc.LM]="Not Loaded",r[k.jc.LOADING]="Loading",r[k.jc.Ue]="Normal",r[k.jc.CLOSING]="Closing",r[k.jc.CLOSED]="Closed",r);r={};t=(r[k.ig.Ue]="Normal",r[k.ig.ae]="Pre-buffering",r[k.ig.HUa]="Network stalled",r);r={};w=(r[k.nb.Dg]="Waiting for decoder",r[k.nb.Xc]="Playing",r[k.nb.bj]="Paused",r[k.nb.Os]="Media ended",r);u=[k.ka.eda];c.prototype.Tfc=function(x){this.H4a.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.FZ=mb.setInterval(this.S8b,1E3),document.body.appendChild(this.element),this.aib.forEach(function(y){y.addListener(x.iR);}),u.forEach(function(y){x.j.addEventListener(y,x.iR);}),this.visible=!0,this.cp.d2().then(function(y){x.Kwa=y;x.iR();}));this.update();};c.prototype.Ay=function(){var x;x=this;this.visible && (clearInterval(this.FZ),this.zob=this.lsa=void 0,document.body.removeChild(this.element),this.aib.forEach(function(y){y.removeListener(x.iR);}),u.forEach(function(y){x.j.removeEventListener(y,x.iR);}),this.F2.yl(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Ay():this.show();};c.prototype.QY=function(){var x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa,T,X,Q,ka,ra,R,ha,wa,va,Ea,Ya,wb,nb,zb,Pa,Za,Xa,cb,hb,sb,Hb,Lb,Rb,Tb;N=[];P=this.fl();N.push({Version:"6.0039.463.911",Esn:P?P.Yl:"UNKNOWN",PBCID:this.j.pg,UserAgent:f.AH});try{W=this.j.mediaTime.value;V={MovieId:this.j.K,PackageId:null === (y=null === (x=this.j.ba) || void 0 === x?void 0:x.Ra) || void 0 === y?void 0:y.Bp,Xid:this.j.sa + " (" + l.Sp.map(function(Ob){return Ob.sa;}).join(", ") + ")",Position:(0,m.Ci)(W),Duration:(0,m.Ci)(this.j.rB.ia(p.va)),PlayerDuration:(0,m.Ci)(this.j.ss.ia(p.va)),Volume:(0,f.Op)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.Rva()};if(this.j.lb.ji || this.j.lb.hca)V["Segment Position"]=(0,m.Ci)(this.j.rF());this.j.Md.ta && (V["Is Live"]="true",V["Live Event Slate"]=this.j.Md.nF(),V["Is At Live Edge"]="" + this.j.Md.HF(),V["Adjusted Live Edge"]=(0,m.Ci)(this.j.Md.LB()),V["Live Adjusted Duration"]=(0,m.Ci)(this.j.Md.H9a()),V["Live Adjusted Playback Position"]=(0,m.Ci)(this.j.Md.aba()),V["Live Event Time Playback Position"]=this.j.Md.wXb());N.push(V);}catch(Ob){}try{N.push({"Player state":v[this.j.state.value],"Buffering state":t[this.j.qt.value],"Rendering state":w[this.j.Db.value]});}catch(Ob){}try{S=this.j.dHa() + this.j.Rpa();U=this.j.gg.value;fa=null === U || void 0 === U?void 0:U.stream;qa=this.j.Qe.value;xa=null === qa || void 0 === qa?void 0:qa.stream;Aa=null !== (z=null === fa || void 0 === fa?void 0:fa.bitrate) && void 0 !== z?z:"?";Oa=xa?xa.bitrate + " (" + xa.width + "x" + xa.height + ")":"?";T=null !== (B=null === fa || void 0 === fa?void 0:fa.Tb) && void 0 !== B?B:"?";X=null !== (A=null === xa || void 0 === xa?void 0:xa.Tb) && void 0 !== A?A:"?";Q=null !== (C=null === xa || void 0 === xa?void 0:xa.hb) && void 0 !== C?C:"?";ka=null !== (E=null === (D=this.j.Hf.value) || void 0 === D?void 0:D.hb) && void 0 !== E?E:"?";ra=null !== (F=null === (G=this.j.bi.value) || void 0 === G?void 0:G.bitrate) && void 0 !== F?F:"?";R=null !== (O=null === (L=this.j.Hf.value) || void 0 === L?void 0:L.bitrate) && void 0 !== O?O:"?";ha=this.j.Cc[q.u.J].value;wa=this.j.Cc[q.u.T].value;N.push({"Playing bitrate (a/v)":Aa + " / " + Oa,"Playing/Buffering vmaf":Q + "/" + ka,"Buffering bitrate (a/v)":ra + " / " + R,"Buffer size in Bytes (a/v)":this.j.Rpa() + " / " + this.j.dHa(),"Buffer size in Bytes":"" + S,"Buffer size in Seconds (a/v)":(0,m.Ci)(this.j.GW()) + " / " + (0,m.Ci)(this.j.L2()),"Downloadables (a/v)":T + " / " + X,"Current CDN (a/v)":(wa?wa.name + ", Id: " + wa.id:"?") + " / " + (ha?ha.name + ", Id: " + ha.id:"?")});}catch(Ob){}try{va=this.j.gg.value;x={};if(va && va.stream){Ea=va.stream;Ya=Ea.track;wb=this.O1.F9(Ya.streams);nb=Ea.mf;zb=(/xheaac/).test(nb)?"xhe-aac":(/heaac/).test(nb)?"he-aac":(/ddplus/).test(nb)?"ddplus":"unknown";(/atmos/).test(nb) && (zb+=", atmos");x["Audio Track"]=Ya.Of + ", Id: " + Ya.trackId + ", Channels: " + Ya.channels + ", Codec: " + wb + " (" + zb + ")";x["Audio Tags"]=null === (K=va.stream) || void 0 === K?void 0:K.Zj.toString();}Pa=this.j.Qe.value;if(Pa && Pa.stream){Za=Pa.stream;Xa=this.O1.L9(this.j.Uh.value?this.j.Uh.value.streams:[]);cb=Za.mf;hb=(/hevc/).test(cb)?"hevc":(/vp9/).test(cb)?"vp9":(/h264hpl/).test(cb)?"avchigh":(/av1/).test(cb)?"av1":"avc";(/hdr/).test(cb) && (hb+=", hdr");(/dv/).test(cb) && (hb+=", dv");(/prk/).test(cb) && (hb+=", prk");x["Video Track"]="Codec: " + Xa + " (" + hb + ")";x["Video Tags"]=null === (I=Pa.stream) || void 0 === I?void 0:I.Zj.toString();}sb=this.j.Dj.value;x["Timed Text Track"]=sb?sb.Of + ", Profile: " + sb.profile + ", Id: " + sb.trackId:"none";N.push(x);}catch(Ob){}try{Hb=this.j.rf;Lb=this.j.Hf.value?this.j.Hf.value.framerate:0;Rb=a(589).Zdb;N.push({Framerate:Lb.toFixed(3),"Current Dropped Frames":(0,h.Oa)(this.lsa)?this.lsa:"","Total Frames":Hb.vy(),"Total Dropped Frames":Hb.NJ(),"Total Corrupted Frames":Hb.KY(),"Main Thread stall/sec":Rb?Rb.NXb().join(" "):"DISABLED",KeySystem:null === (M=this.j.Ye) || void 0 === M?void 0:M.PP(),KeyStatus:null === (J=null === (H=this.j.Ye) || void 0 === H?void 0:H.z9a) || void 0 === J?void 0:J.call(H),VideoDiag:(0,d.xza)(this.j.dba()),"HDR support":this.Kwa?this.Kwa.result + " (" + this.Kwa.reason + ")":"unknown"});}catch(Ob){}try{N.push({Throughput:this.j.Ya + " kbps"});}catch(Ob){}Tb=void 0;try{Object.entries(this.H4a).forEach(function(Ob){var Eb;Eb=oa(Ob);Ob=Eb.next().value;Eb=Eb.next().value;Tb=Tb || ({});Tb[Ob]=JSON.stringify(Eb);});Tb && N.push(Tb);}catch(Ob){}return N;};b.aTa=c;},function(r,b,a){var g,m,d,f;function c(h,k,n,p){this.sa=h;this.Ydc=k;this.qa=n;this.ah=p;this.yd={};}function l(h,k){this.vg=h;this.ah=k;this.gd={};this.qa=h.fb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.lyb=b.cTa=void 0;r=a(0);g=a(1);m=a(7);d=a(18);f=a(5);l.prototype.$cc=function(h,k){this.gd[h] && this.qa.warn("registerPlayback: xid " + h + " already registered, overriding");k=(k?k:this.ah.Rb()).ia(f.va);this.qa.trace("registerPlayback: xid " + h + " at " + k);this.gd[h]=new c(h,k,this.qa,this.ah);return this.gd[h];};l.prototype.XYb=function(h){this.gd[h] || this.qa.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.gd[h];};l.prototype.udc=function(h){this.qa.trace("removePlayback: xid " + h);delete this.gd[h];};a=l;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.jb)),r.__param(1,(0,g.l)(d.jd))],a);b.cTa=a;c.prototype.Kr=function(h,k){k=k?k.ia(f.va):this.ah.Rb().ia(f.va) - this.Ydc;this.qa.trace("addMilestone: xid " + this.sa + " " + h + " at " + k);this.yd[h]=k;};b.lyb=c;},function(r,b,a){var l,g,m,d;function c(f){this.Ia=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.tUa=void 0;r=a(0);l=a(16);g=a(1);m=a(18);d=a(5);c.prototype.sl=function(f){f.cause !== l.Hd.Zu && (this.trace.unshift({time:this.Ia.Rb(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.H$a=function(){var f,h;f=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.lob(h.time),lastRepositionCause:this.I8a(h.event.cause),repositionTrace:this.trace.map(function(k){return {timeSince:f.lob(k.time),cause:f.I8a(k.event.cause),newMediaTime:k.event.Kda,oldMediaTime:k.event.UAa,contentPts:k.event.el,skip:k.event.skip};})};};c.prototype.lob=function(f){return this.Ia.Rb().Ea(f).ia(d.va);};c.prototype.I8a=function(f){switch(f){case l.Hd.Zu:return "initial";case l.Hd.LD:return "seek";case l.Hd.bU:return "live_edge";case l.Hd.XM:return "segment_changed";case l.Hd.a6:return "track_changed";case l.Hd.a4:return "force_rebuffer";}};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.jd))],a);b.tUa=a;},function(r,b,a){var l,g,m;function c(d,f,h){this.mi=d;this.Ib=h;this.U=[];this.log=f.fb("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.iTa=void 0;l=a(0);r=a(1);g=a(25);m=a(7);a(5);c.prototype.some=function(d){return this.U.some(d);};c.prototype.tba=function(){return !!(this.U[0] && this.U[0].stream && this.Ib.wh(this.U[0].stream.hb));};c.prototype.Zr=function(d){return this.U.filter(d).reduce(function(f,h){return f + (h.endTime - h.startTime) / h.rate;},0);};c.prototype.dZ=function(d){return this.U.filter(d).reduce(function(f,h){return f + h.endTime - h.startTime;},0);};c.prototype.Nua=function(d,f){var h,k;h=this;k={};return this.U.filter(function(n){return !f || n.track.jG === f;}).reduce(function(n,p){var q,v,t;q=d.bind(h,p)();v=q.key;q=l.__rest(q,["key"]);p=p.endTime - p.startTime;t=k[v];t?t.duration+=p:(t=q,t.duration=p,n.push(t),k[v]=t);return n;},[]);};c.prototype.Jg=function(d,f,h){var k;h=void 0 === h?this.mi.playbackRate.value:h;k=this.U;d && f && f >= d.startTime && (d={Cc:d.Cc,track:d.track,stream:d.stream,startTime:d.startTime,HF:d.HF,Sxa:d.Sxa,endTime:f,rate:h},(f=k[k.length - 1]) && f.track === d.track && f.stream === d.stream && f.Cc === d.Cc && f.endTime === d.startTime && f.rate === d.rate?f.endTime=d.endTime:k.push(d),!1);};a=c;a=l.__decorate([l.__param(1,(0,r.l)(m.jb)),l.__param(2,(0,r.l)(g.Vg))],a);b.iTa=a;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q,v,t,w,u,x){var y;y=this;this.qb=k;this.j=n;this.log=p;this.config=q;this.kfc=v;this.Ynb=t;this.Hn=new l.ic(!1);this.Pb=new f.Ik();this.t1a=!1;this.a0=function(){y.t1a=!0;h.Ze.removeListener(h.Pm,y.a0);};this.bTb=u(this);k=k.zq();this.Vx=w({sa:n.sa.toString()});w=null === k || void 0 === k?void 0:k.fib.events;null === w || void 0 === w?void 0:w.addListener("adPresenting",function(){!1;y.d7a();});null === w || void 0 === w?void 0:w.addListener("adBreakPresenting",function(){!1;x.XQ(n);y.Hn.set(!0);});null === w || void 0 === w?void 0:w.addListener("adBreakEnded",function(){!1;y.Hn.set(!1);});null === w || void 0 === w?void 0:w.addListener("adPlaygraphUpdated",function(){!1;});null === w || void 0 === w?void 0:w.addListener("segmentDropped",function(z){var B;!1;B=y.j.Jj(z.segmentId);y.kfc.Jbc(z,B);});this.qs=new m.GU();this.j.addEventListener("playbackStart",function(){y.qs.resolve();});w=null === k || void 0 === k?void 0:k.hxa.events;null === w || void 0 === w?void 0:w.addListener("adEvent",function(z){y.qs.promise.then(function(){var B,A,C;z.event === g.Zha.cGb && z.jw && y.Ynb.forEach(function(D){return D.start(y.j);});A=null === (B=n.ba) || void 0 === B?void 0:B.Ra.fh;B=y.YZb(z);if(z.event === g.Zha.dGb && B){C=y.t1a?g.$ha.epb:n.Ki?g.$ha.error:g.$ha.HTb;B=Object.assign(Object.assign({},B),{reason:C});}y.Vx.wfc(z,A,B);});});h.Ze.addListener(h.Pm,this.a0);null === w || void 0 === w?void 0:w.addListener("adBreakEvent",function(z){z.event === g.EHa.sE && y.Pb.Zc(d.n3.sE);y.qs.promise.then(function(){y.Vx.vfc(z,n);});});}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;l=a(74);g=a(310);m=a(350);d=a(16);f=a(70);h=a(58);c.prototype.addEventListener=function(k,n,p){this.Pb.addListener(k,n,p);};c.prototype.removeEventListener=function(k,n){this.Pb.removeListener(k,n);};c.prototype.UP=function(){var k,n;return null === (n=null === (k=this.qb) || void 0 === k?void 0:k.zq()) || void 0 === n?void 0:n.yR.FC;};c.prototype.hYb=function(){var k,n,p,q;p=this.UP();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.Z,adDuration:null === (k=null === p || void 0 === p?void 0:p.tE) || void 0 === k?void 0:k.ag.endTime.Z,adIndex:null === (n=p.tE) || void 0 === n?void 0:n.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.Xe.duration.Z};(k=p.shb) && (q.padding={type:k.xBa,duration:k.pea.Z});return q;}};c.prototype.Mua=function(){var k,n,p,q,v;q=this.j.ha.K.toString();v=null === (n=null === (k=this.qb) || void 0 === k?void 0:k.zq()) || void 0 === n?void 0:n.fib.Mua({yqb:[q]});return null !== (p=null === v || void 0 === v?void 0:v.result[q]) && void 0 !== p?p:[];};c.prototype.d7a=function(){};c.prototype.YZb=function(k){var n;if(k.jw){n=this.Ynb.reduce(function(p,q){return Object.assign(Object.assign({},p),q.$aa(k));},{});return Object.assign(Object.assign({},n),{thirdPartyVerificationToken:k.DS});}};b.RHa=c;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t,w,u){this.context=n;this.log=p;this.za=q;this.config=v;this.Ia=t;this.aGb=w;this.UFb=u;this.DEa={};}Object.defineProperty(b,"__esModule",{value:!0});b.MHa=void 0;r=a(0);l=a(1);g=a(18);m=a(27);d=a(5);f=a(11);h=a(311);k=a(310);c.prototype.vfc=function(n,p){var q,v,t;q=this;v=n.event;if(Object.values(k.EHa).includes(v)){t=p.ZB?p.ZB.ia(d.va):-1;n={href:p.ba.Mj.QP("events").href,sa:this.context.sa.toString(),event:v,Ux:n.Ux,AI:n.AI,position:n.Ni.offset.Z,qo:t,Yy:{},kB:this.za.yL.ia(d.va),appId:this.config().appId || this.Ia.id,sessionId:this.config().sessionId || this.Ia.id};this.UFb.Tf(this.log,n).catch(function(w){q.log.error("Failed to send event",{eventKey:v,xid:p.sa,error:w});});}else this.log.debug("Ignoring unsupported event " + n.event);};c.prototype.wfc=function(n,p,q){var v,t,w;v=this;t=n.event;if(Object.values(k.Zha).includes(t)){w=n.ba.links.events.href;this.DEa[n.qo] || (this.DEa[n.qo]=this.za.$Gb((0,d.$b)(n.qo)).ia(d.va));n={href:w,sa:this.context.sa.toString(),event:t,Ux:n.Ux,AI:n.AI,position:n.Ni.offset.Z,qo:this.DEa[n.qo],Yy:n.Yy,kB:this.za.yL.ia(d.va),appId:this.config().appId || this.Ia.id,sessionId:this.config().sessionId || this.Ia.id,i5b:p,ijc:null !== q && void 0 !== q?q:void 0};this.aGb.Tf(this.log,n).catch(function(u){v.log.error("Failed to send event",{eventKey:t,xid:v.context.sa,error:u});});}else this.log.debug("Ignoring unsupported event " + n.event);};a=c;a=r.__decorate([r.__param(2,(0,l.l)(m.Jh)),r.__param(3,(0,l.l)(f.wc)),r.__param(4,(0,l.l)(g.jd)),r.__param(5,(0,l.l)(h.Yha)),r.__param(6,(0,l.l)(h.Xha))],a);b.MHa=a;},function(r,b){function a(p){this.ag=p;}function c(p){this.padding=p;}function l(p){this.sW=p;}function g(p){this.Ni=p;}function m(p){this.Qea=p;}function d(p){this.sCa=p;}function f(p){this.rCa=p;}function h(p){this.qO=p;}function k(p){this.FC=p;}function n(p){this.wf=p;}Object.defineProperty(b,"__esModule",{value:!0});b.Grb=b.gyb=b.Frb=b.Yub=b.pyb=b.qyb=b.oyb=b.Erb=b.nyb=b.PHa=void 0;n.prototype.getPresentingAdBreak=function(){var p;p=this.wf.UP();if(p)return new k(p);};n.prototype.getAds=function(){return this.wf.Mua();};n.prototype.getLogInfo=function(){return this.wf.hYb();};b.PHa=n;Va.Object.defineProperties(k.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new h(this.FC.Xe);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.FC.tE;if(p)return new f(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.FC.shb;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new m(this.FC.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new g(this.FC.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.FC.index;}}});b.nyb=k;Va.Object.defineProperties(h.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new l(this.qO.sW);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.qO.vga);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.qO.dY);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.qO.e0b;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.qO.duration.Z};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.qO.pea.Z};}}});b.Erb=h;Va.Object.defineProperties(f.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.rCa.ag);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.rCa.G_a;}},index:{configurable:!0,enumerable:!0,get:function(){return this.rCa.index;}}});b.oyb=f;Va.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.sCa.xBa;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.sCa.Y9b;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.sCa.pea.Z};}}});b.qyb=d;Va.Object.defineProperties(m.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.Qea.XFb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Qea.VFb.Z};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Qea.ZFb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Qea.YFb.Z};}}});b.pyb=m;Va.Object.defineProperties(g.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.Ni.S;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Ni.offset.Z};}}});b.Yub=g;Va.Object.defineProperties(l.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.sW.dg.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.sW.duration.Z};}}});b.Frb=l;Va.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.Z};}}});b.gyb=c;Va.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.ag.Rt;}},id:{configurable:!0,enumerable:!0,get:function(){return this.ag.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.ag.startTime.Z};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.ag.endTime.Z};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.ag.jw;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.ag.DS;}}});b.Grb=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ua="SegmentDroppedLoggerSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZUa=void 0;r=a(0);a=a(1);c.prototype.Jbc=function(g,m){m.EQ.rb.nEa({xid:m.sa,auxPlaybackcontextid:m.fh,auxMid:g.auxMid,auxMidType:g.auxMidType,reason:g.reason,adBreakLocationMs:g.adBreakLocationMs},"error" === g.sev);};l=c;l=r.__decorate([(0,a.$)()],l);b.ZUa=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ha="AdFocusMonitorSymbol";},function(r,b,a){var l,g;function c(m){var d;d=this;this.UI=function(){var f,h,k;h=!document.hidden;k=null === (f=d.j.zq()) || void 0 === f?void 0:f.Hn.value;f=d.j.paused.value;h || !k || f || (d.qa.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{V_:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.UI);d.j.zq().Hn.removeListener(d.UI);d.j.paused.removeListener(d.UI);};this.qa=m.fb("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;r=a(0);l=a(1);a=a(7);c.prototype.XQ=function(m){this.g7b || (this.qa.debug("Starting to monitor playback for visibility"),this.j=m,this.g7b=!0,document.addEventListener("visibilitychange",this.UI),this.j.zq().Hn.addListener(this.UI),this.j.paused.addListener(this.UI),this.j.addEventListener("closing",this.unsubscribe),this.UI());};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.jb))],g);b.ZHa=g;},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p,q){var v,t,w,u;v=this;this.config=h;this.Jc=k;this.G=p;this.j=q;this.b7=this.uV=!1;this.xr=this.Rk=this.FP=void 0;this.Boa=!1;this.log=n.fb("LivePlaybackManager");this.FP=this.config().qVb;t=this.config().Rhc;w=this.config().y4b;this.Boa=(0,m.Oa)(t) && (0,m.Oa)(w);null === q || void 0 === q?void 0:q.addEventListener(d.ka.Zm,function(){var x;if(v.ta && ((0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on playbackReady"),v.Boa)){x=v.LB();u=v.Jc.$R((0,l.$b)(500),function(){var y,z,B,A;y=v.LB();B=x + t;y >= B - 500 && (z=v.Wra(B));B=x + t + w;if(y >= B - 500){A=v.Wra(B);null === u || void 0 === u?void 0:u.cancel();}v.JEa(z,A,!0);});}});null === q || void 0 === q?void 0:q.addEventListener(d.ka.uh,function(){var x;v.ta && ((0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on closing"),null === (x=v.g_) || void 0 === x?void 0:x.cancel(),v.g_=void 0,null === u || void 0 === u?void 0:u.cancel());});null === q || void 0 === q?void 0:q.addEventListener(d.ka.xG,function(x){v.ta && ((0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on repositioning"),x.cause !== d.Hd.Zu && (v.uV=x.cause === d.Hd.bU && !v.jcb()));});null === q || void 0 === q?void 0:q.addEventListener(d.ka.dqb,function(){v.ta && ((0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on userInitiatedPause"),v.uV=!1);});null === q || void 0 === q?void 0:q.pj.addListener(function(){v.ta && ((0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on playing update"),v.j.pj.value && v.O7a());});this.G.mediaTime.addListener(function(x){var y;if(v.ta){(0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on mediaTime update");v.Lqa();y=v.nF(x.oldValue);x=v.nF(x.newValue);y !== x && (!1,v.j.fireEvent(d.ka.vK));void 0 !== v.Rk && v.O7a();}});}Object.defineProperty(b,"__esModule",{value:!0});b.POa=void 0;l=a(5);g=a(22);m=a(15);d=a(16);f=a(204);c.prototype.Bbc=function(){var h;(0,g.ya)(this.ta,"Unexpected call to processManifest(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");(0,g.ya)(null === (h=this.G.ba) || void 0 === h?void 0:h.Ra.ol,"Live manifest is unavailable.");h=this.G.ba.Ra.ol;this.JEa(h.Kta,h.F$);h=this.config().sVb;void 0 !== h && void 0 !== this.Rk && (this.FP=this.Rk + h);};c.prototype.JEa=function(h,k,n){var p,q,v,t,w,u,x;p=this;(0,g.ya)(this.ta,"Unexpected call to setLiveEventTimes(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");if(!this.Boa || n){w=this.j;n=this.Rk;u=this.xr;x=null !== (q=this.N3a(h)) && void 0 !== q?q:n;q=null !== (v=this.N3a(k)) && void 0 !== v?v:u;if(void 0 === x && void 0 === q || void 0 !== x && 0 <= x && void 0 === q || void 0 !== x && 0 <= x && void 0 !== q && q > x){this.Rk=x;this.xr=q;if(n !== this.Rk || u !== this.xr)(!1,w.fireEvent(d.ka.vK));this.Xxa()?(null === (t=this.g_) || void 0 === t?void 0:t.cancel(),this.g_=void 0):this.g_ || (this.g_=this.Jc.$R((0,l.$b)(1E3),function(){p.Lqa();w.fireEvent(d.ka.vK);}));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (h + ", startPts:") + (x + ", endTime:") + (k + ", endPts:") + q);}};c.prototype.wXb=function(){var h;(0,g.ya)(this.ta,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");h=this.G.mediaTime.value;if(void 0 !== h)return this.Wra(h);};c.prototype.aba=function(){var h;(0,g.ya)(this.ta,"Unexpected call to getUIAdjustedTime(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");h=this.G.mediaTime.value;if(void 0 !== h)switch(this.nF(h)){case f.$u.JU:return 0;case f.$u.Xja:return ((0,g.ya)(void 0 !== this.Rk,"eventStartPts should be defined in LIVE_EVENT slate."),h - this.Rk);case f.$u.lja:return ((0,g.ya)(void 0 !== this.Rk && void 0 !== this.xr,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.xr - this.Rk);}};c.prototype.Nkb=function(h){var k,n;(0,g.ya)(this.ta,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return void 0 === this.Rk?null !== (n=null !== (k=this.LB()) && void 0 !== k?k:this.G.mediaTime.value) && void 0 !== n?n:h:this.Rk + h;};c.prototype.Bcb=function(h){var k;(0,g.ya)(this.ta,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");k=this.LB();return void 0 !== k && h >= k - this.config().v4b;};c.prototype.Bva=function(h,k){var n,p;(0,g.ya)(this.ta,"Unexpected call to getLiveBookmark(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");if(void 0 !== this.FP)return {Kn:this.FP,kG:Number.MAX_SAFE_INTEGER,$4a:this.FP};k || void 0 === this.Rk || void 0 === this.xr && 0 === h?(this.uV=!0,h=36E7):(h=this.Rk + h,void 0 !== this.xr && h > this.xr && (h=this.Rk));return {Kn:h,kG:null !== (n=this.xr) && void 0 !== n?n:Number.MAX_SAFE_INTEGER,$4a:null !== (p=this.Rk) && void 0 !== p?p:36E7};};c.prototype.H9a=function(){var h,k;(0,g.ya)(this.ta,"Unexpected call to getLiveContentDuration(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");k=null !== (h=this.xr) && void 0 !== h?h:this.HF()?this.G.mediaTime.value:this.LB();return void 0 !== k && void 0 !== this.Rk?k - this.Rk:0;};c.prototype.oYb=function(){var h,k,n;(0,g.ya)(this.ta,"Unexpected call to getMaxSeekPts(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");n=null !== (k=null !== (h=this.xr) && void 0 !== h?h:this.LB()) && void 0 !== k?k:0;!1;return n;};c.prototype.LB=function(){var h,k;(0,g.ya)(this.ta,"Unexpected call to getLiveEdge(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return null === (k=null === (h=this.j.qb) || void 0 === h?void 0:h.oF(this.G.S)) || void 0 === k?void 0:k.Z;};c.prototype.mEa=function(){var h;(0,g.ya)(this.ta,"Unexpected call to seekToLiveEdge(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");this.uV=!this.jcb();if(this.j.rf){h=this.LB();void 0 !== h?this.j.rf.seek(h,d.Hd.bU,this.G.S):!1;}else this.G.Kn=this.Bva(0,!0).Kn;};c.prototype.HF=function(){(0,g.ya)(this.ta,"Unexpected call to isAtLiveEdge(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return this.b7;};c.prototype.Dbb=function(){(0,g.ya)(this.ta,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return this.uV;};c.prototype.nF=function(h){var k,n,p;(0,g.ya)(this.ta,"Unexpected call to getLiveEventState(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");h=null !== (k=null !== h && void 0 !== h?h:this.G.mediaTime.value) && void 0 !== k?k:0;k=null !== (n=this.Rk) && void 0 !== n?n:Infinity;n=null !== (p=this.xr) && void 0 !== p?p:Infinity;return h < k?f.$u.JU:h > n?f.$u.lja:f.$u.Xja;};c.prototype.Xxa=function(){(0,g.ya)(this.ta,"Unexpected call to isLiveEventEnded(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return void 0 !== this.xr;};c.prototype.jcb=function(){var h;(0,g.ya)(this.ta,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return this.j.paused.value && !(null === (h=this.j.paused.jj) || void 0 === h?0:h.V_);};c.prototype.O7a=function(){this.Lqa();this.HF() || this.nF() !== f.$u.JU || void 0 !== this.FP || this.mEa();};c.prototype.Lqa=function(){var h,k;(0,g.ya)(this.ta,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");k=this.b7;this.b7=this.Bcb(null !== (h=this.G.mediaTime.value) && void 0 !== h?h:0);k !== this.b7 && (!1,this.j.fireEvent(d.ka.vK));};c.prototype.Wra=function(h){var k,n;(0,g.ya)(this.ta,"Unexpected call to convertPtsToEventTime(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");(0,g.ya)(null === (k=this.G.ba) || void 0 === k?void 0:k.Ra.ol,"Live manifest is unavailable.");k=this.G.ba.Ra.ol;n=new Date(k.Tfa[k.n$[this.G.ba.Ra.Yw[0].streams[0].ep]].W8).getTime();return new Date(n - k.E$ + h).toISOString();};c.prototype.N3a=function(h){var k,n,p;(0,g.ya)(this.ta,"Unexpected call to convertEventTimeToPts(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");(0,g.ya)(null === (k=this.G.ba) || void 0 === k?void 0:k.Ra.ol,"Live manifest is unavailable.");if(h){k=this.G.ba.Ra.ol;n=k.Tfa[k.n$[this.G.ba.Ra.Yw[0].streams[0].ep]];p=new Date(h).getTime() + k.E$ - new Date(n.W8).getTime();if(isNaN(p) || 0 > p)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (h + ", eventAvailabilityOffsetMs:") + (k.E$ + ", availabilityStartTime:") + n.W8);else return p;}};Va.Object.defineProperties(c.prototype,{ta:{configurable:!0,enumerable:!0,get:function(){var h,k;h=this.G;k=h.ba;h=h.oe;return k?(h=k.Ra,k=h.ih,h=h.ol,(0,g.ya)("LIVE" === k && !!h || "VOD" === k && !h,"streamingType and liveMetadata mismatch - streamingType:" + k + ", liveMetadata:" + h),"LIVE" === k && !!h):"live" === h;}}});b.POa=c;},function(r,b,a){var l,g,m,d,f;function c(h,k){var n;n=f.wm.call(this) || this;n.Ia=h;n.paused=!1;n.yt=function(){var p,q,v;v=n.wf.UP();n.wf.Hn.value && null !== (p=null === v || void 0 === v?void 0:v.tE) && void 0 !== p && p.ag.jw?(p=null === (q=v.tE) || void 0 === q?void 0:q.ag.id,q=n.paused,n.paused=n.j.paused.value,q !== n.paused && (n.paused?(n.tea=n.Ia.Rb(),n.tW=v.position.offset.Z,n.qa.debug("Ad " + p + " paused at " + n.tW + " ms into the ad")):void 0 !== n.tea && void 0 !== n.tW && (v=n.Ia.Rb().Ea(n.tea).ia(d.va),n.qa.debug("Ad " + p + " resumed. Pause duration: " + v),n.trace.push([n.tW,v]),n.tW=void 0,n.tea=void 0))):n.unsubscribe();};n.qa=k.fb("AdPauseStateTracker");return n;}Object.defineProperty(b,"__esModule",{value:!0});b.SHa=void 0;r=a(0);l=a(1);g=a(18);m=a(7);d=a(5);f=a(211);la(c,f.wm);c.prototype.start=function(h){f.wm.prototype.start.call(this,h);this.Dy || (this.j.paused.addListener(this.yt),this.Dy=!0);};c.prototype.$aa=function(){return {pauseTrace:this.trace};};c.prototype.p1=function(){this.tW=void 0;this.paused=this.j.paused.value;this.tea=void 0;this.trace=[];};c.prototype.unsubscribe=function(){f.wm.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.yt);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(m.jb))],a);b.SHa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){var n;n=f.wm.call(this) || this;n.vg=h;n.ssa=k;n.yt=function(){var p,q;q=n.wf.UP();n.wf.Hn.value && null !== (p=null === q || void 0 === q?void 0:q.tE) && void 0 !== p && p.ag.jw?(p=n.trace[n.trace.length - 1],q=q.position.offset.Z,p && p[0] === q && n.trace.pop(),(p=n.trace[n.trace.length - 1]) && p[1] === n.j.psa || n.trace.push([q,n.j.psa])):n.unsubscribe();};n.qa=h.fb("AdVolumeTracker");n.Gta=k((0,d.Vi)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.bIa=void 0;r=a(0);l=a(1);g=a(177);m=a(7);d=a(5);f=a(211);la(c,f.wm);c.prototype.start=function(h){f.wm.prototype.start.call(this,h);this.Dy || (this.j.volume.addListener(this.P9),this.j.muted.addListener(this.P9),this.Dy=!0);};c.prototype.$aa=function(){return {volumeChangeTrace:this.trace,volume:this.j.psa};};c.prototype.p1=function(){this.trace=[];};c.prototype.unsubscribe=function(){f.wm.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.P9);this.j.muted.removeListener(this.P9);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(g.P3))],a);b.bIa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){var n;n=f.wm.call(this) || this;n.ssa=k;n.iec=function(){0 === n.trace.length?n.yt():n.Gta.yl(function(){n.yt();});};n.yt=function(){var p,q,v,t;q=n.wf.UP();if(n.wf.Hn.value && null !== (p=null === q || void 0 === q?void 0:q.tE) && void 0 !== p && p.ag.jw){(p=n.trace[n.trace.length - 1]) && p[0] === q.position.offset.Z && n.trace.pop();p=n.trace[n.trace.length - 1];v=n.j.om.getBoundingClientRect();t=v.height;v=v.width;0 < t && 0 < v && (!p || p[1] !== v || p[2] !== t) && n.trace.push([q.position.offset.Z,v,t]);}else n.unsubscribe();};n.qa=h.fb("AdResizeTracker");n.Gta=k((0,d.Vi)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.XHa=void 0;r=a(0);l=a(1);g=a(177);m=a(7);d=a(5);f=a(211);la(c,f.wm);c.prototype.start=function(h){f.wm.prototype.start.call(this,h);this.Dy || (this.Ggb=new ResizeObserver(this.iec),this.Ggb.observe(this.j.om),this.Dy=!0);};c.prototype.$aa=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.p1=function(){this.trace=[];};c.prototype.unsubscribe=function(){var h;f.wm.prototype.unsubscribe.call(this);null === (h=this.Ggb) || void 0 === h?void 0:h.disconnect();};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(g.P3))],a);b.XHa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mT="AdTrackerBaseSymbol";},function(r,b,a){var l,g,m;function c(d){var f;f=m.wm.call(this) || this;f.Vza=0;f.B4a=[0];f.AK=[0];f.visibility=0;f.yt=function(){var h,k;k=f.wf.UP();f.wf.Hn.value && null !== (h=null === k || void 0 === k?void 0:k.tE) && void 0 !== h && h.ag.jw?(h=f.visibility,f.visibility=document.hidden?0:1,h !== f.visibility && (1 === f.visibility?(f.Vza=f.visibility,f.$ca=k.position.offset.Z):(k=k.position.offset.Z - (f.$ca || 0),k > f.AK[0] && (f.AK[0]=k),f.$ca=void 0))):f.unsubscribe();};f.qa=d.fb("AdVisibilityTracker");return f;}Object.defineProperty(b,"__esModule",{value:!0});b.aIa=void 0;r=a(0);l=a(1);g=a(7);m=a(211);la(c,m.wm);c.prototype.start=function(d){m.wm.prototype.start.call(this,d);this.Dy || (document.addEventListener("visibilitychange",this.yt),this.Dy=!0);};c.prototype.$aa=function(d){var f,h,k;h=this.j.om.getBoundingClientRect();k=h.height;h=h.width;"adStart" === d.event && (k=0 === k?document.documentElement.clientHeight:k,h=0 === h?document.documentElement.clientWidth:h);d=d.Ni.offset.Z - (null !== (f=this.$ca) && void 0 !== f?f:0);d > this.AK[0] && (this.AK[0]=d);f=document.fullscreenElement?!0:screen.height === mb.outerHeight && screen.width === mb.outerWidth;this.B4a=this.AK;return {cumulativeTimeByVisibilityMs:this.B4a,maxContinuousTimeByVisibilityMs:this.AK,visibility:this.visibility,maxVisibility:this.Vza,screenHeight:screen.height,screenWidth:screen.width,adHeight:k,adWidth:h,fullScreen:f};};c.prototype.p1=function(){this.$ca=void 0;this.AK=[0];this.Vza=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){m.wm.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.yt);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb))],a);b.aIa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B){var A;A=this;this.xb=y;this.j=z;this.debug=B;this.xV=this.ej=this.zA=!1;this.XV=this.WV=void 0;y={};this.h_=(y[u.u.T]={},y[u.u.J]={},y[u.u.Za]={},y);this.YD=void 0;this.Kg=function(){var C,D,E,G,F,L;A.debug.assert(A.Ja,"has access to asePlaygraph");A.debug.assert(A.Vc,"has access to internalLogger");A.debug.assert(A.rw,"has access to mediaBufferGetLogFields");F=A.nq;L=null === (D=null === (C=A.Ac.get()) || void 0 === C?void 0:C.Ya) || void 0 === D?void 0:D.xa;C={type:"logdata",target:"startplay",fields:{hasasereport:A.j.lP,hashindsight:!1,buffCompleteReason:F.reason,actualbw:L,initSelReason:null !== (E=F.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:F.vBufferLevelMs,bcABufferLevelMs:F.aBufferLevelMs}};(0,f.L8)({Lta:C,xk:A.xk,loadTime:A.loadTime});A.Ja.tGa("startplay",l.Kc.Cl);null !== (G=A.Hb) && void 0 !== G && G.qf?(A.Vc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:F},A.rw()),A.j.nq=F,A.j.qt.set(h.ig.Ue),A.hVb || (A.hVb=!0,A.j.af("pb")),A.sf.value !== l.La.ND && A.sf.value !== l.La.zm && A.play()):A.Vc.error("Shim received buffering complete but player has no position (player " + (A.Hb?"":"un") + "defined, state " + A.j.state + ")");};this.Eob=function(){var C,D;A.debug.assert(A.Vc,"has access to internalLogger");!1;A.WV=void 0;A.XV=void 0;A.j.paused.value && A.VK && (A.VK=!1,A.j.paused.set(!1,{V_:!0}));null === (C=A.j.rf) || void 0 === C?void 0:C.$Lb();null === (D=A.Vgb) || void 0 === D?void 0:D.call(A);A.Vgb=void 0;};this.events=new x();this.Hh=new w.lma(this.iy.bind(this));}Object.defineProperty(b,"__esModule",{value:!0});b.uIa=void 0;l=a(60);g=a(13);m=a(59);d=a(4);f=a(1390);h=a(16);k=a(19);n=a(15);p=a(5);q=a(1391);v=a(95);t=a(74);w=a(554);a(139);u=a(49);x=a(105).EventEmitter;c.prototype.ud=function(){var y;!1;this.xV=!1;this.Ac.G1(null);this.debug.assert(this.uj,"has access to streamingEngine");this.Ja && this.uj.MC(this.Ja);this.Hb && this.uj.$jb(this.Hb);this.uj.bkb(this.Hh.Xr(this.xb.ha.N));this.Hh.clear();null === (y=this.Nq) || void 0 === y?void 0:y.Gt();};c.prototype.Cgc=function(y){var z,B,A,C,D,E,G,F,L,O,K,I,M;z=y.config;B=y.Lr;A=y.Vc;C=y.Se;D=y.rw;E=y.nk;G=y.E1;y=y.wL;this.Vc=A;this.log=A.I9("AseIntegrationImpl");!1;this.rw=D;this.E1=G;this.wL=y;D=this.j.ha;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(C,"has access to utils");this.debug.assert(E,"has access to getCategoryLog");this.debug.assert(B,"has access to aseGlobals");this.debug.assert(B.uj,"has access to streamingEngine");this.debug.assert(D.Rc,"has access to parsedManifest");this.debug.assert(D.ba,"has access to manifest");this.config=z;this.uj=B.uj;B.Le.set(a(179)(z),!0,E("ASE"));B.Le.set({maxNumberTitlesScheduled:null !== (L=null === (F=z.Cac) || void 0 === F?void 0:F.maxNumberTitlesScheduled) && void 0 !== L?L:1},!0,A);z.DMb && !D.Md.ta && 3E5 > D.ba.Ra.duration?B.Le.p0({expandDownloadTime:!1},!0,A):B.Le.p0({expandDownloadTime:B.Le.Ohb().expandDownloadTime},!0,A);z=D.background || z.Aac && "postplay" === D.oe?"historical":B.Le.Ohb().initBitrateSelectorAlgorithm;B.Le.p0({initBitrateSelectorAlgorithm:z},!0,A);z=null === (M=null === (I=null === (K=null === (O=D.Uh) || void 0 === O?void 0:O.value) || void 0 === K?void 0:K.streams) || void 0 === I?void 0:I[0]) || void 0 === M?void 0:M.mf;B.Le.p0((0,k.x3a)(!!D.lb.ji,!!D.lb.hca,z),!0,A);A=C.ZF({},(0,k.y9)(D.oe));D.Md.ta && (A=C.ZF(A,(0,k.y9)("live")));this.Le=B.Le.Hi(A);l.platform.events.emit("networkchange",D.Rc.Kfc);this.zA=!0;};c.prototype.Qba=function(y){var z,B;this.debug.assert(this.uj,"has access to streamingEngine");z=this.j.Jj(y.S);this.debug.assert(z.Rc,"has access to playback parsedManifest");!1;B=y.flags;this.Ac.reset();this.Xf=new Set([u.u.T,u.u.J]);(B.Q2 || B.Upa) && this.Xf.delete(B.Q2?u.u.T:u.u.J);this.UG=[z.Rc.eQb,z.Rc.mQb,z.Rc.lQb];this.iy(z.K,void 0,y.A4a);this.L1b(y);this.TO();};c.prototype.Xw=function(y){var z;!1;null === (z=this.Ja) || void 0 === z?void 0:z.Xw(y);};c.prototype.YIb=function(y){var z,B,A,C;z=this;B=y.loadTime;A=y.xk;this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Hb,"has access to asePlayer");!1;this.xk=A;this.loadTime=B;y=this.Ja.events;C=this.Hb.events;y.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (z.Vc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.Vc.trace("StreamingFailure, buffer status:" + JSON.stringify(z.rw())),(0,m.Mg)(function(){z.j.Td(d.aa.lrb,{Ca:D.nativeCode,Ub:D.errormsg,Xl:D.httpCode,Fda:D.networkErrorCode});}));});y.addListener("logdata",function(D){var E;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (E=z.Ja) || void 0 === E?void 0:E.y8,(0,f.L8)({Lta:D,xk:A,loadTime:B}));});C.addListener("logdata",function(D){!1;"string" === typeof D.target && "object" === typeof D.fields && (0,f.L8)({Lta:D,xk:A,loadTime:B});});y.addListener("bufferingStarted",function(){!1;z.j.qt.set(h.ig.ae);});y.addListener("bufferingComplete",function(D){!1;z.nq=D;});this.j.paused.addListener(function(D){var E;z.debug.assert(z.Vc,"has access to internalLogger");null !== (E=D.jj) && void 0 !== E && E.V_ || !z.zA || (D.newValue && z.sf.value === l.La.Xc?(z.sf.set(l.La.bj),z.Qj.emit("paused",{type:"paused",pts:z.Qj.Qc})):D.newValue || z.sf.value !== l.La.bj || (z.sf.set(l.La.Xc),z.Qj.emit("playing",{type:"playing",pts:z.Qj.Qc})));D.newValue || (z.VK=!1);z.Vc.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,v.Ci)(z.j.mediaTime.value)});});this.j.Gc.addListener(function(D){var E,G,F,L;if(z.zA)if((z.debug.assert(z.Vc,"has access to internalLogger"),D.jj && D.jj.t8))z.Vc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {L=D.newValue;z.XFa({lq:L.trackId,toJSON:function(){return L.Ch;}})?z.Vc.trace("ASE accepted the audio track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId):(z.Vc.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== L.trackId && z.j.Gc.set(D.oldValue,{t8:!0}));}});this.j.Md.ta && this.j.Ob.addListener(function(D){var E,G,F,L;if(z.zA)if((z.debug.assert(z.Vc,"has access to internalLogger"),D.jj && D.jj.t8))z.Vc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {L=D.newValue;z.XFa({Vnb:L.trackId,toJSON:function(){return L.Ch;}})?z.Vc.trace("ASE accepted the text track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId):(z.Vc.trace("ASE rejected the text track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== L.trackId && z.j.Ob.set(D.oldValue,{t8:!0}));}});y.addListener("serverSwitch",function(D){var E;!1;z.j.fireEvent(h.ka.A1,D);if("video" === D.mediatype)E=u.u.J;else "audio" === D.mediatype && (E=u.u.T);(0,n.xd)(E) && z.E1(D.segmentId,D.server,E);});y.addListener("streamSelected",function(D){var E,G,F,L;!1;if(z.xV){G=D.manifest.fh;if(!z.j.f0b(G) && z.config.dUb)return z.j.Td(d.aa.kwb,{dF:G});G=(null === (E=z.Ja) || void 0 === E?void 0:E.jZ(D.position)).At.Z;E=[];if(D.mediaType === u.u.J){F=z.j.tab(D.streamId);L=z.j.Hf;E=z.j.tF();}else D.mediaType === u.u.T && (F=z.j.eab(D.streamId),L=z.j.bi,E=z.j.vWb());F && L?(!1,L.set(F,{VI:G,TW:D.bandwidth})):z.Vc.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:E,cachedManifest:z.j.RI});}});y.addListener("segmentNormalized",function(D){var E,G,F,L,O;!1;E=D.segmentId;G=Math.floor(D.viewableContentEnd.Z);D=Math.floor(D.viewableEarliestContentEnd.Z);G=(0,p.$b)(G);D=(0,p.$b)(D);if(!z.j.nab(E) && (!1,z.jk && z.jk.U[E])){F=z.jk.U[E];L=z.jk.U[E].tc;if(L && z.xb.nz(L)){L=z.j.Jj(L);O=L.ba;(null === O || void 0 === O?0:O.Bv) && (null === O || void 0 === O?0:O.Bv.some(function(K){return K.Ra.K === F.N;})) && z.j.f4a(F.N,{$k:{ye:O.Ra.ye,Eh:O.Ra.K}},L.sa);}}if(E=z.j.Jj(E))(E.rB=G,E.Meb=D);z.j.ss || (z.j.Md.ta?(z.debug.assert(Infinity === G.ia(p.va),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + z.j.Md.ta + ", contentDuration:" + G),z.j.ss=p.Pa):z.j.ss=G);});C.addListener("segmentPresenting",function(D){var E,G,F,L;!1;z.debug.assert(z.Ja,"has access to asePlaygraph");z.debug.assert(z.Hb,"has access to asePlayer");z.debug.assert(z.wL,"has access to segmentPresentingHandler");G=z.Ja.jZ(D.position);F=void 0;L=null === (E=D.inner) || void 0 === E?void 0:E.position;L && z.jk && (F=z.jk.U[L.S]);z.wL({N:G.N,YI:F,iK:!1});z.j.fireEvent(h.ka.vL,{type:"segmentPresenting",position:{segmentId:D.position.S,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;z.YD=z.Hb.Zn();});C.addListener("ptsChanged",function(D){var E;!1;z.j.rf.Xbc({Dua:null === (E=D.forcedTimestamp) || void 0 === E?void 0:E.EC,J1b:D.initialTimestamp.EC});z.Qj.emit("skipped");});y.addListener("locationSelected",function(D){!1;z.j.fireEvent(h.ka.l_,D);});y.addListener("aseReportEnabled",function(){!1;z.j.lP=!0;});y.addListener("aseReport",function(D){!1;z.j.fireEvent(h.ka.HI,D);});y.addListener("liveReport",function(D){!1;z.j.fireEvent(h.ka.Hca,D);});y.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.Qdc;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && z.j.fireEvent(h.ka.BB,{response:D,K:z.j.ha.K});});y.addListener("transportReport",function(D){var E;(D=null === (E=D.xTb) || void 0 === E?void 0:E.cadmiumResponse) && z.j.fireEvent(h.ka.BB,{response:D,K:z.j.ha.K});});y.addListener("liveEventTimesUpdated",function(D){var E,G;E=D.S;G=D.startTime;D=D.endTime;z.j.nab(E) && (E=z.j.Jj(E),E.Md.ta && E.Md.JEa(G,D));});y.addListener("liveLoggingInfoUpdated",function(D){var E,G;E=D.mediaType;G=z.h_[E];z.h_[E]=D.info;D=z.h_[E].wJ !== G.wJ && void 0 !== G.wJ;(z.h_[E].vJ !== G.vJ && void 0 !== G.vJ || D) && z.j.fireEvent(h.ka.Gca,{mediaType:E,ko:G,current:z.h_[E]});});};c.prototype.Zn=function(){var y,z,B,A,C,D,E,G,F;G=null === (y=this.Hb) || void 0 === y?void 0:y.sba();y=(null !== (z=this.YD) && void 0 !== z?z:G && this.Hb.Zn()) || ({});z=y.G;G=y.Sd;F=y.lG;y=y.us;return {id:String(null === z || void 0 === z?void 0:z.id),ng:null !== (B=null === G || void 0 === G?void 0:G.Z) && void 0 !== B?B:0,Ud:null !== (A=null === z || void 0 === z?void 0:z.uf.Z) && void 0 !== A?A:Infinity,Pc:null !== (C=null === z || void 0 === z?void 0:z.yh.Z) && void 0 !== C?C:0,Yf:null !== (D=null === F || void 0 === F?void 0:F.Z) && void 0 !== D?D:Infinity,Bd:null !== (E=null === y || void 0 === y?void 0:y.Z) && void 0 !== E?E:0};};c.prototype.$ua=function(){return {ng:0};};c.prototype.Hxa=function(){var y,z;this.debug.assert(this.Ja,"has access to asePlaygraph");y={};z=this.Ja.JJ();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.bib=function(){!1;this.Qj.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Qj.Qc});};c.prototype.OW=function(y,z){var B;this.debug.assert(this.j.ba,"has access to playback manifest");B=this.UG[u.u.T];return y.K === this.j.ba.Ra.K?B:this.LUb(this.j.ba.Ra.Av[B],z);};c.prototype.Lga=function(y,z){var B;this.debug.assert(this.j.ba,"has access to playback manifest");if(this.j.Md.ta){this.debug.assert(y.K === this.j.ba.Ra.K);B=this.UG[u.u.Za];if((y=this.j.wi.find(function(A){return A.trackId === z[B].xg;})) && (!y.Iq() || y.up()))return B;}};c.prototype.LUb=function(y,z){var B,A,C;this.debug.assert(this.Vc,"has access to internalLogger");!1;B=z.filter(function(D){return D.profile === y.profile;}).sort(function(D,E){var G,F,L;G=(D.language === y.language || "zxx" === D.language?0:1) - (E.language === y.language || "zxx" === E.language?0:1);0 === G && (G=(D.Wi === y.Wi?0:1) - (E.Wi === y.Wi?0:1));if(0 === G){D=(null !== (F=D.vc) && void 0 !== F?F:0) - (null !== (L=E.vc) && void 0 !== L?L:0);}else D=G;return D;});A=0;C=oa(B).next().value;C && z.some(function(D,E){if(D === C)return (A=E,!0);});!1;return A;};c.prototype.XFa=function(y){var z,B,A,C,D,E;this.debug.assert(this.Vc,"has access to internalLogger");this.debug.assert(this.Hb,"has access to asePlayer");this.debug.assert(this.j.ba,"has access to playback manifest");if(this.mGa)return (!1,!1);B=y.lq;A=this.UG[u.u.T];if(void 0 === B)C=A;else if(!this.j.ba.Ra.audio_tracks.some(function(G,F){if(G.new_track_id === B)return (C=F,!0);}))return (!1,!1);D=y.Vnb;y=this.UG[u.u.Za];if(void 0 === D)E=y;else if(!this.j.ba.Ra.timedtexttracks.some(function(G,F){if(G.new_track_id === D)return (E=F,!0);}))return (!1,!1);!1;this.WV=C;this.XV=E;null === (z=this.j.rf) || void 0 === z?void 0:z.Thc();this.j.paused.value || (this.Hb.pause([u.u.T,u.u.Za]),this.VK=!0,this.j.paused.set(!0,{V_:!0}));this.debug.J8(this.WV,"has access to valid requestedAudioTrackIndex number");this.UG[u.u.T]=this.WV;this.debug.J8(this.XV,"has access to valid requestedTextTrackIndex number");this.UG[u.u.Za]=this.XV;(this.UC() || this.VK) && this.Hb.resume(this.VK?[u.u.T,u.u.Za]:void 0);this.iM(this.Eob);return !0;};c.prototype.UC=function(){var y;y=this;this.debug.assert(this.Ja,"has access to asePlaygraph");return this.Ja.UC({dS:this.OW.bind(this)},{dS:function(){return y.UG[u.u.J];}},{dS:this.Lga.bind(this)});};c.prototype.pn=function(){var y;!1;this.sf.set(l.La.Wg);null === (y=this.Ja) || void 0 === y?void 0:y.tGa("intrplay",l.Kc.pn);this.Qj.emit("underflow",{type:"underflow",pts:this.Qj.Qc});this.iM(this.Kg);};c.prototype.Rw=function(y,z){this.ZS.Rw(y,z);};c.prototype.open=function(){this.xV || (this.debug.assert(this.Ja,"has access to asePlaygraph"),this.debug.assert(this.Hb,"has access to asePlayer"),!1,this.xV=this.ej=!0,this.Ja.open(),this.debug.assert(this.oz,"invalid start position relative to playgraph"),this.Ja.CG(this.oz,l.P.Na(this.j.ca)),this.sf.set(l.La.ae),this.iM(this.Kg),this.Ja.ay(this.Hb),this.t4b());};c.prototype.play=function(){this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Hb,"has access to asePlayer");!1;0 !== this.Ja.state && (this.Hb.resume(this.VK?[u.u.T,u.u.Za]:void 0),this.sf.set(l.La.Xc),this.Qj.emit("playing",{type:"playing",pts:this.Qj.Qc}));};c.prototype.stop=function(){var y;!1;this.sf.set(l.La.ND);null === (y=this.Hb) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Qj.emit("paused",{type:"paused",pts:this.Qj.Qc});};c.prototype.flush=function(){this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.uj,"has access to streamingEngine");!1;this.xV && this.sf.value !== l.La.zm && this.sf.value !== l.La.ND && this.stop();this.Ja.tGa("endplay",l.Kc.gl);this.Ja.ie();this.uj.vk.save();this.uj.ku.save();};c.prototype.zq=function(){var y;return null === (y=this.Ja) || void 0 === y?void 0:y.wf;};c.prototype.sB=function(y){var z;this.debug.assert(this.Ja,"has access to asePlaygraph");z=l.P.Na(y);return (z=this.Ja.$m(z,{vhc:!0,uhc:!0}))?this.Ja.na.U[z.S].Ba + Number(z.offset.Z.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.tX=function(y,z){this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Vc,"has access to internalLogger");!1;this.Ja.na.U[y] || (y=this.eua(z));this.debug.K8(y,"has access to segmentId");y={S:y,offset:l.P.Na(z - this.Ja.na.U[y].Ba)};if(y=this.Ja.kZ(y))return y.Z;!1;return z;};c.prototype.e2a=function(y,z){var B,A,C;this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Hb,"has access to asePlayer");!1;z && this.Ja.na.U[z] || (z=null !== (B=this.eua(y)) && void 0 !== B?B:null === (A=this.Hb) || void 0 === A?void 0:A.Ii.S);z=this.j.Jj(z);y={At:l.P.Na(y),N:z.K};return null === (C=this.Ja.jp(y)) || void 0 === C?void 0:C.Ud;};c.prototype.rJ=function(y){var z;z=void 0 === z?!0:z;!1;this.ej?Number.isFinite(y) && (this.debug.assert(this.Hb,"has access to asePlayer"),z?this.Hb.dga(y):this.Hb.Klb(y)):this.fail("Must call open prior to drmReady");};c.prototype.Gwa=function(){var y;return null !== (y=this.Hb) && void 0 !== y && y.qf?this.Hb.hs(this.xb.ha.N):!1;};c.prototype.ci=function(y){var z,B;!1;if(!this.Hb)return (!1,!1);z=this.zq();y=l.P.Na(y);B=this.Hb.ci(y);return z && this.j.jba()?B && z.ci(y):B;};c.prototype.uL=function(y,z){var B;this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Hb,"has access to asePlayer");!1;z && this.Ja.na.U[z] || (z=null !== (B=this.eua(y)) && void 0 !== B?B:this.xb.ei);this.debug.K8(z,"has access to segmentId");this.debug.assert(this.Ja.na.U[z],"segment exists in playgraph map");z={S:z,offset:l.P.Na(y - this.Ja.na.U[z].Ba)};this.Ja.CG(z,l.P.Na(y));this.Hb.resume();this.sf.set(l.La.ae);this.iM(this.Kg);y=this.Ja.Zkb(z);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.Z;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.fha=function(y,z){var B;!1;B={};this.Ja.Gk((B[y]=z,B));};c.prototype.fy=function(y,z){var B,A;this.debug.assert(this.Vc,"has access to internalLogger");this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Hb,"has access to asePlayer");!1;B=this.Zn().id;A=this.Ja.VY(B,y);if(z){if(!A.Slc)return (this.Vc.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + B)),!1);if(void 0 !== A.CAa)return (!1,A.CAa === y);this.Ja.Bl(B,y,!1,z);return !0;}if(void 0 !== A.CAa)return (!1,!1);A.YW && (this.Hb.reset(),this.Ja.Bl(B,y,!1,z),this.Hb.resume(),this.sf.set(l.La.ae),this.iM(this.Kg));return !!A.YW;};c.prototype.Bl=function(y,z,B,A){this.debug.assert(this.Ja,"has access to asePlaygraph");!1;this.Ja.Bl(y,z,B,A);};c.prototype.ro=function(){var y;this.debug.assert(this.Vc,"has access to internalLogger");!1;y=this.Qj.Qc;!1;this.Qj.emit("skipped",{type:"skipped",pts:y});return new l.cN(Promise.resolve()).Kkb;};c.prototype.Iaa=function(y,z){var B;return null === (B=this.Ja) || void 0 === B?void 0:B.Iaa(y,z);};c.prototype.eua=function(y){var z,B,A,C,D,E,G,F;this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Vc,"has access to internalLogger");!1;z=this.Ja.na;B=[];A=Infinity;for(C in z.U){D=z.U[C];E=D.Ba;D=D.Aa;G=y < Number(null !== D && void 0 !== D?D:Infinity);if(E <= y && G)(!1,B.push(C));else if((E=Math.min(Math.abs(y - E),Math.abs(y - D)),E < A)){A=E;F=C;}}y=B[0] || F;this.debug.K8(y,"has access to locatedSegmentId");!1;return y;};c.prototype.t4b=function(){var y,z;y=this;this.debug.assert(this.j.Wb,"has access to mediaElement");z=this.j.Wb.ea;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){y.sf.value === l.La.bj && (y.sf.set(l.La.Xc),y.Qj.emit("playing",{type:"playing",pts:y.Qj.Qc}));});z.addEventListener("pause",function(){y.sf.value === l.La.Xc && (y.sf.set(l.La.bj),y.Qj.emit("paused",{type:"paused",pts:y.Qj.Qc}));});};c.prototype.fail=function(y){var z;null === (z=this.Ja) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.iM=function(y){var z,B,A,C,D,E,G,F;z=this;if(y !== this.Eob && this.mGa)(!1,this.Vgb=y);else {F=null === (B=this.Hb) || void 0 === B?void 0:B.hu.value;B=null === (A=this.Ja) || void 0 === A?void 0:A.Lg.value;A=!0 === F;F=B === l.bd.Am;!1;null === (C=this.Hb) || void 0 === C?void 0:C.hu.removeListener(this.Teb);null === (D=this.Ja) || void 0 === D?void 0:D.Lg.removeListener(this.P1a);A && F?y():(this.Teb=function(){return z.iM(y);},this.P1a=function(){return z.iM(y);},null === (E=this.Hb) || void 0 === E?void 0:E.hu.addListener(this.Teb),null === (G=this.Ja) || void 0 === G?void 0:G.Lg.addListener(this.P1a));}};c.prototype.m8a=function(y){var z,B;z=this;y=this.j.Yn(y);return Promise.resolve(null !== (B=y.ba) && void 0 !== B?B:this.$ea(y)).then(function(A){A=A.Ra;return {ba:A,Tl:A.lba && !A.xF,config:z.Le,Xf:[].concat(ia(z.Xf))};});};c.prototype.$ea=function(y){var z,B,A,C,D;z=this;!1;A=Promise.resolve();if(y.hj){C=y.hj.Eh;(D=null === (B=this.j.Yn(C).ba) || void 0 === B?void 0:B.Ra)?y.hj.t0=D:A=this.Hh.Xr(C).Ru.then(function(E){return E.ba;}).then(function(E){y.hj.t0=E;}).catch(function(){return z.j.Td(d.aa.GM,d.Y.wrb);});}return A.then(function(){return z.j.$ea(y);}).then(function(){return y.ba;});};c.prototype.iy=function(y,z,B){var A,C,D,E,G,F,L,O,K,I;A=this;this.debug.assert(this.uj,"has access to streamingEngine");!1;L={N:y,Eh:null === (C=null === z || void 0 === z?void 0:z.$k) || void 0 === C?void 0:C.Eh,ye:null === (D=null === z || void 0 === z?void 0:z.$k) || void 0 === D?void 0:D.ye};if(!this.Hh.has(L)){!this.j.Iwa(y) && (null === (E=null === z || void 0 === z?void 0:z.$k) || void 0 === E?0:E.Eh) && this.j.Iwa(null === (G=null === z || void 0 === z?void 0:z.$k) || void 0 === G?void 0:G.Eh) && (C=this.j.Yn(null === (F=z.$k) || void 0 === F?void 0:F.Eh),this.j.f4a(y,z,C.sa));this.j.Iwa(y) && (O=this.j.Yn(y));K=B?B.sa:O?O.sa:void 0;F=B?B.Cp:O?O.pg:void 0;this.Hh.store(L,{l2a:function(){},equals:function(M){return M && M.N === L.N && (K === M.sa || !M.sa || !K);},get Ru() {I || (I=A.m8a(y));return I;},set Ru(M) {I=M;},events:new g.EventEmitter(),sa:K,N:L.N,Ov:!1,QFa:!1});this.Le.$E && this.uj.DL(this.Hh.Xr(L.N,z),{sa:K,Cp:F,QX:null === B || void 0 === B?void 0:B.ly});}};c.prototype.eM=function(y){var z,B,A;this.debug.assert(this.uj,"has access to streamingEngine");!1;z=this.j.Jj(y);B=z.hj;z={N:z.K,Eh:null === B || void 0 === B?void 0:B.Eh,ye:null === B || void 0 === B?void 0:B.ye};y=this.xb.Ce(y).N;if(!this.Hh.has(z))return Promise.resolve();B && (A={$k:{ye:null === B || void 0 === B?void 0:B.ye,Eh:B.Eh}});B=this.Hh.Xr(y,A);B.Ru=this.m8a(y);return this.uj.eM(B);};c.prototype.VY=function(y){var z;this.debug.assert(this.Hb,"has access to asePlayer");this.debug.assert(this.Ja,"has access to asePlaygraph");return this.Ja.VY(null === (z=this.Hb.Zn().G) || void 0 === z?void 0:z.id,y);};c.prototype.oF=function(y){var z;y=null === (z=this.Ja) || void 0 === z?void 0:z.oF(y);!1;return y;};c.prototype.L1b=function(y){var z,B;z=y.A4a;B=y.S;this.debug.assert(this.uj,"has access to streamingEngine");this.debug.assert(this.Vc,"has access to internalLogger");!1;y=this.j.Jj(B);y=this.xb.Qaa(y);B=y.U[B];this.debug.assert(B,"segment exists");this.oz=(0,q.B$a)(B.N,y,this.j.ca,B.Ba);z=Object.create(this.Le,{ly:{value:z.ly},z6a:{value:this.j.background}});this.sf=new t.ic(l.La.Yh);this.Ja=this.uj.yW(y,this.Le.mac,z,this.Hh);this.ZS=new l.eN(this.Vc);z=this.Ja.eJ(this.ZS);y=this.Ja.dJ();this.Ja.PEa(y,z);this.UC();this.VK=!1;};c.prototype.TO=function(){var y,z;y=this;this.debug.assert(this.uj,"has access to streamingEngine");!1;z=Object.create(this.Le,{Xf:{value:[].concat(ia(this.Xf))},Hva:{value:function(){return y.NYb();}}});this.Qj=Object.create(new g.EventEmitter(),{Qc:{get:function(){y.debug.J8(y.j.mediaTime.value,"has access to mediaTime.value");return l.P.Na(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},Fva:{value:function(){y.debug.assert(y.j.Wb,"has access to mediaElement");return y.j.Wb;}}});this.Hb=this.uj.GGb(this.Qj,z);};c.prototype.NYb=function(){this.Nq || (this.Nq=new l.platform.MediaSource(this.Qj),this.Nq.Yc || (this.Nq.Yc=l.platform.MediaSource.Yc));return this.Nq;};Va.Object.defineProperties(c.prototype,{mGa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.WV && void 0 !== this.XV;}},Ac:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.uj,"has access to streamingEngine");return this.uj.Ac;}},jk:{configurable:!0,enumerable:!0,get:function(){for(var y,z=null === (y=this.Ja) || void 0 === y?void 0:y.jk;null === z || void 0 === z?0:z.jk;){z=z.jk;}return null === z || void 0 === z?void 0:z.na;}},h3a:{configurable:!0,enumerable:!0,get:function(){for(var y=this.Hb;null === y || void 0 === y?0:y.DZ;){y=y.DZ;}return y;}},APb:{configurable:!0,enumerable:!0,get:function(){var y,z,B;if(null === (y=this.h3a) || void 0 === y?0:y.qf){B=(y=this.h3a.Ii) && (null === (z=this.jk) || void 0 === z?void 0:z.U[y.S]);if(B)return {At:l.P.Na(y.offset.Z + B.Ba),N:B.N};}}}});b.uIa=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.L8=void 0;c=a(15);b.L8=function(l){var g,m,d,f;g=l.xk;m=l.loadTime;l=l.Lta;d=(0,c.Oa)(m)?m:0;f=g[l.target] || ({});g[l.target] !== f && (g[l.target]=f);Object.entries(l.fields).forEach(function(h){var k,n,p,q;k=oa(h);h=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)f[h]=k;else {n=k.type;if("count" === n)(void 0 === f[h] && (f[h]=0),++f[h]);else if(void 0 !== k.value){if("array" === n){n=f[h];p=k.adjust;q=k.value;n || (n=f[h]=[]);p && 0 < p.length && p.forEach(function(v){q[v]-=d || 0;});n.push(q);}else f[h]="sum" === n?(f[h] || 0) + k.value:k.value;}else f[h]=k;}});};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.B$a=void 0;c=a(60);l=a(22);b.B$a=function(g,m,d,f){return m.U[m.me].Ba === f?(g=(0,c.sX)(m,g,c.P.Na(d)),(0,l.ya)(g,"has valid start position relative to playgraph"),g):{S:m.me,offset:c.P.Pa};};},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t,w,u,x,y,z){var B;B=this;this.gkc=n;this.j=p;this.id=q;this.height=v;this.width=t;this.N$b=w;this.O$b=u;this.size=x;this.fw=y;this.urls=z;this.type=l.yj.sGa;this.retry=!0;this.state=f.qr.n5;this.Ch={};this.N8={};this.Ibc=function(A){if(A.ja)try{B.data=B.gkc.parse(A.content);B.state=f.qr.rH;B.log.trace("TrickPlay parsed",{Images:B.data.images.length},B.Ch);B.j.fireEvent(h.ka.x2);}catch(C){B.state=f.qr.nRa;B.log.error("TrickPlay parse failed.",C);}else (B.state=f.qr.n5,B.log.error("TrickPlay download failed.",(0,k.Uz)(A),B.Ch));};this.log=(0,m.lj)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.mWa=void 0;l=a(93);g=a(19);m=a(9);d=a(107);f=a(563);h=a(16);k=a(4);c.prototype.EXb=function(n){if(this.data && (this.fw && (n+=this.fw),n=Math.floor(n / this.data.header.qob),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.qob,height:this.height,width:this.width,pixelAspectHeight:this.N$b,pixelAspectWidth:this.O$b};};c.prototype.XP=function(){switch(this.state){case f.qr.rH:return "downloaded";case f.qr.LOADING:return "loading";case f.qr.cU:return "downloadfailed";case f.qr.nRa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.i_b();n?(this.state=f.qr.LOADING,this.CRb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.i_b=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(v){return (n.N8[n.urls[v]] || 0) <= g.config.ckc;});if(p){q=this.urls[p];(q in this.N8)?this.N8[q]++:this.N8[q]=1;return {url:q,Uo:p};}};c.prototype.CRb=function(n){var p,q;this.log.trace("Downloading",n.url,this.Ch);q=this.uaa(n.Uo);n={responseType:d.sZ,Cc:q,url:n.url,track:this,Au:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",UE:"trickplay"};this.j.Aba.download(n,this.Ibc);};c.prototype.uaa=function(n){return this.j.th.find(function(p){return p && p.id === n;});};b.mWa=c;},function(r,b,a){var l;function c(g,m,d,f){this.Nsa=g;this.debug=m;this.Ia=d;this.j=f;this.qea=[];this.Ada={};this.Psa={};this.kua=!1;this.Snb=1;this.TIa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.ZKa=void 0;l=a(5);a(16);a(15);a(107);c.prototype.register=function(g,m){this.debug.assert(!(0 <= this.qea.indexOf(g)),"panel already registered");this.Ada[g]=m;this.qea.push(g);};c.prototype.wgb=function(g){var m;m=this;this.Psa[g]=!0;this.kua || (this.kua=!0,setTimeout(function(){return m.$Ub();},0));};c.prototype.tYb=function(g){return (g=this.Ada[g])?g():void 0;};c.prototype.QY=function(){var g;g=this.j.Aea;return g?g.QY():[];};c.prototype.addEventListener=function(g,m){this.Nsa.addListener(g,m);this.Ada[g] && this.wgb(g);};c.prototype.removeEventListener=function(g,m){this.Nsa.removeListener(g,m);};c.prototype.getTime=function(){return this.Ia.Rb().ia(l.va);};c.prototype.$Ub=function(){this.kua=!1;for(var g=this.qea.length,m;g--;){m=this.qea[g];this.Psa[m] && (this.Psa[m]=!1,this.Nsa.Zc(m + "changed",{getModel:this.Ada[m]}));}};b.ZKa=c;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q){var v;v=this;this.ho=p;this.Vv=q;this.Dob=function(t){var w,u,x,y,z,B,A;w=v.Snb++;u=t.request.UE || "dl";x=v.P$a(u,"start");if(x){y=t.request.oC;z=y.stream.O.Rq;y=oa(y.stream.O.Ei).next().value;if(z || y)if((z=null !== z && void 0 !== z?z:y.G.id,!v.cnb.has(z))){B=v.g$a(z);A=t.uu;v.ho.mark(x,B,A?u + "-" + A + "-" + w:u);t.i8(function(){var C,D;C=v.P$a(u,"end");D=A?u + "-" + A + "-" + w:u;C && v.ho.mark(C,B,D);});}}};this.Snb=0;this.cnb=new Set();this.pEa=new Map();q.bY && this.Jmc();}Object.defineProperty(b,"__esModule",{value:!0});b.AQa=void 0;r=a(0);l=a(1);g=a(56);m=a(85);d=a(5);f=a(107);h=a(39);k=a(254);n={start:{video:g.Ua.CT,audio:g.Ua.yT},end:{video:g.Ua.BT,audio:g.Ua.xT}};c.prototype.h$a=function(p){var v,t,w,u,x,y,z,B;function q(A){return (0,d.timestamp)(v.j0a((0,d.timestamp)(A),p,!0));}v=this;t=new Set();w=p.yd;u=p.sa;x=void 0 === p.Xmb?null:p.Xmb;y=p.S;z=this.ho.N9a(u);B=y && this.g$a(y);B && z.push.apply(z,ia(this.ho.N9a(B)));this.ho.Xjb(p.sa);B && this.ho.Xjb(B);y && this.cnb.add(y);y=[];("pr_ats" in w) && y.push({name:g.Ua.H5,Gu:q(w.pr_ats),sa:u,pg:"request-pre-manifest"});("ats" in w) && y.push({name:g.Ua.F5,Gu:q(w.ats),sa:u,pg:"request-manifest"});("pr_at" in w) && y.push({name:g.Ua.G5,Gu:q(w.pr_at),sa:u,pg:"request-pre-manifest"});("at" in w) && y.push({name:g.Ua.E5,Gu:q(w.at),sa:u,pg:"request-manifest"});("lg" in w) && y.push({name:g.Ua.D5,Gu:q(w.lg),sa:u,pg:"request-license"});("lr" in w) && (y.push({name:g.Ua.C5,Gu:q(w.lr),sa:u,pg:"request-license"}),y.push({name:g.Ua.j3,Gu:q(w.lr),sa:u,pg:"apply-license"}));("ld" in w) && y.push({name:g.Ua.i3,Gu:q(w.ld),sa:u,pg:"apply-license"});("tt_start" in w) && y.push({name:g.Ua.AT,Gu:q(w.tt_start),sa:u,pg:"request-timed-text"});("tt_comp" in w) && y.push({name:g.Ua.zT,Gu:q(w.tt_comp),sa:u,pg:"request-timed-text"});return y.concat(z).map(function(A){return v.Bjc(A,p);}).filter(function(A){return A.ts <= (null !== x && void 0 !== x?x:A.ts)?("end" === A.step && t.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || t.has(A.eventId)?!0:!1;}).sort(function(A,C){return A.ts - C.ts;}).reduce(function(A,C){var D;D=C.eventName;delete C.eventName;D && (A[D]=C);return A;},{});};c.prototype.ZGb=function(p,q,v){return (void 0 === v?0:v)?p.ia(d.va) + q.oj.ia(d.va):p.ia(d.va) - q.oj.ia(d.va);};c.prototype.j0a=function(p,q,v){v=void 0 === v?!1:v;if(q.yo)if(v)p.ia(d.va) + q.yo;else return p.ia(d.va) - q.yo;return this.ZGb(p,q,v);};c.prototype.Bjc=function(p,q){var v,t;v=p.pg;t=p.name;return {eventName:this.I7b(t,v),eventId:v || t,ts:this.j0a(p.Gu,q),comp:this.JY(t),cat:this.NWb(t),step:this.NZb(t)};};c.prototype.I7b=function(p,q){switch(p){case g.Ua.AT:case g.Ua.zT:case g.Ua.yT:case g.Ua.xT:case g.Ua.CT:case g.Ua.BT:return p + "-" + q;default:return p;}};c.prototype.JY=function(p){switch(p){case g.Ua.H5:case g.Ua.G5:case g.Ua.F5:case g.Ua.E5:return "manifest";case g.Ua.D5:case g.Ua.C5:case g.Ua.Kla:case g.Ua.Jla:case g.Ua.c4:case g.Ua.b4:case g.Ua.j3:case g.Ua.i3:return "license";case g.Ua.AT:case g.Ua.zT:case g.Ua.yT:case g.Ua.xT:case g.Ua.CT:case g.Ua.BT:case g.Ua.Qha:case g.Ua.Pha:return "buffering";case g.Ua.Oka:case g.Ua.Nka:return "playback";default:return (0,k.jY)(p);}};c.prototype.NWb=function(p){switch(p){case g.Ua.H5:case g.Ua.G5:case g.Ua.F5:case g.Ua.E5:return "aws";case g.Ua.D5:case g.Ua.C5:return "mixed";case g.Ua.Oka:case g.Ua.Nka:case g.Ua.Kla:case g.Ua.Jla:case g.Ua.c4:case g.Ua.b4:case g.Ua.j3:case g.Ua.i3:case g.Ua.Qha:case g.Ua.Pha:return "device";case g.Ua.AT:case g.Ua.zT:case g.Ua.yT:case g.Ua.xT:case g.Ua.CT:case g.Ua.BT:return "cdn";default:return (0,k.jY)(p);}};c.prototype.NZb=function(p){switch(p){case g.Ua.H5:case g.Ua.Oka:case g.Ua.F5:case g.Ua.D5:case g.Ua.Qha:case g.Ua.AT:case g.Ua.yT:case g.Ua.CT:case g.Ua.Kla:case g.Ua.c4:case g.Ua.j3:return "start";case g.Ua.G5:case g.Ua.Nka:case g.Ua.E5:case g.Ua.C5:case g.Ua.Jla:case g.Ua.b4:case g.Ua.i3:case g.Ua.Pha:case g.Ua.zT:case g.Ua.xT:case g.Ua.BT:return "end";default:return (0,k.jY)(p);}};c.prototype.P$a=function(p,q){if((p in n[q]))return n[q][p];};c.prototype.Ekc=function(){f.Bf.removeEventListener(f.zba,this.Dob);};c.prototype.Jmc=function(){this.Ekc();f.Bf.addEventListener(f.zba,this.Dob);};c.prototype.g$a=function(p){var q;if(this.pEa.has(p))return this.pEa.get(p);q=Date.now();this.pEa.set(p,q);return q;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.rU)),r.__param(1,(0,l.l)(h.Lp))],a);b.AQa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S;Object.defineProperty(b,"__esModule",{value:!0});b.j3a=void 0;r=a(1);c=a(524);l=a(1396);g=a(101);m=a(1397);d=a(536);f=a(1398);h=a(541);k=a(1399);n=a(542);p=a(1400);q=a(295);v=a(1401);t=a(88);w=a(1402);u=a(1403);x=a(36);y=a(4);z=a(1404);B=a(1405);A=a(1406);C=a(51);D=a(1407);E=a(592);G=a(1408);F=a(521);L=a(1409);O=a(1410);K=a(1411);I=a(378);M=a(1412);H=a(84);J=a(591);N=a(1413);P=a(1414);W=a(1415);V=a(311);S=a(1416);b.j3a=new r.Gd(function(U){U(C.tn).to(D.URa);U(c.iSa).to(l.hSa);U(E.PRa).to(G.ORa);U(F.RRa).to(L.QRa);U(g.Zka).to(m.jSa);U(J.kSa).df(function(fa){return function(){var qa;qa=fa.zb.get(H.gA);return qa && qa.aqb?fa.zb.resolve(P.DSa):fa.zb.resolve(N.lSa);};});U(d.NRa).to(f.MRa);U(h.ASa).to(k.zSa);U(n.cSa).to(p.bSa);U(q.Yka).to(v.dSa);U(t.uVa).to(w.tVa);U(t.BVa).to(u.AVa);U(t.sOa).to(z.rOa);U(t.pVa).to(B.oVa);U(t.TLa).to(A.SLa);U(K.iyb).to(O.mSa);U(I.aSa).to(M.$Ra);U(V.Yha).to(W.JHa);U(V.Xha).to(S.DHa);U(t.pja).df(function(fa){return function(qa){switch(qa){case t.hr.start:return fa.zb.get(t.uVa);case t.hr.stop:return fa.zb.get(t.BVa);case t.hr.TZ:return fa.zb.get(t.sOa);case t.hr.splice:return fa.zb.get(t.pVa);case t.hr.rP:return fa.zb.get(t.TLa);}throw new x.rd(y.aa.uxb,void 0,void 0,void 0,void 0,"The event key was invalid - " + qa);};});});},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.fwb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.hSa=void 0;r=a(0);l=a(1);g=a(4);m=a(67);d=a(72);a=a(51);la(c,d.Bi);c.prototype.Tf=function(h,k){var n;n=this;return this.send(h,{url:"/" + m.Kh.kza,name:m.Kh.kza,tl:m.Kh.kza},k).then(function(p){return p.result;}).catch(function(p){throw n.Wn(p);});};c.prototype.wq=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.hSa=f;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y){t=d.Bi.call(this,t,g.aa.GM,3) || this;t.platform=w;t.t_=u;t.$3b=x;t.v5b=y;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.jSa=void 0;r=a(0);l=a(101);g=a(4);m=a(67);a(139);d=a(72);f=a(51);h=a(45);k=a(39);n=a(138);p=a(295);q=a(1);a=a(591);la(c,d.Bi);c.prototype.rZb=function(t,w){var u;u=w?m.Kh.a4b:m.Kh.ba;w=w?"licensedManifest":"manifest";t.ry === l.Np.PM && (w="prefetch/" + w);"live" === t.lb.oe && (w+="/live");return {tl:w,ULb:u};};c.prototype.Tf=function(t,w){var u,x;u=this;x=w.ry === l.Np.R5?k.nx.OTa:k.nx.EU;return this.v5b().transform(w,x).then(function(y){var z,B;z=oa(y);y=z.next().value;B=z.next().value;!1;z=u.rZb(w,"licensedManifest" === B.Xo);return u.send(t,{url:B.Xo,name:z.ULb,tl:z.tl},y,void 0,void 0,x).then(function(A){var C;A=u.t_.create(A.result);C=A.Ra.Yw.map(function(D){return D.ki;}).filter(Boolean);B.CB && (0 < C.length?(C=u.$3b.Iob(C),B.CB.R_a(C),A.CB=B.CB,A.Wxa=w.ry === l.Np.PM,A.Vxa=!0):B.CB.close());A.KW=B.KW;A.R2=B.R2;!1;return A;});}).catch(function(y){!1;throw u.Wn(y);});};c.prototype.wq=function(){return Promise.reject(Error("Links are not supported with manifest command"));};v=c;v=r.__decorate([(0,q.$)(),r.__param(0,(0,q.l)(f.tn)),r.__param(1,(0,q.l)(h.Rp)),r.__param(2,(0,q.l)(n.HM)),r.__param(3,(0,q.l)(p.Yka)),r.__param(4,(0,q.l)(a.kSa))],v);b.jSa=v;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.DM,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.MRa=void 0;r=a(0);l=a(1);g=a(4);m=a(67);d=a(72);a=a(51);la(c,d.Bi);c.prototype.Tf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.Uaa=function(h){var k;k="ldl" === h.tdb?"prefetch/license":"license";"LIVE" === h.ih && (k+="/live");return k;};c.prototype.wq=function(h,k,n){var p;p=this;k={url:k.QP(n.tdb).href,name:m.Kh.ki,tl:this.Uaa(n)};return this.send(h,k,n.inputs,"drmSessionId").then(function(q){q=q.result;p.QKb(q);return q;}).catch(function(q){throw p.Wn(q);});};c.prototype.QKb=function(h){h.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.MRa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.Ela,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.zSa=void 0;r=a(0);l=a(1);g=a(4);m=a(67);d=a(72);a=a(51);la(c,d.Bi);c.prototype.Tf=function(h,k){var n;n=this;return this.send(h,{url:"/bundle",name:m.Kh.ki,tl:"release/license"},k).then(function(p){return p.result;}).catch(function(p){throw n.Wn(p);});};c.prototype.wq=function(){return Promise.reject(Error("Links are unsupported with release"));};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.zSa=f;},function(r,b,a){var l,g,m,d,f;function c(h,k,n){this.za=h;this.platform=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.bSa=void 0;r=a(0);l=a(1);g=a(27);m=a(5);d=a(45);a=a(11);c.prototype.Vjc=function(h){var k,n;k=this;n=this.za.nf.ia(m.Go);return {inputs:h.al.map(function(p){var q,v,t,w,u;return {drmSessionId:p.sessionId,clientTime:n,challengeBase64:p.dataBase64,xid:h.sa.toString(),clientVersion:k.platform.version,platform:null === (q=k.config().Kd) || void 0 === q?void 0:q.version,osVersion:null === (t=null === (v=k.config().Kd) || void 0 === v?void 0:v.os) || void 0 === t?void 0:t.version,osName:null === (u=null === (w=k.config().Kd) || void 0 === w?void 0:w.os) || void 0 === u?void 0:u.name};}),tdb:"standard" === h.Pg.toLowerCase()?"license":"ldl",ih:h.ih};};c.prototype.Yjc=function(h){var k,n;k=this;n=[];return h.$e.map(function(p){n.push(p.id);return {url:k.xJb(p.uK,p.e_),echo:"drmSessionId",params:{drmSessionId:p.id,xid:h.sa.toString()}};});};c.prototype.xJb=function(h,k){return "/releaseLicense?drmLicenseContextId=" + h + (k?"&licenseId=" + k:"");};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Jh)),r.__param(1,(0,l.l)(d.Rp)),r.__param(2,(0,l.l)(a.wc))],f);b.bSa=f;},function(r,b,a){var l,g,m;function c(d,f){this.Yi=d;this.AE=f;}Object.defineProperty(b,"__esModule",{value:!0});b.dSa=void 0;r=a(0);l=a(1);g=a(31);a=a(32);c.prototype.Iob=function(d){var f,h;f=this;h=d.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return f.Yi.u0(k.substring(k.indexOf("?") + 1));});return {ja:!0,$e:d.map(function(k,n){return {id:k.drmSessionId,uK:h[n].drmlicensecontextid,e_:h[n].licenseid};}),uk:d.map(function(k){return {data:f.AE.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Di)),r.__param(1,(0,l.l)(a.Zi))],m);b.dSa=m;},function(r,b,a){var l,g,m,d,f;function c(h){return m.Ms.call(this,h,g.aa.Tyb,d.hr.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tVa=void 0;r=a(0);l=a(1);g=a(4);m=a(168);d=a(88);a=a(51);la(c,m.Ms);f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.tVa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return m.Ms.call(this,h,g.aa.Uyb,d.hr.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AVa=void 0;r=a(0);l=a(1);g=a(4);m=a(168);d=a(88);a=a(51);la(c,m.Ms);f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.AVa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return m.Ms.call(this,h,g.aa.Sja,d.hr.TZ,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.rOa=void 0;r=a(0);l=a(1);g=a(4);m=a(168);d=a(88);a=a(51);la(c,m.Ms);f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.rOa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return m.Ms.call(this,h,g.aa.GUa,d.hr.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oVa=void 0;r=a(0);l=a(1);g=a(4);m=a(168);d=a(88);a=a(51);la(c,m.Ms);f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.oVa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return m.Ms.call(this,h,g.aa.Hub,d.hr.rP,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SLa=void 0;r=a(0);l=a(1);g=a(4);m=a(168);d=a(88);a=a(51);la(c,m.Ms);c.prototype.FE=function(h){return Object.assign(Object.assign({},m.Ms.prototype.FE.call(this,h)),{action:h.action});};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.SLa=f;},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v,t,w,u,x,y,z,B){this.Gi=q;this.Bf=v;this.Ri=t;this.pRb=w;this.TB=u;this.xlc=x;this.Rdc=z;this.mJ=B;}Object.defineProperty(b,"__esModule",{value:!0});b.URa=void 0;r=a(0);l=a(1);g=a(175);m=a(84);d=a(561);f=a(558);h=a(86);k=a(66);n=a(366);p=a(112);a=a(94);c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.o3)),r.__param(1,(0,l.l)(k.jx)),r.__param(2,(0,l.l)(m.gA)),r.__param(3,(0,l.l)(f.XRa)),r.__param(4,(0,l.l)(h.Wz)),r.__param(5,(0,l.l)(n.yWa)),r.__param(6,(0,l.l)(p.Q3)),r.__param(7,(0,l.l)(d.CSa)),r.__param(8,(0,l.l)(a.Qz))],c);b.URa=c;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.Qrb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ORa=void 0;r=a(0);l=a(1);g=a(4);m=a(67);d=a(72);a=a(51);la(c,d.Bi);c.prototype.Tf=function(h,k,n){var p;p=this;return this.send(h,{url:"/" + m.Kh.bind,name:m.Kh.bind,tl:m.Kh.bind},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Wn(q);});};c.prototype.wq=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.ORa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.Rrb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QRa=void 0;r=a(0);l=a(1);g=a(4);m=a(67);d=a(72);a=a(51);la(c,d.Bi);c.prototype.Tf=function(h,k,n){var p;p=this;return this.send(h,{url:"/bindDevice",name:m.Kh.bind,tl:m.Kh.bind},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Wn(q);});};c.prototype.wq=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.QRa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.Jxb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.mSa=void 0;r=a(0);l=a(1);g=a(4);m=a(67);d=a(72);a=a(51);la(c,d.Bi);c.prototype.Tf=function(h,k,n){var p;p=this;return this.send(h,{url:"/" + m.Kh.ping,name:m.Kh.ping,tl:m.Kh.ping},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Wn(q);});};c.prototype.wq=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.mSa=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iyb="PboPingCommandSymbol";},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.Wub,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ra=void 0;r=a(0);l=a(1);g=a(4);m=a(67);d=a(72);a=a(51);la(c,d.Bi);c.prototype.Tf=function(h,k){var n;n=this;return this.send(h,{url:"/generateScreenshots",name:m.Kh.ba,tl:"generateScreenshots"},k).then(function(p){return p.result;}).catch(function(p){throw n.Wn(p);});};c.prototype.wq=function(h,k,n){var p;p=this;k={url:k.QP("generateScreenshots").href,name:m.Kh.ba,tl:"generateScreenshots"};return this.send(h,k,n).then(function(q){return q.result;}).catch(function(q){throw p.Wn(q);});};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.tn))],f);b.$Ra=f;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B,A,C,D,E,G,F,L){this.Ri=y;this.platform=z;this.config=B;this.xKb=A;this.Y$b=C;this.Mq=D;this.dX=E;this.za=G;this.gda=F;this.cp=L;}Object.defineProperty(b,"__esModule",{value:!0});b.lSa=void 0;r=a(0);l=a(1);g=a(101);m=a(11);d=a(504);f=a(502);h=a(590);k=a(99);n=a(45);p=a(27);q=a(5);v=a(173);t=a(84);w=a(368);u=a(26);x=a(57);c.prototype.transform=function(y,z){var B,A,C,D,E,G,F,L;B=this;A=y.lb;C=Object.assign({},A.U8,A.po);D={};E=y.N;G=this.config();D[E]={unletterboxed:!!C.preferUnletterboxed || G.Jac};F=G.Hlc?30:25;G=G.Pu?this.Mq.rXb():Promise.resolve(this.gda.Yv());L={oe:null === A || void 0 === A?void 0:A.oe};return Promise.all([this.cp.I$a(L),this.cp.K$a(L),this.cp.YY(),this.cp.Paa(),this.OWb(y.sa,z),this.tXb(y),G]).then(function(O){var K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa,Aa,Oa;K=oa(O);I=K.next().value;M=K.next().value;H=K.next().value;J=K.next().value;N=K.next().value;O=K.next().value;P=K.next().value;K=I.Yaa().concat(M.Yaa()).concat(B.config().Tw).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;Oa="postplay" === A.oe?!0:!!C.isUIAutoPlay;H={type:"standard",manifestVersion:B.Ri.C6a?"v2":"v1",viewableId:E,profiles:K,flavor:y.ry,drmType:P,drmVersion:F,usePsshBox:!0,isBranching:!!y.lb.ji,useHttpsStreams:!0,supportsUnequalizedDownloadables:B.config().Nic,imageSubtitleHeight:d.$la.o$a(),uiVersion:B.Ri.xz,uiPlatform:B.Ri.eha,clientVersion:B.platform.version,platform:null === (W=B.config().Kd) || void 0 === W?void 0:W.version,osVersion:null === (S=null === (V=B.config().Kd) || void 0 === V?void 0:V.os) || void 0 === S?void 0:S.version,osName:null === (fa=null === (U=B.config().Kd) || void 0 === U?void 0:U.os) || void 0 === fa?void 0:fa.name,supportsPreReleasePin:B.config().Sr.Hic,supportsWatermark:B.config().Sr.Iic,packageId:B.RYb(A),deviceSecurityLevel:J,videoOutputInfo:H,titleSpecificData:D,preferAssistiveAudio:!!C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:Oa,challenge:N,isNonMember:B.Ri.dcb,pin:A.Qhb,desiredVmaf:B.config().Upb?B.config().p5a:B.config().q5a,desiredSegmentVmaf:B.config().Upb?B.config().p5a:B.config().q5a,requestSegmentVmaf:B.config().Xdc,supportsPartialHydration:B.Ri.pP,contentPlaygraph:y.lb.ji?[]:B.Ri.cJ,auxiliaryManifestToken:y.lb.ji?void 0:null === (qa=y.hj) || void 0 === qa?void 0:qa.ye,originalPlaybackContextId:!y.lb.ji && (null === (xa=y.hj) || void 0 === xa?0:xa.ye)?null === (Aa=y.hj) || void 0 === Aa?void 0:Aa.sBa:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};A.W6a && (H.extraParams=A.W6a);A.o5a && (H.desiredDownloadables=A.o5a);A.xDa && (H.requestReference=A.xDa);W={Xo:O?"licensedManifest":"manifest",CB:null === O || void 0 === O?void 0:O.mc,KW:I,R2:M};O && (O={drmSessionId:O.mc.KB() || "session",clientTime:B.za.yL.ia(q.Go),challengeBase64:O.Yqa},H.challenges={"default":[O]},H.profileGroups=[{name:"default",profiles:K}],H.licenseType=y.Pg == x.aj.Mp?"limited":"standard",y.sa && (H.xid=y.sa.toString()));B.Ri.pP || (H.showAllSubDubTracks=B.config().Sr.chc || !!C.showAllSubDubTracks,B.Ri.t6a && y.ry === g.Np.R5 && (H.maxSupportedLanguages=2));y.Wga && (H.originalPlaybackContextId=y.Wga.sBa,H.requiredAudioTrackId=y.Wga.aec,H.requiredTextTrackId=y.Wga.dec);return [H,W];});};c.prototype.RYb=function(y){if(this.config().Yea.enabled){if(void 0 !== y.Bp)return y.Bp;if(void 0 !== this.config().Yea.Bp)return Number(this.config().Yea.Bp);}};c.prototype.OWb=function(y,z){var B;B=this;return this.xKb.J8a(z).then(function(A){var C;C=y && B.Y$b.XYb(y);C && C.Kr("cad");return A;});};c.prototype.tXb=function(y){var z;if(void 0 === y.Pg || !this.config().Pu)return Promise.resolve(void 0);z=y.Pg === x.aj.nr && this.Ri.gy;return y.Pg === x.aj.Mp && this.Ri.ZE || z?this.dX.cwa(y.Pg):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(t.gA)),r.__param(1,(0,l.l)(n.Rp)),r.__param(2,(0,l.l)(m.wc)),r.__param(3,(0,l.l)(f.wJa)),r.__param(4,(0,l.l)(h.ola)),r.__param(5,(0,l.l)(k.$z)),r.__param(6,(0,l.l)(v.z3)),r.__param(7,(0,l.l)(p.Jh)),r.__param(8,(0,l.l)(w.uka)),r.__param(9,(0,l.l)(u.Pz))],a);b.lSa=a;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q){this.platform=k;this.config=n;this.dX=p;this.cp=q;}Object.defineProperty(b,"__esModule",{value:!0});b.DSa=void 0;r=a(0);l=a(1);g=a(11);m=a(45);d=a(173);f=a(26);h=a(57);c.prototype.transform=function(k){var n,p,q;n=this;p=k.lb;q={oe:void 0};return Promise.all([this.cp.I$a(q),this.cp.K$a(q),this.dX.cwa(h.aj.nr)]).then(function(v){var t,w;t=oa(v);v=t.next().value;w=t.next().value;t=t.next().value;return [{viewableId:k.N,packageId:p.Bp,assetId:p.Qpa,challenge:t.Yqa,audioProfiles:v.Yaa(),textProfiles:n.config().Tw,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w.Yaa(),audioLanguages:p.kIb,textLanguages:p.fjc,videoLanguages:p.pqb?[p.pqb]:void 0,requestReference:p.xDa,additionalAudioAssets:p.UGb,additionalTextAssets:p.YGb,useBetterTextUrls:!0},{CB:null === t || void 0 === t?void 0:t.mc,Xo:"studioManifest",KW:v,R2:w}];});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.Rp)),r.__param(1,(0,l.l)(g.wc)),r.__param(2,(0,l.l)(d.z3)),r.__param(3,(0,l.l)(f.Pz))],a);b.DSa=a;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.vHa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.JHa=void 0;r=a(0);l=a(1);g=a(4);m=a(67);d=a(72);f=a(51);a(139);la(c,d.Bi);c.prototype.Tf=function(h,k){var n,p,q;n=this;p=k.event;q=this.FE(k);!1;!1;return this.send(h,{url:k.href,name:m.Kh.events,tl:m.Kh.events + "/" + p},q).then(function(){return k;}).catch(function(v){throw n.Wn(v);});};c.prototype.wq=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.FE=function(h){return {xid:h.sa,event:h.event,adEventToken:h.Ux,adBreakLocationMs:h.AI,position:h.position,clientTime:h.kB,sessionStartTime:h.qo,appId:h.appId,sessionId:h.sessionId,playTimes:this.Aqa(h.Yy),mainManifestPlaybackContextId:h.i5b,thirdPartyAdVerificationMetadata:h.ijc};};c.prototype.Aqa=function(h){return {total:h.total,audio:h.audio.map(function(k){return {duration:k.duration,downloadableId:k.Tb,cdnId:k.Uo};}),video:h.video.map(function(k){return {duration:k.duration,downloadableId:k.Tb,cdnId:k.Uo};}),text:h.text.map(function(k){return {duration:k.duration,downloadableId:k.Tb,cdnId:k.Uo};})};};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.tn))],a);b.JHa=a;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.vHa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DHa=void 0;r=a(0);l=a(1);g=a(4);m=a(67);d=a(72);f=a(51);a(139);la(c,d.Bi);c.prototype.Tf=function(h,k){var n,p,q;n=this;p=k.event;q=this.FE(k);!1;!1;return this.send(h,{url:k.href,name:m.Kh.events,tl:m.Kh.events + "/" + p},q).then(function(){return k;}).catch(function(v){throw n.Wn(v);});};c.prototype.wq=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.FE=function(h){return {xid:h.sa,event:h.event,adEventToken:h.Ux,adBreakLocationMs:h.AI,position:h.position,clientTime:h.kB,sessionStartTime:h.qo,appId:h.appId,sessionId:h.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.tn))],a);b.DHa=a;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(1);c=a(289);l=a(559);g=a(1418);m=a(1419);d=a(1420);f=a(39);b.transports=new r.Gd(function(h){h(c.e6).to(d.jWa).la();h(l.HQa).to(g.GQa);h(l.rVa).to(m.qVa);h(l.kWa).df(function(k){return function(n){var p;return k.zb.get(c.e6).jga(null !== (p=null === n || void 0 === n?void 0:n.n7b) && void 0 !== p?p:f.nx.EU)?k.zb.get(l.HQa):k.zb.get(l.rVa);};});});},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){var q;q=this;this.bG=n;this.profile=p;this.log=k.fb("MslTransport");this.bG().then(function(v){return q.Cda=v;});}Object.defineProperty(b,"__esModule",{value:!0});b.GQa=void 0;r=a(0);l=a(1);g=a(7);m=a(164);d=a(5);a=a(80);f={license:!0};c.prototype.send=function(k,n){var p,q;p=this;q={uAa:Object.assign({Bf:k.Bf,log:k.log,profile:this.profile},k.XIb),method:k.Xo,url:k.url.href,body:JSON.stringify(n),timeout:k.timeout.ia(d.va),cqb:this.profile,Fdc:!f[k.Xo],hgb:!!f[k.Xo],Mm:!0,Bfa:k.MDa,headers:k.headers};!1;return this.bG().then(function(v){return v.send(q).catch(function(t){var w;if(!t.error)throw (t.xc=t.Ca || t.xc,t);w=t.error;w.AG=t.AG;p.log.error("Error sending MSL request",{mslCode:w.rC,subCode:w.xc,data:w.data,message:w.message});throw w;});});};c.prototype.Sra=function(){var k;return {userTokens:null === (k=this.Cda) || void 0 === k?void 0:k.P_.getUserIdTokenKeys()};};h=c;h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.tU)),r.__param(2,(0,l.l)(a.UM))],h);b.GQa=h;},function(r,b,a){var l,g,m,d;function c(f,h){this.Bf=h;this.log=f.fb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.qVa=void 0;r=a(0);l=a(1);g=a(5);m=a(7);a=a(66);c.prototype.send=function(f,h){var k,n;k=this;n={url:f.url.href,UE:"nq-" + f.Xo,rib:JSON.stringify(h),A9:f.timeout.ia(g.va),headers:f.headers,withCredentials:!0,Au:"pbo"};!1;return new Promise(function(p,q){k.Bf.download(n,function(v){v.ja?p(v):q(v);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.xc=p.Ca || p.xc,p);q=p.error;q.AG=p.AG;k.log.error("Error sending SSL request",{subCode:q.xc,data:q.content,message:q.message});throw q;});};c.prototype.Sra=function(){return {};};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(a.jx))],d);b.qVa=d;},function(r,b,a){var l,g,m,d,f;function c(h){return g.If.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jWa=void 0;r=a(0);l=a(1);g=a(47);m=a(33);d=a(46);f=a(39);la(c,g.If);c.prototype.jga=function(h){var k,n;k=this.US;n=this.p0a;switch(h){case f.nx.EU:return k;case f.nx.OTa:return k && !n;case f.nx.cxb:return !1;}};Va.Object.defineProperties(c.prototype,{US:{configurable:!0,enumerable:!0,get:function(){return !0;}},p0a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.Dd,"usesMsl")],a.prototype,"US",null);r.__decorate([d.config(d.Dd,"allowRequestsWithoutMsl")],a.prototype,"p0a",null);a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.vn))],a);b.jWa=a;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Sm=void 0;r=a(1);c=a(575);l=a(1422);b.Sm=new r.Gd(function(g){g(c.JOa).to(l.IOa);});},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t,w){this.sJ=p;this.Ij=q;this.config=v;this.OQ=t;this.Fd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.IOa=void 0;r=a(0);l=a(1);g=a(128);m=a(1423);d=a(1424);f=a(63);h=a(11);k=a(145);a=a(120);c.prototype.create=function(p,q,v){return p?new m.KOa(this.config(),this.Ij,this.Fd,q,v,this.sJ,this.OQ()):new d.COa(this.config,this.Ij,this.Fd,q,v);};n=c;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.U3)),r.__param(1,(0,l.l)(f.Qs)),r.__param(2,(0,l.l)(h.wc)),r.__param(3,(0,l.l)(k.nU)),r.__param(4,(0,l.l)(a.OH))],n);b.IOa=n;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x,y,z){u=k.vT.call(this,u,x) || this;u.config=v;u.Ij=t;u.Fd=w;u.sJ=y;u.hda=z;u.log=(0,g.lj)(u.j,"LicenseBroker");u.c_=new Set();u.Zza=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.KOa=void 0;r=a(0);l=a(4);g=a(9);m=a(349);d=a(5);f=a(1);h=a(593);k=a(594);n=a(57);p=a(16);q=a(43);la(c,k.vT);c.prototype.gea=function(){var v,t;v=this;t=this.j.ha;this.c_.has(t.K) || (this.c_.add(t.K),this.zHb(t).catch(function(){return v.mkb(t);}).then(function(){return v.I0a(t);}).catch(function(w){return v.H0a(t,w);}).catch(function(w){return v.Td(w.code,w,w.vd);}));};c.prototype.zHb=function(v){var t;t=this;return Promise.all([this.Fd.E8a(v.K),this.sJ()]).then(function(w){var u,x;w=oa(w);u=w.next().value;x=w.next().value;return u.$fa.then(function(y){var z;z=t.hda.mediaKeys;if(z && z !== y.mediaKeys)return (t.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === u.source && (z=t.G9a(v),x.Bfb(z,y));return y;}).then(function(y){return t.B8(y,v,u.source);});}).catch(function(w){t.log.warn("eme not in cache",w);throw w;});};c.prototype.B8=function(v,t,w){this.Kib(v,t);t.QI=w;this.hda.T_a(v.mediaKeys);return v.Jpa();};c.prototype.yVb=function(v){var t;t={};v.forEach(function(w){t[(0,m.W5a)(w.H_)]=w.time.ia(d.va);});return t;};c.prototype.Kib=function(v,t){var w;w=this;t.Ye=v;v.Yfc(function(u){w.Td(u.code,u,u.vd);});};c.prototype.I0a=function(v){this.log.info("Successfully applied license for xid: " + v.sa + ", viewable: " + v.K + ", segment: " + v.S);this.UB(v);this.Zza?this.W$(v.K):this.setMediaKeys(v);};c.prototype.H0a=function(v,t){this.UB(v);throw t;};c.prototype.UB=function(v){v.Ye && v.UB(this.yVb(v.Ye.yd));};c.prototype.G9a=function(v){var t,w;t=v.Cz[0];w=t.streams[0].mf;w=(0,q.Kxa)(w);t=(0,q.zva)(t.streams);return {type:this.Haa(!1),initData:v.Hw.map(function(u){return (0,g.st)(u);}),Wba:w,context:{ea:this.Wb.ea,tca:t},Tj:{K:v.K,sa:v.sa,fh:v.fh,Lm:v.Lm,Mj:v.ba.Mj,ih:v.ba.Ra.ih}};};c.prototype.mkb=function(v){var t;t=this;return this.sJ().then(function(w){var u;u=t.G9a(v);t.c_.add(v.K);return w.ki(u,t.hda).then(function(x){t.Kib(x,v);t.j.fireEvent(p.ka.f_,{K:v.K});return x.Jpa();});});};c.prototype.setMediaKeys=function(v){var t;t=this;if(this.Zza)this.log.trace("Media Keys already set");else try{this.Wb.ea?(this.Zza=!0,this.Wb.ea.setMediaKeys(v.Ye.mediaKeys).then(function(){t.W$(v.K);}).catch(function(w){w=t.R$a(w);t.Td(l.aa.OM,w,w.Sf);})):this.W$(v.K);}catch(w){this.Td(l.aa.OM,w,void 0);}};c.prototype.LC=function(){var v,t;v=this;t=this.j.ha.Ye;return t?this.sJ().then(function(w){return w.release(t,v.hda).then(function(u){v.log.trace("Successfully released the license");return u.close();}).catch(function(u){v.log.error("Unable to release the license",u);});}):Promise.resolve();};c.prototype.lkb=function(v){var t;t=this;v=void 0 === v?this.j:v;return this.mkb(v).then(function(){return t.I0a(v);}).catch(function(w){return t.H0a(v,w);});};c.prototype.Haa=function(v){return this.Ij.wY?n.aj.Mp:v?n.aj.Mp:n.aj.nr;};Va.Object.defineProperties(c.prototype,{cG:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},bo:{configurable:!0,enumerable:!0,get:function(){return this.config.bo;}}});a=c;r.__decorate([h.Aca],a.prototype,"cG",null);a=r.__decorate([(0,f.$)()],a);b.KOa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t;function c(w,u,x,y,z){y=p.vT.call(this,y,z) || this;y.config=w;y.Ij=u;y.Fd=x;y.log=(0,g.lj)(y.j,"LegacyLicenseBroker");y.bo=y.config().bo;y.config().Uib?(0,d.mcb)()?y.rha=!0:y.log.error("Promise based eme requested but platform does not support it",{browserua:f.AH}):y.rha=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.COa=void 0;r=a(0);l=a(4);g=a(9);m=a(163);d=a(44);f=a(14);h=a(1);k=a(593);n=a(45);p=a(594);q=a(57);v=a(5);la(c,p.vT);c.prototype.X3a=function(w){var u;u=void 0 === u?this.j:u;return new this.pu.vM(w,function(x){return u.B9.PJ(x);},function(x){return u.B9.release(x);},{fg:!1,$l:!1});};c.prototype.OE=function(w){var u,x,y,z,B,A;u=this;w=void 0 === w?this.j:w;x=a(62).Wo;this.pu.vM || this.Td(l.aa.DM,l.Y.wub);y=(0,g.lj)(w,"Eme");z=this.X3a(y);B=g.Ha.get(m.KU);A=B.F9(w.Gc.value.streams);B=B.L9(w.Uh.value.streams);return this.pu.xM(y,function(C){return w.af(C);},{fg:!1,$l:!1,za:{getTime:x},en:z,Q0:!!this.rha,ea:this.Wb.ea,iD:this.config().n6a,onerror:function(C,D,E){return u.Td(C,D,E);},LAa:function(){},ZK:!0,jIb:A,imc:B,Rya:this.Ij.x8.ia(v.va)});};c.prototype.setMediaKeys=function(w){var u;u=this;return this.rha?new Promise(function(x,y){if(u.Wb.ea)u.Wb.ea.setMediaKeys(w).then(function(){x();}).catch(function(z){var B;B=u.R$a(z);y({ja:!1,code:l.aa.OM,xc:B.Ca,vd:B.Sf,Ub:B.Ub,message:"Set media keys is a failure",cause:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.Q6a=function(w){return {code:w.code,subCode:w.xc,extCode:w.vd,edgeCode:w.gp,message:w.message,errorDetails:w.Ub,errorData:w.dF,state:w.state};};c.prototype.IEa=function(w,u,x){var z,B,A;function y(){B.jL().catch(function(C){z.log.error("Unable to set the license",z.Q6a(C));C.cause && C.cause.Ub && (C.Ub=C.Ub?C.Ub + C.cause.Ub:C.cause.Ub);z.Td(C.code,C,C.vd);});}z=this;x=void 0 === x?this.j:x;B=x.Ye;this.log.info("Setting the license");A=u?function(){return Promise.resolve();}:function(){return B.ki(z.Haa(!1),w);};return (u?function(){return B.B8(z.Wb.ea);}:function(){return B.create(z.bo).then(function(){return Promise.resolve();});})().then(A).then(function(){return z.setMediaKeys(B.mediaKeys);}).then(function(){z.log.info("license set");z.W$(x.K);z.Wb.Hqb.then(function(){z.config().QF && (u || z.config().wY) && (z.gkb=mb.setTimeout(y,z.config().QF));});}).catch(function(C){z.log.error("Unable to set the license",z.Q6a(C));C.cause && C.cause.Ub && (C.Ub=C.Ub?C.Ub + C.cause.Ub:C.cause.Ub);if(u)throw Error(C && C.message?C.message:"failed to set license");z.Td(C.code,C,C.vd);});};c.prototype.LC=function(){return Promise.resolve();};c.prototype.gea=function(){var u;function w(){var x;u.j.Ye=u.OE();x=[];u.j.Hw.forEach(function(y){x.push((0,g.st)(y));});u.IEa(x);}u=this;this.c_ || (this.c_=!0,this.pu.xM?this.j.Hw?this.config().aY && this.config().qu?this.Fd.E8a(this.j.K).then(function(x){u.j.Ye=x;return x.lHa.then(function(){var y;y=[];u.j.Hw.forEach(function(z){y.push((0,g.st)(z));});return u.IEa(y,!0).then(function(){var z;if(x.Etc)u.Td(l.aa.Aub);else {z=(0,g.lj)(u.j,"Eme");x.Bpb({log:z,yp:function(B){return u.j.af(B);}},{en:u.X3a(z),onerror:function(B,A,C){return u.Td(B,A,C);}});u.j.UB(x.yd || ({}));u.j.QI="videopreparer";}});});}).catch(function(x){u.log.warn("eme not in cache",x);w();}):w():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Td(l.aa.Vxb)):this.Td(l.aa.DM,l.Y.xub));};c.prototype.lkb=function(w){var u;w=void 0 === w?this.j:w;w.Ye=this.OE();u=[];w.Hw.forEach(function(x){u.push((0,g.st)(x));});return this.IEa(u,!1,w);};c.prototype.Haa=function(w){return this.config().wY?q.aj.Mp:w?q.aj.Mp:q.aj.nr;};Va.Object.defineProperties(c.prototype,{pu:{configurable:!0,enumerable:!0,get:function(){return g.Ha.get(n.y5);}},cG:{configurable:!0,enumerable:!0,get:function(){return this.rha?"encrypted":this.Wb.JLa + "needkey";}}});t=c;r.__decorate([k.Aca],t.prototype,"pu",null);r.__decorate([k.Aca],t.prototype,"cG",null);t=r.__decorate([(0,h.$)()],t);b.COa=t;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u;Object.defineProperty(b,"__esModule",{value:!0});b.Qh=void 0;r=a(1);c=a(312);l=a(1426);g=a(313);m=a(1431);d=a(121);f=a(1433);h=a(1434);k=a(166);n=a(595);p=a(1435);q=a(596);v=a(1437);t=a(86);w=a(597);u=a(1438);b.Qh=new r.Gd(function(x){x(c.vla).to(l.zTa).la();x(g.xla).to(m.LTa).la();x(d.SM).to(f.xTa).la();x(k.FH).to(h.vTa).la();x(n.FTa).to(p.ETa).la();x(q.JTa).df(function(y){var z;z=y.zb;return function(B){return new v.KTa(B,z.get(t.Wz),z.get(k.FH));};});x(w.GOa).df(function(y){var z;z=y.zb;return function(B,A,C){return new u.HOa(B,A,C,z.get(k.FH),z.get(d.SM));};});});},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v,t,w,u,x,y){this.vg=q;this.Jta=v;this.Uj=t;this.oGa=w;this.oac=u;this.qac=x;this.pac=y;}Object.defineProperty(b,"__esModule",{value:!0});b.zTa=void 0;r=a(0);l=a(1);g=a(1427);m=a(7);d=a(166);f=a(369);h=a(595);k=a(376);n=a(596);a=a(313);c.prototype.create=function(q){return new g.ATa(q,this.vg,this.Jta,this.Uj,this.oGa,this.oac,this.qac,this.pac);};p=c;p=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(f.OT)),r.__param(2,(0,l.l)(d.FH)),r.__param(3,(0,l.l)(k.iWa)),r.__param(4,(0,l.l)(h.FTa)),r.__param(5,(0,l.l)(n.JTa)),r.__param(6,(0,l.l)(a.xla))],p);b.zTa=p;},function(r,b,a){var l,g,m;function c(d,f,h,k,n,p,q,v){this.oGa=n;this.hHa=v;this.tY=!1;k.qha && (d=new m.BTa().Xjc(d));this.xb=q(d);this.Hl=new g.MTa(this.xb);this.Hl.Jlb(this.xb.ha.N);this.log=f.fb("PlaygraphManager");this.Pb=h.create();this.Aw=p.create(this.xb,this.Hl,this.log,this.Pb);this.Fgc();}Object.defineProperty(b,"__esModule",{value:!0});b.ATa=void 0;l=a(16);g=a(1428);m=a(1430);c.prototype.$Yb=function(){return this.xb.Jea;};c.prototype.dva=function(){return this.xb.ha;};c.prototype.S8a=function(){return this.xb.ei;};c.prototype.UJ=function(){return this.xb.jm;};c.prototype.Bl=function(d){for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}this.xb.Bl.apply(this.xb,ia(f));};c.prototype.wLb=function(d){for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}this.xb.V0a(f);};c.prototype.Xw=function(d){this.xb.jm=d;};c.prototype.Gk=function(d,f){this.xb.Gk(d,f);};c.prototype.xwa=function(d,f,h,k){var n,p;h=void 0 === h?{}:h;k=void 0 === k?!0:k;if(d !== this.xb.ei)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.UJ().U[d].next) && void 0 !== n?n:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + f);this.rmb();null === (p=h.po) || void 0 === p?void 0:p.isUIAutoPlay;return this.Aw.ywa(f,h,k);};c.prototype.isReady=function(){return this.Aw.isReady();};c.prototype.addListener=function(d,f,h){this.Pb.addListener(d,f,h);};c.prototype.removeListener=function(d,f){this.Pb.removeListener(d,f);};c.prototype.mp=function(){return this.Aw.mp();};c.prototype.Kb=function(){return this.Aw.SJ();};c.prototype.bPb=function(d,f,h){var k;d=void 0 === d?this.UJ().me:d;f=void 0 === f?{}:f;k=this.hHa.n4a(this);this.Vac(null !== d && void 0 !== d?d:this.UJ().me,f,h);return k;};c.prototype.SGb=function(d){var f;this.log.info("Adding segment - movieId: " + d.K + ", startPts: " + d.ca + ", logicalEnd: " + d.yk);f=Object.assign({},d.Gb,d.ca?{ca:d.ca}:{},d.yk?{yk:d.yk}:{});this.mnb(d.K,f,d.ba);d=this.Aw.d0a(d);this.rmb();return d;};c.prototype.transition=function(d){var f;f=this.xb.UY(this.xb.ei);return f?this.xwa(this.xb.ei,f,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Aw.close(d);};c.prototype.Vac=function(d,f,h){var k;void 0 === d && (d=null === (k=this.UJ()) || void 0 === k?void 0:k.me);(f || h) && this.mnb(this.UJ().U[d].N,null !== f && void 0 !== f?f:{},h);this.Aw.fL(d);};c.prototype.mnb=function(d,f,h){h && this.Hl.wW(d,h);this.Hl.EGb(d,f);};c.prototype.Fgc=function(){var d;d=this;this.xb.uic(function(){d.Hl.Uy();d.Aw.Uy();});this.xb.vic(function(f){d.Aw.jBa(f);});this.xb.tic(function(f){d.Aw.OK(f);});this.addListener(l.GH.w1,function(){return d.m9b();});this.addListener(l.Qa.Ebb,function(f){return d.c9b(f);});};c.prototype.rmb=function(){var d;d=this;this.tY || (this.Kb().opa(l.ka.vL,function(f){return d.Vy(f);}),this.tY=!0);};c.prototype.c9b=function(d){var f;f=this;this.Aw.Vob(d).catch(function(){return f.Pb.Zc(l.Qa.error,d.v2());});};c.prototype.m9b=function(){var d;d=this.Kb().getError();d?this.Pb.Zc(l.Qa.FO,d):(this.Pb.Zc(l.Qa.S8),this.Pb.Zc(l.Qa.Jn),this.Pb.Zc(l.Qa.Uw),this.Pb.Zc(l.Qa.jn),this.Pb.Zc(l.Qa.x2),this.Pb.Zc(l.Qa.FO));};c.prototype.Vy=function(d){var f,h,k;!1;f=d.metrics;if(f){h=this.Kb();k=h.Jj(d.position.segmentId);f=h.Jj(f.srcsegment);this.oGa.Mbc(d,k,f,!!h.i$a().ji);}};b.ATa=c;},function(r,b,a){var l;function c(g){this.na=g;this.aT={};this.Uy();}Object.defineProperty(b,"__esModule",{value:!0});b.MTa=void 0;l=a(1429);c.prototype.Uy=function(){var g;g=this;Object.values(this.na.jm.U).forEach(function(m){m=m.N;g.aT[m] || g.ubb(m);});this.hha();};c.prototype.bQ=function(g){return this.aT[g];};c.prototype.$fc=function(g){this.XY(g).state=l.nA.mMa;this.hha();};c.prototype.Zfc=function(g,m){g=this.XY(g);g.state=l.nA.Error;g.error=m;g.Fkb(!1);this.hha();};c.prototype.Jlb=function(g){g=this.XY(g);g.state=l.nA.lub;g.Fkb(!0);this.hha();};c.prototype.EGb=function(g,m){this.XY(g).Gb=m;};c.prototype.wW=function(g,m){this.XY(g).ba=m;};c.prototype.XY=function(g){var m;return null !== (m=this.bQ(g)) && void 0 !== m?m:this.ubb(g);};c.prototype.ubb=function(g){var m,d;m=void 0;d=new Promise(function(f,h){m=function(k){(k?f:h)();};});return this.aT[g]={state:l.nA.WQa,scc:d,Fkb:m};};c.prototype.hha=function(){var m;for(var g=this.na.ei;g=this.na.UY(g);){m=this.pp(g);if(this.aT[m].state === l.nA.Error)break;if(this.aT[m].state === l.nA.mMa)break;if(this.aT[m].state === l.nA.WQa)break;}};c.prototype.pp=function(g){return this.na.jm.U[g].N;};b.MTa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nA=void 0;r=b.nA || (b.nA={});r[r.WQa=0]="None";r[r.mMa=1]="Fetching";r[r.lub=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.BTa=void 0;l=a(38);c.prototype.Xjc=function(g){var m;if(!this.Z2b(g.U))return g;m=new l.qx().BL(g.me);Object.entries(g.U).forEach(function(d){var f;f=oa(d);d=f.next().value;f=f.next().value;d === g.me?m.Jg(d,Object.assign(Object.assign({},f),{next:void 0,Aa:void 0,bc:void 0})):m.Jg(d,f);});return m.ij();};c.prototype.Z2b=function(g){g=Object.values(g).map(function(m){return m.N;});return 1 === new Set(g).size;};b.BTa=c;},function(r,b,a){var l,g,m,d;function c(f,h){this.Ia=f;this.Y3b=h;}Object.defineProperty(b,"__esModule",{value:!0});b.LTa=void 0;r=a(0);l=a(1);g=a(18);m=a(597);c.prototype.create=function(f){return new (a(314).j6)(this.Ia.Rb(),f);};c.prototype.n4a=function(f){return new (a(1432).KWa)(this.Ia.Rb(),f,this.Y3b);};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(m.GOa))],d);b.LTa=d;},function(r,b,a){var l;function c(g,m,d){var f;f=l.j6.call(this,g,m) || this;f.seek=function(h){return f.Kb().seek(h);};f.addEpisode=function(h){return f.Qya.mGb(h);};f.playNextEpisode=function(h){h=void 0 === h?{}:h;return f.Qya.V$b(h);};f.watchCredits=function(h){return f.Qya.Bmc(h);};f.playSegment=function(h){return f.Kb().Yhb(h);};f.queueSegment=function(h){return f.Kb().gjb(h);};f.updateNextSegmentWeights=function(h,k){return f.Kb().Gk(h,k);};f.setNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}k=k.map(function(p){return {S:p.segmentId,bR:p.nextSegmentId};});f.Qh.Bl.apply(f.Qh,ia(k));};f.clearNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}return f.Qh.wLb.apply(f.Qh,ia(k));};f.goToNextSegment=function(h,k){return f.Qh.xwa(h,k);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return !!f.Kb().cZ().visibility;};f.setTimedTextVisibility=function(h){return f.setTimedTextVisible(h);};f.setTimedTextSize=function(h){return f.Kb().kS({size:h});};f.setTimedTextBounds=function(h){return f.Kb().kS({bounds:h});};f.setTimedTextMargins=function(h){return f.Kb().kS({margins:h});};f.setTimedTextVisible=function(h){return f.Kb().kS({visibility:h});};f.getCongestionInfo=function(h){h && h({success:!1,name:null,isCongested:null});};f.Qya=d(g,m,f.log);return f;}Object.defineProperty(b,"__esModule",{value:!0});b.KWa=void 0;l=a(314);la(c,l.j6);b.KWa=c;},function(r,b,a){var l,g,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xTa=void 0;r=a(0);l=a(121);g=a(1);m=a(38);c.prototype.ZOb=function(d){var k,n,p;for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}k=this;if(0 === f.length)throw Error("Empty playgraph");n=new m.qx().BL(this.Mt(f[0]));f.reverse().forEach(function(q){var v;v=k.Mt(q);n.Jg(v,Object.assign({N:q,Ba:0,Aa:Infinity},p?{bc:p}:{}));p=v;});return n.ij();};c.prototype.Mt=function(d,f){f=void 0 === f?l.HH.jka:f;return d + ":" + f;};c.prototype.xHb=function(d,f){var h,k,n,p;if(void 0 === n)n=null !== (h=f.id) && void 0 !== h?h:this.Mt(f.K);h=this.C9a(d);p=new m.qx(d);p.Jg(n,{N:f.K,Ba:null !== (k=f.ca) && void 0 !== k?k:0,Aa:Infinity});d=d.U[h];f={};p.Jg(h,Object.assign({},d,{bc:n,next:Object.assign({},d.next || ({}),(f[n]={},f))}));return p.ij();};c.prototype.C9a=function(d){for(var f=d.me,h=f;h=d.U[h].bc;){f=h;}return f;};a=c;a=r.__decorate([(0,g.$)()],a);b.xTa=a;},function(r,b,a){var l,g,m,d,f;function c(h){return g.If.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vTa=void 0;r=a(0);l=a(1);g=a(47);m=a(33);d=a(46);f=a(5);la(c,g.If);Va.Object.defineProperties(c.prototype,{abc:{configurable:!0,enumerable:!0,get:function(){return 2;}},$ac:{configurable:!0,enumerable:!0,get:function(){return (0,f.zda)(3);}},aHa:{configurable:!0,enumerable:!0,get:function(){return !1;}},qha:{configurable:!0,enumerable:!0,get:function(){return !1;}},$pb:{configurable:!0,enumerable:!0,get:function(){return !1;}},P7a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Mea:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.eD,"prepareSegmentsUpfront")],a.prototype,"abc",null);r.__decorate([d.config(d.cm,"prepareSegmentsDuration")],a.prototype,"$ac",null);r.__decorate([d.config(d.Dd,"usePlaygraphForPostPlay")],a.prototype,"aHa",null);r.__decorate([d.config(d.Dd,"usePlaygraphForSkipSegment")],a.prototype,"qha",null);r.__decorate([d.config(d.Dd,"useSinglePlayerPlayback")],a.prototype,"$pb",null);r.__decorate([d.config(d.Dd,"forcePlaygraphTrace")],a.prototype,"P7a",null);r.__decorate([d.config(d.Dd,"postPlayDefaultNextEpisode")],a.prototype,"Mea",null);a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.vn))],a);b.vTa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x,y,z){this.Ia=v;this.lfc=w;this.Uj=x;this.io=z;this.jfc=t.KJ(!1,"6.0039.463.911",v.id,y,u);}Object.defineProperty(b,"__esModule",{value:!0});b.ETa=void 0;r=a(0);l=a(1);g=a(18);m=a(166);d=a(1436);f=a(373);h=a(239);k=a(11);n=a(598);p=a(37);a=a(121);c.prototype.create=function(v,t,w,u){var x,y;x=this.lfc.OOb(v,this.jfc,t);y=v.bHa;w.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.mVa(this.Uj,v,t,w,x,u,this.io):new n.zH(v,t,x,u,this.io);};q=c;q=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(f.XUa)),r.__param(2,(0,l.l)(h.Pla)),r.__param(3,(0,l.l)(k.wc)),r.__param(4,(0,l.l)(m.FH)),r.__param(5,(0,l.l)(p.x5)),r.__param(6,(0,l.l)(a.SM))],q);b.ETa=q;},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p,q,v,t){var w;w=d.zH.call(this,k,n,q,v,t) || this;w.Uj=h;w.qa=p;w.tY=!1;w.xta=new Map();w.f9b=function(){w.SJ().opa(g.ka.vL,function(u){w.Pb.Zc(g.GH.w1);w.xb.ei=u.position.segmentId;});};w.w1b();v.addListener(g.Qa.loaded,w.f9b);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.mVa=void 0;l=a(38);g=a(16);m=a(4);d=a(598);f=a(121);la(c,d.zH);c.prototype.d0a=function(h){var k,n,p,q,v,t,w,u,x,y,z;k=this;p=this.xb.jm;q=this.io.Mt(h.K,"ident");v=this.io.Mt(h.K,"main");t=this.io.Mt(h.K,"credits");w=isFinite(h.yk);u=isFinite(h.ca) && h.K !== p.U[p.me].N;x={};y=new l.qx(p).Jg(v,Object.assign({N:h.K,Ba:u && h.ca || 0,Aa:null !== (n=h.yk) && void 0 !== n?n:Infinity},w?{next:(x[t]={},x),bc:t}:{}));u && (n={},y.Jg(q,{N:h.K,Ba:0,Aa:h.ca,next:(n[v]={},n),bc:v}));w && y.Jg(t,{N:h.K,Ba:h.yk,Aa:Infinity});if(!this.xb.nz(v)){h=p.U[this.io.C9a(p)].N;z=this.io.Mt(h,f.HH.IJa);[this.io.Mt(h,f.HH.jka),z].filter(function(B){return k.xb.nz(B);}).forEach(function(B){var A,C,D;A=k.xb.Ce(B);C=B === z || k.Uj.Mea;D={};y.Jg(B,Object.assign({},A,{next:Object.assign({},A.next,(D[v]={},D))},C?{bc:v}:{}));});}this.xb.jm=y.ij();return this.fL(v);};c.prototype.Uy=function(){this.isReady() && this.SJ().Uy();};c.prototype.jBa=function(){};c.prototype.OK=function(h){this.SJ().OK(h);};c.prototype.ywa=function(h,k,n){k=void 0 === k?{}:k;this.qa.debug("goToSegment " + h);return this.SJ().iZ(h,k,n);};c.prototype.fL=function(h){if(h === this.ifc)return null;this.ifc=h;return this.tY?this.Hl.bQ(this.xb.Ce(h).N).scc:(this.tY=!0,d.zH.prototype.fL.call(this,h));};c.prototype.Vob=function(h){return h.errorCode && this.xta.has(h.errorCode)?this.xta.get(h.errorCode)(h):Promise.reject(Error("Error " + h.errorCode + " isn't recoverable"));};c.prototype.w1b=function(){var h;h=this;this.xta.set(m.aa.DRa,function(){var k,n;return null !== (n=null === (k=d.zH.prototype.fL.call(h,h.xb.ei)) || void 0 === k?void 0:k.then(function(){var p,q;d.zH.prototype.ywa.call(h,h.xb.ei,null !== (q=null === (p=h.Hl.bQ(h.xb.ha.N)) || void 0 === p?void 0:p.Gb) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.mVa=c;},function(r,b,a){var l,g;function c(m,d,f){this.TB=d;this.Uj=f;this.n7={};this.spb=[];this.Hmb=[];this.Zfb=[];this.Opa=new WeakMap();this.reset(m);}Object.defineProperty(b,"__esModule",{value:!0});b.KTa=void 0;l=a(38);g=a(38);c.prototype.reset=function(m){var d;d=1 < Object.keys(m.U).length && 1 === new Set(Object.values(m.U).map(function(f){return f.N;})).size;this.wFb=this.Uj.$pb || d;this.amb(m);this.ei=m.me;this.QDb=this.TB.uB();this.nFa=new Map();};c.prototype.Qaa=function(m){if(this.bHa)return this.jm;this.Opa.has(m) || this.Opa.set(m,(0,l.pga)(m.K,m.S));return this.Opa.get(m);};c.prototype.amb=function(m){this.RDb=m;this.n7={};m=Object.keys(m.U);this.V0a(m);this.a8b();};c.prototype.Bl=function(m){var h;for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}h=this;d.filter(function(k){return h.nz(k.S);}).filter(function(k){k=k.bR;return !k || h.nz(k);}).forEach(function(k){var n;n=k.S;h.n7[n]=h.xgb(k.bR);h.S7b(n);});};c.prototype.V0a=function(m){var d;d=this;m.filter(function(f){return d.nz(f);}).forEach(function(f){d.n7[f]=d.xgb(d.Ce(f).bc);});};c.prototype.Gk=function(m,d){var f,h,k;f=this.Ce(m);if(f && f.next){h=new g.qx(this.jm);k=Object.keys(f.next).reduce(function(n,p){n[p]=void 0 === d[p]?f.next[p]:Object.assign({},f.next[p],{weight:d[p]});return n;},{});k=Object.assign({},f,{next:k});h.Jg(m,k);this.jm=h.ij();}};c.prototype.nz=function(m,d){d=void 0 === d?this.jm.U:d;return (m in d);};c.prototype.UY=function(m){return this.n7[m];};c.prototype.Ce=function(m){return this.jm.U[m];};c.prototype.GZb=function(m){if(this.nFa.has(m))return this.nFa.get(m);m=this.Ce(m);return isFinite(m.Aa)?m.Aa:void 0;};c.prototype.glc=function(m,d){this.nFa.set(m,d);this.X7b(m);};c.prototype.uic=function(m){this.spb.push(m);};c.prototype.vic=function(m){this.Hmb.push(m);};c.prototype.tic=function(m){this.Zfb.push(m);};c.prototype.a8b=function(){var m;m=this;this.spb.forEach(function(d){return d(m.jm);});};c.prototype.S7b=function(m){this.Zfb.forEach(function(d){return d(m);});};c.prototype.X7b=function(m){this.Hmb.forEach(function(d){return d(m);});};c.prototype.xgb=function(m){return null === m?void 0:m;};Va.Object.defineProperties(c.prototype,{Jea:{configurable:!0,enumerable:!0,get:function(){return this.QDb;}},bHa:{configurable:!0,enumerable:!0,get:function(){return this.wFb;}},jm:{configurable:!0,enumerable:!0,get:function(){return this.RDb;},set:function(m){if(this.ei && !this.nz(this.ei,m.U))throw Error("Provided playgraphMap does not contain the current segmentId " + this.ei);this.amb(m);}},ei:{configurable:!0,enumerable:!0,get:function(){return this.LAb;},set:function(m){if(!this.nz(m))throw Error("Provided currentSegmentId " + m + " does not exist in the current playgraph");this.LAb=m;}},ha:{configurable:!0,enumerable:!0,get:function(){return this.Ce(this.ei);}}});b.KTa=c;},function(r,b,a){var l,g;function c(m,d,f,h,k){this.oj=m;this.Qh=d;this.log=f;this.Uj=h;this.io=k;this.Cea=new l.pla();}Object.defineProperty(b,"__esModule",{value:!0});b.HOa=void 0;l=a(599);g=a(121);c.prototype.mGb=function(m){var d,f,h,k,n,p,q;this.log.info("Next episode added",m);p=this.Cea.Dza(m.playbackParams);q=Math.max(0,null !== (h=null !== (f=null !== (d=m.startPts) && void 0 !== d?d:m.nextStartPts) && void 0 !== f?f:p.ca) && void 0 !== h?h:0);d=null !== (n=null !== (k=m.endPts) && void 0 !== k?k:m.currentEndPts) && void 0 !== n?n:p.yk;return this.Qh.SGb({K:m.movieId,ca:q,yk:d,Gb:p,ba:m.manifest,oj:this.oj});};c.prototype.V$b=function(m){var d,f,h,k,n,p;m=this.Cea.Dza(m);this.log.info("Playing the next episode",m);h=this.Qh.S8a();k=this.Qh.UJ();n=k.U[h];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.N !== k.U[q].N;});d=!this.Uj.Mea || !(null === (f=m.po) || void 0 === f?0:f.isUIAutoPlay);return p?this.Qh.xwa(h,p,m,d):Promise.reject(Error("Next episode not found"));};c.prototype.Bmc=function(m){var d,f;d=this.io.Mt(m,g.HH.jka);m=this.io.Mt(m,g.HH.IJa);f=this.Qh.xb;this.Uj.Mea && f.ei !== m && f.nz(m) && f.UY(d) !== m && this.Qh.Bl({S:d,bR:m});};b.HOa=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Y0a=void 0;r=a(1);c=a(1440);l=a(34);b.Y0a=new r.Gd(function(g){g(l.vj).to(c.KIa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w;function c(u,x,y,z,B,A){var C;C=this;this.um=u;this.config=y;this.Tq=z;this.debug=B;this.Ia=A;this.uob=[];this.yd={};this.log=x.fb("loadAsync");this.p5b=(0,v.uMa)(function(D){C.cdc=!0;C.startTime=C.Ia.Rb().ia(p.va);C.load(C.uob).then(function(){C.endTime=C.Ia.Rb().ia(p.va);D(w.mh);}).catch(function(E){C.endTime=C.Ia.Rb().ia(p.va);D(E);});});}Object.defineProperty(b,"__esModule",{value:!0});b.KIa=void 0;r=a(0);l=a(85);g=a(4);m=a(1441);d=a(56);f=a(1);h=a(7);k=a(11);n=a(64);p=a(5);q=a(111);v=a(600);t=a(18);w=a(17);c.prototype.j_=function(u){this.p5b(u);};c.prototype.register=function(u,x){this.debug.assert(!this.cdc);this.uob.push({J4b:this.jKb(x),errorCode:u});};c.prototype.af=function(u){this.debug.assert(void 0 === this.yd[u]);this.yd[u]=this.Ia.Rb().ia(p.va);};c.prototype.load=function(u){var x;x=this;return (0,m.Hib)(u).then(function(y){x.um.mark(d.Eo.Mk.trb);return y.reduce(function(z,B){return z.then(function(){return x.F4b(B);});},Promise.resolve()).then(function(){x.um.mark(d.Eo.Mk.rrb);});});};c.prototype.F4b=function(u){var x,y;x=this;y=u.J4b;!1;return this.Tq.Cs((0,p.$b)(this.config().ZHb),y()).catch(function(z){x.log.error("Failed to load component " + u.errorCode,z);x.um.mark(d.Eo.Mk.srb);if(z instanceof n.Us)throw {Ca:g.Y.qrb,errorCode:u.errorCode};z.errorCode=z.errorCode || u.errorCode;z.Ca=z.Ca || g.Y.prb;throw z;});};c.prototype.jKb=function(u){return function(){return new Promise(function(x,y){u(function(z){z.ja?x():y(z);});});};};a=c;a=r.__decorate([(0,f.$)(),r.__param(0,(0,f.l)(l.bN)),r.__param(1,(0,f.l)(h.jb)),r.__param(2,(0,f.l)(k.wc)),r.__param(3,(0,f.l)(n.JD)),r.__param(4,(0,f.l)(q.Nz)),r.__param(5,(0,f.l)(t.jd))],a);b.KIa=a;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.Hib=void 0;c=a(4);l=[c.aa.Dvb,c.aa.LNa,c.aa.MNa,c.aa.QNa,c.aa.INa,c.aa.GNa,c.aa.Jja,c.aa.Hvb,c.aa.JNa,c.aa.HNa,c.aa.yD,c.aa.DNa,c.aa.FNa,c.aa.NNa,c.aa.ONa,c.aa.PNa,c.aa.KNa,c.aa.ENa];(function(m){m.axb=function(d){var k;for(var f={},h=0;h < d.length;h++){k=d[h];if(f[k.errorCode])return {errorCode:k.errorCode,Ca:c.Y.nrb};f[k.errorCode]=1;}};m.bxb=function(d){var h;for(var f=0;f < d.length;f++){h=d[f];if(-1 === l.indexOf(h.errorCode))return {errorCode:h.errorCode,Ca:c.Y.orb};}};})(g || (g={}));b.Hib=function(m){return new Promise(function(d,f){var h;h=g.bxb(m);h && f(h);(h=g.axb(m)) && f(h);d(m.sort(function(k,n){return l.indexOf(k.errorCode) - l.indexOf(n.errorCode);}));});};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.ba=void 0;r=a(1);c=a(1443);l=a(115);b.ba=new r.Gd(function(g){g(l.wH).to(c.KPa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x,y){this.ah=t;this.heb=u;this.t_=y;this.b1=new Map();this.log=v.fb("ManifestFetcher");this.sh=w.sh;this.GJb=x().ESb;}Object.defineProperty(b,"__esModule",{value:!0});b.KPa=void 0;r=a(0);l=a(1);g=a(18);m=a(36);d=a(7);f=a(5);h=a(11);k=a(101);n=a(62);p=a(300);a=a(138);c.prototype.QJ=function(v,t,w){var u;u=this;t=void 0 === t?!0:t;w && this.JGb(v.N,w);return t && this.kba(v.N)?this.taa(v.N).catch(function(){return u.okb(v,t);}):this.okb(v,t);};c.prototype.kba=function(v){return this.sh.oZ(v,"manifest");};c.prototype.Y1=function(v,t){var w;w=this;this.GJb && this.sh.setData(v,"manifest",t,function(){return w.E_b(v,t?Promise.resolve(t):void 0);});};c.prototype.taa=function(v){var t;t=this;return this.sh.getData(v,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Ra.expiration <= (0,n.s9)())throw (t.sh.clearData(v,"manifest"),Error("Manifest has expired"));return w;});};c.prototype.E_b=function(v,t){var w;null === (w=this.b1.get(v)) || void 0 === w?void 0:w.forEach(function(u){return u(t);});this.b1.delete(v);};c.prototype.JGb=function(v,t){this.b1.has(v) || this.b1.set(v,[]);this.b1.get(v).push(t);};c.prototype.okb=function(v,t){var w,u,x;w=this;this.log.trace("Requesting a new manifest",v.N);u=this.ah.Rb().ia(f.va);x=(v.hj?this.qkc(v).catch(function(y){w.log.warn(y.message);return w.heb.Tf(w.log,v);}):this.heb.Tf(this.log,v)).then(function(y){var z,B;if(y.CB){z=y.CB;B={$fa:Promise.resolve(z),source:"manifest"};delete y.CB;w.sh.setData(v.N,"ldl",B,function(){z.close().catch(function(A){w.log.info("Unable to cleanup LDL session.",A);});});}v.ry === k.Np.PM && (y.mL=u,y.RR=w.ah.Rb().ia(f.va));return y;}).catch(function(y){t && w.Y1(v.N,void 0);w.log.error("Failed to fetch manifest",m.rd.pf(y));throw y;});t && this.Y1(v.N,x);return x;};c.prototype.qkc=function(v){var t;t=this;return new Promise(function(w,u){var x,y,z,B,A;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",v.N);B=null === (x=v.hj) || void 0 === x?void 0:x.t0;if(!B)return u(Error("Parent manifest does not exist."));A=null === (y=v.hj) || void 0 === y?void 0:y.ye;x=null === (z=B.Bv) || void 0 === z?void 0:z.find(function(C){return C.K === v.N && (void 0 === A || C.ye === A);});if(!x)return u(Error("Auxiliary manifest not found in parent manifest."));w(t.t_.create(x));});};q=c;q=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.jb)),r.__param(1,(0,l.l)(g.jd)),r.__param(2,(0,l.l)(p.Kia)),r.__param(3,(0,l.l)(k.Zka)),r.__param(4,(0,l.l)(h.wc)),r.__param(5,(0,l.l)(a.HM))],q);b.KPa=q;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.y0a=void 0;c=a(1445);l=a(175);r=a(1);g=a(80);m=a(11);b.y0a=new r.Gd(function(d){d(l.o3).to(c.gIa).la();});b.profile=new r.Gd(function(d){d(g.UM).PG(function(f){return (f=f.zb.get(m.wc)()) && f.FB?"browsertest":"browser";});});},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q){k=d.If.call(this,k,void 0 === q?"AppInfoConfigImpl":q) || this;k.config=n;k.Zga=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.gIa=void 0;r=a(0);l=a(1);g=a(39);m=a(46);d=a(47);f=a(33);a=a(289);la(c,d.If);c.prototype.IYb=function(k){return "" + this.I6a + (this.Zga.jga(k)?"/msl_v1":"");};c.prototype.VYb=function(k){return "" + this.host + (this.Zga.jga(k)?"/msl":"") + "/playapi";};Va.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},I6a:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.vP){case g.Tz.dzb:k="www.stage";break;case g.Tz.SVa:k="www-qa.test";break;case g.Tz.jOa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},w1a:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});h=c;r.__decorate([m.config(m.string,"apiEndpoint")],h.prototype,"endpoint",null);r.__decorate([m.config(m.string,"nqEndpoint")],h.prototype,"I6a",null);r.__decorate([m.config(m.string,"bindService")],h.prototype,"w1a",null);h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.vn)),r.__param(1,(0,l.l)(g.Lp)),r.__param(2,(0,l.l)(a.e6)),r.__param(3,(0,l.l)(f.A3)),r.__param(3,(0,l.optional)())],h);b.gIa=h;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Nlc=b.lzb=b.jzb=b.izb=b.kzb=void 0;c=a(15);l=a(14);b.kzb=function(g,m,d){for(d=(d - g.length) / m.length;0 < d--;){g+=m;}return g;};b.izb=function(g,m,d){d=(0,c.Og)(d)?d:"...";return g.length <= m?g:g.substr(0,g.length - (g.length + d.length - m)) + d;};b.jzb=function(g,m){var f;for(var d=1;d < arguments.length;++d){;}f=l.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof f[k]?f[k]:h;});};b.lzb=function(g){for(var m=g.length,d=new Uint16Array(m),f=0;f < m;f++){d[f]=g.charCodeAt(f);}return d.buffer;};b.Nlc=function(g){var m;m=new Uint8Array(g.length);Array.prototype.forEach.call(g,function(d,f){m[f]=d.charCodeAt(0);});return m;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(9);b=a(114);a=a(298);r.Ha.get(b.FM).kfa(a.fka.Tsb,function(c){var l,g;l=c.level;if(!mb._cad_global.config || l <= mb._cad_global.config.$4b){c=c.Sga();g=mb.console;1 >= l?g.error(c):2 >= l?g.warn(c):g.log(c);}});},function(r,b,a){var h,k,n,p,q;function c(v){var t,u;(0,k.EX)(v);if((0,p.Og)(v) && b.UNa.test(v)){t=v.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){u=(0,q.Ck)(t[w]);if(0 > u || !(0,p.LF)(u,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return v;}}}function l(v){var t;t=0;if(c(v) === v)return (v=v.split("."),t+=(0,q.Ck)(v[0]) << 24,t+=(0,q.Ck)(v[1]) << 16,t+=(0,q.Ck)(v[2]) << 8,t + (0,q.Ck)(v[3]));}function g(v){var t,w;(0,k.EX)(v);if((0,p.Og)(v) && v.match(b.VNa)){t=v.split(":");-1 !== t[t.length - 1].indexOf(".") && (v=m(t[t.length - 1]),t.pop(),t.push(v[0]),t.push(v[1]),v=t.join(":"));v=v.split("::");if(!(2 < v.length || 1 === v.length && 8 !== t.length) && (t=1 < v.length?d(v):t,v=t.length,8 === v)){for(;v--;){w=parseInt(t[v],16);if(!(0,p.LF)(w,0,h.wPa))return;}return t.join(":");}}}function m(v){var t;v=l(v) >>> 0;t=[];t.push((v >>> 16 & 65535).toString(16));t.push((v & 65535).toString(16));return t;}function d(v){var t,w,u;t=v[0].split(":");v=v[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === v.length && "" === v[0] && (v=[]);w=8 - (t.length + v.length);if(1 > w)return [];for(u=0;u < w;u++){t.push("0");}for(u=0;u < v.length;u++){t.push(v[u]);}return t;}function f(v){return -1 << 32 - v;}Object.defineProperty(b,"__esModule",{value:!0});b.Svb=b.Xvb=b.Uvb=b.Tvb=b.Wvb=b.Rvb=b.Vvb=b.oH=b.VNa=b.UNa=void 0;h=a(17);k=a(22);n=a(14);p=a(15);q=a(23);b.UNa=/^[0-9.]*$/;b.VNa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.oH="0000000000000000";b.Vvb=c;b.Rvb=l;b.Wvb=g;b.Tvb=m;b.Uvb=d;b.Xvb=function(v,t,w){var u,x,y,z;u=c(v);x=g(v);y=c(t);z=g(t);if(!u && !x || !y && !z || u && !y || x && !z)return !1;if(v === u)return (w=f(w),(l(v) & w) !== (l(t) & w)?!1:!0);if(v === x){v=v.split(":");t=t.split(":");for(u=(0,n.IM)(w / b.oH.length);u--;){if(v[u] !== t[u])return !1;}w%=b.oH.length;if(0 !== w)for((v=parseInt(v[u],16).toString(2),t=parseInt(t[u],16).toString(2),v=b.oH.substring(0,b.oH.length - v.length) + v,t=b.oH.substring(0,b.oH.length - t.length) + t,u=0);u < w;u++){if(v[u] !== t[u])return !1;}return !0;}return !1;};b.Svb=f;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(19);a(17);r=a(9);a(114);a(298);a(4);a(113);a(5);a=a(34);r.Ha.get(a.vj);!1;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);l=a(17);g=a(4);m=a(14);r=a(9);a=a(34);d=r.Ha.get(a.vj);d.register(g.aa.QNa,function(f){m.Rr && m.Rr.generateKey && m.Rr.importKey && m.Rr.unwrapKey?(d.af("wcs"),(0,c.RK)(m.Rr.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.af("wcdone");f(l.mh);},function(h){var k;h="" + h;if(0 <= h.indexOf("missing crypto.subtle"))k=g.Y.nma;else 0 <= h.indexOf("timeout waiting for iframe to load") && (k=g.Y.Czb);f({Ca:k,Ub:h});})):f({Ca:g.Y.nma});});},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(4);c=a(9);l=a(548);a=a(34);c.Ha.get(a.vj).register(r.aa.GNa,function(g){c.Ha.get(l.sLa)().then(function(){g({ja:!0});}).catch(function(m){c.log.error("error in initializing indexedDb debug tool",m);g({ja:!0});});});},function(r,b,a){var m,d,f,h;function c(k,n,p,q){var v,t,w;(0,m.ya)((0,h.qk)(k) && !(0,h.isArray)(k));q=q || "";v="";t=k.hasOwnProperty(f.d3) && k[f.d3];t && (0,d.zh)(t,function(u,x){v && (v+=" ");v+=u + '="' + g(x) + '"';});p=(n?n + ":":"") + p;t=q + "<" + p + (v?" " + v:"");w=k.hasOwnProperty(f.Gz) && k[f.Gz].trim && "" !== k[f.Gz].trim() && k[f.Gz];if(w)return t + ">" + g(w) + "</" + p + ">";k=l(k,n,q + "  ");return t + (k?">\n" + k + "\n" + q + "</" + p + ">":"/>");}function l(k,n,p){var q;(0,m.ya)((0,h.qk)(k) && !(0,h.isArray)(k));p=p || "";q="";(0,d.zh)(k,function(v,t){var x;if("$" != v[0])for(var w=(0,d.Hy)(t),u=0;u < w.length;u++){if((t=w[u],q && (q+="\n"),(0,h.qk)(t)))q+=c(t,n,v,p);else {x=(n?n + ":":"") + v;q+=p + "<" + x + ">" + g(t) + "</" + x + ">";}}});return q;}function g(k){if((0,h.Og)(k))return (0,d.Ywa)(k);if((0,h.Oa)(k))return ((0,m.DX)(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";(0,m.ya)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.Mjc=b.u3b=b.t3b=void 0;m=a(22);d=a(23);f=a(206);h=a(15);b.t3b=c;b.u3b=l;b.Mjc=g;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(303);g=a(212);m=a(19);d=a(17);f=a(4);h=a(22);k=a(9);n=a(85);p=a(56);q=a(83);v=a(23);t=a(14);w=a(15);u=a(44);x=a(113);y=a(5);r=a(34);z=a(517);B=a(141);A=a(66);C=a(80);D={};E=k.Ha.get(r.vj);E.register(f.aa.JNa,function(G){var K,I,M,H,J,N,P,W,V,S,U,fa,qa,xa;function F(Aa){Aa && Aa.userList && m.config.Rgc && (Aa.userList=[]);H({esn:g.fl.Yl,esnPrefix:g.fl.uq,authenticationKeyNames:m.config.AIb,systemKeyWrapFormat:m.config.Tic,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:qa,storeState:Aa,notifyMilestone:E.af.bind(E),log:P,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.Y.Fwb,MSL_READ_TIMEOUT:f.Y.Ewb}},{result:function(Oa){L(Oa);},timeout:function(){G({Ca:f.Y.EPa});},error:function(Oa){G(O(f.Y.EPa,void 0,Oa));}});}function L(Aa){var T,X,Q,ka;function Oa(){fa && k.Ha.get(q.Iz).create().then(function(ra){return ra.save(S,Q,!1);}).catch(function(ra){P.error("Error persisting msl store",(0,f.Uz)(ra));});}T=this;X=k.Ha.get(x.$M)((0,y.$b)(100));ka=J.extend({init:function(ra){this.aZa=ra;},getResponse:function(ra,R,ha){var wa,va;R=this.aZa;wa=R.uAa.Bf || wa;ra=(0,w.mya)(ra.body)?(0,k.I2)(ra.body):ra.body;(0,h.EX)(ra,"Msl should not be sending empty request");ra={url:R.url,rib:ra,withCredentials:!0,UE:"nq-" + R.method,headers:R.headers};R=this.aZa.timeout;ra.A9=R;ra.FAa=R;va=wa.download(ra,function(Ea){try{if(Ea.ja)ha.result({body:Ea.content});else if(400 === Ea.Xl && Ea.Ub)ha.result({body:Ea.Ub});else throw (0,v.Pe)(new N("HTTP error, SubCode: " + Ea.Ca + (Ea.Xl?", HttpCode: " + Ea.Xl:"")),{cadmiumResponse:Ea});}catch(Ya){ha.error(Ya);}});return {abort:function(){va.abort();}};}});V && Aa.addEventHandler("shouldpersist",function(ra){Q=ra.storeState;X.yl(Oa);});(0,v.Pe)(D,{zvc:function(){U=!0;},send:function(ra){function R(){var ha,wa;ha=ra.uAa;wa={method:ra.method,nonReplayable:ra.hgb,encrypted:ra.Mm,userId:ra.cqb,body:ra.body,timeout:2 * ra.timeout,url:new ka(ra),allowTokenRefresh:fa,sendUserAuthIfRequired:xa,shouldSendUserAuthData:m.config.Xgc};ha.email?(wa.email=ha.email,wa.password=ha.password || ""):U && (wa.useNetflixUserAuthData=!0);return wa;}return new Promise(function(ha,wa){var va;va=R();Aa.send(va).then(function(Ea){U && (U=!1);ha({ja:!0,body:Ea.body});}).catch(function(Ea){var Ya,wb;if(Ea.error){Ya=Ea.error.cadmiumResponse && Ea.error.cadmiumResponse.Ca?Ea.error.cadmiumResponse.Ca:Aa.isErrorReauth(Ea.error)?f.Y.DPa:Aa.isErrorHeader(Ea.error)?f.Y.ywb:f.Y.xwb;wb=Aa.getErrorCode(Ea.error);wa(O(Ya,wb,Ea.error));}else (P.error("Unknown MSL error",Ea),Ea.xc=Ea.subCode,wa({Ca:Ea.xc?Ea.xc:f.Y.Gwb}));});});},P_:Aa});B.PH.zO.mslFetch=function(ra,R){return c.__awaiter(T,void 0,void 0,function wa(){var va,Ea,Ya;return Ka(wa,function(wb){if(1 == wb.dG)return (va=k.Ha.get(C.UM),Ma(wb,D.send({uAa:{Bf:k.Ha.get(A.jx),profile:va},timeout:3E3,url:ra.toString(),body:null === R || void 0 === R?void 0:R.body,headers:{"Content-Type":"application/x-msl+json"},cqb:va,Fdc:!1,hgb:!0,Mm:!0})));Ea=wb.Jha;Ya={get body() {this.bodyUsed=!0;return Ea.body;}};return wb.return((Ya.bodyUsed=!1,Ya.ok=Ea.ja,Ya.status=Ea.ja?200:400,Ya.statusText=Ea.ja?"OK":"Bad Request",Ya.type="basic",Ya.url=ra.toString(),Ya.headers=new Headers({"Content-Type":"application/json"}),Ya.text=function(){return Promise.resolve(this.body);},Ya.json=function(){return Promise.resolve(JSON.parse(this.body));},Ya.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},Ya.clone=function(){return Object.assign({},this);},Ya.blob=function(){return this.arrayBuffer().then(function(nb){return new Blob([nb]);});},Ya.formData=function(){throw Error("Not implemented");},Ya.redirected=!1,Ya));});});};G(d.mh);k.Ha.get(z.Bka).q7b(D);}function O(Aa,Oa,T){var X,Q,ka,ra;ka={Ca:Aa,B$:Oa};if(T){ra=function(R){var ha;R=R || "" + T;if(T.stack){ha="" + T.stack;R=0 <= ha.indexOf(R)?ha:R + ha;}return R;};if(Q=T.cadmiumResponse){if(X=Q.Sf && Q.Sf.toString())Q.Sf=X;Q.Ca=Aa;Q.B$=Oa;Q.Ub=ra(T.message);Q.error={xc:Aa,vd:X,rC:Oa,data:T.cause,message:T.message};return Q;}ra=ra(T.errorMessage);X=(0,v.Ck)(T.internalCode) || (0,v.Ck)(T.error && T.error.internalCode);Q=void 0 !== T.yTb?(0,u.SAa)(T.yTb):void 0;}ra && (ka.Ub=ra);X && (ka.Sf=X);ka.error={xc:Aa,vd:X.toString(),rC:Oa,data:Q,message:ra};return ka;}(0,h.ya)(m.config);K=k.Ha.get(n.bN);I=p.Eo.Mk;if(t.ED && t.Rr && t.Rr.unwrapKey){try{M=mb.netflix.msl;H=M.createMslClient;J=M.IHttpLocation;N=M.MslIoException;}catch(Aa){G({Ca:f.Y.zwb});return;}P=(0,k.nk)("Msl");W=m.config.m7b;V=m.config.o7b;S=m.config.FB?"mslstoretest":"mslstore";M=l.LL.Blb;U=!0;fa=!M || M.ja;qa=(0,k.st)(m.config.FB?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");xa=!!m.config.yEa;k.Ha.get(q.Iz).create().then(function(Aa){W?Aa.remove(S).then(function(){F();}).catch(function(Oa){P.error("Unable to delete MSL store",(0,f.Uz)(Oa));F();}):V?Aa.load(S).then(function(Oa){K.mark(I.Bwb);F(Oa.value);}).catch(function(Oa){Oa.Ca == f.Y.kA?(K.mark(I.Dwb),F()):(P.error("Error loading msl store",(0,f.Uz)(Oa)),K.mark(I.Cwb),Aa.remove(S).then(function(){F();}).catch(function(T){G(T);}));}):F();}).catch(function(Aa){P.error("Error creating app storage while loading msl store",(0,f.Uz)(Aa));G(Aa);});}else G({Ca:f.Y.Awb});});},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(203);l=a(17);g=a(19);m=a(65);d=a(62);r=a(4);f=a(9);h=a(85);k=a(14);n=a(59);p=a(15);q=a(50);v=a(87);a=a(34);u=f.Ha.get(a.vj);u.register(r.aa.HNa,function(x){var z;function y(){var B,A,C;B=u.startTime;A={browserua:k.AH,browserhref:k.l5.href,initstart:B,initdelay:u.endTime - B};(B=k.Xh.documentMode) && (A.browserdm="" + B);(0,p.vQ)(g.config.g7a) && (A.fesn=g.config.g7a);Object.assign(A,(0,c.Yva)());C=k.ox && k.ox.timing;C && g.config.X4b.map(function(D){var E;E=C[D];E && (A["pt_" + D]=E - (0,d.Y2a)());});B=z.mYb();Object.entries(B).forEach(function(D){var E;E=oa(D);D=E.next().value;E=E.next().value;return A["m_" + D]=E;});B=w.Iv("startup","info",A,m.HD.rua);t.Dc(B);}w=f.Ha.get(v.Xz);t=f.Ha.get(q.Fo);z=f.Ha.get(h.bN);u.j_(function(){t.oa();(0,n.Mg)(y);});x(l.mh);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var l,g,m;function c(d){this.j=d;this.mediaType=l.u.Za;this.error=void 0;this.xFb=m.Ha.get(g.Vs);this.Mb=0;this.ob=1E3;}Object.defineProperty(b,"__esModule",{value:!0});b.dWa=void 0;l=a(60);g=a(69);m=a(9);c.prototype.appendBuffer=function(d){this.j.Ob.value.NCa({data:this.xFb.encode(new Uint8Array(d)),offset:this.Mb,W:this.ob});return !0;};c.prototype.gga=function(d,f){this.Mb=d;this.ob=f;};b.dWa=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(60);g=a(557);m=a(1458);d=a(307);f=a(19);h=a(17);k=a(209);n=a(601);p=a(62);r=a(4);q=a(9);v=a(533);t=a(14);w=a(304);b=a(34);u=a(65);x=a(167);y=a(360);q.Ha.get(b.vj).register(r.aa.DNa,function(z){var B,A,C,D,E,G,F,L;B=q.Ha.get(v.TQa).VOb();A=q.Ha.get(k.fja).tM;C=q.Ha.get(g.nQa).kr;D=new y.wia();E={Bea:(0,q.BY)("ASE"),IHb:(0,q.BY)("JS-ASE",void 0,"Platform"),nk:q.BY,storage:w.storage,HYb:t.EKa,getTime:p.Wo,Q9:function(O){return D.decode(O).buffer;},AQ:{},kr:C,rx:m.rx,tM:A,MediaSource:n.qQa,SourceBuffer:d.vka,Cq:function(){return [f.config.E8,f.config.I8];},Hv:function(O){u.Sp.forEach(function(K){K.jmb(O);});}};A=new Promise(function(O){w.storage.load("nh",function(K){E.AQ.nh=K.ja?K.data:void 0;O();});});C=new Promise(function(O){w.storage.load("lh",function(K){E.AQ.lh=K.ja?K.data:void 0;O();});});G=new Promise(function(O){w.storage.load("gh",function(K){E.AQ.gh=K.ja?K.data:void 0;O();});});F=new Promise(function(O){w.storage.load("sth",function(K){E.AQ.sth=K.ja?K.data:void 0;O();});});L=new Promise(function(O){w.storage.load("vb",function(K){E.AQ.vb=K.ja?K.data:void 0;O();});});Promise.all([A,C,L,F,G]).then(function(){return c.__awaiter(this,void 0,void 0,function K(){var I,M;return Ka(K,function(H){if(1 == H.dG)return (I=a(1460)(E),x.Lr.Le=a(602),x.Lr.Le.declare(l.bh),x.Lr.Le.set(a(179)(f.config),!0,(0,q.BY)("ASE")),Ma(H,l.SP(I)));M=H.Jha;M.open(x.Lr.Le,B);M.Nfc({audio:f.config.E8,video:f.config.I8},{Z:f.config.o1,ga:void 0});x.Lr.uj=M;z(h.mh);H.dG=0;});});}).catch(function(O){E.Bea.error("Exception loading location history from local storage",O);});});},function(r,b,a){var l,g,m,d,f,h,k;function c(){var n;n=new g.Ik();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Zc.bind(this);this.v7=h++;this.Fg=(0,m.nk)("ProbeRequest");this.xZa=l.ZTa;(0,d.ya)(void 0 !== this.xZa);this.Fi=b.rx.cd.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.rx=void 0;l=a(1459);g=a(70);m=a(9);d=a(22);f=a(23);h=0;(function(){function n(){return JSON.stringify({url:this.Fm,id:this.v7,affected:this.q6,readystate:this.Fi});}(0,f.Pe)(c.prototype,{eR:function(p){p.affected=this.q6;p.probed={requestId:this.v7,url:this.Fm,$c:this.$V,groupId:this.W6};this.emit(b.rx.ff.xU,p);},MAa:function(p){this.WEb=p.httpcode;p.affected=this.q6;p.probed={requestId:this.v7,url:this.Fm,$c:this.$V,groupId:this.W6};this.emit(b.rx.ff.CH,p);},open:function(p,q,v,t){if(!p)return (!1,!1);this.Fm=p;this.q6=q;this.$V=v;this.Fi=b.rx.cd.OPENED;this.lCb=t;this.xZa.zY(this);return !0;},ud:function(){!1;return !0;},Mi:function(){return this.v7;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Fi;},set:function(){}},status:{get:function(){return this.WEb;}},url:{get:function(){return this.Fm;}},Qsc:{get:function(){return this.q6;}},P4b:{get:function(){return this.lCb;}}});})();(function(n){n.ff={xU:"pr0",CH:"pr1"};n.cd={UNSENT:0,OPENED:1,jA:2,DONE:3,yM:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.rx=Object.assign(c,k);},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.ZTa=void 0;c=a(9);l=a(107);b.ZTa=(function(){(0,c.nk)("ProbeDownloader");return {zY:function(g){g={url:g.url,tbc:g};!1;l.Bf.wbc(g);}};})();},function(r,b,a){var f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C;function c(D,E,G){this.oq=D;this.groups=E;this.prefix=G;D=u(D,E,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function l(){this.V3a=function(){throw Error("Not implemented");};this.oRb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function g(){}function m(){return w?w:"0.0.0.0";}function d(D){D({chb:0,j2:0,Dab:0,f7a:0});}f=a(13);l.prototype.set=function(D,E){n[D]=E;p.save(D,E);};l.prototype.get=function(D,E){if(n.hasOwnProperty(D))return n[D];t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ja?(n[D]=G.data,E && E(G.data)):n[D]=void 0;});};l.prototype.remove=function(D){p.remove(D);};l.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};g.prototype.now=function(){return q();};g.prototype.fa=function(){return v();};g.prototype.sAa=function(D){return D + q() - v();};g.prototype.OAa=function(D){return D + v() - q();};c.prototype.q4a=function(D){var E;E=[];this.prefix && Array.isArray(this.prefix)?E.push.apply(E,ia(this.prefix)):this.prefix && E.push(this.prefix);E.push(D);return new c(this.oq,this.groups,E);};x=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){h=D.Bea;u=D.nk;p=D.storage;n=D.AQ;q=D.HYb;v=D.getTime;t=D.IHb;y=D.kr;C=D.rx;z=D.tM;B=D.SourceBuffer;A=D.MediaSource;w=D.Bvc;k=D.Hv;return {name:"cadmium",Hv:k,Bea:h,storage:new l(),Storage:l,time:new g(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,kr:y,tM:z,Jwb:B,MediaSource:A,rx:C,Oq:{name:m},memory:{LXb:d},Cq:D.Cq,Q9:D.Q9,ping:function(E){fetch(E).catch(function(){});}};};},function(r,b,a){r.exports={EventEmitter:a(1462),gf:a(1463)};},function(r){function b(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Rd)return (this.Rd={},this.Rd[c]=[l],!0);g=this.Rd[c];return void 0 === g?(this.Rd[c]=[l],!0):0 > g.indexOf(l)?(g.push(l),!0):!1;}function a(c,l){c=this.Rd?this.Rd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Rd)return !1;g=this.Rd[c];if(void 0 === g)return !1;l=g.indexOf(l);if(0 > l)return !1;if(1 === g.length)return (delete this.Rd[c],!0);g.splice(l,1);return !0;},kb:a,emit:a,removeAllListeners:function(c){this.Rd && (void 0 === c?delete this.Rd:delete this.Rd[c]);return this;}};},function(r){function b(c,l,g,m){c.trace(":",g,":",m);l(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,g,m){g=m?g.bind(m):g;m=!1;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addEventListener)m=c.addEventListener(l,g);else if("function" === typeof c.addListener)m=c.addListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,m;g=l[0];m=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(m,l):"function" === typeof g.removeListener && g.removeListener(m,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var l,g;function c(m,d){var f,h;f=(0,g.lj)(m,"MSS");if(l.config.G6b)return {Q$:"mss",VC:function(k){var n,p;if(k.lower && 2160 <= k.height)a:{for(n=k;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{p=mb.MSMediaKeys;h=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");h=!0;}h || (f.warn("Restricting resolution due screen size",{MaxHeight:k.height}),d.Or.set({reason:"microsoftScreenSize",height:k.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Lwb=void 0;r=a(140);l=a(19);g=a(9);(0,r.oU)(c);b.Lwb=c;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(140);c=a(9);l=a(11);g=a(1466);m=a(18);(0,r.oU)(function(d,f){var h,k;h=c.Ha.get(l.wc);if(h().QRb){k=c.Ha.get(m.jd);return new g.pLa(d,f,c.vg,k,h);}});},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q,v){var t;t=this;this.j=k;this.Ga=n;this.qa=p;this.Ia=q;this.Yda={};this.hP={};this.pS=[];this.Gbb=1E3;this.Bga=l.vPa;this.kBa=function(){var w;w=t.j.Db.value === d.nb.Xc && t.j.state.value === d.jc.Ue && t.j.K === t.Ga.K;t.FZ?w || (clearInterval(t.FZ),t.FZ=void 0,t.YZ=void 0):w && (t.FZ=mb.setInterval(t.ujc,t.Gbb));};this.ujc=function(){var w,u,x,y;u=t.j.Qe.value;u=u && u.stream;u=null !== (w=u && u.height) && void 0 !== w?w:null;if(null !== u && 0 < u){w=t.Ia.Rb().ia(h.va);x=t.j.rf.NJ();if(x){if(t.YZ && w - t.YZ.time < 2 * t.Gbb && u === t.YZ.height){y=x - t.YZ.PRb;t.npa(u,y);t.AGb(u,y);}t.YZ={time:w,PRb:x,height:u};t.j.Aea && t.j.Aea.Tfc(t.Yda);}}};this.Vua=function(){var w;w={};t.hP && t.pS.forEach(function(u){var x,y,z;x=t.hP[u];if(x){y=0;z=0;(0,f.zh)(x,function(B,A){z+=(0,f.Ck)(B);y+=A;});w[u]=z / y;}});return w;};this.RJ=function(w){var u;u={};w.forEach(function(x){u[x]={};});t.hP && ((0,g.p3)(w),t.pS.forEach(function(x){var y,z,B,A;y=t.hP[x];if(y){z=0;B=0;(0,f.zh)(y,function(F,L){z+=L;});A=Object.keys(y).map(Number);(0,g.p3)(A);for(var C=A.length - 1,D=A[C],E=w.length - 1;0 <= E;E--){for(var G=w[E];D >= G && 0 <= C;){(D=y[D]) && (B+=D);D=A[--C];}u[G][x]=(0,m.Op)(B / z * 100);}}}));return u;};this.log=this.qa.fb("DFF",k);this.uac=v().TRb;this.W5b=v().RRb;this.ufb=v().SRb;this.Ga.bta={Vua:this.Vua,RJ:this.RJ};k.state.addListener(this.kBa);k.Db.addListener(this.kBa);k.addEventListener(d.ka.xK,this.kBa);}Object.defineProperty(b,"__esModule",{value:!0});b.pLa=void 0;l=a(17);g=a(44);m=a(14);d=a(16);f=a(23);h=a(5);c.prototype.VC=function(k){return k.lower && k.height > this.ufb?k.height >= this.OZb():!1;};c.prototype.npa=function(k,n){var p;p=this.Yda[k];p || (this.Yda[k]=p=[],k > this.ufb && (this.pS.push(k),(0,g.p3)(this.pS)));0 < n && !(this.L_ && this.L_ < k) && (this.L_=k);p.push(n);p.length > this.W5b && p.shift();};c.prototype.AGb=function(k,n){var p;p=this.hP[k];p || (this.hP[k]=p={});k=p[n];p[n]=k?k + 1:1;};c.prototype.OZb=function(){var p,q;if(this.L_){for(var k=this.pS.length,n=0;n < k;n++){p=this.pS[n];if(p >= this.L_ && p < this.Bga){q=this.Yda[p];if(q && this.VKb(this.uac,q) && this.Bga != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Ga.Or.set({reason:"droppedFrames",height:p}),this.Bga=p);}}this.L_=void 0;}return this.Bga;};c.prototype.VKb=function(k,n){var t,w;for(var p=k.length,q=n.length,v=0;v < p;v++){t=k[v];w=t[0];t=t[1];for(var u=0;u < q;u++){if(n[u] >= t && 0 >= --w)return !0;}}return !1;};Va.Object.defineProperties(c.prototype,{Q$:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.pLa=c;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});r=a(140);c=a(19);l=a(9);g=a(1468);(0,r.oU)(function(m,d){if(c.config.x3b)return new g.tOa(m,d,l.vg,c.config,l.za,l.Jc);});},function(r,b,a){var l,g,m;function c(d,f,h,k,n,p){var q;q=this;this.j=d;this.Ga=f;this.qa=h;this.config=k;this.za=n;this.Jc=p;this.nHb=function(v){!0 === v.oldValue && !1 === v.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.tec());};this.skc=function(v){var t,w,u;q.log.trace("UhdKeyStatus: " + v.oldValue + " -> " + v.newValue);w=null === v || void 0 === v?void 0:v.newValue;u=null === v || void 0 === v?void 0:v.oldValue;"usable" !== w && (q.Mfc(w,(null === (t=null === v || void 0 === v?void 0:v.jj) || void 0 === t?void 0:t.height) || 0),"usable" === u && (v=q.za.nf.Ea(q.z3b),q.log.error("UHD KeyStatus unexpectedly changed: " + v.ia(m.va))));};this.ycb=!1;this.log=this.qa.fb("KeyStatusStreamFilter",this.j);this.q0a=new g.ic(!1,this.nHb);this.rkc=new g.ic(void 0,this.skc);}Object.defineProperty(b,"__esModule",{value:!0});b.tOa=void 0;l=a(233);g=a(74);m=a(5);c.prototype.VC=function(d){return d.Kj && (this.ric(),this.q0a.set(this.ycb && this.j0b),d.lower && 1080 < d.height && !this.q0a.value)?!0:!1;};c.prototype.ZLb=function(){this.j0b=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.xab);};c.prototype.Xfb=function(d){var f;f=this;Object.entries(d).forEach(function(h){var k,n,p;k=oa(h);h=k.next().value;k=k.next().value;h=null !== (p=null === (n=f.y3b) || void 0 === n?void 0:n[h]) && void 0 !== p?p:0;1080 < h && (f.ycb="usable" === k,f.rkc.set(k,{height:h}));});};c.prototype.ric=function(){var d,f,h;d=this;h=this.Ga.Ye;!this.b3b && (0,l.Mxa)(h) && (this.b3b=!0,this.y3b=null === (f=null === h || void 0 === h?void 0:h.context) || void 0 === f?void 0:f.tca,this.Xfb(h.keyStatuses.value),h.keyStatuses.addListener(function(k){return d.Xfb(k.newValue);}),this.Jc.zl((0,m.$b)(this.config.xab),function(){return d.ZLb();}),this.z3b=this.za.nf);};c.prototype.Mfc=function(d,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:d});this.Ga.Or.set({reason:"keyStatus",height:f});};Va.Object.defineProperties(c.prototype,{Q$:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.tOa=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(140);c=a(19);l=a(9);(0,r.oU)(function(g,m){var d,f,h,k;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.tkc);f=d[m.oe];if(c.config.ukc && f){h={};k=(0,l.lj)(g,"MediaStreamFilter");return {Q$:"uiLabel",VC:function(n){if(n.lower && n.height > f)return (h[n.height] || (h[n.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:n.height}),m.Or.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(19);l=a(17);r=a(4);g=a(9);m=a(174);a=a(34);g.Ha.get(a.vj).register(r.aa.FNa,function(d){c.config.maa && g.Ha.get(m.tMa).start();d(l.mh);});},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(212);l=a(141);g=a(17);m=a(19);r=a(4);d=a(9);f=a(22);h=a(23);k=a(15);n=a(50);p=a(87);a=a(34);d.Ha.get(a.vj).register(r.aa.NNa,function(q){var v,t;v=(0,d.nk)("NccpApi");t=(0,h.P0a)(["info","warn","trace","error"]);l.PH.zO.nccp={getEsn:function(){return c.fl.Yl;},getPreferredLanguages:function(){return m.config.Sr.nCa;},setPreferredLanguages:function(w){(0,f.ya)((0,k.isArray)(w) && (0,k.vQ)(w[0]));m.config.Sr.nCa=w;},queueLogblob:function(w,u,x){var y;if(w && u)if((u=u.toLowerCase(),t[u])){y=d.Ha.get(n.Fo);w=d.Ha.get(p.Xz).Iv(w,u,x);y.Dc(w);}else v.warn("Invalid severity",{severity:u});},flushLogblobs:function(){d.Ha.get(n.Fo).flush(!0);}};q(g.mh);});},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(34);b=a(4);c=a(7);l=a(45);g=a(302);m=a(17);d=a(19);f=a(9);h=a(65);k=a(141);n=a(592);p=a(120);f.Ha.get(r.vj).register(b.aa.PNa,function(q){var w,u,x;function v(y,z){return void 0 === y || void 0 === z?Promise.reject("Invalid email and/or password"):f.Ha.get(n.PRa).Tf(this.log,{},{email:y,password:z}).then(function(){});}function t(y){var z;z=f.Ha.get(p.OH);return z.i7a.fetch(y,z);}if(d.config.OTb){w=f.Ha.get(g.ala);u=f.Ha.get(l.Rp);x=f.Ha.get(c.jb).fb("Test");k.PH.zO.test={setPboRequestsListener:function(y){return w.egc(y);},playbacks:h.Sp,getPlayback:function(y){return h.Sp.find(function(z){return z.sa === y;});},playgraphManager:{isNextSegmentReady:function(y,z){var B,A;return void 0 !== (null === (A=null === (B=h.Sp.find(function(C){return C.sa === y;})) || void 0 === B?void 0:B.qb) || void 0 === A?void 0:A.$ua(z));},isNextSegmentBuffering:function(y,z){var B,A;return null === (A=null === (B=h.Sp.find(function(C){return C.sa === y;})) || void 0 === B?void 0:B.qb) || void 0 === A?void 0:A.VY(z).YW;}},device:{esn:mb._cad_global.device.Yl,esnPrefix:u.uq,errorPrefix:u.Kt},log:{info:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.info(y,B);},error:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.error(y,B);},warn:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.warn(y,B);},trace:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.trace(y,B);},log:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.log(y,B);},debug:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.debug(y,B);}},login:v,getManifest:t};}q(m.mh);});},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperty(b,"__esModule",{value:!0});r=a(1474);c=a(19);l=a(65);b=a(7);g=a(9);m=a(50);d=a(114);f=a(22);h=a(15);mb.netflix=mb.netflix || ({});(0,f.ya)(!mb.netflix.player);mb.netflix.player={VideoSession:r.RWa,diag:{togglePanel:function(k,n){var p;p=[];if(!c.config || c.config.d1){switch(k){case "info":p=l.Sp.map(function(q){return q.Aea;});break;case "streams":p=l.Sp.map(function(q){return q.Dea;});break;case "log":p=[];}p.forEach(function(q){(0,h.xd)(n)?n?q.show():q.Ay():q.toggle();});}},addLogMessageSink:function(k){g.Ha.get(m.Fo).addListener({Pxc:function(){},x6b:function(n){k({data:n.data});}});}},log:(0,g.nk)("Ext"),LogLevel:b.Jk,addLogSink:function(k,n){g.Ha.get(d.FM).kfa(k,n);},getVersion:function(){return "6.0039.463.911";},getMostRecentPlaybackDiagnosticGroups:function(){var k;return null === (k=l.HD.Ffb) || void 0 === k?void 0:k.u5a.QY();}};},function(r,b,a){var l,g,m,d,f,h;function c(k){var n;n=m.PH.call(this,k) || this;n.createPlayer=function(p,q){var v,t,w;q=void 0 === q?{}:q;q="number" === typeof q?{Gl:q}:q;v=l.Ha.get(g.SM);t=l.Ha.get(f.HM).create(q.manifest);w=l.Ha.get(d.xla);p=v.ZOb(p);v=l.Ha.get(h.vla).create(p);p=v.dva();w=w.n4a(v);w.addEpisode({movieId:p.N,playbackParams:n.f1a(q,p),manifest:t});return w;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.RWa=void 0;l=a(9);g=a(121);m=a(141);d=a(313);f=a(138);h=a(312);la(c,m.PH);b.RWa=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(141);l=a(212);g=a(17);m=a(44);r=a(4);d=a(9);f=a(171);h=a(22);k=a(15);n=a(14);b=a(34);p=a(62);q=a(80);v=a(164);t=a(169);d.Ha.get(b.vj).register(r.aa.ONa,function(w){var A;function u(){return l.fl.Yl;}function x(C){var D;D=d.Ha.get(q.UM);d.Ha.get(v.tU)().then(function(E){var G,F;G=E.P_.getStateForMdx(D);F=G.cryptoContext;E=G.masterToken;G=G.userIdToken;E && G?((0,h.ya)(F),E=["1",(0,d.ZA)(JSON.stringify(E.toJSON())),(0,d.ZA)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:E,encrypt:function(L,O){L=(0,k.Og)(L)?(0,d.VS)(L):L;F.encrypt(L,{result:function(K){K=(0,d.ZA)(K);O({success:!0,mslEncryptionEnvelopeBase64:K});},timeout:function(){O({success:!1});},error:function(K){(0,h.ya)(!1,"Encrypt error: " + K);O({success:!1});}});},decrypt:function(L,O){L=(0,d.st)(L);F.decrypt(L,{result:function(K){O({success:!0,text:(0,d.I2)(K)});},timeout:function(){O({success:!1});},error:function(K){(0,h.ya)(!1,"Decrypt error: " + K);O({success:!1});}});},hmac:function(L,O){L=(0,k.Og)(L)?(0,d.VS)(L):L;F.sign(L,{result:function(K){O({success:!0,hmacBase64:(0,d.ZA)(K)});},timeout:function(){O({success:!1});},error:function(K){(0,h.ya)(!1,"Hmac error: " + K);O({success:!1});}});}}})):((0,h.ya)(!1,"Must login first"),C({success:!1}));});}function y(C,D){var E;E=(0,d.st)(C);C=E.subarray(32,48);E=E.subarray(0,32);if(16 != C.length || 32 != E.length)throw Error("Bad shared secret");Promise.all([(0,m.RK)(n.Rr.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,m.RK)(n.Rr.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function E(G){G=new f.KT((0,d.st)(G));G.JC();return {iv:G.njb(),cTb:G.njb()};}return {encrypt:function(G,F){var L;G=(0,k.Og)(G)?(0,d.VS)(G):G;L=n.ED.getRandomValues(new Uint8Array(16));(0,m.RK)(n.Rr.encrypt({name:"AES-CBC",iv:L},C,G)).then(function(O){var K,I;O=new Uint8Array(O);K=[];I=new f.KT(K);I.Iha(2);I.Qqb(L);I.Qqb(O);O=(0,d.ZA)(K);F({success:!0,encryptedDataAsn1Base64:O});},function(O){(0,h.ya)(!1,"Encrypt error: " + O);F({success:!1});});},decrypt:function(G,F){var L;L=E(G);G=L.iv;L=L.cTb;(0,m.RK)(n.Rr.decrypt({name:"AES-CBC",iv:G},C,L)).then(function(O){O=new Uint8Array(O);F({success:!0,text:(0,d.I2)(O)});},function(O){(0,h.ya)(!1,"Decrypt error: " + O);F({success:!1});});},hmac:function(G,F){G=(0,k.Og)(G)?(0,d.VS)(G):G;(0,m.RK)(n.Rr.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(L){L=new Uint8Array(L);F({success:!0,hmacBase64:(0,d.ZA)(L)});},function(L){(0,h.ya)(!1,"Hmac error: " + L);F({success:!1});});}};}function B(){return (0,p.s9)();}A=d.Ha.get(t.eH);if(A.Rbb || A.$B)c.PH.zO.mdx={getEsn:u,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:B};w(g.mh);});},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(19);l=a(17);r=a(4);g=a(9);b=a(34);m=a(120);g.Ha.get(b.vj).register(r.aa.KNa,function(f){var h,k,n;if(c.config.qu){h=(0,g.nk)("PlayerPredictionModel");k=g.Ha.get(m.OH);n=a(1477);h.log=h.trace.bind(h);d=new n({},h,{g1:function(){},Gdc:function(){}},k,{eL:function(){}});mb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}f(l.mh);});},function(r,b,a){var m,d,f,h,k,n,p;function c(q,v,t,w,u,x){this.K=this.N=q;this.priority=v;this.ue=t;x && x.oe && (this.oe=x.oe);void 0 !== w && (this.sR=w);this.Nm=u;this.Gb=x;}function l(q,v,t,w,u){f(void 0 !== w,"video preparer is null");f(void 0 !== u,"ui preparer is null");this.H=v || console;this.H=v;this.Da=t;this.yFb=w;this.lFb=u;this.uZa=n.kCa;this.gO=[];this.Ooa=!1;this.fV=0;new p().on(n,"changed",g,this);this.reset();}function g(){this.H.log("config changed");n.kCa && (this.uZa=n.kCa);n.O_ !== this.SN && (this.reset(),this.qDa());}m=a(315);d=a(316);b=a(603);f=b.assert;h=b.u7a;k=a(1478);n=a(604).config;p=a(1479).gf;n.declare({kCa:["ppmConfig",{aoc:{Cgb:0,Bgb:2,zgb:0,Agb:5,omb:0},Qrc:{Cgb:0,Bgb:1,zgb:0,Agb:3,omb:1E3},noc:{Cgb:0,Bgb:1,zgb:0,Agb:3,omb:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.mna=!0;this.SN=n.O_;this.H.log("create model: " + n.O_,n.Qkb,n.c3a);switch(n.O_){case "modelone":this.SN=new k(this.H);break;default:this.SN=new k(this.H);}};l.prototype.qDa=function(){var v,t;if(!1 === this.Ooa){this.Ooa=!0;for(var q=0;q < this.gO.length;q++){this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.gO[q]));v=this.P3a(this.gO[q]);t=this.n8a(v);this.SN.update(v,t);this.mna=!1;}this.gO=[];}};l.prototype.update=function(q){var v,t,w;this.H.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Sb && q.Sb[0]){!1 === this.Ooa && this.gO.length < n.V5b && this.gO.push(q);v=this.P3a(q);t=this.n8a(v);this.H.log("actionType",t);v="mlmodel" == n.O_?this.SN.update(q,t):this.SN.update(v,t);v=this.fWb(v,n.o3b || 1);this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(v));0 === this.fV && (this.fV=m(),this.Da && this.Da.g1 && this.Da.g1({TQb:this.fV}));if(this.Da && this.Da.Gdc){this.gXb();w=[];v.forEach(function(u){w.push({vyc:u.N});});JSON.stringify(q);JSON.stringify(v);}this.yFb.eL(v);this.lFb.eL(v);this.mna=!1;}};l.prototype.gXb=function(){m();};l.prototype.g1=function(){this.fV=m();this.Da && this.Da.g1 && this.Da.g1({TQb:this.fV});};l.prototype.P3a=function(q){var v,t,w,u,x;v={};w=q.Sb || [];u=(function(y){var z,B;z={};x=d.aU.name.indexOf(y.context);z.context=0 <= x?x:d.aU.eA;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];t=y.list || [];t.forEach((function(A){B={N:A.N,ue:A.ue,index:A.index,sR:A.sR,Pea:A.Pea,list:A.list,Gb:A.Gb};void 0 !== A.property && (x=d.CM.name.indexOf(A.property),B.property=0 <= x?x:d.CM.eA);z.list.push(B);}).bind(this));v.Sb.push(z);}).bind(this);if(void 0 !== q.direction){x=d.kx.name.indexOf(q.direction);v.direction=0 <= x?x:d.kx.eA;}void 0 !== q.uY && (v.Kuc=q.uY.rowIndex,v.Juc=q.uY.SLb);v.uY=q.uY;v.Sb=[];w.forEach(u);return v;};l.prototype.n8a=function(q){var v,t,w;v=q.direction || d.kx.eA;t=q.uY;w=q.Sb || [];!0 === this.mna?q=d.Hz.hMa:!0 === w.some(this.g0b)?(q=d.Hz.yU,this.sfa(w,v,t)):q=w[0].context === d.aU.O5?d.Hz.O5:v === d.kx.iUa || v === d.kx.xOa?d.Hz.DUa:d.Hz.eA;return q;};l.prototype.g0b=function(q){return (q.list || []).some(function(v){return v.property === d.CM.yU || v.property === d.CM.wKa;});};l.prototype.sfa=function(q,v,t){var w,u;this.H.log("reportPlayFocusEvent: ",v,t);w={};u=h(q);this.Da && this.Da.sfa && (w.Auc=m(),w.direction=d.kx.name[v],t && (w.rowIndex=t.rowIndex,w.d3a=t.SLb),void 0 !== u.vl && (w.requestId=q[u.vl].requestId),this.Da.sfa && this.Da.sfa(w));};l.prototype.fWb=function(q,v){for(var t=q.length,w=[],u,x,y,z,B=0;B < t;B++){x=q[B];u=Math.floor(B / v) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var A=0;A < Math.min(n.OLb,z) && !(y[A].Nm=x.Nm,this.V_a(y[A],u,w),w.length >= n.Feb);A++){;}}else this.V_a(x,u,w);if(w.length >= n.Feb)break;}return w;};l.prototype.V_a=function(q,v,t){var u,x;function w(y){y.oe && (y.Gb || (y.Gb={}),y.Gb.oe=y.oe);return y.Gb;}u=q.Pea;if(void 0 !== u && u instanceof Array)u.forEach(function(y){void 0 !== y.N && (x=w(y),t.push(new c(y.N,v,y.ue,y.sR,q.Nm,x)));});else if(void 0 !== u && void 0 !== u.N){u=q.Pea;x=w(u);t.push(new c(u.N,v,u.ue,u.sR,q.Nm,x));}void 0 !== q.N && (x=w(q),t.push(new c(q.N,v,q.ue,q.sR,q.Nm,x)));};l.prototype.KJ=function(q){var v;v=this.uZa;return q?v[q]:v;};r.exports=l;},function(r,b,a){var g,m,d,f,h,k,n,p,q,v;function c(t,w){this.vl=t;this.Pn=w;}function l(t){this.H=t;this.reset();}g=a(315);m=a(316);b=a(603);d=a(604).config;f=b.ZWb;h=b.GWb;k=b.WQb;n=b.r8b;p=b.q8b;q=b.p8b;v=b.u7a;l.prototype.constructor=l;l.prototype.reset=function(){this.vZa=void 0;this.Ol=[];this.jZa=this.kZa=!1;};l.prototype.update=function(t,w){var u;this.Ol && (this.Ol=this.Ol.filter(this.Ugc,this));if(!1 === this.kZa){u=f(t.Sb).slice(0,d.I4a);0 < u.length && (this.IK(u,m.Mz.ym),this.kZa=!0,this.Ol=this.cM(u.concat(this.Ol)));}!1 === this.jZa && (u=h(t.Sb).slice(0,d.I4a),0 < u.length && (this.IK(u,m.Mz.ym),this.jZa=!0,this.Ol=this.cM(u.concat(this.Ol))));switch(w){case m.Hz.hMa:w=this.B_b(t);break;case m.Hz.DUa:w=this.L_b(t);break;case m.Hz.O5:w=this.M_b(t);break;case m.Hz.yU:w=this.G_b(t);break;default:w=this.y_b(t);}this.vZa=t;return w;};l.prototype.B_b=function(t){t=n(t.Sb,d.Qkb,d.c3a);this.IK(t,m.Mz.ym);return this.Ol=this.cM(this.Ol.concat(t));};l.prototype.L_b=function(t){var w,u;this.H.log("handleScrollHorizontal");w=t.Sb;t=n(w,d.Rkb,d.e3a);u=k(w,this.vZa.Sb);w=w[u].list.slice(0,d.Dec);w.concat(t);this.IK(w,m.Mz.cma);return this.cM(w.concat(this.Ol));};l.prototype.IK=function(t,w){t.forEach(function(u){if(void 0 === u.HE || u.HE < w)u.HE=w;void 0 === u.FS && (u.FS=g());void 0 === u.Nm && (u.Nm=g());});};l.prototype.M_b=function(t){this.H.log("handleSearch");t=p(t.Sb,d.cfc);this.IK(t,m.Mz.EUa);this.Ol=t.concat(this.Ol);return this.Ol=this.cM(this.Ol);};l.prototype.G_b=function(t){var w,u,x,y,z;this.H.log("handlePlayFocus: ",d.rZ);w=t.direction;u=t.Sb;t=[];x=v(u);if(void 0 !== x.vl)switch((t.push(x),w)){case m.kx.iUa:for(w=1;w < d.rZ;w++){t.push(new c(x.vl,x.Pn + w));}t.push(new c(x.vl - 1,x.Pn));t.push(new c(x.vl + 1,x.Pn));break;case m.kx.xOa:for(w=1;w < d.rZ;w++){t.push(new c(x.vl,x.Pn - w));}t.push(new c(x.vl - 1,x.Pn));t.push(new c(x.vl + 1,x.Pn));break;case m.kx.vzb:t.push(new c(x.vl - 1,x.Pn));for(w=1;w <= d.rZ / 2;w++){t.push(new c(x.vl,x.Pn + w));t.push(new c(x.vl,x.Pn - w));}break;case m.kx.$tb:for((t.push(new c(x.vl + 1,x.Pn)),w=1);w <= d.rZ / 2;w++){t.push(new c(x.vl,x.Pn + w));t.push(new c(x.vl,x.Pn - w));}}y=[];t.forEach(function(B){z=q(u,B.vl,B.Pn);void 0 !== z && y.push(z);});this.IK(y,m.Mz.cma);return this.cM(y.concat(this.Ol));};l.prototype.y_b=function(t){this.H.log("ModelOne: handleDefaultCase");t=n(t.Sb,d.Rkb,d.e3a);this.IK(t,m.Mz.cma);return this.cM(t.concat(this.Ol));};l.prototype.Ugc=function(t){return t.HE == m.Mz.ym | t.HE == m.Mz.EUa & g() - t.FS < d.C0b;};l.prototype.cM=function(t){var w,u,x,y,z,B,A;w=[];u={};y=0;z=t.length;for(x=0;x < z;x++){B=t[x].N;A=t[x];!1 === (B in u)?(w.push(A),u[B]=y,y++):(B=w[u[B]],A.Nm < B.Nm && (B.Nm=A.Nm),A.HE > B.HE && (B.HE=A.HE),A.FS > B.FS && (B.FS=A.FS));}return w;};r.exports=l;},function(r,b,a){r.exports={EventEmitter:a(1480),gf:a(1481)};},function(r){function b(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Rd)return (this.Rd={},this.Rd[c]=[l],!0);g=this.Rd[c];return void 0 === g?(this.Rd[c]=[l],!0):0 > g.indexOf(l)?(g.push(l),!0):!1;}function a(c,l){c=this.Rd?this.Rd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Rd)return !1;g=this.Rd[c];if(void 0 === g)return !1;l=g.indexOf(l);if(0 > l)return !1;if(1 === g.length)return (delete this.Rd[c],!0);g.splice(l,1);return !0;},kb:a,emit:a,removeAllListeners:function(c){this.Rd && (void 0 === c?delete this.Rd:delete this.Rd[c]);return this;}};},function(r){function b(c,l,g,m){c.trace(":",g,":",m);l(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,g,m){g=m?g.bind(m):g;m=!1;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addEventListener)m=c.addEventListener(l,g);else if("function" === typeof c.addListener)m=c.addListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,m;g=l[0];m=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(m,l):"function" === typeof g.removeListener && g.removeListener(m,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(mb);})(window);}).call(window);